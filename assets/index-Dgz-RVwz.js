var jT=Object.defineProperty;var UT=(t,e,n)=>e in t?jT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var nn=(t,e,n)=>UT(t,typeof e!="symbol"?e+"":e,n);function VT(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var HV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function BT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var L4={exports:{}},Ig={},R4={exports:{}},Ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Of=Symbol.for("react.element"),zT=Symbol.for("react.portal"),qT=Symbol.for("react.fragment"),WT=Symbol.for("react.strict_mode"),HT=Symbol.for("react.profiler"),$T=Symbol.for("react.provider"),GT=Symbol.for("react.context"),KT=Symbol.for("react.forward_ref"),YT=Symbol.for("react.suspense"),QT=Symbol.for("react.memo"),XT=Symbol.for("react.lazy"),y5=Symbol.iterator;function JT(t){return t===null||typeof t!="object"?null:(t=y5&&t[y5]||t["@@iterator"],typeof t=="function"?t:null)}var O4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D4=Object.assign,M4={};function Rc(t,e,n){this.props=t,this.context=e,this.refs=M4,this.updater=n||O4}Rc.prototype.isReactComponent={};Rc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Rc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function F4(){}F4.prototype=Rc.prototype;function R2(t,e,n){this.props=t,this.context=e,this.refs=M4,this.updater=n||O4}var O2=R2.prototype=new F4;O2.constructor=R2;D4(O2,Rc.prototype);O2.isPureReactComponent=!0;var w5=Array.isArray,j4=Object.prototype.hasOwnProperty,D2={current:null},U4={key:!0,ref:!0,__self:!0,__source:!0};function V4(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)j4.call(e,r)&&!U4.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Of,type:t,key:s,ref:o,props:i,_owner:D2.current}}function ZT(t,e){return{$$typeof:Of,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function M2(t){return typeof t=="object"&&t!==null&&t.$$typeof===Of}function ek(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var _5=/\/+/g;function Cm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ek(""+t.key):e.toString(36)}function sp(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Of:case zT:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Cm(o,0):r,w5(i)?(n="",t!=null&&(n=t.replace(_5,"$&/")+"/"),sp(i,e,n,"",function(u){return u})):i!=null&&(M2(i)&&(i=ZT(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(_5,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",w5(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Cm(s,a);o+=sp(s,e,n,l,i)}else if(l=JT(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Cm(s,a++),o+=sp(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function bd(t,e,n){if(t==null)return t;var r=[],i=0;return sp(t,r,"","",function(s){return e.call(n,s,i++)}),r}function tk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var fi={current:null},op={transition:null},nk={ReactCurrentDispatcher:fi,ReactCurrentBatchConfig:op,ReactCurrentOwner:D2};function B4(){throw Error("act(...) is not supported in production builds of React.")}Ot.Children={map:bd,forEach:function(t,e,n){bd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return bd(t,function(){e++}),e},toArray:function(t){return bd(t,function(e){return e})||[]},only:function(t){if(!M2(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ot.Component=Rc;Ot.Fragment=qT;Ot.Profiler=HT;Ot.PureComponent=R2;Ot.StrictMode=WT;Ot.Suspense=YT;Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nk;Ot.act=B4;Ot.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=D4({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=D2.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)j4.call(e,l)&&!U4.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Of,type:t.type,key:i,ref:s,props:r,_owner:o}};Ot.createContext=function(t){return t={$$typeof:GT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$T,_context:t},t.Consumer=t};Ot.createElement=V4;Ot.createFactory=function(t){var e=V4.bind(null,t);return e.type=t,e};Ot.createRef=function(){return{current:null}};Ot.forwardRef=function(t){return{$$typeof:KT,render:t}};Ot.isValidElement=M2;Ot.lazy=function(t){return{$$typeof:XT,_payload:{_status:-1,_result:t},_init:tk}};Ot.memo=function(t,e){return{$$typeof:QT,type:t,compare:e===void 0?null:e}};Ot.startTransition=function(t){var e=op.transition;op.transition={};try{t()}finally{op.transition=e}};Ot.unstable_act=B4;Ot.useCallback=function(t,e){return fi.current.useCallback(t,e)};Ot.useContext=function(t){return fi.current.useContext(t)};Ot.useDebugValue=function(){};Ot.useDeferredValue=function(t){return fi.current.useDeferredValue(t)};Ot.useEffect=function(t,e){return fi.current.useEffect(t,e)};Ot.useId=function(){return fi.current.useId()};Ot.useImperativeHandle=function(t,e,n){return fi.current.useImperativeHandle(t,e,n)};Ot.useInsertionEffect=function(t,e){return fi.current.useInsertionEffect(t,e)};Ot.useLayoutEffect=function(t,e){return fi.current.useLayoutEffect(t,e)};Ot.useMemo=function(t,e){return fi.current.useMemo(t,e)};Ot.useReducer=function(t,e,n){return fi.current.useReducer(t,e,n)};Ot.useRef=function(t){return fi.current.useRef(t)};Ot.useState=function(t){return fi.current.useState(t)};Ot.useSyncExternalStore=function(t,e,n){return fi.current.useSyncExternalStore(t,e,n)};Ot.useTransition=function(){return fi.current.useTransition()};Ot.version="18.3.1";R4.exports=Ot;var Pe=R4.exports;const z4=BT(Pe),rk=VT({__proto__:null,default:z4},[Pe]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ik=Pe,sk=Symbol.for("react.element"),ok=Symbol.for("react.fragment"),ak=Object.prototype.hasOwnProperty,lk=ik.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uk={key:!0,ref:!0,__self:!0,__source:!0};function q4(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)ak.call(e,r)&&!uk.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:sk,type:t,key:s,ref:o,props:i,_owner:lk.current}}Ig.Fragment=ok;Ig.jsx=q4;Ig.jsxs=q4;L4.exports=Ig;var ne=L4.exports,X0={},W4={exports:{}},Yi={},H4={exports:{}},$4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(J,le){var _e=J.length;J.push(le);e:for(;0<_e;){var we=_e-1>>>1,M=J[we];if(0<i(M,le))J[we]=le,J[_e]=M,_e=we;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var le=J[0],_e=J.pop();if(_e!==le){J[0]=_e;e:for(var we=0,M=J.length,H=M>>>1;we<H;){var Y=2*(we+1)-1,ee=J[Y],ie=Y+1,ue=J[ie];if(0>i(ee,_e))ie<M&&0>i(ue,ee)?(J[we]=ue,J[ie]=_e,we=ie):(J[we]=ee,J[Y]=_e,we=Y);else if(ie<M&&0>i(ue,_e))J[we]=ue,J[ie]=_e,we=ie;else break e}}return le}function i(J,le){var _e=J.sortIndex-le.sortIndex;return _e!==0?_e:J.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,g=null,v=3,p=!1,S=!1,I=!1,P=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(J){for(var le=n(u);le!==null;){if(le.callback===null)r(u);else if(le.startTime<=J)r(u),le.sortIndex=le.expirationTime,e(l,le);else break;le=n(u)}}function j(J){if(I=!1,C(J),!S)if(n(l)!==null)S=!0,ve(Q);else{var le=n(u);le!==null&&ge(j,le.startTime-J)}}function Q(J,le){S=!1,I&&(I=!1,_(A),A=-1),p=!0;var _e=v;try{for(C(le),g=n(l);g!==null&&(!(g.expirationTime>le)||J&&!E());){var we=g.callback;if(typeof we=="function"){g.callback=null,v=g.priorityLevel;var M=we(g.expirationTime<=le);le=t.unstable_now(),typeof M=="function"?g.callback=M:g===n(l)&&r(l),C(le)}else r(l);g=n(l)}if(g!==null)var H=!0;else{var Y=n(u);Y!==null&&ge(j,Y.startTime-le),H=!1}return H}finally{g=null,v=_e,p=!1}}var re=!1,U=null,A=-1,x=5,D=-1;function E(){return!(t.unstable_now()-D<x)}function N(){if(U!==null){var J=t.unstable_now();D=J;var le=!0;try{le=U(!0,J)}finally{le?L():(re=!1,U=null)}}else re=!1}var L;if(typeof k=="function")L=function(){k(N)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,pe=X.port2;X.port1.onmessage=N,L=function(){pe.postMessage(null)}}else L=function(){P(N,0)};function ve(J){U=J,re||(re=!0,L())}function ge(J,le){A=P(function(){J(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){S||p||(S=!0,ve(Q))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(J){switch(v){case 1:case 2:case 3:var le=3;break;default:le=v}var _e=v;v=le;try{return J()}finally{v=_e}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,le){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var _e=v;v=J;try{return le()}finally{v=_e}},t.unstable_scheduleCallback=function(J,le,_e){var we=t.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?we+_e:we):_e=we,J){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=_e+M,J={id:f++,callback:le,priorityLevel:J,startTime:_e,expirationTime:M,sortIndex:-1},_e>we?(J.sortIndex=_e,e(u,J),n(l)===null&&J===n(u)&&(I?(_(A),A=-1):I=!0,ge(j,_e-we))):(J.sortIndex=M,e(l,J),S||p||(S=!0,ve(Q))),J},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(J){var le=v;return function(){var _e=v;v=le;try{return J.apply(this,arguments)}finally{v=_e}}}})($4);H4.exports=$4;var ck=H4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hk=Pe,Gi=ck;function Oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var G4=new Set,tf={};function hu(t,e){wc(t,e),wc(t+"Capture",e)}function wc(t,e){for(tf[t]=e,t=0;t<e.length;t++)G4.add(e[t])}var Yo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),J0=Object.prototype.hasOwnProperty,fk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b5={},E5={};function dk(t){return J0.call(E5,t)?!0:J0.call(b5,t)?!1:fk.test(t)?E5[t]=!0:(b5[t]=!0,!1)}function pk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function gk(t,e,n,r){if(e===null||typeof e>"u"||pk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function di(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Dr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Dr[t]=new di(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Dr[e]=new di(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Dr[t]=new di(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Dr[t]=new di(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Dr[t]=new di(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Dr[t]=new di(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Dr[t]=new di(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Dr[t]=new di(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Dr[t]=new di(t,5,!1,t.toLowerCase(),null,!1,!1)});var F2=/[\-:]([a-z])/g;function j2(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(F2,j2);Dr[e]=new di(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(F2,j2);Dr[e]=new di(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(F2,j2);Dr[e]=new di(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Dr[t]=new di(t,1,!1,t.toLowerCase(),null,!1,!1)});Dr.xlinkHref=new di("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Dr[t]=new di(t,1,!1,t.toLowerCase(),null,!0,!0)});function U2(t,e,n,r){var i=Dr.hasOwnProperty(e)?Dr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(gk(e,n,i,r)&&(n=null),r||i===null?dk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var sa=hk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ed=Symbol.for("react.element"),Hu=Symbol.for("react.portal"),$u=Symbol.for("react.fragment"),V2=Symbol.for("react.strict_mode"),Z0=Symbol.for("react.profiler"),K4=Symbol.for("react.provider"),Y4=Symbol.for("react.context"),B2=Symbol.for("react.forward_ref"),e1=Symbol.for("react.suspense"),t1=Symbol.for("react.suspense_list"),z2=Symbol.for("react.memo"),Oa=Symbol.for("react.lazy"),Q4=Symbol.for("react.offscreen"),S5=Symbol.iterator;function ch(t){return t===null||typeof t!="object"?null:(t=S5&&t[S5]||t["@@iterator"],typeof t=="function"?t:null)}var Dn=Object.assign,Lm;function Th(t){if(Lm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Lm=e&&e[1]||""}return`
`+Lm+t}var Rm=!1;function Om(t,e){if(!t||Rm)return"";Rm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Rm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Th(t):""}function mk(t){switch(t.tag){case 5:return Th(t.type);case 16:return Th("Lazy");case 13:return Th("Suspense");case 19:return Th("SuspenseList");case 0:case 2:case 15:return t=Om(t.type,!1),t;case 11:return t=Om(t.type.render,!1),t;case 1:return t=Om(t.type,!0),t;default:return""}}function n1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $u:return"Fragment";case Hu:return"Portal";case Z0:return"Profiler";case V2:return"StrictMode";case e1:return"Suspense";case t1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Y4:return(t.displayName||"Context")+".Consumer";case K4:return(t._context.displayName||"Context")+".Provider";case B2:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case z2:return e=t.displayName||null,e!==null?e:n1(t.type)||"Memo";case Oa:e=t._payload,t=t._init;try{return n1(t(e))}catch{}}return null}function vk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return n1(e);case 8:return e===V2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function il(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function X4(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function yk(t){var e=X4(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Sd(t){t._valueTracker||(t._valueTracker=yk(t))}function J4(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=X4(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Lp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function r1(t,e){var n=e.checked;return Dn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function A5(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=il(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Z4(t,e){e=e.checked,e!=null&&U2(t,"checked",e,!1)}function i1(t,e){Z4(t,e);var n=il(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?s1(t,e.type,n):e.hasOwnProperty("defaultValue")&&s1(t,e.type,il(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function x5(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function s1(t,e,n){(e!=="number"||Lp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var kh=Array.isArray;function ic(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+il(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function o1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Oe(91));return Dn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function I5(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Oe(92));if(kh(n)){if(1<n.length)throw Error(Oe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:il(n)}}function eE(t,e){var n=il(e.value),r=il(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function T5(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function tE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function a1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?tE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ad,nE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ad=Ad||document.createElement("div"),Ad.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ad.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function nf(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Fh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wk=["Webkit","ms","Moz","O"];Object.keys(Fh).forEach(function(t){wk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Fh[e]=Fh[t]})});function rE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Fh.hasOwnProperty(t)&&Fh[t]?(""+e).trim():e+"px"}function iE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=rE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var _k=Dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function l1(t,e){if(e){if(_k[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Oe(62))}}function u1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var c1=null;function q2(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var h1=null,sc=null,oc=null;function k5(t){if(t=Ff(t)){if(typeof h1!="function")throw Error(Oe(280));var e=t.stateNode;e&&(e=Cg(e),h1(t.stateNode,t.type,e))}}function sE(t){sc?oc?oc.push(t):oc=[t]:sc=t}function oE(){if(sc){var t=sc,e=oc;if(oc=sc=null,k5(t),e)for(t=0;t<e.length;t++)k5(e[t])}}function aE(t,e){return t(e)}function lE(){}var Dm=!1;function uE(t,e,n){if(Dm)return t(e,n);Dm=!0;try{return aE(t,e,n)}finally{Dm=!1,(sc!==null||oc!==null)&&(lE(),oE())}}function rf(t,e){var n=t.stateNode;if(n===null)return null;var r=Cg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Oe(231,e,typeof n));return n}var f1=!1;if(Yo)try{var hh={};Object.defineProperty(hh,"passive",{get:function(){f1=!0}}),window.addEventListener("test",hh,hh),window.removeEventListener("test",hh,hh)}catch{f1=!1}function bk(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var jh=!1,Rp=null,Op=!1,d1=null,Ek={onError:function(t){jh=!0,Rp=t}};function Sk(t,e,n,r,i,s,o,a,l){jh=!1,Rp=null,bk.apply(Ek,arguments)}function Ak(t,e,n,r,i,s,o,a,l){if(Sk.apply(this,arguments),jh){if(jh){var u=Rp;jh=!1,Rp=null}else throw Error(Oe(198));Op||(Op=!0,d1=u)}}function fu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function cE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function N5(t){if(fu(t)!==t)throw Error(Oe(188))}function xk(t){var e=t.alternate;if(!e){if(e=fu(t),e===null)throw Error(Oe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return N5(i),t;if(s===r)return N5(i),e;s=s.sibling}throw Error(Oe(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Oe(189))}}if(n.alternate!==r)throw Error(Oe(190))}if(n.tag!==3)throw Error(Oe(188));return n.stateNode.current===n?t:e}function hE(t){return t=xk(t),t!==null?fE(t):null}function fE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=fE(t);if(e!==null)return e;t=t.sibling}return null}var dE=Gi.unstable_scheduleCallback,P5=Gi.unstable_cancelCallback,Ik=Gi.unstable_shouldYield,Tk=Gi.unstable_requestPaint,Zn=Gi.unstable_now,kk=Gi.unstable_getCurrentPriorityLevel,W2=Gi.unstable_ImmediatePriority,pE=Gi.unstable_UserBlockingPriority,Dp=Gi.unstable_NormalPriority,Nk=Gi.unstable_LowPriority,gE=Gi.unstable_IdlePriority,Tg=null,uo=null;function Pk(t){if(uo&&typeof uo.onCommitFiberRoot=="function")try{uo.onCommitFiberRoot(Tg,t,void 0,(t.current.flags&128)===128)}catch{}}var Rs=Math.clz32?Math.clz32:Rk,Ck=Math.log,Lk=Math.LN2;function Rk(t){return t>>>=0,t===0?32:31-(Ck(t)/Lk|0)|0}var xd=64,Id=4194304;function Nh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Mp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Nh(a):(s&=o,s!==0&&(r=Nh(s)))}else o=n&~i,o!==0?r=Nh(o):s!==0&&(r=Nh(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Rs(e),i=1<<n,r|=t[n],e&=~i;return r}function Ok(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Rs(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Ok(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function p1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function mE(){var t=xd;return xd<<=1,!(xd&4194240)&&(xd=64),t}function Mm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Df(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Rs(e),t[e]=n}function Mk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Rs(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function H2(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Rs(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var on=0;function vE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var yE,$2,wE,_E,bE,g1=!1,Td=[],Ga=null,Ka=null,Ya=null,sf=new Map,of=new Map,Ma=[],Fk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function C5(t,e){switch(t){case"focusin":case"focusout":Ga=null;break;case"dragenter":case"dragleave":Ka=null;break;case"mouseover":case"mouseout":Ya=null;break;case"pointerover":case"pointerout":sf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":of.delete(e.pointerId)}}function fh(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ff(e),e!==null&&$2(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function jk(t,e,n,r,i){switch(e){case"focusin":return Ga=fh(Ga,t,e,n,r,i),!0;case"dragenter":return Ka=fh(Ka,t,e,n,r,i),!0;case"mouseover":return Ya=fh(Ya,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return sf.set(s,fh(sf.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,of.set(s,fh(of.get(s)||null,t,e,n,r,i)),!0}return!1}function EE(t){var e=Vl(t.target);if(e!==null){var n=fu(e);if(n!==null){if(e=n.tag,e===13){if(e=cE(n),e!==null){t.blockedOn=e,bE(t.priority,function(){wE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ap(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=m1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);c1=r,n.target.dispatchEvent(r),c1=null}else return e=Ff(n),e!==null&&$2(e),t.blockedOn=n,!1;e.shift()}return!0}function L5(t,e,n){ap(t)&&n.delete(e)}function Uk(){g1=!1,Ga!==null&&ap(Ga)&&(Ga=null),Ka!==null&&ap(Ka)&&(Ka=null),Ya!==null&&ap(Ya)&&(Ya=null),sf.forEach(L5),of.forEach(L5)}function dh(t,e){t.blockedOn===e&&(t.blockedOn=null,g1||(g1=!0,Gi.unstable_scheduleCallback(Gi.unstable_NormalPriority,Uk)))}function af(t){function e(i){return dh(i,t)}if(0<Td.length){dh(Td[0],t);for(var n=1;n<Td.length;n++){var r=Td[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ga!==null&&dh(Ga,t),Ka!==null&&dh(Ka,t),Ya!==null&&dh(Ya,t),sf.forEach(e),of.forEach(e),n=0;n<Ma.length;n++)r=Ma[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ma.length&&(n=Ma[0],n.blockedOn===null);)EE(n),n.blockedOn===null&&Ma.shift()}var ac=sa.ReactCurrentBatchConfig,Fp=!0;function Vk(t,e,n,r){var i=on,s=ac.transition;ac.transition=null;try{on=1,G2(t,e,n,r)}finally{on=i,ac.transition=s}}function Bk(t,e,n,r){var i=on,s=ac.transition;ac.transition=null;try{on=4,G2(t,e,n,r)}finally{on=i,ac.transition=s}}function G2(t,e,n,r){if(Fp){var i=m1(t,e,n,r);if(i===null)$m(t,e,r,jp,n),C5(t,r);else if(jk(i,t,e,n,r))r.stopPropagation();else if(C5(t,r),e&4&&-1<Fk.indexOf(t)){for(;i!==null;){var s=Ff(i);if(s!==null&&yE(s),s=m1(t,e,n,r),s===null&&$m(t,e,r,jp,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else $m(t,e,r,null,n)}}var jp=null;function m1(t,e,n,r){if(jp=null,t=q2(r),t=Vl(t),t!==null)if(e=fu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=cE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return jp=t,null}function SE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kk()){case W2:return 1;case pE:return 4;case Dp:case Nk:return 16;case gE:return 536870912;default:return 16}default:return 16}}var za=null,K2=null,lp=null;function AE(){if(lp)return lp;var t,e=K2,n=e.length,r,i="value"in za?za.value:za.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return lp=i.slice(t,1<r?1-r:void 0)}function up(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function kd(){return!0}function R5(){return!1}function Qi(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?kd:R5,this.isPropagationStopped=R5,this}return Dn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=kd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=kd)},persist:function(){},isPersistent:kd}),e}var Oc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Y2=Qi(Oc),Mf=Dn({},Oc,{view:0,detail:0}),zk=Qi(Mf),Fm,jm,ph,kg=Dn({},Mf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Q2,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ph&&(ph&&t.type==="mousemove"?(Fm=t.screenX-ph.screenX,jm=t.screenY-ph.screenY):jm=Fm=0,ph=t),Fm)},movementY:function(t){return"movementY"in t?t.movementY:jm}}),O5=Qi(kg),qk=Dn({},kg,{dataTransfer:0}),Wk=Qi(qk),Hk=Dn({},Mf,{relatedTarget:0}),Um=Qi(Hk),$k=Dn({},Oc,{animationName:0,elapsedTime:0,pseudoElement:0}),Gk=Qi($k),Kk=Dn({},Oc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yk=Qi(Kk),Qk=Dn({},Oc,{data:0}),D5=Qi(Qk),Xk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Zk[t])?!!e[t]:!1}function Q2(){return eN}var tN=Dn({},Mf,{key:function(t){if(t.key){var e=Xk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=up(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Jk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Q2,charCode:function(t){return t.type==="keypress"?up(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?up(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nN=Qi(tN),rN=Dn({},kg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),M5=Qi(rN),iN=Dn({},Mf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Q2}),sN=Qi(iN),oN=Dn({},Oc,{propertyName:0,elapsedTime:0,pseudoElement:0}),aN=Qi(oN),lN=Dn({},kg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),uN=Qi(lN),cN=[9,13,27,32],X2=Yo&&"CompositionEvent"in window,Uh=null;Yo&&"documentMode"in document&&(Uh=document.documentMode);var hN=Yo&&"TextEvent"in window&&!Uh,xE=Yo&&(!X2||Uh&&8<Uh&&11>=Uh),F5=" ",j5=!1;function IE(t,e){switch(t){case"keyup":return cN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function TE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gu=!1;function fN(t,e){switch(t){case"compositionend":return TE(e);case"keypress":return e.which!==32?null:(j5=!0,F5);case"textInput":return t=e.data,t===F5&&j5?null:t;default:return null}}function dN(t,e){if(Gu)return t==="compositionend"||!X2&&IE(t,e)?(t=AE(),lp=K2=za=null,Gu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return xE&&e.locale!=="ko"?null:e.data;default:return null}}var pN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function U5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pN[t.type]:e==="textarea"}function kE(t,e,n,r){sE(r),e=Up(e,"onChange"),0<e.length&&(n=new Y2("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Vh=null,lf=null;function gN(t){UE(t,0)}function Ng(t){var e=Qu(t);if(J4(e))return t}function mN(t,e){if(t==="change")return e}var NE=!1;if(Yo){var Vm;if(Yo){var Bm="oninput"in document;if(!Bm){var V5=document.createElement("div");V5.setAttribute("oninput","return;"),Bm=typeof V5.oninput=="function"}Vm=Bm}else Vm=!1;NE=Vm&&(!document.documentMode||9<document.documentMode)}function B5(){Vh&&(Vh.detachEvent("onpropertychange",PE),lf=Vh=null)}function PE(t){if(t.propertyName==="value"&&Ng(lf)){var e=[];kE(e,lf,t,q2(t)),uE(gN,e)}}function vN(t,e,n){t==="focusin"?(B5(),Vh=e,lf=n,Vh.attachEvent("onpropertychange",PE)):t==="focusout"&&B5()}function yN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ng(lf)}function wN(t,e){if(t==="click")return Ng(e)}function _N(t,e){if(t==="input"||t==="change")return Ng(e)}function bN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ms=typeof Object.is=="function"?Object.is:bN;function uf(t,e){if(Ms(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!J0.call(e,i)||!Ms(t[i],e[i]))return!1}return!0}function z5(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function q5(t,e){var n=z5(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=z5(n)}}function CE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?CE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function LE(){for(var t=window,e=Lp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Lp(t.document)}return e}function J2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function EN(t){var e=LE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&CE(n.ownerDocument.documentElement,n)){if(r!==null&&J2(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=q5(n,s);var o=q5(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var SN=Yo&&"documentMode"in document&&11>=document.documentMode,Ku=null,v1=null,Bh=null,y1=!1;function W5(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;y1||Ku==null||Ku!==Lp(r)||(r=Ku,"selectionStart"in r&&J2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bh&&uf(Bh,r)||(Bh=r,r=Up(v1,"onSelect"),0<r.length&&(e=new Y2("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ku)))}function Nd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Yu={animationend:Nd("Animation","AnimationEnd"),animationiteration:Nd("Animation","AnimationIteration"),animationstart:Nd("Animation","AnimationStart"),transitionend:Nd("Transition","TransitionEnd")},zm={},RE={};Yo&&(RE=document.createElement("div").style,"AnimationEvent"in window||(delete Yu.animationend.animation,delete Yu.animationiteration.animation,delete Yu.animationstart.animation),"TransitionEvent"in window||delete Yu.transitionend.transition);function Pg(t){if(zm[t])return zm[t];if(!Yu[t])return t;var e=Yu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in RE)return zm[t]=e[n];return t}var OE=Pg("animationend"),DE=Pg("animationiteration"),ME=Pg("animationstart"),FE=Pg("transitionend"),jE=new Map,H5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hl(t,e){jE.set(t,e),hu(e,[t])}for(var qm=0;qm<H5.length;qm++){var Wm=H5[qm],AN=Wm.toLowerCase(),xN=Wm[0].toUpperCase()+Wm.slice(1);hl(AN,"on"+xN)}hl(OE,"onAnimationEnd");hl(DE,"onAnimationIteration");hl(ME,"onAnimationStart");hl("dblclick","onDoubleClick");hl("focusin","onFocus");hl("focusout","onBlur");hl(FE,"onTransitionEnd");wc("onMouseEnter",["mouseout","mouseover"]);wc("onMouseLeave",["mouseout","mouseover"]);wc("onPointerEnter",["pointerout","pointerover"]);wc("onPointerLeave",["pointerout","pointerover"]);hu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hu("onBeforeInput",["compositionend","keypress","textInput","paste"]);hu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ph="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ph));function $5(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Ak(r,e,void 0,t),t.currentTarget=null}function UE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;$5(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;$5(i,a,u),s=l}}}if(Op)throw t=d1,Op=!1,d1=null,t}function _n(t,e){var n=e[S1];n===void 0&&(n=e[S1]=new Set);var r=t+"__bubble";n.has(r)||(VE(e,t,2,!1),n.add(r))}function Hm(t,e,n){var r=0;e&&(r|=4),VE(n,t,r,e)}var Pd="_reactListening"+Math.random().toString(36).slice(2);function cf(t){if(!t[Pd]){t[Pd]=!0,G4.forEach(function(n){n!=="selectionchange"&&(IN.has(n)||Hm(n,!1,t),Hm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Pd]||(e[Pd]=!0,Hm("selectionchange",!1,e))}}function VE(t,e,n,r){switch(SE(e)){case 1:var i=Vk;break;case 4:i=Bk;break;default:i=G2}n=i.bind(null,e,n,t),i=void 0,!f1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function $m(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Vl(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}uE(function(){var u=s,f=q2(n),g=[];e:{var v=jE.get(t);if(v!==void 0){var p=Y2,S=t;switch(t){case"keypress":if(up(n)===0)break e;case"keydown":case"keyup":p=nN;break;case"focusin":S="focus",p=Um;break;case"focusout":S="blur",p=Um;break;case"beforeblur":case"afterblur":p=Um;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=O5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Wk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=sN;break;case OE:case DE:case ME:p=Gk;break;case FE:p=aN;break;case"scroll":p=zk;break;case"wheel":p=uN;break;case"copy":case"cut":case"paste":p=Yk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=M5}var I=(e&4)!==0,P=!I&&t==="scroll",_=I?v!==null?v+"Capture":null:v;I=[];for(var k=u,C;k!==null;){C=k;var j=C.stateNode;if(C.tag===5&&j!==null&&(C=j,_!==null&&(j=rf(k,_),j!=null&&I.push(hf(k,j,C)))),P)break;k=k.return}0<I.length&&(v=new p(v,S,null,n,f),g.push({event:v,listeners:I}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",v&&n!==c1&&(S=n.relatedTarget||n.fromElement)&&(Vl(S)||S[Qo]))break e;if((p||v)&&(v=f.window===f?f:(v=f.ownerDocument)?v.defaultView||v.parentWindow:window,p?(S=n.relatedTarget||n.toElement,p=u,S=S?Vl(S):null,S!==null&&(P=fu(S),S!==P||S.tag!==5&&S.tag!==6)&&(S=null)):(p=null,S=u),p!==S)){if(I=O5,j="onMouseLeave",_="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(I=M5,j="onPointerLeave",_="onPointerEnter",k="pointer"),P=p==null?v:Qu(p),C=S==null?v:Qu(S),v=new I(j,k+"leave",p,n,f),v.target=P,v.relatedTarget=C,j=null,Vl(f)===u&&(I=new I(_,k+"enter",S,n,f),I.target=C,I.relatedTarget=P,j=I),P=j,p&&S)t:{for(I=p,_=S,k=0,C=I;C;C=Lu(C))k++;for(C=0,j=_;j;j=Lu(j))C++;for(;0<k-C;)I=Lu(I),k--;for(;0<C-k;)_=Lu(_),C--;for(;k--;){if(I===_||_!==null&&I===_.alternate)break t;I=Lu(I),_=Lu(_)}I=null}else I=null;p!==null&&G5(g,v,p,I,!1),S!==null&&P!==null&&G5(g,P,S,I,!0)}}e:{if(v=u?Qu(u):window,p=v.nodeName&&v.nodeName.toLowerCase(),p==="select"||p==="input"&&v.type==="file")var Q=mN;else if(U5(v))if(NE)Q=_N;else{Q=yN;var re=vN}else(p=v.nodeName)&&p.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(Q=wN);if(Q&&(Q=Q(t,u))){kE(g,Q,n,f);break e}re&&re(t,v,u),t==="focusout"&&(re=v._wrapperState)&&re.controlled&&v.type==="number"&&s1(v,"number",v.value)}switch(re=u?Qu(u):window,t){case"focusin":(U5(re)||re.contentEditable==="true")&&(Ku=re,v1=u,Bh=null);break;case"focusout":Bh=v1=Ku=null;break;case"mousedown":y1=!0;break;case"contextmenu":case"mouseup":case"dragend":y1=!1,W5(g,n,f);break;case"selectionchange":if(SN)break;case"keydown":case"keyup":W5(g,n,f)}var U;if(X2)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Gu?IE(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(xE&&n.locale!=="ko"&&(Gu||A!=="onCompositionStart"?A==="onCompositionEnd"&&Gu&&(U=AE()):(za=f,K2="value"in za?za.value:za.textContent,Gu=!0)),re=Up(u,A),0<re.length&&(A=new D5(A,t,null,n,f),g.push({event:A,listeners:re}),U?A.data=U:(U=TE(n),U!==null&&(A.data=U)))),(U=hN?fN(t,n):dN(t,n))&&(u=Up(u,"onBeforeInput"),0<u.length&&(f=new D5("onBeforeInput","beforeinput",null,n,f),g.push({event:f,listeners:u}),f.data=U))}UE(g,e)})}function hf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Up(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=rf(t,n),s!=null&&r.unshift(hf(t,s,i)),s=rf(t,e),s!=null&&r.push(hf(t,s,i))),t=t.return}return r}function Lu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function G5(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=rf(n,s),l!=null&&o.unshift(hf(n,l,a))):i||(l=rf(n,s),l!=null&&o.push(hf(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var TN=/\r\n?/g,kN=/\u0000|\uFFFD/g;function K5(t){return(typeof t=="string"?t:""+t).replace(TN,`
`).replace(kN,"")}function Cd(t,e,n){if(e=K5(e),K5(t)!==e&&n)throw Error(Oe(425))}function Vp(){}var w1=null,_1=null;function b1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var E1=typeof setTimeout=="function"?setTimeout:void 0,NN=typeof clearTimeout=="function"?clearTimeout:void 0,Y5=typeof Promise=="function"?Promise:void 0,PN=typeof queueMicrotask=="function"?queueMicrotask:typeof Y5<"u"?function(t){return Y5.resolve(null).then(t).catch(CN)}:E1;function CN(t){setTimeout(function(){throw t})}function Gm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),af(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);af(e)}function Qa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Q5(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Dc=Math.random().toString(36).slice(2),oo="__reactFiber$"+Dc,ff="__reactProps$"+Dc,Qo="__reactContainer$"+Dc,S1="__reactEvents$"+Dc,LN="__reactListeners$"+Dc,RN="__reactHandles$"+Dc;function Vl(t){var e=t[oo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qo]||n[oo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Q5(t);t!==null;){if(n=t[oo])return n;t=Q5(t)}return e}t=n,n=t.parentNode}return null}function Ff(t){return t=t[oo]||t[Qo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Oe(33))}function Cg(t){return t[ff]||null}var A1=[],Xu=-1;function fl(t){return{current:t}}function Sn(t){0>Xu||(t.current=A1[Xu],A1[Xu]=null,Xu--)}function vn(t,e){Xu++,A1[Xu]=t.current,t.current=e}var sl={},Zr=fl(sl),Ei=fl(!1),Xl=sl;function _c(t,e){var n=t.type.contextTypes;if(!n)return sl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Si(t){return t=t.childContextTypes,t!=null}function Bp(){Sn(Ei),Sn(Zr)}function X5(t,e,n){if(Zr.current!==sl)throw Error(Oe(168));vn(Zr,e),vn(Ei,n)}function BE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Oe(108,vk(t)||"Unknown",i));return Dn({},n,r)}function zp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||sl,Xl=Zr.current,vn(Zr,t),vn(Ei,Ei.current),!0}function J5(t,e,n){var r=t.stateNode;if(!r)throw Error(Oe(169));n?(t=BE(t,e,Xl),r.__reactInternalMemoizedMergedChildContext=t,Sn(Ei),Sn(Zr),vn(Zr,t)):Sn(Ei),vn(Ei,n)}var Fo=null,Lg=!1,Km=!1;function zE(t){Fo===null?Fo=[t]:Fo.push(t)}function ON(t){Lg=!0,zE(t)}function dl(){if(!Km&&Fo!==null){Km=!0;var t=0,e=on;try{var n=Fo;for(on=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Fo=null,Lg=!1}catch(i){throw Fo!==null&&(Fo=Fo.slice(t+1)),dE(W2,dl),i}finally{on=e,Km=!1}}return null}var Ju=[],Zu=0,qp=null,Wp=0,hs=[],fs=0,Jl=null,Vo=1,Bo="";function Rl(t,e){Ju[Zu++]=Wp,Ju[Zu++]=qp,qp=t,Wp=e}function qE(t,e,n){hs[fs++]=Vo,hs[fs++]=Bo,hs[fs++]=Jl,Jl=t;var r=Vo;t=Bo;var i=32-Rs(r)-1;r&=~(1<<i),n+=1;var s=32-Rs(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Vo=1<<32-Rs(e)+i|n<<i|r,Bo=s+t}else Vo=1<<s|n<<i|r,Bo=t}function Z2(t){t.return!==null&&(Rl(t,1),qE(t,1,0))}function ev(t){for(;t===qp;)qp=Ju[--Zu],Ju[Zu]=null,Wp=Ju[--Zu],Ju[Zu]=null;for(;t===Jl;)Jl=hs[--fs],hs[fs]=null,Bo=hs[--fs],hs[fs]=null,Vo=hs[--fs],hs[fs]=null}var $i=null,Bi=null,Tn=!1,Cs=null;function WE(t,e){var n=ds(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Z5(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$i=t,Bi=Qa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$i=t,Bi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Jl!==null?{id:Vo,overflow:Bo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ds(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,$i=t,Bi=null,!0):!1;default:return!1}}function x1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function I1(t){if(Tn){var e=Bi;if(e){var n=e;if(!Z5(t,e)){if(x1(t))throw Error(Oe(418));e=Qa(n.nextSibling);var r=$i;e&&Z5(t,e)?WE(r,n):(t.flags=t.flags&-4097|2,Tn=!1,$i=t)}}else{if(x1(t))throw Error(Oe(418));t.flags=t.flags&-4097|2,Tn=!1,$i=t}}}function ew(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$i=t}function Ld(t){if(t!==$i)return!1;if(!Tn)return ew(t),Tn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!b1(t.type,t.memoizedProps)),e&&(e=Bi)){if(x1(t))throw HE(),Error(Oe(418));for(;e;)WE(t,e),e=Qa(e.nextSibling)}if(ew(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Bi=Qa(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Bi=null}}else Bi=$i?Qa(t.stateNode.nextSibling):null;return!0}function HE(){for(var t=Bi;t;)t=Qa(t.nextSibling)}function bc(){Bi=$i=null,Tn=!1}function tv(t){Cs===null?Cs=[t]:Cs.push(t)}var DN=sa.ReactCurrentBatchConfig;function gh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Oe(309));var r=n.stateNode}if(!r)throw Error(Oe(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Oe(284));if(!n._owner)throw Error(Oe(290,t))}return t}function Rd(t,e){throw t=Object.prototype.toString.call(e),Error(Oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function tw(t){var e=t._init;return e(t._payload)}function $E(t){function e(_,k){if(t){var C=_.deletions;C===null?(_.deletions=[k],_.flags|=16):C.push(k)}}function n(_,k){if(!t)return null;for(;k!==null;)e(_,k),k=k.sibling;return null}function r(_,k){for(_=new Map;k!==null;)k.key!==null?_.set(k.key,k):_.set(k.index,k),k=k.sibling;return _}function i(_,k){return _=el(_,k),_.index=0,_.sibling=null,_}function s(_,k,C){return _.index=C,t?(C=_.alternate,C!==null?(C=C.index,C<k?(_.flags|=2,k):C):(_.flags|=2,k)):(_.flags|=1048576,k)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,k,C,j){return k===null||k.tag!==6?(k=t0(C,_.mode,j),k.return=_,k):(k=i(k,C),k.return=_,k)}function l(_,k,C,j){var Q=C.type;return Q===$u?f(_,k,C.props.children,j,C.key):k!==null&&(k.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Oa&&tw(Q)===k.type)?(j=i(k,C.props),j.ref=gh(_,k,C),j.return=_,j):(j=mp(C.type,C.key,C.props,null,_.mode,j),j.ref=gh(_,k,C),j.return=_,j)}function u(_,k,C,j){return k===null||k.tag!==4||k.stateNode.containerInfo!==C.containerInfo||k.stateNode.implementation!==C.implementation?(k=n0(C,_.mode,j),k.return=_,k):(k=i(k,C.children||[]),k.return=_,k)}function f(_,k,C,j,Q){return k===null||k.tag!==7?(k=$l(C,_.mode,j,Q),k.return=_,k):(k=i(k,C),k.return=_,k)}function g(_,k,C){if(typeof k=="string"&&k!==""||typeof k=="number")return k=t0(""+k,_.mode,C),k.return=_,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ed:return C=mp(k.type,k.key,k.props,null,_.mode,C),C.ref=gh(_,null,k),C.return=_,C;case Hu:return k=n0(k,_.mode,C),k.return=_,k;case Oa:var j=k._init;return g(_,j(k._payload),C)}if(kh(k)||ch(k))return k=$l(k,_.mode,C,null),k.return=_,k;Rd(_,k)}return null}function v(_,k,C,j){var Q=k!==null?k.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return Q!==null?null:a(_,k,""+C,j);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ed:return C.key===Q?l(_,k,C,j):null;case Hu:return C.key===Q?u(_,k,C,j):null;case Oa:return Q=C._init,v(_,k,Q(C._payload),j)}if(kh(C)||ch(C))return Q!==null?null:f(_,k,C,j,null);Rd(_,C)}return null}function p(_,k,C,j,Q){if(typeof j=="string"&&j!==""||typeof j=="number")return _=_.get(C)||null,a(k,_,""+j,Q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ed:return _=_.get(j.key===null?C:j.key)||null,l(k,_,j,Q);case Hu:return _=_.get(j.key===null?C:j.key)||null,u(k,_,j,Q);case Oa:var re=j._init;return p(_,k,C,re(j._payload),Q)}if(kh(j)||ch(j))return _=_.get(C)||null,f(k,_,j,Q,null);Rd(k,j)}return null}function S(_,k,C,j){for(var Q=null,re=null,U=k,A=k=0,x=null;U!==null&&A<C.length;A++){U.index>A?(x=U,U=null):x=U.sibling;var D=v(_,U,C[A],j);if(D===null){U===null&&(U=x);break}t&&U&&D.alternate===null&&e(_,U),k=s(D,k,A),re===null?Q=D:re.sibling=D,re=D,U=x}if(A===C.length)return n(_,U),Tn&&Rl(_,A),Q;if(U===null){for(;A<C.length;A++)U=g(_,C[A],j),U!==null&&(k=s(U,k,A),re===null?Q=U:re.sibling=U,re=U);return Tn&&Rl(_,A),Q}for(U=r(_,U);A<C.length;A++)x=p(U,_,A,C[A],j),x!==null&&(t&&x.alternate!==null&&U.delete(x.key===null?A:x.key),k=s(x,k,A),re===null?Q=x:re.sibling=x,re=x);return t&&U.forEach(function(E){return e(_,E)}),Tn&&Rl(_,A),Q}function I(_,k,C,j){var Q=ch(C);if(typeof Q!="function")throw Error(Oe(150));if(C=Q.call(C),C==null)throw Error(Oe(151));for(var re=Q=null,U=k,A=k=0,x=null,D=C.next();U!==null&&!D.done;A++,D=C.next()){U.index>A?(x=U,U=null):x=U.sibling;var E=v(_,U,D.value,j);if(E===null){U===null&&(U=x);break}t&&U&&E.alternate===null&&e(_,U),k=s(E,k,A),re===null?Q=E:re.sibling=E,re=E,U=x}if(D.done)return n(_,U),Tn&&Rl(_,A),Q;if(U===null){for(;!D.done;A++,D=C.next())D=g(_,D.value,j),D!==null&&(k=s(D,k,A),re===null?Q=D:re.sibling=D,re=D);return Tn&&Rl(_,A),Q}for(U=r(_,U);!D.done;A++,D=C.next())D=p(U,_,A,D.value,j),D!==null&&(t&&D.alternate!==null&&U.delete(D.key===null?A:D.key),k=s(D,k,A),re===null?Q=D:re.sibling=D,re=D);return t&&U.forEach(function(N){return e(_,N)}),Tn&&Rl(_,A),Q}function P(_,k,C,j){if(typeof C=="object"&&C!==null&&C.type===$u&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Ed:e:{for(var Q=C.key,re=k;re!==null;){if(re.key===Q){if(Q=C.type,Q===$u){if(re.tag===7){n(_,re.sibling),k=i(re,C.props.children),k.return=_,_=k;break e}}else if(re.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Oa&&tw(Q)===re.type){n(_,re.sibling),k=i(re,C.props),k.ref=gh(_,re,C),k.return=_,_=k;break e}n(_,re);break}else e(_,re);re=re.sibling}C.type===$u?(k=$l(C.props.children,_.mode,j,C.key),k.return=_,_=k):(j=mp(C.type,C.key,C.props,null,_.mode,j),j.ref=gh(_,k,C),j.return=_,_=j)}return o(_);case Hu:e:{for(re=C.key;k!==null;){if(k.key===re)if(k.tag===4&&k.stateNode.containerInfo===C.containerInfo&&k.stateNode.implementation===C.implementation){n(_,k.sibling),k=i(k,C.children||[]),k.return=_,_=k;break e}else{n(_,k);break}else e(_,k);k=k.sibling}k=n0(C,_.mode,j),k.return=_,_=k}return o(_);case Oa:return re=C._init,P(_,k,re(C._payload),j)}if(kh(C))return S(_,k,C,j);if(ch(C))return I(_,k,C,j);Rd(_,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,k!==null&&k.tag===6?(n(_,k.sibling),k=i(k,C),k.return=_,_=k):(n(_,k),k=t0(C,_.mode,j),k.return=_,_=k),o(_)):n(_,k)}return P}var Ec=$E(!0),GE=$E(!1),Hp=fl(null),$p=null,ec=null,nv=null;function rv(){nv=ec=$p=null}function iv(t){var e=Hp.current;Sn(Hp),t._currentValue=e}function T1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function lc(t,e){$p=t,nv=ec=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(bi=!0),t.firstContext=null)}function ms(t){var e=t._currentValue;if(nv!==t)if(t={context:t,memoizedValue:e,next:null},ec===null){if($p===null)throw Error(Oe(308));ec=t,$p.dependencies={lanes:0,firstContext:t}}else ec=ec.next=t;return e}var Bl=null;function sv(t){Bl===null?Bl=[t]:Bl.push(t)}function KE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,sv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Xo(t,r)}function Xo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Da=!1;function ov(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function YE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $o(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,$t&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Xo(t,n)}return i=r.interleaved,i===null?(e.next=e,sv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Xo(t,n)}function cp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,H2(t,n)}}function nw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Gp(t,e,n,r){var i=t.updateQueue;Da=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=l))}if(s!==null){var g=i.baseState;o=0,f=u=l=null,a=s;do{var v=a.lane,p=a.eventTime;if((r&v)===v){f!==null&&(f=f.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,I=a;switch(v=e,p=n,I.tag){case 1:if(S=I.payload,typeof S=="function"){g=S.call(p,g,v);break e}g=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=I.payload,v=typeof S=="function"?S.call(p,g,v):S,v==null)break e;g=Dn({},g,v);break e;case 2:Da=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,v=i.effects,v===null?i.effects=[a]:v.push(a))}else p={eventTime:p,lane:v,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=p,l=g):f=f.next=p,o|=v;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;v=a,a=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(!0);if(f===null&&(l=g),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);eu|=o,t.lanes=o,t.memoizedState=g}}function rw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Oe(191,i));i.call(r)}}}var jf={},co=fl(jf),df=fl(jf),pf=fl(jf);function zl(t){if(t===jf)throw Error(Oe(174));return t}function av(t,e){switch(vn(pf,e),vn(df,t),vn(co,jf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:a1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=a1(e,t)}Sn(co),vn(co,e)}function Sc(){Sn(co),Sn(df),Sn(pf)}function QE(t){zl(pf.current);var e=zl(co.current),n=a1(e,t.type);e!==n&&(vn(df,t),vn(co,n))}function lv(t){df.current===t&&(Sn(co),Sn(df))}var Rn=fl(0);function Kp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ym=[];function uv(){for(var t=0;t<Ym.length;t++)Ym[t]._workInProgressVersionPrimary=null;Ym.length=0}var hp=sa.ReactCurrentDispatcher,Qm=sa.ReactCurrentBatchConfig,Zl=0,On=null,dr=null,Er=null,Yp=!1,zh=!1,gf=0,MN=0;function zr(){throw Error(Oe(321))}function cv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ms(t[n],e[n]))return!1;return!0}function hv(t,e,n,r,i,s){if(Zl=s,On=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hp.current=t===null||t.memoizedState===null?VN:BN,t=n(r,i),zh){s=0;do{if(zh=!1,gf=0,25<=s)throw Error(Oe(301));s+=1,Er=dr=null,e.updateQueue=null,hp.current=zN,t=n(r,i)}while(zh)}if(hp.current=Qp,e=dr!==null&&dr.next!==null,Zl=0,Er=dr=On=null,Yp=!1,e)throw Error(Oe(300));return t}function fv(){var t=gf!==0;return gf=0,t}function so(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Er===null?On.memoizedState=Er=t:Er=Er.next=t,Er}function vs(){if(dr===null){var t=On.alternate;t=t!==null?t.memoizedState:null}else t=dr.next;var e=Er===null?On.memoizedState:Er.next;if(e!==null)Er=e,dr=t;else{if(t===null)throw Error(Oe(310));dr=t,t={memoizedState:dr.memoizedState,baseState:dr.baseState,baseQueue:dr.baseQueue,queue:dr.queue,next:null},Er===null?On.memoizedState=Er=t:Er=Er.next=t}return Er}function mf(t,e){return typeof e=="function"?e(t):e}function Xm(t){var e=vs(),n=e.queue;if(n===null)throw Error(Oe(311));n.lastRenderedReducer=t;var r=dr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var f=u.lane;if((Zl&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var g={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=g,o=r):l=l.next=g,On.lanes|=f,eu|=f}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Ms(r,e.memoizedState)||(bi=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,On.lanes|=s,eu|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jm(t){var e=vs(),n=e.queue;if(n===null)throw Error(Oe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ms(s,e.memoizedState)||(bi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function XE(){}function JE(t,e){var n=On,r=vs(),i=e(),s=!Ms(r.memoizedState,i);if(s&&(r.memoizedState=i,bi=!0),r=r.queue,dv(tS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Er!==null&&Er.memoizedState.tag&1){if(n.flags|=2048,vf(9,eS.bind(null,n,r,i,e),void 0,null),Ar===null)throw Error(Oe(349));Zl&30||ZE(n,e,i)}return i}function ZE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=On.updateQueue,e===null?(e={lastEffect:null,stores:null},On.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function eS(t,e,n,r){e.value=n,e.getSnapshot=r,nS(e)&&rS(t)}function tS(t,e,n){return n(function(){nS(e)&&rS(t)})}function nS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ms(t,n)}catch{return!0}}function rS(t){var e=Xo(t,1);e!==null&&Os(e,t,1,-1)}function iw(t){var e=so();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mf,lastRenderedState:t},e.queue=t,t=t.dispatch=UN.bind(null,On,t),[e.memoizedState,t]}function vf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=On.updateQueue,e===null?(e={lastEffect:null,stores:null},On.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function iS(){return vs().memoizedState}function fp(t,e,n,r){var i=so();On.flags|=t,i.memoizedState=vf(1|e,n,void 0,r===void 0?null:r)}function Rg(t,e,n,r){var i=vs();r=r===void 0?null:r;var s=void 0;if(dr!==null){var o=dr.memoizedState;if(s=o.destroy,r!==null&&cv(r,o.deps)){i.memoizedState=vf(e,n,s,r);return}}On.flags|=t,i.memoizedState=vf(1|e,n,s,r)}function sw(t,e){return fp(8390656,8,t,e)}function dv(t,e){return Rg(2048,8,t,e)}function sS(t,e){return Rg(4,2,t,e)}function oS(t,e){return Rg(4,4,t,e)}function aS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function lS(t,e,n){return n=n!=null?n.concat([t]):null,Rg(4,4,aS.bind(null,e,t),n)}function pv(){}function uS(t,e){var n=vs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&cv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function cS(t,e){var n=vs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&cv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function hS(t,e,n){return Zl&21?(Ms(n,e)||(n=mE(),On.lanes|=n,eu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,bi=!0),t.memoizedState=n)}function FN(t,e){var n=on;on=n!==0&&4>n?n:4,t(!0);var r=Qm.transition;Qm.transition={};try{t(!1),e()}finally{on=n,Qm.transition=r}}function fS(){return vs().memoizedState}function jN(t,e,n){var r=Za(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},dS(t))pS(e,n);else if(n=KE(t,e,n,r),n!==null){var i=ci();Os(n,t,r,i),gS(n,e,r)}}function UN(t,e,n){var r=Za(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(dS(t))pS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ms(a,o)){var l=e.interleaved;l===null?(i.next=i,sv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=KE(t,e,i,r),n!==null&&(i=ci(),Os(n,t,r,i),gS(n,e,r))}}function dS(t){var e=t.alternate;return t===On||e!==null&&e===On}function pS(t,e){zh=Yp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function gS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,H2(t,n)}}var Qp={readContext:ms,useCallback:zr,useContext:zr,useEffect:zr,useImperativeHandle:zr,useInsertionEffect:zr,useLayoutEffect:zr,useMemo:zr,useReducer:zr,useRef:zr,useState:zr,useDebugValue:zr,useDeferredValue:zr,useTransition:zr,useMutableSource:zr,useSyncExternalStore:zr,useId:zr,unstable_isNewReconciler:!1},VN={readContext:ms,useCallback:function(t,e){return so().memoizedState=[t,e===void 0?null:e],t},useContext:ms,useEffect:sw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,fp(4194308,4,aS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return fp(4194308,4,t,e)},useInsertionEffect:function(t,e){return fp(4,2,t,e)},useMemo:function(t,e){var n=so();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=so();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=jN.bind(null,On,t),[r.memoizedState,t]},useRef:function(t){var e=so();return t={current:t},e.memoizedState=t},useState:iw,useDebugValue:pv,useDeferredValue:function(t){return so().memoizedState=t},useTransition:function(){var t=iw(!1),e=t[0];return t=FN.bind(null,t[1]),so().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=On,i=so();if(Tn){if(n===void 0)throw Error(Oe(407));n=n()}else{if(n=e(),Ar===null)throw Error(Oe(349));Zl&30||ZE(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,sw(tS.bind(null,r,s,t),[t]),r.flags|=2048,vf(9,eS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=so(),e=Ar.identifierPrefix;if(Tn){var n=Bo,r=Vo;n=(r&~(1<<32-Rs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=gf++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=MN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},BN={readContext:ms,useCallback:uS,useContext:ms,useEffect:dv,useImperativeHandle:lS,useInsertionEffect:sS,useLayoutEffect:oS,useMemo:cS,useReducer:Xm,useRef:iS,useState:function(){return Xm(mf)},useDebugValue:pv,useDeferredValue:function(t){var e=vs();return hS(e,dr.memoizedState,t)},useTransition:function(){var t=Xm(mf)[0],e=vs().memoizedState;return[t,e]},useMutableSource:XE,useSyncExternalStore:JE,useId:fS,unstable_isNewReconciler:!1},zN={readContext:ms,useCallback:uS,useContext:ms,useEffect:dv,useImperativeHandle:lS,useInsertionEffect:sS,useLayoutEffect:oS,useMemo:cS,useReducer:Jm,useRef:iS,useState:function(){return Jm(mf)},useDebugValue:pv,useDeferredValue:function(t){var e=vs();return dr===null?e.memoizedState=t:hS(e,dr.memoizedState,t)},useTransition:function(){var t=Jm(mf)[0],e=vs().memoizedState;return[t,e]},useMutableSource:XE,useSyncExternalStore:JE,useId:fS,unstable_isNewReconciler:!1};function Ns(t,e){if(t&&t.defaultProps){e=Dn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function k1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Dn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Og={isMounted:function(t){return(t=t._reactInternals)?fu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ci(),i=Za(t),s=$o(r,i);s.payload=e,n!=null&&(s.callback=n),e=Xa(t,s,i),e!==null&&(Os(e,t,i,r),cp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ci(),i=Za(t),s=$o(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Xa(t,s,i),e!==null&&(Os(e,t,i,r),cp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ci(),r=Za(t),i=$o(n,r);i.tag=2,e!=null&&(i.callback=e),e=Xa(t,i,r),e!==null&&(Os(e,t,r,n),cp(e,t,r))}};function ow(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!uf(n,r)||!uf(i,s):!0}function mS(t,e,n){var r=!1,i=sl,s=e.contextType;return typeof s=="object"&&s!==null?s=ms(s):(i=Si(e)?Xl:Zr.current,r=e.contextTypes,s=(r=r!=null)?_c(t,i):sl),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Og,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function aw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Og.enqueueReplaceState(e,e.state,null)}function N1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},ov(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ms(s):(s=Si(e)?Xl:Zr.current,i.context=_c(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(k1(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Og.enqueueReplaceState(i,i.state,null),Gp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ac(t,e){try{var n="",r=e;do n+=mk(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Zm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function P1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var qN=typeof WeakMap=="function"?WeakMap:Map;function vS(t,e,n){n=$o(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Jp||(Jp=!0,V1=r),P1(t,e)},n}function yS(t,e,n){n=$o(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){P1(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){P1(t,e),typeof r!="function"&&(Ja===null?Ja=new Set([this]):Ja.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function lw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new qN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=r6.bind(null,t,e,n),e.then(t,t))}function uw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function cw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=$o(-1,1),e.tag=2,Xa(n,e,1))),n.lanes|=1),t)}var WN=sa.ReactCurrentOwner,bi=!1;function ui(t,e,n,r){e.child=t===null?GE(e,null,n,r):Ec(e,t.child,n,r)}function hw(t,e,n,r,i){n=n.render;var s=e.ref;return lc(e,i),r=hv(t,e,n,r,s,i),n=fv(),t!==null&&!bi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jo(t,e,i)):(Tn&&n&&Z2(e),e.flags|=1,ui(t,e,r,i),e.child)}function fw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Ev(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,wS(t,e,s,r,i)):(t=mp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:uf,n(o,r)&&t.ref===e.ref)return Jo(t,e,i)}return e.flags|=1,t=el(s,r),t.ref=e.ref,t.return=e,e.child=t}function wS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(uf(s,r)&&t.ref===e.ref)if(bi=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(bi=!0);else return e.lanes=t.lanes,Jo(t,e,i)}return C1(t,e,n,r,i)}function _S(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},vn(nc,Vi),Vi|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,vn(nc,Vi),Vi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,vn(nc,Vi),Vi|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,vn(nc,Vi),Vi|=r;return ui(t,e,i,n),e.child}function bS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function C1(t,e,n,r,i){var s=Si(n)?Xl:Zr.current;return s=_c(e,s),lc(e,i),n=hv(t,e,n,r,s,i),r=fv(),t!==null&&!bi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jo(t,e,i)):(Tn&&r&&Z2(e),e.flags|=1,ui(t,e,n,i),e.child)}function dw(t,e,n,r,i){if(Si(n)){var s=!0;zp(e)}else s=!1;if(lc(e,i),e.stateNode===null)dp(t,e),mS(e,n,r),N1(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ms(u):(u=Si(n)?Xl:Zr.current,u=_c(e,u));var f=n.getDerivedStateFromProps,g=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&aw(e,o,r,u),Da=!1;var v=e.memoizedState;o.state=v,Gp(e,r,o,i),l=e.memoizedState,a!==r||v!==l||Ei.current||Da?(typeof f=="function"&&(k1(e,n,f,r),l=e.memoizedState),(a=Da||ow(e,n,a,r,v,l,u))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,YE(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ns(e.type,a),o.props=u,g=e.pendingProps,v=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ms(l):(l=Si(n)?Xl:Zr.current,l=_c(e,l));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==g||v!==l)&&aw(e,o,r,l),Da=!1,v=e.memoizedState,o.state=v,Gp(e,r,o,i);var S=e.memoizedState;a!==g||v!==S||Ei.current||Da?(typeof p=="function"&&(k1(e,n,p,r),S=e.memoizedState),(u=Da||ow(e,n,u,r,v,S,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),r=!1)}return L1(t,e,n,r,s,i)}function L1(t,e,n,r,i,s){bS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&J5(e,n,!1),Jo(t,e,s);r=e.stateNode,WN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ec(e,t.child,null,s),e.child=Ec(e,null,a,s)):ui(t,e,a,s),e.memoizedState=r.state,i&&J5(e,n,!0),e.child}function ES(t){var e=t.stateNode;e.pendingContext?X5(t,e.pendingContext,e.pendingContext!==e.context):e.context&&X5(t,e.context,!1),av(t,e.containerInfo)}function pw(t,e,n,r,i){return bc(),tv(i),e.flags|=256,ui(t,e,n,r),e.child}var R1={dehydrated:null,treeContext:null,retryLane:0};function O1(t){return{baseLanes:t,cachePool:null,transitions:null}}function SS(t,e,n){var r=e.pendingProps,i=Rn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),vn(Rn,i&1),t===null)return I1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Fg(o,r,0,null),t=$l(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=O1(n),e.memoizedState=R1,t):gv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return HN(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=el(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=el(a,s):(s=$l(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?O1(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=R1,r}return s=t.child,t=s.sibling,r=el(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function gv(t,e){return e=Fg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Od(t,e,n,r){return r!==null&&tv(r),Ec(e,t.child,null,n),t=gv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function HN(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Zm(Error(Oe(422))),Od(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Fg({mode:"visible",children:r.children},i,0,null),s=$l(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ec(e,t.child,null,o),e.child.memoizedState=O1(o),e.memoizedState=R1,s);if(!(e.mode&1))return Od(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Oe(419)),r=Zm(s,r,void 0),Od(t,e,o,r)}if(a=(o&t.childLanes)!==0,bi||a){if(r=Ar,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Xo(t,i),Os(r,t,i,-1))}return bv(),r=Zm(Error(Oe(421))),Od(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=i6.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Bi=Qa(i.nextSibling),$i=e,Tn=!0,Cs=null,t!==null&&(hs[fs++]=Vo,hs[fs++]=Bo,hs[fs++]=Jl,Vo=t.id,Bo=t.overflow,Jl=e),e=gv(e,r.children),e.flags|=4096,e)}function gw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),T1(t.return,e,n)}function e0(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function AS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ui(t,e,r.children,n),r=Rn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gw(t,n,e);else if(t.tag===19)gw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(vn(Rn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Kp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),e0(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Kp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}e0(e,!0,n,null,s);break;case"together":e0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function dp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),eu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Oe(153));if(e.child!==null){for(t=e.child,n=el(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=el(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function $N(t,e,n){switch(e.tag){case 3:ES(e),bc();break;case 5:QE(e);break;case 1:Si(e.type)&&zp(e);break;case 4:av(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;vn(Hp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(vn(Rn,Rn.current&1),e.flags|=128,null):n&e.child.childLanes?SS(t,e,n):(vn(Rn,Rn.current&1),t=Jo(t,e,n),t!==null?t.sibling:null);vn(Rn,Rn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return AS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),vn(Rn,Rn.current),r)break;return null;case 22:case 23:return e.lanes=0,_S(t,e,n)}return Jo(t,e,n)}var xS,D1,IS,TS;xS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};D1=function(){};IS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,zl(co.current);var s=null;switch(n){case"input":i=r1(t,i),r=r1(t,r),s=[];break;case"select":i=Dn({},i,{value:void 0}),r=Dn({},r,{value:void 0}),s=[];break;case"textarea":i=o1(t,i),r=o1(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vp)}l1(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(tf.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(tf.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&_n("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};TS=function(t,e,n,r){n!==r&&(e.flags|=4)};function mh(t,e){if(!Tn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function qr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function GN(t,e,n){var r=e.pendingProps;switch(ev(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qr(e),null;case 1:return Si(e.type)&&Bp(),qr(e),null;case 3:return r=e.stateNode,Sc(),Sn(Ei),Sn(Zr),uv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ld(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Cs!==null&&(q1(Cs),Cs=null))),D1(t,e),qr(e),null;case 5:lv(e);var i=zl(pf.current);if(n=e.type,t!==null&&e.stateNode!=null)IS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Oe(166));return qr(e),null}if(t=zl(co.current),Ld(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[oo]=e,r[ff]=s,t=(e.mode&1)!==0,n){case"dialog":_n("cancel",r),_n("close",r);break;case"iframe":case"object":case"embed":_n("load",r);break;case"video":case"audio":for(i=0;i<Ph.length;i++)_n(Ph[i],r);break;case"source":_n("error",r);break;case"img":case"image":case"link":_n("error",r),_n("load",r);break;case"details":_n("toggle",r);break;case"input":A5(r,s),_n("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},_n("invalid",r);break;case"textarea":I5(r,s),_n("invalid",r)}l1(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Cd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Cd(r.textContent,a,t),i=["children",""+a]):tf.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&_n("scroll",r)}switch(n){case"input":Sd(r),x5(r,s,!0);break;case"textarea":Sd(r),T5(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Vp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=tE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[oo]=e,t[ff]=r,xS(t,e,!1,!1),e.stateNode=t;e:{switch(o=u1(n,r),n){case"dialog":_n("cancel",t),_n("close",t),i=r;break;case"iframe":case"object":case"embed":_n("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ph.length;i++)_n(Ph[i],t);i=r;break;case"source":_n("error",t),i=r;break;case"img":case"image":case"link":_n("error",t),_n("load",t),i=r;break;case"details":_n("toggle",t),i=r;break;case"input":A5(t,r),i=r1(t,r),_n("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Dn({},r,{value:void 0}),_n("invalid",t);break;case"textarea":I5(t,r),i=o1(t,r),_n("invalid",t);break;default:i=r}l1(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?iE(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&nE(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&nf(t,l):typeof l=="number"&&nf(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(tf.hasOwnProperty(s)?l!=null&&s==="onScroll"&&_n("scroll",t):l!=null&&U2(t,s,l,o))}switch(n){case"input":Sd(t),x5(t,r,!1);break;case"textarea":Sd(t),T5(t);break;case"option":r.value!=null&&t.setAttribute("value",""+il(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ic(t,!!r.multiple,s,!1):r.defaultValue!=null&&ic(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Vp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qr(e),null;case 6:if(t&&e.stateNode!=null)TS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Oe(166));if(n=zl(pf.current),zl(co.current),Ld(e)){if(r=e.stateNode,n=e.memoizedProps,r[oo]=e,(s=r.nodeValue!==n)&&(t=$i,t!==null))switch(t.tag){case 3:Cd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Cd(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[oo]=e,e.stateNode=r}return qr(e),null;case 13:if(Sn(Rn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Tn&&Bi!==null&&e.mode&1&&!(e.flags&128))HE(),bc(),e.flags|=98560,s=!1;else if(s=Ld(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Oe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Oe(317));s[oo]=e}else bc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qr(e),s=!1}else Cs!==null&&(q1(Cs),Cs=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Rn.current&1?pr===0&&(pr=3):bv())),e.updateQueue!==null&&(e.flags|=4),qr(e),null);case 4:return Sc(),D1(t,e),t===null&&cf(e.stateNode.containerInfo),qr(e),null;case 10:return iv(e.type._context),qr(e),null;case 17:return Si(e.type)&&Bp(),qr(e),null;case 19:if(Sn(Rn),s=e.memoizedState,s===null)return qr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)mh(s,!1);else{if(pr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Kp(t),o!==null){for(e.flags|=128,mh(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return vn(Rn,Rn.current&1|2),e.child}t=t.sibling}s.tail!==null&&Zn()>xc&&(e.flags|=128,r=!0,mh(s,!1),e.lanes=4194304)}else{if(!r)if(t=Kp(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),mh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Tn)return qr(e),null}else 2*Zn()-s.renderingStartTime>xc&&n!==1073741824&&(e.flags|=128,r=!0,mh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Zn(),e.sibling=null,n=Rn.current,vn(Rn,r?n&1|2:n&1),e):(qr(e),null);case 22:case 23:return _v(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Vi&1073741824&&(qr(e),e.subtreeFlags&6&&(e.flags|=8192)):qr(e),null;case 24:return null;case 25:return null}throw Error(Oe(156,e.tag))}function KN(t,e){switch(ev(e),e.tag){case 1:return Si(e.type)&&Bp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Sc(),Sn(Ei),Sn(Zr),uv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return lv(e),null;case 13:if(Sn(Rn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Oe(340));bc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Sn(Rn),null;case 4:return Sc(),null;case 10:return iv(e.type._context),null;case 22:case 23:return _v(),null;case 24:return null;default:return null}}var Dd=!1,Xr=!1,YN=typeof WeakSet=="function"?WeakSet:Set,ze=null;function tc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){zn(t,e,r)}else n.current=null}function M1(t,e,n){try{n()}catch(r){zn(t,e,r)}}var mw=!1;function QN(t,e){if(w1=Fp,t=LE(),J2(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,f=0,g=t,v=null;t:for(;;){for(var p;g!==n||i!==0&&g.nodeType!==3||(a=o+i),g!==s||r!==0&&g.nodeType!==3||(l=o+r),g.nodeType===3&&(o+=g.nodeValue.length),(p=g.firstChild)!==null;)v=g,g=p;for(;;){if(g===t)break t;if(v===n&&++u===i&&(a=o),v===s&&++f===r&&(l=o),(p=g.nextSibling)!==null)break;g=v,v=g.parentNode}g=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(_1={focusedElem:t,selectionRange:n},Fp=!1,ze=e;ze!==null;)if(e=ze,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ze=t;else for(;ze!==null;){e=ze;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var I=S.memoizedProps,P=S.memoizedState,_=e.stateNode,k=_.getSnapshotBeforeUpdate(e.elementType===e.type?I:Ns(e.type,I),P);_.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Oe(163))}}catch(j){zn(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,ze=t;break}ze=e.return}return S=mw,mw=!1,S}function qh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&M1(e,n,s)}i=i.next}while(i!==r)}}function Dg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function F1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function kS(t){var e=t.alternate;e!==null&&(t.alternate=null,kS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[oo],delete e[ff],delete e[S1],delete e[LN],delete e[RN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function NS(t){return t.tag===5||t.tag===3||t.tag===4}function vw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||NS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function j1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vp));else if(r!==4&&(t=t.child,t!==null))for(j1(t,e,n),t=t.sibling;t!==null;)j1(t,e,n),t=t.sibling}function U1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(U1(t,e,n),t=t.sibling;t!==null;)U1(t,e,n),t=t.sibling}var Pr=null,Ps=!1;function Ta(t,e,n){for(n=n.child;n!==null;)PS(t,e,n),n=n.sibling}function PS(t,e,n){if(uo&&typeof uo.onCommitFiberUnmount=="function")try{uo.onCommitFiberUnmount(Tg,n)}catch{}switch(n.tag){case 5:Xr||tc(n,e);case 6:var r=Pr,i=Ps;Pr=null,Ta(t,e,n),Pr=r,Ps=i,Pr!==null&&(Ps?(t=Pr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Pr.removeChild(n.stateNode));break;case 18:Pr!==null&&(Ps?(t=Pr,n=n.stateNode,t.nodeType===8?Gm(t.parentNode,n):t.nodeType===1&&Gm(t,n),af(t)):Gm(Pr,n.stateNode));break;case 4:r=Pr,i=Ps,Pr=n.stateNode.containerInfo,Ps=!0,Ta(t,e,n),Pr=r,Ps=i;break;case 0:case 11:case 14:case 15:if(!Xr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&M1(n,e,o),i=i.next}while(i!==r)}Ta(t,e,n);break;case 1:if(!Xr&&(tc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){zn(n,e,a)}Ta(t,e,n);break;case 21:Ta(t,e,n);break;case 22:n.mode&1?(Xr=(r=Xr)||n.memoizedState!==null,Ta(t,e,n),Xr=r):Ta(t,e,n);break;default:Ta(t,e,n)}}function yw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new YN),e.forEach(function(r){var i=s6.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ts(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Pr=a.stateNode,Ps=!1;break e;case 3:Pr=a.stateNode.containerInfo,Ps=!0;break e;case 4:Pr=a.stateNode.containerInfo,Ps=!0;break e}a=a.return}if(Pr===null)throw Error(Oe(160));PS(s,o,i),Pr=null,Ps=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){zn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)CS(e,t),e=e.sibling}function CS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ts(e,t),no(t),r&4){try{qh(3,t,t.return),Dg(3,t)}catch(I){zn(t,t.return,I)}try{qh(5,t,t.return)}catch(I){zn(t,t.return,I)}}break;case 1:Ts(e,t),no(t),r&512&&n!==null&&tc(n,n.return);break;case 5:if(Ts(e,t),no(t),r&512&&n!==null&&tc(n,n.return),t.flags&32){var i=t.stateNode;try{nf(i,"")}catch(I){zn(t,t.return,I)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Z4(i,s),u1(a,o);var u=u1(a,s);for(o=0;o<l.length;o+=2){var f=l[o],g=l[o+1];f==="style"?iE(i,g):f==="dangerouslySetInnerHTML"?nE(i,g):f==="children"?nf(i,g):U2(i,f,g,u)}switch(a){case"input":i1(i,s);break;case"textarea":eE(i,s);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?ic(i,!!s.multiple,p,!1):v!==!!s.multiple&&(s.defaultValue!=null?ic(i,!!s.multiple,s.defaultValue,!0):ic(i,!!s.multiple,s.multiple?[]:"",!1))}i[ff]=s}catch(I){zn(t,t.return,I)}}break;case 6:if(Ts(e,t),no(t),r&4){if(t.stateNode===null)throw Error(Oe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(I){zn(t,t.return,I)}}break;case 3:if(Ts(e,t),no(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{af(e.containerInfo)}catch(I){zn(t,t.return,I)}break;case 4:Ts(e,t),no(t);break;case 13:Ts(e,t),no(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(yv=Zn())),r&4&&yw(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Xr=(u=Xr)||f,Ts(e,t),Xr=u):Ts(e,t),no(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(ze=t,f=t.child;f!==null;){for(g=ze=f;ze!==null;){switch(v=ze,p=v.child,v.tag){case 0:case 11:case 14:case 15:qh(4,v,v.return);break;case 1:tc(v,v.return);var S=v.stateNode;if(typeof S.componentWillUnmount=="function"){r=v,n=v.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(I){zn(r,n,I)}}break;case 5:tc(v,v.return);break;case 22:if(v.memoizedState!==null){_w(g);continue}}p!==null?(p.return=v,ze=p):_w(g)}f=f.sibling}e:for(f=null,g=t;;){if(g.tag===5){if(f===null){f=g;try{i=g.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=g.stateNode,l=g.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=rE("display",o))}catch(I){zn(t,t.return,I)}}}else if(g.tag===6){if(f===null)try{g.stateNode.nodeValue=u?"":g.memoizedProps}catch(I){zn(t,t.return,I)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;f===g&&(f=null),g=g.return}f===g&&(f=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Ts(e,t),no(t),r&4&&yw(t);break;case 21:break;default:Ts(e,t),no(t)}}function no(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(NS(n)){var r=n;break e}n=n.return}throw Error(Oe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(nf(i,""),r.flags&=-33);var s=vw(t);U1(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=vw(t);j1(t,a,o);break;default:throw Error(Oe(161))}}catch(l){zn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function XN(t,e,n){ze=t,LS(t)}function LS(t,e,n){for(var r=(t.mode&1)!==0;ze!==null;){var i=ze,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Dd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Xr;a=Dd;var u=Xr;if(Dd=o,(Xr=l)&&!u)for(ze=i;ze!==null;)o=ze,l=o.child,o.tag===22&&o.memoizedState!==null?bw(i):l!==null?(l.return=o,ze=l):bw(i);for(;s!==null;)ze=s,LS(s),s=s.sibling;ze=i,Dd=a,Xr=u}ww(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ze=s):ww(t)}}function ww(t){for(;ze!==null;){var e=ze;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xr||Dg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Xr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ns(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&rw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}rw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var g=f.dehydrated;g!==null&&af(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Oe(163))}Xr||e.flags&512&&F1(e)}catch(v){zn(e,e.return,v)}}if(e===t){ze=null;break}if(n=e.sibling,n!==null){n.return=e.return,ze=n;break}ze=e.return}}function _w(t){for(;ze!==null;){var e=ze;if(e===t){ze=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ze=n;break}ze=e.return}}function bw(t){for(;ze!==null;){var e=ze;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Dg(4,e)}catch(l){zn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){zn(e,i,l)}}var s=e.return;try{F1(e)}catch(l){zn(e,s,l)}break;case 5:var o=e.return;try{F1(e)}catch(l){zn(e,o,l)}}}catch(l){zn(e,e.return,l)}if(e===t){ze=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ze=a;break}ze=e.return}}var JN=Math.ceil,Xp=sa.ReactCurrentDispatcher,mv=sa.ReactCurrentOwner,ps=sa.ReactCurrentBatchConfig,$t=0,Ar=null,sr=null,Rr=0,Vi=0,nc=fl(0),pr=0,yf=null,eu=0,Mg=0,vv=0,Wh=null,wi=null,yv=0,xc=1/0,Mo=null,Jp=!1,V1=null,Ja=null,Md=!1,qa=null,Zp=0,Hh=0,B1=null,pp=-1,gp=0;function ci(){return $t&6?Zn():pp!==-1?pp:pp=Zn()}function Za(t){return t.mode&1?$t&2&&Rr!==0?Rr&-Rr:DN.transition!==null?(gp===0&&(gp=mE()),gp):(t=on,t!==0||(t=window.event,t=t===void 0?16:SE(t.type)),t):1}function Os(t,e,n,r){if(50<Hh)throw Hh=0,B1=null,Error(Oe(185));Df(t,n,r),(!($t&2)||t!==Ar)&&(t===Ar&&(!($t&2)&&(Mg|=n),pr===4&&Fa(t,Rr)),Ai(t,r),n===1&&$t===0&&!(e.mode&1)&&(xc=Zn()+500,Lg&&dl()))}function Ai(t,e){var n=t.callbackNode;Dk(t,e);var r=Mp(t,t===Ar?Rr:0);if(r===0)n!==null&&P5(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&P5(n),e===1)t.tag===0?ON(Ew.bind(null,t)):zE(Ew.bind(null,t)),PN(function(){!($t&6)&&dl()}),n=null;else{switch(vE(r)){case 1:n=W2;break;case 4:n=pE;break;case 16:n=Dp;break;case 536870912:n=gE;break;default:n=Dp}n=VS(n,RS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function RS(t,e){if(pp=-1,gp=0,$t&6)throw Error(Oe(327));var n=t.callbackNode;if(uc()&&t.callbackNode!==n)return null;var r=Mp(t,t===Ar?Rr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=eg(t,r);else{e=r;var i=$t;$t|=2;var s=DS();(Ar!==t||Rr!==e)&&(Mo=null,xc=Zn()+500,Hl(t,e));do try{t6();break}catch(a){OS(t,a)}while(!0);rv(),Xp.current=s,$t=i,sr!==null?e=0:(Ar=null,Rr=0,e=pr)}if(e!==0){if(e===2&&(i=p1(t),i!==0&&(r=i,e=z1(t,i))),e===1)throw n=yf,Hl(t,0),Fa(t,r),Ai(t,Zn()),n;if(e===6)Fa(t,r);else{if(i=t.current.alternate,!(r&30)&&!ZN(i)&&(e=eg(t,r),e===2&&(s=p1(t),s!==0&&(r=s,e=z1(t,s))),e===1))throw n=yf,Hl(t,0),Fa(t,r),Ai(t,Zn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Oe(345));case 2:Ol(t,wi,Mo);break;case 3:if(Fa(t,r),(r&130023424)===r&&(e=yv+500-Zn(),10<e)){if(Mp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ci(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=E1(Ol.bind(null,t,wi,Mo),e);break}Ol(t,wi,Mo);break;case 4:if(Fa(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Rs(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Zn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*JN(r/1960))-r,10<r){t.timeoutHandle=E1(Ol.bind(null,t,wi,Mo),r);break}Ol(t,wi,Mo);break;case 5:Ol(t,wi,Mo);break;default:throw Error(Oe(329))}}}return Ai(t,Zn()),t.callbackNode===n?RS.bind(null,t):null}function z1(t,e){var n=Wh;return t.current.memoizedState.isDehydrated&&(Hl(t,e).flags|=256),t=eg(t,e),t!==2&&(e=wi,wi=n,e!==null&&q1(e)),t}function q1(t){wi===null?wi=t:wi.push.apply(wi,t)}function ZN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ms(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fa(t,e){for(e&=~vv,e&=~Mg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Rs(e),r=1<<n;t[n]=-1,e&=~r}}function Ew(t){if($t&6)throw Error(Oe(327));uc();var e=Mp(t,0);if(!(e&1))return Ai(t,Zn()),null;var n=eg(t,e);if(t.tag!==0&&n===2){var r=p1(t);r!==0&&(e=r,n=z1(t,r))}if(n===1)throw n=yf,Hl(t,0),Fa(t,e),Ai(t,Zn()),n;if(n===6)throw Error(Oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ol(t,wi,Mo),Ai(t,Zn()),null}function wv(t,e){var n=$t;$t|=1;try{return t(e)}finally{$t=n,$t===0&&(xc=Zn()+500,Lg&&dl())}}function tu(t){qa!==null&&qa.tag===0&&!($t&6)&&uc();var e=$t;$t|=1;var n=ps.transition,r=on;try{if(ps.transition=null,on=1,t)return t()}finally{on=r,ps.transition=n,$t=e,!($t&6)&&dl()}}function _v(){Vi=nc.current,Sn(nc)}function Hl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,NN(n)),sr!==null)for(n=sr.return;n!==null;){var r=n;switch(ev(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bp();break;case 3:Sc(),Sn(Ei),Sn(Zr),uv();break;case 5:lv(r);break;case 4:Sc();break;case 13:Sn(Rn);break;case 19:Sn(Rn);break;case 10:iv(r.type._context);break;case 22:case 23:_v()}n=n.return}if(Ar=t,sr=t=el(t.current,null),Rr=Vi=e,pr=0,yf=null,vv=Mg=eu=0,wi=Wh=null,Bl!==null){for(e=0;e<Bl.length;e++)if(n=Bl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Bl=null}return t}function OS(t,e){do{var n=sr;try{if(rv(),hp.current=Qp,Yp){for(var r=On.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Yp=!1}if(Zl=0,Er=dr=On=null,zh=!1,gf=0,mv.current=null,n===null||n.return===null){pr=1,yf=e,sr=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Rr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=a,g=f.tag;if(!(f.mode&1)&&(g===0||g===11||g===15)){var v=f.alternate;v?(f.updateQueue=v.updateQueue,f.memoizedState=v.memoizedState,f.lanes=v.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=uw(o);if(p!==null){p.flags&=-257,cw(p,o,a,s,e),p.mode&1&&lw(s,u,e),e=p,l=u;var S=e.updateQueue;if(S===null){var I=new Set;I.add(l),e.updateQueue=I}else S.add(l);break e}else{if(!(e&1)){lw(s,u,e),bv();break e}l=Error(Oe(426))}}else if(Tn&&a.mode&1){var P=uw(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),cw(P,o,a,s,e),tv(Ac(l,a));break e}}s=l=Ac(l,a),pr!==4&&(pr=2),Wh===null?Wh=[s]:Wh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=vS(s,l,e);nw(s,_);break e;case 1:a=l;var k=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof k.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Ja===null||!Ja.has(C)))){s.flags|=65536,e&=-e,s.lanes|=e;var j=yS(s,a,e);nw(s,j);break e}}s=s.return}while(s!==null)}FS(n)}catch(Q){e=Q,sr===n&&n!==null&&(sr=n=n.return);continue}break}while(!0)}function DS(){var t=Xp.current;return Xp.current=Qp,t===null?Qp:t}function bv(){(pr===0||pr===3||pr===2)&&(pr=4),Ar===null||!(eu&268435455)&&!(Mg&268435455)||Fa(Ar,Rr)}function eg(t,e){var n=$t;$t|=2;var r=DS();(Ar!==t||Rr!==e)&&(Mo=null,Hl(t,e));do try{e6();break}catch(i){OS(t,i)}while(!0);if(rv(),$t=n,Xp.current=r,sr!==null)throw Error(Oe(261));return Ar=null,Rr=0,pr}function e6(){for(;sr!==null;)MS(sr)}function t6(){for(;sr!==null&&!Ik();)MS(sr)}function MS(t){var e=US(t.alternate,t,Vi);t.memoizedProps=t.pendingProps,e===null?FS(t):sr=e,mv.current=null}function FS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=KN(n,e),n!==null){n.flags&=32767,sr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pr=6,sr=null;return}}else if(n=GN(n,e,Vi),n!==null){sr=n;return}if(e=e.sibling,e!==null){sr=e;return}sr=e=t}while(e!==null);pr===0&&(pr=5)}function Ol(t,e,n){var r=on,i=ps.transition;try{ps.transition=null,on=1,n6(t,e,n,r)}finally{ps.transition=i,on=r}return null}function n6(t,e,n,r){do uc();while(qa!==null);if($t&6)throw Error(Oe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Oe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Mk(t,s),t===Ar&&(sr=Ar=null,Rr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Md||(Md=!0,VS(Dp,function(){return uc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ps.transition,ps.transition=null;var o=on;on=1;var a=$t;$t|=4,mv.current=null,QN(t,n),CS(n,t),EN(_1),Fp=!!w1,_1=w1=null,t.current=n,XN(n),Tk(),$t=a,on=o,ps.transition=s}else t.current=n;if(Md&&(Md=!1,qa=t,Zp=i),s=t.pendingLanes,s===0&&(Ja=null),Pk(n.stateNode),Ai(t,Zn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Jp)throw Jp=!1,t=V1,V1=null,t;return Zp&1&&t.tag!==0&&uc(),s=t.pendingLanes,s&1?t===B1?Hh++:(Hh=0,B1=t):Hh=0,dl(),null}function uc(){if(qa!==null){var t=vE(Zp),e=ps.transition,n=on;try{if(ps.transition=null,on=16>t?16:t,qa===null)var r=!1;else{if(t=qa,qa=null,Zp=0,$t&6)throw Error(Oe(331));var i=$t;for($t|=4,ze=t.current;ze!==null;){var s=ze,o=s.child;if(ze.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ze=u;ze!==null;){var f=ze;switch(f.tag){case 0:case 11:case 15:qh(8,f,s)}var g=f.child;if(g!==null)g.return=f,ze=g;else for(;ze!==null;){f=ze;var v=f.sibling,p=f.return;if(kS(f),f===u){ze=null;break}if(v!==null){v.return=p,ze=v;break}ze=p}}}var S=s.alternate;if(S!==null){var I=S.child;if(I!==null){S.child=null;do{var P=I.sibling;I.sibling=null,I=P}while(I!==null)}}ze=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ze=o;else e:for(;ze!==null;){if(s=ze,s.flags&2048)switch(s.tag){case 0:case 11:case 15:qh(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,ze=_;break e}ze=s.return}}var k=t.current;for(ze=k;ze!==null;){o=ze;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,ze=C;else e:for(o=k;ze!==null;){if(a=ze,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Dg(9,a)}}catch(Q){zn(a,a.return,Q)}if(a===o){ze=null;break e}var j=a.sibling;if(j!==null){j.return=a.return,ze=j;break e}ze=a.return}}if($t=i,dl(),uo&&typeof uo.onPostCommitFiberRoot=="function")try{uo.onPostCommitFiberRoot(Tg,t)}catch{}r=!0}return r}finally{on=n,ps.transition=e}}return!1}function Sw(t,e,n){e=Ac(n,e),e=vS(t,e,1),t=Xa(t,e,1),e=ci(),t!==null&&(Df(t,1,e),Ai(t,e))}function zn(t,e,n){if(t.tag===3)Sw(t,t,n);else for(;e!==null;){if(e.tag===3){Sw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ja===null||!Ja.has(r))){t=Ac(n,t),t=yS(e,t,1),e=Xa(e,t,1),t=ci(),e!==null&&(Df(e,1,t),Ai(e,t));break}}e=e.return}}function r6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ci(),t.pingedLanes|=t.suspendedLanes&n,Ar===t&&(Rr&n)===n&&(pr===4||pr===3&&(Rr&130023424)===Rr&&500>Zn()-yv?Hl(t,0):vv|=n),Ai(t,e)}function jS(t,e){e===0&&(t.mode&1?(e=Id,Id<<=1,!(Id&130023424)&&(Id=4194304)):e=1);var n=ci();t=Xo(t,e),t!==null&&(Df(t,e,n),Ai(t,n))}function i6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),jS(t,n)}function s6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Oe(314))}r!==null&&r.delete(e),jS(t,n)}var US;US=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ei.current)bi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return bi=!1,$N(t,e,n);bi=!!(t.flags&131072)}else bi=!1,Tn&&e.flags&1048576&&qE(e,Wp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;dp(t,e),t=e.pendingProps;var i=_c(e,Zr.current);lc(e,n),i=hv(null,e,r,t,i,n);var s=fv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Si(r)?(s=!0,zp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ov(e),i.updater=Og,e.stateNode=i,i._reactInternals=e,N1(e,r,t,n),e=L1(null,e,r,!0,s,n)):(e.tag=0,Tn&&s&&Z2(e),ui(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(dp(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=a6(r),t=Ns(r,t),i){case 0:e=C1(null,e,r,t,n);break e;case 1:e=dw(null,e,r,t,n);break e;case 11:e=hw(null,e,r,t,n);break e;case 14:e=fw(null,e,r,Ns(r.type,t),n);break e}throw Error(Oe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ns(r,i),C1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ns(r,i),dw(t,e,r,i,n);case 3:e:{if(ES(e),t===null)throw Error(Oe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,YE(t,e),Gp(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ac(Error(Oe(423)),e),e=pw(t,e,r,n,i);break e}else if(r!==i){i=Ac(Error(Oe(424)),e),e=pw(t,e,r,n,i);break e}else for(Bi=Qa(e.stateNode.containerInfo.firstChild),$i=e,Tn=!0,Cs=null,n=GE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(bc(),r===i){e=Jo(t,e,n);break e}ui(t,e,r,n)}e=e.child}return e;case 5:return QE(e),t===null&&I1(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,b1(r,i)?o=null:s!==null&&b1(r,s)&&(e.flags|=32),bS(t,e),ui(t,e,o,n),e.child;case 6:return t===null&&I1(e),null;case 13:return SS(t,e,n);case 4:return av(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ec(e,null,r,n):ui(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ns(r,i),hw(t,e,r,i,n);case 7:return ui(t,e,e.pendingProps,n),e.child;case 8:return ui(t,e,e.pendingProps.children,n),e.child;case 12:return ui(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,vn(Hp,r._currentValue),r._currentValue=o,s!==null)if(Ms(s.value,o)){if(s.children===i.children&&!Ei.current){e=Jo(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=$o(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),T1(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Oe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),T1(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ui(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,lc(e,n),i=ms(i),r=r(i),e.flags|=1,ui(t,e,r,n),e.child;case 14:return r=e.type,i=Ns(r,e.pendingProps),i=Ns(r.type,i),fw(t,e,r,i,n);case 15:return wS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ns(r,i),dp(t,e),e.tag=1,Si(r)?(t=!0,zp(e)):t=!1,lc(e,n),mS(e,r,i),N1(e,r,i,n),L1(null,e,r,!0,t,n);case 19:return AS(t,e,n);case 22:return _S(t,e,n)}throw Error(Oe(156,e.tag))};function VS(t,e){return dE(t,e)}function o6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ds(t,e,n,r){return new o6(t,e,n,r)}function Ev(t){return t=t.prototype,!(!t||!t.isReactComponent)}function a6(t){if(typeof t=="function")return Ev(t)?1:0;if(t!=null){if(t=t.$$typeof,t===B2)return 11;if(t===z2)return 14}return 2}function el(t,e){var n=t.alternate;return n===null?(n=ds(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function mp(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Ev(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case $u:return $l(n.children,i,s,e);case V2:o=8,i|=8;break;case Z0:return t=ds(12,n,e,i|2),t.elementType=Z0,t.lanes=s,t;case e1:return t=ds(13,n,e,i),t.elementType=e1,t.lanes=s,t;case t1:return t=ds(19,n,e,i),t.elementType=t1,t.lanes=s,t;case Q4:return Fg(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K4:o=10;break e;case Y4:o=9;break e;case B2:o=11;break e;case z2:o=14;break e;case Oa:o=16,r=null;break e}throw Error(Oe(130,t==null?t:typeof t,""))}return e=ds(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function $l(t,e,n,r){return t=ds(7,t,r,e),t.lanes=n,t}function Fg(t,e,n,r){return t=ds(22,t,r,e),t.elementType=Q4,t.lanes=n,t.stateNode={isHidden:!1},t}function t0(t,e,n){return t=ds(6,t,null,e),t.lanes=n,t}function n0(t,e,n){return e=ds(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function l6(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mm(0),this.expirationTimes=Mm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Sv(t,e,n,r,i,s,o,a,l){return t=new l6(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ds(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ov(s),t}function u6(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function BS(t){if(!t)return sl;t=t._reactInternals;e:{if(fu(t)!==t||t.tag!==1)throw Error(Oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Si(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Oe(171))}if(t.tag===1){var n=t.type;if(Si(n))return BE(t,n,e)}return e}function zS(t,e,n,r,i,s,o,a,l){return t=Sv(n,r,!0,t,i,s,o,a,l),t.context=BS(null),n=t.current,r=ci(),i=Za(n),s=$o(r,i),s.callback=e??null,Xa(n,s,i),t.current.lanes=i,Df(t,i,r),Ai(t,r),t}function jg(t,e,n,r){var i=e.current,s=ci(),o=Za(i);return n=BS(n),e.context===null?e.context=n:e.pendingContext=n,e=$o(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Xa(i,e,o),t!==null&&(Os(t,i,o,s),cp(t,i,o)),o}function tg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Aw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Av(t,e){Aw(t,e),(t=t.alternate)&&Aw(t,e)}function c6(){return null}var qS=typeof reportError=="function"?reportError:function(t){console.error(t)};function xv(t){this._internalRoot=t}Ug.prototype.render=xv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Oe(409));jg(t,e,null,null)};Ug.prototype.unmount=xv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;tu(function(){jg(null,t,null,null)}),e[Qo]=null}};function Ug(t){this._internalRoot=t}Ug.prototype.unstable_scheduleHydration=function(t){if(t){var e=_E();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ma.length&&e!==0&&e<Ma[n].priority;n++);Ma.splice(n,0,t),n===0&&EE(t)}};function Iv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Vg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xw(){}function h6(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=tg(o);s.call(u)}}var o=zS(e,r,t,0,null,!1,!1,"",xw);return t._reactRootContainer=o,t[Qo]=o.current,cf(t.nodeType===8?t.parentNode:t),tu(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=tg(l);a.call(u)}}var l=Sv(t,0,!1,null,null,!1,!1,"",xw);return t._reactRootContainer=l,t[Qo]=l.current,cf(t.nodeType===8?t.parentNode:t),tu(function(){jg(e,l,n,r)}),l}function Bg(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=tg(o);a.call(l)}}jg(e,o,t,i)}else o=h6(n,e,t,i,r);return tg(o)}yE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Nh(e.pendingLanes);n!==0&&(H2(e,n|1),Ai(e,Zn()),!($t&6)&&(xc=Zn()+500,dl()))}break;case 13:tu(function(){var r=Xo(t,1);if(r!==null){var i=ci();Os(r,t,1,i)}}),Av(t,1)}};$2=function(t){if(t.tag===13){var e=Xo(t,134217728);if(e!==null){var n=ci();Os(e,t,134217728,n)}Av(t,134217728)}};wE=function(t){if(t.tag===13){var e=Za(t),n=Xo(t,e);if(n!==null){var r=ci();Os(n,t,e,r)}Av(t,e)}};_E=function(){return on};bE=function(t,e){var n=on;try{return on=t,e()}finally{on=n}};h1=function(t,e,n){switch(e){case"input":if(i1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Cg(r);if(!i)throw Error(Oe(90));J4(r),i1(r,i)}}}break;case"textarea":eE(t,n);break;case"select":e=n.value,e!=null&&ic(t,!!n.multiple,e,!1)}};aE=wv;lE=tu;var f6={usingClientEntryPoint:!1,Events:[Ff,Qu,Cg,sE,oE,wv]},vh={findFiberByHostInstance:Vl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},d6={bundleType:vh.bundleType,version:vh.version,rendererPackageName:vh.rendererPackageName,rendererConfig:vh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hE(t),t===null?null:t.stateNode},findFiberByHostInstance:vh.findFiberByHostInstance||c6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fd.isDisabled&&Fd.supportsFiber)try{Tg=Fd.inject(d6),uo=Fd}catch{}}Yi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f6;Yi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Iv(e))throw Error(Oe(200));return u6(t,e,null,n)};Yi.createRoot=function(t,e){if(!Iv(t))throw Error(Oe(299));var n=!1,r="",i=qS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Sv(t,1,!1,null,null,n,!1,r,i),t[Qo]=e.current,cf(t.nodeType===8?t.parentNode:t),new xv(e)};Yi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Oe(188)):(t=Object.keys(t).join(","),Error(Oe(268,t)));return t=hE(e),t=t===null?null:t.stateNode,t};Yi.flushSync=function(t){return tu(t)};Yi.hydrate=function(t,e,n){if(!Vg(e))throw Error(Oe(200));return Bg(null,t,e,!0,n)};Yi.hydrateRoot=function(t,e,n){if(!Iv(t))throw Error(Oe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=qS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=zS(e,null,t,1,n??null,i,!1,s,o),t[Qo]=e.current,cf(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ug(e)};Yi.render=function(t,e,n){if(!Vg(e))throw Error(Oe(200));return Bg(null,t,e,!1,n)};Yi.unmountComponentAtNode=function(t){if(!Vg(t))throw Error(Oe(40));return t._reactRootContainer?(tu(function(){Bg(null,null,t,!1,function(){t._reactRootContainer=null,t[Qo]=null})}),!0):!1};Yi.unstable_batchedUpdates=wv;Yi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Vg(n))throw Error(Oe(200));if(t==null||t._reactInternals===void 0)throw Error(Oe(38));return Bg(t,e,n,!1,r)};Yi.version="18.3.1-next-f1338f8080-20240426";function WS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(WS)}catch(t){console.error(t)}}WS(),W4.exports=Yi;var p6=W4.exports,Iw=p6;X0.createRoot=Iw.createRoot,X0.hydrateRoot=Iw.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wf(){return wf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wf.apply(this,arguments)}var Wa;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Wa||(Wa={}));const Tw="popstate";function g6(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=du(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),W1("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof s=="string"?s:HS(s))}function r(i,s){zg(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return v6(e,n,r,t)}function ar(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function m6(){return Math.random().toString(36).substr(2,8)}function kw(t,e){return{usr:t.state,key:t.key,idx:e}}function W1(t,e,n,r){return n===void 0&&(n=null),wf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?du(e):e,{state:n,key:e&&e.key||r||m6()})}function HS(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function du(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function v6(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Wa.Pop,l=null,u=f();u==null&&(u=0,o.replaceState(wf({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function g(){a=Wa.Pop;let P=f(),_=P==null?null:P-u;u=P,l&&l({action:a,location:I.location,delta:_})}function v(P,_){a=Wa.Push;let k=W1(I.location,P,_);n&&n(k,P),u=f()+1;let C=kw(k,u),j=I.createHref(k);try{o.pushState(C,"",j)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;i.location.assign(j)}s&&l&&l({action:a,location:I.location,delta:1})}function p(P,_){a=Wa.Replace;let k=W1(I.location,P,_);n&&n(k,P),u=f();let C=kw(k,u),j=I.createHref(k);o.replaceState(C,"",j),s&&l&&l({action:a,location:I.location,delta:0})}function S(P){let _=i.location.origin!=="null"?i.location.origin:i.location.href,k=typeof P=="string"?P:HS(P);return k=k.replace(/ $/,"%20"),ar(_,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,_)}let I={get action(){return a},get location(){return t(i,o)},listen(P){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Tw,g),l=P,()=>{i.removeEventListener(Tw,g),l=null}},createHref(P){return e(i,P)},createURL:S,encodeLocation(P){let _=S(P);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:v,replace:p,go(P){return o.go(P)}};return I}var Nw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Nw||(Nw={}));function y6(t,e,n){return n===void 0&&(n="/"),w6(t,e,n)}function w6(t,e,n,r){let i=typeof e=="string"?du(e):e,s=KS(i.pathname||"/",n);if(s==null)return null;let o=$S(t);_6(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=L6(s);a=N6(o[l],u)}return a}function $S(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ar(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Gl([r,l.relativePath]),f=n.concat(l);s.children&&s.children.length>0&&(ar(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),$S(s.children,e,f,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:T6(u,s.index),routesMeta:f})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of GS(s.path))i(s,o,l)}),e}function GS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=GS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function _6(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:k6(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const b6=/^:[\w-]+$/,E6=3,S6=2,A6=1,x6=10,I6=-2,Pw=t=>t==="*";function T6(t,e){let n=t.split("/"),r=n.length;return n.some(Pw)&&(r+=I6),e&&(r+=S6),n.filter(i=>!Pw(i)).reduce((i,s)=>i+(b6.test(s)?E6:s===""?A6:x6),r)}function k6(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function N6(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",g=P6({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f),v=l.route;if(!g)return null;Object.assign(i,g.params),o.push({params:i,pathname:Gl([s,g.pathname]),pathnameBase:F6(Gl([s,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(s=Gl([s,g.pathnameBase]))}return o}function P6(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=C6(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,f,g)=>{let{paramName:v,isOptional:p}=f;if(v==="*"){let I=a[g]||"";o=s.slice(0,s.length-I.length).replace(/(.)\/+$/,"$1")}const S=a[g];return p&&!S?u[v]=void 0:u[v]=(S||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function C6(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),zg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function L6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function KS(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const R6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,O6=t=>R6.test(t);function D6(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?du(t):t,s;if(n)if(O6(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),zg(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?s=Cw(n.substring(1),"/"):s=Cw(n,e)}else s=e;return{pathname:s,search:j6(r),hash:U6(i)}}function Cw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function r0(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function M6(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function YS(t,e){let n=M6(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function QS(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=du(t):(i=wf({},t),ar(!i.pathname||!i.pathname.includes("?"),r0("?","pathname","search",i)),ar(!i.pathname||!i.pathname.includes("#"),r0("#","pathname","hash",i)),ar(!i.search||!i.search.includes("#"),r0("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let g=e.length-1;if(!r&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),g-=1;i.pathname=v.join("/")}a=g>=0?e[g]:"/"}let l=D6(i,a),u=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}const Gl=t=>t.join("/").replace(/\/\/+/g,"/"),F6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),j6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,U6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function V6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const XS=["post","put","patch","delete"];new Set(XS);const B6=["get",...XS];new Set(B6);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _f(){return _f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_f.apply(this,arguments)}const Tv=Pe.createContext(null),z6=Pe.createContext(null),Uf=Pe.createContext(null),qg=Pe.createContext(null),pu=Pe.createContext({outlet:null,matches:[],isDataRoute:!1}),JS=Pe.createContext(null);function Vf(){return Pe.useContext(qg)!=null}function Bf(){return Vf()||ar(!1),Pe.useContext(qg).location}function ZS(t){Pe.useContext(Uf).static||Pe.useLayoutEffect(t)}function kv(){let{isDataRoute:t}=Pe.useContext(pu);return t?tP():q6()}function q6(){Vf()||ar(!1);let t=Pe.useContext(Tv),{basename:e,future:n,navigator:r}=Pe.useContext(Uf),{matches:i}=Pe.useContext(pu),{pathname:s}=Bf(),o=JSON.stringify(YS(i,n.v7_relativeSplatPath)),a=Pe.useRef(!1);return ZS(()=>{a.current=!0}),Pe.useCallback(function(u,f){if(f===void 0&&(f={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let g=QS(u,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Gl([e,g.pathname])),(f.replace?r.replace:r.push)(g,f.state,f)},[e,r,o,s,t])}function W6(t,e){return H6(t,e)}function H6(t,e,n,r){Vf()||ar(!1);let{navigator:i}=Pe.useContext(Uf),{matches:s}=Pe.useContext(pu),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Bf(),f;if(e){var g;let P=typeof e=="string"?du(e):e;l==="/"||(g=P.pathname)!=null&&g.startsWith(l)||ar(!1),f=P}else f=u;let v=f.pathname||"/",p=v;if(l!=="/"){let P=l.replace(/^\//,"").split("/");p="/"+v.replace(/^\//,"").split("/").slice(P.length).join("/")}let S=y6(t,{pathname:p}),I=Q6(S&&S.map(P=>Object.assign({},P,{params:Object.assign({},a,P.params),pathname:Gl([l,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?l:Gl([l,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),s,n,r);return e&&I?Pe.createElement(qg.Provider,{value:{location:_f({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Wa.Pop}},I):I}function $6(){let t=eP(),e=V6(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Pe.createElement(Pe.Fragment,null,Pe.createElement("h2",null,"Unexpected Application Error!"),Pe.createElement("h3",{style:{fontStyle:"italic"}},e),n?Pe.createElement("pre",{style:i},n):null,null)}const G6=Pe.createElement($6,null);class K6 extends Pe.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?Pe.createElement(pu.Provider,{value:this.props.routeContext},Pe.createElement(JS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Y6(t){let{routeContext:e,match:n,children:r}=t,i=Pe.useContext(Tv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),Pe.createElement(pu.Provider,{value:e},r)}function Q6(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let f=o.findIndex(g=>g.route.id&&(a==null?void 0:a[g.route.id])!==void 0);f>=0||ar(!1),o=o.slice(0,Math.min(o.length,f+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let g=o[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(u=f),g.route.id){let{loaderData:v,errors:p}=n,S=g.route.loader&&v[g.route.id]===void 0&&(!p||p[g.route.id]===void 0);if(g.route.lazy||S){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,g,v)=>{let p,S=!1,I=null,P=null;n&&(p=a&&g.route.id?a[g.route.id]:void 0,I=g.route.errorElement||G6,l&&(u<0&&v===0?(nP("route-fallback"),S=!0,P=null):u===v&&(S=!0,P=g.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,v+1)),k=()=>{let C;return p?C=I:S?C=P:g.route.Component?C=Pe.createElement(g.route.Component,null):g.route.element?C=g.route.element:C=f,Pe.createElement(Y6,{match:g,routeContext:{outlet:f,matches:_,isDataRoute:n!=null},children:C})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?Pe.createElement(K6,{location:n.location,revalidation:n.revalidation,component:I,error:p,children:k(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):k()},null)}var eA=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(eA||{}),tA=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(tA||{});function X6(t){let e=Pe.useContext(Tv);return e||ar(!1),e}function J6(t){let e=Pe.useContext(z6);return e||ar(!1),e}function Z6(t){let e=Pe.useContext(pu);return e||ar(!1),e}function nA(t){let e=Z6(),n=e.matches[e.matches.length-1];return n.route.id||ar(!1),n.route.id}function eP(){var t;let e=Pe.useContext(JS),n=J6(),r=nA();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function tP(){let{router:t}=X6(eA.UseNavigateStable),e=nA(tA.UseNavigateStable),n=Pe.useRef(!1);return ZS(()=>{n.current=!0}),Pe.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,_f({fromRouteId:e},s)))},[t,e])}const Lw={};function nP(t,e,n){Lw[t]||(Lw[t]=!0)}function rP(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function H1(t){let{to:e,replace:n,state:r,relative:i}=t;Vf()||ar(!1);let{future:s,static:o}=Pe.useContext(Uf),{matches:a}=Pe.useContext(pu),{pathname:l}=Bf(),u=kv(),f=QS(e,YS(a,s.v7_relativeSplatPath),l,i==="path"),g=JSON.stringify(f);return Pe.useEffect(()=>u(JSON.parse(g),{replace:n,state:r,relative:i}),[u,g,i,n,r]),null}function Dl(t){ar(!1)}function iP(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Wa.Pop,navigator:s,static:o=!1,future:a}=t;Vf()&&ar(!1);let l=e.replace(/^\/*/,"/"),u=Pe.useMemo(()=>({basename:l,navigator:s,static:o,future:_f({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=du(r));let{pathname:f="/",search:g="",hash:v="",state:p=null,key:S="default"}=r,I=Pe.useMemo(()=>{let P=KS(f,l);return P==null?null:{location:{pathname:P,search:g,hash:v,state:p,key:S},navigationType:i}},[l,f,g,v,p,S,i]);return I==null?null:Pe.createElement(Uf.Provider,{value:u},Pe.createElement(qg.Provider,{children:n,value:I}))}function sP(t){let{children:e,location:n}=t;return W6($1(e),n)}new Promise(()=>{});function $1(t,e){e===void 0&&(e=[]);let n=[];return Pe.Children.forEach(t,(r,i)=>{if(!Pe.isValidElement(r))return;let s=[...e,i];if(r.type===Pe.Fragment){n.push.apply(n,$1(r.props.children,s));return}r.type!==Dl&&ar(!1),!r.props.index||!r.props.children||ar(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=$1(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const oP="6";try{window.__reactRouterVersion=oP}catch{}const aP="startTransition",Rw=rk[aP];function lP(t){let{basename:e,children:n,future:r,window:i}=t,s=Pe.useRef();s.current==null&&(s.current=g6({window:i,v5Compat:!0}));let o=s.current,[a,l]=Pe.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},f=Pe.useCallback(g=>{u&&Rw?Rw(()=>l(g)):l(g)},[l,u]);return Pe.useLayoutEffect(()=>o.listen(f),[o,f]),Pe.useEffect(()=>rP(r),[r]),Pe.createElement(iP,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var Ow;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ow||(Ow={}));var Dw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Dw||(Dw={}));var Qr=(t=>(t.ADMIN="ADMIN",t.EMPLOYEE="EMPLOYEE",t))(Qr||{}),Mw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},uP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},iA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,f=s>>2,g=(s&3)<<4|a>>4;let v=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(v=64)),r.push(n[f],n[g],n[v],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):uP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||g==null)throw new cP;const v=s<<2|a>>4;if(r.push(v),u!==64){const p=a<<4&240|u>>2;if(r.push(p),g!==64){const S=u<<6&192|g;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class cP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hP=function(t){const e=rA(t);return iA.encodeByteArray(e,!0)},ng=function(t){return hP(t).replace(/\./g,"")},sA=function(t){try{return iA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=()=>fP().__FIREBASE_DEFAULTS__,pP=()=>{if(typeof process>"u"||typeof Mw>"u")return;const t=Mw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&sA(t[1]);return e&&JSON.parse(e)},Wg=()=>{try{return dP()||pP()||gP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},oA=t=>{var e,n;return(n=(e=Wg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},aA=t=>{const e=oA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},lA=()=>{var t;return(t=Wg())===null||t===void 0?void 0:t.config},uA=t=>{var e;return(e=Wg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ng(JSON.stringify(n)),ng(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ei())}function yP(){var t;const e=(t=Wg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _P(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EP(){const t=ei();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function SP(){return!yP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AP(){try{return typeof indexedDB=="object"}catch{return!1}}function xP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP="FirebaseError";class vo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=IP,Object.setPrototypeOf(this,vo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zf.prototype.create)}}class zf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?TP(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new vo(i,a,r)}}function TP(t,e){return t.replace(kP,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const kP=/\{\$([^}]+)}/g;function NP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function rg(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Fw(s)&&Fw(o)){if(!rg(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Fw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ch(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Lh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function PP(t,e){const n=new CP(t,e);return n.subscribe.bind(n)}class CP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");LP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=i0),i.error===void 0&&(i.error=i0),i.complete===void 0&&(i.complete=i0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function i0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(t){return t&&t._delegate?t._delegate:t}class ol{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new mP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DP(e))try{this.getOrInitializeService({instanceIdentifier:Ml})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ml){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ml){return this.instances.has(e)}getOptions(e=Ml){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:OP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ml){return this.component?this.component.multipleInstances?e:Ml:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OP(t){return t===Ml?void 0:t}function DP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new RP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Bt||(Bt={}));const FP={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},jP=Bt.INFO,UP={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},VP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=UP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nv{constructor(e){this.name=e,this._logLevel=jP,this._logHandler=VP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...e),this._logHandler(this,Bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...e),this._logHandler(this,Bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...e),this._logHandler(this,Bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...e),this._logHandler(this,Bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...e),this._logHandler(this,Bt.ERROR,...e)}}const BP=(t,e)=>e.some(n=>t instanceof n);let jw,Uw;function zP(){return jw||(jw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qP(){return Uw||(Uw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hA=new WeakMap,G1=new WeakMap,fA=new WeakMap,s0=new WeakMap,Pv=new WeakMap;function WP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(tl(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&hA.set(n,t)}).catch(()=>{}),Pv.set(e,t),e}function HP(t){if(G1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});G1.set(t,e)}let K1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return G1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return tl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $P(t){K1=t(K1)}function GP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(o0(this),e,...n);return fA.set(r,e.sort?e.sort():[e]),tl(r)}:qP().includes(t)?function(...e){return t.apply(o0(this),e),tl(hA.get(this))}:function(...e){return tl(t.apply(o0(this),e))}}function KP(t){return typeof t=="function"?GP(t):(t instanceof IDBTransaction&&HP(t),BP(t,zP())?new Proxy(t,K1):t)}function tl(t){if(t instanceof IDBRequest)return WP(t);if(s0.has(t))return s0.get(t);const e=KP(t);return e!==t&&(s0.set(t,e),Pv.set(e,t)),e}const o0=t=>Pv.get(t);function YP(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=tl(o);return r&&o.addEventListener("upgradeneeded",l=>{r(tl(o.result),l.oldVersion,l.newVersion,tl(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const QP=["get","getKey","getAll","getAllKeys","count"],XP=["put","add","delete","clear"],a0=new Map;function Vw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(a0.get(e))return a0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=XP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||QP.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return a0.set(e,s),s}$P(t=>({...t,get:(e,n,r)=>Vw(e,n)||t.get(e,n,r),has:(e,n)=>!!Vw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ZP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Y1="@firebase/app",Bw="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo=new Nv("@firebase/app"),eC="@firebase/app-compat",tC="@firebase/analytics-compat",nC="@firebase/analytics",rC="@firebase/app-check-compat",iC="@firebase/app-check",sC="@firebase/auth",oC="@firebase/auth-compat",aC="@firebase/database",lC="@firebase/data-connect",uC="@firebase/database-compat",cC="@firebase/functions",hC="@firebase/functions-compat",fC="@firebase/installations",dC="@firebase/installations-compat",pC="@firebase/messaging",gC="@firebase/messaging-compat",mC="@firebase/performance",vC="@firebase/performance-compat",yC="@firebase/remote-config",wC="@firebase/remote-config-compat",_C="@firebase/storage",bC="@firebase/storage-compat",EC="@firebase/firestore",SC="@firebase/vertexai-preview",AC="@firebase/firestore-compat",xC="firebase",IC="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="[DEFAULT]",TC={[Y1]:"fire-core",[eC]:"fire-core-compat",[nC]:"fire-analytics",[tC]:"fire-analytics-compat",[iC]:"fire-app-check",[rC]:"fire-app-check-compat",[sC]:"fire-auth",[oC]:"fire-auth-compat",[aC]:"fire-rtdb",[lC]:"fire-data-connect",[uC]:"fire-rtdb-compat",[cC]:"fire-fn",[hC]:"fire-fn-compat",[fC]:"fire-iid",[dC]:"fire-iid-compat",[pC]:"fire-fcm",[gC]:"fire-fcm-compat",[mC]:"fire-perf",[vC]:"fire-perf-compat",[yC]:"fire-rc",[wC]:"fire-rc-compat",[_C]:"fire-gcs",[bC]:"fire-gcs-compat",[EC]:"fire-fst",[AC]:"fire-fst-compat",[SC]:"fire-vertex","fire-js":"fire-js",[xC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig=new Map,kC=new Map,X1=new Map;function zw(t,e){try{t.container.addComponent(e)}catch(n){Zo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function nu(t){const e=t.name;if(X1.has(e))return Zo.debug(`There were multiple attempts to register component ${e}.`),!1;X1.set(e,t);for(const n of ig.values())zw(n,t);for(const n of kC.values())zw(n,t);return!0}function Hg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ls(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},nl=new zf("app","Firebase",NC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ol("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu=IC;function dA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Q1,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw nl.create("bad-app-name",{appName:String(i)});if(n||(n=lA()),!n)throw nl.create("no-options");const s=ig.get(i);if(s){if(rg(n,s.options)&&rg(r,s.config))return s;throw nl.create("duplicate-app",{appName:i})}const o=new MP(i);for(const l of X1.values())o.addComponent(l);const a=new PC(n,r,o);return ig.set(i,a),a}function Cv(t=Q1){const e=ig.get(t);if(!e&&t===Q1&&lA())return dA();if(!e)throw nl.create("no-app",{appName:t});return e}function ho(t,e,n){var r;let i=(r=TC[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zo.warn(a.join(" "));return}nu(new ol(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="firebase-heartbeat-database",LC=1,bf="firebase-heartbeat-store";let l0=null;function pA(){return l0||(l0=YP(CC,LC,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(bf)}catch(n){console.warn(n)}}}}).catch(t=>{throw nl.create("idb-open",{originalErrorMessage:t.message})})),l0}async function RC(t){try{const n=(await pA()).transaction(bf),r=await n.objectStore(bf).get(gA(t));return await n.done,r}catch(e){if(e instanceof vo)Zo.warn(e.message);else{const n=nl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zo.warn(n.message)}}}async function qw(t,e){try{const r=(await pA()).transaction(bf,"readwrite");await r.objectStore(bf).put(e,gA(t)),await r.done}catch(n){if(n instanceof vo)Zo.warn(n.message);else{const r=nl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zo.warn(r.message)}}}function gA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=1024,DC=30*24*60*60*1e3;class MC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ww();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=DC}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Zo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ww(),{heartbeatsToSend:r,unsentEntries:i}=FC(this._heartbeatsCache.heartbeats),s=ng(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Zo.warn(n),""}}}function Ww(){return new Date().toISOString().substring(0,10)}function FC(t,e=OC){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Hw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Hw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class jC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AP()?xP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await RC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return qw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return qw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Hw(t){return ng(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(t){nu(new ol("platform-logger",e=>new JP(e),"PRIVATE")),nu(new ol("heartbeat",e=>new MC(e),"PRIVATE")),ho(Y1,Bw,t),ho(Y1,Bw,"esm2017"),ho("fire-js","")}UC("");var VC="firebase",BC="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ho(VC,BC,"app");function Lv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function mA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zC=mA,vA=new zf("auth","Firebase",mA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg=new Nv("@firebase/auth");function qC(t,...e){sg.logLevel<=Bt.WARN&&sg.warn(`Auth (${gu}): ${t}`,...e)}function vp(t,...e){sg.logLevel<=Bt.ERROR&&sg.error(`Auth (${gu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(t,...e){throw Ov(t,...e)}function Ds(t,...e){return Ov(t,...e)}function Rv(t,e,n){const r=Object.assign(Object.assign({},zC()),{[e]:n});return new zf("auth","Firebase",r).create(e,{appName:t.name})}function Go(t){return Rv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function WC(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ys(t,"argument-error"),Rv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ov(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return vA.create(t,...e)}function pt(t,e,...n){if(!t)throw Ov(e,...n)}function zo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vp(e),new Error(e)}function ea(t,e){t||zo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function HC(){return $w()==="http:"||$w()==="https:"}function $w(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HC()||_P()||"connection"in navigator)?navigator.onLine:!0}function GC(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,n){this.shortDelay=e,this.longDelay=n,ea(n>e,"Short delay should be less than long delay!"),this.isMobile=vP()||bP()}get(){return $C()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(t,e){ea(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=new Wf(3e4,6e4);function pl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function gl(t,e,n,r,i={}){return wA(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=qf(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return wP()||(u.referrerPolicy="no-referrer"),yA.fetch()(_A(t,t.config.apiHost,n,a),u)})}async function wA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},KC),e);try{const i=new XC(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw jd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw jd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw jd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw jd(t,"user-disabled",o);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Rv(t,f,u);ys(t,f)}}catch(i){if(i instanceof vo)throw i;ys(t,"network-request-failed",{message:String(i)})}}async function Hf(t,e,n,r,i={}){const s=await gl(t,e,n,r,i);return"mfaPendingCredential"in s&&ys(t,"multi-factor-auth-required",{_serverResponse:s}),s}function _A(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Dv(t.config,i):`${t.config.apiScheme}://${i}`}function QC(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class XC{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ds(this.auth,"network-request-failed")),YC.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ds(t,e,r);return i.customData._tokenResponse=n,i}function Gw(t){return t!==void 0&&t.enterprise!==void 0}class JC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return QC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function ZC(t,e){return gl(t,"GET","/v2/recaptchaConfig",pl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eL(t,e){return gl(t,"POST","/v1/accounts:delete",e)}async function bA(t,e){return gl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tL(t,e=!1){const n=qn(t),r=await n.getIdToken(e),i=Mv(r);pt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:$h(u0(i.auth_time)),issuedAtTime:$h(u0(i.iat)),expirationTime:$h(u0(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function u0(t){return Number(t)*1e3}function Mv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vp("JWT malformed, contained fewer than 3 sections"),null;try{const i=sA(n);return i?JSON.parse(i):(vp("Failed to decode base64 JWT payload"),null)}catch(i){return vp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Kw(t){const e=Mv(t);return pt(e,"internal-error"),pt(typeof e.exp<"u","internal-error"),pt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ef(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof vo&&nL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function nL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$h(this.lastLoginAt),this.creationTime=$h(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function og(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ef(t,bA(n,{idToken:r}));pt(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?EA(s.providerUserInfo):[],a=sL(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),f=l?u:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Z1(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,g)}async function iL(t){const e=qn(t);await og(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function EA(t){return t.map(e=>{var{providerId:n}=e,r=Lv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oL(t,e){const n=await wA(t,{},async()=>{const r=qf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=_A(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",yA.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function aL(t,e){return gl(t,"POST","/v2/accounts:revokeToken",pl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pt(e.idToken,"internal-error"),pt(typeof e.idToken<"u","internal-error"),pt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Kw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){pt(e.length!==0,"internal-error");const n=Kw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await oL(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new cc;return r&&(pt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(pt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(pt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cc,this.toJSON())}_performRefresh(){return zo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(t,e){pt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class qo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Lv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Z1(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ef(this,this.stsTokenManager.getToken(this.auth,e));return pt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return tL(this,e)}reload(){return iL(this)}_assign(e){this!==e&&(pt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new qo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await og(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ls(this.auth.app))return Promise.reject(Go(this.auth));const e=await this.getIdToken();return await Ef(this,eL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,f;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,v=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,I=(a=n.tenantId)!==null&&a!==void 0?a:void 0,P=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,k=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:C,emailVerified:j,isAnonymous:Q,providerData:re,stsTokenManager:U}=n;pt(C&&U,e,"internal-error");const A=cc.fromJSON(this.name,U);pt(typeof C=="string",e,"internal-error"),ka(g,e.name),ka(v,e.name),pt(typeof j=="boolean",e,"internal-error"),pt(typeof Q=="boolean",e,"internal-error"),ka(p,e.name),ka(S,e.name),ka(I,e.name),ka(P,e.name),ka(_,e.name),ka(k,e.name);const x=new qo({uid:C,auth:e,email:v,emailVerified:j,displayName:g,isAnonymous:Q,photoURL:S,phoneNumber:p,tenantId:I,stsTokenManager:A,createdAt:_,lastLoginAt:k});return re&&Array.isArray(re)&&(x.providerData=re.map(D=>Object.assign({},D))),P&&(x._redirectEventId=P),x}static async _fromIdTokenResponse(e,n,r=!1){const i=new cc;i.updateFromServerResponse(n);const s=new qo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await og(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];pt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?EA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new cc;a.updateFromIdToken(r);const l=new qo({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Z1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=new Map;function Wo(t){ea(t instanceof Function,"Expected a class definition");let e=Yw.get(t);return e?(ea(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Yw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}SA.type="NONE";const Qw=SA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(t,e,n){return`firebase:${t}:${e}:${n}`}class hc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=yp(this.userKey,i.apiKey,s),this.fullPersistenceKey=yp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?qo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new hc(Wo(Qw),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Wo(Qw);const o=yp(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const f=await u._get(o);if(f){const g=qo._fromJSON(e,f);u!==s&&(a=g),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new hc(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new hc(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(TA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(NA(e))return"Blackberry";if(PA(e))return"Webos";if(xA(e))return"Safari";if((e.includes("chrome/")||IA(e))&&!e.includes("edge/"))return"Chrome";if(kA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function AA(t=ei()){return/firefox\//i.test(t)}function xA(t=ei()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IA(t=ei()){return/crios\//i.test(t)}function TA(t=ei()){return/iemobile/i.test(t)}function kA(t=ei()){return/android/i.test(t)}function NA(t=ei()){return/blackberry/i.test(t)}function PA(t=ei()){return/webos/i.test(t)}function Fv(t=ei()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function lL(t=ei()){var e;return Fv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function uL(){return EP()&&document.documentMode===10}function CA(t=ei()){return Fv(t)||kA(t)||PA(t)||NA(t)||/windows phone/i.test(t)||TA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(t,e=[]){let n;switch(t){case"Browser":n=Xw(ei());break;case"Worker":n=`${Xw(ei())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${gu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hL(t,e={}){return gl(t,"GET","/v2/passwordPolicy",pl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL=6;class dL{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:fL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jw(this),this.idTokenSubscription=new Jw(this),this.beforeStateQueue=new cL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wo(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await hc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await bA(this,{idToken:e}),r=await qo._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ls(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await og(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ls(this.app))return Promise.reject(Go(this));const n=e?qn(e):null;return n&&pt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ls(this.app)?Promise.reject(Go(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ls(this.app)?Promise.reject(Go(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hL(this),n=new dL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new zf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await aL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wo(e)||this._popupRedirectResolver;pt(n,this,"argument-error"),this.redirectPersistenceManager=await hc.create(this,[Wo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&qC(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ml(t){return qn(t)}class Jw{constructor(e){this.auth=e,this.observer=null,this.addObserver=PP(n=>this.observer=n)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $g={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gL(t){$g=t}function RA(t){return $g.loadJS(t)}function mL(){return $g.recaptchaEnterpriseScript}function vL(){return $g.gapiScript}function yL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const wL="recaptcha-enterprise",_L="NO_RECAPTCHA";class bL{constructor(e){this.type=wL,this.auth=ml(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{ZC(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new JC(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;Gw(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(_L)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Gw(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=mL();l.length!==0&&(l+=a),RA(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function Zw(t,e,n,r=!1){const i=new bL(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function e2(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Zw(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Zw(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(t,e){const n=Hg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(rg(s,e??{}))return i;ys(i,"already-initialized")}return n.initialize({options:e})}function SL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Wo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function AL(t,e,n){const r=ml(t);pt(r._canInitEmulator,r,"emulator-config-failed"),pt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=OA(e),{host:o,port:a}=xL(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),IL()}function OA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xL(t){const e=OA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:e_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:e_(o)}}}function e_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function IL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zo("not implemented")}_getIdTokenResponse(e){return zo("not implemented")}_linkToIdToken(e,n){return zo("not implemented")}_getReauthenticationResolver(e){return zo("not implemented")}}async function TL(t,e){return gl(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kL(t,e){return Hf(t,"POST","/v1/accounts:signInWithPassword",pl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NL(t,e){return Hf(t,"POST","/v1/accounts:signInWithEmailLink",pl(t,e))}async function PL(t,e){return Hf(t,"POST","/v1/accounts:signInWithEmailLink",pl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf extends jv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Sf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Sf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return e2(e,n,"signInWithPassword",kL);case"emailLink":return NL(e,{email:this._email,oobCode:this._password});default:ys(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return e2(e,r,"signUpPassword",TL);case"emailLink":return PL(e,{idToken:n,email:this._email,oobCode:this._password});default:ys(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fc(t,e){return Hf(t,"POST","/v1/accounts:signInWithIdp",pl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL="http://localhost";class ru extends jv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ru(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ys("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Lv(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ru(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return fc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,fc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fc(e,n)}buildRequest(){const e={requestUri:CL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=qf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function RL(t){const e=Ch(Lh(t)).link,n=e?Ch(Lh(e)).deep_link_id:null,r=Ch(Lh(t)).deep_link_id;return(r?Ch(Lh(r)).link:null)||r||n||e||t}class Uv{constructor(e){var n,r,i,s,o,a;const l=Ch(Lh(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,f=(r=l.oobCode)!==null&&r!==void 0?r:null,g=LL((i=l.mode)!==null&&i!==void 0?i:null);pt(u&&f&&g,"argument-error"),this.apiKey=u,this.operation=g,this.code=f,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=RL(e);try{return new Uv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(){this.providerId=Mc.PROVIDER_ID}static credential(e,n){return Sf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Uv.parseLink(n);return pt(r,"argument-error"),Sf._fromEmailAndCode(e,r.code,r.tenantId)}}Mc.PROVIDER_ID="password";Mc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f extends Vv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja extends $f{constructor(){super("facebook.com")}static credential(e){return ru._fromParams({providerId:ja.PROVIDER_ID,signInMethod:ja.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ja.credentialFromTaggedObject(e)}static credentialFromError(e){return ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ja.credential(e.oauthAccessToken)}catch{return null}}}ja.FACEBOOK_SIGN_IN_METHOD="facebook.com";ja.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends $f{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ru._fromParams({providerId:Uo.PROVIDER_ID,signInMethod:Uo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Uo.credentialFromTaggedObject(e)}static credentialFromError(e){return Uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Uo.credential(n,r)}catch{return null}}}Uo.GOOGLE_SIGN_IN_METHOD="google.com";Uo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua extends $f{constructor(){super("github.com")}static credential(e){return ru._fromParams({providerId:Ua.PROVIDER_ID,signInMethod:Ua.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ua.credentialFromTaggedObject(e)}static credentialFromError(e){return Ua.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ua.credential(e.oauthAccessToken)}catch{return null}}}Ua.GITHUB_SIGN_IN_METHOD="github.com";Ua.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va extends $f{constructor(){super("twitter.com")}static credential(e,n){return ru._fromParams({providerId:Va.PROVIDER_ID,signInMethod:Va.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Va.credentialFromTaggedObject(e)}static credentialFromError(e){return Va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Va.credential(n,r)}catch{return null}}}Va.TWITTER_SIGN_IN_METHOD="twitter.com";Va.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OL(t,e){return Hf(t,"POST","/v1/accounts:signUp",pl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await qo._fromIdTokenResponse(e,r,i),o=t_(r);return new iu({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=t_(r);return new iu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function t_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag extends vo{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ag.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ag(e,n,r,i)}}function DA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ag._fromErrorAndOperation(t,s,e,r):s})}async function DL(t,e,n=!1){const r=await Ef(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return iu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ML(t,e,n=!1){const{auth:r}=t;if(Ls(r.app))return Promise.reject(Go(r));const i="reauthenticate";try{const s=await Ef(t,DA(r,i,e,t),n);pt(s.idToken,r,"internal-error");const o=Mv(s.idToken);pt(o,r,"internal-error");const{sub:a}=o;return pt(t.uid===a,r,"user-mismatch"),iu._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ys(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MA(t,e,n=!1){if(Ls(t.app))return Promise.reject(Go(t));const r="signIn",i=await DA(t,r,e),s=await iu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function FL(t,e){return MA(ml(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FA(t){const e=ml(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function jL(t,e,n){if(Ls(t.app))return Promise.reject(Go(t));const r=ml(t),o=await e2(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",OL).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&FA(t),l}),a=await iu._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function UL(t,e,n){return Ls(t.app)?Promise.reject(Go(t)):FL(qn(t),Mc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&FA(t),r})}function VL(t,e,n,r){return qn(t).onIdTokenChanged(e,n,r)}function BL(t,e,n){return qn(t).beforeAuthStateChanged(e,n)}function zL(t,e,n,r){return qn(t).onAuthStateChanged(e,n,r)}function qL(t){return qn(t).signOut()}const lg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lg,"1"),this.storage.removeItem(lg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL=1e3,HL=10;class UA extends jA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);uL()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,HL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},WL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}UA.type="LOCAL";const $L=UA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA extends jA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}VA.type="SESSION";const BA=VA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Gg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await GL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Bv("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){const v=g;if(v.data.eventId===u)switch(v.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(v.data.response);break;default:clearTimeout(f),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(){return window}function YL(t){fo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(){return typeof fo().WorkerGlobalScope<"u"&&typeof fo().importScripts=="function"}async function QL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function JL(){return zA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="firebaseLocalStorageDb",ZL=1,ug="firebaseLocalStorage",WA="fbase_key";class Gf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kg(t,e){return t.transaction([ug],e?"readwrite":"readonly").objectStore(ug)}function eR(){const t=indexedDB.deleteDatabase(qA);return new Gf(t).toPromise()}function t2(){const t=indexedDB.open(qA,ZL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ug,{keyPath:WA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ug)?e(r):(r.close(),await eR(),e(await t2()))})})}async function n_(t,e,n){const r=Kg(t,!0).put({[WA]:e,value:n});return new Gf(r).toPromise()}async function tR(t,e){const n=Kg(t,!1).get(e),r=await new Gf(n).toPromise();return r===void 0?null:r.value}function r_(t,e){const n=Kg(t,!0).delete(e);return new Gf(n).toPromise()}const nR=800,rR=3;class HA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await t2(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>rR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gg._getInstance(JL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await QL(),!this.activeServiceWorker)return;this.sender=new KL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||XL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await t2();return await n_(e,lg,"1"),await r_(e,lg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>n_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>tR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>r_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Kg(i,!1).getAll();return new Gf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HA.type="LOCAL";const iR=HA;new Wf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(t,e){return e?Wo(e):(pt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv extends jv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function sR(t){return MA(t.auth,new zv(t),t.bypassAuthState)}function oR(t){const{auth:e,user:n}=t;return pt(n,e,"internal-error"),ML(n,new zv(t),t.bypassAuthState)}async function aR(t){const{auth:e,user:n}=t;return pt(n,e,"internal-error"),DL(n,new zv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sR;case"linkViaPopup":case"linkViaRedirect":return aR;case"reauthViaPopup":case"reauthViaRedirect":return oR;default:ys(this.auth,"internal-error")}}resolve(e){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=new Wf(2e3,1e4);async function uR(t,e,n){if(Ls(t.app))return Promise.reject(Ds(t,"operation-not-supported-in-this-environment"));const r=ml(t);WC(t,e,Vv);const i=$A(r,n);return new ql(r,"signInViaPopup",e,i).executeNotNull()}class ql extends GA{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ql.currentPopupAction&&ql.currentPopupAction.cancel(),ql.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pt(e,this.auth,"internal-error"),e}async onExecution(){ea(this.filter.length===1,"Popup operations only handle one event");const e=Bv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ds(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ds(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ql.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ds(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lR.get())};e()}}ql.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="pendingRedirect",wp=new Map;class hR extends GA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=wp.get(this.auth._key());if(!e){try{const r=await fR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}wp.set(this.auth._key(),e)}return this.bypassAuthState||wp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fR(t,e){const n=gR(e),r=pR(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function dR(t,e){wp.set(t._key(),e)}function pR(t){return Wo(t._redirectPersistence)}function gR(t){return yp(cR,t.config.apiKey,t.name)}async function mR(t,e,n=!1){if(Ls(t.app))return Promise.reject(Go(t));const r=ml(t),i=$A(r,e),o=await new hR(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=10*60*1e3;class yR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!KA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ds(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vR&&this.cachedEventUids.clear(),this.cachedEventUids.has(i_(e))}saveEventToCache(e){this.cachedEventUids.add(i_(e)),this.lastProcessedEventTime=Date.now()}}function i_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function KA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function wR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _R(t,e={}){return gl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ER=/^https?/;async function SR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await _R(t);for(const n of e)try{if(AR(n))return}catch{}ys(t,"unauthorized-domain")}function AR(t){const e=J1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!ER.test(n))return!1;if(bR.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=new Wf(3e4,6e4);function s_(){const t=fo().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function IR(t){return new Promise((e,n)=>{var r,i,s;function o(){s_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{s_(),n(Ds(t,"network-request-failed"))},timeout:xR.get()})}if(!((i=(r=fo().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=fo().gapi)===null||s===void 0)&&s.load)o();else{const a=yL("iframefcb");return fo()[a]=()=>{gapi.load?o():n(Ds(t,"network-request-failed"))},RA(`${vL()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw _p=null,e})}let _p=null;function TR(t){return _p=_p||IR(t),_p}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=new Wf(5e3,15e3),NR="__/auth/iframe",PR="emulator/auth/iframe",CR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RR(t){const e=t.config;pt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Dv(e,PR):`https://${t.config.authDomain}/${NR}`,r={apiKey:e.apiKey,appName:t.name,v:gu},i=LR.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${qf(r).slice(1)}`}async function OR(t){const e=await TR(t),n=fo().gapi;return pt(n,t,"internal-error"),e.open({where:document.body,url:RR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CR,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ds(t,"network-request-failed"),a=fo().setTimeout(()=>{s(o)},kR.get());function l(){fo().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MR=500,FR=600,jR="_blank",UR="http://localhost";class o_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VR(t,e,n,r=MR,i=FR){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},DR),{width:r.toString(),height:i.toString(),top:s,left:o}),u=ei().toLowerCase();n&&(a=IA(u)?jR:n),AA(u)&&(e=e||UR,l.scrollbars="yes");const f=Object.entries(l).reduce((v,[p,S])=>`${v}${p}=${S},`,"");if(lL(u)&&a!=="_self")return BR(e||"",a),new o_(null);const g=window.open(e||"",a,f);pt(g,t,"popup-blocked");try{g.focus()}catch{}return new o_(g)}function BR(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="__/auth/handler",qR="emulator/auth/handler",WR=encodeURIComponent("fac");async function a_(t,e,n,r,i,s){pt(t.config.authDomain,t,"auth-domain-config-required"),pt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:gu,eventId:i};if(e instanceof Vv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",NP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,g]of Object.entries({}))o[f]=g}if(e instanceof $f){const f=e.getScopes().filter(g=>g!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const l=await t._getAppCheckToken(),u=l?`#${WR}=${encodeURIComponent(l)}`:"";return`${HR(t)}?${qf(a).slice(1)}${u}`}function HR({config:t}){return t.emulator?Dv(t,qR):`https://${t.authDomain}/${zR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="webStorageSupport";class $R{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BA,this._completeRedirectFn=mR,this._overrideRedirectResult=dR}async _openPopup(e,n,r,i){var s;ea((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await a_(e,n,r,J1(),i);return VR(e,o,Bv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await a_(e,n,r,J1(),i);return YL(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ea(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await OR(e),r=new yR(e);return n.register("authEvent",i=>(pt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(c0,{type:c0},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[c0];o!==void 0&&n(!!o),ys(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=SR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return CA()||xA()||Fv()}}const GR=$R;var l_="@firebase/auth",u_="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QR(t){nu(new ol("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;pt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LA(t)},u=new pL(r,i,s,l);return SL(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),nu(new ol("auth-internal",e=>{const n=ml(e.getProvider("auth").getImmediate());return(r=>new KR(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ho(l_,u_,YR(t)),ho(l_,u_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=5*60,JR=uA("authIdTokenMaxAge")||XR;let c_=null;const ZR=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>JR)return;const i=n==null?void 0:n.token;c_!==i&&(c_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function e8(t=Cv()){const e=Hg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=EL(t,{popupRedirectResolver:GR,persistence:[iR,$L,BA]}),r=uA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=ZR(s.toString());BL(n,o,()=>o(n.currentUser)),VL(n,a=>o(a))}}const i=oA("auth");return i&&AL(n,`http://${i}`),n}function t8(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}gL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ds("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",t8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QR("Browser");var h_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Kl,YA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(U,A){function x(){}x.prototype=A.prototype,U.D=A.prototype,U.prototype=new x,U.prototype.constructor=U,U.C=function(D,E,N){for(var L=Array(arguments.length-2),X=2;X<arguments.length;X++)L[X-2]=arguments[X];return A.prototype[E].apply(D,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(U,A,x){x||(x=0);var D=Array(16);if(typeof A=="string")for(var E=0;16>E;++E)D[E]=A.charCodeAt(x++)|A.charCodeAt(x++)<<8|A.charCodeAt(x++)<<16|A.charCodeAt(x++)<<24;else for(E=0;16>E;++E)D[E]=A[x++]|A[x++]<<8|A[x++]<<16|A[x++]<<24;A=U.g[0],x=U.g[1],E=U.g[2];var N=U.g[3],L=A+(N^x&(E^N))+D[0]+3614090360&4294967295;A=x+(L<<7&4294967295|L>>>25),L=N+(E^A&(x^E))+D[1]+3905402710&4294967295,N=A+(L<<12&4294967295|L>>>20),L=E+(x^N&(A^x))+D[2]+606105819&4294967295,E=N+(L<<17&4294967295|L>>>15),L=x+(A^E&(N^A))+D[3]+3250441966&4294967295,x=E+(L<<22&4294967295|L>>>10),L=A+(N^x&(E^N))+D[4]+4118548399&4294967295,A=x+(L<<7&4294967295|L>>>25),L=N+(E^A&(x^E))+D[5]+1200080426&4294967295,N=A+(L<<12&4294967295|L>>>20),L=E+(x^N&(A^x))+D[6]+2821735955&4294967295,E=N+(L<<17&4294967295|L>>>15),L=x+(A^E&(N^A))+D[7]+4249261313&4294967295,x=E+(L<<22&4294967295|L>>>10),L=A+(N^x&(E^N))+D[8]+1770035416&4294967295,A=x+(L<<7&4294967295|L>>>25),L=N+(E^A&(x^E))+D[9]+2336552879&4294967295,N=A+(L<<12&4294967295|L>>>20),L=E+(x^N&(A^x))+D[10]+4294925233&4294967295,E=N+(L<<17&4294967295|L>>>15),L=x+(A^E&(N^A))+D[11]+2304563134&4294967295,x=E+(L<<22&4294967295|L>>>10),L=A+(N^x&(E^N))+D[12]+1804603682&4294967295,A=x+(L<<7&4294967295|L>>>25),L=N+(E^A&(x^E))+D[13]+4254626195&4294967295,N=A+(L<<12&4294967295|L>>>20),L=E+(x^N&(A^x))+D[14]+2792965006&4294967295,E=N+(L<<17&4294967295|L>>>15),L=x+(A^E&(N^A))+D[15]+1236535329&4294967295,x=E+(L<<22&4294967295|L>>>10),L=A+(E^N&(x^E))+D[1]+4129170786&4294967295,A=x+(L<<5&4294967295|L>>>27),L=N+(x^E&(A^x))+D[6]+3225465664&4294967295,N=A+(L<<9&4294967295|L>>>23),L=E+(A^x&(N^A))+D[11]+643717713&4294967295,E=N+(L<<14&4294967295|L>>>18),L=x+(N^A&(E^N))+D[0]+3921069994&4294967295,x=E+(L<<20&4294967295|L>>>12),L=A+(E^N&(x^E))+D[5]+3593408605&4294967295,A=x+(L<<5&4294967295|L>>>27),L=N+(x^E&(A^x))+D[10]+38016083&4294967295,N=A+(L<<9&4294967295|L>>>23),L=E+(A^x&(N^A))+D[15]+3634488961&4294967295,E=N+(L<<14&4294967295|L>>>18),L=x+(N^A&(E^N))+D[4]+3889429448&4294967295,x=E+(L<<20&4294967295|L>>>12),L=A+(E^N&(x^E))+D[9]+568446438&4294967295,A=x+(L<<5&4294967295|L>>>27),L=N+(x^E&(A^x))+D[14]+3275163606&4294967295,N=A+(L<<9&4294967295|L>>>23),L=E+(A^x&(N^A))+D[3]+4107603335&4294967295,E=N+(L<<14&4294967295|L>>>18),L=x+(N^A&(E^N))+D[8]+1163531501&4294967295,x=E+(L<<20&4294967295|L>>>12),L=A+(E^N&(x^E))+D[13]+2850285829&4294967295,A=x+(L<<5&4294967295|L>>>27),L=N+(x^E&(A^x))+D[2]+4243563512&4294967295,N=A+(L<<9&4294967295|L>>>23),L=E+(A^x&(N^A))+D[7]+1735328473&4294967295,E=N+(L<<14&4294967295|L>>>18),L=x+(N^A&(E^N))+D[12]+2368359562&4294967295,x=E+(L<<20&4294967295|L>>>12),L=A+(x^E^N)+D[5]+4294588738&4294967295,A=x+(L<<4&4294967295|L>>>28),L=N+(A^x^E)+D[8]+2272392833&4294967295,N=A+(L<<11&4294967295|L>>>21),L=E+(N^A^x)+D[11]+1839030562&4294967295,E=N+(L<<16&4294967295|L>>>16),L=x+(E^N^A)+D[14]+4259657740&4294967295,x=E+(L<<23&4294967295|L>>>9),L=A+(x^E^N)+D[1]+2763975236&4294967295,A=x+(L<<4&4294967295|L>>>28),L=N+(A^x^E)+D[4]+1272893353&4294967295,N=A+(L<<11&4294967295|L>>>21),L=E+(N^A^x)+D[7]+4139469664&4294967295,E=N+(L<<16&4294967295|L>>>16),L=x+(E^N^A)+D[10]+3200236656&4294967295,x=E+(L<<23&4294967295|L>>>9),L=A+(x^E^N)+D[13]+681279174&4294967295,A=x+(L<<4&4294967295|L>>>28),L=N+(A^x^E)+D[0]+3936430074&4294967295,N=A+(L<<11&4294967295|L>>>21),L=E+(N^A^x)+D[3]+3572445317&4294967295,E=N+(L<<16&4294967295|L>>>16),L=x+(E^N^A)+D[6]+76029189&4294967295,x=E+(L<<23&4294967295|L>>>9),L=A+(x^E^N)+D[9]+3654602809&4294967295,A=x+(L<<4&4294967295|L>>>28),L=N+(A^x^E)+D[12]+3873151461&4294967295,N=A+(L<<11&4294967295|L>>>21),L=E+(N^A^x)+D[15]+530742520&4294967295,E=N+(L<<16&4294967295|L>>>16),L=x+(E^N^A)+D[2]+3299628645&4294967295,x=E+(L<<23&4294967295|L>>>9),L=A+(E^(x|~N))+D[0]+4096336452&4294967295,A=x+(L<<6&4294967295|L>>>26),L=N+(x^(A|~E))+D[7]+1126891415&4294967295,N=A+(L<<10&4294967295|L>>>22),L=E+(A^(N|~x))+D[14]+2878612391&4294967295,E=N+(L<<15&4294967295|L>>>17),L=x+(N^(E|~A))+D[5]+4237533241&4294967295,x=E+(L<<21&4294967295|L>>>11),L=A+(E^(x|~N))+D[12]+1700485571&4294967295,A=x+(L<<6&4294967295|L>>>26),L=N+(x^(A|~E))+D[3]+2399980690&4294967295,N=A+(L<<10&4294967295|L>>>22),L=E+(A^(N|~x))+D[10]+4293915773&4294967295,E=N+(L<<15&4294967295|L>>>17),L=x+(N^(E|~A))+D[1]+2240044497&4294967295,x=E+(L<<21&4294967295|L>>>11),L=A+(E^(x|~N))+D[8]+1873313359&4294967295,A=x+(L<<6&4294967295|L>>>26),L=N+(x^(A|~E))+D[15]+4264355552&4294967295,N=A+(L<<10&4294967295|L>>>22),L=E+(A^(N|~x))+D[6]+2734768916&4294967295,E=N+(L<<15&4294967295|L>>>17),L=x+(N^(E|~A))+D[13]+1309151649&4294967295,x=E+(L<<21&4294967295|L>>>11),L=A+(E^(x|~N))+D[4]+4149444226&4294967295,A=x+(L<<6&4294967295|L>>>26),L=N+(x^(A|~E))+D[11]+3174756917&4294967295,N=A+(L<<10&4294967295|L>>>22),L=E+(A^(N|~x))+D[2]+718787259&4294967295,E=N+(L<<15&4294967295|L>>>17),L=x+(N^(E|~A))+D[9]+3951481745&4294967295,U.g[0]=U.g[0]+A&4294967295,U.g[1]=U.g[1]+(E+(L<<21&4294967295|L>>>11))&4294967295,U.g[2]=U.g[2]+E&4294967295,U.g[3]=U.g[3]+N&4294967295}r.prototype.u=function(U,A){A===void 0&&(A=U.length);for(var x=A-this.blockSize,D=this.B,E=this.h,N=0;N<A;){if(E==0)for(;N<=x;)i(this,U,N),N+=this.blockSize;if(typeof U=="string"){for(;N<A;)if(D[E++]=U.charCodeAt(N++),E==this.blockSize){i(this,D),E=0;break}}else for(;N<A;)if(D[E++]=U[N++],E==this.blockSize){i(this,D),E=0;break}}this.h=E,this.o+=A},r.prototype.v=function(){var U=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);U[0]=128;for(var A=1;A<U.length-8;++A)U[A]=0;var x=8*this.o;for(A=U.length-8;A<U.length;++A)U[A]=x&255,x/=256;for(this.u(U),U=Array(16),A=x=0;4>A;++A)for(var D=0;32>D;D+=8)U[x++]=this.g[A]>>>D&255;return U};function s(U,A){var x=a;return Object.prototype.hasOwnProperty.call(x,U)?x[U]:x[U]=A(U)}function o(U,A){this.h=A;for(var x=[],D=!0,E=U.length-1;0<=E;E--){var N=U[E]|0;D&&N==A||(x[E]=N,D=!1)}this.g=x}var a={};function l(U){return-128<=U&&128>U?s(U,function(A){return new o([A|0],0>A?-1:0)}):new o([U|0],0>U?-1:0)}function u(U){if(isNaN(U)||!isFinite(U))return g;if(0>U)return P(u(-U));for(var A=[],x=1,D=0;U>=x;D++)A[D]=U/x|0,x*=4294967296;return new o(A,0)}function f(U,A){if(U.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(U.charAt(0)=="-")return P(f(U.substring(1),A));if(0<=U.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=u(Math.pow(A,8)),D=g,E=0;E<U.length;E+=8){var N=Math.min(8,U.length-E),L=parseInt(U.substring(E,E+N),A);8>N?(N=u(Math.pow(A,N)),D=D.j(N).add(u(L))):(D=D.j(x),D=D.add(u(L)))}return D}var g=l(0),v=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(I(this))return-P(this).m();for(var U=0,A=1,x=0;x<this.g.length;x++){var D=this.i(x);U+=(0<=D?D:4294967296+D)*A,A*=4294967296}return U},t.toString=function(U){if(U=U||10,2>U||36<U)throw Error("radix out of range: "+U);if(S(this))return"0";if(I(this))return"-"+P(this).toString(U);for(var A=u(Math.pow(U,6)),x=this,D="";;){var E=j(x,A).g;x=_(x,E.j(A));var N=((0<x.g.length?x.g[0]:x.h)>>>0).toString(U);if(x=E,S(x))return N+D;for(;6>N.length;)N="0"+N;D=N+D}},t.i=function(U){return 0>U?0:U<this.g.length?this.g[U]:this.h};function S(U){if(U.h!=0)return!1;for(var A=0;A<U.g.length;A++)if(U.g[A]!=0)return!1;return!0}function I(U){return U.h==-1}t.l=function(U){return U=_(this,U),I(U)?-1:S(U)?0:1};function P(U){for(var A=U.g.length,x=[],D=0;D<A;D++)x[D]=~U.g[D];return new o(x,~U.h).add(v)}t.abs=function(){return I(this)?P(this):this},t.add=function(U){for(var A=Math.max(this.g.length,U.g.length),x=[],D=0,E=0;E<=A;E++){var N=D+(this.i(E)&65535)+(U.i(E)&65535),L=(N>>>16)+(this.i(E)>>>16)+(U.i(E)>>>16);D=L>>>16,N&=65535,L&=65535,x[E]=L<<16|N}return new o(x,x[x.length-1]&-2147483648?-1:0)};function _(U,A){return U.add(P(A))}t.j=function(U){if(S(this)||S(U))return g;if(I(this))return I(U)?P(this).j(P(U)):P(P(this).j(U));if(I(U))return P(this.j(P(U)));if(0>this.l(p)&&0>U.l(p))return u(this.m()*U.m());for(var A=this.g.length+U.g.length,x=[],D=0;D<2*A;D++)x[D]=0;for(D=0;D<this.g.length;D++)for(var E=0;E<U.g.length;E++){var N=this.i(D)>>>16,L=this.i(D)&65535,X=U.i(E)>>>16,pe=U.i(E)&65535;x[2*D+2*E]+=L*pe,k(x,2*D+2*E),x[2*D+2*E+1]+=N*pe,k(x,2*D+2*E+1),x[2*D+2*E+1]+=L*X,k(x,2*D+2*E+1),x[2*D+2*E+2]+=N*X,k(x,2*D+2*E+2)}for(D=0;D<A;D++)x[D]=x[2*D+1]<<16|x[2*D];for(D=A;D<2*A;D++)x[D]=0;return new o(x,0)};function k(U,A){for(;(U[A]&65535)!=U[A];)U[A+1]+=U[A]>>>16,U[A]&=65535,A++}function C(U,A){this.g=U,this.h=A}function j(U,A){if(S(A))throw Error("division by zero");if(S(U))return new C(g,g);if(I(U))return A=j(P(U),A),new C(P(A.g),P(A.h));if(I(A))return A=j(U,P(A)),new C(P(A.g),A.h);if(30<U.g.length){if(I(U)||I(A))throw Error("slowDivide_ only works with positive integers.");for(var x=v,D=A;0>=D.l(U);)x=Q(x),D=Q(D);var E=re(x,1),N=re(D,1);for(D=re(D,2),x=re(x,2);!S(D);){var L=N.add(D);0>=L.l(U)&&(E=E.add(x),N=L),D=re(D,1),x=re(x,1)}return A=_(U,E.j(A)),new C(E,A)}for(E=g;0<=U.l(A);){for(x=Math.max(1,Math.floor(U.m()/A.m())),D=Math.ceil(Math.log(x)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),N=u(x),L=N.j(A);I(L)||0<L.l(U);)x-=D,N=u(x),L=N.j(A);S(N)&&(N=v),E=E.add(N),U=_(U,L)}return new C(E,U)}t.A=function(U){return j(this,U).h},t.and=function(U){for(var A=Math.max(this.g.length,U.g.length),x=[],D=0;D<A;D++)x[D]=this.i(D)&U.i(D);return new o(x,this.h&U.h)},t.or=function(U){for(var A=Math.max(this.g.length,U.g.length),x=[],D=0;D<A;D++)x[D]=this.i(D)|U.i(D);return new o(x,this.h|U.h)},t.xor=function(U){for(var A=Math.max(this.g.length,U.g.length),x=[],D=0;D<A;D++)x[D]=this.i(D)^U.i(D);return new o(x,this.h^U.h)};function Q(U){for(var A=U.g.length+1,x=[],D=0;D<A;D++)x[D]=U.i(D)<<1|U.i(D-1)>>>31;return new o(x,U.h)}function re(U,A){var x=A>>5;A%=32;for(var D=U.g.length-x,E=[],N=0;N<D;N++)E[N]=0<A?U.i(N+x)>>>A|U.i(N+x+1)<<32-A:U.i(N+x);return new o(E,U.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,YA=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,Kl=o}).apply(typeof h_<"u"?h_:typeof self<"u"?self:typeof window<"u"?window:{});var Ud=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var QA,Rh,XA,bp,n2,JA,ZA,e3;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,w,T){return h==Array.prototype||h==Object.prototype||(h[w]=T.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ud=="object"&&Ud];for(var w=0;w<h.length;++w){var T=h[w];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function i(h,w){if(w)e:{var T=r;h=h.split(".");for(var z=0;z<h.length-1;z++){var ae=h[z];if(!(ae in T))break e;T=T[ae]}h=h[h.length-1],z=T[h],w=w(z),w!=z&&w!=null&&e(T,h,{configurable:!0,writable:!0,value:w})}}function s(h,w){h instanceof String&&(h+="");var T=0,z=!1,ae={next:function(){if(!z&&T<h.length){var de=T++;return{value:w(de,h[de]),done:!1}}return z=!0,{done:!0,value:void 0}}};return ae[Symbol.iterator]=function(){return ae},ae}i("Array.prototype.values",function(h){return h||function(){return s(this,function(w,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(h){var w=typeof h;return w=w!="object"?w:h?Array.isArray(h)?"array":w:"null",w=="array"||w=="object"&&typeof h.length=="number"}function u(h){var w=typeof h;return w=="object"&&h!=null||w=="function"}function f(h,w,T){return h.call.apply(h.bind,arguments)}function g(h,w,T){if(!h)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ae,z),h.apply(w,ae)}}return function(){return h.apply(w,arguments)}}function v(h,w,T){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,v.apply(null,arguments)}function p(h,w){var T=Array.prototype.slice.call(arguments,1);return function(){var z=T.slice();return z.push.apply(z,arguments),h.apply(this,z)}}function S(h,w){function T(){}T.prototype=w.prototype,h.aa=w.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(z,ae,de){for(var De=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)De[Ut-2]=arguments[Ut];return w.prototype[ae].apply(z,De)}}function I(h){const w=h.length;if(0<w){const T=Array(w);for(let z=0;z<w;z++)T[z]=h[z];return T}return[]}function P(h,w){for(let T=1;T<arguments.length;T++){const z=arguments[T];if(l(z)){const ae=h.length||0,de=z.length||0;h.length=ae+de;for(let De=0;De<de;De++)h[ae+De]=z[De]}else h.push(z)}}class _{constructor(w,T){this.i=w,this.j=T,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function k(h){return/^[\s\xa0]*$/.test(h)}function C(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function j(h){return j[" "](h),h}j[" "]=function(){};var Q=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function re(h,w,T){for(const z in h)w.call(T,h[z],z,h)}function U(h,w){for(const T in h)w.call(void 0,h[T],T,h)}function A(h){const w={};for(const T in h)w[T]=h[T];return w}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(h,w){let T,z;for(let ae=1;ae<arguments.length;ae++){z=arguments[ae];for(T in z)h[T]=z[T];for(let de=0;de<x.length;de++)T=x[de],Object.prototype.hasOwnProperty.call(z,T)&&(h[T]=z[T])}}function E(h){var w=1;h=h.split(":");const T=[];for(;0<w&&h.length;)T.push(h.shift()),w--;return h.length&&T.push(h.join(":")),T}function N(h){a.setTimeout(()=>{throw h},0)}function L(){var h=le;let w=null;return h.g&&(w=h.g,h.g=h.g.next,h.g||(h.h=null),w.next=null),w}class X{constructor(){this.h=this.g=null}add(w,T){const z=pe.get();z.set(w,T),this.h?this.h.next=z:this.g=z,this.h=z}}var pe=new _(()=>new ve,h=>h.reset());class ve{constructor(){this.next=this.g=this.h=null}set(w,T){this.h=w,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,J=!1,le=new X,_e=()=>{const h=a.Promise.resolve(void 0);ge=()=>{h.then(we)}};var we=()=>{for(var h;h=L();){try{h.h.call(h.g)}catch(T){N(T)}var w=pe;w.j(h),100>w.h&&(w.h++,h.next=w.g,w.g=h)}J=!1};function M(){this.s=this.s,this.C=this.C}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(h,w){this.type=h,this.g=this.target=w,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var Y=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,w=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};a.addEventListener("test",T,w),a.removeEventListener("test",T,w)}catch{}return h}();function ee(h,w){if(H.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,z=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=w,w=h.relatedTarget){if(Q){e:{try{j(w.nodeName);var ae=!0;break e}catch{}ae=!1}ae||(w=null)}}else T=="mouseover"?w=h.fromElement:T=="mouseout"&&(w=h.toElement);this.relatedTarget=w,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:ie[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ee.aa.h.call(this)}}S(ee,H);var ie={2:"touch",3:"pen",4:"mouse"};ee.prototype.h=function(){ee.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),me=0;function ye(h,w,T,z,ae){this.listener=h,this.proxy=null,this.src=w,this.type=T,this.capture=!!z,this.ha=ae,this.key=++me,this.da=this.fa=!1}function Ae(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Le(h){this.src=h,this.g={},this.h=0}Le.prototype.add=function(h,w,T,z,ae){var de=h.toString();h=this.g[de],h||(h=this.g[de]=[],this.h++);var De=je(h,w,z,ae);return-1<De?(w=h[De],T||(w.fa=!1)):(w=new ye(w,this.src,de,!!z,ae),w.fa=T,h.push(w)),w};function Ue(h,w){var T=w.type;if(T in h.g){var z=h.g[T],ae=Array.prototype.indexOf.call(z,w,void 0),de;(de=0<=ae)&&Array.prototype.splice.call(z,ae,1),de&&(Ae(w),h.g[T].length==0&&(delete h.g[T],h.h--))}}function je(h,w,T,z){for(var ae=0;ae<h.length;++ae){var de=h[ae];if(!de.da&&de.listener==w&&de.capture==!!T&&de.ha==z)return ae}return-1}var Je="closure_lm_"+(1e6*Math.random()|0),W={};function Fe(h,w,T,z,ae){if(Array.isArray(w)){for(var de=0;de<w.length;de++)Fe(h,w[de],T,z,ae);return null}return T=Ct(T),h&&h[ue]?h.K(w,T,u(z)?!!z.capture:!1,ae):xt(h,w,T,!1,z,ae)}function xt(h,w,T,z,ae,de){if(!w)throw Error("Invalid event type");var De=u(ae)?!!ae.capture:!!ae,Ut=et(h);if(Ut||(h[Je]=Ut=new Le(h)),T=Ut.add(w,T,z,De,de),T.proxy)return T;if(z=lt(),T.proxy=z,z.src=h,z.listener=T,h.addEventListener)Y||(ae=De),ae===void 0&&(ae=!1),h.addEventListener(w.toString(),z,ae);else if(h.attachEvent)h.attachEvent(Ve(w.toString()),z);else if(h.addListener&&h.removeListener)h.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return T}function lt(){function h(T){return w.call(h.src,h.listener,T)}const w=st;return h}function Ne(h,w,T,z,ae){if(Array.isArray(w))for(var de=0;de<w.length;de++)Ne(h,w[de],T,z,ae);else z=u(z)?!!z.capture:!!z,T=Ct(T),h&&h[ue]?(h=h.i,w=String(w).toString(),w in h.g&&(de=h.g[w],T=je(de,T,z,ae),-1<T&&(Ae(de[T]),Array.prototype.splice.call(de,T,1),de.length==0&&(delete h.g[w],h.h--)))):h&&(h=et(h))&&(w=h.g[w.toString()],h=-1,w&&(h=je(w,T,z,ae)),(T=-1<h?w[h]:null)&&rt(T))}function rt(h){if(typeof h!="number"&&h&&!h.da){var w=h.src;if(w&&w[ue])Ue(w.i,h);else{var T=h.type,z=h.proxy;w.removeEventListener?w.removeEventListener(T,z,h.capture):w.detachEvent?w.detachEvent(Ve(T),z):w.addListener&&w.removeListener&&w.removeListener(z),(T=et(w))?(Ue(T,h),T.h==0&&(T.src=null,w[Je]=null)):Ae(h)}}}function Ve(h){return h in W?W[h]:W[h]="on"+h}function st(h,w){if(h.da)h=!0;else{w=new ee(w,this);var T=h.listener,z=h.ha||h.src;h.fa&&rt(h),h=T.call(z,w)}return h}function et(h){return h=h[Je],h instanceof Le?h:null}var zt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ct(h){return typeof h=="function"?h:(h[zt]||(h[zt]=function(w){return h.handleEvent(w)}),h[zt])}function Xe(){M.call(this),this.i=new Le(this),this.M=this,this.F=null}S(Xe,M),Xe.prototype[ue]=!0,Xe.prototype.removeEventListener=function(h,w,T,z){Ne(this,h,w,T,z)};function ft(h,w){var T,z=h.F;if(z)for(T=[];z;z=z.F)T.push(z);if(h=h.M,z=w.type||w,typeof w=="string")w=new H(w,h);else if(w instanceof H)w.target=w.target||h;else{var ae=w;w=new H(z,h),D(w,ae)}if(ae=!0,T)for(var de=T.length-1;0<=de;de--){var De=w.g=T[de];ae=kt(De,z,!0,w)&&ae}if(De=w.g=h,ae=kt(De,z,!0,w)&&ae,ae=kt(De,z,!1,w)&&ae,T)for(de=0;de<T.length;de++)De=w.g=T[de],ae=kt(De,z,!1,w)&&ae}Xe.prototype.N=function(){if(Xe.aa.N.call(this),this.i){var h=this.i,w;for(w in h.g){for(var T=h.g[w],z=0;z<T.length;z++)Ae(T[z]);delete h.g[w],h.h--}}this.F=null},Xe.prototype.K=function(h,w,T,z){return this.i.add(String(h),w,!1,T,z)},Xe.prototype.L=function(h,w,T,z){return this.i.add(String(h),w,!0,T,z)};function kt(h,w,T,z){if(w=h.i.g[String(w)],!w)return!0;w=w.concat();for(var ae=!0,de=0;de<w.length;++de){var De=w[de];if(De&&!De.da&&De.capture==T){var Ut=De.listener,Ln=De.ha||De.src;De.fa&&Ue(h.i,De),ae=Ut.call(Ln,z)!==!1&&ae}}return ae&&!z.defaultPrevented}function $e(h,w,T){if(typeof h=="function")T&&(h=v(h,T));else if(h&&typeof h.handleEvent=="function")h=v(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:a.setTimeout(h,w||0)}function yt(h){h.g=$e(()=>{h.g=null,h.i&&(h.i=!1,yt(h))},h.l);const w=h.h;h.h=null,h.m.apply(null,w)}class Ze extends M{constructor(w,T){super(),this.m=w,this.l=T,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:yt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function un(h){M.call(this),this.h=h,this.g={}}S(un,M);var Dt=[];function It(h){re(h.g,function(w,T){this.g.hasOwnProperty(T)&&rt(w)},h),h.g={}}un.prototype.N=function(){un.aa.N.call(this),It(this)},un.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var St=a.JSON.stringify,pn=a.JSON.parse,it=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function Qt(){}Qt.prototype.h=null;function ct(h){return h.h||(h.h=h.i())}function mt(){}var Xt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Tt(){H.call(this,"d")}S(Tt,H);function ot(){H.call(this,"c")}S(ot,H);var Lt={},qs=null;function $n(){return qs=qs||new Xe}Lt.La="serverreachability";function Xi(h){H.call(this,Lt.La,h)}S(Xi,H);function Fr(h){const w=$n();ft(w,new Xi(w))}Lt.STAT_EVENT="statevent";function ut(h,w){H.call(this,Lt.STAT_EVENT,h),this.stat=w}S(ut,H);function yn(h){const w=$n();ft(w,new ut(w,h))}Lt.Ma="timingevent";function Ji(h,w){H.call(this,Lt.Ma,h),this.size=w}S(Ji,H);function vr(h,w){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},w)}function yr(){this.g=!0}yr.prototype.xa=function(){this.g=!1};function An(h,w,T,z,ae,de){h.info(function(){if(h.g)if(de)for(var De="",Ut=de.split("&"),Ln=0;Ln<Ut.length;Ln++){var Rt=Ut[Ln].split("=");if(1<Rt.length){var Gt=Rt[0];Rt=Rt[1];var gn=Gt.split("_");De=2<=gn.length&&gn[1]=="type"?De+(Gt+"="+Rt+"&"):De+(Gt+"=redacted&")}}else De=null;else De=de;return"XMLHTTP REQ ("+z+") [attempt "+ae+"]: "+w+`
`+T+`
`+De})}function rr(h,w,T,z,ae,de,De){h.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+ae+"]: "+w+`
`+T+`
`+de+" "+De})}function xn(h,w,T,z){h.info(function(){return"XMLHTTP TEXT ("+w+"): "+Ws(h,T)+(z?" "+z:"")})}function wo(h,w){h.info(function(){return"TIMEOUT: "+w})}yr.prototype.info=function(){};function Ws(h,w){if(!h.g)return w;if(!w)return null;try{var T=JSON.parse(w);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var z=T[h];if(!(2>z.length)){var ae=z[1];if(Array.isArray(ae)&&!(1>ae.length)){var de=ae[0];if(de!="noop"&&de!="stop"&&de!="close")for(var De=1;De<ae.length;De++)ae[De]=""}}}}return St(T)}catch{return w}}var jr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ii={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ti;function Ur(){}S(Ur,Qt),Ur.prototype.g=function(){return new XMLHttpRequest},Ur.prototype.i=function(){return{}},ti=new Ur;function Gn(h,w,T,z){this.j=h,this.i=w,this.l=T,this.R=z||1,this.U=new un(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Hs}function Hs(){this.i=null,this.g="",this.h=!1}var Ti={},_s={};function $s(h,w,T){h.L=1,h.v=Ao(lr(w)),h.m=T,h.P=!0,_o(h,null)}function _o(h,w){h.F=Date.now(),Gs(h),h.A=lr(h.v);var T=h.A,z=h.R;Array.isArray(z)||(z=[String(z)]),Iu(T.i,"t",z),h.C=0,T=h.j.J,h.h=new Hs,h.g=Fn(h.j,T?w:null,!h.m),0<h.O&&(h.M=new Ze(v(h.Y,h,h.g),h.O)),w=h.U,T=h.g,z=h.ca;var ae="readystatechange";Array.isArray(ae)||(ae&&(Dt[0]=ae.toString()),ae=Dt);for(var de=0;de<ae.length;de++){var De=Fe(T,ae[de],z||w.handleEvent,!1,w.h||w);if(!De)break;w.g[De.key]=De}w=h.H?A(h.H):{},h.m?(h.u||(h.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,w)):(h.u="GET",h.g.ea(h.A,h.u,null,w)),Fr(),An(h.i,h.u,h.A,h.l,h.R,h.m)}Gn.prototype.ca=function(h){h=h.target;const w=this.M;w&&ni(h)==3?w.j():this.Y(h)},Gn.prototype.Y=function(h){try{if(h==this.g)e:{const gn=ni(this.g);var w=this.g.Ba();const Pi=this.g.Z();if(!(3>gn)&&(gn!=3||this.g&&(this.h.h||this.g.oa()||Tl(this.g)))){this.J||gn!=4||w==7||(w==8||0>=Pi?Fr(3):Fr(2)),oa(this);var T=this.g.Z();this.X=T;t:if(bo(this)){var z=Tl(this.g);h="";var ae=z.length,de=ni(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ki(this),wr(this);var De="";break t}this.h.i=new a.TextDecoder}for(w=0;w<ae;w++)this.h.h=!0,h+=this.h.i.decode(z[w],{stream:!(de&&w==ae-1)});z.length=0,this.h.g+=h,this.C=0,De=this.h.g}else De=this.g.oa();if(this.o=T==200,rr(this.i,this.u,this.A,this.l,this.R,gn,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Ut,Ln=this.g;if((Ut=Ln.g?Ln.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(Ut)){var Rt=Ut;break t}}Rt=null}if(T=Rt)xn(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,aa(this,T);else{this.o=!1,this.s=3,yn(12),ki(this),wr(this);break e}}if(this.P){T=!0;let Vr;for(;!this.J&&this.C<De.length;)if(Vr=qc(this,De),Vr==_s){gn==4&&(this.s=4,yn(14),T=!1),xn(this.i,this.l,null,"[Incomplete Response]");break}else if(Vr==Ti){this.s=4,yn(15),xn(this.i,this.l,De,"[Invalid Chunk]"),T=!1;break}else xn(this.i,this.l,Vr,null),aa(this,Vr);if(bo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gn!=4||De.length!=0||this.h.h||(this.s=1,yn(16),T=!1),this.o=this.o&&T,!T)xn(this.i,this.l,De,"[Invalid Chunked Response]"),ki(this),wr(this);else if(0<De.length&&!this.W){this.W=!0;var Gt=this.j;Gt.g==this&&Gt.ba&&!Gt.M&&(Gt.j.info("Great, no buffering proxy detected. Bytes received: "+De.length),Be(Gt),Gt.M=!0,yn(11))}}else xn(this.i,this.l,De,null),aa(this,De);gn==4&&ki(this),this.o&&!this.J&&(gn==4?wt(this.j,this):(this.o=!1,Gs(this)))}else ku(this.g),T==400&&0<De.indexOf("Unknown SID")?(this.s=3,yn(12)):(this.s=0,yn(13)),ki(this),wr(this)}}}catch{}finally{}};function bo(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function qc(h,w){var T=h.C,z=w.indexOf(`
`,T);return z==-1?_s:(T=Number(w.substring(T,z)),isNaN(T)?Ti:(z+=1,z+T>w.length?_s:(w=w.slice(z,z+T),h.C=z+T,w)))}Gn.prototype.cancel=function(){this.J=!0,ki(this)};function Gs(h){h.S=Date.now()+h.I,yl(h,h.I)}function yl(h,w){if(h.B!=null)throw Error("WatchDog timer not null");h.B=vr(v(h.ba,h),w)}function oa(h){h.B&&(a.clearTimeout(h.B),h.B=null)}Gn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(wo(this.i,this.A),this.L!=2&&(Fr(),yn(17)),ki(this),this.s=2,wr(this)):yl(this,this.S-h)};function wr(h){h.j.G==0||h.J||wt(h.j,h)}function ki(h){oa(h);var w=h.M;w&&typeof w.ma=="function"&&w.ma(),h.M=null,It(h.U),h.g&&(w=h.g,h.g=null,w.abort(),w.ma())}function aa(h,w){try{var T=h.j;if(T.G!=0&&(T.g==h||pi(T.h,h))){if(!h.K&&pi(T.h,h)&&T.G==3){try{var z=T.Da.g.parse(w)}catch{z=null}if(Array.isArray(z)&&z.length==3){var ae=z;if(ae[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)dt(T),ss(T);else break e;Ie(T),yn(18)}}else T.za=ae[1],0<T.za-T.T&&37500>ae[2]&&T.F&&T.v==0&&!T.C&&(T.C=vr(v(T.Za,T),6e3));if(1>=El(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Yt(T,11)}else if((h.K||T.g==h)&&dt(T),!k(w))for(ae=T.Da.g.parse(w),w=0;w<ae.length;w++){let Rt=ae[w];if(T.T=Rt[0],Rt=Rt[1],T.G==2)if(Rt[0]=="c"){T.K=Rt[1],T.ia=Rt[2];const Gt=Rt[3];Gt!=null&&(T.la=Gt,T.j.info("VER="+T.la));const gn=Rt[4];gn!=null&&(T.Aa=gn,T.j.info("SVER="+T.Aa));const Pi=Rt[5];Pi!=null&&typeof Pi=="number"&&0<Pi&&(z=1.5*Pi,T.L=z,T.j.info("backChannelRequestTimeoutMs_="+z)),z=T;const Vr=h.g;if(Vr){const Ir=Vr.g?Vr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ir){var de=z.h;de.g||Ir.indexOf("spdy")==-1&&Ir.indexOf("quic")==-1&&Ir.indexOf("h2")==-1||(de.j=de.l,de.g=new Set,de.h&&(Ks(de,de.h),de.h=null))}if(z.D){const Ss=Vr.g?Vr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ss&&(z.ya=Ss,Mt(z.I,z.D,Ss))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),z=T;var De=h;if(z.qa=Zt(z,z.J?z.ia:null,z.W),De.K){bu(z.h,De);var Ut=De,Ln=z.L;Ln&&(Ut.I=Ln),Ut.B&&(oa(Ut),Gs(Ut)),z.g=De}else Ee(z);0<T.i.length&&m(T)}else Rt[0]!="stop"&&Rt[0]!="close"||Yt(T,7);else T.G==3&&(Rt[0]=="stop"||Rt[0]=="close"?Rt[0]=="stop"?Yt(T,7):da(T):Rt[0]!="noop"&&T.l&&T.l.ta(Rt),T.v=0)}}Fr(4)}catch{}}var wl=class{constructor(h,w){this.g=h,this.map=w}};function _l(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function El(h){return h.h?1:h.g?h.g.size:0}function pi(h,w){return h.h?h.h==w:h.g?h.g.has(w):!1}function Ks(h,w){h.g?h.g.add(w):h.h=w}function bu(h,w){h.h&&h.h==w?h.h=null:h.g&&h.g.has(w)&&h.g.delete(w)}_l.prototype.cancel=function(){if(this.i=kn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function kn(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let w=h.i;for(const T of h.g.values())w=w.concat(T.D);return w}return I(h.i)}function Eu(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var w=[],T=h.length,z=0;z<T;z++)w.push(h[z]);return w}w=[],T=0;for(z in h)w[T++]=h[z];return w}function Zi(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var w=[];h=h.length;for(var T=0;T<h;T++)w.push(T);return w}w=[],T=0;for(const z in h)w[T++]=z;return w}}}function Eo(h,w){if(h.forEach&&typeof h.forEach=="function")h.forEach(w,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,w,void 0);else for(var T=Zi(h),z=Eu(h),ae=z.length,de=0;de<ae;de++)w.call(void 0,z[de],T&&T[de],h)}var Sl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gi(h,w){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var z=h[T].indexOf("="),ae=null;if(0<=z){var de=h[T].substring(0,z);ae=h[T].substring(z+1)}else de=h[T];w(de,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function cn(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof cn){this.h=h.h,So(this,h.j),this.o=h.o,this.g=h.g,la(this,h.s),this.l=h.l;var w=h.i,T=new xr;T.i=w.i,w.g&&(T.g=new Map(w.g),T.h=w.h),Su(this,T),this.m=h.m}else h&&(w=String(h).match(Sl))?(this.h=!1,So(this,w[1]||"",!0),this.o=Ys(w[2]||""),this.g=Ys(w[3]||"",!0),la(this,w[4]),this.l=Ys(w[5]||"",!0),Su(this,w[6]||"",!0),this.m=Ys(w[7]||"")):(this.h=!1,this.i=new xr(null,this.h))}cn.prototype.toString=function(){var h=[],w=this.j;w&&h.push(es(w,Au,!0),":");var T=this.g;return(T||w=="file")&&(h.push("//"),(w=this.o)&&h.push(es(w,Au,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(es(T,T.charAt(0)=="/"?Hc:Wc,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",es(T,xu)),h.join("")};function lr(h){return new cn(h)}function So(h,w,T){h.j=T?Ys(w,!0):w,h.j&&(h.j=h.j.replace(/:$/,""))}function la(h,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);h.s=w}else h.s=null}function Su(h,w,T){w instanceof xr?(h.i=w,$c(h.i,h.h)):(T||(w=es(w,Al)),h.i=new xr(w,h.h))}function Mt(h,w,T){h.i.set(w,T)}function Ao(h){return Mt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Ys(h,w){return h?w?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function es(h,w,T){return typeof h=="string"?(h=encodeURI(h).replace(w,xo),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function xo(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Au=/[#\/\?@]/g,Wc=/[#\?:]/g,Hc=/[#\?]/g,Al=/[#\?@]/g,xu=/#/g;function xr(h,w){this.h=this.g=null,this.i=h||null,this.j=!!w}function ts(h){h.g||(h.g=new Map,h.h=0,h.i&&gi(h.i,function(w,T){h.add(decodeURIComponent(w.replace(/\+/g," ")),T)}))}t=xr.prototype,t.add=function(h,w){ts(this),this.i=null,h=ht(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(w),this.h+=1,this};function Qs(h,w){ts(h),w=ht(h,w),h.g.has(w)&&(h.i=null,h.h-=h.g.get(w).length,h.g.delete(w))}function ua(h,w){return ts(h),w=ht(h,w),h.g.has(w)}t.forEach=function(h,w){ts(this),this.g.forEach(function(T,z){T.forEach(function(ae){h.call(w,ae,z,this)},this)},this)},t.na=function(){ts(this);const h=Array.from(this.g.values()),w=Array.from(this.g.keys()),T=[];for(let z=0;z<w.length;z++){const ae=h[z];for(let de=0;de<ae.length;de++)T.push(w[z])}return T},t.V=function(h){ts(this);let w=[];if(typeof h=="string")ua(this,h)&&(w=w.concat(this.g.get(ht(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)w=w.concat(h[T])}return w},t.set=function(h,w){return ts(this),this.i=null,h=ht(this,h),ua(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[w]),this.h+=1,this},t.get=function(h,w){return h?(h=this.V(h),0<h.length?String(h[0]):w):w};function Iu(h,w,T){Qs(h,w),0<T.length&&(h.i=null,h.g.set(ht(h,w),I(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],w=Array.from(this.g.keys());for(var T=0;T<w.length;T++){var z=w[T];const de=encodeURIComponent(String(z)),De=this.V(z);for(z=0;z<De.length;z++){var ae=de;De[z]!==""&&(ae+="="+encodeURIComponent(String(De[z]))),h.push(ae)}}return this.i=h.join("&")};function ht(h,w){return w=String(w),h.j&&(w=w.toLowerCase()),w}function $c(h,w){w&&!h.j&&(ts(h),h.i=null,h.g.forEach(function(T,z){var ae=z.toLowerCase();z!=ae&&(Qs(this,z),Iu(this,ae,T))},h)),h.j=w}function Gc(h,w){const T=new yr;if(a.Image){const z=new Image;z.onload=p(_r,T,"TestLoadImage: loaded",!0,w,z),z.onerror=p(_r,T,"TestLoadImage: error",!1,w,z),z.onabort=p(_r,T,"TestLoadImage: abort",!1,w,z),z.ontimeout=p(_r,T,"TestLoadImage: timeout",!1,w,z),a.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=h}else w(!1)}function Kc(h,w){const T=new yr,z=new AbortController,ae=setTimeout(()=>{z.abort(),_r(T,"TestPingServer: timeout",!1,w)},1e4);fetch(h,{signal:z.signal}).then(de=>{clearTimeout(ae),de.ok?_r(T,"TestPingServer: ok",!0,w):_r(T,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(ae),_r(T,"TestPingServer: error",!1,w)})}function _r(h,w,T,z,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),z(T)}catch{}}function bs(){this.g=new it}function Yc(h,w,T){const z=T||"";try{Eo(h,function(ae,de){let De=ae;u(ae)&&(De=St(ae)),w.push(z+de+"="+encodeURIComponent(De))})}catch(ae){throw w.push(z+"type="+encodeURIComponent("_badmap")),ae}}function ca(h){this.l=h.Ub||null,this.j=h.eb||!1}S(ca,Qt),ca.prototype.g=function(){return new Es(this.l,this.j)},ca.prototype.i=function(h){return function(){return h}}({});function Es(h,w){Xe.call(this),this.D=h,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Es,Xe),t=Es.prototype,t.open=function(h,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=w,this.readyState=1,Io(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(w.body=h),(this.D||a).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ni(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Io(this)),this.g&&(this.readyState=3,Io(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ha(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function ha(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var w=h.value?h.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!h.done}))&&(this.response=this.responseText+=w)}h.done?Ni(this):Io(this),this.readyState==3&&ha(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Ni(this))},t.Qa=function(h){this.g&&(this.response=h,Ni(this))},t.ga=function(){this.g&&Ni(this)};function Ni(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Io(h)}t.setRequestHeader=function(h,w){this.u.append(h,w)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],w=this.h.entries();for(var T=w.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=w.next();return h.join(`\r
`)};function Io(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Es.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ns(h){let w="";return re(h,function(T,z){w+=z,w+=":",w+=T,w+=`\r
`}),w}function xl(h,w,T){e:{for(z in T){var z=!1;break e}z=!0}z||(T=ns(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):Mt(h,w,T))}function ln(h){Xe.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(ln,Xe);var Il=/^https?$/i,Tu=["POST","PUT"];t=ln.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,w,T,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);w=w?w.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ti.g(),this.v=this.o?ct(this.o):ct(ti),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(w,String(h),!0),this.B=!1}catch(de){rs(this,de);return}if(h=T||"",T=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var ae in z)T.set(ae,z[ae]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const de of z.keys())T.set(de,z.get(de));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(T.keys()).find(de=>de.toLowerCase()=="content-type"),ae=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Tu,w,void 0))||z||ae||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[de,De]of T)this.g.setRequestHeader(de,De);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Js(this),this.u=!0,this.g.send(h),this.u=!1}catch(de){rs(this,de)}};function rs(h,w){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=w,h.m=5,fa(h),Xs(h)}function fa(h){h.A||(h.A=!0,ft(h,"complete"),ft(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,ft(this,"complete"),ft(this,"abort"),Xs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xs(this,!0)),ln.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?To(this):this.bb())},t.bb=function(){To(this)};function To(h){if(h.h&&typeof o<"u"&&(!h.v[1]||ni(h)!=4||h.Z()!=2)){if(h.u&&ni(h)==4)$e(h.Ea,0,h);else if(ft(h,"readystatechange"),ni(h)==4){h.h=!1;try{const De=h.Z();e:switch(De){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var T;if(!(T=w)){var z;if(z=De===0){var ae=String(h.D).match(Sl)[1]||null;!ae&&a.self&&a.self.location&&(ae=a.self.location.protocol.slice(0,-1)),z=!Il.test(ae?ae.toLowerCase():"")}T=z}if(T)ft(h,"complete"),ft(h,"success");else{h.m=6;try{var de=2<ni(h)?h.g.statusText:""}catch{de=""}h.l=de+" ["+h.Z()+"]",fa(h)}}finally{Xs(h)}}}}function Xs(h,w){if(h.g){Js(h);const T=h.g,z=h.v[0]?()=>{}:null;h.g=null,h.v=null,w||ft(h,"ready");try{T.onreadystatechange=z}catch{}}}function Js(h){h.I&&(a.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function ni(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<ni(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var w=this.g.responseText;return h&&w.indexOf(h)==0&&(w=w.substring(h.length)),pn(w)}};function Tl(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ku(h){const w={};h=(h.g&&2<=ni(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<h.length;z++){if(k(h[z]))continue;var T=E(h[z]);const ae=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const de=w[ae]||[];w[ae]=de,de.push(T)}U(w,function(z){return z.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ri(h,w,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||w}function is(h){this.Aa=0,this.i=[],this.j=new yr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ri("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ri("baseRetryDelayMs",5e3,h),this.cb=ri("retryDelaySeedMs",1e4,h),this.Wa=ri("forwardChannelMaxRetries",2,h),this.wa=ri("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new _l(h&&h.concurrentRequestLimit),this.Da=new bs,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=is.prototype,t.la=8,t.G=1,t.connect=function(h,w,T,z){yn(0),this.W=h,this.H=w||{},T&&z!==void 0&&(this.H.OSID=T,this.H.OAID=z),this.F=this.X,this.I=Zt(this,null,this.W),m(this)};function da(h){if(kl(h),h.G==3){var w=h.U++,T=lr(h.I);if(Mt(T,"SID",h.K),Mt(T,"RID",w),Mt(T,"TYPE","terminate"),Z(h,T),w=new Gn(h,h.j,w),w.L=2,w.v=Ao(lr(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(w.v.toString(),"")}catch{}!T&&a.Image&&(new Image().src=w.v,T=!0),T||(w.g=Fn(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Gs(w)}Nn(h)}function ss(h){h.g&&(Be(h),h.g.cancel(),h.g=null)}function kl(h){ss(h),h.u&&(a.clearTimeout(h.u),h.u=null),dt(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function m(h){if(!bl(h.h)&&!h.s){h.s=!0;var w=h.Ga;ge||_e(),J||(ge(),J=!0),le.add(w,h),h.B=0}}function R(h,w){return El(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=w.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=vr(v(h.Ga,h,w),Ft(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const ae=new Gn(this,this.j,h);let de=this.o;if(this.S&&(de?(de=A(de),D(de,this.S)):de=this.S),this.m!==null||this.O||(ae.H=de,de=null),this.P)e:{for(var w=0,T=0;T<this.i.length;T++){t:{var z=this.i[T];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(w+=z,4096<w){w=T;break e}if(w===4096||T===this.i.length-1){w=T+1;break e}}w=1e3}else w=1e3;w=oe(this,ae,w),T=lr(this.I),Mt(T,"RID",h),Mt(T,"CVER",22),this.D&&Mt(T,"X-HTTP-Session-Id",this.D),Z(this,T),de&&(this.O?w="headers="+encodeURIComponent(String(ns(de)))+"&"+w:this.m&&xl(T,this.m,de)),Ks(this.h,ae),this.Ua&&Mt(T,"TYPE","init"),this.P?(Mt(T,"$req",w),Mt(T,"SID","null"),ae.T=!0,$s(ae,T,null)):$s(ae,T,w),this.G=2}}else this.G==3&&(h?$(this,h):this.i.length==0||bl(this.h)||$(this))};function $(h,w){var T;w?T=w.l:T=h.U++;const z=lr(h.I);Mt(z,"SID",h.K),Mt(z,"RID",T),Mt(z,"AID",h.T),Z(h,z),h.m&&h.o&&xl(z,h.m,h.o),T=new Gn(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),w&&(h.i=w.D.concat(h.i)),w=oe(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ks(h.h,T),$s(T,z,w)}function Z(h,w){h.H&&re(h.H,function(T,z){Mt(w,z,T)}),h.l&&Eo({},function(T,z){Mt(w,z,T)})}function oe(h,w,T){T=Math.min(h.i.length,T);var z=h.l?v(h.l.Na,h.l,h):null;e:{var ae=h.i;let de=-1;for(;;){const De=["count="+T];de==-1?0<T?(de=ae[0].g,De.push("ofs="+de)):de=0:De.push("ofs="+de);let Ut=!0;for(let Ln=0;Ln<T;Ln++){let Rt=ae[Ln].g;const Gt=ae[Ln].map;if(Rt-=de,0>Rt)de=Math.max(0,ae[Ln].g-100),Ut=!1;else try{Yc(Gt,De,"req"+Rt+"_")}catch{z&&z(Gt)}}if(Ut){z=De.join("&");break e}}}return h=h.i.splice(0,T),w.D=h,z}function Ee(h){if(!h.g&&!h.u){h.Y=1;var w=h.Fa;ge||_e(),J||(ge(),J=!0),le.add(w,h),h.v=0}}function Ie(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=vr(v(h.Fa,h),Ft(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Ge(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=vr(v(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yn(10),ss(this),Ge(this))};function Be(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function Ge(h){h.g=new Gn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var w=lr(h.qa);Mt(w,"RID","rpc"),Mt(w,"SID",h.K),Mt(w,"AID",h.T),Mt(w,"CI",h.F?"0":"1"),!h.F&&h.ja&&Mt(w,"TO",h.ja),Mt(w,"TYPE","xmlhttp"),Z(h,w),h.m&&h.o&&xl(w,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=Ao(lr(w)),T.m=null,T.P=!0,_o(T,h)}t.Za=function(){this.C!=null&&(this.C=null,ss(this),Ie(this),yn(19))};function dt(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function wt(h,w){var T=null;if(h.g==w){dt(h),Be(h),h.g=null;var z=2}else if(pi(h.h,w))T=w.D,bu(h.h,w),z=1;else return;if(h.G!=0){if(w.o)if(z==1){T=w.m?w.m.length:0,w=Date.now()-w.F;var ae=h.B;z=$n(),ft(z,new Ji(z,T)),m(h)}else Ee(h);else if(ae=w.s,ae==3||ae==0&&0<w.X||!(z==1&&R(h,w)||z==2&&Ie(h)))switch(T&&0<T.length&&(w=h.h,w.i=w.i.concat(T)),ae){case 1:Yt(h,5);break;case 4:Yt(h,10);break;case 3:Yt(h,6);break;default:Yt(h,2)}}}function Ft(h,w){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*w}function Yt(h,w){if(h.j.info("Error code "+w),w==2){var T=v(h.fb,h),z=h.Xa;const ae=!z;z=new cn(z||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||So(z,"https"),Ao(z),ae?Gc(z.toString(),T):Kc(z.toString(),T)}else yn(2);h.G=0,h.l&&h.l.sa(w),Nn(h),kl(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),yn(2)):(this.j.info("Failed to ping google.com"),yn(1))};function Nn(h){if(h.G=0,h.ka=[],h.l){const w=kn(h.h);(w.length!=0||h.i.length!=0)&&(P(h.ka,w),P(h.ka,h.i),h.h.i.length=0,I(h.i),h.i.length=0),h.l.ra()}}function Zt(h,w,T){var z=T instanceof cn?lr(T):new cn(T);if(z.g!="")w&&(z.g=w+"."+z.g),la(z,z.s);else{var ae=a.location;z=ae.protocol,w=w?w+"."+ae.hostname:ae.hostname,ae=+ae.port;var de=new cn(null);z&&So(de,z),w&&(de.g=w),ae&&la(de,ae),T&&(de.l=T),z=de}return T=h.D,w=h.ya,T&&w&&Mt(z,T,w),Mt(z,"VER",h.la),Z(h,z),z}function Fn(h,w,T){if(w&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=h.Ca&&!h.pa?new ln(new ca({eb:T})):new ln(h.pa),w.Ha(h.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pn(){}t=Pn.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function jn(){}jn.prototype.g=function(h,w){return new Cn(h,w)};function Cn(h,w){Xe.call(this),this.g=new is(w),this.l=h,this.h=w&&w.messageUrlParams||null,h=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(h?h["X-WebChannel-Content-Type"]=w.messageContentType:h={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(h?h["X-WebChannel-Client-Profile"]=w.va:h={"X-WebChannel-Client-Profile":w.va}),this.g.S=h,(h=w&&w.Sb)&&!k(h)&&(this.g.m=h),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!k(w)&&(this.g.D=w,h=this.h,h!==null&&w in h&&(h=this.h,w in h&&delete h[w])),this.j=new as(this)}S(Cn,Xe),Cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){da(this.g)},Cn.prototype.o=function(h){var w=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=St(h),h=T);w.i.push(new wl(w.Ya++,h)),w.G==3&&m(w)},Cn.prototype.N=function(){this.g.l=null,delete this.j,da(this.g),delete this.g,Cn.aa.N.call(this)};function mi(h){Tt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var w=h.__sm__;if(w){e:{for(const T in w){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,w=w!==null&&h in w?w[h]:void 0),this.data=w}else this.data=h}S(mi,Tt);function os(){ot.call(this),this.status=1}S(os,ot);function as(h){this.g=h}S(as,Pn),as.prototype.ua=function(){ft(this.g,"a")},as.prototype.ta=function(h){ft(this.g,new mi(h))},as.prototype.sa=function(h){ft(this.g,new os)},as.prototype.ra=function(){ft(this.g,"b")},jn.prototype.createWebChannel=jn.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,e3=function(){return new jn},ZA=function(){return $n()},JA=Lt,n2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},jr.NO_ERROR=0,jr.TIMEOUT=8,jr.HTTP_ERROR=6,bp=jr,Ii.COMPLETE="complete",XA=Ii,mt.EventType=Xt,Xt.OPEN="a",Xt.CLOSE="b",Xt.ERROR="c",Xt.MESSAGE="d",Xe.prototype.listen=Xe.prototype.K,Rh=mt,ln.prototype.listenOnce=ln.prototype.L,ln.prototype.getLastError=ln.prototype.Ka,ln.prototype.getLastErrorCode=ln.prototype.Ba,ln.prototype.getStatus=ln.prototype.Z,ln.prototype.getResponseJson=ln.prototype.Oa,ln.prototype.getResponseText=ln.prototype.oa,ln.prototype.send=ln.prototype.ea,ln.prototype.setWithCredentials=ln.prototype.Ha,QA=ln}).apply(typeof Ud<"u"?Ud:typeof self<"u"?self:typeof window<"u"?window:{});const f_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Yr.UNAUTHENTICATED=new Yr(null),Yr.GOOGLE_CREDENTIALS=new Yr("google-credentials-uid"),Yr.FIRST_PARTY=new Yr("first-party-uid"),Yr.MOCK_USER=new Yr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=new Nv("@firebase/firestore");function yh(){return su.logLevel}function Ke(t,...e){if(su.logLevel<=Bt.DEBUG){const n=e.map(qv);su.debug(`Firestore (${Fc}): ${t}`,...n)}}function ta(t,...e){if(su.logLevel<=Bt.ERROR){const n=e.map(qv);su.error(`Firestore (${Fc}): ${t}`,...n)}}function Ic(t,...e){if(su.logLevel<=Bt.WARN){const n=e.map(qv);su.warn(`Firestore (${Fc}): ${t}`,...n)}}function qv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(t="Unexpected state"){const e=`FIRESTORE (${Fc}) INTERNAL ASSERTION FAILED: `+t;throw ta(e),new Error(e)}function an(t,e){t||vt()}function Et(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qe extends vo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class n8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yr.UNAUTHENTICATED))}shutdown(){}}class r8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class i8{constructor(e){this.t=e,this.currentUser=Yr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){an(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ko;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ko,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ko)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(an(typeof r.accessToken=="string"),new t3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return an(e===null||typeof e=="string"),new Yr(e)}}class s8{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Yr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class o8{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new s8(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Yr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class a8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class l8{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){an(this.o===void 0);const r=s=>{s.error!=null&&Ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Ke("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(an(typeof n.token=="string"),this.R=n.token,new a8(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=u8(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Kt(t,e){return t<e?-1:t>e?1:0}function Tc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new qe(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new qe(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new qe(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new qe(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gr.fromMillis(Date.now())}static fromDate(e){return gr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new gr(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kt(this.nanoseconds,e.nanoseconds):Kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bt(e)}static min(){return new bt(new gr(0,0))}static max(){return new bt(new gr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,n,r){n===void 0?n=0:n>e.length&&vt(),r===void 0?r=e.length-n:r>e.length-n&&vt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Af.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Af?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class bn extends Af{construct(e,n,r){return new bn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new qe(Te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new bn(n)}static emptyPath(){return new bn([])}}const c8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lr extends Af{construct(e,n,r){return new Lr(e,n,r)}static isValidIdentifier(e){return c8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Lr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new qe(Te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new qe(Te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new qe(Te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new qe(Te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lr(n)}static emptyPath(){return new Lr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.path=e}static fromPath(e){return new at(bn.fromString(e))}static fromName(e){return new at(bn.fromString(e).popFirst(5))}static empty(){return new at(bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return bn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new at(new bn(e.slice()))}}function h8(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=bt.fromTimestamp(r===1e9?new gr(n+1,0):new gr(n,r));return new al(i,at.empty(),e)}function f8(t){return new al(t.readTime,t.key,-1)}class al{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new al(bt.min(),at.empty(),-1)}static max(){return new al(bt.max(),at.empty(),-1)}}function d8(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=at.comparator(t.documentKey,e.documentKey),n!==0?n:Kt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class g8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kf(t){if(t.code!==Te.FAILED_PRECONDITION||t.message!==p8)throw t;Ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&vt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ce((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ce?n:Ce.resolve(n)}catch(n){return Ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ce.reject(n)}static resolve(e){return new Ce((n,r)=>{n(e)})}static reject(e){return new Ce((n,r)=>{r(e)})}static waitFor(e){return new Ce((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=Ce.resolve(!1);for(const r of e)n=n.next(i=>i?Ce.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Ce((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(f=>{o[u]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new Ce((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function m8(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Wv.oe=-1;function Yg(t){return t==null}function cg(t){return t===0&&1/t==-1/0}function v8(t){return typeof t=="number"&&Number.isInteger(t)&&!cg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function mu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function r3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,n){this.comparator=e,this.root=n||Cr.EMPTY}insert(e,n){return new Mn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Cr.BLACK,null,null))}remove(e){return new Mn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vd(this.root,e,this.comparator,!0)}}class Vd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Cr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Cr.RED,this.left=i??Cr.EMPTY,this.right=s??Cr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Cr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Cr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Cr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Cr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Cr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw vt();const e=this.left.check();if(e!==this.right.check())throw vt();return e+(this.isRed()?0:1)}}Cr.EMPTY=null,Cr.RED=!0,Cr.BLACK=!1;Cr.EMPTY=new class{constructor(){this.size=0}get key(){throw vt()}get value(){throw vt()}get color(){throw vt()}get left(){throw vt()}get right(){throw vt()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Cr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.comparator=e,this.data=new Mn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new p_(this.data.getIterator())}getIteratorFrom(e){return new p_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Or)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Or(this.comparator);return n.data=e,n}}class p_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e){this.fields=e,e.sort(Lr.comparator)}static empty(){return new zi([])}unionWith(e){let n=new Or(Lr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new zi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Tc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new i3("Invalid base64 string: "+s):s}}(e);return new Mr(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Mr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mr.EMPTY_BYTE_STRING=new Mr("");const y8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ll(t){if(an(!!t),typeof t=="string"){let e=0;const n=y8.exec(t);if(an(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Jn(t.seconds),nanos:Jn(t.nanos)}}function Jn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ou(t){return typeof t=="string"?Mr.fromBase64String(t):Mr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function $v(t){const e=t.mapValue.fields.__previous_value__;return Hv(e)?$v(e):e}function xf(t){const e=ll(t.mapValue.fields.__local_write_time__.timestampValue);return new gr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class If{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new If("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof If&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd={mapValue:{}};function au(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hv(t)?4:b8(t)?9007199254740991:_8(t)?10:11:vt()}function mo(t,e){if(t===e)return!0;const n=au(t);if(n!==au(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xf(t).isEqual(xf(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ll(i.timestampValue),a=ll(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ou(i.bytesValue).isEqual(ou(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Jn(i.geoPointValue.latitude)===Jn(s.geoPointValue.latitude)&&Jn(i.geoPointValue.longitude)===Jn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Jn(i.integerValue)===Jn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Jn(i.doubleValue),a=Jn(s.doubleValue);return o===a?cg(o)===cg(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Tc(t.arrayValue.values||[],e.arrayValue.values||[],mo);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(d_(o)!==d_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!mo(o[l],a[l])))return!1;return!0}(t,e);default:return vt()}}function Tf(t,e){return(t.values||[]).find(n=>mo(n,e))!==void 0}function kc(t,e){if(t===e)return 0;const n=au(t),r=au(e);if(n!==r)return Kt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Kt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Jn(s.integerValue||s.doubleValue),l=Jn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return g_(t.timestampValue,e.timestampValue);case 4:return g_(xf(t),xf(e));case 5:return Kt(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ou(s),l=ou(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const f=Kt(a[u],l[u]);if(f!==0)return f}return Kt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Kt(Jn(s.latitude),Jn(o.latitude));return a!==0?a:Kt(Jn(s.longitude),Jn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return m_(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,f;const g=s.fields||{},v=o.fields||{},p=(a=g.value)===null||a===void 0?void 0:a.arrayValue,S=(l=v.value)===null||l===void 0?void 0:l.arrayValue,I=Kt(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((f=S==null?void 0:S.values)===null||f===void 0?void 0:f.length)||0);return I!==0?I:m_(p,S)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Bd.mapValue&&o===Bd.mapValue)return 0;if(s===Bd.mapValue)return 1;if(o===Bd.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},f=Object.keys(u);l.sort(),f.sort();for(let g=0;g<l.length&&g<f.length;++g){const v=Kt(l[g],f[g]);if(v!==0)return v;const p=kc(a[l[g]],u[f[g]]);if(p!==0)return p}return Kt(l.length,f.length)}(t.mapValue,e.mapValue);default:throw vt()}}function g_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Kt(t,e);const n=ll(t),r=ll(e),i=Kt(n.seconds,r.seconds);return i!==0?i:Kt(n.nanos,r.nanos)}function m_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=kc(n[i],r[i]);if(s)return s}return Kt(n.length,r.length)}function Nc(t){return r2(t)}function r2(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ll(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ou(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return at.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=r2(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${r2(n.fields[o])}`;return i+"}"}(t.mapValue):vt()}function v_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function i2(t){return!!t&&"integerValue"in t}function Gv(t){return!!t&&"arrayValue"in t}function y_(t){return!!t&&"nullValue"in t}function w_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ep(t){return!!t&&"mapValue"in t}function _8(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Gh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return mu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Gh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function b8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this.value=e}static empty(){return new _i({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ep(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gh(n)}setAll(e){let n=Lr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Gh(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ep(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ep(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){mu(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new _i(Gh(this.value))}}function s3(t){const e=[];return mu(t.fields,(n,r)=>{const i=new Lr([n]);if(Ep(r)){const s=s3(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new zi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Jr(e,0,bt.min(),bt.min(),bt.min(),_i.empty(),0)}static newFoundDocument(e,n,r,i){return new Jr(e,1,n,bt.min(),r,i,0)}static newNoDocument(e,n){return new Jr(e,2,n,bt.min(),bt.min(),_i.empty(),0)}static newUnknownDocument(e,n){return new Jr(e,3,n,bt.min(),bt.min(),_i.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_i.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_i.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n){this.position=e,this.inclusive=n}}function __(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=at.comparator(at.fromName(o.referenceValue),n.key):r=kc(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function b_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,n="asc"){this.field=e,this.dir=n}}function E8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{}class or extends o3{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new A8(e,n,r):n==="array-contains"?new T8(e,r):n==="in"?new k8(e,r):n==="not-in"?new N8(e,r):n==="array-contains-any"?new P8(e,r):new or(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new x8(e,r):new I8(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(kc(n,this.value)):n!==null&&au(this.value)===au(n)&&this.matchesComparison(kc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return vt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fs extends o3{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Fs(e,n)}matches(e){return a3(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function a3(t){return t.op==="and"}function l3(t){return S8(t)&&a3(t)}function S8(t){for(const e of t.filters)if(e instanceof Fs)return!1;return!0}function s2(t){if(t instanceof or)return t.field.canonicalString()+t.op.toString()+Nc(t.value);if(l3(t))return t.filters.map(e=>s2(e)).join(",");{const e=t.filters.map(n=>s2(n)).join(",");return`${t.op}(${e})`}}function u3(t,e){return t instanceof or?function(r,i){return i instanceof or&&r.op===i.op&&r.field.isEqual(i.field)&&mo(r.value,i.value)}(t,e):t instanceof Fs?function(r,i){return i instanceof Fs&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&u3(o,i.filters[a]),!0):!1}(t,e):void vt()}function c3(t){return t instanceof or?function(n){return`${n.field.canonicalString()} ${n.op} ${Nc(n.value)}`}(t):t instanceof Fs?function(n){return n.op.toString()+" {"+n.getFilters().map(c3).join(" ,")+"}"}(t):"Filter"}class A8 extends or{constructor(e,n,r){super(e,n,r),this.key=at.fromName(r.referenceValue)}matches(e){const n=at.comparator(e.key,this.key);return this.matchesComparison(n)}}class x8 extends or{constructor(e,n){super(e,"in",n),this.keys=h3("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class I8 extends or{constructor(e,n){super(e,"not-in",n),this.keys=h3("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function h3(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>at.fromName(r.referenceValue))}class T8 extends or{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gv(n)&&Tf(n.arrayValue,this.value)}}class k8 extends or{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Tf(this.value.arrayValue,n)}}class N8 extends or{constructor(e,n){super(e,"not-in",n)}matches(e){if(Tf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Tf(this.value.arrayValue,n)}}class P8 extends or{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Tf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function E_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new C8(t,e,n,r,i,s,o)}function Kv(t){const e=Et(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>s2(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Yg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Nc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Nc(r)).join(",")),e.ue=n}return e.ue}function Yv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!E8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!u3(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!b_(t.startAt,e.startAt)&&b_(t.endAt,e.endAt)}function o2(t){return at.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function L8(t,e,n,r,i,s,o,a){return new Qf(t,e,n,r,i,s,o,a)}function Qv(t){return new Qf(t)}function S_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function f3(t){return t.collectionGroup!==null}function Kh(t){const e=Et(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Or(Lr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new fg(s,r))}),n.has(Lr.keyField().canonicalString())||e.ce.push(new fg(Lr.keyField(),r))}return e.ce}function po(t){const e=Et(t);return e.le||(e.le=R8(e,Kh(t))),e.le}function R8(t,e){if(t.limitType==="F")return E_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new fg(i.field,s)});const n=t.endAt?new hg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new hg(t.startAt.position,t.startAt.inclusive):null;return E_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function a2(t,e){const n=t.filters.concat([e]);return new Qf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function l2(t,e,n){return new Qf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qg(t,e){return Yv(po(t),po(e))&&t.limitType===e.limitType}function d3(t){return`${Kv(po(t))}|lt:${t.limitType}`}function Uu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>c3(i)).join(", ")}]`),Yg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Nc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Nc(i)).join(",")),`Target(${r})`}(po(t))}; limitType=${t.limitType})`}function Xg(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):at.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Kh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=__(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Kh(r),i)||r.endAt&&!function(o,a,l){const u=__(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Kh(r),i))}(t,e)}function O8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function p3(t){return(e,n)=>{let r=!1;for(const i of Kh(t)){const s=D8(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function D8(t,e,n){const r=t.field.isKeyField()?at.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?kc(l,u):vt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return vt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){mu(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return r3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8=new Mn(at.comparator);function na(){return M8}const g3=new Mn(at.comparator);function Oh(...t){let e=g3;for(const n of t)e=e.insert(n.key,n);return e}function m3(t){let e=g3;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Wl(){return Yh()}function v3(){return Yh()}function Yh(){return new jc(t=>t.toString(),(t,e)=>t.isEqual(e))}const F8=new Mn(at.comparator),j8=new Or(at.comparator);function jt(...t){let e=j8;for(const n of t)e=e.add(n);return e}const U8=new Or(Kt);function V8(){return U8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cg(e)?"-0":e}}function y3(t){return{integerValue:""+t}}function B8(t,e){return v8(e)?y3(e):Xv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(){this._=void 0}}function z8(t,e,n){return t instanceof dg?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Hv(s)&&(s=$v(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof kf?_3(t,e):t instanceof Nf?b3(t,e):function(i,s){const o=w3(i,s),a=A_(o)+A_(i.Pe);return i2(o)&&i2(i.Pe)?y3(a):Xv(i.serializer,a)}(t,e)}function q8(t,e,n){return t instanceof kf?_3(t,e):t instanceof Nf?b3(t,e):n}function w3(t,e){return t instanceof pg?function(r){return i2(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class dg extends Jg{}class kf extends Jg{constructor(e){super(),this.elements=e}}function _3(t,e){const n=E3(e);for(const r of t.elements)n.some(i=>mo(i,r))||n.push(r);return{arrayValue:{values:n}}}class Nf extends Jg{constructor(e){super(),this.elements=e}}function b3(t,e){let n=E3(e);for(const r of t.elements)n=n.filter(i=>!mo(i,r));return{arrayValue:{values:n}}}class pg extends Jg{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function A_(t){return Jn(t.integerValue||t.doubleValue)}function E3(t){return Gv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function W8(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof kf&&i instanceof kf||r instanceof Nf&&i instanceof Nf?Tc(r.elements,i.elements,mo):r instanceof pg&&i instanceof pg?mo(r.Pe,i.Pe):r instanceof dg&&i instanceof dg}(t.transform,e.transform)}class H8{constructor(e,n){this.version=e,this.transformResults=n}}class gs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gs}static exists(e){return new gs(void 0,e)}static updateTime(e){return new gs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Zg{}function S3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Jv(t.key,gs.none()):new Xf(t.key,t.data,gs.none());{const n=t.data,r=_i.empty();let i=new Or(Lr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new vl(t.key,r,new zi(i.toArray()),gs.none())}}function $8(t,e,n){t instanceof Xf?function(i,s,o){const a=i.value.clone(),l=I_(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof vl?function(i,s,o){if(!Sp(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=I_(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(A3(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Qh(t,e,n,r){return t instanceof Xf?function(s,o,a,l){if(!Sp(s.precondition,o))return a;const u=s.value.clone(),f=T_(s.fieldTransforms,l,o);return u.setAll(f),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof vl?function(s,o,a,l){if(!Sp(s.precondition,o))return a;const u=T_(s.fieldTransforms,l,o),f=o.data;return f.setAll(A3(s)),f.setAll(u),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,o,a){return Sp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function G8(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=w3(r.transform,i||null);s!=null&&(n===null&&(n=_i.empty()),n.set(r.field,s))}return n||null}function x_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Tc(r,i,(s,o)=>W8(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xf extends Zg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class vl extends Zg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function A3(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function I_(t,e,n){const r=new Map;an(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,q8(o,a,n[i]))}return r}function T_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,z8(s,o,e))}return r}class Jv extends Zg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class K8 extends Zg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&$8(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Qh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Qh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=v3();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=S3(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(bt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),jt())}isEqual(e){return this.batchId===e.batchId&&Tc(this.mutations,e.mutations,(n,r)=>x_(n,r))&&Tc(this.baseMutations,e.baseMutations,(n,r)=>x_(n,r))}}class Zv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){an(e.mutations.length===r.length);let i=function(){return F8}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Zv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ir,Wt;function J8(t){switch(t){default:return vt();case Te.CANCELLED:case Te.UNKNOWN:case Te.DEADLINE_EXCEEDED:case Te.RESOURCE_EXHAUSTED:case Te.INTERNAL:case Te.UNAVAILABLE:case Te.UNAUTHENTICATED:return!1;case Te.INVALID_ARGUMENT:case Te.NOT_FOUND:case Te.ALREADY_EXISTS:case Te.PERMISSION_DENIED:case Te.FAILED_PRECONDITION:case Te.ABORTED:case Te.OUT_OF_RANGE:case Te.UNIMPLEMENTED:case Te.DATA_LOSS:return!0}}function x3(t){if(t===void 0)return ta("GRPC error has no .code"),Te.UNKNOWN;switch(t){case ir.OK:return Te.OK;case ir.CANCELLED:return Te.CANCELLED;case ir.UNKNOWN:return Te.UNKNOWN;case ir.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case ir.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case ir.INTERNAL:return Te.INTERNAL;case ir.UNAVAILABLE:return Te.UNAVAILABLE;case ir.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case ir.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case ir.NOT_FOUND:return Te.NOT_FOUND;case ir.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case ir.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case ir.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case ir.ABORTED:return Te.ABORTED;case ir.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case ir.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case ir.DATA_LOSS:return Te.DATA_LOSS;default:return vt()}}(Wt=ir||(ir={}))[Wt.OK=0]="OK",Wt[Wt.CANCELLED=1]="CANCELLED",Wt[Wt.UNKNOWN=2]="UNKNOWN",Wt[Wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wt[Wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wt[Wt.NOT_FOUND=5]="NOT_FOUND",Wt[Wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wt[Wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wt[Wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wt[Wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wt[Wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wt[Wt.ABORTED=10]="ABORTED",Wt[Wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wt[Wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wt[Wt.INTERNAL=13]="INTERNAL",Wt[Wt.UNAVAILABLE=14]="UNAVAILABLE",Wt[Wt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z8(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e7=new Kl([4294967295,4294967295],0);function k_(t){const e=Z8().encode(t),n=new YA;return n.update(e),new Uint8Array(n.digest())}function N_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Kl([n,r],0),new Kl([i,s],0)]}class ey{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Dh(`Invalid padding: ${n}`);if(r<0)throw new Dh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Dh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Dh(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Kl.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Kl.fromNumber(r)));return i.compare(e7)===1&&(i=new Kl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=k_(e),[r,i]=N_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new ey(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=k_(e),[r,i]=N_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Dh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Jf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new em(bt.min(),i,new Mn(Kt),na(),jt())}}class Jf{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Jf(r,n,jt(),jt(),jt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class I3{constructor(e,n){this.targetId=e,this.me=n}}class T3{constructor(e,n,r=Mr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class P_{constructor(){this.fe=0,this.ge=L_(),this.pe=Mr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=jt(),n=jt(),r=jt();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:vt()}}),new Jf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=L_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,an(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class t7{constructor(e){this.Le=e,this.Be=new Map,this.ke=na(),this.qe=C_(),this.Qe=new Mn(Kt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:vt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(o2(s))if(r===0){const o=new at(s.path);this.Ue(n,o,Jr.newNoDocument(o,bt.min()))}else an(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ou(r).toUint8Array()}catch(l){if(l instanceof i3)return Ic("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new ey(o,i,s)}catch(l){return Ic(l instanceof Dh?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&o2(a.target)){const l=new at(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Jr.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=jt();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new em(e,n,this.Qe,this.ke,r);return this.ke=na(),this.qe=C_(),this.Qe=new Mn(Kt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new P_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Or(Kt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ke("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new P_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function C_(){return new Mn(at.comparator)}function L_(){return new Mn(at.comparator)}const n7={asc:"ASCENDING",desc:"DESCENDING"},r7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},i7={and:"AND",or:"OR"};class s7{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function u2(t,e){return t.useProto3Json||Yg(e)?e:{value:e}}function gg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function k3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function o7(t,e){return gg(t,e.toTimestamp())}function go(t){return an(!!t),bt.fromTimestamp(function(n){const r=ll(n);return new gr(r.seconds,r.nanos)}(t))}function ty(t,e){return c2(t,e).canonicalString()}function c2(t,e){const n=function(i){return new bn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function N3(t){const e=bn.fromString(t);return an(O3(e)),e}function h2(t,e){return ty(t.databaseId,e.path)}function h0(t,e){const n=N3(e);if(n.get(1)!==t.databaseId.projectId)throw new qe(Te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new qe(Te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new at(C3(n))}function P3(t,e){return ty(t.databaseId,e)}function a7(t){const e=N3(t);return e.length===4?bn.emptyPath():C3(e)}function f2(t){return new bn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function C3(t){return an(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function R_(t,e,n){return{name:h2(t,e),fields:n.value.mapValue.fields}}function l7(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:vt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,f){return u.useProto3Json?(an(f===void 0||typeof f=="string"),Mr.fromBase64String(f||"")):(an(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Mr.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const f=u.code===void 0?Te.UNKNOWN:x3(u.code);return new qe(f,u.message||"")}(o);n=new T3(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=h0(t,r.document.name),s=go(r.document.updateTime),o=r.document.createTime?go(r.document.createTime):bt.min(),a=new _i({mapValue:{fields:r.document.fields}}),l=Jr.newFoundDocument(i,s,o,a),u=r.targetIds||[],f=r.removedTargetIds||[];n=new Ap(u,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=h0(t,r.document),s=r.readTime?go(r.readTime):bt.min(),o=Jr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ap([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=h0(t,r.document),s=r.removedTargetIds||[];n=new Ap([],s,i,null)}else{if(!("filter"in e))return vt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new X8(i,s),a=r.targetId;n=new I3(a,o)}}return n}function u7(t,e){let n;if(e instanceof Xf)n={update:R_(t,e.key,e.value)};else if(e instanceof Jv)n={delete:h2(t,e.key)};else if(e instanceof vl)n={update:R_(t,e.key,e.data),updateMask:y7(e.fieldMask)};else{if(!(e instanceof K8))return vt();n={verify:h2(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof dg)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof kf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Nf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof pg)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw vt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:o7(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:vt()}(t,e.precondition)),n}function c7(t,e){return t&&t.length>0?(an(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?go(i.updateTime):go(s);return o.isEqual(bt.min())&&(o=go(s)),new H8(o,i.transformResults||[])}(n,e))):[]}function h7(t,e){return{documents:[P3(t,e.path)]}}function f7(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=P3(t,i);const s=function(u){if(u.length!==0)return R3(Fs.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(f=>function(v){return{field:Vu(v.field),direction:g7(v.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=u2(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function d7(t){let e=a7(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){an(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(g){const v=L3(g);return v instanceof Fs&&l3(v)?v.getFilters():[v]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(v=>function(S){return new fg(Bu(S.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(v))}(n.orderBy));let a=null;n.limit&&(a=function(g){let v;return v=typeof g=="object"?g.value:g,Yg(v)?null:v}(n.limit));let l=null;n.startAt&&(l=function(g){const v=!!g.before,p=g.values||[];return new hg(p,v)}(n.startAt));let u=null;return n.endAt&&(u=function(g){const v=!g.before,p=g.values||[];return new hg(p,v)}(n.endAt)),L8(e,i,o,s,a,"F",l,u)}function p7(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function L3(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Bu(n.unaryFilter.field);return or.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Bu(n.unaryFilter.field);return or.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Bu(n.unaryFilter.field);return or.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Bu(n.unaryFilter.field);return or.create(o,"!=",{nullValue:"NULL_VALUE"});default:return vt()}}(t):t.fieldFilter!==void 0?function(n){return or.create(Bu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Fs.create(n.compositeFilter.filters.map(r=>L3(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return vt()}}(n.compositeFilter.op))}(t):vt()}function g7(t){return n7[t]}function m7(t){return r7[t]}function v7(t){return i7[t]}function Vu(t){return{fieldPath:t.canonicalString()}}function Bu(t){return Lr.fromServerFormat(t.fieldPath)}function R3(t){return t instanceof or?function(n){if(n.op==="=="){if(w_(n.value))return{unaryFilter:{field:Vu(n.field),op:"IS_NAN"}};if(y_(n.value))return{unaryFilter:{field:Vu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(w_(n.value))return{unaryFilter:{field:Vu(n.field),op:"IS_NOT_NAN"}};if(y_(n.value))return{unaryFilter:{field:Vu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vu(n.field),op:m7(n.op),value:n.value}}}(t):t instanceof Fs?function(n){const r=n.getFilters().map(i=>R3(i));return r.length===1?r[0]:{compositeFilter:{op:v7(n.op),filters:r}}}(t):vt()}function y7(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function O3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,n,r,i,s=bt.min(),o=bt.min(),a=Mr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ha(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ha(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(e){this.ct=e}}function _7(t){const e=d7({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?l2(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(){this.un=new E7}addToCollectionParentIndex(e,n){return this.un.add(n),Ce.resolve()}getCollectionParents(e,n){return Ce.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Ce.resolve()}deleteFieldIndex(e,n){return Ce.resolve()}deleteAllFieldIndexes(e){return Ce.resolve()}createTargetIndexes(e,n){return Ce.resolve()}getDocumentsMatchingTarget(e,n){return Ce.resolve(null)}getIndexType(e,n){return Ce.resolve(0)}getFieldIndexes(e,n){return Ce.resolve([])}getNextCollectionGroupToUpdate(e){return Ce.resolve(null)}getMinOffset(e,n){return Ce.resolve(al.min())}getMinOffsetFromCollectionGroup(e,n){return Ce.resolve(al.min())}updateCollectionGroup(e,n,r){return Ce.resolve()}updateIndexEntries(e,n){return Ce.resolve()}}class E7{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Or(bn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Or(bn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Pc(0)}static kn(){return new Pc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(){this.changes=new jc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ce.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Qh(r.mutation,i,zi.empty(),gr.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,jt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=jt()){const i=Wl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Oh();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Wl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,jt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=na();const o=Yh(),a=function(){return Yh()}();return n.forEach((l,u)=>{const f=r.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof vl)?s=s.insert(u.key,u):f!==void 0?(o.set(u.key,f.mutation.getFieldMask()),Qh(f.mutation,u,f.mutation.getFieldMask(),gr.now())):o.set(u.key,zi.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,f)=>o.set(u,f)),n.forEach((u,f)=>{var g;return a.set(u,new A7(f,(g=o.get(u))!==null&&g!==void 0?g:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Yh();let i=new Mn((o,a)=>o-a),s=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let f=r.get(l)||zi.empty();f=a.applyToLocalView(u,f),r.set(l,f);const g=(i.get(a.batchId)||jt()).add(l);i=i.insert(a.batchId,g)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,f=l.value,g=v3();f.forEach(v=>{if(!s.has(v)){const p=S3(n.get(v),r.get(v));p!==null&&g.set(v,p),s=s.add(v)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,g))}return Ce.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return at.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):f3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Ce.resolve(Wl());let a=-1,l=s;return o.next(u=>Ce.forEach(u,(f,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),s.get(f)?Ce.resolve():this.remoteDocumentCache.getEntry(e,f).next(v=>{l=l.insert(f,v)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,jt())).next(f=>({batchId:a,changes:m3(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new at(n)).next(r=>{let i=Oh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Oh();return this.indexManager.getCollectionParents(e,s).next(a=>Ce.forEach(a,l=>{const u=function(g,v){return new Qf(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(f=>{f.forEach((g,v)=>{o=o.insert(g,v)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const f=u.getKey();o.get(f)===null&&(o=o.insert(f,Jr.newInvalidDocument(f)))});let a=Oh();return o.forEach((l,u)=>{const f=s.get(l);f!==void 0&&Qh(f.mutation,u,zi.empty(),gr.now()),Xg(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Ce.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:go(i.createTime)}}(n)),Ce.resolve()}getNamedQuery(e,n){return Ce.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:_7(i.bundledQuery),readTime:go(i.readTime)}}(n)),Ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(){this.overlays=new Mn(at.comparator),this.Ir=new Map}getOverlay(e,n){return Ce.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wl();return Ce.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),Ce.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),Ce.resolve()}getOverlaysForCollection(e,n,r){const i=Wl(),s=n.length+1,o=new at(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Ce.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Mn((u,f)=>u-f);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=s.get(u.largestBatchId);f===null&&(f=Wl(),s=s.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const a=Wl(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,f)=>a.set(u,f)),!(a.size()>=i)););return Ce.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Q8(n,r));let s=this.Ir.get(n);s===void 0&&(s=jt(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7{constructor(){this.sessionToken=Mr.EMPTY_BYTE_STRING}getSessionToken(e){return Ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(){this.Tr=new Or(br.Er),this.dr=new Or(br.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new br(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new br(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new at(new bn([])),r=new br(n,e),i=new br(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new at(new bn([])),r=new br(n,e),i=new br(n,e+1);let s=jt();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new br(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class br{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return at.comparator(e.key,n.key)||Kt(e.wr,n.wr)}static Ar(e,n){return Kt(e.wr,n.wr)||at.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Or(br.Er)}checkEmpty(e){return Ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Y8(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new br(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ce.resolve(o)}lookupMutationBatch(e,n){return Ce.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return Ce.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new br(n,0),i=new br(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),Ce.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Or(Kt);return n.forEach(i=>{const s=new br(i,0),o=new br(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),Ce.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;at.isDocumentKey(s)||(s=s.child(""));const o=new br(new at(s),0);let a=new Or(Kt);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),Ce.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){an(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Ce.forEach(n.mutations,i=>{const s=new br(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new br(n,0),i=this.br.firstAfterOrEqual(r);return Ce.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ce.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{constructor(e){this.Mr=e,this.docs=function(){return new Mn(at.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ce.resolve(r?r.document.mutableCopy():Jr.newInvalidDocument(n))}getEntries(e,n){let r=na();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Jr.newInvalidDocument(i))}),Ce.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=na();const o=n.path,a=new at(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:f}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||d8(f8(f),r)<=0||(i.has(f.key)||Xg(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return Ce.resolve(s)}getAllFromCollectionGroup(e,n,r,i){vt()}Or(e,n){return Ce.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new C7(this)}getSize(e){return Ce.resolve(this.size)}}class C7 extends S7{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Ce.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7{constructor(e){this.persistence=e,this.Nr=new jc(n=>Kv(n),Yv),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ny,this.targetCount=0,this.kr=Pc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Ce.resolve()}getLastRemoteSnapshotVersion(e){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ce.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Ce.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Pc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Ce.resolve()}updateTargetData(e,n){return this.Kn(n),Ce.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Ce.waitFor(s).next(()=>i)}getTargetCount(e){return Ce.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Ce.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Ce.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Ce.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Ce.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Ce.resolve(r)}containsKey(e,n){return Ce.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Wv(0),this.Kr=!1,this.Kr=!0,this.$r=new k7,this.referenceDelegate=e(this),this.Ur=new L7(this),this.indexManager=new b7,this.remoteDocumentCache=function(i){return new P7(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new w7(n),this.Gr=new I7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new T7,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new N7(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Ke("MemoryPersistence","Starting transaction:",e);const i=new O7(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return Ce.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class O7 extends g8{constructor(e){super(),this.currentSequenceNumber=e}}class ry{constructor(e){this.persistence=e,this.Jr=new ny,this.Yr=null}static Zr(e){return new ry(e)}get Xr(){if(this.Yr)return this.Yr;throw vt()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Ce.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Ce.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Ce.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.Xr,r=>{const i=at.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,bt.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Ce.or([()=>Ce.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=jt(),i=jt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new iy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return SP()?8:m8(ei())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new D7;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(yh()<=Bt.DEBUG&&Ke("QueryEngine","SDK will not create cache indexes for query:",Uu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Ce.resolve()):(yh()<=Bt.DEBUG&&Ke("QueryEngine","Query:",Uu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(yh()<=Bt.DEBUG&&Ke("QueryEngine","The SDK decides to create cache indexes for query:",Uu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,po(n))):Ce.resolve())}Yi(e,n){if(S_(n))return Ce.resolve(null);let r=po(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=l2(n,null,"F"),r=po(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=jt(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,l2(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return S_(n)||i.isEqual(bt.min())?Ce.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?Ce.resolve(null):(yh()<=Bt.DEBUG&&Ke("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Uu(n)),this.rs(e,o,n,h8(i,-1)).next(a=>a))})}ts(e,n){let r=new Or(p3(e));return n.forEach((i,s)=>{Xg(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return yh()<=Bt.DEBUG&&Ke("QueryEngine","Using full collection scan to execute query:",Uu(n)),this.Ji.getDocumentsMatchingQuery(e,n,al.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F7{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Mn(Kt),this._s=new jc(s=>Kv(s),Yv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new x7(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function j7(t,e,n,r){return new F7(t,e,n,r)}async function D3(t,e){const n=Et(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=jt();for(const u of i){o.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}for(const u of s){a.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function U7(t,e){const n=Et(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,f){const g=u.batch,v=g.keys();let p=Ce.resolve();return v.forEach(S=>{p=p.next(()=>f.getEntry(l,S)).next(I=>{const P=u.docVersions.get(S);an(P!==null),I.version.compareTo(P)<0&&(g.applyToRemoteDocument(I,u),I.isValidDocument()&&(I.setReadTime(u.commitVersion),f.addEntry(I)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=jt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function M3(t){const e=Et(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function V7(t,e){const n=Et(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((f,g)=>{const v=i.get(g);if(!v)return;a.push(n.Ur.removeMatchingKeys(s,f.removedDocuments,g).next(()=>n.Ur.addMatchingKeys(s,f.addedDocuments,g)));let p=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?p=p.withResumeToken(Mr.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):f.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(f.resumeToken,r)),i=i.insert(g,p),function(I,P,_){return I.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(v,p,f)&&a.push(n.Ur.updateTargetData(s,p))});let l=na(),u=jt();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(B7(s,o,e.documentUpdates).next(f=>{l=f.Ps,u=f.Is})),!r.isEqual(bt.min())){const f=n.Ur.getLastRemoteSnapshotVersion(s).next(g=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return Ce.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function B7(t,e,n){let r=jt(),i=jt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=na();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(bt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Ke("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function z7(t,e){const n=Et(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function q7(t,e){const n=Et(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,Ce.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Ha(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function d2(t,e,n){const r=Et(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Yf(o))throw o;Ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function O_(t,e,n){const r=Et(t);let i=bt.min(),s=jt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,f){const g=Et(l),v=g._s.get(f);return v!==void 0?Ce.resolve(g.os.get(v)):g.Ur.getTargetData(u,f)}(r,o,po(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:bt.min(),n?s:jt())).next(a=>(W7(r,O8(e),a),{documents:a,Ts:s})))}function W7(t,e,n){let r=t.us.get(e)||bt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class D_{constructor(){this.activeTargetIds=V8()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class H7{constructor(){this.so=new D_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new D_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zd=null;function f0(){return zd===null?zd=function(){return 268435456+Math.round(2147483648*Math.random())}():zd++,"0x"+zd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr="WebChannelConnection";class Y7 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=f0(),l=this.xo(n,r.toUriEncodedString());Ke("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(f=>(Ke("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw Ic("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",l,"request:",i),f})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=G7[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=f0();return new Promise((o,a)=>{const l=new QA;l.setWithCredentials(!0),l.listenOnce(XA.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case bp.NO_ERROR:const f=l.getResponseJson();Ke(Wr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case bp.TIMEOUT:Ke(Wr,`RPC '${e}' ${s} timed out`),a(new qe(Te.DEADLINE_EXCEEDED,"Request time out"));break;case bp.HTTP_ERROR:const g=l.getStatus();if(Ke(Wr,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let v=l.getResponseJson();Array.isArray(v)&&(v=v[0]);const p=v==null?void 0:v.error;if(p&&p.status&&p.message){const S=function(P){const _=P.toLowerCase().replace(/_/g,"-");return Object.values(Te).indexOf(_)>=0?_:Te.UNKNOWN}(p.status);a(new qe(S,p.message))}else a(new qe(Te.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new qe(Te.UNAVAILABLE,"Connection failed."));break;default:vt()}}finally{Ke(Wr,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);Ke(Wr,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=f0(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=e3(),a=ZA(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=s.join("");Ke(Wr,`Creating RPC '${e}' stream ${i}: ${f}`,l);const g=o.createWebChannel(f,l);let v=!1,p=!1;const S=new K7({Io:P=>{p?Ke(Wr,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(v||(Ke(Wr,`Opening RPC '${e}' stream ${i} transport.`),g.open(),v=!0),Ke(Wr,`RPC '${e}' stream ${i} sending:`,P),g.send(P))},To:()=>g.close()}),I=(P,_,k)=>{P.listen(_,C=>{try{k(C)}catch(j){setTimeout(()=>{throw j},0)}})};return I(g,Rh.EventType.OPEN,()=>{p||(Ke(Wr,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),I(g,Rh.EventType.CLOSE,()=>{p||(p=!0,Ke(Wr,`RPC '${e}' stream ${i} transport closed`),S.So())}),I(g,Rh.EventType.ERROR,P=>{p||(p=!0,Ic(Wr,`RPC '${e}' stream ${i} transport errored:`,P),S.So(new qe(Te.UNAVAILABLE,"The operation could not be completed")))}),I(g,Rh.EventType.MESSAGE,P=>{var _;if(!p){const k=P.data[0];an(!!k);const C=k,j=C.error||((_=C[0])===null||_===void 0?void 0:_.error);if(j){Ke(Wr,`RPC '${e}' stream ${i} received error:`,j);const Q=j.status;let re=function(x){const D=ir[x];if(D!==void 0)return x3(D)}(Q),U=j.message;re===void 0&&(re=Te.INTERNAL,U="Unknown error status: "+Q+" with message "+j.message),p=!0,S.So(new qe(re,U)),g.close()}else Ke(Wr,`RPC '${e}' stream ${i} received:`,k),S.bo(k)}}),I(a,JA.STAT_EVENT,P=>{P.stat===n2.PROXY?Ke(Wr,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===n2.NOPROXY&&Ke(Wr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}}function d0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(t){return new s7(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Ke("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new F3(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Te.RESOURCE_EXHAUSTED?(ta(n.toString()),ta("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new qe(Te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Q7 extends j3{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=l7(this.serializer,e),r=function(s){if(!("targetChange"in s))return bt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?bt.min():o.readTime?go(o.readTime):bt.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=f2(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=o2(l)?{documents:h7(s,l)}:{query:f7(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=k3(s,o.resumeToken);const u=u2(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(bt.min())>0){a.readTime=gg(s,o.snapshotVersion.toTimestamp());const u=u2(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=p7(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=f2(this.serializer),n.removeTarget=e,this.a_(n)}}class X7 extends j3{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return an(!!e.streamToken),this.lastStreamToken=e.streamToken,an(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){an(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=c7(e.writeResults,e.commitTime),r=go(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=f2(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>u7(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new qe(Te.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,c2(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new qe(Te.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,c2(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new qe(Te.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Z7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ta(n),this.D_=!1):Ke("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{vu(this)&&(Ke("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Et(l);u.L_.add(4),await Zf(u),u.q_.set("Unknown"),u.L_.delete(4),await nm(u)}(this))})}),this.q_=new Z7(r,i)}}async function nm(t){if(vu(t))for(const e of t.B_)await e(!0)}async function Zf(t){for(const e of t.B_)await e(!1)}function U3(t,e){const n=Et(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),ly(n)?ay(n):Uc(n).r_()&&oy(n,e))}function sy(t,e){const n=Et(t),r=Uc(n);n.N_.delete(e),r.r_()&&V3(n,e),n.N_.size===0&&(r.r_()?r.o_():vu(n)&&n.q_.set("Unknown"))}function oy(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(bt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Uc(t).A_(e)}function V3(t,e){t.Q_.xe(e),Uc(t).R_(e)}function ay(t){t.Q_=new t7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Uc(t).start(),t.q_.v_()}function ly(t){return vu(t)&&!Uc(t).n_()&&t.N_.size>0}function vu(t){return Et(t).L_.size===0}function B3(t){t.Q_=void 0}async function tO(t){t.q_.set("Online")}async function nO(t){t.N_.forEach((e,n)=>{oy(t,e)})}async function rO(t,e){B3(t),ly(t)?(t.q_.M_(e),ay(t)):t.q_.set("Unknown")}async function iO(t,e,n){if(t.q_.set("Online"),e instanceof T3&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await mg(t,r)}else if(e instanceof Ap?t.Q_.Ke(e):e instanceof I3?t.Q_.He(e):t.Q_.We(e),!n.isEqual(bt.min()))try{const r=await M3(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const f=s.N_.get(u);f&&s.N_.set(u,f.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const f=s.N_.get(l);if(!f)return;s.N_.set(l,f.withResumeToken(Mr.EMPTY_BYTE_STRING,f.snapshotVersion)),V3(s,l);const g=new Ha(f.target,l,u,f.sequenceNumber);oy(s,g)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ke("RemoteStore","Failed to raise snapshot:",r),await mg(t,r)}}async function mg(t,e,n){if(!Yf(e))throw e;t.L_.add(1),await Zf(t),t.q_.set("Offline"),n||(n=()=>M3(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ke("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await nm(t)})}function z3(t,e){return e().catch(n=>mg(t,n,e))}async function rm(t){const e=Et(t),n=ul(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;sO(e);)try{const i=await z7(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,oO(e,i)}catch(i){await mg(e,i)}q3(e)&&W3(e)}function sO(t){return vu(t)&&t.O_.length<10}function oO(t,e){t.O_.push(e);const n=ul(t);n.r_()&&n.V_&&n.m_(e.mutations)}function q3(t){return vu(t)&&!ul(t).n_()&&t.O_.length>0}function W3(t){ul(t).start()}async function aO(t){ul(t).p_()}async function lO(t){const e=ul(t);for(const n of t.O_)e.m_(n.mutations)}async function uO(t,e,n){const r=t.O_.shift(),i=Zv.from(r,e,n);await z3(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await rm(t)}async function cO(t,e){e&&ul(t).V_&&await async function(r,i){if(function(o){return J8(o)&&o!==Te.ABORTED}(i.code)){const s=r.O_.shift();ul(r).s_(),await z3(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await rm(r)}}(t,e),q3(t)&&W3(t)}async function F_(t,e){const n=Et(t);n.asyncQueue.verifyOperationInProgress(),Ke("RemoteStore","RemoteStore received new credentials");const r=vu(n);n.L_.add(3),await Zf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await nm(n)}async function hO(t,e){const n=Et(t);e?(n.L_.delete(2),await nm(n)):e||(n.L_.add(2),await Zf(n),n.q_.set("Unknown"))}function Uc(t){return t.K_||(t.K_=function(n,r,i){const s=Et(n);return s.w_(),new Q7(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:tO.bind(null,t),Ro:nO.bind(null,t),mo:rO.bind(null,t),d_:iO.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),ly(t)?ay(t):t.q_.set("Unknown")):(await t.K_.stop(),B3(t))})),t.K_}function ul(t){return t.U_||(t.U_=function(n,r,i){const s=Et(n);return s.w_(),new X7(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:aO.bind(null,t),mo:cO.bind(null,t),f_:lO.bind(null,t),g_:uO.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await rm(t)):(await t.U_.stop(),t.O_.length>0&&(Ke("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ko,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new uy(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new qe(Te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cy(t,e){if(ta("AsyncQueue",`${e}: ${t}`),Yf(t))return new qe(Te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||at.comparator(n.key,r.key):(n,r)=>at.comparator(n.key,r.key),this.keyedMap=Oh(),this.sortedSet=new Mn(this.comparator)}static emptySet(e){return new dc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof dc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new dc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(){this.W_=new Mn(at.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):vt():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Cc{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Cc(e,n,dc.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class dO{constructor(){this.queries=U_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Et(n),s=i.queries;i.queries=U_(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new qe(Te.ABORTED,"Firestore shutting down"))}}function U_(){return new jc(t=>d3(t),Qg)}async function H3(t,e){const n=Et(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new fO,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=cy(o,`Initialization of query '${Uu(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&hy(n)}async function $3(t,e){const n=Et(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function pO(t,e){const n=Et(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&hy(n)}function gO(t,e,n){const r=Et(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function hy(t){t.Y_.forEach(e=>{e.next()})}var p2,V_;(V_=p2||(p2={})).ea="default",V_.Cache="cache";class G3{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Cc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Cc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==p2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e){this.key=e}}class Y3{constructor(e){this.key=e}}class mO{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=jt(),this.mutatedKeys=jt(),this.Aa=p3(e),this.Ra=new dc(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new j_,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,g)=>{const v=i.get(f),p=Xg(this.query,g)?g:null,S=!!v&&this.mutatedKeys.has(v.key),I=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let P=!1;v&&p?v.data.isEqual(p.data)?S!==I&&(r.track({type:3,doc:p}),P=!0):this.ga(v,p)||(r.track({type:2,doc:p}),P=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(a=!0)):!v&&p?(r.track({type:0,doc:p}),P=!0):v&&!p&&(r.track({type:1,doc:v}),P=!0,(l||u)&&(a=!0)),P&&(p?(o=o.add(p),s=I?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((f,g)=>function(p,S){const I=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt()}};return I(p)-I(S)}(f.type,g.type)||this.Aa(f.doc,g.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new Cc(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new j_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=jt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Y3(r))}),this.da.forEach(r=>{e.has(r)||n.push(new K3(r))}),n}ba(e){this.Ta=e.Ts,this.da=jt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Cc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class vO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class yO{constructor(e){this.key=e,this.va=!1}}class wO{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new jc(a=>d3(a),Qg),this.Ma=new Map,this.xa=new Set,this.Oa=new Mn(at.comparator),this.Na=new Map,this.La=new ny,this.Ba={},this.ka=new Map,this.qa=Pc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function _O(t,e,n=!0){const r=tx(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await Q3(r,e,n,!0),i}async function bO(t,e){const n=tx(t);await Q3(n,e,!0,!1)}async function Q3(t,e,n,r){const i=await q7(t.localStore,po(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await EO(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&U3(t.remoteStore,i),a}async function EO(t,e,n,r,i){t.Ka=(g,v,p)=>async function(I,P,_,k){let C=P.view.ma(_);C.ns&&(C=await O_(I.localStore,P.query,!1).then(({documents:U})=>P.view.ma(U,C)));const j=k&&k.targetChanges.get(P.targetId),Q=k&&k.targetMismatches.get(P.targetId)!=null,re=P.view.applyChanges(C,I.isPrimaryClient,j,Q);return z_(I,P.targetId,re.wa),re.snapshot}(t,g,v,p);const s=await O_(t.localStore,e,!0),o=new mO(e,s.Ts),a=o.ma(s.documents),l=Jf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);z_(t,n,u.wa);const f=new vO(e,n,o);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function SO(t,e,n){const r=Et(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Qg(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await d2(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&sy(r.remoteStore,i.targetId),g2(r,i.targetId)}).catch(Kf)):(g2(r,i.targetId),await d2(r.localStore,i.targetId,!0))}async function AO(t,e){const n=Et(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),sy(n.remoteStore,r.targetId))}async function xO(t,e,n){const r=LO(t);try{const i=await function(o,a){const l=Et(o),u=gr.now(),f=a.reduce((p,S)=>p.add(S.key),jt());let g,v;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let S=na(),I=jt();return l.cs.getEntries(p,f).next(P=>{S=P,S.forEach((_,k)=>{k.isValidDocument()||(I=I.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,S)).next(P=>{g=P;const _=[];for(const k of a){const C=G8(k,g.get(k.key).overlayedDocument);C!=null&&_.push(new vl(k.key,C,s3(C.value.mapValue),gs.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,_,a)}).next(P=>{v=P;const _=P.applyToLocalDocumentSet(g,I);return l.documentOverlayCache.saveOverlays(p,P.batchId,_)})}).then(()=>({batchId:v.batchId,changes:m3(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new Mn(Kt)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await ed(r,i.changes),await rm(r.remoteStore)}catch(i){const s=cy(i,"Failed to persist write");n.reject(s)}}async function X3(t,e){const n=Et(t);try{const r=await V7(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(an(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?an(o.va):i.removedDocuments.size>0&&(an(o.va),o.va=!1))}),await ed(n,r,e)}catch(r){await Kf(r)}}function B_(t,e,n){const r=Et(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Et(o);l.onlineState=a;let u=!1;l.queries.forEach((f,g)=>{for(const v of g.j_)v.Z_(a)&&(u=!0)}),u&&hy(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function IO(t,e,n){const r=Et(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Mn(at.comparator);o=o.insert(s,Jr.newNoDocument(s,bt.min()));const a=jt().add(s),l=new em(bt.min(),new Map,new Mn(Kt),o,a);await X3(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),fy(r)}else await d2(r.localStore,e,!1).then(()=>g2(r,e,n)).catch(Kf)}async function TO(t,e){const n=Et(t),r=e.batch.batchId;try{const i=await U7(n.localStore,e);Z3(n,r,null),J3(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ed(n,i)}catch(i){await Kf(i)}}async function kO(t,e,n){const r=Et(t);try{const i=await function(o,a){const l=Et(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return l.mutationQueue.lookupMutationBatch(u,a).next(g=>(an(g!==null),f=g.keys(),l.mutationQueue.removeMutationBatch(u,g))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,f,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>l.localDocuments.getDocuments(u,f))})}(r.localStore,e);Z3(r,e,n),J3(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ed(r,i)}catch(i){await Kf(i)}}function J3(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Z3(t,e,n){const r=Et(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function g2(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||ex(t,r)})}function ex(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(sy(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),fy(t))}function z_(t,e,n){for(const r of n)r instanceof K3?(t.La.addReference(r.key,e),NO(t,r)):r instanceof Y3?(Ke("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||ex(t,r.key)):vt()}function NO(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Ke("SyncEngine","New document in limbo: "+n),t.xa.add(r),fy(t))}function fy(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new at(bn.fromString(e)),r=t.qa.next();t.Na.set(r,new yO(n)),t.Oa=t.Oa.insert(n,r),U3(t.remoteStore,new Ha(po(Qv(n.path)),r,"TargetPurposeLimboResolution",Wv.oe))}}async function ed(t,e,n){const r=Et(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var f;if((u||n)&&r.isPrimaryClient){const g=u?!u.fromCache:(f=n==null?void 0:n.targetChanges.get(l.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(l.targetId,g?"current":"not-current")}if(u){i.push(u);const g=iy.Wi(l.targetId,u);s.push(g)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const f=Et(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>Ce.forEach(u,v=>Ce.forEach(v.$i,p=>f.persistence.referenceDelegate.addReference(g,v.targetId,p)).next(()=>Ce.forEach(v.Ui,p=>f.persistence.referenceDelegate.removeReference(g,v.targetId,p)))))}catch(g){if(!Yf(g))throw g;Ke("LocalStore","Failed to update sequence numbers: "+g)}for(const g of u){const v=g.targetId;if(!g.fromCache){const p=f.os.get(v),S=p.snapshotVersion,I=p.withLastLimboFreeSnapshotVersion(S);f.os=f.os.insert(v,I)}}}(r.localStore,s))}async function PO(t,e){const n=Et(t);if(!n.currentUser.isEqual(e)){Ke("SyncEngine","User change. New user:",e.toKey());const r=await D3(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new qe(Te.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ed(n,r.hs)}}function CO(t,e){const n=Et(t),r=n.Na.get(e);if(r&&r.va)return jt().add(r.key);{let i=jt();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function tx(t){const e=Et(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=X3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IO.bind(null,e),e.Ca.d_=pO.bind(null,e.eventManager),e.Ca.$a=gO.bind(null,e.eventManager),e}function LO(t){const e=Et(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kO.bind(null,e),e}class vg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tm(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return j7(this.persistence,new M7,e.initialUser,this.serializer)}Ga(e){return new R7(ry.Zr,this.serializer)}Wa(e){return new H7}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vg.provider={build:()=>new vg};class m2{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>B_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=PO.bind(null,this.syncEngine),await hO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new dO}()}createDatastore(e){const n=tm(e.databaseInfo.databaseId),r=function(s){return new Y7(s)}(e.databaseInfo);return function(s,o,a,l){return new J7(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new eO(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>B_(this.syncEngine,n,0),function(){return M_.D()?new M_:new $7}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,f){const g=new wO(i,s,o,a,l,u);return f&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Et(i);Ke("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Zf(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}m2.provider={build:()=>new m2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ta("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Yr.UNAUTHENTICATED,this.clientId=n3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Ke("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ke("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ko;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=cy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function p0(t,e){t.asyncQueue.verifyOperationInProgress(),Ke("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await D3(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function q_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await OO(t);Ke("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>F_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>F_(e.remoteStore,i)),t._onlineComponents=e}async function OO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ke("FirestoreClient","Using user provided OfflineComponentProvider");try{await p0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Te.FAILED_PRECONDITION||i.code===Te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ic("Error using user provided cache. Falling back to memory cache: "+n),await p0(t,new vg)}}else Ke("FirestoreClient","Using default OfflineComponentProvider"),await p0(t,new vg);return t._offlineComponents}async function rx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ke("FirestoreClient","Using user provided OnlineComponentProvider"),await q_(t,t._uninitializedComponentsProvider._online)):(Ke("FirestoreClient","Using default OnlineComponentProvider"),await q_(t,new m2))),t._onlineComponents}function DO(t){return rx(t).then(e=>e.syncEngine)}async function ix(t){const e=await rx(t),n=e.eventManager;return n.onListen=_O.bind(null,e.syncEngine),n.onUnlisten=SO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=bO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=AO.bind(null,e.syncEngine),n}function MO(t,e,n={}){const r=new Ko;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const f=new nx({next:v=>{f.Za(),o.enqueueAndForget(()=>$3(s,g));const p=v.docs.has(a);!p&&v.fromCache?u.reject(new qe(Te.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&v.fromCache&&l&&l.source==="server"?u.reject(new qe(Te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(v)},error:v=>u.reject(v)}),g=new G3(Qv(a.path),f,{includeMetadataChanges:!0,_a:!0});return H3(s,g)}(await ix(t),t.asyncQueue,e,n,r)),r.promise}function FO(t,e,n={}){const r=new Ko;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const f=new nx({next:v=>{f.Za(),o.enqueueAndForget(()=>$3(s,g)),v.fromCache&&l.source==="server"?u.reject(new qe(Te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(v)},error:v=>u.reject(v)}),g=new G3(a,f,{includeMetadataChanges:!0,_a:!0});return H3(s,g)}(await ix(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(t,e,n){if(!n)throw new qe(Te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function jO(t,e,n,r){if(e===!0&&r===!0)throw new qe(Te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function H_(t){if(!at.isDocumentKey(t))throw new qe(Te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $_(t){if(at.isDocumentKey(t))throw new qe(Te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function im(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":vt()}function js(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new qe(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=im(t);throw new qe(Te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new qe(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new qe(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new qe(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new qe(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new qe(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new qe(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new qe(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new n8;switch(r.type){case"firstParty":return new o8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new qe(Te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=W_.get(n);r&&(Ke("ComponentProvider","Removing Datastore"),W_.delete(n),r.terminate())}(this),Promise.resolve()}}function UO(t,e,n,r={}){var i;const s=(t=js(t,sm))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ic("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Yr.MOCK_USER;else{a=cA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new qe(Te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Yr(u)}t._authCredentials=new r8(new t3(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vc(this.firestore,e,this._query)}}class hi{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hi(this.firestore,e,this._key)}}class rl extends Vc{constructor(e,n,r){super(e,n,Qv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hi(this.firestore,null,new at(e))}withConverter(e){return new rl(this.firestore,e,this._path)}}function Ro(t,e,...n){if(t=qn(t),ox("collection","path",e),t instanceof sm){const r=bn.fromString(e,...n);return $_(r),new rl(t,null,r)}{if(!(t instanceof hi||t instanceof rl))throw new qe(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(bn.fromString(e,...n));return $_(r),new rl(t.firestore,null,r)}}function zu(t,e,...n){if(t=qn(t),arguments.length===1&&(e=n3.newId()),ox("doc","path",e),t instanceof sm){const r=bn.fromString(e,...n);return H_(r),new hi(t,null,new at(r))}{if(!(t instanceof hi||t instanceof rl))throw new qe(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(bn.fromString(e,...n));return H_(r),new hi(t.firestore,t instanceof rl?t.converter:null,new at(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new F3(this,"async_queue_retry"),this.Vu=()=>{const r=d0();r&&Ke("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=d0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=d0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ko;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Yf(e))throw e;Ke("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ta("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=uy.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&vt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class yu extends sm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new K_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new K_(e),this._firestoreClient=void 0,await e}}}function VO(t,e){const n=typeof t=="object"?t:Cv(),r=typeof t=="string"?t:"(default)",i=Hg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=aA("firestore");s&&UO(i,...s)}return i}function dy(t){if(t._terminated)throw new qe(Te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||BO(t),t._firestoreClient}function BO(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,f){return new w8(a,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,sx(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new RO(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lc(Mr.fromBase64String(e))}catch(n){throw new qe(Te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Lc(Mr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new qe(Te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new qe(Te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new qe(Te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kt(this._lat,e._lat)||Kt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=/^__.*__$/;class qO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new vl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xf(e,this.data,n,this.fieldTransforms)}}class ax{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new vl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function lx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt()}}class vy{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new vy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return yg(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(lx(this.Cu)&&zO.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class WO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||tm(e)}Qu(e,n,r,i=!1){return new vy({Cu:e,methodName:n,qu:r,path:Lr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function am(t){const e=t._freezeSettings(),n=tm(t._databaseId);return new WO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ux(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);yy("Data must be an object, but it was:",o,r);const a=cx(r,o);let l,u;if(s.merge)l=new zi(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const g of s.mergeFields){const v=v2(e,g,n);if(!o.contains(v))throw new qe(Te.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);fx(f,v)||f.push(v)}l=new zi(f),u=o.fieldTransforms.filter(g=>l.covers(g.field))}else l=null,u=o.fieldTransforms;return new qO(new _i(a),l,u)}class lm extends py{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lm}}function HO(t,e,n,r){const i=t.Qu(1,e,n);yy("Data must be an object, but it was:",i,r);const s=[],o=_i.empty();mu(r,(l,u)=>{const f=wy(e,l,n);u=qn(u);const g=i.Nu(f);if(u instanceof lm)s.push(f);else{const v=td(u,g);v!=null&&(s.push(f),o.set(f,v))}});const a=new zi(s);return new ax(o,a,i.fieldTransforms)}function $O(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[v2(e,r,n)],l=[i];if(s.length%2!=0)throw new qe(Te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)a.push(v2(e,s[v])),l.push(s[v+1]);const u=[],f=_i.empty();for(let v=a.length-1;v>=0;--v)if(!fx(u,a[v])){const p=a[v];let S=l[v];S=qn(S);const I=o.Nu(p);if(S instanceof lm)u.push(p);else{const P=td(S,I);P!=null&&(u.push(p),f.set(p,P))}}const g=new zi(u);return new ax(f,g,o.fieldTransforms)}function GO(t,e,n,r=!1){return td(n,t.Qu(r?4:3,e))}function td(t,e){if(hx(t=qn(t)))return yy("Unsupported field value:",e,t),cx(t,e);if(t instanceof py)return function(r,i){if(!lx(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=td(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=qn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return B8(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=gr.fromDate(r);return{timestampValue:gg(i.serializer,s)}}if(r instanceof gr){const s=new gr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gg(i.serializer,s)}}if(r instanceof gy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Lc)return{bytesValue:k3(i.serializer,r._byteString)};if(r instanceof hi){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ty(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof my)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Xv(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${im(r)}`)}(t,e)}function cx(t,e){const n={};return r3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mu(t,(r,i)=>{const s=td(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function hx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gr||t instanceof gy||t instanceof Lc||t instanceof hi||t instanceof py||t instanceof my)}function yy(t,e,n){if(!hx(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=im(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function v2(t,e,n){if((e=qn(e))instanceof om)return e._internalPath;if(typeof e=="string")return wy(t,e);throw yg("Field path arguments must be of type string or ",t,!1,void 0,n)}const KO=new RegExp("[~\\*/\\[\\]]");function wy(t,e,n){if(e.search(KO)>=0)throw yg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new om(...e.split("."))._internalPath}catch{throw yg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function yg(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new qe(Te.INVALID_ARGUMENT,a+t+l)}function fx(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new hi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_y("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class YO extends dx{data(){return super.data()}}function _y(t,e){return typeof e=="string"?wy(t,e):e instanceof om?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new qe(Te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class by{}class XO extends by{}function qd(t,e,...n){let r=[];e instanceof by&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Ey).length,a=s.filter(l=>l instanceof um).length;if(o>1||o>0&&a>0)throw new qe(Te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class um extends XO{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new um(e,n,r)}_apply(e){const n=this._parse(e);return px(e._query,n),new Vc(e.firestore,e.converter,a2(e._query,n))}_parse(e){const n=am(e.firestore);return function(s,o,a,l,u,f,g){let v;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new qe(Te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){Q_(g,f);const p=[];for(const S of g)p.push(Y_(l,s,S));v={arrayValue:{values:p}}}else v=Y_(l,s,g)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||Q_(g,f),v=GO(a,o,g,f==="in"||f==="not-in");return or.create(u,f,v)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function g0(t,e,n){const r=e,i=_y("where",t);return um._create(i,r,n)}class Ey extends by{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ey(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Fs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)px(o,l),o=a2(o,l)}(e._query,n),new Vc(e.firestore,e.converter,a2(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Y_(t,e,n){if(typeof(n=qn(n))=="string"){if(n==="")throw new qe(Te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!f3(e)&&n.indexOf("/")!==-1)throw new qe(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(bn.fromString(n));if(!at.isDocumentKey(r))throw new qe(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return v_(t,new at(r))}if(n instanceof hi)return v_(t,n._key);throw new qe(Te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${im(n)}.`)}function Q_(t,e){if(!Array.isArray(t)||t.length===0)throw new qe(Te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function px(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new qe(Te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new qe(Te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class JO{convertValue(e,n="none"){switch(au(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ou(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw vt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return mu(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Jn(o.doubleValue));return new my(s)}convertGeoPoint(e){return new gy(Jn(e.latitude),Jn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$v(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xf(e));default:return null}}convertTimestamp(e){const n=ll(e);return new gr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=bn.fromString(e);an(O3(r));const i=new If(r.get(1),r.get(3)),s=new at(r.popFirst(5));return i.isEqual(n)||ta(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mx extends dx{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(_y("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class xp extends mx{data(e={}){return super.data(e)}}class ZO{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Mh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new xp(this._firestore,this._userDataWriter,r.key,r,new Mh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new qe(Te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new xp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Mh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new xp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Mh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,f=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:eD(a.type),doc:l,oldIndex:u,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function eD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(t){t=js(t,hi);const e=js(t.firestore,yu);return MO(dy(e),t._key).then(n=>rD(e,t,n))}class vx extends JO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hi(this.firestore,null,n)}}function Ru(t){t=js(t,Vc);const e=js(t.firestore,yu),n=dy(e),r=new vx(e);return QO(t._query),FO(n,t._query).then(i=>new ZO(e,r,t,i))}function nD(t,e,n){t=js(t,hi);const r=js(t.firestore,yu),i=gx(t.converter,e);return cm(r,[ux(am(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,gs.none())])}function m0(t,e,n,...r){t=js(t,hi);const i=js(t.firestore,yu),s=am(i);let o;return o=typeof(e=qn(e))=="string"||e instanceof om?$O(s,"updateDoc",t._key,e,n,r):HO(s,"updateDoc",t._key,e),cm(i,[o.toMutation(t._key,gs.exists(!0))])}function X_(t){return cm(js(t.firestore,yu),[new Jv(t._key,gs.none())])}function v0(t,e){const n=js(t.firestore,yu),r=zu(t),i=gx(t.converter,e);return cm(n,[ux(am(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,gs.exists(!1))]).then(()=>r)}function cm(t,e){return function(r,i){const s=new Ko;return r.asyncQueue.enqueueAndForget(async()=>xO(await DO(r),i,s)),s.promise}(dy(t),e)}function rD(t,e,n){const r=n.docs.get(e._key),i=new vx(t);return new mx(t,i,e._key,r,new Mh(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Fc=i})(gu),nu(new ol("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new yu(new i8(r.getProvider("auth-internal")),new l8(r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new qe(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new If(u.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ho(f_,"4.7.3",e),ho(f_,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx="firebasestorage.googleapis.com",wx="storageBucket",iD=2*60*1e3,sD=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn extends vo{constructor(e,n,r=0){super(y0(e),`Firebase Storage: ${n} (${y0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Hn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return y0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Wn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Wn||(Wn={}));function y0(t){return"storage/"+t}function Sy(){const t="An unknown error occurred, please check the error payload for server response.";return new Hn(Wn.UNKNOWN,t)}function oD(t){return new Hn(Wn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function aD(t){return new Hn(Wn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function lD(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Hn(Wn.UNAUTHENTICATED,t)}function uD(){return new Hn(Wn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function cD(t){return new Hn(Wn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function hD(){return new Hn(Wn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function fD(){return new Hn(Wn.CANCELED,"User canceled the upload/download.")}function dD(t){return new Hn(Wn.INVALID_URL,"Invalid URL '"+t+"'.")}function pD(t){return new Hn(Wn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function gD(){return new Hn(Wn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+wx+"' property when initializing the app?")}function mD(){return new Hn(Wn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function vD(){return new Hn(Wn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function yD(t){return new Hn(Wn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function y2(t){return new Hn(Wn.INVALID_ARGUMENT,t)}function _x(){return new Hn(Wn.APP_DELETED,"The Firebase app was deleted.")}function wD(t){return new Hn(Wn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Xh(t,e){return new Hn(Wn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function wh(t){throw new Hn(Wn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=qi.makeFromUrl(e,n)}catch{return new qi(e,"")}if(r.path==="")return r;throw pD(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(j){j.path_=decodeURIComponent(j.path)}const f="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",p=new RegExp(`^https?://${g}/${f}/b/${i}/o${v}`,"i"),S={bucket:1,path:3},I=n===yx?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",_=new RegExp(`^https?://${I}/${i}/${P}`,"i"),C=[{regex:a,indices:l,postModify:s},{regex:p,indices:S,postModify:u},{regex:_,indices:{bucket:1,path:2},postModify:u}];for(let j=0;j<C.length;j++){const Q=C[j],re=Q.regex.exec(e);if(re){const U=re[Q.indices.bucket];let A=re[Q.indices.path];A||(A=""),r=new qi(U,A),Q.postModify(r);break}}if(r==null)throw dD(e);return r}}class _D{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function f(...P){u||(u=!0,e.apply(null,P))}function g(P){i=setTimeout(()=>{i=null,t(p,l())},P)}function v(){s&&clearTimeout(s)}function p(P,..._){if(u){v();return}if(P){v(),f.call(null,P,..._);return}if(l()||o){v(),f.call(null,P,..._);return}r<64&&(r*=2);let C;a===1?(a=2,C=0):C=(r+Math.random())*1e3,g(C)}let S=!1;function I(P){S||(S=!0,v(),!u&&(i!==null?(P||(a=2),clearTimeout(i),g(0)):P||(a=1)))}return g(0),s=setTimeout(()=>{o=!0,I(!0)},n),I}function ED(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(t){return t!==void 0}function AD(t){return typeof t=="object"&&!Array.isArray(t)}function Ay(t){return typeof t=="string"||t instanceof String}function J_(t){return xy()&&t instanceof Blob}function xy(){return typeof Blob<"u"}function Z_(t,e,n,r){if(r<e)throw y2(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw y2(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function bx(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Yl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Yl||(Yl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e,n,r,i,s,o,a,l,u,f,g,v=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=f,this.connectionFactory_=g,this.retry=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,S)=>{this.resolve_=p,this.reject_=S,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Wd(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Yl.NO_ERROR,l=s.getStatus();if(!a||xD(l,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===Yl.ABORT;r(!1,new Wd(!1,null,f));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Wd(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());SD(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=Sy();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?_x():fD();o(l)}else{const l=hD();o(l)}};this.canceled_?n(!1,new Wd(!1,null,!0)):this.backoffId_=bD(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ED(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Wd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function TD(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function kD(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ND(t,e){e&&(t["X-Firebase-GMPID"]=e)}function PD(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function CD(t,e,n,r,i,s,o=!0){const a=bx(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return ND(u,e),TD(u,n),kD(u,s),PD(u,r),new ID(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function RD(...t){const e=LD();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(xy())return new Blob(t);throw new Hn(Wn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function OD(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(t){if(typeof atob>"u")throw yD("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class w0{constructor(e,n){this.data=e,this.contentType=n||null}}function MD(t,e){switch(t){case ao.RAW:return new w0(Ex(e));case ao.BASE64:case ao.BASE64URL:return new w0(Sx(t,e));case ao.DATA_URL:return new w0(jD(e),UD(e))}throw Sy()}function Ex(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function FD(t){let e;try{e=decodeURIComponent(t)}catch{throw Xh(ao.DATA_URL,"Malformed data URL.")}return Ex(e)}function Sx(t,e){switch(t){case ao.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Xh(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ao.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Xh(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=DD(e)}catch(i){throw i.message.includes("polyfill")?i:Xh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Ax{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Xh(ao.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=VD(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function jD(t){const e=new Ax(t);return e.base64?Sx(ao.BASE64,e.rest):FD(e.rest)}function UD(t){return new Ax(t).contentType}function VD(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,n){let r=0,i="";J_(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(J_(this.data_)){const r=this.data_,i=OD(r,e,n);return i===null?null:new Ba(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ba(r,!0)}}static getBlob(...e){if(xy()){const n=e.map(r=>r instanceof Ba?r.data_:r);return new Ba(RD.apply(null,n))}else{const n=e.map(o=>Ay(o)?MD(ao.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Ba(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(t){let e;try{e=JSON.parse(t)}catch{return null}return AD(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function zD(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Ix(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(t,e){return e}class ai{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||qD}}let Hd=null;function WD(t){return!Ay(t)||t.length<2?t:Ix(t)}function Tx(){if(Hd)return Hd;const t=[];t.push(new ai("bucket")),t.push(new ai("generation")),t.push(new ai("metageneration")),t.push(new ai("name","fullPath",!0));function e(s,o){return WD(o)}const n=new ai("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new ai("size");return i.xform=r,t.push(i),t.push(new ai("timeCreated")),t.push(new ai("updated")),t.push(new ai("md5Hash",null,!0)),t.push(new ai("cacheControl",null,!0)),t.push(new ai("contentDisposition",null,!0)),t.push(new ai("contentEncoding",null,!0)),t.push(new ai("contentLanguage",null,!0)),t.push(new ai("contentType",null,!0)),t.push(new ai("metadata","customMetadata",!0)),Hd=t,Hd}function HD(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new qi(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function $D(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return HD(r,t),r}function kx(t,e,n){const r=xx(e);return r===null?null:$D(t,r,n)}function GD(t,e,n,r){const i=xx(e);if(i===null||!Ay(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const f=t.bucket,g=t.fullPath,v="/b/"+o(f)+"/o/"+o(g),p=Iy(v,n,r),S=bx({alt:"media",token:u});return p+S})[0]}function KD(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Nx{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(t){if(!t)throw Sy()}function YD(t,e){function n(r,i){const s=kx(t,i,e);return Px(s!==null),s}return n}function QD(t,e){function n(r,i){const s=kx(t,i,e);return Px(s!==null),GD(s,i,t.host,t._protocol)}return n}function Cx(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=uD():i=lD():n.getStatus()===402?i=aD(t.bucket):n.getStatus()===403?i=cD(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function XD(t){const e=Cx(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=oD(t.path)),s.serverResponse=i.serverResponse,s}return n}function JD(t,e,n){const r=e.fullServerUrl(),i=Iy(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Nx(i,s,QD(t,n),o);return a.errorHandler=XD(e),a}function ZD(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function eM(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=ZD(null,e)),r}function tM(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let C="";for(let j=0;j<2;j++)C=C+Math.random().toString().slice(2);return C}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=eM(e,r,i),f=KD(u,n),g="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,v=`\r
--`+l+"--",p=Ba.getBlob(g,r,v);if(p===null)throw mD();const S={name:u.fullPath},I=Iy(s,t.host,t._protocol),P="POST",_=t.maxUploadRetryTime,k=new Nx(I,P,YD(t,n),_);return k.urlParams=S,k.headers=o,k.body=p.uploadData(),k.errorHandler=Cx(e),k}class nM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Yl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Yl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Yl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw wh("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw wh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw wh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw wh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw wh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class rM extends nM{initXhr(){this.xhr_.responseType="text"}}function Lx(){return new rM}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n){this._service=e,n instanceof qi?this._location=n:this._location=qi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new lu(e,n)}get root(){const e=new qi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ix(this._location.path)}get storage(){return this._service}get parent(){const e=BD(this._location.path);if(e===null)return null;const n=new qi(this._location.bucket,e);return new lu(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw wD(e)}}function iM(t,e,n){t._throwIfRoot("uploadBytes");const r=tM(t.storage,t._location,Tx(),new Ba(e,!0),n);return t.storage.makeRequestWithTokens(r,Lx).then(i=>({metadata:i,ref:t}))}function sM(t){t._throwIfRoot("getDownloadURL");const e=JD(t.storage,t._location,Tx());return t.storage.makeRequestWithTokens(e,Lx).then(n=>{if(n===null)throw vD();return n})}function oM(t,e){const n=zD(t._location.path,e),r=new qi(t._location.bucket,n);return new lu(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(t){return/^[A-Za-z]+:\/\//.test(t)}function lM(t,e){return new lu(t,e)}function Rx(t,e){if(t instanceof Ty){const n=t;if(n._bucket==null)throw gD();const r=new lu(n,n._bucket);return e!=null?Rx(r,e):r}else return e!==void 0?oM(t,e):t}function uM(t,e){if(e&&aM(e)){if(t instanceof Ty)return lM(t,e);throw y2("To use ref(service, url), the first argument must be a Storage instance.")}else return Rx(t,e)}function eb(t,e){const n=e==null?void 0:e[wx];return n==null?null:qi.makeFromBucketSpec(n,t)}function cM(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:cA(i,t.app.options.projectId))}class Ty{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=yx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=iD,this._maxUploadRetryTime=sD,this._requests=new Set,i!=null?this._bucket=qi.makeFromBucketSpec(i,this._host):this._bucket=eb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=qi.makeFromBucketSpec(this._url,e):this._bucket=eb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Z_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Z_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new lu(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new _D(_x());{const o=CD(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const tb="@firebase/storage",nb="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="storage";function hM(t,e,n){return t=qn(t),iM(t,e,n)}function fM(t){return t=qn(t),sM(t)}function dM(t,e){return t=qn(t),uM(t,e)}function pM(t=Cv(),e){t=qn(t);const r=Hg(t,Ox).getImmediate({identifier:e}),i=aA("storage");return i&&gM(r,...i),r}function gM(t,e,n,r={}){cM(t,e,n,r)}function mM(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Ty(n,r,i,e,gu)}function vM(){nu(new ol(Ox,mM,"PUBLIC").setMultipleInstances(!0)),ho(tb,nb,""),ho(tb,nb,"esm2017")}vM();const yM={apiKey:"AIzaSyCs1NAMdvtuiWzbYMohY0aZa2AiS9z8uNw",authDomain:"downey-cleaning.firebaseapp.com",projectId:"downey-cleaning",storageBucket:"downey-cleaning.firebasestorage.app",messagingSenderId:"1001041748354",appId:"1:1001041748354:web:6f6ea1b637b8be84e2ef9b",measurementId:"G-MMZD70R02H"};let $d,Us,li,Dx;try{$d=dA(yM),Us=e8($d),li=VO($d),Dx=pM($d)}catch(t){console.error("Erro ao inicializar servios do Firebase:",t)}const wM=new Uo,_M=async()=>{if(!Us)throw new Error("Auth service not initialized");try{return(await uR(Us,wM)).user}catch(t){throw console.error("Google login error:",t),t}},bM=async(t,e)=>{if(!Us)throw new Error("Auth service not initialized");return(await UL(Us,t,e)).user},EM=async(t,e)=>{if(!Us)throw new Error("Auth service not initialized");return(await jL(Us,t,e)).user},SM=async()=>{if(Us)try{await qL(Us)}catch(t){console.error("Logout error:",t)}},_0="users",b0="schedules",E0="offices",_h="records",Ra=t=>{const e={};return Object.keys(t).forEach(n=>{t[n]===void 0?e[n]=null:typeof t[n]=="object"&&t[n]!==null&&!Array.isArray(t[n])?e[n]=Ra(t[n]):e[n]=t[n]}),e},Wi={syncUser:async(t,e)=>{const n=zu(li,_0,t.uid),r=await tD(n);if(r.exists()){const i=r.data();return e&&Object.keys(e).length>0?(await m0(n,Ra(e)),{...i,...e}):i}else{const i={id:t.uid,name:(e==null?void 0:e.name)||t.displayName||"User",email:t.email||"",role:(e==null?void 0:e.role)||Qr.EMPLOYEE,pps:(e==null?void 0:e.pps)||"",phone:(e==null?void 0:e.phone)||""};return await nD(n,Ra(i)),i}},updateUser:async(t,e)=>{const n=zu(li,_0,t);await m0(n,Ra(e))},getAllUsers:async()=>{const t=qd(Ro(li,_0));return(await Ru(t)).docs.map(n=>n.data())},getSchedulesByUser:async t=>{const e=qd(Ro(li,b0),g0("userId","==",t));return(await Ru(e)).docs.map(r=>({...r.data(),id:r.id}))},addSchedule:async t=>{await v0(Ro(li,b0),Ra(t))},deleteSchedule:async t=>{await X_(zu(li,b0,t))},getOffices:async()=>(await Ru(Ro(li,E0))).docs.map(e=>({...e.data(),id:e.id})),addOffice:async t=>{await v0(Ro(li,E0),Ra(t))},deleteOffice:async t=>{await X_(zu(li,E0,t))},getActiveSession:async t=>{const e=qd(Ro(li,_h),g0("userId","==",t));return(await Ru(e)).docs.map(i=>({...i.data(),id:i.id})).find(i=>!i.endTime)||null},getAllRecords:async()=>(await Ru(Ro(li,_h))).docs.map(e=>({...e.data(),id:e.id})),getRecordsByUser:async t=>{const e=qd(Ro(li,_h),g0("userId","==",t));return(await Ru(e)).docs.map(r=>({...r.data(),id:r.id}))},startShift:async(t,e)=>{let n=null;e&&(n=await Wi.uploadFile(e,`shifts/${t.userId}/start_${Date.now()}`));const r=Ra({...t,photoUrl:n}),i=await v0(Ro(li,_h),r);return{...r,id:i.id}},endShift:async(t,e,n)=>{const r={...e};if(n){const s=await Wi.uploadFile(n,`shifts/end_${t}_${Date.now()}`);r.endPhotoUrl=s}const i=zu(li,_h,t);await m0(i,Ra(r))},uploadFile:async(t,e)=>{const n=dM(Dx,e),r=await hM(n,t);return await fM(r.ref)}},Mx=Pe.createContext(null),Bc=()=>Pe.useContext(Mx),AM=({children:t})=>{const[e,n]=Pe.useState(null),[r,i]=Pe.useState(!0);Pe.useEffect(()=>{const o=zL(Us,async a=>{if(a)try{const l=await Wi.syncUser(a);n(l)}catch(l){console.error("Failed to sync user",l)}else n(null);i(!1)});return()=>o()},[]);const s=async()=>{await SM(),n(null)};return ne.jsx(Mx.Provider,{value:{user:e,logout:s,isAuthenticated:!!e,isLoading:r},children:t})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),mr=(t,e)=>{const n=Pe.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...u},f)=>Pe.createElement("svg",{ref:f,...xM,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${IM(t)}`,a].join(" "),...u},[...e.map(([g,v])=>Pe.createElement(g,v)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=mr("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=mr("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=mr("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=mr("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=mr("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=mr("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=mr("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=mr("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=mr("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=mr("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=mr("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=mr("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=mr("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=mr("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=mr("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=mr("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=mr("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=mr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=mr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),VM=({children:t})=>{const[e,n]=Pe.useState(!1),{user:r,logout:i}=Bc(),s=kv(),o=Bf(),a=()=>{i(),s("/login")},l=[{name:"Schedule",path:"/",icon:Fx,roles:[Qr.ADMIN,Qr.EMPLOYEE]},{name:"Check-In",path:"/check-in",icon:kM,roles:[Qr.EMPLOYEE]},{name:"Reports",path:"/reports",icon:TM,roles:[Qr.ADMIN,Qr.EMPLOYEE]},{name:"Profile",path:"/profile",icon:Ny,roles:[Qr.ADMIN,Qr.EMPLOYEE]}],u=f=>o.pathname===f;return ne.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[ne.jsxs("div",{className:"bg-white shadow-sm p-4 flex justify-between items-center md:hidden fixed top-0 w-full z-50",children:[ne.jsx("h1",{className:"text-lg font-bold text-brand-600",children:"Downey Cleaning"}),ne.jsx("button",{onClick:()=>n(!e),className:"p-2",children:e?ne.jsx(UM,{size:20}):ne.jsx(OM,{size:20})})]}),ne.jsxs("aside",{className:`fixed inset-y-0 left-0 transform ${e?"translate-x-0":"-translate-x-full"} md:relative md:translate-x-0 transition-transform w-64 bg-brand-900 text-white z-40 flex flex-col`,children:[ne.jsx("div",{className:"p-6 border-b border-white/10 hidden md:block",children:ne.jsx("h1",{className:"text-xl font-bold",children:"Downey Cleaning"})}),ne.jsx("nav",{className:"flex-1 p-4 space-y-2 mt-16 md:mt-0",children:l.filter(f=>f.roles.includes(r==null?void 0:r.role)).map(f=>ne.jsxs("button",{onClick:()=>s(f.path),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm transition ${u(f.path)?"bg-brand-600":"hover:bg-white/5"}`,children:[ne.jsx(f.icon,{size:18})," ",f.name]},f.path))}),ne.jsxs("button",{onClick:a,className:"p-4 flex items-center gap-3 text-red-400 hover:bg-red-900/20 text-sm border-t border-white/5",children:[ne.jsx(RM,{size:18})," Sign Out"]})]}),ne.jsx("main",{className:"flex-1 p-6 md:p-10 pt-24 md:pt-10 max-w-7xl mx-auto w-full",children:t})]})},bh=({label:t,error:e,className:n="",...r})=>ne.jsxs("div",{className:"w-full",children:[t&&ne.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),ne.jsx("input",{className:`w-full rounded-md border-gray-300 shadow-sm focus:border-brand-500 focus:ring-brand-500 border p-2 ${e?"border-red-500":""} ${n}`,...r}),e&&ne.jsx("p",{className:"mt-1 text-sm text-red-600",children:e})]}),Pf=({children:t,variant:e="primary",size:n="md",fullWidth:r=!1,className:i="",...s})=>{const o="inline-flex items-center justify-center rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",a={primary:"bg-brand-600 text-white hover:bg-brand-700 focus:ring-brand-500",secondary:"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-brand-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",outline:"bg-transparent border border-brand-600 text-brand-600 hover:bg-brand-50"},l={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return ne.jsx("button",{className:`${o} ${a[e]} ${l[n]} ${r?"w-full":""} ${i}`,...s,children:t})},BM=()=>{const[t,e]=Pe.useState(!1),[n,r]=Pe.useState(""),[i,s]=Pe.useState(!1),o=kv(),[a,l]=Pe.useState(""),[u,f]=Pe.useState(""),[g,v]=Pe.useState(""),[p,S]=Pe.useState(""),[I,P]=Pe.useState(""),_=async()=>{try{s(!0),r(""),await _M(),o("/")}catch(C){console.error(C),r("Failed to login with Google.")}finally{s(!1)}},k=async C=>{if(C.preventDefault(),!a||!u){r("Email and Password are required.");return}s(!0),r("");try{if(t){if(!g||!p||!I){r("All fields are required for registration."),s(!1);return}const j=await EM(a,u);await Wi.syncUser(j,{name:g,phone:p,pps:I})}else await bM(a,u);o("/")}catch(j){console.error(j),r(j.message||"An error occurred during authentication.")}finally{s(!1)}};return ne.jsx("div",{className:"min-h-screen bg-brand-50 flex items-center justify-center p-4",children:ne.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg w-full max-w-md border border-brand-100",children:[ne.jsxs("div",{className:"text-center mb-8",children:[ne.jsx("h1",{className:"text-3xl font-bold text-brand-600",children:"Downey Cleaning"}),ne.jsx("p",{className:"text-gray-500 mt-2",children:t?"Create your professional account":"Professional Service Management"})]}),ne.jsxs("form",{onSubmit:k,className:"space-y-4",children:[t&&ne.jsxs(ne.Fragment,{children:[ne.jsxs("div",{className:"relative",children:[ne.jsx(bh,{label:"Full Name",placeholder:"John Doe",value:g,onChange:C=>v(C.target.value),required:!0}),ne.jsx(Ny,{className:"absolute right-3 top-9 text-gray-400",size:18})]}),ne.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[ne.jsxs("div",{className:"relative",children:[ne.jsx(bh,{label:"Phone",placeholder:"+353...",value:p,onChange:C=>S(C.target.value),required:!0}),ne.jsx(Vx,{className:"absolute right-3 top-9 text-gray-400",size:18})]}),ne.jsxs("div",{className:"relative",children:[ne.jsx(bh,{label:"PPS Number",placeholder:"1234567A",value:I,onChange:C=>P(C.target.value),required:!0}),ne.jsx(jx,{className:"absolute right-3 top-9 text-gray-400",size:18})]})]})]}),ne.jsxs("div",{className:"relative",children:[ne.jsx(bh,{label:"Email Address",type:"email",placeholder:"name@downeycleaning.ie",value:a,onChange:C=>l(C.target.value),required:!0}),ne.jsx(Ux,{className:"absolute right-3 top-9 text-gray-400",size:18})]}),ne.jsxs("div",{className:"relative",children:[ne.jsx(bh,{label:"Password",type:"password",placeholder:"",value:u,onChange:C=>f(C.target.value),required:!0}),ne.jsx(CM,{className:"absolute right-3 top-9 text-gray-400",size:18})]}),ne.jsxs(Pf,{type:"submit",fullWidth:!0,disabled:i,className:"mt-2",children:[i?ne.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent animate-spin rounded-full mr-2"}):t?ne.jsx(jM,{size:18,className:"mr-2"}):ne.jsx(LM,{size:18,className:"mr-2"}),t?"Register Account":"Sign In"]})]}),ne.jsxs("div",{className:"relative my-8",children:[ne.jsx("div",{className:"absolute inset-0 flex items-center",children:ne.jsx("div",{className:"w-full border-t border-gray-200"})}),ne.jsx("div",{className:"relative flex justify-center text-sm",children:ne.jsx("span",{className:"px-2 bg-white text-gray-400",children:"Or continue with"})})]}),ne.jsxs("button",{type:"button",onClick:_,disabled:i,className:"w-full flex items-center justify-center bg-white border border-gray-300 rounded-lg p-3 text-gray-700 hover:bg-gray-50 hover:shadow-sm transition-all shadow-sm font-medium disabled:opacity-50",children:[ne.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-6 h-6 mr-3"}),"Google Workspace"]}),n&&ne.jsx("div",{className:"mt-6 bg-red-50 text-red-600 p-3 rounded-lg text-sm text-center border border-red-100 animate-pulse",children:n}),ne.jsx("div",{className:"text-center mt-6",children:ne.jsx("button",{type:"button",onClick:()=>{e(!t),r("")},className:"text-brand-600 hover:text-brand-700 font-medium text-sm transition-colors",children:t?"Already have an account? Sign in":"Don't have an account? Create one"})}),ne.jsx("div",{className:"text-center text-xs text-gray-400 mt-6 pt-6 border-t",children:ne.jsx("p",{children:"Access restricted to Downey Cleaning authorized personnel."})})]})})},zM=()=>{const{user:t}=Bc(),[e,n]=Pe.useState([]),[r,i]=Pe.useState([]),[s,o]=Pe.useState((t==null?void 0:t.id)||""),[a,l]=Pe.useState(!1),u=(t==null?void 0:t.role)===Qr.ADMIN;Pe.useEffect(()=>{(async()=>{if(u){const v=await Wi.getAllUsers();i(v.filter(p=>p.role===Qr.EMPLOYEE))}})()},[u]),Pe.useEffect(()=>{s&&f(s)},[s]);const f=async g=>{l(!0);const v=await Wi.getSchedulesByUser(g);n(v),l(!1)};return ne.jsxs("div",{className:"space-y-6",children:[ne.jsxs("header",{className:"flex justify-between items-center",children:[ne.jsx("h2",{className:"text-2xl font-bold",children:"Work Assignments"}),u&&ne.jsx("select",{className:"border rounded p-2 text-sm",value:s,onChange:g=>o(g.target.value),children:r.map(g=>ne.jsx("option",{value:g.id,children:g.name},g.id))})]}),a?ne.jsx(ky,{className:"animate-spin mx-auto"}):ne.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(g=>ne.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-100 shadow-sm",children:[ne.jsxs("div",{className:"flex items-center gap-2 text-brand-600 font-bold mb-2",children:[ne.jsx(Fx,{size:18}),ne.jsx("span",{children:"Shift Plan"})]}),ne.jsx("p",{className:"font-bold text-gray-900",children:g.locationName}),ne.jsx("p",{className:"text-xs text-gray-500",children:g.address}),ne.jsxs("div",{className:"mt-4 pt-4 border-t flex justify-between items-center text-sm",children:[ne.jsx("span",{className:"text-gray-400",children:"Duration"}),ne.jsxs("span",{className:"font-bold text-brand-700",children:[g.hoursPerDay,"h"]})]})]},g.id))})]})},qM={knowJobSafety:"Job Safety Plan",weatherCheck:"Weather Check",safePassInDate:"Safe Pass",hazardAwareness:"Hazard Awareness",floorConditions:"Floor Check",manualHandlingCert:"Manual Handling",liftingHelp:"Lifting Help",anchorPoints:"Anchor Points",ladderFooting:"Ladder Footing",safetyCones:"Safety Cones",communication:"Comm. Protocol",laddersCheck:"Ladder Check",sharpEdges:"Sharp Edges",scraperCovers:"Scraper Covers",hotSurfaces:"Hot Surfaces",chemicalCourse:"Chem Course",chemicalAwareness:"Chem Awareness",tidyEquipment:"Tidy Equip",laddersStored:"Ladder Storage",highVis:"High Vis",helmet:"Helmet",goggles:"Goggles",gloves:"Gloves",mask:"Mask",earMuffs:"Ear Muffs",faceGuard:"Face Guard",harness:"Harness",boots:"Boots"},Gd={knowJobSafety:!1,weatherCheck:!1,safePassInDate:!1,hazardAwareness:!1,floorConditions:!1,manualHandlingCert:!1,liftingHelp:!1,anchorPoints:!1,ladderFooting:!1,safetyCones:!1,communication:!1,laddersCheck:!1,sharpEdges:!1,scraperCovers:!1,hotSurfaces:!1,chemicalCourse:!1,chemicalAwareness:!1,tidyEquipment:!1,laddersStored:!1,highVis:!1,helmet:!1,goggles:!1,gloves:!1,mask:!1,earMuffs:!1,faceGuard:!1,harness:!1,boots:!1},WM=()=>{const{user:t}=Bc(),[e,n]=Pe.useState(null),[r,i]=Pe.useState(""),[s,o]=Pe.useState(!1),[a,l]=Pe.useState([]),[u,f]=Pe.useState(!1),[g,v]=Pe.useState(!0),[p,S]=Pe.useState(null),[I,P]=Pe.useState(null),[_,k]=Pe.useState(Gd),[C,j]=Pe.useState(0),Q=Pe.useRef(null);Pe.useEffect(()=>{(async()=>{if(t)try{const x=await Wi.getActiveSession(t.id);x&&(n(x),i(x.locationName),x.safetyChecklist&&k({...Gd,...x.safetyChecklist}));const E=(await Wi.getSchedulesByUser(t.id)).map(N=>({name:N.locationName,address:N.address}));l(E),E.length===0&&o(!0)}catch(x){console.error(x)}finally{v(!1)}})()},[t]),Pe.useEffect(()=>{if(e){const A=new Date(e.startTime).getTime();Q.current=window.setInterval(()=>j(Math.floor((Date.now()-A)/1e3)),1e3)}else Q.current&&clearInterval(Q.current),j(0);return()=>{Q.current&&clearInterval(Q.current)}},[e]);const re=async()=>{if(!(!t||!r)){f(!0);try{const A=await Wi.startShift({userId:t.id,locationName:r,startTime:new Date().toISOString(),date:new Date().toISOString().split("T")[0],safetyChecklist:_},p||void 0);n(A)}catch(A){console.error(A)}finally{f(!1)}}},U=async()=>{if(e){f(!0);try{await Wi.endShift(e.id,{endTime:new Date().toISOString()},I||void 0),n(null),k(Gd)}catch(A){console.error(A)}finally{f(!1)}}};return g?ne.jsx("div",{className:"flex justify-center p-20",children:ne.jsx(ky,{className:"animate-spin"})}):ne.jsxs("div",{className:"max-w-3xl mx-auto space-y-6 pb-20",children:[ne.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[ne.jsx(MM,{className:"text-brand-600"})," Professional Safety Board"]}),ne.jsx("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:ne.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Object.keys(Gd).slice(0,8).map(A=>ne.jsx("button",{onClick:()=>k(x=>({...x,[A]:!x[A]})),className:`p-2 rounded border text-[10px] font-bold ${_[A]?"bg-brand-500 text-white":"bg-gray-50"}`,children:qM[A]},A))})}),ne.jsx("div",{className:"bg-brand-900 p-8 rounded-2xl text-white text-center shadow-xl",children:e?ne.jsxs("div",{className:"space-y-4",children:[ne.jsxs("div",{className:"text-4xl font-mono animate-pulse",children:[Math.floor(C/60),":",String(C%60).padStart(2,"0")]}),ne.jsx("p",{className:"text-brand-300 font-bold uppercase",children:e.locationName}),ne.jsx(Pf,{variant:"danger",fullWidth:!0,onClick:U,disabled:u,children:"End Shift"})]}):ne.jsxs("div",{className:"space-y-4",children:[ne.jsx("input",{className:"w-full bg-white/10 p-3 rounded border border-white/20 text-white outline-none",placeholder:"Enter Location...",value:r,onChange:A=>i(A.target.value)}),ne.jsx(Pf,{fullWidth:!0,onClick:re,disabled:u||!r,children:"Start Service"})]})})]})},HM="modulepreload",$M=function(t,e){return new URL(t,e).href},rb={},S0=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=$M(u,r),u in rb)return;rb[u]=!0;const f=u.endsWith(".css"),g=f?'[rel="stylesheet"]':"";if(!!r)for(let S=o.length-1;S>=0;S--){const I=o[S];if(I.href===u&&(!f||I.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${g}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":HM,f||(p.as="script"),p.crossOrigin="",p.href=u,l&&p.setAttribute("nonce",l),document.head.appendChild(p),f)return new Promise((S,I)=>{p.addEventListener("load",S),p.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function sn(t){"@babel/helpers - typeof";return sn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sn(t)}var Vs=Uint8Array,Hi=Uint16Array,Py=Int32Array,Cy=new Vs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ly=new Vs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ib=new Vs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Bx=function(t,e){for(var n=new Hi(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new Py(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},zx=Bx(Cy,2),GM=zx.b,w2=zx.r;GM[28]=258,w2[258]=28;var KM=Bx(Ly,0),sb=KM.r,_2=new Hi(32768);for(var En=0;En<32768;++En){var Na=(En&43690)>>1|(En&21845)<<1;Na=(Na&52428)>>2|(Na&13107)<<2,Na=(Na&61680)>>4|(Na&3855)<<4,_2[En]=((Na&65280)>>8|(Na&255)<<8)>>1}var Jh=function(t,e,n){for(var r=t.length,i=0,s=new Hi(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new Hi(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new Hi(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],f=e-t[i],g=o[t[i]-1]++<<f,v=g|(1<<f)-1;g<=v;++g)a[_2[g]>>l]=u}else for(a=new Hi(r),i=0;i<r;++i)t[i]&&(a[i]=_2[o[t[i]-1]++]>>15-t[i]);return a},uu=new Vs(288);for(var En=0;En<144;++En)uu[En]=8;for(var En=144;En<256;++En)uu[En]=9;for(var En=256;En<280;++En)uu[En]=7;for(var En=280;En<288;++En)uu[En]=8;var wg=new Vs(32);for(var En=0;En<32;++En)wg[En]=5;var YM=Jh(uu,9,0),QM=Jh(wg,5,0),qx=function(t){return(t+7)/8|0},XM=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Vs(t.subarray(e,n))},Oo=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Eh=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},A0=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:Hx,l:0};if(i==1){var o=new Vs(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(Q,re){return Q.f-re.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],u=0,f=1,g=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};f!=i-1;)a=n[n[u].f<n[g].f?u++:g++],l=n[u!=f&&n[u].f<n[g].f?u++:g++],n[f++]={s:-1,f:a.f+l.f,l:a,r:l};for(var v=s[0].s,r=1;r<i;++r)s[r].s>v&&(v=s[r].s);var p=new Hi(v+1),S=b2(n[f-1],p,0);if(S>e){var r=0,I=0,P=S-e,_=1<<P;for(s.sort(function(re,U){return p[U.s]-p[re.s]||re.f-U.f});r<i;++r){var k=s[r].s;if(p[k]>e)I+=_-(1<<S-p[k]),p[k]=e;else break}for(I>>=P;I>0;){var C=s[r].s;p[C]<e?I-=1<<e-p[C]++-1:++r}for(;r>=0&&I;--r){var j=s[r].s;p[j]==e&&(--p[j],++I)}S=e}return{t:new Vs(p),l:S}},b2=function(t,e,n){return t.s==-1?Math.max(b2(t.l,e,n+1),b2(t.r,e,n+1)):e[t.s]=n},ob=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Hi(++e),r=0,i=t[0],s=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:n.subarray(0,r),n:e}},Sh=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},Wx=function(t,e,n){var r=n.length,i=qx(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},ab=function(t,e,n,r,i,s,o,a,l,u,f){Oo(e,f++,n),++i[256];for(var g=A0(i,15),v=g.t,p=g.l,S=A0(s,15),I=S.t,P=S.l,_=ob(v),k=_.c,C=_.n,j=ob(I),Q=j.c,re=j.n,U=new Hi(19),A=0;A<k.length;++A)++U[k[A]&31];for(var A=0;A<Q.length;++A)++U[Q[A]&31];for(var x=A0(U,7),D=x.t,E=x.l,N=19;N>4&&!D[ib[N-1]];--N);var L=u+5<<3,X=Sh(i,uu)+Sh(s,wg)+o,pe=Sh(i,v)+Sh(s,I)+o+14+3*N+Sh(U,D)+2*U[16]+3*U[17]+7*U[18];if(l>=0&&L<=X&&L<=pe)return Wx(e,f,t.subarray(l,l+u));var ve,ge,J,le;if(Oo(e,f,1+(pe<X)),f+=2,pe<X){ve=Jh(v,p,0),ge=v,J=Jh(I,P,0),le=I;var _e=Jh(D,E,0);Oo(e,f,C-257),Oo(e,f+5,re-1),Oo(e,f+10,N-4),f+=14;for(var A=0;A<N;++A)Oo(e,f+3*A,D[ib[A]]);f+=3*N;for(var we=[k,Q],M=0;M<2;++M)for(var H=we[M],A=0;A<H.length;++A){var Y=H[A]&31;Oo(e,f,_e[Y]),f+=D[Y],Y>15&&(Oo(e,f,H[A]>>5&127),f+=H[A]>>12)}}else ve=YM,ge=uu,J=QM,le=wg;for(var A=0;A<a;++A){var ee=r[A];if(ee>255){var Y=ee>>18&31;Eh(e,f,ve[Y+257]),f+=ge[Y+257],Y>7&&(Oo(e,f,ee>>23&31),f+=Cy[Y]);var ie=ee&31;Eh(e,f,J[ie]),f+=le[ie],ie>3&&(Eh(e,f,ee>>5&8191),f+=Ly[ie])}else Eh(e,f,ve[ee]),f+=ge[ee]}return Eh(e,f,ve[256]),f+ge[256]},JM=new Py([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Hx=new Vs(0),ZM=function(t,e,n,r,i,s){var o=s.z||t.length,a=new Vs(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),u=s.l,f=(s.r||0)&7;if(e){f&&(l[0]=s.r>>3);for(var g=JM[e-1],v=g>>13,p=g&8191,S=(1<<n)-1,I=s.p||new Hi(32768),P=s.h||new Hi(S+1),_=Math.ceil(n/3),k=2*_,C=function(Je){return(t[Je]^t[Je+1]<<_^t[Je+2]<<k)&S},j=new Py(25e3),Q=new Hi(288),re=new Hi(32),U=0,A=0,x=s.i||0,D=0,E=s.w||0,N=0;x+2<o;++x){var L=C(x),X=x&32767,pe=P[L];if(I[X]=pe,P[L]=X,E<=x){var ve=o-x;if((U>7e3||D>24576)&&(ve>423||!u)){f=ab(t,l,0,j,Q,re,A,D,N,x-N,f),D=U=A=0,N=x;for(var ge=0;ge<286;++ge)Q[ge]=0;for(var ge=0;ge<30;++ge)re[ge]=0}var J=2,le=0,_e=p,we=X-pe&32767;if(ve>2&&L==C(x-we))for(var M=Math.min(v,ve)-1,H=Math.min(32767,x),Y=Math.min(258,ve);we<=H&&--_e&&X!=pe;){if(t[x+J]==t[x+J-we]){for(var ee=0;ee<Y&&t[x+ee]==t[x+ee-we];++ee);if(ee>J){if(J=ee,le=we,ee>M)break;for(var ie=Math.min(we,ee-2),ue=0,ge=0;ge<ie;++ge){var me=x-we+ge&32767,ye=I[me],Ae=me-ye&32767;Ae>ue&&(ue=Ae,pe=me)}}}X=pe,pe=I[X],we+=X-pe&32767}if(le){j[D++]=268435456|w2[J]<<18|sb[le];var Le=w2[J]&31,Ue=sb[le]&31;A+=Cy[Le]+Ly[Ue],++Q[257+Le],++re[Ue],E=x+J,++U}else j[D++]=t[x],++Q[t[x]]}}for(x=Math.max(x,E);x<o;++x)j[D++]=t[x],++Q[t[x]];f=ab(t,l,u,j,Q,re,A,D,N,x-N,f),u||(s.r=f&7|l[f/8|0]<<3,f-=7,s.h=P,s.p=I,s.i=x,s.w=E)}else{for(var x=s.w||0;x<o+u;x+=65535){var je=x+65535;je>=o&&(l[f/8|0]=u,je=o),f=Wx(l,f+1,t.subarray(x,je))}s.i=o}return XM(a,0,r+qx(f)+i)},$x=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},eF=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new Vs(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return ZM(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},Gx=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},tF=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=$x();i.p(e.dictionary),Gx(t,2,i.d())}};function E2(t,e){e||(e={});var n=$x();n.p(t);var r=eF(t,e,e.dictionary?6:2,4);return tF(r,e),Gx(r,r.length-4,n.d()),r}var nF=typeof TextDecoder<"u"&&new TextDecoder,rF=0;try{nF.decode(Hx,{stream:!0}),rF=1}catch{}function iF(t){if(Array.isArray(t))return t}function sF(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function lb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function oF(t,e){if(t){if(typeof t=="string")return lb(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lb(t,e):void 0}}function aF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ub(t,e){return iF(t)||sF(t,e)||oF(t,e)||aF()}function cb(t,e="utf8"){return new TextDecoder(e).decode(t)}const lF=new TextEncoder;function uF(t){return lF.encode(t)}const cF=1024*8,hF=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),x0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Ry{constructor(e=cF,n={}){nn(this,"buffer");nn(this,"byteLength");nn(this,"byteOffset");nn(this,"length");nn(this,"offset");nn(this,"lastWrittenByte");nn(this,"littleEndian");nn(this,"_data");nn(this,"_mark");nn(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,s=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof Ry)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=x0[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===hF&&n!=="uint8"&&n!=="int8"){const a=new Uint8Array(this.buffer.slice(i,i+r));a.reverse();const l=new x0[n](a.buffer);return this.offset+=r,l.reverse(),l}const o=new x0[n](s);return this.offset+=r,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return cb(this.readBytes(e))}decodeText(e=1,n="utf8"){return cb(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(uF(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function zc(t){let e=t.length;for(;--e>=0;)t[e]=0}const fF=3,dF=258,Kx=29,pF=256,gF=pF+1+Kx,Yx=30,mF=512,vF=new Array((gF+2)*2);zc(vF);const yF=new Array(Yx*2);zc(yF);const wF=new Array(mF);zc(wF);const _F=new Array(dF-fF+1);zc(_F);const bF=new Array(Kx);zc(bF);const EF=new Array(Yx);zc(EF);const SF=(t,e,n,r)=>{let i=t&65535|0,s=t>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+e[r++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var S2=SF;const AF=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},xF=new Uint32Array(AF()),IF=(t,e,n,r)=>{const i=xF,s=r+n;t^=-1;for(let o=r;o<s;o++)t=t>>>8^i[(t^e[o])&255];return t^-1};var ro=IF,A2={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Qx={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const TF=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var kF=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)TF(n,r)&&(t[r]=n[r])}}return t},NF=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,s=t.length;r<s;r++){let o=t[r];n.set(o,i),i+=o.length}return n},Xx={assign:kF,flattenChunks:NF};let Jx=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Jx=!1}const Cf=new Uint8Array(256);for(let t=0;t<256;t++)Cf[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Cf[254]=Cf[254]=1;var PF=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,s,o=t.length,a=0;for(i=0;i<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),s=0,i=0;s<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const CF=(t,e)=>{if(e<65534&&t.subarray&&Jx)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var LF=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let o=t[r++];if(o<128){s[i++]=o;continue}let a=Cf[o];if(a>4){s[i++]=65533,r+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&r<n;)o=o<<6|t[r++]&63,a--;if(a>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return CF(s,i)},RF=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Cf[t[n]]>e?n:e},x2={string2buf:PF,buf2string:LF,utf8border:RF};function OF(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var DF=OF;const Kd=16209,MF=16191;var FF=function(e,n){let r,i,s,o,a,l,u,f,g,v,p,S,I,P,_,k,C,j,Q,re,U,A,x,D;const E=e.state;r=e.next_in,x=e.input,i=r+(e.avail_in-5),s=e.next_out,D=e.output,o=s-(n-e.avail_out),a=s+(e.avail_out-257),l=E.dmax,u=E.wsize,f=E.whave,g=E.wnext,v=E.window,p=E.hold,S=E.bits,I=E.lencode,P=E.distcode,_=(1<<E.lenbits)-1,k=(1<<E.distbits)-1;e:do{S<15&&(p+=x[r++]<<S,S+=8,p+=x[r++]<<S,S+=8),C=I[p&_];t:for(;;){if(j=C>>>24,p>>>=j,S-=j,j=C>>>16&255,j===0)D[s++]=C&65535;else if(j&16){Q=C&65535,j&=15,j&&(S<j&&(p+=x[r++]<<S,S+=8),Q+=p&(1<<j)-1,p>>>=j,S-=j),S<15&&(p+=x[r++]<<S,S+=8,p+=x[r++]<<S,S+=8),C=P[p&k];n:for(;;){if(j=C>>>24,p>>>=j,S-=j,j=C>>>16&255,j&16){if(re=C&65535,j&=15,S<j&&(p+=x[r++]<<S,S+=8,S<j&&(p+=x[r++]<<S,S+=8)),re+=p&(1<<j)-1,re>l){e.msg="invalid distance too far back",E.mode=Kd;break e}if(p>>>=j,S-=j,j=s-o,re>j){if(j=re-j,j>f&&E.sane){e.msg="invalid distance too far back",E.mode=Kd;break e}if(U=0,A=v,g===0){if(U+=u-j,j<Q){Q-=j;do D[s++]=v[U++];while(--j);U=s-re,A=D}}else if(g<j){if(U+=u+g-j,j-=g,j<Q){Q-=j;do D[s++]=v[U++];while(--j);if(U=0,g<Q){j=g,Q-=j;do D[s++]=v[U++];while(--j);U=s-re,A=D}}}else if(U+=g-j,j<Q){Q-=j;do D[s++]=v[U++];while(--j);U=s-re,A=D}for(;Q>2;)D[s++]=A[U++],D[s++]=A[U++],D[s++]=A[U++],Q-=3;Q&&(D[s++]=A[U++],Q>1&&(D[s++]=A[U++]))}else{U=s-re;do D[s++]=D[U++],D[s++]=D[U++],D[s++]=D[U++],Q-=3;while(Q>2);Q&&(D[s++]=D[U++],Q>1&&(D[s++]=D[U++]))}}else if(j&64){e.msg="invalid distance code",E.mode=Kd;break e}else{C=P[(C&65535)+(p&(1<<j)-1)];continue n}break}}else if(j&64)if(j&32){E.mode=MF;break e}else{e.msg="invalid literal/length code",E.mode=Kd;break e}else{C=I[(C&65535)+(p&(1<<j)-1)];continue t}break}}while(r<i&&s<a);Q=S>>3,r-=Q,S-=Q<<3,p&=(1<<S)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<a?257+(a-s):257-(s-a),E.hold=p,E.bits=S};const Ou=15,hb=852,fb=592,db=0,I0=1,pb=2,jF=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),UF=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),VF=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),BF=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),zF=(t,e,n,r,i,s,o,a)=>{const l=a.bits;let u=0,f=0,g=0,v=0,p=0,S=0,I=0,P=0,_=0,k=0,C,j,Q,re,U,A=null,x;const D=new Uint16Array(Ou+1),E=new Uint16Array(Ou+1);let N=null,L,X,pe;for(u=0;u<=Ou;u++)D[u]=0;for(f=0;f<r;f++)D[e[n+f]]++;for(p=l,v=Ou;v>=1&&D[v]===0;v--);if(p>v&&(p=v),v===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(g=1;g<v&&D[g]===0;g++);for(p<g&&(p=g),P=1,u=1;u<=Ou;u++)if(P<<=1,P-=D[u],P<0)return-1;if(P>0&&(t===db||v!==1))return-1;for(E[1]=0,u=1;u<Ou;u++)E[u+1]=E[u]+D[u];for(f=0;f<r;f++)e[n+f]!==0&&(o[E[e[n+f]]++]=f);if(t===db?(A=N=o,x=20):t===I0?(A=jF,N=UF,x=257):(A=VF,N=BF,x=0),k=0,f=0,u=g,U=s,S=p,I=0,Q=-1,_=1<<p,re=_-1,t===I0&&_>hb||t===pb&&_>fb)return 1;for(;;){L=u-I,o[f]+1<x?(X=0,pe=o[f]):o[f]>=x?(X=N[o[f]-x],pe=A[o[f]-x]):(X=96,pe=0),C=1<<u-I,j=1<<S,g=j;do j-=C,i[U+(k>>I)+j]=L<<24|X<<16|pe|0;while(j!==0);for(C=1<<u-1;k&C;)C>>=1;if(C!==0?(k&=C-1,k+=C):k=0,f++,--D[u]===0){if(u===v)break;u=e[n+o[f]]}if(u>p&&(k&re)!==Q){for(I===0&&(I=p),U+=g,S=u-I,P=1<<S;S+I<v&&(P-=D[S+I],!(P<=0));)S++,P<<=1;if(_+=1<<S,t===I0&&_>hb||t===pb&&_>fb)return 1;Q=k&re,i[Q]=p<<24|S<<16|U-s|0}}return k!==0&&(i[U+k]=u-I<<24|64<<16|0),a.bits=p,0};var Zh=zF;const qF=0,Zx=1,eI=2,{Z_FINISH:gb,Z_BLOCK:WF,Z_TREES:Yd,Z_OK:cu,Z_STREAM_END:HF,Z_NEED_DICT:$F,Z_STREAM_ERROR:ws,Z_DATA_ERROR:tI,Z_MEM_ERROR:nI,Z_BUF_ERROR:GF,Z_DEFLATED:mb}=Qx,hm=16180,vb=16181,yb=16182,wb=16183,_b=16184,bb=16185,Eb=16186,Sb=16187,Ab=16188,xb=16189,_g=16190,Do=16191,T0=16192,Ib=16193,k0=16194,Tb=16195,kb=16196,Nb=16197,Pb=16198,Qd=16199,Xd=16200,Cb=16201,Lb=16202,Rb=16203,Ob=16204,Db=16205,N0=16206,Mb=16207,Fb=16208,In=16209,rI=16210,iI=16211,KF=852,YF=592,QF=15,XF=QF,jb=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function JF(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const wu=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<hm||e.mode>iI?1:0},sI=t=>{if(wu(t))return ws;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=hm,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(KF),e.distcode=e.distdyn=new Int32Array(YF),e.sane=1,e.back=-1,cu},oI=t=>{if(wu(t))return ws;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,sI(t)},aI=(t,e)=>{let n;if(wu(t))return ws;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ws:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,oI(t))},lI=(t,e)=>{if(!t)return ws;const n=new JF;t.state=n,n.strm=t,n.window=null,n.mode=hm;const r=aI(t,e);return r!==cu&&(t.state=null),r},ZF=t=>lI(t,XF);let Ub=!0,P0,C0;const e9=t=>{if(Ub){P0=new Int32Array(512),C0=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Zh(Zx,t.lens,0,288,P0,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Zh(eI,t.lens,0,32,C0,0,t.work,{bits:5}),Ub=!1}t.lencode=P0,t.lenbits=9,t.distcode=C0,t.distbits=5},uI=(t,e,n,r)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},t9=(t,e)=>{let n,r,i,s,o,a,l,u,f,g,v,p,S,I,P=0,_,k,C,j,Q,re,U,A;const x=new Uint8Array(4);let D,E;const N=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(wu(t)||!t.output||!t.input&&t.avail_in!==0)return ws;n=t.state,n.mode===Do&&(n.mode=T0),o=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,a=t.avail_in,u=n.hold,f=n.bits,g=a,v=l,A=cu;e:for(;;)switch(n.mode){case hm:if(n.wrap===0){n.mode=T0;break}for(;f<16;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,x[0]=u&255,x[1]=u>>>8&255,n.check=ro(n.check,x,2,0),u=0,f=0,n.mode=vb;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=In;break}if((u&15)!==mb){t.msg="unknown compression method",n.mode=In;break}if(u>>>=4,f-=4,U=(u&15)+8,n.wbits===0&&(n.wbits=U),U>15||U>n.wbits){t.msg="invalid window size",n.mode=In;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?xb:Do,u=0,f=0;break;case vb:for(;f<16;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(n.flags=u,(n.flags&255)!==mb){t.msg="unknown compression method",n.mode=In;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=In;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(x[0]=u&255,x[1]=u>>>8&255,n.check=ro(n.check,x,2,0)),u=0,f=0,n.mode=yb;case yb:for(;f<32;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(x[0]=u&255,x[1]=u>>>8&255,x[2]=u>>>16&255,x[3]=u>>>24&255,n.check=ro(n.check,x,4,0)),u=0,f=0,n.mode=wb;case wb:for(;f<16;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(x[0]=u&255,x[1]=u>>>8&255,n.check=ro(n.check,x,2,0)),u=0,f=0,n.mode=_b;case _b:if(n.flags&1024){for(;f<16;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(x[0]=u&255,x[1]=u>>>8&255,n.check=ro(n.check,x,2,0)),u=0,f=0}else n.head&&(n.head.extra=null);n.mode=bb;case bb:if(n.flags&1024&&(p=n.length,p>a&&(p=a),p&&(n.head&&(U=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+p),U)),n.flags&512&&n.wrap&4&&(n.check=ro(n.check,r,p,s)),a-=p,s+=p,n.length-=p),n.length))break e;n.length=0,n.mode=Eb;case Eb:if(n.flags&2048){if(a===0)break e;p=0;do U=r[s+p++],n.head&&U&&n.length<65536&&(n.head.name+=String.fromCharCode(U));while(U&&p<a);if(n.flags&512&&n.wrap&4&&(n.check=ro(n.check,r,p,s)),a-=p,s+=p,U)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Sb;case Sb:if(n.flags&4096){if(a===0)break e;p=0;do U=r[s+p++],n.head&&U&&n.length<65536&&(n.head.comment+=String.fromCharCode(U));while(U&&p<a);if(n.flags&512&&n.wrap&4&&(n.check=ro(n.check,r,p,s)),a-=p,s+=p,U)break e}else n.head&&(n.head.comment=null);n.mode=Ab;case Ab:if(n.flags&512){for(;f<16;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=In;break}u=0,f=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Do;break;case xb:for(;f<32;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}t.adler=n.check=jb(u),u=0,f=0,n.mode=_g;case _g:if(n.havedict===0)return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=u,n.bits=f,$F;t.adler=n.check=1,n.mode=Do;case Do:if(e===WF||e===Yd)break e;case T0:if(n.last){u>>>=f&7,f-=f&7,n.mode=N0;break}for(;f<3;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}switch(n.last=u&1,u>>>=1,f-=1,u&3){case 0:n.mode=Ib;break;case 1:if(e9(n),n.mode=Qd,e===Yd){u>>>=2,f-=2;break e}break;case 2:n.mode=kb;break;case 3:t.msg="invalid block type",n.mode=In}u>>>=2,f-=2;break;case Ib:for(u>>>=f&7,f-=f&7;f<32;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=In;break}if(n.length=u&65535,u=0,f=0,n.mode=k0,e===Yd)break e;case k0:n.mode=Tb;case Tb:if(p=n.length,p){if(p>a&&(p=a),p>l&&(p=l),p===0)break e;i.set(r.subarray(s,s+p),o),a-=p,s+=p,l-=p,o+=p,n.length-=p;break}n.mode=Do;break;case kb:for(;f<14;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(n.nlen=(u&31)+257,u>>>=5,f-=5,n.ndist=(u&31)+1,u>>>=5,f-=5,n.ncode=(u&15)+4,u>>>=4,f-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=In;break}n.have=0,n.mode=Nb;case Nb:for(;n.have<n.ncode;){for(;f<3;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}n.lens[N[n.have++]]=u&7,u>>>=3,f-=3}for(;n.have<19;)n.lens[N[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,D={bits:n.lenbits},A=Zh(qF,n.lens,0,19,n.lencode,0,n.work,D),n.lenbits=D.bits,A){t.msg="invalid code lengths set",n.mode=In;break}n.have=0,n.mode=Pb;case Pb:for(;n.have<n.nlen+n.ndist;){for(;P=n.lencode[u&(1<<n.lenbits)-1],_=P>>>24,k=P>>>16&255,C=P&65535,!(_<=f);){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(C<16)u>>>=_,f-=_,n.lens[n.have++]=C;else{if(C===16){for(E=_+2;f<E;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(u>>>=_,f-=_,n.have===0){t.msg="invalid bit length repeat",n.mode=In;break}U=n.lens[n.have-1],p=3+(u&3),u>>>=2,f-=2}else if(C===17){for(E=_+3;f<E;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}u>>>=_,f-=_,U=0,p=3+(u&7),u>>>=3,f-=3}else{for(E=_+7;f<E;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}u>>>=_,f-=_,U=0,p=11+(u&127),u>>>=7,f-=7}if(n.have+p>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=In;break}for(;p--;)n.lens[n.have++]=U}}if(n.mode===In)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=In;break}if(n.lenbits=9,D={bits:n.lenbits},A=Zh(Zx,n.lens,0,n.nlen,n.lencode,0,n.work,D),n.lenbits=D.bits,A){t.msg="invalid literal/lengths set",n.mode=In;break}if(n.distbits=6,n.distcode=n.distdyn,D={bits:n.distbits},A=Zh(eI,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,D),n.distbits=D.bits,A){t.msg="invalid distances set",n.mode=In;break}if(n.mode=Qd,e===Yd)break e;case Qd:n.mode=Xd;case Xd:if(a>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=u,n.bits=f,FF(t,v),o=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,a=t.avail_in,u=n.hold,f=n.bits,n.mode===Do&&(n.back=-1);break}for(n.back=0;P=n.lencode[u&(1<<n.lenbits)-1],_=P>>>24,k=P>>>16&255,C=P&65535,!(_<=f);){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(k&&!(k&240)){for(j=_,Q=k,re=C;P=n.lencode[re+((u&(1<<j+Q)-1)>>j)],_=P>>>24,k=P>>>16&255,C=P&65535,!(j+_<=f);){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}u>>>=j,f-=j,n.back+=j}if(u>>>=_,f-=_,n.back+=_,n.length=C,k===0){n.mode=Db;break}if(k&32){n.back=-1,n.mode=Do;break}if(k&64){t.msg="invalid literal/length code",n.mode=In;break}n.extra=k&15,n.mode=Cb;case Cb:if(n.extra){for(E=n.extra;f<E;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,f-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Lb;case Lb:for(;P=n.distcode[u&(1<<n.distbits)-1],_=P>>>24,k=P>>>16&255,C=P&65535,!(_<=f);){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(!(k&240)){for(j=_,Q=k,re=C;P=n.distcode[re+((u&(1<<j+Q)-1)>>j)],_=P>>>24,k=P>>>16&255,C=P&65535,!(j+_<=f);){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}u>>>=j,f-=j,n.back+=j}if(u>>>=_,f-=_,n.back+=_,k&64){t.msg="invalid distance code",n.mode=In;break}n.offset=C,n.extra=k&15,n.mode=Rb;case Rb:if(n.extra){for(E=n.extra;f<E;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,f-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=In;break}n.mode=Ob;case Ob:if(l===0)break e;if(p=v-l,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=In;break}p>n.wnext?(p-=n.wnext,S=n.wsize-p):S=n.wnext-p,p>n.length&&(p=n.length),I=n.window}else I=i,S=o-n.offset,p=n.length;p>l&&(p=l),l-=p,n.length-=p;do i[o++]=I[S++];while(--p);n.length===0&&(n.mode=Xd);break;case Db:if(l===0)break e;i[o++]=n.length,l--,n.mode=Xd;break;case N0:if(n.wrap){for(;f<32;){if(a===0)break e;a--,u|=r[s++]<<f,f+=8}if(v-=l,t.total_out+=v,n.total+=v,n.wrap&4&&v&&(t.adler=n.check=n.flags?ro(n.check,i,v,o-v):S2(n.check,i,v,o-v)),v=l,n.wrap&4&&(n.flags?u:jb(u))!==n.check){t.msg="incorrect data check",n.mode=In;break}u=0,f=0}n.mode=Mb;case Mb:if(n.wrap&&n.flags){for(;f<32;){if(a===0)break e;a--,u+=r[s++]<<f,f+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=In;break}u=0,f=0}n.mode=Fb;case Fb:A=HF;break e;case In:A=tI;break e;case rI:return nI;case iI:default:return ws}return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=u,n.bits=f,(n.wsize||v!==t.avail_out&&n.mode<In&&(n.mode<N0||e!==gb))&&uI(t,t.output,t.next_out,v-t.avail_out),g-=t.avail_in,v-=t.avail_out,t.total_in+=g,t.total_out+=v,n.total+=v,n.wrap&4&&v&&(t.adler=n.check=n.flags?ro(n.check,i,v,t.next_out-v):S2(n.check,i,v,t.next_out-v)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Do?128:0)+(n.mode===Qd||n.mode===k0?256:0),(g===0&&v===0||e===gb)&&A===cu&&(A=GF),A},n9=t=>{if(wu(t))return ws;let e=t.state;return e.window&&(e.window=null),t.state=null,cu},r9=(t,e)=>{if(wu(t))return ws;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,cu):ws},i9=(t,e)=>{const n=e.length;let r,i,s;return wu(t)||(r=t.state,r.wrap!==0&&r.mode!==_g)?ws:r.mode===_g&&(i=1,i=S2(i,e,n,0),i!==r.check)?tI:(s=uI(t,e,n,n),s?(r.mode=rI,nI):(r.havedict=1,cu))};var s9=oI,o9=aI,a9=sI,l9=ZF,u9=lI,c9=t9,h9=n9,f9=r9,d9=i9,p9="pako inflate (from Nodeca project)",jo={inflateReset:s9,inflateReset2:o9,inflateResetKeep:a9,inflateInit:l9,inflateInit2:u9,inflate:c9,inflateEnd:h9,inflateGetHeader:f9,inflateSetDictionary:d9,inflateInfo:p9};function g9(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var m9=g9;const cI=Object.prototype.toString,{Z_NO_FLUSH:v9,Z_FINISH:y9,Z_OK:Lf,Z_STREAM_END:L0,Z_NEED_DICT:R0,Z_STREAM_ERROR:w9,Z_DATA_ERROR:Vb,Z_MEM_ERROR:_9}=Qx;function nd(t){this.options=Xx.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new DF,this.strm.avail_out=0;let n=jo.inflateInit2(this.strm,e.windowBits);if(n!==Lf)throw new Error(A2[n]);if(this.header=new m9,jo.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=x2.string2buf(e.dictionary):cI.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=jo.inflateSetDictionary(this.strm,e.dictionary),n!==Lf)))throw new Error(A2[n])}nd.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?y9:v9,cI.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=jo.inflate(n,o),s===R0&&i&&(s=jo.inflateSetDictionary(n,i),s===Lf?s=jo.inflate(n,o):s===Vb&&(s=R0));n.avail_in>0&&s===L0&&n.state.wrap>0&&t[n.next_in]!==0;)jo.inflateReset(n),s=jo.inflate(n,o);switch(s){case w9:case Vb:case R0:case _9:return this.onEnd(s),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||s===L0))if(this.options.to==="string"){let l=x2.utf8border(n.output,n.next_out),u=n.next_out-l,f=x2.buf2string(n.output,l);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(l,l+u),0),this.onData(f)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===Lf&&a===0)){if(s===L0)return s=jo.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};nd.prototype.onData=function(t){this.chunks.push(t)};nd.prototype.onEnd=function(t){t===Lf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Xx.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function b9(t,e){const n=new nd(e);if(n.push(t),n.err)throw n.msg||A2[n.err];return n.result}var E9=nd,S9=b9,A9={Inflate:E9,inflate:S9};const{Inflate:x9,inflate:I9}=A9;var Bb=x9,T9=I9;const hI=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;hI[t]=e}const zb=4294967295;function k9(t,e,n){let r=t;for(let i=0;i<n;i++)r=hI[(r^e[i])&255]^r>>>8;return r}function N9(t,e){return(k9(zb,t,e)^zb)>>>0}function qb(t,e,n){const r=t.readUint32(),i=N9(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function fI(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function dI(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function pI(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function gI(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(n[s]>>1)&255;for(;s<r;s++)e[s]=t[s]+(e[s-i]+n[s]>>1)&255}}function mI(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+n[s]&255;for(;s<r;s++)e[s]=t[s]+P9(e[s-i],n[s],n[s-i])&255}}function P9(t,e,n){const r=t+e-n,i=Math.abs(r-t),s=Math.abs(r-e),o=Math.abs(r-n);return i<=s&&i<=o?t:s<=o?e:n}function C9(t,e,n,r,i,s){switch(t){case 0:fI(e,n,i);break;case 1:dI(e,n,i,s);break;case 2:pI(e,n,r,i);break;case 3:gI(e,n,r,i,s);break;case 4:mI(e,n,r,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const L9=new Uint16Array([255]),R9=new Uint8Array(L9.buffer),O9=R9[0]===255;function D9(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(s/8)*i,l=new Uint8Array(r*n*a);let u=0;for(let f=0;f<7;f++){const g=o[f],v=Math.ceil((n-g.x)/g.xStep),p=Math.ceil((r-g.y)/g.yStep);if(v<=0||p<=0)continue;const S=v*a,I=new Uint8Array(S);for(let P=0;P<p;P++){const _=e[u++],k=e.subarray(u,u+S);u+=S;const C=new Uint8Array(S);C9(_,k,C,I,S,a),I.set(C);for(let j=0;j<v;j++){const Q=g.x+j*g.xStep,re=g.y+P*g.yStep;if(!(Q>=n||re>=r))for(let U=0;U<a;U++)l[(re*n+Q)*a+U]=C[j*a+U]}}}if(s===16){const f=new Uint16Array(l.buffer);if(O9)for(let g=0;g<f.length;g++)f[g]=M9(f[g]);return f}else return l}function M9(t){return(t&255)<<8|t>>8&255}const F9=new Uint16Array([255]),j9=new Uint8Array(F9.buffer),U9=j9[0]===255,V9=new Uint8Array(0);function Wb(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,o=Math.ceil(s/8)*i,a=Math.ceil(s/8*i*n),l=new Uint8Array(r*a);let u=V9,f=0,g,v;for(let p=0;p<r;p++){switch(g=e.subarray(f+1,f+1+a),v=l.subarray(p*a,(p+1)*a),e[f]){case 0:fI(g,v,a);break;case 1:dI(g,v,a,o);break;case 2:pI(g,v,u,a);break;case 3:gI(g,v,u,a,o);break;case 4:mI(g,v,u,a,o);break;default:throw new Error(`Unsupported filter: ${e[f]}`)}u=v,f+=a+1}if(s===16){const p=new Uint16Array(l.buffer);if(U9)for(let S=0;S<p.length;S++)p[S]=B9(p[S]);return p}else return l}function B9(t){return(t&255)<<8|t>>8&255}const Ip=Uint8Array.of(137,80,78,71,13,10,26,10);function Hb(t){if(!z9(t.readBytes(Ip.length)))throw new Error("wrong PNG signature")}function z9(t){if(t.length<Ip.length)return!1;for(let e=0;e<Ip.length;e++)if(t[e]!==Ip[e])return!1;return!0}const q9="tEXt",W9=0,vI=new TextDecoder("latin1");function H9(t){if(G9(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const $9=/^[\u0000-\u00FF]*$/;function G9(t){if(!$9.test(t))throw new Error("invalid latin1 text")}function K9(t,e,n){const r=yI(e);t[r]=Y9(e,n-r.length-1)}function yI(t){for(t.mark();t.readByte()!==W9;);const e=t.offset;t.reset();const n=vI.decode(t.readBytes(e-t.offset-1));return t.skip(1),H9(n),n}function Y9(t,e){return vI.decode(t.readBytes(e))}const Ui={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},O0={UNKNOWN:-1,DEFLATE:0},$b={UNKNOWN:-1,ADAPTIVE:0},D0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Jd={NONE:0,BACKGROUND:1,PREVIOUS:2},M0={SOURCE:0,OVER:1};class Q9 extends Ry{constructor(n,r={}){super(n);nn(this,"_checkCrc");nn(this,"_inflator");nn(this,"_png");nn(this,"_apng");nn(this,"_end");nn(this,"_hasPalette");nn(this,"_palette");nn(this,"_hasTransparency");nn(this,"_transparency");nn(this,"_compressionMethod");nn(this,"_filterMethod");nn(this,"_interlaceMethod");nn(this,"_colorType");nn(this,"_isAnimated");nn(this,"_numberOfFrames");nn(this,"_numberOfPlays");nn(this,"_frames");nn(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new Bb,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=O0.UNKNOWN,this._filterMethod=$b.UNKNOWN,this._interlaceMethod=D0.UNKNOWN,this._colorType=Ui.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Hb(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(Hb(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case q9:K9(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?qb(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?qb(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=X9(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case Ui.GREYSCALE:i=1;break;case Ui.TRUECOLOUR:i=3;break;case Ui.INDEXED_COLOUR:i=1;break;case Ui.GREYSCALE_ALPHA:i=2;break;case Ui.TRUECOLOUR_ALPHA:i=4;break;case Ui.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==O0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<r;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case Ui.GREYSCALE:case Ui.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case Ui.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Ui.UNKNOWN:case Ui.GREYSCALE_ALPHA:case Ui.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=yI(this),i=this.readUint8();if(i!==O0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:T9(s)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=Wb({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const s=this._apng.frames.at(n-1);this.disposeFrame(i,s,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case Jd.NONE:break;case Jd.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const a=(s*n.width+o)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[a+l]=0}break;case Jd.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,s=(o,a)=>{const l=((o+r.yOffset)*this._png.width+r.xOffset+a)*this._png.channels,u=(o*r.width+a)*this._png.channels;return{index:l,frameIndex:u}};switch(r.blendOp){case M0.SOURCE:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:u}=s(o,a);for(let f=0;f<this._png.channels;f++)n.data[l+f]=r.data[u+f]}break;case M0.OVER:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:u}=s(o,a);for(let f=0;f<this._png.channels;f++){const g=r.data[u+this._png.channels-1]/i,v=f%(this._png.channels-1)===0?1:r.data[u+f],p=Math.floor(g*v+(1-g)*n.data[l+f]);n.data[l+f]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==$b.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===D0.NO_INTERLACE)this._png.data=Wb({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===D0.ADAM7)this._png.data=D9({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Jd.NONE,blendOp:M0.SOURCE,data:n}),this._inflator=new Bb,this._writingDataChunks=!1}}function X9(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var Gb;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(Gb||(Gb={}));function J9(t,e){return new Q9(t,e).decode()}var gt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function F0(){gt.console&&typeof gt.console.log=="function"&&gt.console.log.apply(gt.console,arguments)}var dn={log:F0,warn:function(t){gt.console&&(typeof gt.console.warn=="function"?gt.console.warn.apply(gt.console,arguments):F0.call(null,arguments))},error:function(t){gt.console&&(typeof gt.console.error=="function"?gt.console.error.apply(gt.console,arguments):F0(t))}};function j0(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Fl(r.response,e,n)},r.onerror=function(){dn.error("could not download file")},r.send()}function Kb(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Zd(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Fl=gt.saveAs||((typeof window>"u"?"undefined":sn(window))!=="object"||window!==gt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=gt.URL||gt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?Kb(i.href)?j0(t,e,n):Zd(i,i.target="_blank"):Zd(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Zd(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(Kb(t))j0(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Zd(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:sn(s)!=="object"&&(dn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return j0(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(gt.HTMLElement)||gt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":sn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var f=a.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=f:location=f,r=null},a.readAsDataURL(t)}else{var l=gt.URL||gt.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function wI(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+a+l+u}}var Tp=gt.atob.bind(gt),Yb=gt.btoa.bind(gt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function U0(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=Hr(n,r,i,s,e[0],7,-680876936),s=Hr(s,n,r,i,e[1],12,-389564586),i=Hr(i,s,n,r,e[2],17,606105819),r=Hr(r,i,s,n,e[3],22,-1044525330),n=Hr(n,r,i,s,e[4],7,-176418897),s=Hr(s,n,r,i,e[5],12,1200080426),i=Hr(i,s,n,r,e[6],17,-1473231341),r=Hr(r,i,s,n,e[7],22,-45705983),n=Hr(n,r,i,s,e[8],7,1770035416),s=Hr(s,n,r,i,e[9],12,-1958414417),i=Hr(i,s,n,r,e[10],17,-42063),r=Hr(r,i,s,n,e[11],22,-1990404162),n=Hr(n,r,i,s,e[12],7,1804603682),s=Hr(s,n,r,i,e[13],12,-40341101),i=Hr(i,s,n,r,e[14],17,-1502002290),n=$r(n,r=Hr(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=$r(s,n,r,i,e[6],9,-1069501632),i=$r(i,s,n,r,e[11],14,643717713),r=$r(r,i,s,n,e[0],20,-373897302),n=$r(n,r,i,s,e[5],5,-701558691),s=$r(s,n,r,i,e[10],9,38016083),i=$r(i,s,n,r,e[15],14,-660478335),r=$r(r,i,s,n,e[4],20,-405537848),n=$r(n,r,i,s,e[9],5,568446438),s=$r(s,n,r,i,e[14],9,-1019803690),i=$r(i,s,n,r,e[3],14,-187363961),r=$r(r,i,s,n,e[8],20,1163531501),n=$r(n,r,i,s,e[13],5,-1444681467),s=$r(s,n,r,i,e[2],9,-51403784),i=$r(i,s,n,r,e[7],14,1735328473),n=Gr(n,r=$r(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Gr(s,n,r,i,e[8],11,-2022574463),i=Gr(i,s,n,r,e[11],16,1839030562),r=Gr(r,i,s,n,e[14],23,-35309556),n=Gr(n,r,i,s,e[1],4,-1530992060),s=Gr(s,n,r,i,e[4],11,1272893353),i=Gr(i,s,n,r,e[7],16,-155497632),r=Gr(r,i,s,n,e[10],23,-1094730640),n=Gr(n,r,i,s,e[13],4,681279174),s=Gr(s,n,r,i,e[0],11,-358537222),i=Gr(i,s,n,r,e[3],16,-722521979),r=Gr(r,i,s,n,e[6],23,76029189),n=Gr(n,r,i,s,e[9],4,-640364487),s=Gr(s,n,r,i,e[12],11,-421815835),i=Gr(i,s,n,r,e[15],16,530742520),n=Kr(n,r=Gr(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Kr(s,n,r,i,e[7],10,1126891415),i=Kr(i,s,n,r,e[14],15,-1416354905),r=Kr(r,i,s,n,e[5],21,-57434055),n=Kr(n,r,i,s,e[12],6,1700485571),s=Kr(s,n,r,i,e[3],10,-1894986606),i=Kr(i,s,n,r,e[10],15,-1051523),r=Kr(r,i,s,n,e[1],21,-2054922799),n=Kr(n,r,i,s,e[8],6,1873313359),s=Kr(s,n,r,i,e[15],10,-30611744),i=Kr(i,s,n,r,e[6],15,-1560198380),r=Kr(r,i,s,n,e[13],21,1309151649),n=Kr(n,r,i,s,e[4],6,-145523070),s=Kr(s,n,r,i,e[11],10,-1120210379),i=Kr(i,s,n,r,e[2],15,718787259),r=Kr(r,i,s,n,e[9],21,-343485551),t[0]=$a(n,t[0]),t[1]=$a(r,t[1]),t[2]=$a(i,t[2]),t[3]=$a(s,t[3])}function fm(t,e,n,r,i,s){return e=$a($a(e,t),$a(r,s)),$a(e<<i|e>>>32-i,n)}function Hr(t,e,n,r,i,s,o){return fm(e&n|~e&r,t,e,i,s,o)}function $r(t,e,n,r,i,s,o){return fm(e&r|n&~r,t,e,i,s,o)}function Gr(t,e,n,r,i,s,o){return fm(e^n^r,t,e,i,s,o)}function Kr(t,e,n,r,i,s,o){return fm(n^(e|~r),t,e,i,s,o)}function _I(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)U0(r,Z9(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(U0(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,U0(r,i),r}function Z9(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var Qb="0123456789abcdef".split("");function ej(t){for(var e="",n=0;n<4;n++)e+=Qb[t>>8*n+4&15]+Qb[t>>8*n&15];return e}function tj(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function I2(t){return _I(t).map(tj).join("")}var nj=function(t){for(var e=0;e<t.length;e++)t[e]=ej(t[e]);return t.join("")}(_I("hello"))!="5d41402abc4b2a76b9719d911017c592";function $a(t,e){if(nj){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function T2(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var u=0;for(l=0;l<256;l++){var f=a[l];u=(u+f+o.charCodeAt(l))%256,a[l]=a[u],a[u]=f}n=t,r=a}else a=r;var g=e.length,v=0,p=0,S="";for(l=0;l<g;l++)p=(p+(f=a[v=(v+1)%256]))%256,a[v]=a[p],a[p]=f,o=a[(a[v]+a[p])%256],S+=String.fromCharCode(e.charCodeAt(l)^o);return S}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Xb={print:4,modify:8,copy:16,"annot-forms":32};function qu(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(Xb.perm!==void 0)throw new Error("Invalid permission: "+a);i+=Xb[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=I2(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=T2(this.encryptionKey,this.padding)}function Wu(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function Jb(t){if(sn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(a){gt.console&&dn.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function bg(t){if(!(this instanceof bg))return new bg(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function bI(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Ul(t,e,n,r,i){if(!(this instanceof Ul))return new Ul(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,bI.call(this,r,i)}function rc(t,e,n,r,i){if(!(this instanceof rc))return new rc(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,bI.call(this,r,i)}function nt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,u="S",f=null;sn(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(f=t.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var g=t.putOnlyUsedFonts||!1,v={},p={internal:{},__private__:{}};p.__private__.PubSub=Jb;var S="1.3",I=p.__private__.getPdfVersion=function(){return S};p.__private__.setPdfVersion=function(m){S=m};var P={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return P};var _=p.__private__.getPageFormat=function(m){return P[m]};i=i||"a4";var k="compat",C="advanced",j=k;function Q(){this.saveGraphicsState(),W(new ut(yt,0,0,-yt,0,ss()*yt).toString()+" cm"),this.setFontSize(this.getFontSize()/yt),u="n",j=C}function re(){this.restoreGraphicsState(),u="S",j=k}var U=p.__private__.combineFontStyleAndFontWeight=function(m,R){if(m=="bold"&&R=="normal"||m=="bold"&&R==400||m=="normal"&&R=="italic"||m=="bold"&&R=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return R&&(m=R==400||R==="normal"?m==="italic"?"italic":"normal":R!=700&&R!=="bold"||m!=="normal"?(R==700?"bold":R)+""+m:"bold"),m};p.advancedAPI=function(m){var R=j===k;return R&&Q.call(this),typeof m!="function"||(m(this),R&&re.call(this)),this},p.compatAPI=function(m){var R=j===C;return R&&re.call(this),typeof m!="function"||(m(this),R&&Q.call(this)),this},p.isAdvancedAPI=function(){return j===C};var A,x=function(m){if(j!==C)throw new Error(m+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},D=p.roundToPrecision=p.__private__.roundToPrecision=function(m,R){var $=e||R;if(isNaN(m)||isNaN($))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return m.toFixed($).replace(/0+$/,"")};A=p.hpf=p.__private__.hpf=typeof l=="number"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return D(m,l)}:l==="smart"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return D(m,m>-1&&m<1?16:5)}:function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return D(m,16)};var E=p.f2=p.__private__.f2=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f2");return D(m,2)},N=p.__private__.f3=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f3");return D(m,3)},L=p.scale=p.__private__.scale=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.scale");return j===k?m*yt:j===C?m:void 0},X=function(m){return L(function(R){return j===k?ss()-R:j===C?R:void 0}(m))};p.__private__.setPrecision=p.setPrecision=function(m){typeof parseInt(m,10)=="number"&&(e=parseInt(m,10))};var pe,ve="00000000000000000000000000000000",ge=p.__private__.getFileId=function(){return ve},J=p.__private__.setFileId=function(m){return ve=m!==void 0&&/^[a-fA-F0-9]{32}$/.test(m)?m.toUpperCase():ve.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(cn=new qu(f.userPermissions,f.userPassword,f.ownerPassword,ve)),ve};p.setFileId=function(m){return J(m),this},p.getFileId=function(){return ge()};var le=p.__private__.convertDateToPDFDate=function(m){var R=m.getTimezoneOffset(),$=R<0?"+":"-",Z=Math.floor(Math.abs(R/60)),oe=Math.abs(R%60),Ee=[$,Y(Z),"'",Y(oe),"'"].join("");return["D:",m.getFullYear(),Y(m.getMonth()+1),Y(m.getDate()),Y(m.getHours()),Y(m.getMinutes()),Y(m.getSeconds()),Ee].join("")},_e=p.__private__.convertPDFDateToDate=function(m){var R=parseInt(m.substr(2,4),10),$=parseInt(m.substr(6,2),10)-1,Z=parseInt(m.substr(8,2),10),oe=parseInt(m.substr(10,2),10),Ee=parseInt(m.substr(12,2),10),Ie=parseInt(m.substr(14,2),10);return new Date(R,$,Z,oe,Ee,Ie,0)},we=p.__private__.setCreationDate=function(m){var R;if(m===void 0&&(m=new Date),m instanceof Date)R=le(m);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(m))throw new Error("Invalid argument passed to jsPDF.setCreationDate");R=m}return pe=R},M=p.__private__.getCreationDate=function(m){var R=pe;return m==="jsDate"&&(R=_e(pe)),R};p.setCreationDate=function(m){return we(m),this},p.getCreationDate=function(m){return M(m)};var H,Y=p.__private__.padd2=function(m){return("0"+parseInt(m)).slice(-2)},ee=p.__private__.padd2Hex=function(m){return("00"+(m=m.toString())).substr(m.length)},ie=0,ue=[],me=[],ye=0,Ae=[],Le=[],Ue=!1,je=me;p.__private__.setCustomOutputDestination=function(m){Ue=!0,je=m};var Je=function(m){Ue||(je=m)};p.__private__.resetCustomOutputDestination=function(){Ue=!1,je=me};var W=p.__private__.out=function(m){return m=m.toString(),ye+=m.length+1,je.push(m),je},Fe=p.__private__.write=function(m){return W(arguments.length===1?m.toString():Array.prototype.join.call(arguments," "))},xt=p.__private__.getArrayBuffer=function(m){for(var R=m.length,$=new ArrayBuffer(R),Z=new Uint8Array($);R--;)Z[R]=m.charCodeAt(R);return $},lt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return lt};var Ne=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(m){return Ne=j===C?m/yt:m,this};var rt,Ve=p.__private__.getFontSize=p.getFontSize=function(){return j===k?Ne:Ne*yt},st=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(m){return st=m,this},p.__private__.getR2L=p.getR2L=function(){return st};var et,zt=p.__private__.setZoomMode=function(m){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(m))rt=m;else if(isNaN(m)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(m)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+m+'" is not recognized.');rt=m}else rt=parseInt(m,10)};p.__private__.getZoomMode=function(){return rt};var Ct,Xe=p.__private__.setPageMode=function(m){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(m)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+m+'" is not recognized.');et=m};p.__private__.getPageMode=function(){return et};var ft=p.__private__.setLayoutMode=function(m){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(m)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+m+'" is not recognized.');Ct=m};p.__private__.getLayoutMode=function(){return Ct},p.__private__.setDisplayMode=p.setDisplayMode=function(m,R,$){return zt(m),ft(R),Xe($),this};var kt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(m){if(Object.keys(kt).indexOf(m)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return kt[m]},p.__private__.getDocumentProperties=function(){return kt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(m){for(var R in kt)kt.hasOwnProperty(R)&&m[R]&&(kt[R]=m[R]);return this},p.__private__.setDocumentProperty=function(m,R){if(Object.keys(kt).indexOf(m)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return kt[m]=R};var $e,yt,Ze,un,Dt,It={},St={},pn=[],it={},Qt={},ct={},mt={},Xt=null,Tt=0,ot=[],Lt=new Jb(p),qs=t.hotfixes||[],$n={},Xi={},Fr=[],ut=function m(R,$,Z,oe,Ee,Ie){if(!(this instanceof m))return new m(R,$,Z,oe,Ee,Ie);isNaN(R)&&(R=1),isNaN($)&&($=0),isNaN(Z)&&(Z=0),isNaN(oe)&&(oe=1),isNaN(Ee)&&(Ee=0),isNaN(Ie)&&(Ie=0),this._matrix=[R,$,Z,oe,Ee,Ie]};Object.defineProperty(ut.prototype,"sx",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(ut.prototype,"shy",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(ut.prototype,"shx",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(ut.prototype,"sy",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(ut.prototype,"tx",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(ut.prototype,"ty",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(ut.prototype,"a",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(ut.prototype,"b",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(ut.prototype,"c",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(ut.prototype,"d",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(ut.prototype,"e",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(ut.prototype,"f",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(ut.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ut.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ut.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ut.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ut.prototype.join=function(m){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(A).join(m)},ut.prototype.multiply=function(m){var R=m.sx*this.sx+m.shy*this.shx,$=m.sx*this.shy+m.shy*this.sy,Z=m.shx*this.sx+m.sy*this.shx,oe=m.shx*this.shy+m.sy*this.sy,Ee=m.tx*this.sx+m.ty*this.shx+this.tx,Ie=m.tx*this.shy+m.ty*this.sy+this.ty;return new ut(R,$,Z,oe,Ee,Ie)},ut.prototype.decompose=function(){var m=this.sx,R=this.shy,$=this.shx,Z=this.sy,oe=this.tx,Ee=this.ty,Ie=Math.sqrt(m*m+R*R),Be=(m/=Ie)*$+(R/=Ie)*Z;$-=m*Be,Z-=R*Be;var Ge=Math.sqrt($*$+Z*Z);return Be/=Ge,m*(Z/=Ge)<R*($/=Ge)&&(m=-m,R=-R,Be=-Be,Ie=-Ie),{scale:new ut(Ie,0,0,Ge,0,0),translate:new ut(1,0,0,1,oe,Ee),rotate:new ut(m,R,-R,m,0,0),skew:new ut(1,0,Be,1,0,0)}},ut.prototype.toString=function(m){return this.join(" ")},ut.prototype.inversed=function(){var m=this.sx,R=this.shy,$=this.shx,Z=this.sy,oe=this.tx,Ee=this.ty,Ie=1/(m*Z-R*$),Be=Z*Ie,Ge=-R*Ie,dt=-$*Ie,wt=m*Ie;return new ut(Be,Ge,dt,wt,-Be*oe-dt*Ee,-Ge*oe-wt*Ee)},ut.prototype.applyToPoint=function(m){var R=m.x*this.sx+m.y*this.shx+this.tx,$=m.x*this.shy+m.y*this.sy+this.ty;return new rs(R,$)},ut.prototype.applyToRectangle=function(m){var R=this.applyToPoint(m),$=this.applyToPoint(new rs(m.x+m.w,m.y+m.h));return new fa(R.x,R.y,$.x-R.x,$.y-R.y)},ut.prototype.clone=function(){var m=this.sx,R=this.shy,$=this.shx,Z=this.sy,oe=this.tx,Ee=this.ty;return new ut(m,R,$,Z,oe,Ee)},p.Matrix=ut;var yn=p.matrixMult=function(m,R){return R.multiply(m)},Ji=new ut(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Ji;var vr=function(m,R){if(!Qt[m]){var $=(R instanceof Ul?"Sh":"P")+(Object.keys(it).length+1).toString(10);R.id=$,Qt[m]=$,it[$]=R,Lt.publish("addPattern",R)}};p.ShadingPattern=Ul,p.TilingPattern=rc,p.addShadingPattern=function(m,R){return x("addShadingPattern()"),vr(m,R),this},p.beginTilingPattern=function(m){x("beginTilingPattern()"),Xs(m.boundingBox[0],m.boundingBox[1],m.boundingBox[2]-m.boundingBox[0],m.boundingBox[3]-m.boundingBox[1],m.matrix)},p.endTilingPattern=function(m,R){x("endTilingPattern()"),R.stream=Le[H].join(`
`),vr(m,R),Lt.publish("endTilingPattern",R),Fr.pop().restore()};var yr,An=p.__private__.newObject=function(){var m=rr();return xn(m,!0),m},rr=p.__private__.newObjectDeferred=function(){return ie++,ue[ie]=function(){return ye},ie},xn=function(m,R){return R=typeof R=="boolean"&&R,ue[m]=ye,R&&W(m+" 0 obj"),m},wo=p.__private__.newAdditionalObject=function(){var m={objId:rr(),content:""};return Ae.push(m),m},Ws=rr(),jr=rr(),Ii=p.__private__.decodeColorString=function(m){var R=m.split(" ");if(R.length!==2||R[1]!=="g"&&R[1]!=="G")R.length!==5||R[4]!=="k"&&R[4]!=="K"||(R=[(1-R[0])*(1-R[3]),(1-R[1])*(1-R[3]),(1-R[2])*(1-R[3]),"r"]);else{var $=parseFloat(R[0]);R=[$,$,$,"r"]}for(var Z="#",oe=0;oe<3;oe++)Z+=("0"+Math.floor(255*parseFloat(R[oe])).toString(16)).slice(-2);return Z},ti=p.__private__.encodeColorString=function(m){var R;typeof m=="string"&&(m={ch1:m});var $=m.ch1,Z=m.ch2,oe=m.ch3,Ee=m.ch4,Ie=m.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof $=="string"&&$.charAt(0)!=="#"){var Be=new wI($);if(Be.ok)$=Be.toHex();else if(!/^\d*\.?\d*$/.test($))throw new Error('Invalid color "'+$+'" passed to jsPDF.encodeColorString.')}if(typeof $=="string"&&/^#[0-9A-Fa-f]{3}$/.test($)&&($="#"+$[1]+$[1]+$[2]+$[2]+$[3]+$[3]),typeof $=="string"&&/^#[0-9A-Fa-f]{6}$/.test($)){var Ge=parseInt($.substr(1),16);$=Ge>>16&255,Z=Ge>>8&255,oe=255&Ge}if(Z===void 0||Ee===void 0&&$===Z&&Z===oe)R=typeof $=="string"?$+" "+Ie[0]:m.precision===2?E($/255)+" "+Ie[0]:N($/255)+" "+Ie[0];else if(Ee===void 0||sn(Ee)==="object"){if(Ee&&!isNaN(Ee.a)&&Ee.a===0)return["1.","1.","1.",Ie[1]].join(" ");R=typeof $=="string"?[$,Z,oe,Ie[1]].join(" "):m.precision===2?[E($/255),E(Z/255),E(oe/255),Ie[1]].join(" "):[N($/255),N(Z/255),N(oe/255),Ie[1]].join(" ")}else R=typeof $=="string"?[$,Z,oe,Ee,Ie[2]].join(" "):m.precision===2?[E($),E(Z),E(oe),E(Ee),Ie[2]].join(" "):[N($),N(Z),N(oe),N(Ee),Ie[2]].join(" ");return R},Ur=p.__private__.getFilters=function(){return o},Gn=p.__private__.putStream=function(m){var R=(m=m||{}).data||"",$=m.filters||Ur(),Z=m.alreadyAppliedFilters||[],oe=m.addLength1||!1,Ee=R.length,Ie=m.objectId,Be=function(Fn){return Fn};if(f!==null&&Ie===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Be=cn.encryptor(Ie,0));var Ge={};$===!0&&($=["FlateEncode"]);var dt=m.additionalKeyValues||[],wt=(Ge=nt.API.processDataByFilters!==void 0?nt.API.processDataByFilters(R,$):{data:R,reverseChain:[]}).reverseChain+(Array.isArray(Z)?Z.join(" "):Z.toString());if(Ge.data.length!==0&&(dt.push({key:"Length",value:Ge.data.length}),oe===!0&&dt.push({key:"Length1",value:Ee})),wt.length!=0)if(wt.split("/").length-1==1)dt.push({key:"Filter",value:wt});else{dt.push({key:"Filter",value:"["+wt+"]"});for(var Ft=0;Ft<dt.length;Ft+=1)if(dt[Ft].key==="DecodeParms"){for(var Yt=[],Nn=0;Nn<Ge.reverseChain.split("/").length-1;Nn+=1)Yt.push("null");Yt.push(dt[Ft].value),dt[Ft].value="["+Yt.join(" ")+"]"}}W("<<");for(var Zt=0;Zt<dt.length;Zt++)W("/"+dt[Zt].key+" "+dt[Zt].value);W(">>"),Ge.data.length!==0&&(W("stream"),W(Be(Ge.data)),W("endstream"))},Hs=p.__private__.putPage=function(m){var R=m.number,$=m.data,Z=m.objId,oe=m.contentsObjId;xn(Z,!0),W("<</Type /Page"),W("/Parent "+m.rootDictionaryObjId+" 0 R"),W("/Resources "+m.resourceDictionaryObjId+" 0 R"),W("/MediaBox ["+parseFloat(A(m.mediaBox.bottomLeftX))+" "+parseFloat(A(m.mediaBox.bottomLeftY))+" "+A(m.mediaBox.topRightX)+" "+A(m.mediaBox.topRightY)+"]"),m.cropBox!==null&&W("/CropBox ["+A(m.cropBox.bottomLeftX)+" "+A(m.cropBox.bottomLeftY)+" "+A(m.cropBox.topRightX)+" "+A(m.cropBox.topRightY)+"]"),m.bleedBox!==null&&W("/BleedBox ["+A(m.bleedBox.bottomLeftX)+" "+A(m.bleedBox.bottomLeftY)+" "+A(m.bleedBox.topRightX)+" "+A(m.bleedBox.topRightY)+"]"),m.trimBox!==null&&W("/TrimBox ["+A(m.trimBox.bottomLeftX)+" "+A(m.trimBox.bottomLeftY)+" "+A(m.trimBox.topRightX)+" "+A(m.trimBox.topRightY)+"]"),m.artBox!==null&&W("/ArtBox ["+A(m.artBox.bottomLeftX)+" "+A(m.artBox.bottomLeftY)+" "+A(m.artBox.topRightX)+" "+A(m.artBox.topRightY)+"]"),typeof m.userUnit=="number"&&m.userUnit!==1&&W("/UserUnit "+m.userUnit),Lt.publish("putPage",{objId:Z,pageContext:ot[R],pageNumber:R,page:$}),W("/Contents "+oe+" 0 R"),W(">>"),W("endobj");var Ee=$.join(`
`);return j===C&&(Ee+=`
Q`),xn(oe,!0),Gn({data:Ee,filters:Ur(),objectId:oe}),W("endobj"),Z},Ti=p.__private__.putPages=function(){var m,R,$=[];for(m=1;m<=Tt;m++)ot[m].objId=rr(),ot[m].contentsObjId=rr();for(m=1;m<=Tt;m++)$.push(Hs({number:m,data:Le[m],objId:ot[m].objId,contentsObjId:ot[m].contentsObjId,mediaBox:ot[m].mediaBox,cropBox:ot[m].cropBox,bleedBox:ot[m].bleedBox,trimBox:ot[m].trimBox,artBox:ot[m].artBox,userUnit:ot[m].userUnit,rootDictionaryObjId:Ws,resourceDictionaryObjId:jr}));xn(Ws,!0),W("<</Type /Pages");var Z="/Kids [";for(R=0;R<Tt;R++)Z+=$[R]+" 0 R ";W(Z+"]"),W("/Count "+Tt),W(">>"),W("endobj"),Lt.publish("postPutPages")},_s=function(m){Lt.publish("putFont",{font:m,out:W,newObject:An,putStream:Gn}),m.isAlreadyPutted!==!0&&(m.objectNumber=An(),W("<<"),W("/Type /Font"),W("/BaseFont /"+Wu(m.postScriptName)),W("/Subtype /Type1"),typeof m.encoding=="string"&&W("/Encoding /"+m.encoding),W("/FirstChar 32"),W("/LastChar 255"),W(">>"),W("endobj"))},$s=function(m){m.objectNumber=An();var R=[];R.push({key:"Type",value:"/XObject"}),R.push({key:"Subtype",value:"/Form"}),R.push({key:"BBox",value:"["+[A(m.x),A(m.y),A(m.x+m.width),A(m.y+m.height)].join(" ")+"]"}),R.push({key:"Matrix",value:"["+m.matrix.toString()+"]"});var $=m.pages[1].join(`
`);Gn({data:$,additionalKeyValues:R,objectId:m.objectNumber}),W("endobj")},_o=function(m,R){R||(R=21);var $=An(),Z=function(Ie,Be){var Ge,dt=[],wt=1/(Be-1);for(Ge=0;Ge<1;Ge+=wt)dt.push(Ge);if(dt.push(1),Ie[0].offset!=0){var Ft={offset:0,color:Ie[0].color};Ie.unshift(Ft)}if(Ie[Ie.length-1].offset!=1){var Yt={offset:1,color:Ie[Ie.length-1].color};Ie.push(Yt)}for(var Nn="",Zt=0,Fn=0;Fn<dt.length;Fn++){for(Ge=dt[Fn];Ge>Ie[Zt+1].offset;)Zt++;var Pn=Ie[Zt].offset,jn=(Ge-Pn)/(Ie[Zt+1].offset-Pn),Cn=Ie[Zt].color,mi=Ie[Zt+1].color;Nn+=ee(Math.round((1-jn)*Cn[0]+jn*mi[0]).toString(16))+ee(Math.round((1-jn)*Cn[1]+jn*mi[1]).toString(16))+ee(Math.round((1-jn)*Cn[2]+jn*mi[2]).toString(16))}return Nn.trim()}(m.colors,R),oe=[];oe.push({key:"FunctionType",value:"0"}),oe.push({key:"Domain",value:"[0.0 1.0]"}),oe.push({key:"Size",value:"["+R+"]"}),oe.push({key:"BitsPerSample",value:"8"}),oe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),oe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Gn({data:Z,additionalKeyValues:oe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:$}),W("endobj"),m.objectNumber=An(),W("<< /ShadingType "+m.type),W("/ColorSpace /DeviceRGB");var Ee="/Coords ["+A(parseFloat(m.coords[0]))+" "+A(parseFloat(m.coords[1]))+" ";m.type===2?Ee+=A(parseFloat(m.coords[2]))+" "+A(parseFloat(m.coords[3])):Ee+=A(parseFloat(m.coords[2]))+" "+A(parseFloat(m.coords[3]))+" "+A(parseFloat(m.coords[4]))+" "+A(parseFloat(m.coords[5])),W(Ee+="]"),m.matrix&&W("/Matrix ["+m.matrix.toString()+"]"),W("/Function "+$+" 0 R"),W("/Extend [true true]"),W(">>"),W("endobj")},bo=function(m,R){var $=rr(),Z=An();R.push({resourcesOid:$,objectOid:Z}),m.objectNumber=Z;var oe=[];oe.push({key:"Type",value:"/Pattern"}),oe.push({key:"PatternType",value:"1"}),oe.push({key:"PaintType",value:"1"}),oe.push({key:"TilingType",value:"1"}),oe.push({key:"BBox",value:"["+m.boundingBox.map(A).join(" ")+"]"}),oe.push({key:"XStep",value:A(m.xStep)}),oe.push({key:"YStep",value:A(m.yStep)}),oe.push({key:"Resources",value:$+" 0 R"}),m.matrix&&oe.push({key:"Matrix",value:"["+m.matrix.toString()+"]"}),Gn({data:m.stream,additionalKeyValues:oe,objectId:m.objectNumber}),W("endobj")},qc=function(m){for(var R in m.objectNumber=An(),W("<<"),m)switch(R){case"opacity":W("/ca "+E(m[R]));break;case"stroke-opacity":W("/CA "+E(m[R]))}W(">>"),W("endobj")},Gs=function(m){xn(m.resourcesOid,!0),W("<<"),W("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var R in W("/Font <<"),It)It.hasOwnProperty(R)&&(g===!1||g===!0&&v.hasOwnProperty(R))&&W("/"+R+" "+It[R].objectNumber+" 0 R");W(">>")}(),function(){if(Object.keys(it).length>0){for(var R in W("/Shading <<"),it)it.hasOwnProperty(R)&&it[R]instanceof Ul&&it[R].objectNumber>=0&&W("/"+R+" "+it[R].objectNumber+" 0 R");Lt.publish("putShadingPatternDict"),W(">>")}}(),function(R){if(Object.keys(it).length>0){for(var $ in W("/Pattern <<"),it)it.hasOwnProperty($)&&it[$]instanceof p.TilingPattern&&it[$].objectNumber>=0&&it[$].objectNumber<R&&W("/"+$+" "+it[$].objectNumber+" 0 R");Lt.publish("putTilingPatternDict"),W(">>")}}(m.objectOid),function(){if(Object.keys(ct).length>0){var R;for(R in W("/ExtGState <<"),ct)ct.hasOwnProperty(R)&&ct[R].objectNumber>=0&&W("/"+R+" "+ct[R].objectNumber+" 0 R");Lt.publish("putGStateDict"),W(">>")}}(),function(){for(var R in W("/XObject <<"),$n)$n.hasOwnProperty(R)&&$n[R].objectNumber>=0&&W("/"+R+" "+$n[R].objectNumber+" 0 R");Lt.publish("putXobjectDict"),W(">>")}(),W(">>"),W("endobj")},yl=function(m){St[m.fontName]=St[m.fontName]||{},St[m.fontName][m.fontStyle]=m.id},oa=function(m,R,$,Z,oe){var Ee={id:"F"+(Object.keys(It).length+1).toString(10),postScriptName:m,fontName:R,fontStyle:$,encoding:Z,isStandardFont:oe||!1,metadata:{}};return Lt.publish("addFont",{font:Ee,instance:this}),It[Ee.id]=Ee,yl(Ee),Ee.id},wr=p.__private__.pdfEscape=p.pdfEscape=function(m,R){return function($,Z){var oe,Ee,Ie,Be,Ge,dt,wt,Ft,Yt;if(Ie=(Z=Z||{}).sourceEncoding||"Unicode",Ge=Z.outputEncoding,(Z.autoencode||Ge)&&It[$e].metadata&&It[$e].metadata[Ie]&&It[$e].metadata[Ie].encoding&&(Be=It[$e].metadata[Ie].encoding,!Ge&&It[$e].encoding&&(Ge=It[$e].encoding),!Ge&&Be.codePages&&(Ge=Be.codePages[0]),typeof Ge=="string"&&(Ge=Be[Ge]),Ge)){for(wt=!1,dt=[],oe=0,Ee=$.length;oe<Ee;oe++)(Ft=Ge[$.charCodeAt(oe)])?dt.push(String.fromCharCode(Ft)):dt.push($[oe]),dt[oe].charCodeAt(0)>>8&&(wt=!0);$=dt.join("")}for(oe=$.length;wt===void 0&&oe!==0;)$.charCodeAt(oe-1)>>8&&(wt=!0),oe--;if(!wt)return $;for(dt=Z.noBOM?[]:[254,255],oe=0,Ee=$.length;oe<Ee;oe++){if((Yt=(Ft=$.charCodeAt(oe))>>8)>>8)throw new Error("Character at position "+oe+" of string '"+$+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");dt.push(Yt),dt.push(Ft-(Yt<<8))}return String.fromCharCode.apply(void 0,dt)}(m,R).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ki=p.__private__.beginPage=function(m){Le[++Tt]=[],ot[Tt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(m[0]),topRightY:Number(m[1])}},_l(Tt),Je(Le[H])},aa=function(m,R){var $,Z,oe;switch(n=R||n,typeof m=="string"&&($=_(m.toLowerCase()),Array.isArray($)&&(Z=$[0],oe=$[1])),Array.isArray(m)&&(Z=m[0]*yt,oe=m[1]*yt),isNaN(Z)&&(Z=i[0],oe=i[1]),(Z>14400||oe>14400)&&(dn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Z=Math.min(14400,Z),oe=Math.min(14400,oe)),i=[Z,oe],n.substr(0,1)){case"l":oe>Z&&(i=[oe,Z]);break;case"p":Z>oe&&(i=[oe,Z])}ki(i),ht(ua),W(Es),ln!==0&&W(ln+" J"),Il!==0&&W(Il+" j"),Lt.publish("addPage",{pageNumber:Tt})},wl=function(m){m>0&&m<=Tt&&(Le.splice(m,1),ot.splice(m,1),Tt--,H>Tt&&(H=Tt),this.setPage(H))},_l=function(m){m>0&&m<=Tt&&(H=m)},bl=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Le.length-1},El=function(m,R,$){var Z,oe=void 0;return $=$||{},m=m!==void 0?m:It[$e].fontName,R=R!==void 0?R:It[$e].fontStyle,Z=m.toLowerCase(),St[Z]!==void 0&&St[Z][R]!==void 0?oe=St[Z][R]:St[m]!==void 0&&St[m][R]!==void 0?oe=St[m][R]:$.disableWarning===!1&&dn.warn("Unable to look up font label for font '"+m+"', '"+R+"'. Refer to getFontList() for available fonts."),oe||$.noFallback||(oe=St.times[R])==null&&(oe=St.times.normal),oe},pi=p.__private__.putInfo=function(){var m=An(),R=function(Z){return Z};for(var $ in f!==null&&(R=cn.encryptor(m,0)),W("<<"),W("/Producer ("+wr(R("jsPDF "+nt.version))+")"),kt)kt.hasOwnProperty($)&&kt[$]&&W("/"+$.substr(0,1).toUpperCase()+$.substr(1)+" ("+wr(R(kt[$]))+")");W("/CreationDate ("+wr(R(pe))+")"),W(">>"),W("endobj")},Ks=p.__private__.putCatalog=function(m){var R=(m=m||{}).rootDictionaryObjId||Ws;switch(An(),W("<<"),W("/Type /Catalog"),W("/Pages "+R+" 0 R"),rt||(rt="fullwidth"),rt){case"fullwidth":W("/OpenAction [3 0 R /FitH null]");break;case"fullheight":W("/OpenAction [3 0 R /FitV null]");break;case"fullpage":W("/OpenAction [3 0 R /Fit]");break;case"original":W("/OpenAction [3 0 R /XYZ null null 1]");break;default:var $=""+rt;$.substr($.length-1)==="%"&&(rt=parseInt(rt)/100),typeof rt=="number"&&W("/OpenAction [3 0 R /XYZ null null "+E(rt)+"]")}switch(Ct||(Ct="continuous"),Ct){case"continuous":W("/PageLayout /OneColumn");break;case"single":W("/PageLayout /SinglePage");break;case"two":case"twoleft":W("/PageLayout /TwoColumnLeft");break;case"tworight":W("/PageLayout /TwoColumnRight")}et&&W("/PageMode /"+et),Lt.publish("putCatalog"),W(">>"),W("endobj")},bu=p.__private__.putTrailer=function(){W("trailer"),W("<<"),W("/Size "+(ie+1)),W("/Root "+ie+" 0 R"),W("/Info "+(ie-1)+" 0 R"),f!==null&&W("/Encrypt "+cn.oid+" 0 R"),W("/ID [ <"+ve+"> <"+ve+"> ]"),W(">>")},kn=p.__private__.putHeader=function(){W("%PDF-"+S),W("%")},Eu=p.__private__.putXRef=function(){var m="0000000000";W("xref"),W("0 "+(ie+1)),W("0000000000 65535 f ");for(var R=1;R<=ie;R++)typeof ue[R]=="function"?W((m+ue[R]()).slice(-10)+" 00000 n "):ue[R]!==void 0?W((m+ue[R]).slice(-10)+" 00000 n "):W("0000000000 00000 n ")},Zi=p.__private__.buildDocument=function(){var m;ie=0,ye=0,me=[],ue=[],Ae=[],Ws=rr(),jr=rr(),Je(me),Lt.publish("buildDocument"),kn(),Ti(),function(){Lt.publish("putAdditionalObjects");for(var $=0;$<Ae.length;$++){var Z=Ae[$];xn(Z.objId,!0),W(Z.content),W("endobj")}Lt.publish("postPutAdditionalObjects")}(),m=[],function(){for(var $ in It)It.hasOwnProperty($)&&(g===!1||g===!0&&v.hasOwnProperty($))&&_s(It[$])}(),function(){var $;for($ in ct)ct.hasOwnProperty($)&&qc(ct[$])}(),function(){for(var $ in $n)$n.hasOwnProperty($)&&$s($n[$])}(),function($){var Z;for(Z in it)it.hasOwnProperty(Z)&&(it[Z]instanceof Ul?_o(it[Z]):it[Z]instanceof rc&&bo(it[Z],$))}(m),Lt.publish("putResources"),m.forEach(Gs),Gs({resourcesOid:jr,objectOid:Number.MAX_SAFE_INTEGER}),Lt.publish("postPutResources"),f!==null&&(cn.oid=An(),W("<<"),W("/Filter /Standard"),W("/V "+cn.v),W("/R "+cn.r),W("/U <"+cn.toHexString(cn.U)+">"),W("/O <"+cn.toHexString(cn.O)+">"),W("/P "+cn.P),W(">>"),W("endobj")),pi(),Ks();var R=ye;return Eu(),bu(),W("startxref"),W(""+R),W("%%EOF"),Je(Le[H]),me.join(`
`)},Eo=p.__private__.getBlob=function(m){return new Blob([xt(m)],{type:"application/pdf"})},Sl=p.output=p.__private__.output=(yr=function(m,R){switch(typeof(R=R||{})=="string"?R={filename:R}:R.filename=R.filename||"generated.pdf",m){case void 0:return Zi();case"save":p.save(R.filename);break;case"arraybuffer":return xt(Zi());case"blob":return Eo(Zi());case"bloburi":case"bloburl":if(gt.URL!==void 0&&typeof gt.URL.createObjectURL=="function")return gt.URL&&gt.URL.createObjectURL(Eo(Zi()))||void 0;dn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var $="",Z=Zi();try{$=Yb(Z)}catch{$=Yb(unescape(encodeURIComponent(Z)))}return"data:application/pdf;filename="+R.filename+";base64,"+$;case"pdfobjectnewwindow":if(Object.prototype.toString.call(gt)==="[object Window]"){var oe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ee=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';R.pdfObjectUrl&&(oe=R.pdfObjectUrl,Ee="");var Ie='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+oe+'"'+Ee+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(R)+");<\/script></body></html>",Be=gt.open();return Be!==null&&Be.document.write(Ie),Be}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(gt)==="[object Window]"){var Ge='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(R.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+R.filename+'" width="500px" height="400px" /></body></html>',dt=gt.open();if(dt!==null){dt.document.write(Ge);var wt=this;dt.document.documentElement.querySelector("#pdfViewer").onload=function(){dt.document.title=R.filename,dt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(wt.output("bloburl"))}}return dt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(gt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ft='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",R)+'"></iframe></body></html>',Yt=gt.open();if(Yt!==null&&(Yt.document.write(Ft),Yt.document.title=R.filename),Yt||typeof safari>"u")return Yt;break;case"datauri":case"dataurl":return gt.document.location.href=this.output("datauristring",R);default:return null}},yr.foo=function(){try{return yr.apply(this,arguments)}catch($){var m=$.stack||"";~m.indexOf(" at ")&&(m=m.split(" at ")[1]);var R="Error in function "+m.split(`
`)[0].split("<")[0]+": "+$.message;if(!gt.console)throw new Error(R);gt.console.error(R,$),gt.alert&&alert(R)}},yr.foo.bar=yr,yr.foo),gi=function(m){return Array.isArray(qs)===!0&&qs.indexOf(m)>-1};switch(r){case"pt":yt=1;break;case"mm":yt=72/25.4;break;case"cm":yt=72/2.54;break;case"in":yt=72;break;case"px":yt=gi("px_scaling")==1?.75:96/72;break;case"pc":case"em":yt=12;break;case"ex":yt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);yt=r}var cn=null;we(),J();var lr=p.__private__.getPageInfo=p.getPageInfo=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ot[m].objId,pageNumber:m,pageContext:ot[m]}},So=p.__private__.getPageInfoByObjId=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var R in ot)if(ot[R].objId===m)break;return lr(R)},la=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:ot[H].objId,pageNumber:H,pageContext:ot[H]}};p.addPage=function(){return aa.apply(this,arguments),this},p.setPage=function(){return _l.apply(this,arguments),Je.call(this,Le[H]),this},p.insertPage=function(m){return this.addPage(),this.movePage(H,m),this},p.movePage=function(m,R){var $,Z;if(m>R){$=Le[m],Z=ot[m];for(var oe=m;oe>R;oe--)Le[oe]=Le[oe-1],ot[oe]=ot[oe-1];Le[R]=$,ot[R]=Z,this.setPage(R)}else if(m<R){$=Le[m],Z=ot[m];for(var Ee=m;Ee<R;Ee++)Le[Ee]=Le[Ee+1],ot[Ee]=ot[Ee+1];Le[R]=$,ot[R]=Z,this.setPage(R)}return this},p.deletePage=function(){return wl.apply(this,arguments),this},p.__private__.text=p.text=function(m,R,$,Z,oe){var Ee,Ie,Be,Ge,dt,wt,Ft,Yt,Nn,Zt=(Z=Z||{}).scope||this;if(typeof m=="number"&&typeof R=="number"&&(typeof $=="string"||Array.isArray($))){var Fn=$;$=R,R=m,m=Fn}if(arguments[3]instanceof ut==0?(Be=arguments[4],Ge=arguments[5],sn(Ft=arguments[3])==="object"&&Ft!==null||(typeof Be=="string"&&(Ge=Be,Be=null),typeof Ft=="string"&&(Ge=Ft,Ft=null),typeof Ft=="number"&&(Be=Ft,Ft=null),Z={flags:Ft,angle:Be,align:Ge})):(x("The transform parameter of text() with a Matrix value"),Nn=oe),isNaN(R)||isNaN($)||m==null)throw new Error("Invalid arguments passed to jsPDF.text");if(m.length===0)return Zt;var Pn,jn="",Cn=typeof Z.lineHeightFactor=="number"?Z.lineHeightFactor:Qs,mi=Zt.internal.scaleFactor;function os(Jt){return Jt=Jt.split("	").join(Array(Z.TabLen||9).join(" ")),wr(Jt,Ft)}function as(Jt){for(var hn,Yn=Jt.concat(),ur=[],No=Yn.length;No--;)typeof(hn=Yn.shift())=="string"?ur.push(hn):Array.isArray(Jt)&&(hn.length===1||hn[1]===void 0&&hn[2]===void 0)?ur.push(hn[0]):ur.push([hn[0],hn[1],hn[2]]);return ur}function h(Jt,hn){var Yn;if(typeof Jt=="string")Yn=hn(Jt)[0];else if(Array.isArray(Jt)){for(var ur,No,rh=Jt.concat(),Pu=[],id=rh.length;id--;)typeof(ur=rh.shift())=="string"?Pu.push(hn(ur)[0]):Array.isArray(ur)&&typeof ur[0]=="string"&&(No=hn(ur[0],ur[1],ur[2]),Pu.push([No[0],No[1],No[2]]));Yn=Pu}return Yn}var w=!1,T=!0;if(typeof m=="string")w=!0;else if(Array.isArray(m)){var z=m.concat();Ie=[];for(var ae,de=z.length;de--;)(typeof(ae=z.shift())!="string"||Array.isArray(ae)&&typeof ae[0]!="string")&&(T=!1);w=T}if(w===!1)throw new Error('Type of text must be string or Array. "'+m+'" is not recognized.');typeof m=="string"&&(m=m.match(/[\r?\n]/)?m.split(/\r\n|\r|\n/g):[m]);var De=Ne/Zt.internal.scaleFactor,Ut=De*(Cn-1);switch(Z.baseline){case"bottom":$-=Ut;break;case"top":$+=De-Ut;break;case"hanging":$+=De-2*Ut;break;case"middle":$+=De/2-Ut}if((wt=Z.maxWidth||0)>0&&(typeof m=="string"?m=Zt.splitTextToSize(m,wt):Object.prototype.toString.call(m)==="[object Array]"&&(m=m.reduce(function(Jt,hn){return Jt.concat(Zt.splitTextToSize(hn,wt))},[]))),Ee={text:m,x:R,y:$,options:Z,mutex:{pdfEscape:wr,activeFontKey:$e,fonts:It,activeFontSize:Ne}},Lt.publish("preProcessText",Ee),m=Ee.text,Be=(Z=Ee.options).angle,Nn instanceof ut==0&&Be&&typeof Be=="number"){Be*=Math.PI/180,Z.rotationDirection===0&&(Be=-Be),j===C&&(Be=-Be);var Ln=Math.cos(Be),Rt=Math.sin(Be);Nn=new ut(Ln,Rt,-Rt,Ln,0,0)}else Be&&Be instanceof ut&&(Nn=Be);j!==C||Nn||(Nn=Ji),(dt=Z.charSpace||ns)!==void 0&&(jn+=A(L(dt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Yt=Z.horizontalScale)!==void 0&&(jn+=A(100*Yt)+` Tz
`),Z.lang;var Gt=-1,gn=Z.renderingMode!==void 0?Z.renderingMode:Z.stroke,Pi=Zt.internal.getCurrentPageInfo().pageContext;switch(gn){case 0:case!1:case"fill":Gt=0;break;case 1:case!0:case"stroke":Gt=1;break;case 2:case"fillThenStroke":Gt=2;break;case 3:case"invisible":Gt=3;break;case 4:case"fillAndAddForClipping":Gt=4;break;case 5:case"strokeAndAddPathForClipping":Gt=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Gt=6;break;case 7:case"addToPathForClipping":Gt=7}var Vr=Pi.usedRenderingMode!==void 0?Pi.usedRenderingMode:-1;Gt!==-1?jn+=Gt+` Tr
`:Vr!==-1&&(jn+=`0 Tr
`),Gt!==-1&&(Pi.usedRenderingMode=Gt),Ge=Z.align||"left";var Ir,Ss=Ne*Cn,Qc=Zt.internal.pageSize.getWidth(),Xc=It[$e];dt=Z.charSpace||ns,wt=Z.maxWidth||0,Ft=Object.assign({autoencode:!0,noBOM:!0},Z.flags);var pa=[],Nl=function(Jt){return Zt.getStringUnitWidth(Jt,{font:Xc,charSpace:dt,fontSize:Ne,doKerning:!1})*Ne/mi};if(Object.prototype.toString.call(m)==="[object Array]"){var Ci;Ie=as(m),Ge!=="left"&&(Ir=Ie.map(Nl));var Li,ga=0;if(Ge==="right"){R-=Ir[0],m=[],de=Ie.length;for(var ko=0;ko<de;ko++)ko===0?(Li=_r(R),Ci=bs($)):(Li=L(ga-Ir[ko]),Ci=-Ss),m.push([Ie[ko],Li,Ci]),ga=Ir[ko]}else if(Ge==="center"){R-=Ir[0]/2,m=[],de=Ie.length;for(var ma=0;ma<de;ma++)ma===0?(Li=_r(R),Ci=bs($)):(Li=L((ga-Ir[ma])/2),Ci=-Ss),m.push([Ie[ma],Li,Ci]),ga=Ir[ma]}else if(Ge==="left"){m=[],de=Ie.length;for(var Jc=0;Jc<de;Jc++)m.push(Ie[Jc])}else if(Ge==="justify"&&Xc.encoding==="Identity-H"){m=[],de=Ie.length,wt=wt!==0?wt:Qc;for(var Nu=0,Kn=0;Kn<de;Kn++)if(Ci=Kn===0?bs($):-Ss,Li=Kn===0?_r(R):Nu,Kn<de-1){var rd=L((wt-Ir[Kn])/(Ie[Kn].split(" ").length-1)),Zs=Ie[Kn].split(" ");m.push([Zs[0]+" ",Li,Ci]),Nu=0;for(var eo=1;eo<Zs.length;eo++){var Zc=(Nl(Zs[eo-1]+" "+Zs[eo])-Nl(Zs[eo]))*mi+rd;eo==Zs.length-1?m.push([Zs[eo],Zc,0]):m.push([Zs[eo]+" ",Zc,0]),Nu-=Zc}}else m.push([Ie[Kn],Li,Ci]);m.push(["",Nu,0])}else{if(Ge!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(m=[],de=Ie.length,wt=wt!==0?wt:Qc,Kn=0;Kn<de;Kn++){Ci=Kn===0?bs($):-Ss,Li=Kn===0?_r(R):0;var eh=Ie[Kn].split(" ").length-1,th=eh>0?(wt-Ir[Kn])/eh:0;Kn<de-1?pa.push(A(L(th))):pa.push(0),m.push([Ie[Kn],Li,Ci])}}}(typeof Z.R2L=="boolean"?Z.R2L:st)===!0&&(m=h(m,function(Jt,hn,Yn){return[Jt.split("").reverse().join(""),hn,Yn]})),Ee={text:m,x:R,y:$,options:Z,mutex:{pdfEscape:wr,activeFontKey:$e,fonts:It,activeFontSize:Ne}},Lt.publish("postProcessText",Ee),m=Ee.text,Pn=Ee.mutex.isHex||!1;var nh=It[$e].encoding;nh!=="WinAnsiEncoding"&&nh!=="StandardEncoding"||(m=h(m,function(Jt,hn,Yn){return[os(Jt),hn,Yn]})),Ie=as(m),m=[];for(var va,ya,wa,Pl=Array.isArray(Ie[0])?1:0,_a="",Cl=function(Jt,hn,Yn){var ur="";return Yn instanceof ut?(Yn=typeof Z.angle=="number"?yn(Yn,new ut(1,0,0,1,Jt,hn)):yn(new ut(1,0,0,1,Jt,hn),Yn),j===C&&(Yn=yn(new ut(1,0,0,-1,0,0),Yn)),ur=Yn.join(" ")+` Tm
`):ur=A(Jt)+" "+A(hn)+` Td
`,ur},ls=0;ls<Ie.length;ls++){switch(_a="",Pl){case 1:wa=(Pn?"<":"(")+Ie[ls][0]+(Pn?">":")"),va=parseFloat(Ie[ls][1]),ya=parseFloat(Ie[ls][2]);break;case 0:wa=(Pn?"<":"(")+Ie[ls]+(Pn?">":")"),va=_r(R),ya=bs($)}pa!==void 0&&pa[ls]!==void 0&&(_a=pa[ls]+` Tw
`),ls===0?m.push(_a+Cl(va,ya,Nn)+wa):Pl===0?m.push(_a+wa):Pl===1&&m.push(_a+Cl(va,ya,Nn)+wa)}m=Pl===0?m.join(` Tj
T* `):m.join(` Tj
`),m+=` Tj
`;var to=`BT
/`;return to+=$e+" "+Ne+` Tf
`,to+=A(Ne*Cn)+` TL
`,to+=Ni+`
`,to+=jn,to+=m,W(to+="ET"),v[$e]=!0,Zt};var Su=p.__private__.clip=p.clip=function(m){return W(m==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Su("evenodd")},p.__private__.discardPath=p.discardPath=function(){return W("n"),this};var Mt=p.__private__.isValidStyle=function(m){var R=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(m)!==-1&&(R=!0),R};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(m){return Mt(m)&&(u=m),this};var Ao=p.__private__.getStyle=p.getStyle=function(m){var R=u;switch(m){case"D":case"S":R="S";break;case"F":R="f";break;case"FD":case"DF":R="B";break;case"f":case"f*":case"B":case"B*":R=m}return R},Ys=p.close=function(){return W("h"),this};p.stroke=function(){return W("S"),this},p.fill=function(m){return es("f",m),this},p.fillEvenOdd=function(m){return es("f*",m),this},p.fillStroke=function(m){return es("B",m),this},p.fillStrokeEvenOdd=function(m){return es("B*",m),this};var es=function(m,R){sn(R)==="object"?Wc(R,m):W(m)},xo=function(m){m===null||j===C&&m===void 0||(m=Ao(m),W(m))};function Au(m,R,$,Z,oe){var Ee=new rc(R||this.boundingBox,$||this.xStep,Z||this.yStep,this.gState,oe||this.matrix);Ee.stream=this.stream;var Ie=m+"$$"+this.cloneIndex+++"$$";return vr(Ie,Ee),Ee}var Wc=function(m,R){var $=Qt[m.key],Z=it[$];if(Z instanceof Ul)W("q"),W(Hc(R)),Z.gState&&p.setGState(Z.gState),W(m.matrix.toString()+" cm"),W("/"+$+" sh"),W("Q");else if(Z instanceof rc){var oe=new ut(1,0,0,-1,0,ss());m.matrix&&(oe=oe.multiply(m.matrix||Ji),$=Au.call(Z,m.key,m.boundingBox,m.xStep,m.yStep,oe).id),W("q"),W("/Pattern cs"),W("/"+$+" scn"),Z.gState&&p.setGState(Z.gState),W(R),W("Q")}},Hc=function(m){switch(m){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Al=p.moveTo=function(m,R){return W(A(L(m))+" "+A(X(R))+" m"),this},xu=p.lineTo=function(m,R){return W(A(L(m))+" "+A(X(R))+" l"),this},xr=p.curveTo=function(m,R,$,Z,oe,Ee){return W([A(L(m)),A(X(R)),A(L($)),A(X(Z)),A(L(oe)),A(X(Ee)),"c"].join(" ")),this};p.__private__.line=p.line=function(m,R,$,Z,oe){if(isNaN(m)||isNaN(R)||isNaN($)||isNaN(Z)||!Mt(oe))throw new Error("Invalid arguments passed to jsPDF.line");return j===k?this.lines([[$-m,Z-R]],m,R,[1,1],oe||"S"):this.lines([[$-m,Z-R]],m,R,[1,1]).stroke()},p.__private__.lines=p.lines=function(m,R,$,Z,oe,Ee){var Ie,Be,Ge,dt,wt,Ft,Yt,Nn,Zt,Fn,Pn,jn;if(typeof m=="number"&&(jn=$,$=R,R=m,m=jn),Z=Z||[1,1],Ee=Ee||!1,isNaN(R)||isNaN($)||!Array.isArray(m)||!Array.isArray(Z)||!Mt(oe)||typeof Ee!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Al(R,$),Ie=Z[0],Be=Z[1],dt=m.length,Fn=R,Pn=$,Ge=0;Ge<dt;Ge++)(wt=m[Ge]).length===2?(Fn=wt[0]*Ie+Fn,Pn=wt[1]*Be+Pn,xu(Fn,Pn)):(Ft=wt[0]*Ie+Fn,Yt=wt[1]*Be+Pn,Nn=wt[2]*Ie+Fn,Zt=wt[3]*Be+Pn,Fn=wt[4]*Ie+Fn,Pn=wt[5]*Be+Pn,xr(Ft,Yt,Nn,Zt,Fn,Pn));return Ee&&Ys(),xo(oe),this},p.path=function(m){for(var R=0;R<m.length;R++){var $=m[R],Z=$.c;switch($.op){case"m":Al(Z[0],Z[1]);break;case"l":xu(Z[0],Z[1]);break;case"c":xr.apply(this,Z);break;case"h":Ys()}}return this},p.__private__.rect=p.rect=function(m,R,$,Z,oe){if(isNaN(m)||isNaN(R)||isNaN($)||isNaN(Z)||!Mt(oe))throw new Error("Invalid arguments passed to jsPDF.rect");return j===k&&(Z=-Z),W([A(L(m)),A(X(R)),A(L($)),A(L(Z)),"re"].join(" ")),xo(oe),this},p.__private__.triangle=p.triangle=function(m,R,$,Z,oe,Ee,Ie){if(isNaN(m)||isNaN(R)||isNaN($)||isNaN(Z)||isNaN(oe)||isNaN(Ee)||!Mt(Ie))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[$-m,Z-R],[oe-$,Ee-Z],[m-oe,R-Ee]],m,R,[1,1],Ie,!0),this},p.__private__.roundedRect=p.roundedRect=function(m,R,$,Z,oe,Ee,Ie){if(isNaN(m)||isNaN(R)||isNaN($)||isNaN(Z)||isNaN(oe)||isNaN(Ee)||!Mt(Ie))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Be=4/3*(Math.SQRT2-1);return oe=Math.min(oe,.5*$),Ee=Math.min(Ee,.5*Z),this.lines([[$-2*oe,0],[oe*Be,0,oe,Ee-Ee*Be,oe,Ee],[0,Z-2*Ee],[0,Ee*Be,-oe*Be,Ee,-oe,Ee],[2*oe-$,0],[-oe*Be,0,-oe,-Ee*Be,-oe,-Ee],[0,2*Ee-Z],[0,-Ee*Be,oe*Be,-Ee,oe,-Ee]],m+oe,R,[1,1],Ie,!0),this},p.__private__.ellipse=p.ellipse=function(m,R,$,Z,oe){if(isNaN(m)||isNaN(R)||isNaN($)||isNaN(Z)||!Mt(oe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ee=4/3*(Math.SQRT2-1)*$,Ie=4/3*(Math.SQRT2-1)*Z;return Al(m+$,R),xr(m+$,R-Ie,m+Ee,R-Z,m,R-Z),xr(m-Ee,R-Z,m-$,R-Ie,m-$,R),xr(m-$,R+Ie,m-Ee,R+Z,m,R+Z),xr(m+Ee,R+Z,m+$,R+Ie,m+$,R),xo(oe),this},p.__private__.circle=p.circle=function(m,R,$,Z){if(isNaN(m)||isNaN(R)||isNaN($)||!Mt(Z))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(m,R,$,$,Z)},p.setFont=function(m,R,$){return $&&(R=U(R,$)),$e=El(m,R,{disableWarning:!1}),this};var ts=p.__private__.getFont=p.getFont=function(){return It[El.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var m,R,$={};for(m in St)if(St.hasOwnProperty(m))for(R in $[m]=[],St[m])St[m].hasOwnProperty(R)&&$[m].push(R);return $},p.addFont=function(m,R,$,Z,oe){var Ee=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ee.indexOf(arguments[3])!==-1?oe=arguments[3]:arguments[3]&&Ee.indexOf(arguments[3])==-1&&($=U($,Z)),oa.call(this,m,R,$,oe=oe||"Identity-H")};var Qs,ua=t.lineWidth||.200025,Iu=p.__private__.getLineWidth=p.getLineWidth=function(){return ua},ht=p.__private__.setLineWidth=p.setLineWidth=function(m){return ua=m,W(A(L(m))+" w"),this};p.__private__.setLineDash=nt.API.setLineDash=nt.API.setLineDashPattern=function(m,R){if(m=m||[],R=R||0,isNaN(R)||!Array.isArray(m))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return m=m.map(function($){return A(L($))}).join(" "),R=A(L(R)),W("["+m+"] "+R+" d"),this};var $c=p.__private__.getLineHeight=p.getLineHeight=function(){return Ne*Qs};p.__private__.getLineHeight=p.getLineHeight=function(){return Ne*Qs};var Gc=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(m){return typeof(m=m||1.15)=="number"&&(Qs=m),this},Kc=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Qs};Gc(t.lineHeight);var _r=p.__private__.getHorizontalCoordinate=function(m){return L(m)},bs=p.__private__.getVerticalCoordinate=function(m){return j===C?m:ot[H].mediaBox.topRightY-ot[H].mediaBox.bottomLeftY-L(m)},Yc=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(m){return A(_r(m))},ca=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(m){return A(bs(m))},Es=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Ii(Es)},p.__private__.setStrokeColor=p.setDrawColor=function(m,R,$,Z){return Es=ti({ch1:m,ch2:R,ch3:$,ch4:Z,pdfColorType:"draw",precision:2}),W(Es),this};var ha=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Ii(ha)},p.__private__.setFillColor=p.setFillColor=function(m,R,$,Z){return ha=ti({ch1:m,ch2:R,ch3:$,ch4:Z,pdfColorType:"fill",precision:2}),W(ha),this};var Ni=t.textColor||"0 g",Io=p.__private__.getTextColor=p.getTextColor=function(){return Ii(Ni)};p.__private__.setTextColor=p.setTextColor=function(m,R,$,Z){return Ni=ti({ch1:m,ch2:R,ch3:$,ch4:Z,pdfColorType:"text",precision:3}),this};var ns=t.charSpace,xl=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(ns||0)};p.__private__.setCharSpace=p.setCharSpace=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ns=m,this};var ln=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(m){var R=p.CapJoinStyles[m];if(R===void 0)throw new Error("Line cap style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ln=R,W(R+" J"),this};var Il=0;p.__private__.setLineJoin=p.setLineJoin=function(m){var R=p.CapJoinStyles[m];if(R===void 0)throw new Error("Line join style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Il=R,W(R+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(m){if(m=m||0,isNaN(m))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return W(A(L(m))+" M"),this},p.GState=bg,p.setGState=function(m){(m=typeof m=="string"?ct[mt[m]]:Tu(null,m)).equals(Xt)||(W("/"+m.id+" gs"),Xt=m)};var Tu=function(m,R){if(!m||!mt[m]){var $=!1;for(var Z in ct)if(ct.hasOwnProperty(Z)&&ct[Z].equals(R)){$=!0;break}if($)R=ct[Z];else{var oe="GS"+(Object.keys(ct).length+1).toString(10);ct[oe]=R,R.id=oe}return m&&(mt[m]=R.id),Lt.publish("addGState",R),R}};p.addGState=function(m,R){return Tu(m,R),this},p.saveGraphicsState=function(){return W("q"),pn.push({key:$e,size:Ne,color:Ni}),this},p.restoreGraphicsState=function(){W("Q");var m=pn.pop();return $e=m.key,Ne=m.size,Ni=m.color,Xt=null,this},p.setCurrentTransformationMatrix=function(m){return W(m.toString()+" cm"),this},p.comment=function(m){return W("#"+m),this};var rs=function(m,R){var $=m||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return $},set:function(Ee){isNaN(Ee)||($=parseFloat(Ee))}});var Z=R||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Z},set:function(Ee){isNaN(Ee)||(Z=parseFloat(Ee))}});var oe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return oe},set:function(Ee){oe=Ee.toString()}}),this},fa=function(m,R,$,Z){rs.call(this,m,R),this.type="rect";var oe=$||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return oe},set:function(Ie){isNaN(Ie)||(oe=parseFloat(Ie))}});var Ee=Z||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ee},set:function(Ie){isNaN(Ie)||(Ee=parseFloat(Ie))}}),this},To=function(){this.page=Tt,this.currentPage=H,this.pages=Le.slice(0),this.pagesContext=ot.slice(0),this.x=Ze,this.y=un,this.matrix=Dt,this.width=ni(H),this.height=ku(H),this.outputDestination=je,this.id="",this.objectNumber=-1};To.prototype.restore=function(){Tt=this.page,H=this.currentPage,ot=this.pagesContext,Le=this.pages,Ze=this.x,un=this.y,Dt=this.matrix,Tl(H,this.width),ri(H,this.height),je=this.outputDestination};var Xs=function(m,R,$,Z,oe){Fr.push(new To),Tt=H=0,Le=[],Ze=m,un=R,Dt=oe,ki([$,Z])};for(var Js in p.beginFormObject=function(m,R,$,Z,oe){return Xs(m,R,$,Z,oe),this},p.endFormObject=function(m){return function(R){if(Xi[R])Fr.pop().restore();else{var $=new To,Z="Xo"+(Object.keys($n).length+1).toString(10);$.id=Z,Xi[R]=Z,$n[Z]=$,Lt.publish("addFormObject",$),Fr.pop().restore()}}(m),this},p.doFormObject=function(m,R){var $=$n[Xi[m]];return W("q"),W(R.toString()+" cm"),W("/"+$.id+" Do"),W("Q"),this},p.getFormObject=function(m){var R=$n[Xi[m]];return{x:R.x,y:R.y,width:R.width,height:R.height,matrix:R.matrix}},p.save=function(m,R){return m=m||"generated.pdf",(R=R||{}).returnPromise=R.returnPromise||!1,R.returnPromise===!1?(Fl(Eo(Zi()),m),typeof Fl.unload=="function"&&gt.setTimeout&&setTimeout(Fl.unload,911),this):new Promise(function($,Z){try{var oe=Fl(Eo(Zi()),m);typeof Fl.unload=="function"&&gt.setTimeout&&setTimeout(Fl.unload,911),$(oe)}catch(Ee){Z(Ee.message)}})},nt.API)nt.API.hasOwnProperty(Js)&&(Js==="events"&&nt.API.events.length?function(m,R){var $,Z,oe;for(oe=R.length-1;oe!==-1;oe--)$=R[oe][0],Z=R[oe][1],m.subscribe.apply(m,[$].concat(typeof Z=="function"?[Z]:Z))}(Lt,nt.API.events):p[Js]=nt.API[Js]);function ni(m){return ot[m].mediaBox.topRightX-ot[m].mediaBox.bottomLeftX}function Tl(m,R){ot[m].mediaBox.topRightX=R+ot[m].mediaBox.bottomLeftX}function ku(m){return ot[m].mediaBox.topRightY-ot[m].mediaBox.bottomLeftY}function ri(m,R){ot[m].mediaBox.topRightY=R+ot[m].mediaBox.bottomLeftY}var is=p.getPageWidth=function(m){return ni(m=m||H)/yt},da=p.setPageWidth=function(m,R){Tl(m,R*yt)},ss=p.getPageHeight=function(m){return ku(m=m||H)/yt},kl=p.setPageHeight=function(m,R){ri(m,R*yt)};return p.internal={pdfEscape:wr,getStyle:Ao,getFont:ts,getFontSize:Ve,getCharSpace:xl,getTextColor:Io,getLineHeight:$c,getLineHeightFactor:Kc,getLineWidth:Iu,write:Fe,getHorizontalCoordinate:_r,getVerticalCoordinate:bs,getCoordinateString:Yc,getVerticalCoordinateString:ca,collections:{},newObject:An,newAdditionalObject:wo,newObjectDeferred:rr,newObjectDeferredBegin:xn,getFilters:Ur,putStream:Gn,events:Lt,scaleFactor:yt,pageSize:{getWidth:function(){return is(H)},setWidth:function(m){da(H,m)},getHeight:function(){return ss(H)},setHeight:function(m){kl(H,m)}},encryptionOptions:f,encryption:cn,getEncryptor:function(m){return f!==null?cn.encryptor(m,0):function(R){return R}},output:Sl,getNumberOfPages:bl,get pages(){return Le},out:W,f2:E,f3:N,getPageInfo:lr,getPageInfoByObjId:So,getCurrentPageInfo:la,getPDFVersion:I,Point:rs,Rectangle:fa,Matrix:ut,hasHotfix:gi},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return is(H)},set:function(m){da(H,m)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return ss(H)},set:function(m){kl(H,m)},enumerable:!0,configurable:!0}),(function(m){for(var R=0,$=lt.length;R<$;R++){var Z=oa.call(this,m[R][0],m[R][1],m[R][2],lt[R][3],!0);g===!1&&(v[Z]=!0);var oe=m[R][0].split("-");yl({id:Z,fontName:oe[0],fontStyle:oe[1]||""})}Lt.publish("addFonts",{fonts:It,dictionary:St})}).call(p,lt),$e="F1",aa(i,n),Lt.publish("initialized"),p}qu.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},qu.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},qu.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},qu.prototype.processOwnerPassword=function(t,e){return T2(I2(e).substr(0,5),t)},qu.prototype.encryptor=function(t,e){var n=I2(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return T2(n,r)}},bg.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||sn(t)!==sn(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},nt.API={events:[]},nt.version="3.0.4";var Bn=nt.API,Oy=1,_u=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Du=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},_t=function(t){return t.toFixed(2)},Pa=function(t){return t.toFixed(5)};Bn.__acroform__={};var xi=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Zb=function(t){return t*Oy},io=function(t){var e=new SI,n=He.internal.getHeight(t)||0,r=He.internal.getWidth(t)||0;return e.BBox=[0,0,Number(_t(r)),Number(_t(n))],e},rj=Bn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},ij=Bn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},sj=Bn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},er=Bn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return sj(t,e-1)},tr=Bn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return rj(t,e-1)},nr=Bn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return ij(t,e-1)},oj=Bn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(_t(l.lowerLeft_X)),Number(_t(l.lowerLeft_Y)),Number(_t(l.upperRight_X)),Number(_t(l.upperRight_Y))]},aj=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=k2(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+_t(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=io(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},k2=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(E){return E.split(`
`)}):i.map(function(E){return[E]});var s=n,o=He.internal.getHeight(t)||0;o=o<0?-o:o;var a=He.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(E,N,L){if(E+1<i.length){var X=N+" "+i[E+1][0];return ep(X,t,L).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var u,f,g=ep("3",t,s).height,v=t.multiline?o-s:(o-g)/2,p=v+=2,S=0,I=0,P=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+ep(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var _="",k=0,C=0;C<i.length;C++)if(i.hasOwnProperty(C)){var j=!1;if(i[C].length!==1&&P!==i[C].length-1){if((g+2)*(k+2)+2>o)continue e;_+=i[C][P],j=!0,I=C,C--}else{_=(_+=i[C][P]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var Q=parseInt(C),re=l(Q,_,s),U=C>=i.length-1;if(re&&!U){_+=" ",P=0;continue}if(re||U){if(U)I=Q;else if(t.multiline&&(g+2)*(k+2)+2>o)continue e}else{if(!t.multiline||(g+2)*(k+2)+2>o)continue e;I=Q}}for(var A="",x=S;x<=I;x++){var D=i[x];if(t.multiline){if(x===I){A+=D[P]+" ",P=(P+1)%D.length;continue}if(x===S){A+=D[D.length-1]+" ";continue}}A+=D[0]+" "}switch(A=A.substr(A.length-1)==" "?A.substr(0,A.length-1):A,f=ep(A,t,s).width,t.textAlign){case"right":u=a-f-2;break;case"center":u=(a-f)/2;break;default:u=2}e+=_t(u)+" "+_t(p)+` Td
`,e+="("+_u(A)+`) Tj
`,e+=-_t(u)+` 0 Td
`,p=-(s+2),f=0,S=j?I:I+1,k++,_=""}break}return r.text=e,r.fontSize=s,r},ep=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},lj={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},uj=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},cj=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Bs.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(lj)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Oy=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new AI,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&uj(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],u=a.Rect;if(a.Rect&&(a.Rect=oj(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=He.createDefaultAppearanceStream(a),sn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=u,a.hasAppearanceStream&&!a.appearanceStreamContent){var f=aj(a);l.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(a.appearanceStreamContent){var g="";for(var v in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(v)){var p=a.appearanceStreamContent[v];if(g+="/"+v+" ",g+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var S=p[o];typeof S=="function"&&(S=S.call(i,a)),g+="/"+o+" "+S+" ",i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S)}}else typeof(S=p)=="function"&&(S=S.call(i,a)),g+="/"+o+" "+S,i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S);g+=">>"}l.push({key:"AP",value:`<<
`+g+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&function(I,P){for(var _ in I)if(I.hasOwnProperty(_)){var k=_,C=I[_];P.internal.newObjectDeferredBegin(C.objId,!0),sn(C)==="object"&&typeof C.putStream=="function"&&C.putStream(),delete I[k]}}(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},EI=Bn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),sn(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+_u(r(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},V0=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+_u(r(t))+")"},lo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};lo.prototype.toString=function(){return this.objId+" 0 R"},lo.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},lo.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:EI(i,this.objId,this.scope)}):i instanceof lo?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var SI=function(){lo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};xi(SI,lo);var AI=function(){lo.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+_u(n(t))+")"}},set:function(n){t=n}})};xi(AI,lo);var Bs=function t(){lo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');e=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!er(e,3)},set:function(_){_?this.F=tr(e,3):this.F=nr(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');n=_}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(_){r=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(_){r[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(_){r[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(_){r[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(_){r[3]=_}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Eg)return;s="FieldObject"+t.FieldNum++}var _=function(k){return k};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+_u(_(s))+")"},set:function(_){s=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(_){s=_}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(_){o=_}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(_){a=_}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(_){l=_}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/Oy:u},set:function(_){u=_}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(_){f=_}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof Eg||this instanceof Ql))return V0(g,this.objId,this.scope)},set:function(_){_=_.toString(),g=_}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Sr==0?V0(v,this.objId,this.scope):v},set:function(_){_=_.toString(),v=this instanceof Sr==0?_.substr(0,1)==="("?Du(_.substr(1,_.length-2)):Du(_):_}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Sr==1?Du(v.substr(1,v.length-1)):v},set:function(_){_=_.toString(),v=this instanceof Sr==1?"/"+_:_}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Sr==0?V0(p,this.objId,this.scope):p},set:function(_){_=_.toString(),p=this instanceof Sr==0?_.substr(0,1)==="("?Du(_.substr(1,_.length-2)):Du(_):_}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Sr==1?Du(p.substr(1,p.length-1)):p},set:function(_){_=_.toString(),p=this instanceof Sr==1?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var S,I=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return I},set:function(_){_=!!_,I=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(S)return S},set:function(_){S=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,1)},set:function(_){_?this.Ff=tr(this.Ff,1):this.Ff=nr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,2)},set:function(_){_?this.Ff=tr(this.Ff,2):this.Ff=nr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,3)},set:function(_){_?this.Ff=tr(this.Ff,3):this.Ff=nr(this.Ff,3)}});var P=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(P!==null)return P},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');P=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(P){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:P=2;break;case"center":case 1:P=1;break;default:P=0}}})};xi(Bs,lo);var pc=function(){Bs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return EI(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,u=[];l=o.exec(s);)u.push(l[a]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,18)},set:function(n){n?this.Ff=tr(this.Ff,18):this.Ff=nr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=tr(this.Ff,19):this.Ff=nr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,20)},set:function(n){n?(this.Ff=tr(this.Ff,20),e.sort()):this.Ff=nr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,22)},set:function(n){n?this.Ff=tr(this.Ff,22):this.Ff=nr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,23)},set:function(n){n?this.Ff=tr(this.Ff,23):this.Ff=nr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,27)},set:function(n){n?this.Ff=tr(this.Ff,27):this.Ff=nr(this.Ff,27)}}),this.hasAppearanceStream=!1};xi(pc,Bs);var gc=function(){pc.call(this),this.fontName="helvetica",this.combo=!1};xi(gc,pc);var mc=function(){gc.call(this),this.combo=!0};xi(mc,gc);var kp=function(){mc.call(this),this.edit=!0};xi(kp,mc);var Sr=function(){Bs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,15)},set:function(n){n?this.Ff=tr(this.Ff,15):this.Ff=nr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,16)},set:function(n){n?this.Ff=tr(this.Ff,16):this.Ff=nr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,17)},set:function(n){n?this.Ff=tr(this.Ff,17):this.Ff=nr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,26)},set:function(n){n?this.Ff=tr(this.Ff,26):this.Ff=nr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+_u(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){sn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};xi(Sr,Bs);var Np=function(){Sr.call(this),this.pushButton=!0};xi(Np,Sr);var vc=function(){Sr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};xi(vc,Sr);var Eg=function(){var t,e;Bs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+_u(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){sn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=He.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};xi(Eg,Bs),vc.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},vc.prototype.createOption=function(t){var e=new Eg;return e.Parent=this,e.optionName=t,this.Kids.push(e),hj.call(this.scope,e),e};var Pp=function(){Sr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=He.CheckBox.createAppearanceStream()};xi(Pp,Sr);var Ql=function(){Bs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,13)},set:function(e){e?this.Ff=tr(this.Ff,13):this.Ff=nr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,21)},set:function(e){e?this.Ff=tr(this.Ff,21):this.Ff=nr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,23)},set:function(e){e?this.Ff=tr(this.Ff,23):this.Ff=nr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,24)},set:function(e){e?this.Ff=tr(this.Ff,24):this.Ff=nr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,25)},set:function(e){e?this.Ff=tr(this.Ff,25):this.Ff=nr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,26)},set:function(e){e?this.Ff=tr(this.Ff,26):this.Ff=nr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};xi(Ql,Bs);var Cp=function(){Ql.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!er(this.Ff,14)},set:function(t){t?this.Ff=tr(this.Ff,14):this.Ff=nr(this.Ff,14)}}),this.password=!0};xi(Cp,Ql);var He={CheckBox:{createAppearanceStream:function(){return{N:{On:He.CheckBox.YesNormal},D:{On:He.CheckBox.YesPushDown,Off:He.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=io(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=k2(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+_t(He.internal.getWidth(t))+" "+_t(He.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+_t(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=io(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=He.internal.getHeight(t),o=He.internal.getWidth(t),a=k2(t,t.caption);return i.push("1 g"),i.push("0 0 "+_t(o)+" "+_t(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+_t(o-1)+" "+_t(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+_t(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=io(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+_t(He.internal.getWidth(t))+" "+_t(He.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:He.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=He.RadioButton.Circle.YesNormal,e.D[t]=He.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=io(t);e.scope=t.scope;var n=[],r=He.internal.getWidth(t)<=He.internal.getHeight(t)?He.internal.getWidth(t)/4:He.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=He.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Pa(He.internal.getWidth(t)/2)+" "+Pa(He.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=io(t);e.scope=t.scope;var n=[],r=He.internal.getWidth(t)<=He.internal.getHeight(t)?He.internal.getWidth(t)/4:He.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*He.internal.Bezier_C).toFixed(5)),o=Number((r*He.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Pa(He.internal.getWidth(t)/2)+" "+Pa(He.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Pa(He.internal.getWidth(t)/2)+" "+Pa(He.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=io(t);e.scope=t.scope;var n=[],r=He.internal.getWidth(t)<=He.internal.getHeight(t)?He.internal.getWidth(t)/4:He.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*He.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Pa(He.internal.getWidth(t)/2)+" "+Pa(He.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:He.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=He.RadioButton.Cross.YesNormal,e.D[t]=He.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=io(t);e.scope=t.scope;var n=[],r=He.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+_t(He.internal.getWidth(t)-2)+" "+_t(He.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(_t(r.x1.x)+" "+_t(r.x1.y)+" m"),n.push(_t(r.x2.x)+" "+_t(r.x2.y)+" l"),n.push(_t(r.x4.x)+" "+_t(r.x4.y)+" m"),n.push(_t(r.x3.x)+" "+_t(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=io(t);e.scope=t.scope;var n=He.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+_t(He.internal.getWidth(t))+" "+_t(He.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+_t(He.internal.getWidth(t)-2)+" "+_t(He.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(_t(n.x1.x)+" "+_t(n.x1.y)+" m"),r.push(_t(n.x2.x)+" "+_t(n.x2.y)+" l"),r.push(_t(n.x4.x)+" "+_t(n.x4.y)+" m"),r.push(_t(n.x3.x)+" "+_t(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=io(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+_t(He.internal.getWidth(t))+" "+_t(He.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};He.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=He.internal.getWidth(t),n=He.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},He.internal.getWidth=function(t){var e=0;return sn(t)==="object"&&(e=Zb(t.Rect[2])),e},He.internal.getHeight=function(t){var e=0;return sn(t)==="object"&&(e=Zb(t.Rect[3])),e};var hj=Bn.addField=function(t){if(cj(this,t),!(t instanceof Bs))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Bn.AcroFormChoiceField=pc,Bn.AcroFormListBox=gc,Bn.AcroFormComboBox=mc,Bn.AcroFormEditBox=kp,Bn.AcroFormButton=Sr,Bn.AcroFormPushButton=Np,Bn.AcroFormRadioButton=vc,Bn.AcroFormCheckBox=Pp,Bn.AcroFormTextField=Ql,Bn.AcroFormPasswordField=Cp,Bn.AcroFormAppearance=He,Bn.AcroForm={ChoiceField:pc,ListBox:gc,ComboBox:mc,EditBox:kp,Button:Sr,PushButton:Np,RadioButton:vc,CheckBox:Pp,TextField:Ql,PasswordField:Cp,Appearance:He},nt.AcroForm={ChoiceField:pc,ListBox:gc,ComboBox:mc,EditBox:kp,Button:Sr,PushButton:Np,RadioButton:vc,CheckBox:Pp,TextField:Ql,PasswordField:Cp,Appearance:He};nt.AcroForm;function xI(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(E,N){var L,X,pe,ve,ge,J=n;if((N=N||n)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(re(E))for(ge in r)for(pe=r[ge],L=0;L<pe.length;L+=1){for(ve=!0,X=0;X<pe[L].length;X+=1)if(pe[L][X]!==void 0&&pe[L][X]!==E[X]){ve=!1;break}if(ve===!0){J=ge;break}}else for(ge in r)for(pe=r[ge],L=0;L<pe.length;L+=1){for(ve=!0,X=0;X<pe[L].length;X+=1)if(pe[L][X]!==void 0&&pe[L][X]!==E.charCodeAt(X)){ve=!1;break}if(ve===!0){J=ge;break}}return J===n&&N!==n&&(J=N),J},s=function E(N){for(var L=this.internal.write,X=this.internal.putStream,pe=(0,this.internal.getFilters)();pe.indexOf("FlateEncode")!==-1;)pe.splice(pe.indexOf("FlateEncode"),1);N.objectId=this.internal.newObject();var ve=[];if(ve.push({key:"Type",value:"/XObject"}),ve.push({key:"Subtype",value:"/Image"}),ve.push({key:"Width",value:N.width}),ve.push({key:"Height",value:N.height}),N.colorSpace===_.INDEXED?ve.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(N.palette.length/3-1)+" "+("sMask"in N&&N.sMask!==void 0?N.objectId+2:N.objectId+1)+" 0 R]"}):(ve.push({key:"ColorSpace",value:"/"+N.colorSpace}),N.colorSpace===_.DEVICE_CMYK&&ve.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ve.push({key:"BitsPerComponent",value:N.bitsPerComponent}),"decodeParameters"in N&&N.decodeParameters!==void 0&&ve.push({key:"DecodeParms",value:"<<"+N.decodeParameters+">>"}),"transparency"in N&&Array.isArray(N.transparency)&&N.transparency.length>0){for(var ge="",J=0,le=N.transparency.length;J<le;J++)ge+=N.transparency[J]+" "+N.transparency[J]+" ";ve.push({key:"Mask",value:"["+ge+"]"})}N.sMask!==void 0&&ve.push({key:"SMask",value:N.objectId+1+" 0 R"});var _e=N.filter!==void 0?["/"+N.filter]:void 0;if(X({data:N.data,additionalKeyValues:ve,alreadyAppliedFilters:_e,objectId:N.objectId}),L("endobj"),"sMask"in N&&N.sMask!==void 0){var we,M=(we=N.sMaskBitsPerComponent)!==null&&we!==void 0?we:N.bitsPerComponent,H={width:N.width,height:N.height,colorSpace:"DeviceGray",bitsPerComponent:M,data:N.sMask};"filter"in N&&(H.decodeParameters="/Predictor ".concat(N.predictor," /Colors 1 /BitsPerComponent ").concat(M," /Columns ").concat(N.width),H.filter=N.filter),E.call(this,H)}if(N.colorSpace===_.INDEXED){var Y=this.internal.newObject();X({data:A(new Uint8Array(N.palette)),objectId:Y}),L("endobj")}},o=function(){var E=this.internal.collections[e+"images"];for(var N in E)s.call(this,E[N])},a=function(){var E,N=this.internal.collections[e+"images"],L=this.internal.write;for(var X in N)L("/I"+(E=N[X]).index,E.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},u=function(){var E=this.internal.collections[e+"images"];return l.call(this),E},f=function(){return Object.keys(this.internal.collections[e+"images"]).length},g=function(E){return typeof t["process"+E.toUpperCase()]=="function"},v=function(E){return sn(E)==="object"&&E.nodeType===1},p=function(E,N){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var L=""+E.getAttribute("src");if(L.indexOf("data:image/")===0)return Tp(unescape(L).split("base64,").pop());var X=t.loadFile(L,!0);if(X!==void 0)return X}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var pe;switch(N){case"PNG":pe="image/png";break;case"WEBP":pe="image/webp";break;default:pe="image/jpeg"}return Tp(E.toDataURL(pe,1).split("base64,").pop())}},S=function(E){var N=this.internal.collections[e+"images"];if(N){for(var L in N)if(E===N[L].alias)return N[L]}},I=function(E,N,L){return E||N||(E=-96,N=-96),E<0&&(E=-1*L.width*72/E/this.internal.scaleFactor),N<0&&(N=-1*L.height*72/N/this.internal.scaleFactor),E===0&&(E=N*L.width/L.height),N===0&&(N=E*L.height/L.width),[E,N]},P=function(E,N,L,X,pe,ve){var ge=I.call(this,L,X,pe),J=this.internal.getCoordinateString,le=this.internal.getVerticalCoordinateString,_e=u.call(this);if(L=ge[0],X=ge[1],_e[pe.index]=pe,ve){ve*=Math.PI/180;var we=Math.cos(ve),M=Math.sin(ve),H=function(ee){return ee.toFixed(4)},Y=[H(we),H(M),H(-1*M),H(we),0,0,"cm"]}this.internal.write("q"),ve?(this.internal.write([1,"0","0",1,J(E),le(N+X),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([J(L),"0","0",J(X),"0","0","cm"].join(" "))):this.internal.write([J(L),"0","0",J(X),J(E),le(N+X),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+pe.index+" Do"),this.internal.write("Q")},_=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var k=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=t.__addimage__.sHashCode=function(E){var N,L,X=0;if(typeof E=="string")for(L=E.length,N=0;N<L;N++)X=(X<<5)-X+E.charCodeAt(N),X|=0;else if(re(E))for(L=E.byteLength/2,N=0;N<L;N++)X=(X<<5)-X+E[N],X|=0;return X},j=t.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var N=!0;return E.length===0&&(N=!1),E.length%4!=0&&(N=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(N=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(N=!1),N},Q=t.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var N=E.indexOf(",");return N<0?null:E.substring(0,N).trim().endsWith("base64")?E.substring(N+1):null};t.__addimage__.isArrayBuffer=function(E){return E instanceof ArrayBuffer};var re=t.__addimage__.isArrayBufferView=function(E){return E instanceof Int8Array||E instanceof Uint8Array||E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array},U=t.__addimage__.binaryStringToUint8Array=function(E){for(var N=E.length,L=new Uint8Array(N),X=0;X<N;X++)L[X]=E.charCodeAt(X);return L},A=t.__addimage__.arrayBufferToBinaryString=function(E){for(var N="",L=re(E)?E:new Uint8Array(E),X=0;X<L.length;X+=8192)N+=String.fromCharCode.apply(null,L.subarray(X,X+8192));return N};t.addImage=function(){var E,N,L,X,pe,ve,ge,J,le;if(typeof arguments[1]=="number"?(N=n,L=arguments[1],X=arguments[2],pe=arguments[3],ve=arguments[4],ge=arguments[5],J=arguments[6],le=arguments[7]):(N=arguments[1],L=arguments[2],X=arguments[3],pe=arguments[4],ve=arguments[5],ge=arguments[6],J=arguments[7],le=arguments[8]),sn(E=arguments[0])==="object"&&!v(E)&&"imageData"in E){var _e=E;E=_e.imageData,N=_e.format||N||n,L=_e.x||L||0,X=_e.y||X||0,pe=_e.w||_e.width||pe,ve=_e.h||_e.height||ve,ge=_e.alias||ge,J=_e.compression||J,le=_e.rotation||_e.angle||le}var we=this.internal.getFilters();if(J===void 0&&we.indexOf("FlateEncode")!==-1&&(J="SLOW"),isNaN(L)||isNaN(X))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var M=x.call(this,E,N,ge,J);return P.call(this,L,X,pe,ve,M,le),this};var x=function(E,N,L,X){var pe,ve,ge;if(typeof E=="string"&&i(E)===n){E=unescape(E);var J=D(E,!1);(J!==""||(J=t.loadFile(E,!0))!==void 0)&&(E=J)}if(v(E)&&(E=p(E,N)),N=i(E,N),!g(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(((ge=L)==null||ge.length===0)&&(L=function(le){return typeof le=="string"||re(le)?C(le):re(le.data)?C(le.data):null}(E)),(pe=S.call(this,L))||(E instanceof Uint8Array||N==="RGBA"||(ve=E,E=U(E)),pe=this["process"+N.toUpperCase()](E,f.call(this),L,function(le){return le&&typeof le=="string"&&(le=le.toUpperCase()),le in t.image_compression?le:k.NONE}(X),ve)),!pe)throw new Error("An unknown error occurred whilst processing the image.");return pe},D=t.__addimage__.convertBase64ToBinaryString=function(E,N){N=typeof N!="boolean"||N;var L,X="";if(typeof E=="string"){var pe;L=(pe=Q(E))!==null&&pe!==void 0?pe:E;try{X=Tp(L)}catch(ve){if(N)throw j(L)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ve.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return X};t.getImageProperties=function(E){var N,L,X="";if(v(E)&&(E=p(E)),typeof E=="string"&&i(E)===n&&((X=D(E,!1))===""&&(X=t.loadFile(E)||""),E=X),L=i(E),!g(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(E instanceof Uint8Array||(E=U(E)),!(N=this["process"+L.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return N.fileType=L,N}})(nt.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};nt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,f=!1,g=0;g<u.length&&!f;g++)switch((r=u[g]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var v=0;v<u.length;v++){r=u[v];var p=this.internal.pdfEscape,S=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var I=this.internal.newAdditionalObject(),P=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(I.objId),k=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+p(_(r.contents))+")",s+=" /Popup "+P.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(_(k))+") >>",I.content=s;var C=I.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+C,r.open&&(s+=" /Open true"),s+=" >>",P.content=s,this.internal.write(I.objId,"0 R",P.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var j=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(S(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var Q=this.annotations._nameMap[r.options.name];r.options.pageNumber=Q.page,r.options.top=Q.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(S(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var re=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+re+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var f=this.splitTextToSize(n,a).length;o=Math.ceil(u*f)}else a=l,o=u;return this.text(n,r,i,s),i+=.2*u,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-u,a,o,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(nt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(I){return e[I.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(I){return typeof I=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(I)},a=t.__arabicParser__.isArabicEndLetter=function(I){return o(I)&&s(I)&&e[I.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(I){return o(I)&&i.indexOf(I.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(I){return o(I)&&s(I)&&e[I.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(I){return o(I)&&s(I)&&e[I.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(I){return o(I)&&s(I)&&e[I.charCodeAt(0)].length>=3};var f=t.__arabicParser__.arabicLetterHasMedialForm=function(I){return o(I)&&s(I)&&e[I.charCodeAt(0)].length==4},g=t.__arabicParser__.resolveLigatures=function(I){var P=0,_=n,k="",C=0;for(P=0;P<I.length;P+=1)_[I.charCodeAt(P)]!==void 0?(C++,typeof(_=_[I.charCodeAt(P)])=="number"&&(k+=String.fromCharCode(_),_=n,C=0),P===I.length-1&&(_=n,k+=I.charAt(P-(C-1)),P-=C-1,C=0)):(_=n,k+=I.charAt(P-C),P-=C,C=0);return k};t.__arabicParser__.isArabicDiacritic=function(I){return I!==void 0&&r[I.charCodeAt(0)]!==void 0};var v=t.__arabicParser__.getCorrectForm=function(I,P,_){return o(I)?s(I)===!1?-1:!u(I)||!o(P)&&!o(_)||!o(_)&&a(P)||a(I)&&!o(P)||a(I)&&l(P)||a(I)&&a(P)?0:f(I)&&o(P)&&!a(P)&&o(_)&&u(_)?3:a(I)||!o(_)?1:2:-1},p=function(I){var P=0,_=0,k=0,C="",j="",Q="",re=(I=I||"").split("\\s+"),U=[];for(P=0;P<re.length;P+=1){for(U.push(""),_=0;_<re[P].length;_+=1)C=re[P][_],j=re[P][_-1],Q=re[P][_+1],o(C)?(k=v(C,j,Q),U[P]+=k!==-1?String.fromCharCode(e[C.charCodeAt(0)][k]):C):U[P]+=C;U[P]=g(U[P])}return U.join(" ")},S=t.__arabicParser__.processArabic=t.processArabic=function(){var I,P=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(P)){var k=0;for(_=[],k=0;k<P.length;k+=1)Array.isArray(P[k])?_.push([p(P[k][0]),P[k][1],P[k][2]]):_.push([p(P[k])]);I=_}else I=p(P);return typeof arguments[0]=="string"?I:(arguments[0].text=I,arguments[0])};t.events.push(["preProcessText",S])}(nt.API),nt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(nt.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(I){l=I}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(I){u=I}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(I){f=I}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(I){g=I}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(I){v=I}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(I){p=I}});var S=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return S},set:function(I){S=I}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){r.call(this);var f=(u=u||{}).fontSize||this.getFontSize(),g=u.font||this.getFont(),v=u.scaleFactor||this.internal.scaleFactor,p=0,S=0,I=0,P=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var _=u.maxWidth;_>0?typeof l=="string"?l=this.splitTextToSize(l,_):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(C,j){return C.concat(P.splitTextToSize(j,_))},[])):l=Array.isArray(l)?l:[l];for(var k=0;k<l.length;k++)p<(I=this.getStringUnitWidth(l[k],{font:g})*f)&&(p=I);return p!==0&&(S=l.length),{w:p/=v,h:Math.max((S*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/v,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var u=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,g=this.internal.__cell__.margins||e,v=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=g.top,p&&v&&(this.printHeaderRow(l.lineNumber,!0),l.y+=v[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-f,l.y+f,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+f,{align:"center",baseline:"top",maxWidth:l.width-f-f}):this.text(l.text,l.x+f,l.y+f,{align:"left",baseline:"top",maxWidth:l.width-f-f})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,f,g,v){if(r.call(this),!f)throw new Error("No data for PDF table.");var p,S,I,P,_=[],k=[],C=[],j={},Q={},re=[],U=[],A=(v=v||{}).autoSize||!1,x=v.printHeaders!==!1,D=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,E=v.margins||Object.assign({width:this.getPageWidth()},e),N=typeof v.padding=="number"?v.padding:3,L=v.headerBackgroundColor||"#c8c8c8",X=v.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=x,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=D,this.internal.__cell__.padding=N,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=X,this.setFontSize(D),g==null)k=_=Object.keys(f[0]),C=_.map(function(){return"left"});else if(Array.isArray(g)&&sn(g[0])==="object")for(_=g.map(function(_e){return _e.name}),k=g.map(function(_e){return _e.prompt||_e.name||""}),C=g.map(function(_e){return _e.align||"left"}),p=0;p<g.length;p+=1)Q[g[p].name]=.7499990551181103*g[p].width;else Array.isArray(g)&&typeof g[0]=="string"&&(k=_=g,C=_.map(function(){return"left"}));if(A||Array.isArray(g)&&typeof g[0]=="string")for(p=0;p<_.length;p+=1){for(j[P=_[p]]=f.map(function(_e){return _e[P]}),this.setFont(void 0,"bold"),re.push(this.getTextDimensions(k[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),S=j[P],this.setFont(void 0,"normal"),I=0;I<S.length;I+=1)re.push(this.getTextDimensions(S[I],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Q[P]=Math.max.apply(null,re)+N+N,re=[]}if(x){var pe={};for(p=0;p<_.length;p+=1)pe[_[p]]={},pe[_[p]].text=k[p],pe[_[p]].align=C[p];var ve=a.call(this,pe,Q);U=_.map(function(_e){return new s(l,u,Q[_e],ve,pe[_e].text,void 0,pe[_e].align)}),this.setTableHeaderRow(U),this.printHeaderRow(1,!1)}var ge=g.reduce(function(_e,we){return _e[we.name]=we.align,_e},{});for(p=0;p<f.length;p+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:p,data:f[p]},this);var J=a.call(this,f[p],Q);for(I=0;I<_.length;I+=1){var le=f[p][_[I]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:p,col:I,data:le},this),o.call(this,new s(l,u,Q[_[I]],J,le,p+2,ge[_[I]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var a=function(l,u){var f=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(l).map(function(p){var S=l[p];return this.splitTextToSize(S.hasOwnProperty("text")?S.text:S,u[p]-f-f)},this).map(function(p){return this.getLineHeightFactor()*p.length*g/v+f+f},this).reduce(function(p,S){return Math.max(p,S)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){f=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(f.y=this.internal.__cell__.margins.top||0,v.push(f)),f.lineNumber=l;var S=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(S)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),n=!1}}(nt.API);var II={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},TI=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],N2=xI(TI),kI=[100,200,300,400,500,600,700,800,900],fj=xI(kI);function B0(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return II[s=s||"normal"]?s:"normal"}(t.style),r=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(t.weight),i=function(s){return typeof N2[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function e4(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var dj={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},t4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function n4(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function r4(t){return t.trimLeft()}function pj(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function gj(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var tp,i4,s4,Mu,np,o4,a4,l4,z0=["times"];function u4(t,e,n,r,i){var s=4,o=h4;switch(i){case nt.API.image_compression.FAST:s=1,o=c4;break;case nt.API.image_compression.MEDIUM:s=6,o=f4;break;case nt.API.image_compression.SLOW:s=9,o=d4}t=function(l,u,f,g){for(var v,p=l.length/u,S=new Uint8Array(l.length+p),I=[mj,c4,h4,f4,d4],P=0;P<p;P+=1){var _=P*u,k=l.subarray(_,_+u);if(g)S.set(g(k,f,v),_+P);else{for(var C=I.length,j=[],Q=0;Q<C;Q+=1)j[Q]=I[Q](k,f,v);var re=yj(j.concat());S.set(j[re],_+P)}v=k}return S}(t,e,Math.ceil(n*r/8),o);var a=E2(t,{level:s});return nt.API.__addimage__.arrayBufferToBinaryString(a)}function mj(t){var e=Array.apply([],t);return e.unshift(0),e}function c4(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var s=t[i-e]||0;r[i+1]=t[i]-s+256&255}return r}function h4(t,e,n){var r=t.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var o=n&&n[s]||0;i[s+1]=t[s]-o+256&255}return i}function f4(t,e,n){var r=t.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var o=t[s-e]||0,a=n&&n[s]||0;i[s+1]=t[s]+256-(o+a>>>1)&255}return i}function d4(t,e,n){var r=t.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var o=vj(t[s-e]||0,n&&n[s]||0,n&&n[s-e]||0);i[s+1]=t[s]-o+256&255}return i}function vj(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),s=Math.abs(t+e-n-n);return r<=i&&r<=s?t:i<=s?e:n}function yj(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function q0(t,e,n){var r=e*n,i=Math.floor(r/8),s=16-(r-8*i+n),o=(1<<n)-1;return NI(t,i)>>s&o}function p4(t,e,n,r){var i=n*r,s=Math.floor(i/8),o=16-(i-8*s+r),a=(1<<r)-1,l=(e&a)<<o;(function(u,f,g){if(f+1<u.byteLength)u.setUint16(f,g,!1);else{var v=g>>8&255;u.setUint8(f,v)}})(t,s,NI(t,s)&~(a<<o)&65535|l)}function NI(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function wj(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<1+(7&i);t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var u=!0,f=[],g=0,v=null,p=0,S=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,S=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var I=t[e++];g=t[e++]|t[e++]<<8,v=t[e++],1&I||(v=null),p=I>>2&7,e++;break;case 254:for(;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var P=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,k=t[e++]|t[e++]<<8,C=t[e++]|t[e++]<<8,j=t[e++],Q=j>>6&1,re=1<<1+(7&j),U=a,A=l,x=!1;j>>7&&(x=!0,U=e,A=re,e+=3*re);var D=e;for(e++;;){var E;if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}f.push({x:P,y:_,width:k,height:C,has_local_palette:x,palette_offset:U,palette_size:A,data_offset:D,data_length:e-D,transparent_index:v,interlaced:!!Q,delay:g,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return S},this.frameInfo=function(N){if(N<0||N>=f.length)throw new Error("Frame index out of range.");return f[N]},this.decodeAndBlitFrameBGRA=function(N,L){var X=this.frameInfo(N),pe=X.width*X.height,ve=new Uint8Array(pe);g4(t,X.data_offset,ve,pe);var ge=X.palette_offset,J=X.transparent_index;J===null&&(J=256);var le=X.width,_e=n-le,we=le,M=4*(X.y*n+X.x),H=4*((X.y+X.height)*n+X.x),Y=M,ee=4*_e;X.interlaced===!0&&(ee+=4*n*7);for(var ie=8,ue=0,me=ve.length;ue<me;++ue){var ye=ve[ue];if(we===0&&(we=le,(Y+=ee)>=H&&(ee=4*_e+4*n*(ie-1),Y=M+(le+_e)*(ie<<1),ie>>=1)),ye===J)Y+=4;else{var Ae=t[ge+3*ye],Le=t[ge+3*ye+1],Ue=t[ge+3*ye+2];L[Y++]=Ue,L[Y++]=Le,L[Y++]=Ae,L[Y++]=255}--we}},this.decodeAndBlitFrameRGBA=function(N,L){var X=this.frameInfo(N),pe=X.width*X.height,ve=new Uint8Array(pe);g4(t,X.data_offset,ve,pe);var ge=X.palette_offset,J=X.transparent_index;J===null&&(J=256);var le=X.width,_e=n-le,we=le,M=4*(X.y*n+X.x),H=4*((X.y+X.height)*n+X.x),Y=M,ee=4*_e;X.interlaced===!0&&(ee+=4*n*7);for(var ie=8,ue=0,me=ve.length;ue<me;++ue){var ye=ve[ue];if(we===0&&(we=le,(Y+=ee)>=H&&(ee=4*_e+4*n*(ie-1),Y=M+(le+_e)*(ie<<1),ie>>=1)),ye===J)Y+=4;else{var Ae=t[ge+3*ye],Le=t[ge+3*ye+1],Ue=t[ge+3*ye+2];L[Y++]=Ae,L[Y++]=Le,L[Y++]=Ue,L[Y++]=255}--we}}}function g4(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,l=i+1,u=(1<<l)-1,f=0,g=0,v=0,p=t[e++],S=new Int32Array(4096),I=null;;){for(;f<16&&p!==0;)g|=t[e++]<<f,f+=8,p===1?p=t[e++]:--p;if(f<l)break;var P=g&u;if(g>>=l,f-=l,P!==s){if(P===o)break;for(var _=P<a?P:I,k=0,C=_;C>s;)C=S[C]>>8,++k;var j=C;if(v+k+(_!==P?1:0)>r)return void dn.log("Warning, gif stream longer than expected.");n[v++]=j;var Q=v+=k;for(_!==P&&(n[v++]=j),C=_;k--;)C=S[C],n[--Q]=255&C,C>>=8;I!==null&&a<4096&&(S[a++]=I<<8|j,a>=u+1&&l<12&&(++l,u=u<<1|1)),I=P}else a=o+1,u=(1<<(l=i+1))-1,I=null}return v!==r&&dn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function W0(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),u=new Array(64),f=new Array(64),g=new Array(65535),v=new Array(65535),p=new Array(64),S=new Array(64),I=[],P=0,_=7,k=new Array(64),C=new Array(64),j=new Array(64),Q=new Array(256),re=new Array(2048),U=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],A=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],x=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],N=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],pe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ve(M,H){for(var Y=0,ee=0,ie=new Array,ue=1;ue<=16;ue++){for(var me=1;me<=M[ue];me++)ie[H[ee]]=[],ie[H[ee]][0]=Y,ie[H[ee]][1]=ue,ee++,Y++;Y*=2}return ie}function ge(M){for(var H=M[0],Y=M[1]-1;Y>=0;)H&1<<Y&&(P|=1<<_),Y--,--_<0&&(P==255?(J(255),J(0)):J(P),_=7,P=0)}function J(M){I.push(M)}function le(M){J(M>>8&255),J(255&M)}function _e(M,H,Y,ee,ie){for(var ue,me=ie[0],ye=ie[240],Ae=function(Ne,rt){var Ve,st,et,zt,Ct,Xe,ft,kt,$e,yt,Ze=0;for($e=0;$e<8;++$e){Ve=Ne[Ze],st=Ne[Ze+1],et=Ne[Ze+2],zt=Ne[Ze+3],Ct=Ne[Ze+4],Xe=Ne[Ze+5],ft=Ne[Ze+6];var un=Ve+(kt=Ne[Ze+7]),Dt=Ve-kt,It=st+ft,St=st-ft,pn=et+Xe,it=et-Xe,Qt=zt+Ct,ct=zt-Ct,mt=un+Qt,Xt=un-Qt,Tt=It+pn,ot=It-pn;Ne[Ze]=mt+Tt,Ne[Ze+4]=mt-Tt;var Lt=.707106781*(ot+Xt);Ne[Ze+2]=Xt+Lt,Ne[Ze+6]=Xt-Lt;var qs=.382683433*((mt=ct+it)-(ot=St+Dt)),$n=.5411961*mt+qs,Xi=1.306562965*ot+qs,Fr=.707106781*(Tt=it+St),ut=Dt+Fr,yn=Dt-Fr;Ne[Ze+5]=yn+$n,Ne[Ze+3]=yn-$n,Ne[Ze+1]=ut+Xi,Ne[Ze+7]=ut-Xi,Ze+=8}for(Ze=0,$e=0;$e<8;++$e){Ve=Ne[Ze],st=Ne[Ze+8],et=Ne[Ze+16],zt=Ne[Ze+24],Ct=Ne[Ze+32],Xe=Ne[Ze+40],ft=Ne[Ze+48];var Ji=Ve+(kt=Ne[Ze+56]),vr=Ve-kt,yr=st+ft,An=st-ft,rr=et+Xe,xn=et-Xe,wo=zt+Ct,Ws=zt-Ct,jr=Ji+wo,Ii=Ji-wo,ti=yr+rr,Ur=yr-rr;Ne[Ze]=jr+ti,Ne[Ze+32]=jr-ti;var Gn=.707106781*(Ur+Ii);Ne[Ze+16]=Ii+Gn,Ne[Ze+48]=Ii-Gn;var Hs=.382683433*((jr=Ws+xn)-(Ur=An+vr)),Ti=.5411961*jr+Hs,_s=1.306562965*Ur+Hs,$s=.707106781*(ti=xn+An),_o=vr+$s,bo=vr-$s;Ne[Ze+40]=bo+Ti,Ne[Ze+24]=bo-Ti,Ne[Ze+8]=_o+_s,Ne[Ze+56]=_o-_s,Ze++}for($e=0;$e<64;++$e)yt=Ne[$e]*rt[$e],p[$e]=yt>0?yt+.5|0:yt-.5|0;return p}(M,H),Le=0;Le<64;++Le)S[U[Le]]=Ae[Le];var Ue=S[0]-Y;Y=S[0],Ue==0?ge(ee[0]):(ge(ee[v[ue=32767+Ue]]),ge(g[ue]));for(var je=63;je>0&&S[je]==0;)je--;if(je==0)return ge(me),Y;for(var Je,W=1;W<=je;){for(var Fe=W;S[W]==0&&W<=je;)++W;var xt=W-Fe;if(xt>=16){Je=xt>>4;for(var lt=1;lt<=Je;++lt)ge(ye);xt&=15}ue=32767+S[W],ge(ie[(xt<<4)+v[ue]]),ge(g[ue]),W++}return je!=63&&ge(me),Y}function we(M){M=Math.min(Math.max(M,1),100),s!=M&&(function(H){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ee=0;ee<64;ee++){var ie=o((Y[ee]*H+50)/100);ie=Math.min(Math.max(ie,1),255),a[U[ee]]=ie}for(var ue=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],me=0;me<64;me++){var ye=o((ue[me]*H+50)/100);ye=Math.min(Math.max(ye,1),255),l[U[me]]=ye}for(var Ae=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Le=0,Ue=0;Ue<8;Ue++)for(var je=0;je<8;je++)u[Le]=1/(a[U[Le]]*Ae[Ue]*Ae[je]*8),f[Le]=1/(l[U[Le]]*Ae[Ue]*Ae[je]*8),Le++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),s=M)}this.encode=function(M,H){H&&we(H),I=new Array,P=0,_=7,le(65496),le(65504),le(16),J(74),J(70),J(73),J(70),J(0),J(1),J(1),J(0),le(1),le(1),J(0),J(0),function(){le(65499),le(132),J(0);for(var st=0;st<64;st++)J(a[st]);J(1);for(var et=0;et<64;et++)J(l[et])}(),function(st,et){le(65472),le(17),J(8),le(et),le(st),J(3),J(1),J(17),J(0),J(2),J(17),J(1),J(3),J(17),J(1)}(M.width,M.height),function(){le(65476),le(418),J(0);for(var st=0;st<16;st++)J(A[st+1]);for(var et=0;et<=11;et++)J(x[et]);J(16);for(var zt=0;zt<16;zt++)J(D[zt+1]);for(var Ct=0;Ct<=161;Ct++)J(E[Ct]);J(1);for(var Xe=0;Xe<16;Xe++)J(N[Xe+1]);for(var ft=0;ft<=11;ft++)J(L[ft]);J(17);for(var kt=0;kt<16;kt++)J(X[kt+1]);for(var $e=0;$e<=161;$e++)J(pe[$e])}(),le(65498),le(12),J(3),J(1),J(0),J(2),J(17),J(3),J(17),J(0),J(63),J(0);var Y=0,ee=0,ie=0;P=0,_=7,this.encode.displayName="_encode_";for(var ue,me,ye,Ae,Le,Ue,je,Je,W,Fe=M.data,xt=M.width,lt=M.height,Ne=4*xt,rt=0;rt<lt;){for(ue=0;ue<Ne;){for(Le=Ne*rt+ue,je=-1,Je=0,W=0;W<64;W++)Ue=Le+(Je=W>>3)*Ne+(je=4*(7&W)),rt+Je>=lt&&(Ue-=Ne*(rt+1+Je-lt)),ue+je>=Ne&&(Ue-=ue+je-Ne+4),me=Fe[Ue++],ye=Fe[Ue++],Ae=Fe[Ue++],k[W]=(re[me]+re[ye+256|0]+re[Ae+512|0]>>16)-128,C[W]=(re[me+768|0]+re[ye+1024|0]+re[Ae+1280|0]>>16)-128,j[W]=(re[me+1280|0]+re[ye+1536|0]+re[Ae+1792|0]>>16)-128;Y=_e(k,u,Y,e,r),ee=_e(C,f,ee,n,i),ie=_e(j,f,ie,n,i),ue+=32}rt+=8}if(_>=0){var Ve=[];Ve[1]=_+1,Ve[0]=(1<<_+1)-1,ge(Ve)}return le(65497),new Uint8Array(I)},t=t||50,function(){for(var M=String.fromCharCode,H=0;H<256;H++)Q[H]=M(H)}(),e=ve(A,x),n=ve(N,L),r=ve(D,E),i=ve(X,pe),function(){for(var M=1,H=2,Y=1;Y<=15;Y++){for(var ee=M;ee<H;ee++)v[32767+ee]=Y,g[32767+ee]=[],g[32767+ee][1]=Y,g[32767+ee][0]=ee;for(var ie=-(H-1);ie<=-M;ie++)v[32767+ie]=Y,g[32767+ie]=[],g[32767+ie][1]=Y,g[32767+ie][0]=H-1+ie;M<<=1,H<<=1}}(),function(){for(var M=0;M<256;M++)re[M]=19595*M,re[M+256|0]=38470*M,re[M+512|0]=7471*M+32768,re[M+768|0]=-11059*M,re[M+1024|0]=-21709*M,re[M+1280|0]=32768*M+8421375,re[M+1536|0]=-27439*M,re[M+1792|0]=-5329*M}(),we(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ks(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function m4(t){function e(x){if(!x)throw Error("assert :P")}function n(x,D,E){for(var N=0;4>N;N++)if(x[D+N]!=E.charCodeAt(N))return!0;return!1}function r(x,D,E,N,L){for(var X=0;X<L;X++)x[D+X]=E[N+X]}function i(x,D,E,N){for(var L=0;L<N;L++)x[D+L]=E}function s(x){return new Int32Array(x)}function o(x,D){for(var E=[],N=0;N<x;N++)E.push(new D);return E}function a(x,D){var E=[];return function N(L,X,pe){for(var ve=pe[X],ge=0;ge<ve&&(L.push(pe.length>X+1?[]:new D),!(pe.length<X+1));ge++)N(L[ge],X+1,pe)}(E,0,x),E}var l=function(){var x=this;function D(c,d){for(var y=1<<d-1>>>0;c&y;)y>>>=1;return y?(c&y-1)+y:c}function E(c,d,y,b,O){e(!(b%y));do c[d+(b-=y)]=O;while(0<b)}function N(c,d,y,b,O){if(e(2328>=O),512>=O)var F=s(512);else if((F=s(O))==null)return 0;return function(V,B,q,G,te,fe){var K,se,ce=B,be=1<<q,he=s(16),Se=s(16);for(e(te!=0),e(G!=null),e(V!=null),e(0<q),se=0;se<te;++se){if(15<G[se])return 0;++he[G[se]]}if(he[0]==te)return 0;for(Se[1]=0,K=1;15>K;++K){if(he[K]>1<<K)return 0;Se[K+1]=Se[K]+he[K]}for(se=0;se<te;++se)K=G[se],0<G[se]&&(fe[Se[K]++]=se);if(Se[15]==1)return(G=new L).g=0,G.value=fe[0],E(V,ce,1,be,G),be;var xe,Re=-1,ke=be-1,tt=0,We=1,Nt=1,Ye=1<<q;for(se=0,K=1,te=2;K<=q;++K,te<<=1){if(We+=Nt<<=1,0>(Nt-=he[K]))return 0;for(;0<he[K];--he[K])(G=new L).g=K,G.value=fe[se++],E(V,ce+tt,te,Ye,G),tt=D(tt,K)}for(K=q+1,te=2;15>=K;++K,te<<=1){if(We+=Nt<<=1,0>(Nt-=he[K]))return 0;for(;0<he[K];--he[K]){if(G=new L,(tt&ke)!=Re){for(ce+=Ye,xe=1<<(Re=K)-q;15>Re&&!(0>=(xe-=he[Re]));)++Re,xe<<=1;be+=Ye=1<<(xe=Re-q),V[B+(Re=tt&ke)].g=xe+q,V[B+Re].value=ce-B-Re}G.g=K-q,G.value=fe[se++],E(V,ce+(tt>>q),te,Ye,G),tt=D(tt,K)}}return We!=2*Se[15]-1?0:be}(c,d,y,b,O,F)}function L(){this.value=this.g=0}function X(){this.value=this.g=0}function pe(){this.G=o(5,L),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Nl,X)}function ve(c,d,y,b){e(c!=null),e(d!=null),e(2147483648>b),c.Ca=254,c.I=0,c.b=-8,c.Ka=0,c.oa=d,c.pa=y,c.Jd=d,c.Yc=y+b,c.Zc=4<=b?y+b-4+1:y,me(c)}function ge(c,d){for(var y=0;0<d--;)y|=Ae(c,128)<<d;return y}function J(c,d){var y=ge(c,d);return ye(c)?-y:y}function le(c,d,y,b){var O,F=0;for(e(c!=null),e(d!=null),e(4294967288>b),c.Sb=b,c.Ra=0,c.u=0,c.h=0,4<b&&(b=4),O=0;O<b;++O)F+=d[y+O]<<8*O;c.Ra=F,c.bb=b,c.oa=d,c.pa=y}function _e(c){for(;8<=c.u&&c.bb<c.Sb;)c.Ra>>>=8,c.Ra+=c.oa[c.pa+c.bb]<<ga-8>>>0,++c.bb,c.u-=8;ee(c)&&(c.h=1,c.u=0)}function we(c,d){if(e(0<=d),!c.h&&d<=Li){var y=Y(c)&Ci[d];return c.u+=d,_e(c),y}return c.h=1,c.u=0}function M(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function H(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(c){return c.Ra>>>(c.u&ga-1)>>>0}function ee(c){return e(c.bb<=c.Sb),c.h||c.bb==c.Sb&&c.u>ga}function ie(c,d){c.u=d,c.h=ee(c)}function ue(c){c.u>=ko&&(e(c.u>=ko),_e(c))}function me(c){e(c!=null&&c.oa!=null),c.pa<c.Zc?(c.I=(c.oa[c.pa++]|c.I<<8)>>>0,c.b+=8):(e(c!=null&&c.oa!=null),c.pa<c.Yc?(c.b+=8,c.I=c.oa[c.pa++]|c.I<<8):c.Ka?c.b=0:(c.I<<=8,c.b+=8,c.Ka=1))}function ye(c){return ge(c,1)}function Ae(c,d){var y=c.Ca;0>c.b&&me(c);var b=c.b,O=y*d>>>8,F=(c.I>>>b>O)+0;for(F?(y-=O,c.I-=O+1<<b>>>0):y=O+1,b=y,O=0;256<=b;)O+=8,b>>=8;return b=7^O+ma[b],c.b-=b,c.Ca=(y<<b)-1,F}function Le(c,d,y){c[d+0]=y>>24&255,c[d+1]=y>>16&255,c[d+2]=y>>8&255,c[d+3]=255&y}function Ue(c,d){return c[d+0]|c[d+1]<<8}function je(c,d){return Ue(c,d)|c[d+2]<<16}function Je(c,d){return Ue(c,d)|Ue(c,d+2)<<16}function W(c,d){var y=1<<d;return e(c!=null),e(0<d),c.X=s(y),c.X==null?0:(c.Mb=32-d,c.Xa=d,1)}function Fe(c,d){e(c!=null),e(d!=null),e(c.Xa==d.Xa),r(d.X,0,c.X,0,1<<d.Xa)}function xt(){this.X=[],this.Xa=this.Mb=0}function lt(c,d,y,b){e(y!=null),e(b!=null);var O=y[0],F=b[0];return O==0&&(O=(c*F+d/2)/d),F==0&&(F=(d*O+c/2)/c),0>=O||0>=F?0:(y[0]=O,b[0]=F,1)}function Ne(c,d){return c+(1<<d)-1>>>d}function rt(c,d){return((4278255360&c)+(4278255360&d)>>>0&4278255360)+((16711935&c)+(16711935&d)>>>0&16711935)>>>0}function Ve(c,d){x[d]=function(y,b,O,F,V,B,q){var G;for(G=0;G<V;++G){var te=x[c](B[q+G-1],O,F+G);B[q+G]=rt(y[b+G],te)}}}function st(){this.ud=this.hd=this.jd=0}function et(c,d){return((4278124286&(c^d))>>>1)+(c&d)>>>0}function zt(c){return 0<=c&&256>c?c:0>c?0:255<c?255:void 0}function Ct(c,d){return zt(c+(c-d+.5>>1))}function Xe(c,d,y){return Math.abs(d-y)-Math.abs(c-y)}function ft(c,d,y,b,O,F,V){for(b=F[V-1],y=0;y<O;++y)F[V+y]=b=rt(c[d+y],b)}function kt(c,d,y,b,O){var F;for(F=0;F<y;++F){var V=c[d+F],B=V>>8&255,q=16711935&(q=(q=16711935&V)+((B<<16)+B));b[O+F]=(4278255360&V)+q>>>0}}function $e(c,d){d.jd=255&c,d.hd=c>>8&255,d.ud=c>>16&255}function yt(c,d,y,b,O,F){var V;for(V=0;V<b;++V){var B=d[y+V],q=B>>>8,G=B,te=255&(te=(te=B>>>16)+((c.jd<<24>>24)*(q<<24>>24)>>>5));G=255&(G=(G+=(c.hd<<24>>24)*(q<<24>>24)>>>5)+((c.ud<<24>>24)*(te<<24>>24)>>>5)),O[F+V]=(4278255360&B)+(te<<16)+G}}function Ze(c,d,y,b,O){x[d]=function(F,V,B,q,G,te,fe,K,se){for(q=fe;q<K;++q)for(fe=0;fe<se;++fe)G[te++]=O(B[b(F[V++])])},x[c]=function(F,V,B,q,G,te,fe){var K=8>>F.b,se=F.Ea,ce=F.K[0],be=F.w;if(8>K)for(F=(1<<F.b)-1,be=(1<<K)-1;V<B;++V){var he,Se=0;for(he=0;he<se;++he)he&F||(Se=b(q[G++])),te[fe++]=O(ce[Se&be]),Se>>=K}else x["VP8LMapColor"+y](q,G,ce,be,te,fe,V,B,se)}}function un(c,d,y,b,O){for(y=d+y;d<y;){var F=c[d++];b[O++]=F>>16&255,b[O++]=F>>8&255,b[O++]=255&F}}function Dt(c,d,y,b,O){for(y=d+y;d<y;){var F=c[d++];b[O++]=F>>16&255,b[O++]=F>>8&255,b[O++]=255&F,b[O++]=F>>24&255}}function It(c,d,y,b,O){for(y=d+y;d<y;){var F=(V=c[d++])>>16&240|V>>12&15,V=240&V|V>>28&15;b[O++]=F,b[O++]=V}}function St(c,d,y,b,O){for(y=d+y;d<y;){var F=(V=c[d++])>>16&248|V>>13&7,V=V>>5&224|V>>3&31;b[O++]=F,b[O++]=V}}function pn(c,d,y,b,O){for(y=d+y;d<y;){var F=c[d++];b[O++]=255&F,b[O++]=F>>8&255,b[O++]=F>>16&255}}function it(c,d,y,b,O,F){if(F==0)for(y=d+y;d<y;)Le(b,((F=c[d++])[0]>>24|F[1]>>8&65280|F[2]<<8&16711680|F[3]<<24)>>>0),O+=32;else r(b,O,c,d,y)}function Qt(c,d){x[d][0]=x[c+"0"],x[d][1]=x[c+"1"],x[d][2]=x[c+"2"],x[d][3]=x[c+"3"],x[d][4]=x[c+"4"],x[d][5]=x[c+"5"],x[d][6]=x[c+"6"],x[d][7]=x[c+"7"],x[d][8]=x[c+"8"],x[d][9]=x[c+"9"],x[d][10]=x[c+"10"],x[d][11]=x[c+"11"],x[d][12]=x[c+"12"],x[d][13]=x[c+"13"],x[d][14]=x[c+"0"],x[d][15]=x[c+"0"]}function ct(c){return c==vm||c==ym||c==cd||c==wm}function mt(){this.eb=[],this.size=this.A=this.fb=0}function Xt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Tt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new mt,this.f.kb=new Xt,this.sd=null}function ot(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Lt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function qs(c){return alert("todo:WebPSamplerProcessPlane"),c.T}function $n(c,d){var y=c.T,b=d.ba.f.RGBA,O=b.eb,F=b.fb+c.ka*b.A,V=cs[d.ba.S],B=c.y,q=c.O,G=c.f,te=c.N,fe=c.ea,K=c.W,se=d.cc,ce=d.dc,be=d.Mc,he=d.Nc,Se=c.ka,xe=c.ka+c.T,Re=c.U,ke=Re+1>>1;for(Se==0?V(B,q,null,null,G,te,fe,K,G,te,fe,K,O,F,null,null,Re):(V(d.ec,d.fc,B,q,se,ce,be,he,G,te,fe,K,O,F-b.A,O,F,Re),++y);Se+2<xe;Se+=2)se=G,ce=te,be=fe,he=K,te+=c.Rc,K+=c.Rc,F+=2*b.A,V(B,(q+=2*c.fa)-c.fa,B,q,se,ce,be,he,G,te,fe,K,O,F-b.A,O,F,Re);return q+=c.fa,c.j+xe<c.o?(r(d.ec,d.fc,B,q,Re),r(d.cc,d.dc,G,te,ke),r(d.Mc,d.Nc,fe,K,ke),y--):1&xe||V(B,q,null,null,G,te,fe,K,G,te,fe,K,O,F+b.A,null,null,Re),y}function Xi(c,d,y){var b=c.F,O=[c.J];if(b!=null){var F=c.U,V=d.ba.S,B=V==ud||V==cd;d=d.ba.f.RGBA;var q=[0],G=c.ka;q[0]=c.T,c.Kb&&(G==0?--q[0]:(--G,O[0]-=c.width),c.j+c.ka+c.T==c.o&&(q[0]=c.o-c.j-G));var te=d.eb;G=d.fb+G*d.A,c=zy(b,O[0],c.width,F,q,te,G+(B?0:3),d.A),e(y==q),c&&ct(V)&&ih(te,G,B,F,q,d.A)}return 0}function Fr(c){var d=c.ma,y=d.ba.S,b=11>y,O=y==ad||y==ld||y==ud||y==mm||y==12||ct(y);if(d.memory=null,d.Ib=null,d.Jb=null,d.Nd=null,!Qc(d.Oa,c,O?11:12))return 0;if(O&&ct(y)&&as(),c.da)alert("todo:use_scaling");else{if(b){if(d.Ib=qs,c.Kb){if(y=c.U+1>>1,d.memory=s(c.U+2*y),d.memory==null)return 0;d.ec=d.memory,d.fc=0,d.cc=d.ec,d.dc=d.fc+c.U,d.Mc=d.cc,d.Nc=d.dc+y,d.Ib=$n,as()}}else alert("todo:EmitYUV");O&&(d.Jb=Xi,b&&mi())}if(b&&!i5){for(c=0;256>c;++c)wT[c]=89858*(c-128)+fd>>hd,ET[c]=-22014*(c-128)+fd,bT[c]=-45773*(c-128),_T[c]=113618*(c-128)+fd>>hd;for(c=oh;c<Em;++c)d=76283*(c-16)+fd>>hd,ST[c-oh]=pi(d,255),AT[c-oh]=pi(d+8>>4,15);i5=1}return 1}function ut(c){var d=c.ma,y=c.U,b=c.T;return e(!(1&c.ka)),0>=y||0>=b?0:(y=d.Ib(c,d),d.Jb!=null&&d.Jb(c,d,y),d.Dc+=y,1)}function yn(c){c.ma.memory=null}function Ji(c,d,y,b){return we(c,8)!=47?0:(d[0]=we(c,14)+1,y[0]=we(c,14)+1,b[0]=we(c,1),we(c,3)!=0?0:!c.h)}function vr(c,d){if(4>c)return c+1;var y=c-2>>1;return(2+(1&c)<<y)+we(d,y)+1}function yr(c,d){return 120<d?d-120:1<=(y=((y=sT[d-1])>>4)*c+(8-(15&y)))?y:1;var y}function An(c,d,y){var b=Y(y),O=c[d+=255&b].g-8;return 0<O&&(ie(y,y.u+8),b=Y(y),d+=c[d].value,d+=b&(1<<O)-1),ie(y,y.u+c[d].g),c[d].value}function rr(c,d,y){return y.g+=c.g,y.value+=c.value<<d>>>0,e(8>=y.g),c.g}function xn(c,d,y){var b=c.xc;return e((d=b==0?0:c.vc[c.md*(y>>b)+(d>>b)])<c.Wb),c.Ya[d]}function wo(c,d,y,b){var O=c.ab,F=c.c*d,V=c.C;d=V+d;var B=y,q=b;for(b=c.Ta,y=c.Ua;0<O--;){var G=c.gc[O],te=V,fe=d,K=B,se=q,ce=(q=b,B=y,G.Ea);switch(e(te<fe),e(fe<=G.nc),G.hc){case 2:Kn(K,se,(fe-te)*ce,q,B);break;case 0:var be=te,he=fe,Se=q,xe=B,Re=(Ye=G).Ea;be==0&&(Jc(K,se,null,null,1,Se,xe),ft(K,se+1,0,0,Re-1,Se,xe+1),se+=Re,xe+=Re,++be);for(var ke=1<<Ye.b,tt=ke-1,We=Ne(Re,Ye.b),Nt=Ye.K,Ye=Ye.w+(be>>Ye.b)*We;be<he;){var Vt=Nt,cr=Ye,Pt=1;for(Nu(K,se,Se,xe-Re,1,Se,xe);Pt<Re;){var Qe=(Pt&~tt)+ke;Qe>Re&&(Qe=Re),(0,eh[Vt[cr++]>>8&15])(K,se+ +Pt,Se,xe+Pt-Re,Qe-Pt,Se,xe+Pt),Pt=Qe}se+=Re,xe+=Re,++be&tt||(Ye+=We)}fe!=G.nc&&r(q,B-ce,q,B+(fe-te-1)*ce,ce);break;case 1:for(ce=K,he=se,Re=(K=G.Ea)-(xe=K&~(Se=(se=1<<G.b)-1)),be=Ne(K,G.b),ke=G.K,G=G.w+(te>>G.b)*be;te<fe;){for(tt=ke,We=G,Nt=new st,Ye=he+xe,Vt=he+K;he<Ye;)$e(tt[We++],Nt),th(Nt,ce,he,se,q,B),he+=se,B+=se;he<Vt&&($e(tt[We++],Nt),th(Nt,ce,he,Re,q,B),he+=Re,B+=Re),++te&Se||(G+=be)}break;case 3:if(K==q&&se==B&&0<G.b){for(he=q,K=ce=B+(fe-te)*ce-(xe=(fe-te)*Ne(G.Ea,G.b)),se=q,Se=B,be=[],xe=(Re=xe)-1;0<=xe;--xe)be[xe]=se[Se+xe];for(xe=Re-1;0<=xe;--xe)he[K+xe]=be[xe];rd(G,te,fe,q,ce,q,B)}else rd(G,te,fe,K,se,q,B)}B=b,q=y}q!=y&&r(b,y,B,q,F)}function Ws(c,d){var y=c.V,b=c.Ba+c.c*c.C,O=d-c.C;if(e(d<=c.l.o),e(16>=O),0<O){var F=c.l,V=c.Ta,B=c.Ua,q=F.width;if(wo(c,O,y,b),O=B=[B],e((y=c.C)<(b=d)),e(F.v<F.va),b>F.o&&(b=F.o),y<F.j){var G=F.j-y;y=F.j,O[0]+=G*q}if(y>=b?y=0:(O[0]+=4*F.v,F.ka=y-F.j,F.U=F.va-F.v,F.T=b-y,y=1),y){if(B=B[0],11>(y=c.ca).S){var te=y.f.RGBA,fe=(b=y.S,O=F.U,F=F.T,G=te.eb,te.A),K=F;for(te=te.fb+c.Ma*te.A;0<K--;){var se=V,ce=B,be=O,he=G,Se=te;switch(b){case od:nh(se,ce,be,he,Se);break;case ad:va(se,ce,be,he,Se);break;case vm:va(se,ce,be,he,Se),ih(he,Se,0,be,1,0);break;case Yy:Pl(se,ce,be,he,Se);break;case ld:it(se,ce,be,he,Se,1);break;case ym:it(se,ce,be,he,Se,1),ih(he,Se,0,be,1,0);break;case ud:it(se,ce,be,he,Se,0);break;case cd:it(se,ce,be,he,Se,0),ih(he,Se,1,be,1,0);break;case mm:ya(se,ce,be,he,Se);break;case wm:ya(se,ce,be,he,Se),By(he,Se,be,1,0);break;case Qy:wa(se,ce,be,he,Se);break;default:e(0)}B+=q,te+=fe}c.Ma+=F}else alert("todo:EmitRescaledRowsYUVA");e(c.Ma<=y.height)}}c.C=d,e(c.C<=c.i)}function jr(c){var d;if(0<c.ua)return 0;for(d=0;d<c.Wb;++d){var y=c.Ya[d].G,b=c.Ya[d].H;if(0<y[1][b[1]+0].g||0<y[2][b[2]+0].g||0<y[3][b[3]+0].g)return 0}return 1}function Ii(c,d,y,b,O,F){if(c.Z!=0){var V=c.qd,B=c.rd;for(e(Ea[c.Z]!=null);d<y;++d)Ea[c.Z](V,B,b,O,b,O,F),V=b,B=O,O+=F;c.qd=V,c.rd=B}}function ti(c,d){var y=c.l.ma,b=y.Z==0||y.Z==1?c.l.j:c.C;if(b=c.C<b?b:c.C,e(d<=c.l.o),d>b){var O=c.l.width,F=y.ca,V=y.tb+O*b,B=c.V,q=c.Ba+c.c*b,G=c.gc;e(c.ab==1),e(G[0].hc==3),eo(G[0],b,d,B,q,F,V),Ii(y,b,d,F,V,O)}c.C=c.Ma=d}function Ur(c,d,y,b,O,F,V){var B=c.$/b,q=c.$%b,G=c.m,te=c.s,fe=y+c.$,K=fe;O=y+b*O;var se=y+b*F,ce=280+te.ua,be=c.Pb?B:16777216,he=0<te.ua?te.Wa:null,Se=te.wc,xe=fe<se?xn(te,q,B):null;e(c.C<F),e(se<=O);var Re=!1;e:for(;;){for(;Re||fe<se;){var ke=0;if(B>=be){var tt=fe-y;e((be=c).Pb),be.wd=be.m,be.xd=tt,0<be.s.ua&&Fe(be.s.Wa,be.s.vb),be=B+aT}if(q&Se||(xe=xn(te,q,B)),e(xe!=null),xe.Qb&&(d[fe]=xe.qb,Re=!0),!Re)if(ue(G),xe.jc){ke=G,tt=d;var We=fe,Nt=xe.pd[Y(ke)&Nl-1];e(xe.jc),256>Nt.g?(ie(ke,ke.u+Nt.g),tt[We]=Nt.value,ke=0):(ie(ke,ke.u+Nt.g-256),e(256<=Nt.value),ke=Nt.value),ke==0&&(Re=!0)}else ke=An(xe.G[0],xe.H[0],G);if(G.h)break;if(Re||256>ke){if(!Re)if(xe.nd)d[fe]=(xe.qb|ke<<8)>>>0;else{if(ue(G),Re=An(xe.G[1],xe.H[1],G),ue(G),tt=An(xe.G[2],xe.H[2],G),We=An(xe.G[3],xe.H[3],G),G.h)break;d[fe]=(We<<24|Re<<16|ke<<8|tt)>>>0}if(Re=!1,++fe,++q>=b&&(q=0,++B,V!=null&&B<=F&&!(B%16)&&V(c,B),he!=null))for(;K<fe;)ke=d[K++],he.X[(506832829*ke&4294967295)>>>he.Mb]=ke}else if(280>ke){if(ke=vr(ke-256,G),tt=An(xe.G[4],xe.H[4],G),ue(G),tt=yr(b,tt=vr(tt,G)),G.h)break;if(fe-y<tt||O-fe<ke)break e;for(We=0;We<ke;++We)d[fe+We]=d[fe+We-tt];for(fe+=ke,q+=ke;q>=b;)q-=b,++B,V!=null&&B<=F&&!(B%16)&&V(c,B);if(e(fe<=O),q&Se&&(xe=xn(te,q,B)),he!=null)for(;K<fe;)ke=d[K++],he.X[(506832829*ke&4294967295)>>>he.Mb]=ke}else{if(!(ke<ce))break e;for(Re=ke-280,e(he!=null);K<fe;)ke=d[K++],he.X[(506832829*ke&4294967295)>>>he.Mb]=ke;ke=fe,e(!(Re>>>(tt=he).Xa)),d[ke]=tt.X[Re],Re=!0}Re||e(G.h==ee(G))}if(c.Pb&&G.h&&fe<O)e(c.m.h),c.a=5,c.m=c.wd,c.$=c.xd,0<c.s.ua&&Fe(c.s.vb,c.s.Wa);else{if(G.h)break e;V!=null&&V(c,B>F?F:B),c.a=0,c.$=fe-y}return 1}return c.a=3,0}function Gn(c){e(c!=null),c.vc=null,c.yc=null,c.Ya=null;var d=c.Wa;d!=null&&(d.X=null),c.vb=null,e(c!=null)}function Hs(){var c=new dt;return c==null?null:(c.a=0,c.xb=Zy,Qt("Predictor","VP8LPredictors"),Qt("Predictor","VP8LPredictors_C"),Qt("PredictorAdd","VP8LPredictorsAdd"),Qt("PredictorAdd","VP8LPredictorsAdd_C"),Kn=kt,th=yt,nh=un,va=Dt,ya=It,wa=St,Pl=pn,x.VP8LMapColor32b=Zs,x.VP8LMapColor8b=Zc,c)}function Ti(c,d,y,b,O){var F=1,V=[c],B=[d],q=b.m,G=b.s,te=null,fe=0;e:for(;;){if(y)for(;F&&we(q,1);){var K=V,se=B,ce=b,be=1,he=ce.m,Se=ce.gc[ce.ab],xe=we(he,2);if(ce.Oc&1<<xe)F=0;else{switch(ce.Oc|=1<<xe,Se.hc=xe,Se.Ea=K[0],Se.nc=se[0],Se.K=[null],++ce.ab,e(4>=ce.ab),xe){case 0:case 1:Se.b=we(he,3)+2,be=Ti(Ne(Se.Ea,Se.b),Ne(Se.nc,Se.b),0,ce,Se.K),Se.K=Se.K[0];break;case 3:var Re,ke=we(he,8)+1,tt=16<ke?0:4<ke?1:2<ke?2:3;if(K[0]=Ne(Se.Ea,tt),Se.b=tt,Re=be=Ti(ke,1,0,ce,Se.K)){var We,Nt=ke,Ye=Se,Vt=1<<(8>>Ye.b),cr=s(Vt);if(cr==null)Re=0;else{var Pt=Ye.K[0],Qe=Ye.w;for(cr[0]=Ye.K[0][0],We=1;We<1*Nt;++We)cr[We]=rt(Pt[Qe+We],cr[We-1]);for(;We<4*Vt;++We)cr[We]=0;Ye.K[0]=null,Ye.K[0]=cr,Re=1}}be=Re;break;case 2:break;default:e(0)}F=be}}if(V=V[0],B=B[0],F&&we(q,1)&&!(F=1<=(fe=we(q,4))&&11>=fe)){b.a=3;break e}var Me;if(Me=F)t:{var Qn,At,qt,wn=b,Tr=V,ii=B,Un=fe,Br=y,si=wn.m,hr=wn.s,Ht=[null],en=1,Vn=0,tn=oT[Un];n:for(;;){if(Br&&we(si,1)){var kr=we(si,3)+2,xs=Ne(Tr,kr),Xn=Ne(ii,kr),vi=xs*Xn;if(!Ti(xs,Xn,0,wn,Ht))break n;for(Ht=Ht[0],hr.xc=kr,Qn=0;Qn<vi;++Qn){var fn=Ht[Qn]>>8&65535;Ht[Qn]=fn,fn>=en&&(en=fn+1)}}if(si.h)break n;for(At=0;5>At;++At){var fr=Xy[At];!At&&0<Un&&(fr+=1<<Un),Vn<fr&&(Vn=fr)}var Oi=o(en*tn,L),oi=en,Di=o(oi,pe);if(Di==null)var Mi=null;else e(65536>=oi),Mi=Di;var yi=s(Vn);if(Mi==null||yi==null||Oi==null){wn.a=1;break n}var Fi=Oi;for(Qn=qt=0;Qn<en;++Qn){var mn=Mi[Qn],ji=mn.G,Is=mn.H,Ll=0,Co=1,Nr=0;for(At=0;5>At;++At){fr=Xy[At],ji[At]=Fi,Is[At]=qt,!At&&0<Un&&(fr+=1<<Un);i:{var pd,Sm=fr,gd=wn,ah=yi,TT=Fi,kT=qt,Am=0,Sa=gd.m,NT=we(Sa,1);if(i(ah,0,0,Sm),NT){var PT=we(Sa,1)+1,CT=we(Sa,1),a5=we(Sa,CT==0?1:8);ah[a5]=1,PT==2&&(ah[a5=we(Sa,8)]=1);var md=1}else{var l5=s(19),u5=we(Sa,4)+4;if(19<u5){gd.a=3;var vd=0;break i}for(pd=0;pd<u5;++pd)l5[iT[pd]]=we(Sa,3);var xm=void 0,lh=void 0,c5=gd,LT=l5,yd=Sm,h5=ah,Im=0,Aa=c5.m,f5=8,d5=o(128,L);r:for(;N(d5,0,7,LT,19);){if(we(Aa,1)){var RT=2+2*we(Aa,3);if((xm=2+we(Aa,RT))>yd)break r}else xm=yd;for(lh=0;lh<yd&&xm--;){ue(Aa);var p5=d5[0+(127&Y(Aa))];ie(Aa,Aa.u+p5.g);var Cu=p5.value;if(16>Cu)h5[lh++]=Cu,Cu!=0&&(f5=Cu);else{var OT=Cu==16,g5=Cu-16,DT=nT[g5],m5=we(Aa,tT[g5])+DT;if(lh+m5>yd)break r;for(var MT=OT?f5:0;0<m5--;)h5[lh++]=MT}}Im=1;break r}Im||(c5.a=3),md=Im}(md=md&&!Sa.h)&&(Am=N(TT,kT,8,ah,Sm)),md&&Am!=0?vd=Am:(gd.a=3,vd=0)}if(vd==0)break n;if(Co&&rT[At]==1&&(Co=Fi[qt].g==0),Ll+=Fi[qt].g,qt+=vd,3>=At){var uh,Tm=yi[0];for(uh=1;uh<fr;++uh)yi[uh]>Tm&&(Tm=yi[uh]);Nr+=Tm}}if(mn.nd=Co,mn.Qb=0,Co&&(mn.qb=(ji[3][Is[3]+0].value<<24|ji[1][Is[1]+0].value<<16|ji[2][Is[2]+0].value)>>>0,Ll==0&&256>ji[0][Is[0]+0].value&&(mn.Qb=1,mn.qb+=ji[0][Is[0]+0].value<<8)),mn.jc=!mn.Qb&&6>Nr,mn.jc){var wd,Lo=mn;for(wd=0;wd<Nl;++wd){var xa=wd,Ia=Lo.pd[xa],_d=Lo.G[0][Lo.H[0]+xa];256<=_d.value?(Ia.g=_d.g+256,Ia.value=_d.value):(Ia.g=0,Ia.value=0,xa>>=rr(_d,8,Ia),xa>>=rr(Lo.G[1][Lo.H[1]+xa],16,Ia),xa>>=rr(Lo.G[2][Lo.H[2]+xa],0,Ia),rr(Lo.G[3][Lo.H[3]+xa],24,Ia))}}}hr.vc=Ht,hr.Wb=en,hr.Ya=Mi,hr.yc=Oi,Me=1;break t}Me=0}if(!(F=Me)){b.a=3;break e}if(0<fe){if(G.ua=1<<fe,!W(G.Wa,fe)){b.a=1,F=0;break e}}else G.ua=0;var km=b,v5=V,FT=B,Nm=km.s,Pm=Nm.xc;if(km.c=v5,km.i=FT,Nm.md=Ne(v5,Pm),Nm.wc=Pm==0?-1:(1<<Pm)-1,y){b.xb=pT;break e}if((te=s(V*B))==null){b.a=1,F=0;break e}F=(F=Ur(b,te,0,V,B,B,null))&&!q.h;break e}return F?(O!=null?O[0]=te:(e(te==null),e(y)),b.$=0,y||Gn(G)):Gn(G),F}function _s(c,d){var y=c.c*c.i,b=y+d+16*d;return e(c.c<=d),c.V=s(b),c.V==null?(c.Ta=null,c.Ua=0,c.a=1,0):(c.Ta=c.V,c.Ua=c.Ba+y+d,1)}function $s(c,d){var y=c.C,b=d-y,O=c.V,F=c.Ba+c.c*y;for(e(d<=c.l.o);0<b;){var V=16<b?16:b,B=c.l.ma,q=c.l.width,G=q*V,te=B.ca,fe=B.tb+q*y,K=c.Ta,se=c.Ua;wo(c,V,O,F),qy(K,se,te,fe,G),Ii(B,y,y+V,te,fe,q),b-=V,O+=V*c.c,y+=V}e(y==d),c.C=c.Ma=d}function _o(){this.ub=this.yd=this.td=this.Rb=0}function bo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function qc(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Gs(){this.Yb=function(){var c=[];return function d(y,b,O){for(var F=O[b],V=0;V<F&&(y.push(O.length>b+1?[]:0),!(O.length<b+1));V++)d(y[V],b+1,O)}(c,0,[3,11]),c}()}function yl(){this.jb=s(3),this.Wc=a([4,8],Gs),this.Xc=a([4,17],Gs)}function oa(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function wr(){this.ld=this.La=this.dd=this.tc=0}function ki(){this.Na=this.la=0}function aa(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function wl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function _l(){this.uc=this.M=this.Nb=0,this.wa=Array(new wr),this.Y=0,this.ya=Array(new wl),this.aa=0,this.l=new Ks}function bl(){this.y=s(16),this.f=s(8),this.ea=s(8)}function El(){this.cb=this.a=0,this.sc="",this.m=new M,this.Od=new _o,this.Kc=new bo,this.ed=new oa,this.Qa=new qc,this.Ic=this.$c=this.Aa=0,this.D=new _l,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,M),this.ia=0,this.pb=o(4,aa),this.Pa=new yl,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new bl),this.Hd=0,this.rb=Array(new ki),this.sb=0,this.wa=Array(new wr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new wl),this.L=this.aa=0,this.gd=a([4,2],wr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function pi(c,d){return 0>c?0:c>d?d:c}function Ks(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function bu(){var c=new El;return c!=null&&(c.a=0,c.sc="OK",c.cb=0,c.Xb=0,sh||(sh=Eo)),c}function kn(c,d,y){return c.a==0&&(c.a=d,c.sc=y,c.cb=0),0}function Eu(c,d,y){return 3<=y&&c[d+0]==157&&c[d+1]==1&&c[d+2]==42}function Zi(c,d){if(c==null)return 0;if(c.a=0,c.sc="OK",d==null)return kn(c,2,"null VP8Io passed to VP8GetHeaders()");var y=d.data,b=d.w,O=d.ha;if(4>O)return kn(c,7,"Truncated header.");var F=y[b+0]|y[b+1]<<8|y[b+2]<<16,V=c.Od;if(V.Rb=!(1&F),V.td=F>>1&7,V.yd=F>>4&1,V.ub=F>>5,3<V.td)return kn(c,3,"Incorrect keyframe parameters.");if(!V.yd)return kn(c,4,"Frame not displayable.");b+=3,O-=3;var B=c.Kc;if(V.Rb){if(7>O)return kn(c,7,"cannot parse picture header");if(!Eu(y,b,O))return kn(c,3,"Bad code word");B.c=16383&(y[b+4]<<8|y[b+3]),B.Td=y[b+4]>>6,B.i=16383&(y[b+6]<<8|y[b+5]),B.Ud=y[b+6]>>6,b+=7,O-=7,c.za=B.c+15>>4,c.Ub=B.i+15>>4,d.width=B.c,d.height=B.i,d.Da=0,d.j=0,d.v=0,d.va=d.width,d.o=d.height,d.da=0,d.ib=d.width,d.hb=d.height,d.U=d.width,d.T=d.height,i((F=c.Pa).jb,0,255,F.jb.length),e((F=c.Qa)!=null),F.Cb=0,F.Bb=0,F.Fb=1,i(F.Zb,0,0,F.Zb.length),i(F.Lb,0,0,F.Lb)}if(V.ub>O)return kn(c,7,"bad partition length");ve(F=c.m,y,b,V.ub),b+=V.ub,O-=V.ub,V.Rb&&(B.Ld=ye(F),B.Kd=ye(F)),B=c.Qa;var q,G=c.Pa;if(e(F!=null),e(B!=null),B.Cb=ye(F),B.Cb){if(B.Bb=ye(F),ye(F)){for(B.Fb=ye(F),q=0;4>q;++q)B.Zb[q]=ye(F)?J(F,7):0;for(q=0;4>q;++q)B.Lb[q]=ye(F)?J(F,6):0}if(B.Bb)for(q=0;3>q;++q)G.jb[q]=ye(F)?ge(F,8):255}else B.Bb=0;if(F.Ka)return kn(c,3,"cannot parse segment header");if((B=c.ed).zd=ye(F),B.Tb=ge(F,6),B.wb=ge(F,3),B.Pc=ye(F),B.Pc&&ye(F)){for(G=0;4>G;++G)ye(F)&&(B.vd[G]=J(F,6));for(G=0;4>G;++G)ye(F)&&(B.od[G]=J(F,6))}if(c.L=B.Tb==0?0:B.zd?1:2,F.Ka)return kn(c,3,"cannot parse filter header");var te=O;if(O=q=b,b=q+te,B=te,c.Xb=(1<<ge(c.m,2))-1,te<3*(G=c.Xb))y=7;else{for(q+=3*G,B-=3*G,te=0;te<G;++te){var fe=y[O+0]|y[O+1]<<8|y[O+2]<<16;fe>B&&(fe=B),ve(c.Jc[+te],y,q,fe),q+=fe,B-=fe,O+=3}ve(c.Jc[+G],y,q,B),y=q<b?0:5}if(y!=0)return kn(c,y,"cannot parse partitions");for(y=ge(q=c.m,7),O=ye(q)?J(q,4):0,b=ye(q)?J(q,4):0,B=ye(q)?J(q,4):0,G=ye(q)?J(q,4):0,q=ye(q)?J(q,4):0,te=c.Qa,fe=0;4>fe;++fe){if(te.Cb){var K=te.Zb[fe];te.Fb||(K+=y)}else{if(0<fe){c.pb[fe]=c.pb[0];continue}K=y}var se=c.pb[fe];se.Sc[0]=_m[pi(K+O,127)],se.Sc[1]=bm[pi(K+0,127)],se.Eb[0]=2*_m[pi(K+b,127)],se.Eb[1]=101581*bm[pi(K+B,127)]>>16,8>se.Eb[1]&&(se.Eb[1]=8),se.Qc[0]=_m[pi(K+G,117)],se.Qc[1]=bm[pi(K+q,127)],se.lc=K+q}if(!V.Rb)return kn(c,4,"Not a key frame.");for(ye(F),V=c.Pa,y=0;4>y;++y){for(O=0;8>O;++O)for(b=0;3>b;++b)for(B=0;11>B;++B)G=Ae(F,fT[y][O][b][B])?ge(F,8):cT[y][O][b][B],V.Wc[y][O].Yb[b][B]=G;for(O=0;17>O;++O)V.Xc[y][O]=V.Wc[y][dT[O]]}return c.kc=ye(F),c.kc&&(c.Bd=ge(F,8)),c.cb=1}function Eo(c,d,y,b,O,F,V){var B=d[O].Yb[y];for(y=0;16>O;++O){if(!Ae(c,B[y+0]))return O;for(;!Ae(c,B[y+1]);)if(B=d[++O].Yb[0],y=0,O==16)return 16;var q=d[O+1].Yb;if(Ae(c,B[y+2])){var G=c,te=0;if(Ae(G,(K=B)[(fe=y)+3]))if(Ae(G,K[fe+6])){for(B=0,fe=2*(te=Ae(G,K[fe+8]))+(K=Ae(G,K[fe+9+te])),te=0,K=lT[fe];K[B];++B)te+=te+Ae(G,K[B]);te+=3+(8<<fe)}else Ae(G,K[fe+7])?(te=7+2*Ae(G,165),te+=Ae(G,145)):te=5+Ae(G,159);else te=Ae(G,K[fe+4])?3+Ae(G,K[fe+5]):2;B=q[2]}else te=1,B=q[1];q=V+uT[O],0>(G=c).b&&me(G);var fe,K=G.b,se=(fe=G.Ca>>1)-(G.I>>K)>>31;--G.b,G.Ca+=se,G.Ca|=1,G.I-=(fe+1&se)<<K,F[q]=((te^se)-se)*b[(0<O)+0]}return 16}function Sl(c){var d=c.rb[c.sb-1];d.la=0,d.Na=0,i(c.zc,0,0,c.zc.length),c.ja=0}function gi(c,d,y,b,O){O=c[d+y+32*b]+(O>>3),c[d+y+32*b]=-256&O?0>O?0:255:O}function cn(c,d,y,b,O,F){gi(c,d,0,y,b+O),gi(c,d,1,y,b+F),gi(c,d,2,y,b-F),gi(c,d,3,y,b-O)}function lr(c){return(20091*c>>16)+c}function So(c,d,y,b){var O,F=0,V=s(16);for(O=0;4>O;++O){var B=c[d+0]+c[d+8],q=c[d+0]-c[d+8],G=(35468*c[d+4]>>16)-lr(c[d+12]),te=lr(c[d+4])+(35468*c[d+12]>>16);V[F+0]=B+te,V[F+1]=q+G,V[F+2]=q-G,V[F+3]=B-te,F+=4,d++}for(O=F=0;4>O;++O)B=(c=V[F+0]+4)+V[F+8],q=c-V[F+8],G=(35468*V[F+4]>>16)-lr(V[F+12]),gi(y,b,0,0,B+(te=lr(V[F+4])+(35468*V[F+12]>>16))),gi(y,b,1,0,q+G),gi(y,b,2,0,q-G),gi(y,b,3,0,B-te),F++,b+=32}function la(c,d,y,b){var O=c[d+0]+4,F=35468*c[d+4]>>16,V=lr(c[d+4]),B=35468*c[d+1]>>16;cn(y,b,0,O+V,c=lr(c[d+1]),B),cn(y,b,1,O+F,c,B),cn(y,b,2,O-F,c,B),cn(y,b,3,O-V,c,B)}function Su(c,d,y,b,O){So(c,d,y,b),O&&So(c,d+16,y,b+4)}function Mt(c,d,y,b){Cl(c,d+0,y,b,1),Cl(c,d+32,y,b+128,1)}function Ao(c,d,y,b){var O;for(c=c[d+0]+4,O=0;4>O;++O)for(d=0;4>d;++d)gi(y,b,d,O,c)}function Ys(c,d,y,b){c[d+0]&&Jt(c,d+0,y,b),c[d+16]&&Jt(c,d+16,y,b+4),c[d+32]&&Jt(c,d+32,y,b+128),c[d+48]&&Jt(c,d+48,y,b+128+4)}function es(c,d,y,b){var O,F=s(16);for(O=0;4>O;++O){var V=c[d+0+O]+c[d+12+O],B=c[d+4+O]+c[d+8+O],q=c[d+4+O]-c[d+8+O],G=c[d+0+O]-c[d+12+O];F[0+O]=V+B,F[8+O]=V-B,F[4+O]=G+q,F[12+O]=G-q}for(O=0;4>O;++O)V=(c=F[0+4*O]+3)+F[3+4*O],B=F[1+4*O]+F[2+4*O],q=F[1+4*O]-F[2+4*O],G=c-F[3+4*O],y[b+0]=V+B>>3,y[b+16]=G+q>>3,y[b+32]=V-B>>3,y[b+48]=G-q>>3,b+=64}function xo(c,d,y){var b,O=d-32,F=Ri,V=255-c[O-1];for(b=0;b<y;++b){var B,q=F,G=V+c[d-1];for(B=0;B<y;++B)c[d+B]=q[G+c[O+B]];d+=32}}function Au(c,d){xo(c,d,4)}function Wc(c,d){xo(c,d,8)}function Hc(c,d){xo(c,d,16)}function Al(c,d){var y;for(y=0;16>y;++y)r(c,d+32*y,c,d-32,16)}function xu(c,d){var y;for(y=16;0<y;--y)i(c,d,c[d-1],16),d+=32}function xr(c,d,y){var b;for(b=0;16>b;++b)i(d,y+32*b,c,16)}function ts(c,d){var y,b=16;for(y=0;16>y;++y)b+=c[d-1+32*y]+c[d+y-32];xr(b>>5,c,d)}function Qs(c,d){var y,b=8;for(y=0;16>y;++y)b+=c[d-1+32*y];xr(b>>4,c,d)}function ua(c,d){var y,b=8;for(y=0;16>y;++y)b+=c[d+y-32];xr(b>>4,c,d)}function Iu(c,d){xr(128,c,d)}function ht(c,d,y){return c+2*d+y+2>>2}function $c(c,d){var y,b=d-32;for(b=new Uint8Array([ht(c[b-1],c[b+0],c[b+1]),ht(c[b+0],c[b+1],c[b+2]),ht(c[b+1],c[b+2],c[b+3]),ht(c[b+2],c[b+3],c[b+4])]),y=0;4>y;++y)r(c,d+32*y,b,0,b.length)}function Gc(c,d){var y=c[d-1],b=c[d-1+32],O=c[d-1+64],F=c[d-1+96];Le(c,d+0,16843009*ht(c[d-1-32],y,b)),Le(c,d+32,16843009*ht(y,b,O)),Le(c,d+64,16843009*ht(b,O,F)),Le(c,d+96,16843009*ht(O,F,F))}function Kc(c,d){var y,b=4;for(y=0;4>y;++y)b+=c[d+y-32]+c[d-1+32*y];for(b>>=3,y=0;4>y;++y)i(c,d+32*y,b,4)}function _r(c,d){var y=c[d-1+0],b=c[d-1+32],O=c[d-1+64],F=c[d-1-32],V=c[d+0-32],B=c[d+1-32],q=c[d+2-32],G=c[d+3-32];c[d+0+96]=ht(b,O,c[d-1+96]),c[d+1+96]=c[d+0+64]=ht(y,b,O),c[d+2+96]=c[d+1+64]=c[d+0+32]=ht(F,y,b),c[d+3+96]=c[d+2+64]=c[d+1+32]=c[d+0+0]=ht(V,F,y),c[d+3+64]=c[d+2+32]=c[d+1+0]=ht(B,V,F),c[d+3+32]=c[d+2+0]=ht(q,B,V),c[d+3+0]=ht(G,q,B)}function bs(c,d){var y=c[d+1-32],b=c[d+2-32],O=c[d+3-32],F=c[d+4-32],V=c[d+5-32],B=c[d+6-32],q=c[d+7-32];c[d+0+0]=ht(c[d+0-32],y,b),c[d+1+0]=c[d+0+32]=ht(y,b,O),c[d+2+0]=c[d+1+32]=c[d+0+64]=ht(b,O,F),c[d+3+0]=c[d+2+32]=c[d+1+64]=c[d+0+96]=ht(O,F,V),c[d+3+32]=c[d+2+64]=c[d+1+96]=ht(F,V,B),c[d+3+64]=c[d+2+96]=ht(V,B,q),c[d+3+96]=ht(B,q,q)}function Yc(c,d){var y=c[d-1+0],b=c[d-1+32],O=c[d-1+64],F=c[d-1-32],V=c[d+0-32],B=c[d+1-32],q=c[d+2-32],G=c[d+3-32];c[d+0+0]=c[d+1+64]=F+V+1>>1,c[d+1+0]=c[d+2+64]=V+B+1>>1,c[d+2+0]=c[d+3+64]=B+q+1>>1,c[d+3+0]=q+G+1>>1,c[d+0+96]=ht(O,b,y),c[d+0+64]=ht(b,y,F),c[d+0+32]=c[d+1+96]=ht(y,F,V),c[d+1+32]=c[d+2+96]=ht(F,V,B),c[d+2+32]=c[d+3+96]=ht(V,B,q),c[d+3+32]=ht(B,q,G)}function ca(c,d){var y=c[d+0-32],b=c[d+1-32],O=c[d+2-32],F=c[d+3-32],V=c[d+4-32],B=c[d+5-32],q=c[d+6-32],G=c[d+7-32];c[d+0+0]=y+b+1>>1,c[d+1+0]=c[d+0+64]=b+O+1>>1,c[d+2+0]=c[d+1+64]=O+F+1>>1,c[d+3+0]=c[d+2+64]=F+V+1>>1,c[d+0+32]=ht(y,b,O),c[d+1+32]=c[d+0+96]=ht(b,O,F),c[d+2+32]=c[d+1+96]=ht(O,F,V),c[d+3+32]=c[d+2+96]=ht(F,V,B),c[d+3+64]=ht(V,B,q),c[d+3+96]=ht(B,q,G)}function Es(c,d){var y=c[d-1+0],b=c[d-1+32],O=c[d-1+64],F=c[d-1+96];c[d+0+0]=y+b+1>>1,c[d+2+0]=c[d+0+32]=b+O+1>>1,c[d+2+32]=c[d+0+64]=O+F+1>>1,c[d+1+0]=ht(y,b,O),c[d+3+0]=c[d+1+32]=ht(b,O,F),c[d+3+32]=c[d+1+64]=ht(O,F,F),c[d+3+64]=c[d+2+64]=c[d+0+96]=c[d+1+96]=c[d+2+96]=c[d+3+96]=F}function ha(c,d){var y=c[d-1+0],b=c[d-1+32],O=c[d-1+64],F=c[d-1+96],V=c[d-1-32],B=c[d+0-32],q=c[d+1-32],G=c[d+2-32];c[d+0+0]=c[d+2+32]=y+V+1>>1,c[d+0+32]=c[d+2+64]=b+y+1>>1,c[d+0+64]=c[d+2+96]=O+b+1>>1,c[d+0+96]=F+O+1>>1,c[d+3+0]=ht(B,q,G),c[d+2+0]=ht(V,B,q),c[d+1+0]=c[d+3+32]=ht(y,V,B),c[d+1+32]=c[d+3+64]=ht(b,y,V),c[d+1+64]=c[d+3+96]=ht(O,b,y),c[d+1+96]=ht(F,O,b)}function Ni(c,d){var y;for(y=0;8>y;++y)r(c,d+32*y,c,d-32,8)}function Io(c,d){var y;for(y=0;8>y;++y)i(c,d,c[d-1],8),d+=32}function ns(c,d,y){var b;for(b=0;8>b;++b)i(d,y+32*b,c,8)}function xl(c,d){var y,b=8;for(y=0;8>y;++y)b+=c[d+y-32]+c[d-1+32*y];ns(b>>4,c,d)}function ln(c,d){var y,b=4;for(y=0;8>y;++y)b+=c[d+y-32];ns(b>>3,c,d)}function Il(c,d){var y,b=4;for(y=0;8>y;++y)b+=c[d-1+32*y];ns(b>>3,c,d)}function Tu(c,d){ns(128,c,d)}function rs(c,d,y){var b=c[d-y],O=c[d+0],F=3*(O-b)+gm[1020+c[d-2*y]-c[d+y]],V=sd[112+(F+4>>3)];c[d-y]=Ri[255+b+sd[112+(F+3>>3)]],c[d+0]=Ri[255+O-V]}function fa(c,d,y,b){var O=c[d+0],F=c[d+y];return us[255+c[d-2*y]-c[d-y]]>b||us[255+F-O]>b}function To(c,d,y,b){return 4*us[255+c[d-y]-c[d+0]]+us[255+c[d-2*y]-c[d+y]]<=b}function Xs(c,d,y,b,O){var F=c[d-3*y],V=c[d-2*y],B=c[d-y],q=c[d+0],G=c[d+y],te=c[d+2*y],fe=c[d+3*y];return 4*us[255+B-q]+us[255+V-G]>b?0:us[255+c[d-4*y]-F]<=O&&us[255+F-V]<=O&&us[255+V-B]<=O&&us[255+fe-te]<=O&&us[255+te-G]<=O&&us[255+G-q]<=O}function Js(c,d,y,b){var O=2*b+1;for(b=0;16>b;++b)To(c,d+b,y,O)&&rs(c,d+b,y)}function ni(c,d,y,b){var O=2*b+1;for(b=0;16>b;++b)To(c,d+b*y,1,O)&&rs(c,d+b*y,1)}function Tl(c,d,y,b){var O;for(O=3;0<O;--O)Js(c,d+=4*y,y,b)}function ku(c,d,y,b){var O;for(O=3;0<O;--O)ni(c,d+=4,y,b)}function ri(c,d,y,b,O,F,V,B){for(F=2*F+1;0<O--;){if(Xs(c,d,y,F,V))if(fa(c,d,y,B))rs(c,d,y);else{var q=c,G=d,te=y,fe=q[G-2*te],K=q[G-te],se=q[G+0],ce=q[G+te],be=q[G+2*te],he=27*(xe=gm[1020+3*(se-K)+gm[1020+fe-ce]])+63>>7,Se=18*xe+63>>7,xe=9*xe+63>>7;q[G-3*te]=Ri[255+q[G-3*te]+xe],q[G-2*te]=Ri[255+fe+Se],q[G-te]=Ri[255+K+he],q[G+0]=Ri[255+se-he],q[G+te]=Ri[255+ce-Se],q[G+2*te]=Ri[255+be-xe]}d+=b}}function is(c,d,y,b,O,F,V,B){for(F=2*F+1;0<O--;){if(Xs(c,d,y,F,V))if(fa(c,d,y,B))rs(c,d,y);else{var q=c,G=d,te=y,fe=q[G-te],K=q[G+0],se=q[G+te],ce=sd[112+(4+(be=3*(K-fe))>>3)],be=sd[112+(be+3>>3)],he=ce+1>>1;q[G-2*te]=Ri[255+q[G-2*te]+he],q[G-te]=Ri[255+fe+be],q[G+0]=Ri[255+K-ce],q[G+te]=Ri[255+se-he]}d+=b}}function da(c,d,y,b,O,F){ri(c,d,y,1,16,b,O,F)}function ss(c,d,y,b,O,F){ri(c,d,1,y,16,b,O,F)}function kl(c,d,y,b,O,F){var V;for(V=3;0<V;--V)is(c,d+=4*y,y,1,16,b,O,F)}function m(c,d,y,b,O,F){var V;for(V=3;0<V;--V)is(c,d+=4,1,y,16,b,O,F)}function R(c,d,y,b,O,F,V,B){ri(c,d,O,1,8,F,V,B),ri(y,b,O,1,8,F,V,B)}function $(c,d,y,b,O,F,V,B){ri(c,d,1,O,8,F,V,B),ri(y,b,1,O,8,F,V,B)}function Z(c,d,y,b,O,F,V,B){is(c,d+4*O,O,1,8,F,V,B),is(y,b+4*O,O,1,8,F,V,B)}function oe(c,d,y,b,O,F,V,B){is(c,d+4,1,O,8,F,V,B),is(y,b+4,1,O,8,F,V,B)}function Ee(){this.ba=new Tt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Lt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ie(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Be(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ge(){this.ua=0,this.Wa=new xt,this.vb=new xt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new pe,this.yc=new L}function dt(){this.xb=this.a=0,this.l=new Ks,this.ca=new Tt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new H,this.Pb=0,this.wd=new H,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ge,this.ab=0,this.gc=o(4,Be),this.Oc=0}function wt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ks,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ft(c,d,y,b,O,F,V){for(c=c==null?0:c[d+0],d=0;d<V;++d)O[F+d]=c+y[b+d]&255,c=O[F+d]}function Yt(c,d,y,b,O,F,V){var B;if(c==null)Ft(null,null,y,b,O,F,V);else for(B=0;B<V;++B)O[F+B]=c[d+B]+y[b+B]&255}function Nn(c,d,y,b,O,F,V){if(c==null)Ft(null,null,y,b,O,F,V);else{var B,q=c[d+0],G=q,te=q;for(B=0;B<V;++B)G=te+(q=c[d+B])-G,te=y[b+B]+(-256&G?0>G?0:255:G)&255,G=q,O[F+B]=te}}function Zt(c,d,y,b){var O=d.width,F=d.o;if(e(c!=null&&d!=null),0>y||0>=b||y+b>F)return null;if(!c.Cc){if(c.ga==null){var V;if(c.ga=new wt,(V=c.ga==null)||(V=d.width*d.o,e(c.Gb.length==0),c.Gb=s(V),c.Uc=0,c.Gb==null?V=0:(c.mb=c.Gb,c.nb=c.Uc,c.rc=null,V=1),V=!V),!V){V=c.ga;var B=c.Fa,q=c.P,G=c.qc,te=c.mb,fe=c.nb,K=q+1,se=G-1,ce=V.l;if(e(B!=null&&te!=null&&d!=null),Ea[0]=null,Ea[1]=Ft,Ea[2]=Yt,Ea[3]=Nn,V.ca=te,V.tb=fe,V.c=d.width,V.i=d.height,e(0<V.c&&0<V.i),1>=G)d=0;else if(V.$a=3&B[q+0],V.Z=B[q+0]>>2&3,V.Lc=B[q+0]>>4&3,q=B[q+0]>>6&3,0>V.$a||1<V.$a||4<=V.Z||1<V.Lc||q)d=0;else if(ce.put=ut,ce.ac=Fr,ce.bc=yn,ce.ma=V,ce.width=d.width,ce.height=d.height,ce.Da=d.Da,ce.v=d.v,ce.va=d.va,ce.j=d.j,ce.o=d.o,V.$a)e:{e(V.$a==1),d=Hs();t:for(;;){if(d==null){d=0;break e}if(e(V!=null),V.mc=d,d.c=V.c,d.i=V.i,d.l=V.l,d.l.ma=V,d.l.width=V.c,d.l.height=V.i,d.a=0,le(d.m,B,K,se),!Ti(V.c,V.i,1,d,null)||(d.ab==1&&d.gc[0].hc==3&&jr(d.s)?(V.ic=1,B=d.c*d.i,d.Ta=null,d.Ua=0,d.V=s(B),d.Ba=0,d.V==null?(d.a=1,d=0):d=1):(V.ic=0,d=_s(d,V.c)),!d))break t;d=1;break e}V.mc=null,d=0}else d=se>=V.c*V.i;V=!d}if(V)return null;c.ga.Lc!=1?c.Ga=0:b=F-y}e(c.ga!=null),e(y+b<=F);e:{if(d=(B=c.ga).c,F=B.l.o,B.$a==0){if(K=c.rc,se=c.Vc,ce=c.Fa,q=c.P+1+y*d,G=c.mb,te=c.nb+y*d,e(q<=c.P+c.qc),B.Z!=0)for(e(Ea[B.Z]!=null),V=0;V<b;++V)Ea[B.Z](K,se,ce,q,G,te,d),K=G,se=te,te+=d,q+=d;else for(V=0;V<b;++V)r(G,te,ce,q,d),K=G,se=te,te+=d,q+=d;c.rc=K,c.Vc=se}else{if(e(B.mc!=null),d=y+b,e((V=B.mc)!=null),e(d<=V.i),V.C>=d)d=1;else if(B.ic||mi(),B.ic){B=V.V,K=V.Ba,se=V.c;var be=V.i,he=(ce=1,q=V.$/se,G=V.$%se,te=V.m,fe=V.s,V.$),Se=se*be,xe=se*d,Re=fe.wc,ke=he<xe?xn(fe,G,q):null;e(he<=Se),e(d<=be),e(jr(fe));t:for(;;){for(;!te.h&&he<xe;){if(G&Re||(ke=xn(fe,G,q)),e(ke!=null),ue(te),256>(be=An(ke.G[0],ke.H[0],te)))B[K+he]=be,++he,++G>=se&&(G=0,++q<=d&&!(q%16)&&ti(V,q));else{if(!(280>be)){ce=0;break t}be=vr(be-256,te);var tt,We=An(ke.G[4],ke.H[4],te);if(ue(te),!(he>=(We=yr(se,We=vr(We,te)))&&Se-he>=be)){ce=0;break t}for(tt=0;tt<be;++tt)B[K+he+tt]=B[K+he+tt-We];for(he+=be,G+=be;G>=se;)G-=se,++q<=d&&!(q%16)&&ti(V,q);he<xe&&G&Re&&(ke=xn(fe,G,q))}e(te.h==ee(te))}ti(V,q>d?d:q);break t}!ce||te.h&&he<Se?(ce=0,V.a=te.h?5:3):V.$=he,d=ce}else d=Ur(V,V.V,V.Ba,V.c,V.i,d,$s);if(!d){b=0;break e}}y+b>=F&&(c.Cc=1),b=1}if(!b)return null;if(c.Cc&&((b=c.ga)!=null&&(b.mc=null),c.ga=null,0<c.Ga))return alert("todo:WebPDequantizeLevels"),null}return c.nb+y*O}function Fn(c,d,y,b,O,F){for(;0<O--;){var V,B=c,q=d+(y?1:0),G=c,te=d+(y?0:3);for(V=0;V<b;++V){var fe=G[te+4*V];fe!=255&&(fe*=32897,B[q+4*V+0]=B[q+4*V+0]*fe>>23,B[q+4*V+1]=B[q+4*V+1]*fe>>23,B[q+4*V+2]=B[q+4*V+2]*fe>>23)}d+=F}}function Pn(c,d,y,b,O){for(;0<b--;){var F;for(F=0;F<y;++F){var V=c[d+2*F+0],B=15&(G=c[d+2*F+1]),q=4369*B,G=(240&G|G>>4)*q>>16;c[d+2*F+0]=(240&V|V>>4)*q>>16&240|(15&V|V<<4)*q>>16>>4&15,c[d+2*F+1]=240&G|B}d+=O}}function jn(c,d,y,b,O,F,V,B){var q,G,te=255;for(G=0;G<O;++G){for(q=0;q<b;++q){var fe=c[d+q];F[V+4*q]=fe,te&=fe}d+=y,V+=B}return te!=255}function Cn(c,d,y,b,O){var F;for(F=0;F<O;++F)y[b+F]=c[d+F]>>8}function mi(){ih=Fn,By=Pn,zy=jn,qy=Cn}function os(c,d,y){x[c]=function(b,O,F,V,B,q,G,te,fe,K,se,ce,be,he,Se,xe,Re){var ke,tt=Re-1>>1,We=B[q+0]|G[te+0]<<16,Nt=fe[K+0]|se[ce+0]<<16;e(b!=null);var Ye=3*We+Nt+131074>>2;for(d(b[O+0],255&Ye,Ye>>16,be,he),F!=null&&(Ye=3*Nt+We+131074>>2,d(F[V+0],255&Ye,Ye>>16,Se,xe)),ke=1;ke<=tt;++ke){var Vt=B[q+ke]|G[te+ke]<<16,cr=fe[K+ke]|se[ce+ke]<<16,Pt=We+Vt+Nt+cr+524296,Qe=Pt+2*(Vt+Nt)>>3;Ye=Qe+We>>1,We=(Pt=Pt+2*(We+cr)>>3)+Vt>>1,d(b[O+2*ke-1],255&Ye,Ye>>16,be,he+(2*ke-1)*y),d(b[O+2*ke-0],255&We,We>>16,be,he+(2*ke-0)*y),F!=null&&(Ye=Pt+Nt>>1,We=Qe+cr>>1,d(F[V+2*ke-1],255&Ye,Ye>>16,Se,xe+(2*ke-1)*y),d(F[V+2*ke+0],255&We,We>>16,Se,xe+(2*ke+0)*y)),We=Vt,Nt=cr}1&Re||(Ye=3*We+Nt+131074>>2,d(b[O+Re-1],255&Ye,Ye>>16,be,he+(Re-1)*y),F!=null&&(Ye=3*Nt+We+131074>>2,d(F[V+Re-1],255&Ye,Ye>>16,Se,xe+(Re-1)*y)))}}function as(){cs[od]=gT,cs[ad]=e5,cs[Yy]=mT,cs[ld]=t5,cs[ud]=n5,cs[mm]=r5,cs[Qy]=vT,cs[vm]=e5,cs[ym]=t5,cs[cd]=n5,cs[wm]=r5}function h(c){return c&-16384?0>c?0:255:c>>yT}function w(c,d){return h((19077*c>>8)+(26149*d>>8)-14234)}function T(c,d,y){return h((19077*c>>8)-(6419*d>>8)-(13320*y>>8)+8708)}function z(c,d){return h((19077*c>>8)+(33050*d>>8)-17685)}function ae(c,d,y,b,O){b[O+0]=w(c,y),b[O+1]=T(c,d,y),b[O+2]=z(c,d)}function de(c,d,y,b,O){b[O+0]=z(c,d),b[O+1]=T(c,d,y),b[O+2]=w(c,y)}function De(c,d,y,b,O){var F=T(c,d,y);d=F<<3&224|z(c,d)>>3,b[O+0]=248&w(c,y)|F>>5,b[O+1]=d}function Ut(c,d,y,b,O){var F=240&z(c,d)|15;b[O+0]=240&w(c,y)|T(c,d,y)>>4,b[O+1]=F}function Ln(c,d,y,b,O){b[O+0]=255,ae(c,d,y,b,O+1)}function Rt(c,d,y,b,O){de(c,d,y,b,O),b[O+3]=255}function Gt(c,d,y,b,O){ae(c,d,y,b,O),b[O+3]=255}function gn(c,d,y){x[c]=function(b,O,F,V,B,q,G,te,fe){for(var K=te+(-2&fe)*y;te!=K;)d(b[O+0],F[V+0],B[q+0],G,te),d(b[O+1],F[V+0],B[q+0],G,te+y),O+=2,++V,++q,te+=2*y;1&fe&&d(b[O+0],F[V+0],B[q+0],G,te)}}function Pi(c,d,y){return y==0?c==0?d==0?6:5:d==0?4:0:y}function Vr(c,d,y,b,O){switch(c>>>30){case 3:Cl(d,y,b,O,0);break;case 2:ls(d,y,b,O);break;case 1:Jt(d,y,b,O)}}function Ir(c,d){var y,b,O=d.M,F=d.Nb,V=c.oc,B=c.pc+40,q=c.oc,G=c.pc+584,te=c.oc,fe=c.pc+600;for(y=0;16>y;++y)V[B+32*y-1]=129;for(y=0;8>y;++y)q[G+32*y-1]=129,te[fe+32*y-1]=129;for(0<O?V[B-1-32]=q[G-1-32]=te[fe-1-32]=129:(i(V,B-32-1,127,21),i(q,G-32-1,127,9),i(te,fe-32-1,127,9)),b=0;b<c.za;++b){var K=d.ya[d.aa+b];if(0<b){for(y=-1;16>y;++y)r(V,B+32*y-4,V,B+32*y+12,4);for(y=-1;8>y;++y)r(q,G+32*y-4,q,G+32*y+4,4),r(te,fe+32*y-4,te,fe+32*y+4,4)}var se=c.Gd,ce=c.Hd+b,be=K.ad,he=K.Hc;if(0<O&&(r(V,B-32,se[ce].y,0,16),r(q,G-32,se[ce].f,0,8),r(te,fe-32,se[ce].ea,0,8)),K.Za){var Se=V,xe=B-32+16;for(0<O&&(b>=c.za-1?i(Se,xe,se[ce].y[15],4):r(Se,xe,se[ce+1].y,0,4)),y=0;4>y;y++)Se[xe+128+y]=Se[xe+256+y]=Se[xe+384+y]=Se[xe+0+y];for(y=0;16>y;++y,he<<=2)Se=V,xe=B+s5[y],As[K.Ob[y]](Se,xe),Vr(he,be,16*+y,Se,xe)}else if(Se=Pi(b,O,K.Ob[0]),ba[Se](V,B),he!=0)for(y=0;16>y;++y,he<<=2)Vr(he,be,16*+y,V,B+s5[y]);for(y=K.Gc,Se=Pi(b,O,K.Dd),Po[Se](q,G),Po[Se](te,fe),he=be,Se=q,xe=G,255&(K=0|y)&&(170&K?to(he,256,Se,xe):hn(he,256,Se,xe)),K=te,he=fe,255&(y>>=8)&&(170&y?to(be,320,K,he):hn(be,320,K,he)),O<c.Ub-1&&(r(se[ce].y,0,V,B+480,16),r(se[ce].f,0,q,G+224,8),r(se[ce].ea,0,te,fe+224,8)),y=8*F*c.B,se=c.sa,ce=c.ta+16*b+16*F*c.R,be=c.qa,K=c.ra+8*b+y,he=c.Ha,Se=c.Ia+8*b+y,y=0;16>y;++y)r(se,ce+y*c.R,V,B+32*y,16);for(y=0;8>y;++y)r(be,K+y*c.B,q,G+32*y,8),r(he,Se+y*c.B,te,fe+32*y,8)}}function Ss(c,d,y,b,O,F,V,B,q){var G=[0],te=[0],fe=0,K=q!=null?q.kd:0,se=q??new Ie;if(c==null||12>y)return 7;se.data=c,se.w=d,se.ha=y,d=[d],y=[y],se.gb=[se.gb];e:{var ce=d,be=y,he=se.gb;if(e(c!=null),e(be!=null),e(he!=null),he[0]=0,12<=be[0]&&!n(c,ce[0],"RIFF")){if(n(c,ce[0]+8,"WEBP")){he=3;break e}var Se=Je(c,ce[0]+4);if(12>Se||4294967286<Se){he=3;break e}if(K&&Se>be[0]-8){he=7;break e}he[0]=Se,ce[0]+=12,be[0]-=12}he=0}if(he!=0)return he;for(Se=0<se.gb[0],y=y[0];;){e:{var xe=c;be=d,he=y;var Re=G,ke=te,tt=ce=[0];if((Ye=fe=[fe])[0]=0,8>he[0])he=7;else{if(!n(xe,be[0],"VP8X")){if(Je(xe,be[0]+4)!=10){he=3;break e}if(18>he[0]){he=7;break e}var We=Je(xe,be[0]+8),Nt=1+je(xe,be[0]+12);if(2147483648<=Nt*(xe=1+je(xe,be[0]+15))){he=3;break e}tt!=null&&(tt[0]=We),Re!=null&&(Re[0]=Nt),ke!=null&&(ke[0]=xe),be[0]+=18,he[0]-=18,Ye[0]=1}he=0}}if(fe=fe[0],ce=ce[0],he!=0)return he;if(be=!!(2&ce),!Se&&fe)return 3;if(F!=null&&(F[0]=!!(16&ce)),V!=null&&(V[0]=be),B!=null&&(B[0]=0),V=G[0],ce=te[0],fe&&be&&q==null){he=0;break}if(4>y){he=7;break}if(Se&&fe||!Se&&!fe&&!n(c,d[0],"ALPH")){y=[y],se.na=[se.na],se.P=[se.P],se.Sa=[se.Sa];e:{We=c,he=d,Se=y;var Ye=se.gb;Re=se.na,ke=se.P,tt=se.Sa,Nt=22,e(We!=null),e(Se!=null),xe=he[0];var Vt=Se[0];for(e(Re!=null),e(tt!=null),Re[0]=null,ke[0]=null,tt[0]=0;;){if(he[0]=xe,Se[0]=Vt,8>Vt){he=7;break e}var cr=Je(We,xe+4);if(4294967286<cr){he=3;break e}var Pt=8+cr+1&-2;if(Nt+=Pt,0<Ye&&Nt>Ye){he=3;break e}if(!n(We,xe,"VP8 ")||!n(We,xe,"VP8L")){he=0;break e}if(Vt[0]<Pt){he=7;break e}n(We,xe,"ALPH")||(Re[0]=We,ke[0]=xe+8,tt[0]=cr),xe+=Pt,Vt-=Pt}}if(y=y[0],se.na=se.na[0],se.P=se.P[0],se.Sa=se.Sa[0],he!=0)break}y=[y],se.Ja=[se.Ja],se.xa=[se.xa];e:if(Ye=c,he=d,Se=y,Re=se.gb[0],ke=se.Ja,tt=se.xa,We=he[0],xe=!n(Ye,We,"VP8 "),Nt=!n(Ye,We,"VP8L"),e(Ye!=null),e(Se!=null),e(ke!=null),e(tt!=null),8>Se[0])he=7;else{if(xe||Nt){if(Ye=Je(Ye,We+4),12<=Re&&Ye>Re-12){he=3;break e}if(K&&Ye>Se[0]-8){he=7;break e}ke[0]=Ye,he[0]+=8,Se[0]-=8,tt[0]=Nt}else tt[0]=5<=Se[0]&&Ye[We+0]==47&&!(Ye[We+4]>>5),ke[0]=Se[0];he=0}if(y=y[0],se.Ja=se.Ja[0],se.xa=se.xa[0],d=d[0],he!=0)break;if(4294967286<se.Ja)return 3;if(B==null||be||(B[0]=se.xa?2:1),V=[V],ce=[ce],se.xa){if(5>y){he=7;break}B=V,K=ce,be=F,c==null||5>y?c=0:5<=y&&c[d+0]==47&&!(c[d+4]>>5)?(Se=[0],Ye=[0],Re=[0],le(ke=new H,c,d,y),Ji(ke,Se,Ye,Re)?(B!=null&&(B[0]=Se[0]),K!=null&&(K[0]=Ye[0]),be!=null&&(be[0]=Re[0]),c=1):c=0):c=0}else{if(10>y){he=7;break}B=ce,c==null||10>y||!Eu(c,d+3,y-3)?c=0:(K=c[d+0]|c[d+1]<<8|c[d+2]<<16,be=16383&(c[d+7]<<8|c[d+6]),c=16383&(c[d+9]<<8|c[d+8]),1&K||3<(K>>1&7)||!(K>>4&1)||K>>5>=se.Ja||!be||!c?c=0:(V&&(V[0]=be),B&&(B[0]=c),c=1))}if(!c||(V=V[0],ce=ce[0],fe&&(G[0]!=V||te[0]!=ce)))return 3;q!=null&&(q[0]=se,q.offset=d-q.w,e(4294967286>d-q.w),e(q.offset==q.ha-y));break}return he==0||he==7&&fe&&q==null?(F!=null&&(F[0]|=se.na!=null&&0<se.na.length),b!=null&&(b[0]=V),O!=null&&(O[0]=ce),0):he}function Qc(c,d,y){var b=d.width,O=d.height,F=0,V=0,B=b,q=O;if(d.Da=c!=null&&0<c.Da,d.Da&&(B=c.cd,q=c.bd,F=c.v,V=c.j,11>y||(F&=-2,V&=-2),0>F||0>V||0>=B||0>=q||F+B>b||V+q>O))return 0;if(d.v=F,d.j=V,d.va=F+B,d.o=V+q,d.U=B,d.T=q,d.da=c!=null&&0<c.da,d.da){if(!lt(B,q,y=[c.ib],F=[c.hb]))return 0;d.ib=y[0],d.hb=F[0]}return d.ob=c!=null&&c.ob,d.Kb=c==null||!c.Sd,d.da&&(d.ob=d.ib<3*b/4&&d.hb<3*O/4,d.Kb=0),1}function Xc(c){if(c==null)return 2;if(11>c.S){var d=c.f.RGBA;d.fb+=(c.height-1)*d.A,d.A=-d.A}else d=c.f.kb,c=c.height,d.O+=(c-1)*d.fa,d.fa=-d.fa,d.N+=(c-1>>1)*d.Ab,d.Ab=-d.Ab,d.W+=(c-1>>1)*d.Db,d.Db=-d.Db,d.F!=null&&(d.J+=(c-1)*d.lb,d.lb=-d.lb);return 0}function pa(c,d,y,b){if(b==null||0>=c||0>=d)return 2;if(y!=null){if(y.Da){var O=y.cd,F=y.bd,V=-2&y.v,B=-2&y.j;if(0>V||0>B||0>=O||0>=F||V+O>c||B+F>d)return 2;c=O,d=F}if(y.da){if(!lt(c,d,O=[y.ib],F=[y.hb]))return 2;c=O[0],d=F[0]}}b.width=c,b.height=d;e:{var q=b.width,G=b.height;if(c=b.S,0>=q||0>=G||!(c>=od&&13>c))c=2;else{if(0>=b.Rd&&b.sd==null){V=F=O=d=0;var te=(B=q*o5[c])*G;if(11>c||(F=(G+1)/2*(d=(q+1)/2),c==12&&(V=(O=q)*G)),(G=s(te+2*F+V))==null){c=1;break e}b.sd=G,11>c?((q=b.f.RGBA).eb=G,q.fb=0,q.A=B,q.size=te):((q=b.f.kb).y=G,q.O=0,q.fa=B,q.Fd=te,q.f=G,q.N=0+te,q.Ab=d,q.Cd=F,q.ea=G,q.W=0+te+F,q.Db=d,q.Ed=F,c==12&&(q.F=G,q.J=0+te+2*F),q.Tc=V,q.lb=O)}if(d=1,O=b.S,F=b.width,V=b.height,O>=od&&13>O)if(11>O)c=b.f.RGBA,d&=(B=Math.abs(c.A))*(V-1)+F<=c.size,d&=B>=F*o5[O],d&=c.eb!=null;else{c=b.f.kb,B=(F+1)/2,te=(V+1)/2,q=Math.abs(c.fa),G=Math.abs(c.Ab);var fe=Math.abs(c.Db),K=Math.abs(c.lb),se=K*(V-1)+F;d&=q*(V-1)+F<=c.Fd,d&=G*(te-1)+B<=c.Cd,d=(d&=fe*(te-1)+B<=c.Ed)&q>=F&G>=B&fe>=B,d&=c.y!=null,d&=c.f!=null,d&=c.ea!=null,O==12&&(d&=K>=F,d&=se<=c.Tc,d&=c.F!=null)}else d=0;c=d?0:2}}return c!=0||y!=null&&y.fd&&(c=Xc(b)),c}var Nl=64,Ci=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Li=24,ga=32,ko=8,ma=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ve("Predictor0","PredictorAdd0"),x.Predictor0=function(){return 4278190080},x.Predictor1=function(c){return c},x.Predictor2=function(c,d,y){return d[y+0]},x.Predictor3=function(c,d,y){return d[y+1]},x.Predictor4=function(c,d,y){return d[y-1]},x.Predictor5=function(c,d,y){return et(et(c,d[y+1]),d[y+0])},x.Predictor6=function(c,d,y){return et(c,d[y-1])},x.Predictor7=function(c,d,y){return et(c,d[y+0])},x.Predictor8=function(c,d,y){return et(d[y-1],d[y+0])},x.Predictor9=function(c,d,y){return et(d[y+0],d[y+1])},x.Predictor10=function(c,d,y){return et(et(c,d[y-1]),et(d[y+0],d[y+1]))},x.Predictor11=function(c,d,y){var b=d[y+0];return 0>=Xe(b>>24&255,c>>24&255,(d=d[y-1])>>24&255)+Xe(b>>16&255,c>>16&255,d>>16&255)+Xe(b>>8&255,c>>8&255,d>>8&255)+Xe(255&b,255&c,255&d)?b:c},x.Predictor12=function(c,d,y){var b=d[y+0];return(zt((c>>24&255)+(b>>24&255)-((d=d[y-1])>>24&255))<<24|zt((c>>16&255)+(b>>16&255)-(d>>16&255))<<16|zt((c>>8&255)+(b>>8&255)-(d>>8&255))<<8|zt((255&c)+(255&b)-(255&d)))>>>0},x.Predictor13=function(c,d,y){var b=d[y-1];return(Ct((c=et(c,d[y+0]))>>24&255,b>>24&255)<<24|Ct(c>>16&255,b>>16&255)<<16|Ct(c>>8&255,b>>8&255)<<8|Ct(255&c,255&b))>>>0};var Jc=x.PredictorAdd0;x.PredictorAdd1=ft,Ve("Predictor2","PredictorAdd2"),Ve("Predictor3","PredictorAdd3"),Ve("Predictor4","PredictorAdd4"),Ve("Predictor5","PredictorAdd5"),Ve("Predictor6","PredictorAdd6"),Ve("Predictor7","PredictorAdd7"),Ve("Predictor8","PredictorAdd8"),Ve("Predictor9","PredictorAdd9"),Ve("Predictor10","PredictorAdd10"),Ve("Predictor11","PredictorAdd11"),Ve("Predictor12","PredictorAdd12"),Ve("Predictor13","PredictorAdd13");var Nu=x.PredictorAdd2;Ze("ColorIndexInverseTransform","MapARGB","32b",function(c){return c>>8&255},function(c){return c}),Ze("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(c){return c},function(c){return c>>8&255});var Kn,rd=x.ColorIndexInverseTransform,Zs=x.MapARGB,eo=x.VP8LColorIndexInverseTransformAlpha,Zc=x.MapAlpha,eh=x.VP8LPredictorsAdd=[];eh.length=16,(x.VP8LPredictors=[]).length=16,(x.VP8LPredictorsAdd_C=[]).length=16,(x.VP8LPredictors_C=[]).length=16;var th,nh,va,ya,wa,Pl,_a,Cl,ls,to,Jt,hn,Yn,ur,No,rh,Pu,id,Dy,My,Fy,jy,Uy,Vy,ih,By,zy,qy,Wy=s(511),Hy=s(2041),$y=s(225),Gy=s(767),Ky=0,gm=Hy,sd=$y,Ri=Gy,us=Wy,od=0,ad=1,Yy=2,ld=3,ud=4,mm=5,Qy=6,vm=7,ym=8,cd=9,wm=10,tT=[2,3,7],nT=[3,3,11],Xy=[280,256,256,256,40],rT=[0,1,1,1,0],iT=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],sT=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],oT=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],aT=8,_m=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],bm=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],sh=null,lT=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],uT=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Jy=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],cT=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],hT=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],fT=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],dT=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ba=[],As=[],Po=[],pT=1,Zy=2,Ea=[],cs=[];os("UpsampleRgbLinePair",ae,3),os("UpsampleBgrLinePair",de,3),os("UpsampleRgbaLinePair",Gt,4),os("UpsampleBgraLinePair",Rt,4),os("UpsampleArgbLinePair",Ln,4),os("UpsampleRgba4444LinePair",Ut,2),os("UpsampleRgb565LinePair",De,2);var gT=x.UpsampleRgbLinePair,mT=x.UpsampleBgrLinePair,e5=x.UpsampleRgbaLinePair,t5=x.UpsampleBgraLinePair,n5=x.UpsampleArgbLinePair,r5=x.UpsampleRgba4444LinePair,vT=x.UpsampleRgb565LinePair,hd=16,fd=1<<hd-1,oh=-227,Em=482,yT=6,i5=0,wT=s(256),_T=s(256),bT=s(256),ET=s(256),ST=s(Em-oh),AT=s(Em-oh);gn("YuvToRgbRow",ae,3),gn("YuvToBgrRow",de,3),gn("YuvToRgbaRow",Gt,4),gn("YuvToBgraRow",Rt,4),gn("YuvToArgbRow",Ln,4),gn("YuvToRgba4444Row",Ut,2),gn("YuvToRgb565Row",De,2);var s5=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],dd=[0,2,8],xT=[8,7,6,4,4,2,2,2,1,1,1,1],IT=1;this.WebPDecodeRGBA=function(c,d,y,b,O){var F=ad,V=new Ee,B=new Tt;V.ba=B,B.S=F,B.width=[B.width],B.height=[B.height];var q=B.width,G=B.height,te=new ot;if(te==null||c==null)var fe=2;else e(te!=null),fe=Ss(c,d,y,te.width,te.height,te.Pd,te.Qd,te.format,null);if(fe!=0?q=0:(q!=null&&(q[0]=te.width[0]),G!=null&&(G[0]=te.height[0]),q=1),q){B.width=B.width[0],B.height=B.height[0],b!=null&&(b[0]=B.width),O!=null&&(O[0]=B.height);e:{if(b=new Ks,(O=new Ie).data=c,O.w=d,O.ha=y,O.kd=1,d=[0],e(O!=null),((c=Ss(O.data,O.w,O.ha,null,null,null,d,null,O))==0||c==7)&&d[0]&&(c=4),(d=c)==0){if(e(V!=null),b.data=O.data,b.w=O.w+O.offset,b.ha=O.ha-O.offset,b.put=ut,b.ac=Fr,b.bc=yn,b.ma=V,O.xa){if((c=Hs())==null){V=1;break e}if(function(K,se){var ce=[0],be=[0],he=[0];t:for(;;){if(K==null)return 0;if(se==null)return K.a=2,0;if(K.l=se,K.a=0,le(K.m,se.data,se.w,se.ha),!Ji(K.m,ce,be,he)){K.a=3;break t}if(K.xb=Zy,se.width=ce[0],se.height=be[0],!Ti(ce[0],be[0],1,K,null))break t;return 1}return e(K.a!=0),0}(c,b)){if(b=(d=pa(b.width,b.height,V.Oa,V.ba))==0){t:{b=c;n:for(;;){if(b==null){b=0;break t}if(e(b.s.yc!=null),e(b.s.Ya!=null),e(0<b.s.Wb),e((y=b.l)!=null),e((O=y.ma)!=null),b.xb!=0){if(b.ca=O.ba,b.tb=O.tb,e(b.ca!=null),!Qc(O.Oa,y,ld)){b.a=2;break n}if(!_s(b,y.width)||y.da)break n;if((y.da||ct(b.ca.S))&&mi(),11>b.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),b.ca.f.kb.F!=null&&mi()),b.Pb&&0<b.s.ua&&b.s.vb.X==null&&!W(b.s.vb,b.s.Wa.Xa)){b.a=1;break n}b.xb=0}if(!Ur(b,b.V,b.Ba,b.c,b.i,y.o,Ws))break n;O.Dc=b.Ma,b=1;break t}e(b.a!=0),b=0}b=!b}b&&(d=c.a)}else d=c.a}else{if((c=new bu)==null){V=1;break e}if(c.Fa=O.na,c.P=O.P,c.qc=O.Sa,Zi(c,b)){if((d=pa(b.width,b.height,V.Oa,V.ba))==0){if(c.Aa=0,y=V.Oa,e((O=c)!=null),y!=null){if(0<(q=0>(q=y.Md)?0:100<q?255:255*q/100)){for(G=te=0;4>G;++G)12>(fe=O.pb[G]).lc&&(fe.ia=q*xT[0>fe.lc?0:fe.lc]>>3),te|=fe.ia;te&&(alert("todo:VP8InitRandom"),O.ia=1)}O.Ga=y.Id,100<O.Ga?O.Ga=100:0>O.Ga&&(O.Ga=0)}(function(K,se){if(K==null)return 0;if(se==null)return kn(K,2,"NULL VP8Io parameter in VP8Decode().");if(!K.cb&&!Zi(K,se))return 0;if(e(K.cb),se.ac==null||se.ac(se)){se.ob&&(K.L=0);var ce=dd[K.L];if(K.L==2?(K.yb=0,K.zb=0):(K.yb=se.v-ce>>4,K.zb=se.j-ce>>4,0>K.yb&&(K.yb=0),0>K.zb&&(K.zb=0)),K.Va=se.o+15+ce>>4,K.Hb=se.va+15+ce>>4,K.Hb>K.za&&(K.Hb=K.za),K.Va>K.Ub&&(K.Va=K.Ub),0<K.L){var be=K.ed;for(ce=0;4>ce;++ce){var he;if(K.Qa.Cb){var Se=K.Qa.Lb[ce];K.Qa.Fb||(Se+=be.Tb)}else Se=be.Tb;for(he=0;1>=he;++he){var xe=K.gd[ce][he],Re=Se;if(be.Pc&&(Re+=be.vd[0],he&&(Re+=be.od[0])),0<(Re=0>Re?0:63<Re?63:Re)){var ke=Re;0<be.wb&&(ke=4<be.wb?ke>>2:ke>>1)>9-be.wb&&(ke=9-be.wb),1>ke&&(ke=1),xe.dd=ke,xe.tc=2*Re+ke,xe.ld=40<=Re?2:15<=Re?1:0}else xe.tc=0;xe.La=he}}}ce=0}else kn(K,6,"Frame setup failed"),ce=K.a;if(ce=ce==0){if(ce){K.$c=0,0<K.Aa||(K.Ic=IT);t:{ce=K.Ic,be=4*(ke=K.za);var tt=32*ke,We=ke+1,Nt=0<K.L?ke*(0<K.Aa?2:1):0,Ye=(K.Aa==2?2:1)*ke;if((xe=be+832+(he=3*(16*ce+dd[K.L])/2*tt)+(Se=K.Fa!=null&&0<K.Fa.length?K.Kc.c*K.Kc.i:0))!=xe)ce=0;else{if(xe>K.Vb){if(K.Vb=0,K.Ec=s(xe),K.Fc=0,K.Ec==null){ce=kn(K,1,"no memory during frame initialization.");break t}K.Vb=xe}xe=K.Ec,Re=K.Fc,K.Ac=xe,K.Bc=Re,Re+=be,K.Gd=o(tt,bl),K.Hd=0,K.rb=o(We+1,ki),K.sb=1,K.wa=Nt?o(Nt,wr):null,K.Y=0,K.D.Nb=0,K.D.wa=K.wa,K.D.Y=K.Y,0<K.Aa&&(K.D.Y+=ke),e(!0),K.oc=xe,K.pc=Re,Re+=832,K.ya=o(Ye,wl),K.aa=0,K.D.ya=K.ya,K.D.aa=K.aa,K.Aa==2&&(K.D.aa+=ke),K.R=16*ke,K.B=8*ke,ke=(tt=dd[K.L])*K.R,tt=tt/2*K.B,K.sa=xe,K.ta=Re+ke,K.qa=K.sa,K.ra=K.ta+16*ce*K.R+tt,K.Ha=K.qa,K.Ia=K.ra+8*ce*K.B+tt,K.$c=0,Re+=he,K.mb=Se?xe:null,K.nb=Se?Re:null,e(Re+Se<=K.Fc+K.Vb),Sl(K),i(K.Ac,K.Bc,0,be),ce=1}}if(ce){if(se.ka=0,se.y=K.sa,se.O=K.ta,se.f=K.qa,se.N=K.ra,se.ea=K.Ha,se.Vd=K.Ia,se.fa=K.R,se.Rc=K.B,se.F=null,se.J=0,!Ky){for(ce=-255;255>=ce;++ce)Wy[255+ce]=0>ce?-ce:ce;for(ce=-1020;1020>=ce;++ce)Hy[1020+ce]=-128>ce?-128:127<ce?127:ce;for(ce=-112;112>=ce;++ce)$y[112+ce]=-16>ce?-16:15<ce?15:ce;for(ce=-255;510>=ce;++ce)Gy[255+ce]=0>ce?0:255<ce?255:ce;Ky=1}_a=es,Cl=Su,to=Mt,Jt=Ao,hn=Ys,ls=la,Yn=da,ur=ss,No=R,rh=$,Pu=kl,id=m,Dy=Z,My=oe,Fy=Js,jy=ni,Uy=Tl,Vy=ku,As[0]=Kc,As[1]=Au,As[2]=$c,As[3]=Gc,As[4]=_r,As[5]=Yc,As[6]=bs,As[7]=ca,As[8]=ha,As[9]=Es,ba[0]=ts,ba[1]=Hc,ba[2]=Al,ba[3]=xu,ba[4]=Qs,ba[5]=ua,ba[6]=Iu,Po[0]=xl,Po[1]=Wc,Po[2]=Ni,Po[3]=Io,Po[4]=Il,Po[5]=ln,Po[6]=Tu,ce=1}else ce=0}ce&&(ce=function(Vt,cr){for(Vt.M=0;Vt.M<Vt.Va;++Vt.M){var Pt,Qe=Vt.Jc[Vt.M&Vt.Xb],Me=Vt.m,Qn=Vt;for(Pt=0;Pt<Qn.za;++Pt){var At=Me,qt=Qn,wn=qt.Ac,Tr=qt.Bc+4*Pt,ii=qt.zc,Un=qt.ya[qt.aa+Pt];if(qt.Qa.Bb?Un.$b=Ae(At,qt.Pa.jb[0])?2+Ae(At,qt.Pa.jb[2]):Ae(At,qt.Pa.jb[1]):Un.$b=0,qt.kc&&(Un.Ad=Ae(At,qt.Bd)),Un.Za=!Ae(At,145)+0,Un.Za){var Br=Un.Ob,si=0;for(qt=0;4>qt;++qt){var hr,Ht=ii[0+qt];for(hr=0;4>hr;++hr){Ht=hT[wn[Tr+hr]][Ht];for(var en=Jy[Ae(At,Ht[0])];0<en;)en=Jy[2*en+Ae(At,Ht[en])];Ht=-en,wn[Tr+hr]=Ht}r(Br,si,wn,Tr,4),si+=4,ii[0+qt]=Ht}}else Ht=Ae(At,156)?Ae(At,128)?1:3:Ae(At,163)?2:0,Un.Ob[0]=Ht,i(wn,Tr,Ht,4),i(ii,0,Ht,4);Un.Dd=Ae(At,142)?Ae(At,114)?Ae(At,183)?1:3:2:0}if(Qn.m.Ka)return kn(Vt,7,"Premature end-of-partition0 encountered.");for(;Vt.ja<Vt.za;++Vt.ja){if(Qn=Qe,At=(Me=Vt).rb[Me.sb-1],wn=Me.rb[Me.sb+Me.ja],Pt=Me.ya[Me.aa+Me.ja],Tr=Me.kc?Pt.Ad:0)At.la=wn.la=0,Pt.Za||(At.Na=wn.Na=0),Pt.Hc=0,Pt.Gc=0,Pt.ia=0;else{var Vn,tn;if(At=wn,wn=Qn,Tr=Me.Pa.Xc,ii=Me.ya[Me.aa+Me.ja],Un=Me.pb[ii.$b],qt=ii.ad,Br=0,si=Me.rb[Me.sb-1],Ht=hr=0,i(qt,Br,0,384),ii.Za)var kr=0,xs=Tr[3];else{en=s(16);var Xn=At.Na+si.Na;if(Xn=sh(wn,Tr[1],Xn,Un.Eb,0,en,0),At.Na=si.Na=(0<Xn)+0,1<Xn)_a(en,0,qt,Br);else{var vi=en[0]+3>>3;for(en=0;256>en;en+=16)qt[Br+en]=vi}kr=1,xs=Tr[0]}var fn=15&At.la,fr=15&si.la;for(en=0;4>en;++en){var Oi=1&fr;for(vi=tn=0;4>vi;++vi)fn=fn>>1|(Oi=(Xn=sh(wn,xs,Xn=Oi+(1&fn),Un.Sc,kr,qt,Br))>kr)<<7,tn=tn<<2|(3<Xn?3:1<Xn?2:qt[Br+0]!=0),Br+=16;fn>>=4,fr=fr>>1|Oi<<7,hr=(hr<<8|tn)>>>0}for(xs=fn,kr=fr>>4,Vn=0;4>Vn;Vn+=2){for(tn=0,fn=At.la>>4+Vn,fr=si.la>>4+Vn,en=0;2>en;++en){for(Oi=1&fr,vi=0;2>vi;++vi)Xn=Oi+(1&fn),fn=fn>>1|(Oi=0<(Xn=sh(wn,Tr[2],Xn,Un.Qc,0,qt,Br)))<<3,tn=tn<<2|(3<Xn?3:1<Xn?2:qt[Br+0]!=0),Br+=16;fn>>=2,fr=fr>>1|Oi<<5}Ht|=tn<<4*Vn,xs|=fn<<4<<Vn,kr|=(240&fr)<<Vn}At.la=xs,si.la=kr,ii.Hc=hr,ii.Gc=Ht,ii.ia=43690&Ht?0:Un.ia,Tr=!(hr|Ht)}if(0<Me.L&&(Me.wa[Me.Y+Me.ja]=Me.gd[Pt.$b][Pt.Za],Me.wa[Me.Y+Me.ja].La|=!Tr),Qn.Ka)return kn(Vt,7,"Premature end-of-file encountered.")}if(Sl(Vt),Me=cr,Qn=1,Pt=(Qe=Vt).D,At=0<Qe.L&&Qe.M>=Qe.zb&&Qe.M<=Qe.Va,Qe.Aa==0)t:{if(Pt.M=Qe.M,Pt.uc=At,Ir(Qe,Pt),Qn=1,Pt=(tn=Qe.D).Nb,At=(Ht=dd[Qe.L])*Qe.R,wn=Ht/2*Qe.B,en=16*Pt*Qe.R,vi=8*Pt*Qe.B,Tr=Qe.sa,ii=Qe.ta-At+en,Un=Qe.qa,qt=Qe.ra-wn+vi,Br=Qe.Ha,si=Qe.Ia-wn+vi,fr=(fn=tn.M)==0,hr=fn>=Qe.Va-1,Qe.Aa==2&&Ir(Qe,tn),tn.uc)for(Oi=(Xn=Qe).D.M,e(Xn.D.uc),tn=Xn.yb;tn<Xn.Hb;++tn){kr=tn,xs=Oi;var oi=(Di=(Nr=Xn).D).Nb;Vn=Nr.R;var Di=Di.wa[Di.Y+kr],Mi=Nr.sa,yi=Nr.ta+16*oi*Vn+16*kr,Fi=Di.dd,mn=Di.tc;if(mn!=0)if(e(3<=mn),Nr.L==1)0<kr&&jy(Mi,yi,Vn,mn+4),Di.La&&Vy(Mi,yi,Vn,mn),0<xs&&Fy(Mi,yi,Vn,mn+4),Di.La&&Uy(Mi,yi,Vn,mn);else{var ji=Nr.B,Is=Nr.qa,Ll=Nr.ra+8*oi*ji+8*kr,Co=Nr.Ha,Nr=Nr.Ia+8*oi*ji+8*kr;oi=Di.ld,0<kr&&(ur(Mi,yi,Vn,mn+4,Fi,oi),rh(Is,Ll,Co,Nr,ji,mn+4,Fi,oi)),Di.La&&(id(Mi,yi,Vn,mn,Fi,oi),My(Is,Ll,Co,Nr,ji,mn,Fi,oi)),0<xs&&(Yn(Mi,yi,Vn,mn+4,Fi,oi),No(Is,Ll,Co,Nr,ji,mn+4,Fi,oi)),Di.La&&(Pu(Mi,yi,Vn,mn,Fi,oi),Dy(Is,Ll,Co,Nr,ji,mn,Fi,oi))}}if(Qe.ia&&alert("todo:DitherRow"),Me.put!=null){if(tn=16*fn,fn=16*(fn+1),fr?(Me.y=Qe.sa,Me.O=Qe.ta+en,Me.f=Qe.qa,Me.N=Qe.ra+vi,Me.ea=Qe.Ha,Me.W=Qe.Ia+vi):(tn-=Ht,Me.y=Tr,Me.O=ii,Me.f=Un,Me.N=qt,Me.ea=Br,Me.W=si),hr||(fn-=Ht),fn>Me.o&&(fn=Me.o),Me.F=null,Me.J=null,Qe.Fa!=null&&0<Qe.Fa.length&&tn<fn&&(Me.J=Zt(Qe,Me,tn,fn-tn),Me.F=Qe.mb,Me.F==null&&Me.F.length==0)){Qn=kn(Qe,3,"Could not decode alpha data.");break t}tn<Me.j&&(Ht=Me.j-tn,tn=Me.j,e(!(1&Ht)),Me.O+=Qe.R*Ht,Me.N+=Qe.B*(Ht>>1),Me.W+=Qe.B*(Ht>>1),Me.F!=null&&(Me.J+=Me.width*Ht)),tn<fn&&(Me.O+=Me.v,Me.N+=Me.v>>1,Me.W+=Me.v>>1,Me.F!=null&&(Me.J+=Me.v),Me.ka=tn-Me.j,Me.U=Me.va-Me.v,Me.T=fn-tn,Qn=Me.put(Me))}Pt+1!=Qe.Ic||hr||(r(Qe.sa,Qe.ta-At,Tr,ii+16*Qe.R,At),r(Qe.qa,Qe.ra-wn,Un,qt+8*Qe.B,wn),r(Qe.Ha,Qe.Ia-wn,Br,si+8*Qe.B,wn))}if(!Qn)return kn(Vt,6,"Output aborted.")}return 1}(K,se)),se.bc!=null&&se.bc(se),ce&=1}return ce?(K.cb=0,ce):0})(c,b)||(d=c.a)}}else d=c.a}d==0&&V.Oa!=null&&V.Oa.fd&&(d=Xc(V.ba))}V=d}F=V!=0?null:11>F?B.f.RGBA.eb:B.f.kb.y}else F=null;return F};var o5=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(x,D){for(var E="",N=0;N<4;N++)E+=String.fromCharCode(x[D++]);return E}function f(x,D){return x[D+0]|x[D+1]<<8}function g(x,D){return(x[D+0]|x[D+1]<<8|x[D+2]<<16)>>>0}function v(x,D){return(x[D+0]|x[D+1]<<8|x[D+2]<<16|x[D+3]<<24)>>>0}new l;var p=[0],S=[0],I=[],P=new l,_=t,k=function(x,D){var E={},N=0,L=!1,X=0,pe=0;if(E.frames=[],!function(M,H){for(var Y=0;Y<4;Y++)if(M[H+Y]!="RIFF".charCodeAt(Y))return!0;return!1}(x,D)){for(v(x,D+=4),D+=8;D<x.length;){var ve=u(x,D),ge=v(x,D+=4);D+=4;var J=ge+(1&ge);switch(ve){case"VP8 ":case"VP8L":E.frames[N]===void 0&&(E.frames[N]={}),(we=E.frames[N]).src_off=L?pe:D-8,we.src_size=X+ge+8,N++,L&&(L=!1,X=0,pe=0);break;case"VP8X":(we=E.header={}).feature_flags=x[D];var le=D+4;we.canvas_width=1+g(x,le),le+=3,we.canvas_height=1+g(x,le),le+=3;break;case"ALPH":L=!0,X=J+8,pe=D-8;break;case"ANIM":(we=E.header).bgcolor=v(x,D),le=D+4,we.loop_count=f(x,le),le+=2;break;case"ANMF":var _e,we;(we=E.frames[N]={}).offset_x=2*g(x,D),D+=3,we.offset_y=2*g(x,D),D+=3,we.width=1+g(x,D),D+=3,we.height=1+g(x,D),D+=3,we.duration=g(x,D),D+=3,_e=x[D++],we.dispose=1&_e,we.blend=_e>>1&1}ve!="ANMF"&&(D+=J)}return E}}(_,0);k.response=_,k.rgbaoutput=!0,k.dataurl=!1;var C=k.header?k.header:null,j=k.frames?k.frames:null;if(C){C.loop_counter=C.loop_count,p=[C.canvas_height],S=[C.canvas_width];for(var Q=0;Q<j.length&&j[Q].blend!=0;Q++);}var re=j[0],U=P.WebPDecodeRGBA(_,re.src_off,re.src_size,S,p);re.rgba=U,re.imgwidth=S[0],re.imgheight=p[0];for(var A=0;A<S[0]*p[0]*4;A++)I[A]=U[A];return this.width=S,this.height=p,this.data=I,this}(function(t){var e,n,r,i,s,o,a,l,u,f=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new l,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new o,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new o,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new g(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,u=new f}]);var g=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=M;Object.defineProperty(this,"pdf",{get:function(){return H}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(W){Y=!!W}});var ee=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ee},set:function(W){ee=!!W}});var ie=0;Object.defineProperty(this,"posX",{get:function(){return ie},set:function(W){isNaN(W)||(ie=W)}});var ue=0;Object.defineProperty(this,"posY",{get:function(){return ue},set:function(W){isNaN(W)||(ue=W)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(W){var Fe;typeof W=="number"?Fe=[W,W,W,W]:((Fe=new Array(4))[0]=W[0],Fe[1]=W.length>=2?W[1]:Fe[0],Fe[2]=W.length>=3?W[2]:Fe[0],Fe[3]=W.length>=4?W[3]:Fe[1]),u.margin=Fe}});var me=!1;Object.defineProperty(this,"autoPaging",{get:function(){return me},set:function(W){me=W}});var ye=0;Object.defineProperty(this,"lastBreak",{get:function(){return ye},set:function(W){ye=W}});var Ae=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ae},set:function(W){Ae=W}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(W){W instanceof f&&(u=W)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(W){u.path=W}});var Le=[];Object.defineProperty(this,"ctxStack",{get:function(){return Le},set:function(W){Le=W}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(W){var Fe;Fe=v(W),this.ctx.fillStyle=Fe.style,this.ctx.isFillTransparent=Fe.a===0,this.ctx.fillOpacity=Fe.a,this.pdf.setFillColor(Fe.r,Fe.g,Fe.b,{a:Fe.a}),this.pdf.setTextColor(Fe.r,Fe.g,Fe.b,{a:Fe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(W){var Fe=v(W);this.ctx.strokeStyle=Fe.style,this.ctx.isStrokeTransparent=Fe.a===0,this.ctx.strokeOpacity=Fe.a,Fe.a===0?this.pdf.setDrawColor(255,255,255):(Fe.a,this.pdf.setDrawColor(Fe.r,Fe.g,Fe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(W){["butt","round","square"].indexOf(W)!==-1&&(this.ctx.lineCap=W,this.pdf.setLineCap(W))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(W){isNaN(W)||(this.ctx.lineWidth=W,this.pdf.setLineWidth(W))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(W){["bevel","round","miter"].indexOf(W)!==-1&&(this.ctx.lineJoin=W,this.pdf.setLineJoin(W))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(W){isNaN(W)||(this.ctx.miterLimit=W,this.pdf.setMiterLimit(W))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(W){this.ctx.textBaseline=W}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(W){["right","end","center","left","start"].indexOf(W)!==-1&&(this.ctx.textAlign=W)}});var Ue=null,je=null,Je=null;Object.defineProperty(this,"fontFaces",{get:function(){return Je},set:function(W){Ue=null,je=null,Je=W}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(W){var Fe;if(this.ctx.font=W,(Fe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(W))!==null){var xt=Fe[1];Fe[2];var lt=Fe[3],Ne=Fe[4];Fe[5];var rt=Fe[6],Ve=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ne)[2];Ne=Math.floor(Ve==="px"?parseFloat(Ne)*this.pdf.internal.scaleFactor:Ve==="em"?parseFloat(Ne)*this.pdf.getFontSize():parseFloat(Ne)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ne);var st=function(Ze){var un,Dt,It=[],St=Ze.trim();if(St==="")return z0;if(St in t4)return[t4[St]];for(;St!=="";){switch(Dt=null,un=(St=r4(St)).charAt(0)){case'"':case"'":Dt=pj(St.substring(1),un);break;default:Dt=gj(St)}if(Dt===null||(It.push(Dt[0]),(St=r4(Dt[1]))!==""&&St.charAt(0)!==","))return z0;St=St.replace(/^,/,"")}return It}(rt);if(this.fontFaces){var et=function(Ze,un){var Dt=Ze.getFontList(),It=JSON.stringify(Dt);if(Ue===null||je!==It){var St=function(pn){var it=[];return Object.keys(pn).forEach(function(Qt){pn[Qt].forEach(function(ct){var mt=null;switch(ct){case"bold":mt={family:Qt,weight:"bold"};break;case"italic":mt={family:Qt,style:"italic"};break;case"bolditalic":mt={family:Qt,weight:"bold",style:"italic"};break;case"":case"normal":mt={family:Qt}}mt!==null&&(mt.ref={name:Qt,style:ct},it.push(mt))})}),it}(Dt);Ue=function(pn){for(var it={},Qt=0;Qt<pn.length;++Qt){var ct=B0(pn[Qt]),mt=ct.family,Xt=ct.stretch,Tt=ct.style,ot=ct.weight;it[mt]=it[mt]||{},it[mt][Xt]=it[mt][Xt]||{},it[mt][Xt][Tt]=it[mt][Xt][Tt]||{},it[mt][Xt][Tt][ot]=ct}return it}(St.concat(un)),je=It}return Ue}(this.pdf,this.fontFaces),zt=st.map(function(Ze){return{family:Ze,stretch:"normal",weight:lt,style:xt}}),Ct=function(Ze,un,Dt){for(var It=(Dt=Dt||{}).defaultFontFamily||"times",St=Object.assign({},dj,Dt.genericFontFamilies||{}),pn=null,it=null,Qt=0;Qt<un.length;++Qt)if(St[(pn=B0(un[Qt])).family]&&(pn.family=St[pn.family]),Ze.hasOwnProperty(pn.family)){it=Ze[pn.family];break}if(!(it=it||Ze[It]))throw new Error("Could not find a font-family for the rule '"+n4(pn)+"' and default family '"+It+"'.");if(it=function(ct,mt){if(mt[ct])return mt[ct];var Xt=N2[ct],Tt=Xt<=N2.normal?-1:1,ot=e4(mt,TI,Xt,Tt);if(!ot)throw new Error("Could not find a matching font-stretch value for "+ct);return ot}(pn.stretch,it),it=function(ct,mt){if(mt[ct])return mt[ct];for(var Xt=II[ct],Tt=0;Tt<Xt.length;++Tt)if(mt[Xt[Tt]])return mt[Xt[Tt]];throw new Error("Could not find a matching font-style for "+ct)}(pn.style,it),!(it=function(ct,mt){if(mt[ct])return mt[ct];if(ct===400&&mt[500])return mt[500];if(ct===500&&mt[400])return mt[400];var Xt=fj[ct],Tt=e4(mt,kI,Xt,ct<400?-1:1);if(!Tt)throw new Error("Could not find a matching font-weight for value "+ct);return Tt}(pn.weight,it)))throw new Error("Failed to resolve a font for the rule '"+n4(pn)+"'.");return it}(et,zt);this.pdf.setFont(Ct.ref.name,Ct.ref.style)}else{var Xe="";(lt==="bold"||parseInt(lt,10)>=700||xt==="bold")&&(Xe="bold"),xt==="italic"&&(Xe+="italic"),Xe.length===0&&(Xe="normal");for(var ft="",kt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},$e=0;$e<st.length;$e++){if(this.pdf.internal.getFont(st[$e],Xe,{noFallback:!0,disableWarning:!0})!==void 0){ft=st[$e];break}if(Xe==="bolditalic"&&this.pdf.internal.getFont(st[$e],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ft=st[$e],Xe="bold";else if(this.pdf.internal.getFont(st[$e],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ft=st[$e],Xe="normal";break}}if(ft===""){for(var yt=0;yt<st.length;yt++)if(kt[st[yt]]){ft=kt[st[yt]];break}}ft=ft===""?"Times":ft,this.pdf.setFont(ft,Xe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(W){this.ctx.globalCompositeOperation=W}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(W){this.ctx.globalAlpha=W}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(W){this.ctx.lineDashOffset=W,we.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(W){this.ctx.lineDash=W,we.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(W){this.ctx.ignoreClearRect=!!W}})};g.prototype.setLineDash=function(M){this.lineDash=M},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){j.call(this,"fill",!1)},g.prototype.stroke=function(){j.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(M,H){if(isNaN(M)||isNaN(H))throw dn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new o(M,H));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new o(M,H)},g.prototype.closePath=function(){var M=new o(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&sn(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){M=new o(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(M.x,M.y)},g.prototype.lineTo=function(M,H){if(isNaN(M)||isNaN(H))throw dn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new o(M,H));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new o(Y.x,Y.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},g.prototype.quadraticCurveTo=function(M,H,Y,ee){if(isNaN(Y)||isNaN(ee)||isNaN(M)||isNaN(H))throw dn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ie=this.ctx.transform.applyToPoint(new o(Y,ee)),ue=this.ctx.transform.applyToPoint(new o(M,H));this.path.push({type:"qct",x1:ue.x,y1:ue.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new o(ie.x,ie.y)},g.prototype.bezierCurveTo=function(M,H,Y,ee,ie,ue){if(isNaN(ie)||isNaN(ue)||isNaN(M)||isNaN(H)||isNaN(Y)||isNaN(ee))throw dn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var me=this.ctx.transform.applyToPoint(new o(ie,ue)),ye=this.ctx.transform.applyToPoint(new o(M,H)),Ae=this.ctx.transform.applyToPoint(new o(Y,ee));this.path.push({type:"bct",x1:ye.x,y1:ye.y,x2:Ae.x,y2:Ae.y,x:me.x,y:me.y}),this.ctx.lastPoint=new o(me.x,me.y)},g.prototype.arc=function(M,H,Y,ee,ie,ue){if(isNaN(M)||isNaN(H)||isNaN(Y)||isNaN(ee)||isNaN(ie))throw dn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ue=!!ue,!this.ctx.transform.isIdentity){var me=this.ctx.transform.applyToPoint(new o(M,H));M=me.x,H=me.y;var ye=this.ctx.transform.applyToPoint(new o(0,Y)),Ae=this.ctx.transform.applyToPoint(new o(0,0));Y=Math.sqrt(Math.pow(ye.x-Ae.x,2)+Math.pow(ye.y-Ae.y,2))}Math.abs(ie-ee)>=2*Math.PI&&(ee=0,ie=2*Math.PI),this.path.push({type:"arc",x:M,y:H,radius:Y,startAngle:ee,endAngle:ie,counterclockwise:ue})},g.prototype.arcTo=function(M,H,Y,ee,ie){throw new Error("arcTo not implemented.")},g.prototype.rect=function(M,H,Y,ee){if(isNaN(M)||isNaN(H)||isNaN(Y)||isNaN(ee))throw dn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,H),this.lineTo(M+Y,H),this.lineTo(M+Y,H+ee),this.lineTo(M,H+ee),this.lineTo(M,H),this.lineTo(M+Y,H),this.lineTo(M,H)},g.prototype.fillRect=function(M,H,Y,ee){if(isNaN(M)||isNaN(H)||isNaN(Y)||isNaN(ee))throw dn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ie={};this.lineCap!=="butt"&&(ie.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ie.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,H,Y,ee),this.fill(),ie.hasOwnProperty("lineCap")&&(this.lineCap=ie.lineCap),ie.hasOwnProperty("lineJoin")&&(this.lineJoin=ie.lineJoin)}},g.prototype.strokeRect=function(M,H,Y,ee){if(isNaN(M)||isNaN(H)||isNaN(Y)||isNaN(ee))throw dn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");S.call(this)||(this.beginPath(),this.rect(M,H,Y,ee),this.stroke())},g.prototype.clearRect=function(M,H,Y,ee){if(isNaN(M)||isNaN(H)||isNaN(Y)||isNaN(ee))throw dn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,H,Y,ee))},g.prototype.save=function(M){M=typeof M!="boolean"||M;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var ee=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ee}},g.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(H),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(M){var H,Y,ee,ie;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))H=0,Y=0,ee=0,ie=0;else{var ue=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(ue!==null)H=parseInt(ue[1]),Y=parseInt(ue[2]),ee=parseInt(ue[3]),ie=1;else if((ue=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)H=parseInt(ue[1]),Y=parseInt(ue[2]),ee=parseInt(ue[3]),ie=parseFloat(ue[4]);else{if(ie=1,typeof M=="string"&&M.charAt(0)!=="#"){var me=new wI(M);M=me.ok?me.toHex():"#000000"}M.length===4?(H=M.substring(1,2),H+=H,Y=M.substring(2,3),Y+=Y,ee=M.substring(3,4),ee+=ee):(H=M.substring(1,3),Y=M.substring(3,5),ee=M.substring(5,7)),H=parseInt(H,16),Y=parseInt(Y,16),ee=parseInt(ee,16)}}return{r:H,g:Y,b:ee,a:ie,style:M}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},S=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(M,H,Y,ee){if(isNaN(H)||isNaN(Y)||typeof M!="string")throw dn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ee=isNaN(ee)?void 0:ee,!p.call(this)){var ie=J(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;N.call(this,{text:M,x:H,y:Y,scale:ue,angle:ie,align:this.textAlign,maxWidth:ee})}},g.prototype.strokeText=function(M,H,Y,ee){if(isNaN(H)||isNaN(Y)||typeof M!="string")throw dn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!S.call(this)){ee=isNaN(ee)?void 0:ee;var ie=J(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;N.call(this,{text:M,x:H,y:Y,scale:ue,renderingMode:"stroke",angle:ie,align:this.textAlign,maxWidth:ee})}},g.prototype.measureText=function(M){if(typeof M!="string")throw dn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,Y=this.pdf.internal.scaleFactor,ee=H.internal.getFontSize(),ie=H.getStringUnitWidth(M)*ee/H.internal.scaleFactor;return new function(ue){var me=(ue=ue||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return me}}),this}({width:ie*=Math.round(96*Y/72*1e4)/1e4})},g.prototype.scale=function(M,H){if(isNaN(M)||isNaN(H))throw dn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new l(M,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},g.prototype.rotate=function(M){if(isNaN(M))throw dn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new l(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},g.prototype.translate=function(M,H){if(isNaN(M)||isNaN(H))throw dn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new l(1,0,0,1,M,H);this.ctx.transform=this.ctx.transform.multiply(Y)},g.prototype.transform=function(M,H,Y,ee,ie,ue){if(isNaN(M)||isNaN(H)||isNaN(Y)||isNaN(ee)||isNaN(ie)||isNaN(ue))throw dn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var me=new l(M,H,Y,ee,ie,ue);this.ctx.transform=this.ctx.transform.multiply(me)},g.prototype.setTransform=function(M,H,Y,ee,ie,ue){M=isNaN(M)?1:M,H=isNaN(H)?0:H,Y=isNaN(Y)?0:Y,ee=isNaN(ee)?1:ee,ie=isNaN(ie)?0:ie,ue=isNaN(ue)?0:ue,this.ctx.transform=new l(M,H,Y,ee,ie,ue)};var I=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(M,H,Y,ee,ie,ue,me,ye,Ae){var Le=this.pdf.getImageProperties(M),Ue=1,je=1,Je=1,W=1;ee!==void 0&&ye!==void 0&&(Je=ye/ee,W=Ae/ie,Ue=Le.width/ee*ye/ee,je=Le.height/ie*Ae/ie),ue===void 0&&(ue=H,me=Y,H=0,Y=0),ee!==void 0&&ye===void 0&&(ye=ee,Ae=ie),ee===void 0&&ye===void 0&&(ye=Le.width,Ae=Le.height);var Fe=this.ctx.transform.decompose(),xt=J(Fe.rotate.shx),lt=new l,Ne=(lt=(lt=(lt=lt.multiply(Fe.translate)).multiply(Fe.skew)).multiply(Fe.scale)).applyToRectangle(new a(ue-H*Je,me-Y*W,ee*Ue,ie*je));if(this.autoPaging){for(var rt,Ve=P.call(this,Ne),st=[],et=0;et<Ve.length;et+=1)st.indexOf(Ve[et])===-1&&st.push(Ve[et]);C(st);for(var zt=st[0],Ct=st[st.length-1],Xe=zt;Xe<Ct+1;Xe++){this.pdf.setPage(Xe);var ft=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],kt=Xe===1?this.posY+this.margin[0]:this.margin[0],$e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ze=Xe===1?0:$e+(Xe-2)*yt;if(this.ctx.clip_path.length!==0){var un=this.path;rt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(rt,this.posX+this.margin[3],-Ze+kt+this.ctx.prevPageLastElemOffset),Q.call(this,"fill",!0),this.path=un}var Dt=JSON.parse(JSON.stringify(Ne));Dt=k([Dt],this.posX+this.margin[3],-Ze+kt+this.ctx.prevPageLastElemOffset)[0];var It=(Xe>zt||Xe<Ct)&&I.call(this);It&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ft,yt,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Dt.x,Dt.y,Dt.w,Dt.h,null,null,xt),It&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(M,"JPEG",Ne.x,Ne.y,Ne.w,Ne.h,null,null,xt)};var P=function(M,H,Y){var ee=[];H=H||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ie=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":ee.push(Math.floor((M.y+ie)/Y)+1);break;case"arc":ee.push(Math.floor((M.y+ie-M.radius)/Y)+1),ee.push(Math.floor((M.y+ie+M.radius)/Y)+1);break;case"qct":var ue=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);ee.push(Math.floor((ue.y+ie)/Y)+1),ee.push(Math.floor((ue.y+ue.h+ie)/Y)+1);break;case"bct":var me=_e(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);ee.push(Math.floor((me.y+ie)/Y)+1),ee.push(Math.floor((me.y+me.h+ie)/Y)+1);break;case"rect":ee.push(Math.floor((M.y+ie)/Y)+1),ee.push(Math.floor((M.y+M.h+ie)/Y)+1)}for(var ye=0;ye<ee.length;ye+=1)for(;this.pdf.internal.getNumberOfPages()<ee[ye];)_.call(this);return ee},_=function(){var M=this.fillStyle,H=this.strokeStyle,Y=this.font,ee=this.lineCap,ie=this.lineWidth,ue=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=H,this.font=Y,this.lineCap=ee,this.lineWidth=ie,this.lineJoin=ue},k=function(M,H,Y){for(var ee=0;ee<M.length;ee++)switch(M[ee].type){case"bct":M[ee].x2+=H,M[ee].y2+=Y;case"qct":M[ee].x1+=H,M[ee].y1+=Y;default:M[ee].x+=H,M[ee].y+=Y}return M},C=function(M){return M.sort(function(H,Y){return H-Y})},j=function(M,H){var Y=this.fillStyle,ee=this.strokeStyle,ie=this.lineCap,ue=this.lineWidth,me=Math.abs(ue*this.ctx.transform.scaleX),ye=this.lineJoin;if(this.autoPaging){for(var Ae,Le,Ue=JSON.parse(JSON.stringify(this.path)),je=JSON.parse(JSON.stringify(this.path)),Je=[],W=0;W<je.length;W++)if(je[W].x!==void 0)for(var Fe=P.call(this,je[W]),xt=0;xt<Fe.length;xt+=1)Je.indexOf(Fe[xt])===-1&&Je.push(Fe[xt]);for(var lt=0;lt<Je.length;lt++)for(;this.pdf.internal.getNumberOfPages()<Je[lt];)_.call(this);C(Je);for(var Ne=Je[0],rt=Je[Je.length-1],Ve=Ne;Ve<rt+1;Ve++){this.pdf.setPage(Ve),this.fillStyle=Y,this.strokeStyle=ee,this.lineCap=ie,this.lineWidth=me,this.lineJoin=ye;var st=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],et=Ve===1?this.posY+this.margin[0]:this.margin[0],zt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Xe=Ve===1?0:zt+(Ve-2)*Ct;if(this.ctx.clip_path.length!==0){var ft=this.path;Ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(Ae,this.posX+this.margin[3],-Xe+et+this.ctx.prevPageLastElemOffset),Q.call(this,M,!0),this.path=ft}if(Le=JSON.parse(JSON.stringify(Ue)),this.path=k(Le,this.posX+this.margin[3],-Xe+et+this.ctx.prevPageLastElemOffset),H===!1||Ve===0){var kt=(Ve>Ne||Ve<rt)&&I.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,Ct,null).clip().discardPath()),Q.call(this,M,H),kt&&this.pdf.restoreGraphicsState()}this.lineWidth=ue}this.path=Ue}else this.lineWidth=me,Q.call(this,M,H),this.lineWidth=ue},Q=function(M,H){if((M!=="stroke"||H||!S.call(this))&&(M==="stroke"||H||!p.call(this))){for(var Y,ee,ie=[],ue=this.path,me=0;me<ue.length;me++){var ye=ue[me];switch(ye.type){case"begin":ie.push({begin:!0});break;case"close":ie.push({close:!0});break;case"mt":ie.push({start:ye,deltas:[],abs:[]});break;case"lt":var Ae=ie.length;if(ue[me-1]&&!isNaN(ue[me-1].x)&&(Y=[ye.x-ue[me-1].x,ye.y-ue[me-1].y],Ae>0)){for(;Ae>=0;Ae--)if(ie[Ae-1].close!==!0&&ie[Ae-1].begin!==!0){ie[Ae-1].deltas.push(Y),ie[Ae-1].abs.push(ye);break}}break;case"bct":Y=[ye.x1-ue[me-1].x,ye.y1-ue[me-1].y,ye.x2-ue[me-1].x,ye.y2-ue[me-1].y,ye.x-ue[me-1].x,ye.y-ue[me-1].y],ie[ie.length-1].deltas.push(Y);break;case"qct":var Le=ue[me-1].x+2/3*(ye.x1-ue[me-1].x),Ue=ue[me-1].y+2/3*(ye.y1-ue[me-1].y),je=ye.x+2/3*(ye.x1-ye.x),Je=ye.y+2/3*(ye.y1-ye.y),W=ye.x,Fe=ye.y;Y=[Le-ue[me-1].x,Ue-ue[me-1].y,je-ue[me-1].x,Je-ue[me-1].y,W-ue[me-1].x,Fe-ue[me-1].y],ie[ie.length-1].deltas.push(Y);break;case"arc":ie.push({deltas:[],abs:[],arc:!0}),Array.isArray(ie[ie.length-1].abs)&&ie[ie.length-1].abs.push(ye)}}ee=H?null:M==="stroke"?"stroke":"fill";for(var xt=!1,lt=0;lt<ie.length;lt++)if(ie[lt].arc)for(var Ne=ie[lt].abs,rt=0;rt<Ne.length;rt++){var Ve=Ne[rt];Ve.type==="arc"?A.call(this,Ve.x,Ve.y,Ve.radius,Ve.startAngle,Ve.endAngle,Ve.counterclockwise,void 0,H,!xt):L.call(this,Ve.x,Ve.y),xt=!0}else if(ie[lt].close===!0)this.pdf.internal.out("h"),xt=!1;else if(ie[lt].begin!==!0){var st=ie[lt].start.x,et=ie[lt].start.y;X.call(this,ie[lt].deltas,st,et),xt=!0}ee&&x.call(this,ee),H&&D.call(this)}},re=function(M){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-Y;case"top":return M+H-Y;case"hanging":return M+H-2*Y;case"middle":return M+H/2-Y;default:return M}},U=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(H,Y){this.colorStops.push([H,Y])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var A=function(M,H,Y,ee,ie,ue,me,ye,Ae){for(var Le=ve.call(this,Y,ee,ie,ue),Ue=0;Ue<Le.length;Ue++){var je=Le[Ue];Ue===0&&(Ae?E.call(this,je.x1+M,je.y1+H):L.call(this,je.x1+M,je.y1+H)),pe.call(this,M,H,je.x2,je.y2,je.x3,je.y3,je.x4,je.y4)}ye?D.call(this):x.call(this,me)},x=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},D=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(M,H){this.pdf.internal.out(n(M)+" "+r(H)+" m")},N=function(M){var H;switch(M.align){case"right":case"end":H="right";break;case"center":H="center";break;default:H="left"}var Y,ee,ie,ue=this.pdf.getTextDimensions(M.text),me=re.call(this,M.y),ye=U.call(this,me)-ue.h,Ae=this.ctx.transform.applyToPoint(new o(M.x,me));if(this.autoPaging){var Le=this.ctx.transform.decompose(),Ue=new l;Ue=(Ue=(Ue=Ue.multiply(Le.translate)).multiply(Le.skew)).multiply(Le.scale);for(var je=this.ctx.transform.applyToRectangle(new a(M.x,me,ue.w,ue.h)),Je=Ue.applyToRectangle(new a(M.x,ye,ue.w,ue.h)),W=P.call(this,Je),Fe=[],xt=0;xt<W.length;xt+=1)Fe.indexOf(W[xt])===-1&&Fe.push(W[xt]);C(Fe);for(var lt=Fe[0],Ne=Fe[Fe.length-1],rt=lt;rt<Ne+1;rt++){this.pdf.setPage(rt);var Ve=rt===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],et=this.pdf.internal.pageSize.height-this.margin[2],zt=et-this.margin[0],Ct=this.pdf.internal.pageSize.width-this.margin[1],Xe=Ct-this.margin[3],ft=rt===1?0:st+(rt-2)*zt;if(this.ctx.clip_path.length!==0){var kt=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(Y,this.posX+this.margin[3],-1*ft+Ve),Q.call(this,"fill",!0),this.path=kt}var $e=k([JSON.parse(JSON.stringify(Je))],this.posX+this.margin[3],-ft+Ve+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ee*M.scale),ie=this.lineWidth,this.lineWidth=ie*M.scale);var yt=this.autoPaging!=="text";if(yt||$e.y+$e.h<=et){if(yt||$e.y>=Ve&&$e.x<=Ct){var Ze=yt?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||Ct-$e.x)[0],un=k([JSON.parse(JSON.stringify(je))],this.posX+this.margin[3],-ft+Ve+this.ctx.prevPageLastElemOffset)[0],Dt=yt&&(rt>lt||rt<Ne)&&I.call(this);Dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xe,zt,null).clip().discardPath()),this.pdf.text(Ze,un.x,un.y,{angle:M.angle,align:H,renderingMode:M.renderingMode}),Dt&&this.pdf.restoreGraphicsState()}}else $e.y<et&&(this.ctx.prevPageLastElemOffset+=et-$e.y);M.scale>=.01&&(this.pdf.setFontSize(ee),this.lineWidth=ie)}}else M.scale>=.01&&(ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ee*M.scale),ie=this.lineWidth,this.lineWidth=ie*M.scale),this.pdf.text(M.text,Ae.x+this.posX,Ae.y+this.posY,{angle:M.angle,align:H,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(ee),this.lineWidth=ie)},L=function(M,H,Y,ee){Y=Y||0,ee=ee||0,this.pdf.internal.out(n(M+Y)+" "+r(H+ee)+" l")},X=function(M,H,Y){return this.pdf.lines(M,H,Y,null,null)},pe=function(M,H,Y,ee,ie,ue,me,ye){this.pdf.internal.out([e(i(Y+M)),e(s(ee+H)),e(i(ie+M)),e(s(ue+H)),e(i(me+M)),e(s(ye+H)),"c"].join(" "))},ve=function(M,H,Y,ee){for(var ie=2*Math.PI,ue=Math.PI/2;H>Y;)H-=ie;var me=Math.abs(Y-H);me<ie&&ee&&(me=ie-me);for(var ye=[],Ae=ee?-1:1,Le=H;me>1e-5;){var Ue=Le+Ae*Math.min(me,ue);ye.push(ge.call(this,M,Le,Ue)),me-=Math.abs(Ue-Le),Le=Ue}return ye},ge=function(M,H,Y){var ee=(Y-H)/2,ie=M*Math.cos(ee),ue=M*Math.sin(ee),me=ie,ye=-ue,Ae=me*me+ye*ye,Le=Ae+me*ie+ye*ue,Ue=4/3*(Math.sqrt(2*Ae*Le)-Le)/(me*ue-ye*ie),je=me-Ue*ye,Je=ye+Ue*me,W=je,Fe=-Je,xt=ee+H,lt=Math.cos(xt),Ne=Math.sin(xt);return{x1:M*Math.cos(H),y1:M*Math.sin(H),x2:je*lt-Je*Ne,y2:je*Ne+Je*lt,x3:W*lt-Fe*Ne,y3:W*Ne+Fe*lt,x4:M*Math.cos(Y),y4:M*Math.sin(Y)}},J=function(M){return 180*M/Math.PI},le=function(M,H,Y,ee,ie,ue){var me=M+.5*(Y-M),ye=H+.5*(ee-H),Ae=ie+.5*(Y-ie),Le=ue+.5*(ee-ue),Ue=Math.min(M,ie,me,Ae),je=Math.max(M,ie,me,Ae),Je=Math.min(H,ue,ye,Le),W=Math.max(H,ue,ye,Le);return new a(Ue,Je,je-Ue,W-Je)},_e=function(M,H,Y,ee,ie,ue,me,ye){var Ae,Le,Ue,je,Je,W,Fe,xt,lt,Ne,rt,Ve,st,et,zt=Y-M,Ct=ee-H,Xe=ie-Y,ft=ue-ee,kt=me-ie,$e=ye-ue;for(Le=0;Le<41;Le++)lt=(Fe=(Ue=M+(Ae=Le/40)*zt)+Ae*((Je=Y+Ae*Xe)-Ue))+Ae*(Je+Ae*(ie+Ae*kt-Je)-Fe),Ne=(xt=(je=H+Ae*Ct)+Ae*((W=ee+Ae*ft)-je))+Ae*(W+Ae*(ue+Ae*$e-W)-xt),Le==0?(rt=lt,Ve=Ne,st=lt,et=Ne):(rt=Math.min(rt,lt),Ve=Math.min(Ve,Ne),st=Math.max(st,lt),et=Math.max(et,Ne));return new a(Math.round(rt),Math.round(Ve),Math.round(st-rt),Math.round(et-Ve))},we=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,H,Y=(M=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:H}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(nt.API),function(t){var e=function(o){var a,l,u,f,g,v,p,S,I,P;for(l=[],u=0,f=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;f>u;u+=4)(g=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(v=(g=((g=((g=((g=(g-(P=g%85))/85)-(I=g%85))/85)-(S=g%85))/85)-(p=g%85))/85)%85,l.push(v+33,p+33,S+33,I+33,P+33)):l.push(122);return function(_,k){for(var C=k;C>0;C--)_.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},n=function(o){var a,l,u,f,g,v=String,p="length",S=255,I="charCodeAt",P="slice",_="replace";for(o[P](-2),o=o[P](0,-2)[_](/\s/g,"")[_]("z","!!!!!"),u=[],f=0,g=(o+=a="uuuuu"[P](o[p]%5||5))[p];g>f;f+=5)l=52200625*(o[I](f)-33)+614125*(o[I](f+1)-33)+7225*(o[I](f+2)-33)+85*(o[I](f+3)-33)+(o[I](f+4)-33),u.push(S&l>>24,S&l>>16,S&l>>8,S&l);return function(k,C){for(var j=C;j>0;j--)k.pop()}(u,a[p]),v.fromCharCode.apply(v,u)},r=function(o){return o.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var l="",u=0;u<o.length;u+=2)l+=String.fromCharCode("0x"+(o[u]+o[u+1]));return l},s=function(o){for(var a=new Uint8Array(o.length),l=o.length;l--;)a[l]=o.charCodeAt(l);return(a=E2(a)).reduce(function(u,f){return u+String.fromCharCode(f)},"")};t.processDataByFilters=function(o,a){var l=0,u=o||"",f=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:u,reverseChain:f.reverse().join(" ")}}}(nt.API),function(t){t.loadFile=function(e,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,u,f){var g=new XMLHttpRequest,v=0,p=function(S){var I=S.length,P=[],_=String.fromCharCode;for(v=0;v<I;v+=1)P.push(_(255&S.charCodeAt(v)));return P.join("")};if(g.open("GET",l,!u),g.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(g.onload=function(){g.status===200?f(p(this.responseText)):f(void 0)}),g.send(null),u&&g.status===200)return p(g.responseText)}(i,s,o)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(nt.API),function(t){function e(){return(gt.html2canvas?Promise.resolve(gt.html2canvas):S0(()=>import("./html2canvas.esm-CBrSDip1.js"),[],import.meta.url)).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(gt.DOMPurify?Promise.resolve(gt.DOMPurify):S0(()=>import("./purify.es-B9ZVCkUG.js"),[],import.meta.url)).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=sn(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var u=document.createElement(a);for(var f in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[f]=l.style[f];return u},s=function a(l,u){for(var f=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),g=l.firstChild;g;g=g.nextSibling)u!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||f.appendChild(a(g,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(f.width=l.width,f.height=l.height,f.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(f.value=l.value),f.addEventListener("load",function(){f.scrollTop=l.scrollTop,f.scrollLeft=l.scrollLeft},!0)),f},o=function a(l){var u=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),f=a.convert(Promise.resolve(),u);return(f=f.setProgress(1,a,1,[a])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,l){return a.__proto__=l||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(n).then(function(u){return this.set({src:i("div",{innerHTML:a,dompurify:u})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=this.opt.jsPDF,f=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=f,f)for(var p=0;p<f.length;++p){var S=f[p],I=S.src.find(function(P){return P.format==="truetype"});I&&u.addFont(I.url,S.ref.name,S.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,u.context2d.save(!0),l(this.prop.container,v)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},o.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(r(a)!=="object")return this;var l=Object.keys(a||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=a[u]};switch(u){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[u]=a[u]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(a,l){return this.then(function(){var u=a in o.template.prop?this.prop[a]:this.opt[a];return l?l(u):u})},o.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function l(u,f){return Math.floor(u*f/72*96)}return this.then(function(){(a=a||nt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,l,u,f){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,l,u,f){return this.setProgress(a?this.progress.val+a:null,l||null,u?this.progress.n+u:null,f?this.progress.stack.concat(f):null)},o.prototype.then=function(a,l){var u=this;return this.thenCore(a,l,function(f,g){return u.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(v){return u.updateProgress(null,f),v}).then(f,g).then(function(v){return u.updateProgress(1),v})})},o.prototype.thenCore=function(a,l,u){u=u||Promise.prototype.then;var f=this;a&&(a=a.bind(f)),l&&(l=l.bind(f));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:o.convert(Object.assign({},f),Promise.prototype),v=u.call(g,a,l);return o.convert(v,f.__proto__)},o.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},o.prototype.thenList=function(a){var l=this;return a.forEach(function(u){l=l.thenCore(u)}),l},o.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return o.convert(l,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,nt.getPageSize=function(a,l,u){if(sn(a)==="object"){var f=a;a=f.orientation,l=f.unit||l,u=f.format||u}l=l||"mm",u=u||"a4",a=(""+(a||"P")).toLowerCase();var g,v=(""+u).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+l}var S,I=0,P=0;if(p.hasOwnProperty(v))I=p[v][1]/g,P=p[v][0]/g;else try{I=u[1],P=u[0]}catch{throw new Error("Invalid format: "+u)}if(a==="p"||a==="portrait")a="p",P>I&&(S=P,P=I,I=S);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",I>P&&(S=P,P=I,I=S)}return{width:P,height:I,unit:l,k:g,orientation:a}},t.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(B0):null;var u=new o(l);return l.worker?u:u.from(a).doCallback()}}(nt.API),nt.API.addJS=function(t){return s4=t,this.internal.events.subscribe("postPutResources",function(){tp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(tp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),i4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+s4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){tp!==void 0&&i4!==void 0&&this.internal.out("/Names <</JavaScript "+tp+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,f=[];for(s=0;s<u;s++){var g=n.internal.newObject();f.push(g);var v=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<f.length;s++)n.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(nt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,a){var l,u=this.decode.DCT_DECODE,f=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(g){for(var v,p=256*g.charCodeAt(4)+g.charCodeAt(5),S=g.length,I={width:0,height:0,numcomponents:1},P=4;P<S;P+=2){if(P+=p,e.indexOf(g.charCodeAt(P+1))!==-1){v=256*g.charCodeAt(P+5)+g.charCodeAt(P+6),I={width:256*g.charCodeAt(P+7)+g.charCodeAt(P+8),height:v,numcomponents:g.charCodeAt(P+9)};break}p=256*g.charCodeAt(P+2)+g.charCodeAt(P+3)}return I}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}f={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:u,index:r,alias:i}}return f}}(nt.API),nt.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=J9(t,{checkCrc:!0}),o=s.width,a=s.height,l=s.channels,u=s.palette,f=s.depth;i=u&&l===1?function(A){for(var x=A.width,D=A.height,E=A.data,N=A.palette,L=A.depth,X=!1,pe=[],ve=[],ge=void 0,J=!1,le=0,_e=0;_e<N.length;_e++){var we=ub(N[_e],4),M=we[0],H=we[1],Y=we[2],ee=we[3];pe.push(M,H,Y),ee!=null&&(ee===0?(le++,ve.length<1&&ve.push(_e)):ee<255&&(J=!0))}if(J||le>1){X=!0,ve=void 0;var ie=x*D;ge=new Uint8Array(ie);for(var ue=new DataView(E.buffer),me=0;me<ie;me++){var ye=q0(ue,me,L),Ae=ub(N[ye],4)[3];ge[me]=Ae}}else le===0&&(ve=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:X?8:void 0,colorBytes:E,alphaBytes:ge,needSMask:X,palette:pe,mask:ve}}(s):l===2||l===4?function(A){for(var x=A.data,D=A.width,E=A.height,N=A.channels,L=A.depth,X=N===2?"DeviceGray":"DeviceRGB",pe=N-1,ve=D*E,ge=pe,J=ve*ge,le=1*ve,_e=Math.ceil(J*L/8),we=Math.ceil(le*L/8),M=new Uint8Array(_e),H=new Uint8Array(we),Y=new DataView(x.buffer),ee=new DataView(M.buffer),ie=new DataView(H.buffer),ue=!1,me=0;me<ve;me++){for(var ye=me*N,Ae=0;Ae<ge;Ae++)p4(ee,q0(Y,ye+Ae,L),me*ge+Ae,L);var Le=q0(Y,ye+ge,L);Le<(1<<L)-1&&(ue=!0),p4(ie,Le,1*me,L)}return{colorSpace:X,colorsPerPixel:pe,sMaskBitsPerComponent:ue?L:void 0,colorBytes:M,alphaBytes:H,needSMask:ue}}(s):function(A){var x=A.data,D=A.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:D,colorsPerPixel:D==="DeviceGray"?1:3,colorBytes:x instanceof Uint16Array?function(E){for(var N=E.length,L=new Uint8Array(2*N),X=new DataView(L.buffer,L.byteOffset,L.byteLength),pe=0;pe<N;pe++)X.setUint16(2*pe,E[pe],!1);return L}(x):x,needSMask:!1}}(s);var g,v,p,S=i,I=S.colorSpace,P=S.colorsPerPixel,_=S.sMaskBitsPerComponent,k=S.colorBytes,C=S.alphaBytes,j=S.needSMask,Q=S.palette,re=S.mask,U=null;return r!==nt.API.image_compression.NONE&&typeof E2=="function"?(U=function(A){var x;switch(A){case nt.API.image_compression.FAST:x=11;break;case nt.API.image_compression.MEDIUM:x=13;break;case nt.API.image_compression.SLOW:x=14;break;default:x=12}return x}(r),g=this.decode.FLATE_DECODE,v="/Predictor ".concat(U," /Colors ").concat(P," /BitsPerComponent ").concat(f," /Columns ").concat(o),t=u4(k,Math.ceil(o*P*f/8),P,f,r),j&&(p=u4(C,Math.ceil(o*_/8),1,_,r))):(g=void 0,v=void 0,t=k,j&&(p=C)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:n,data:t,index:e,filter:g,decodeParameters:v,transparency:re,palette:Q,sMask:p,predictor:U,width:o,height:a,bitsPerComponent:f,sMaskBitsPerComponent:_,colorSpace:I}}},function(t){t.processGIF89A=function(e,n,r,i){var s=new wj(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:a},f=new W0(100).encode(u,100);return t.processJPEG.call(this,f,n,r,i)},t.processGIF87A=t.processGIF89A}(nt.API),ks.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ks.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){dn.log("bit decode error:"+n)}},ks.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},ks.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,u=this.palette[a];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},ks.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},ks.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,f=r*this.width*4+4*i;this.data[f]=l,this.data[f+1]=a,this.data[f+2]=o,this.data[f+3]=u}this.pos+=t}},ks.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,u=(o>>11)/e*255|0,f=i*this.width*4+4*s;this.data[f]=u,this.data[f+1]=l,this.data[f+2]=a,this.data[f+3]=255}this.pos+=t}},ks.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},ks.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},ks.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new ks(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new W0(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(nt.API),m4.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new m4(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new W0(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(nt.API),nt.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,u=0;u<i;u+=4){var f=r[u],g=r[u+1],v=r[u+2],p=r[u+3];s[a++]=f,s[a++]=g,s[a++]=v,o[l++]=p}var S=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:S,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},nt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Mu=nt.API,np=Mu.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,f=u.fof?u.fof:1,g=e.doKerning!==!1,v=0,p=t.length,S=0,I=a[0]||l,P=[];for(n=0;n<p;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?P.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(v=g&&sn(u[r])==="object"&&!isNaN(parseInt(u[r][S],10))?u[r][S]/f:0,P.push((a[r]||I)/l+v)),S=r;return P},o4=Mu.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Mu.processArabic&&(t=Mu.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:np.apply(this,arguments).reduce(function(s,o){return s+o},0)},a4=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},l4=function(t,e,n){n||(n={});var r,i,s,o,a,l,u,f=[],g=[f],v=n.textIndent||0,p=0,S=0,I=t.split(" "),P=np.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?I[0].length+2:n.lineIndent||0){var _=Array(l).join(" "),k=[];I.map(function(j){(j=j.split(/\s*\n/)).length>1?k=k.concat(j.map(function(Q,re){return(re&&Q.length?`
`:"")+Q})):k.push(j[0])}),I=k,l=o4.apply(this,[_,n])}for(s=0,o=I.length;s<o;s++){var C=0;if(r=I[s],l&&r[0]==`
`&&(r=r.substr(1),C=1),v+p+(S=(i=np.apply(this,[r,n])).reduce(function(j,Q){return j+Q},0))>e||C){if(S>e){for(a=a4.apply(this,[r,i,e-(v+p),e]),f.push(a.shift()),f=[a.pop()];a.length;)g.push([a.shift()]);S=i.slice(r.length-(f[0]?f[0].length:0)).reduce(function(j,Q){return j+Q},0)}else f=[r];g.push(f),v=S+l,p=P}else f.push(r),v+=p+S,p=P}return u=l?function(j,Q){return(Q?_:"")+j.join(" ")}:function(j){return j.join(" ")},g.map(u)},Mu.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var g=this.internal.getFont(f.fontName,f.fontStyle),v="Unicode";return g.metadata[v]?{widths:g.metadata[v].widths||{0:1},kerning:g.metadata[v].kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,u=[];for(a=0,l=r.length;a<l;a++)u=u.concat(l4.apply(this,[r[a],o,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[n[s]]=e[s],i[e[s]]=n[s];var o=function(v){return"0x"+parseInt(v,10).toString(16)},a=t.__fontmetrics__.compress=function(v){var p,S,I,P,_=["{"];for(var k in v){if(p=v[k],isNaN(parseInt(k,10))?S="'"+k+"'":(k=parseInt(k,10),S=(S=o(k).slice(2)).slice(0,-1)+i[S.slice(-1)]),typeof p=="number")p<0?(I=o(p).slice(3),P="-"):(I=o(p).slice(2),P=""),I=P+I.slice(0,-1)+i[I.slice(-1)];else{if(sn(p)!=="object")throw new Error("Don't know what to do with value type "+sn(p)+".");I=a(p)}_.push(S+I)}return _.push("}"),_.join("")},l=t.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,S,I,P,_={},k=1,C=_,j=[],Q="",re="",U=v.length-1,A=1;A<U;A+=1)(P=v[A])=="'"?p?(I=p.join(""),p=void 0):p=[]:p?p.push(P):P=="{"?(j.push([C,I]),C={},I=void 0):P=="}"?((S=j.pop())[0][S[1]]=C,I=void 0,C=S[0]):P=="-"?k=-1:I===void 0?r.hasOwnProperty(P)?(Q+=r[P],I=parseInt(Q,16)*k,k=1,Q=""):Q+=P:r.hasOwnProperty(P)?(re+=r[P],C[I]=parseInt(re,16)*k,k=1,I=void 0,re=""):re+=P;return _},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},g={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(v){var p=v.font,S=g.Unicode[p.postScriptName];S&&(p.metadata.Unicode={},p.metadata.Unicode.widths=S.widths,p.metadata.Unicode.kerning=S.kerning);var I=f.Unicode[p.postScriptName];I&&(p.metadata.Unicode.encoding=I,p.encoding=I.codePages[0])}])}(nt.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(Tp(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(nt),nt.API.addSvgAsImage=function(t,e,n,r,i,s,o,a){if(isNaN(e)||isNaN(n))throw dn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw dn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return(gt.canvg?Promise.resolve(gt.canvg):S0(()=>import("./index.es-zkKIrnJH.js"),[],import.meta.url)).catch(function(v){return Promise.reject(new Error("Could not load canvg: "+v))}).then(function(v){return v.default?v.default:v}).then(function(v){return v.fromString(u,t,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(f)}).then(function(){g.addImage(l.toDataURL("image/jpeg",1),e,n,r,i,o,a)})},nt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},nt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],u=0,f=0,g=0;function v(S,I){var P,_=!1;for(P=0;P<S.length;P+=1)S[P]===I&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=a.length;for(g=0;g<p;g+=1)n[a[g]].value=n[a[g]].defaultValue,n[a[g]].explicitSet=!1}if(sn(t)==="object"){for(i in t)if(s=t[i],v(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&v(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(u=0;u<s.length;u+=1)if(r=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(f=0;f<s[u].length;f+=1)typeof s[u][f]!="number"&&(r=!1);r===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var S,I=[];for(S in n)n[S].explicitSet===!0&&(n[S].type==="name"?I.push("/"+S+" /"+n[S].value):I.push("/"+S+" "+n[S].value));I.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+I.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(nt.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],f=[""],g=0,v=s.length;g<v;++g){if(a=o.metadata.characterToGlyph(s.charCodeAt(g)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(g),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return f.join("");a=a.toString(16),f.push(u[4-a.length],a)}return f.join("")},r=function(s){var o,a,l,u,f,g,v;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],g=0,v=(a=Object.keys(s).sort(function(p,S){return p-S})).length;g<v;g++)o=a[g],l.length>=100&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,f=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var g=a.metadata.Unicode.widths,v=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),p="",S=0;S<v.length;S++)p+=String.fromCharCode(v[S]);var I=u();f({data:p,addLength1:!0,objectId:I}),l("endobj");var P=u();f({data:r(a.metadata.toUnicode),addLength1:!0,objectId:P}),l("endobj");var _=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Wu(a.fontName)),l("/FontFile2 "+I+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var k=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Wu(a.fontName)),l("/FontDescriptor "+_+" 0 R"),l("/W "+t.API.PDFObject.convert(g)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+P+" 0 R"),l("/BaseFont /"+Wu(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+k+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,f=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var g=a.metadata.rawData,v="",p=0;p<g.length;p++)v+=String.fromCharCode(g[p]);var S=u();f({data:v,addLength1:!0,objectId:S}),l("endobj");var I=u();f({data:r(a.metadata.toUnicode),addLength1:!0,objectId:I}),l("endobj");var P=u();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+S+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Wu(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=u();for(var _=0;_<a.metadata.hmtx.widths.length;_++)a.metadata.hmtx.widths[_]=parseInt(a.metadata.hmtx.widths[_]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+I+" 0 R/BaseFont/"+Wu(a.fontName)+"/FontDescriptor "+P+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,u=s.y,f=s.options||{},g=s.mutex||{},v=g.pdfEscape,p=g.activeFontKey,S=g.fonts,I=p,P="",_=0,k="",C=S[I].encoding;if(S[I].encoding!=="Identity-H")return{text:a,x:l,y:u,options:f,mutex:g};for(k=a,I=p,Array.isArray(a)&&(k=a[0]),_=0;_<k.length;_+=1)S[I].metadata.hasOwnProperty("cmap")&&(o=S[I].metadata.cmap.unicode.codeMap[k[_].charCodeAt(0)]),o||k[_].charCodeAt(0)<256&&S[I].metadata.hasOwnProperty("Unicode")?P+=k[_]:P+="";var j="";return parseInt(I.slice(1))<14||C==="WinAnsiEncoding"?j=v(P,I).split("").map(function(Q){return Q.charCodeAt(0).toString(16)}).join(""):C==="Identity-H"&&(j=n(P,S[I])),g.isHex=!0,{text:j,x:l,y:u,options:f,mutex:g}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?a.push([i(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):a.push(i(Object.assign({},l,{text:o[u]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(nt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(nt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,a,l,u,f,g=e,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],S={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},I={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},P=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),k=!1,C=0;this.__bidiEngine__={};var j=function(E){var N=E.charCodeAt(),L=N>>8,X=I[L];return X!==void 0?g[256*X+(255&N)]:L===252||L===253?"AL":_.test(L)?"L":L===8?"R":"N"},Q=function(E){for(var N,L=0;L<E.length;L++){if((N=j(E.charAt(L)))==="L")return!1;if(N==="R")return!0}return!1},re=function(E,N,L,X){var pe,ve,ge,J,le=N[X];switch(le){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":k=!1;break;case"N":case"AN":break;case"EN":k&&(le="AN");break;case"AL":k=!0,le="R";break;case"WS":case"BN":le="N";break;case"CS":X<1||X+1>=N.length||(pe=L[X-1])!=="EN"&&pe!=="AN"||(ve=N[X+1])!=="EN"&&ve!=="AN"?le="N":k&&(ve="AN"),le=ve===pe?ve:"N";break;case"ES":le=(pe=X>0?L[X-1]:"B")==="EN"&&X+1<N.length&&N[X+1]==="EN"?"EN":"N";break;case"ET":if(X>0&&L[X-1]==="EN"){le="EN";break}if(k){le="N";break}for(ge=X+1,J=N.length;ge<J&&N[ge]==="ET";)ge++;le=ge<J&&N[ge]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(J=N.length,ge=X+1;ge<J&&N[ge]==="NSM";)ge++;if(ge<J){var _e=E[X],we=_e>=1425&&_e<=2303||_e===64286;if(pe=N[ge],we&&(pe==="R"||pe==="AL")){le="R";break}}}le=X<1||(pe=N[X-1])==="B"?"N":L[X-1];break;case"B":k=!1,i=!0,le=C;break;case"S":s=!0,le="N"}return le},U=function(E,N,L){var X=E.split("");return L&&A(X,L,{hiLevel:C}),X.reverse(),N&&N.reverse(),X.join("")},A=function(E,N,L){var X,pe,ve,ge,J,le=-1,_e=E.length,we=0,M=[],H=C?p:v,Y=[];for(k=!1,i=!1,s=!1,pe=0;pe<_e;pe++)Y[pe]=j(E[pe]);for(ve=0;ve<_e;ve++){if(J=we,M[ve]=re(E,Y,M,ve),X=240&(we=H[J][S[M[ve]]]),we&=15,N[ve]=ge=H[we][5],X>0)if(X===16){for(pe=le;pe<ve;pe++)N[pe]=1;le=-1}else le=-1;if(H[we][6])le===-1&&(le=ve);else if(le>-1){for(pe=le;pe<ve;pe++)N[pe]=ge;le=-1}Y[ve]==="B"&&(N[ve]=0),L.hiLevel|=ge}s&&function(ee,ie,ue){for(var me=0;me<ue;me++)if(ee[me]==="S"){ie[me]=C;for(var ye=me-1;ye>=0&&ee[ye]==="WS";ye--)ie[ye]=C}}(Y,N,_e)},x=function(E,N,L,X,pe){if(!(pe.hiLevel<E)){if(E===1&&C===1&&!i)return N.reverse(),void(L&&L.reverse());for(var ve,ge,J,le,_e=N.length,we=0;we<_e;){if(X[we]>=E){for(J=we+1;J<_e&&X[J]>=E;)J++;for(le=we,ge=J-1;le<ge;le++,ge--)ve=N[le],N[le]=N[ge],N[ge]=ve,L&&(ve=L[le],L[le]=L[ge],L[ge]=ve);we=J}we++}}},D=function(E,N,L){var X=E.split(""),pe={hiLevel:C};return L||(L=[]),A(X,L,pe),function(ve,ge,J){if(J.hiLevel!==0&&f)for(var le,_e=0;_e<ve.length;_e++)ge[_e]===1&&(le=P.indexOf(ve[_e]))>=0&&(ve[_e]=P[le+1])}(X,L,pe),x(2,X,N,L,pe),x(1,X,N,L,pe),X.join("")};return this.__bidiEngine__.doBidiReorder=function(E,N,L){if(function(pe,ve){if(ve)for(var ge=0;ge<pe.length;ge++)ve[ge]=ge;a===void 0&&(a=Q(pe)),u===void 0&&(u=Q(pe))}(E,N),o||!l||u)if(o&&l&&a^u)C=a?1:0,E=U(E,N,L);else if(!o&&l&&u)C=a?1:0,E=D(E,N,L),E=U(E,N);else if(!o||a||l||u){if(o&&!l&&a^u)E=U(E,N),a?(C=0,E=D(E,N,L)):(C=1,E=D(E,N,L),E=U(E,N));else if(o&&a&&!l&&u)C=1,E=D(E,N,L),E=U(E,N);else if(!o&&!l&&a^u){var X=f;a?(C=1,E=D(E,N,L),C=0,f=!1,E=D(E,N,L),f=X):(C=0,E=D(E,N,L),E=U(E,N),C=1,f=!1,E=D(E,N,L),f=X,E=U(E,N))}}else C=0,E=D(E,N,L);else C=a?1:0,E=D(E,N,L);return E},this.__bidiEngine__.setOptions=function(E){E&&(o=E.isInputVisual,l=E.isOutputVisual,a=E.isInputRtl,u=E.isOutputRtl,f=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(nt),nt.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new cl(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Oj(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new _j(this.contents),this.head=new Ej(this),this.name=new Tj(this),this.cmap=new PI(this),this.toUnicode={},this.hhea=new Sj(this),this.maxp=new kj(this),this.hmtx=new Nj(this),this.post=new xj(this),this.os2=new Aj(this),this.loca=new Rj(this),this.glyf=new Pj(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,u;for(u=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var zs,cl=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),_j=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,a,l,u,f,g,v,p,S,I;for(I in p=Object.keys(n).length,l=Math.log(2),g=16*Math.floor(Math.log(p)/l),o=Math.floor(g/l),f=16*p-g,(i=new cl).writeInt(this.scalarType),i.writeShort(p),i.writeShort(g),i.writeShort(o),i.writeShort(f),s=16*p,u=i.pos+s,a=null,S=[],n)for(v=n[I],i.writeString(I),i.writeInt(t(v)),i.writeInt(u),i.writeInt(v.length),S=S.concat(v),I==="head"&&(a=u),u+=v.length;u%4;)S.push(0),u++;return i.write(S),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=CI.call(n);n.length%4;)n.push(0);for(s=new cl(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),bj={}.hasOwnProperty,yo=function(t,e){for(var n in e)bj.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};zs=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var Ej=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yo(t,zs),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new cl).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),v4=function(){function t(e,n){var r,i,s,o,a,l,u,f,g,v,p,S,I,P,_,k,C;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),g=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),v=p/2,e.pos+=6,s=function(){var j,Q;for(Q=[],l=j=0;0<=v?j<v:j>v;l=0<=v?++j:--j)Q.push(e.readUInt16());return Q}(),e.pos+=2,I=function(){var j,Q;for(Q=[],l=j=0;0<=v?j<v:j>v;l=0<=v?++j:--j)Q.push(e.readUInt16());return Q}(),u=function(){var j,Q;for(Q=[],l=j=0;0<=v?j<v:j>v;l=0<=v?++j:--j)Q.push(e.readUInt16());return Q}(),f=function(){var j,Q;for(Q=[],l=j=0;0<=v?j<v:j>v;l=0<=v?++j:--j)Q.push(e.readUInt16());return Q}(),i=(this.length-e.pos+this.offset)/2,a=function(){var j,Q;for(Q=[],l=j=0;0<=i?j<i:j>i;l=0<=i?++j:--j)Q.push(e.readUInt16());return Q}(),l=_=0,C=s.length;_<C;l=++_)for(P=s[l],r=k=S=I[l];S<=P?k<=P:k>=P;r=S<=P?++k:--k)f[l]===0?o=r+u[l]:(o=a[f[l]/2+(r-S)-(v-l)]||0)!==0&&(o+=u[l]),this.codeMap[r]=65535&o}e.pos=g}return t.encode=function(e,n){var r,i,s,o,a,l,u,f,g,v,p,S,I,P,_,k,C,j,Q,re,U,A,x,D,E,N,L,X,pe,ve,ge,J,le,_e,we,M,H,Y,ee,ie,ue,me,ye,Ae,Le,Ue;switch(X=new cl,o=Object.keys(e).sort(function(je,Je){return je-Je}),n){case"macroman":for(I=0,P=function(){var je=[];for(S=0;S<256;++S)je.push(0);return je}(),k={0:0},s={},pe=0,le=o.length;pe<le;pe++)k[ye=e[i=o[pe]]]==null&&(k[ye]=++I),s[i]={old:e[i],new:k[e[i]]},P[i]=k[e[i]];return X.writeUInt16(1),X.writeUInt16(0),X.writeUInt32(12),X.writeUInt16(0),X.writeUInt16(262),X.writeUInt16(0),X.write(P),{charMap:s,subtable:X.data,maxGlyphID:I+1};case"unicode":for(N=[],g=[],C=0,k={},r={},_=u=null,ve=0,_e=o.length;ve<_e;ve++)k[Q=e[i=o[ve]]]==null&&(k[Q]=++C),r[i]={old:Q,new:k[Q]},a=k[Q]-i,_!=null&&a===u||(_&&g.push(_),N.push(i),u=a),_=i;for(_&&g.push(_),g.push(65535),N.push(65535),D=2*(x=N.length),A=2*Math.pow(Math.log(x)/Math.LN2,2),v=Math.log(A/2)/Math.LN2,U=2*x-A,l=[],re=[],p=[],S=ge=0,we=N.length;ge<we;S=++ge){if(E=N[S],f=g[S],E===65535){l.push(0),re.push(0);break}if(E-(L=r[E].new)>=32768)for(l.push(0),re.push(2*(p.length+x-S)),i=J=E;E<=f?J<=f:J>=f;i=E<=f?++J:--J)p.push(r[i].new);else l.push(L-E),re.push(0)}for(X.writeUInt16(3),X.writeUInt16(1),X.writeUInt32(12),X.writeUInt16(4),X.writeUInt16(16+8*x+2*p.length),X.writeUInt16(0),X.writeUInt16(D),X.writeUInt16(A),X.writeUInt16(v),X.writeUInt16(U),ue=0,M=g.length;ue<M;ue++)i=g[ue],X.writeUInt16(i);for(X.writeUInt16(0),me=0,H=N.length;me<H;me++)i=N[me],X.writeUInt16(i);for(Ae=0,Y=l.length;Ae<Y;Ae++)a=l[Ae],X.writeUInt16(a);for(Le=0,ee=re.length;Le<ee;Le++)j=re[Le],X.writeUInt16(j);for(Ue=0,ie=p.length;Ue<ie;Ue++)I=p[Ue],X.writeUInt16(I);return{charMap:r,subtable:X.data,maxGlyphID:C+1}}},t}(),PI=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yo(t,zs),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new v4(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=v4.encode(e,n),(i=new cl).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t}(),Sj=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yo(t,zs),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),Aj=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yo(t,zs),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),xj=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yo(t,zs),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var o,a,l;for(l=[],s=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;s=0<=a?++o:--o)l.push(e.readUInt32());return l}).call(this)}},t}(),Ij=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Tj=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yo(t,zs),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,s,o,a,l,u,f,g,v;for(e.pos=this.offset,e.readShort(),n=e.readShort(),a=e.readShort(),r=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(l={},s=f=0,g=r.length;f<g;s=++f)i=r[s],e.pos=i.offset,u=e.readString(i.length),o=new Ij(u,i),l[v=i.nameID]==null&&(l[v]=[]),l[i.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),kj=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yo(t,zs),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),Nj=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yo(t,zs),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,s,o,a,l;for(e.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:n>a;n=0<=a?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,f;for(f=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)f.push(e.readInt16());return f}(),this.widths=(function(){var u,f,g,v;for(v=[],u=0,f=(g=this.metrics).length;u<f;u++)s=g[u],v.push(s.advance);return v}).call(this),r=this.widths[this.widths.length-1],l=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),CI=[].slice,Pj=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yo(t,zs),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,s,o,a,l,u,f,g;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,o=(a=new cl(n.read(i))).readShort(),u=a.readShort(),g=a.readShort(),l=a.readShort(),f=a.readShort(),this.cache[e]=o===-1?new Lj(a,u,g,l,f):new Cj(a,o,u,g,l,f),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,s,o,a,l;for(o=[],s=[],a=0,l=n.length;a<l;a++)i=e[n[a]],s.push(o.length),i&&(o=o.concat(i.encode(r)));return s.push(o.length),{table:o,offsets:s}},t}(),Cj=function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Lj=function(){function t(e,n,r,i,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new cl(CI.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),Rj=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yo(t,zs),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<r.length;++o)if(r[o]=i,s<n.length&&n[s]==o){++s,r[o]=i;var a=this.offsets[o],l=this.offsets[o+1]-a;l>0&&(i+=l)}for(var u=new Array(4*r.length),f=0;f<r.length;++f)u[4*f+3]=255&r[f],u[4*f+2]=(65280&r[f])>>8,u[4*f+1]=(16711680&r[f])>>16,u[4*f]=(4278190080&r[f])>>24;return u},t}(),Oj=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,a,l,u,f,g,v,p,S,I,P,_;for(i in r=PI.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),p={0:0},_=r.charMap)p[(l=_[i]).old]=l.new;for(S in v=r.maxGlyphID,o)S in p||(p[S]=v++);return f=function(k){var C,j;for(C in j={},k)j[k[C]]=C;return j}(p),g=Object.keys(f).sort(function(k,C){return k-C}),I=function(){var k,C,j;for(j=[],k=0,C=g.length;k<C;k++)a=g[k],j.push(f[a]);return j}(),s=this.font.glyf.encode(o,I,p),u=this.font.loca.encode(s.offsets,I),P={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(P["OS/2"]=this.font.os2.raw()),this.font.directory.encode(P)},t}();nt.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,u;for(u=[],a=0,l=n.length;a<l;a++)r=n[a],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();function LI(t,e,n,r,i){r=r||{};var s=1.15,o=i.internal.scaleFactor,a=i.internal.getFontSize()/o,l=i.getLineHeightFactor?i.getLineHeightFactor():s,u=a*l,f=/\r\n|\r|\n/g,g="",v=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(g=typeof t=="string"?t.split(f):t,v=g.length||1),n+=a*(2-s),r.valign==="middle"?n-=v/2*u:r.valign==="bottom"&&(n-=v*u),r.halign==="center"||r.halign==="right"){var p=a;if(r.halign==="center"&&(p*=.5),g&&v>=1){for(var S=0;S<g.length;S++)i.text(g[S],e-i.getStringUnitWidth(g[S])*p,n),n+=u;return i}e-=i.getStringUnitWidth(t)*p}return r.halign==="justify"?i.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(t,e,n),i}var y4={},yc=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:y4=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var r,i,s;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),a=o.fontStyle,l=o.fontName;if(e.font&&(l=e.font),e.fontStyle){a=e.fontStyle;var u=this.getFontList()[l];u&&u.indexOf(a)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),a=u[0])}if(this.jsPDFDocument.setFont(l,a),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var f=t.unifyColor(e.fillColor);f&&(r=this.jsPDFDocument).setFillColor.apply(r,f),f=t.unifyColor(e.textColor),f&&(i=this.jsPDFDocument).setTextColor.apply(i,f),f=t.unifyColor(e.lineColor),f&&(s=this.jsPDFDocument).setDrawColor.apply(s,f),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,r){return this.jsPDFDocument.splitTextToSize(e,n,r)},t.prototype.rect=function(e,n,r,i,s){return this.jsPDFDocument.rect(e,n,r,i,s)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return y4||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),P2=function(t,e){return P2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},P2(t,e)};function RI(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");P2(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var OI=function(t){RI(e,t);function e(n){var r=t.call(this)||this;return r._element=n,r}return e}(Array);function Dj(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Mj(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function Sg(t,e,n){n.applyStyles(e,!0);var r=Array.isArray(t)?t:[t],i=r.map(function(s){return n.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return i}function DI(t,e,n,r){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:s});var o=MI(i,!1);o&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),r.y-n.y,o)}function MI(t,e){var n=t>0,r=e||e===0;return n&&r?"DF":n?"S":r?"F":null}function dm(t,e){var n,r,i,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(r=t.top)!==null&&r!==void 0?r:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(s=t.bottom)!==null&&s!==void 0?s:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function FI(t,e){var n=dm(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function Fj(t,e,n,r,i){var s={},o=1.3333333333333333,a=H0(e,function(C){return i.getComputedStyle(C).backgroundColor});a!=null&&(s.fillColor=a);var l=H0(e,function(C){return i.getComputedStyle(C).color});l!=null&&(s.textColor=l);var u=Uj(r,n);u&&(s.cellPadding=u);var f="borderTopColor",g=o*n,v=r.borderTopWidth;if(r.borderBottomWidth===v&&r.borderRightWidth===v&&r.borderLeftWidth===v){var p=(parseFloat(v)||0)/g;p&&(s.lineWidth=p)}else s.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/g,right:(parseFloat(r.borderRightWidth)||0)/g,bottom:(parseFloat(r.borderBottomWidth)||0)/g,left:(parseFloat(r.borderLeftWidth)||0)/g},s.lineWidth.top||(s.lineWidth.right?f="borderRightColor":s.lineWidth.bottom?f="borderBottomColor":s.lineWidth.left&&(f="borderLeftColor"));var S=H0(e,function(C){return i.getComputedStyle(C)[f]});S!=null&&(s.lineColor=S);var I=["left","right","center","justify"];I.indexOf(r.textAlign)!==-1&&(s.halign=r.textAlign),I=["middle","bottom","top"],I.indexOf(r.verticalAlign)!==-1&&(s.valign=r.verticalAlign);var P=parseInt(r.fontSize||"");isNaN(P)||(s.fontSize=P/o);var _=jj(r);_&&(s.fontStyle=_);var k=(r.fontFamily||"").toLowerCase();return t.indexOf(k)!==-1&&(s.font=k),s}function jj(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function H0(t,e){var n=jI(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],s=parseInt(r[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function jI(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:jI(t.parentElement,e):n}function Uj(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],r=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=n.map(function(a){return parseInt(a||"0")/r}),o=dm(s,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function UI(t,e,n,r,i){var s,o;r===void 0&&(r=!1),i===void 0&&(i=!1);var a;typeof e=="string"?a=n.document.querySelector(e):a=e;var l=Object.keys(t.getFontList()),u=t.scaleFactor(),f=[],g=[],v=[];if(!a)return console.error("Html table could not be found with input: ",e),{head:f,body:g,foot:v};for(var p=0;p<a.rows.length;p++){var S=a.rows[p],I=(o=(s=S==null?void 0:S.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),P=Vj(l,u,n,S,r,i);P&&(I==="thead"?f.push(P):I==="tfoot"?v.push(P):g.push(P))}return{head:f,body:g,foot:v}}function Vj(t,e,n,r,i,s){for(var o=new OI(r),a=0;a<r.cells.length;a++){var l=r.cells[a],u=n.getComputedStyle(l);if(i||u.display!=="none"){var f=void 0;s&&(f=Fj(t,l,e,u,n)),o.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:f,_element:l,content:Bj(l)})}}var g=n.getComputedStyle(r);if(o.length>0&&(i||g.display!=="none"))return o}function Bj(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function zj(t,e,n){for(var r=0,i=[t,e,n];r<i.length;r++){var s=i[r];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function Ho(t,e,n,r,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),o=1;o<arguments.length;o++){var a=arguments[o];if(a!=null)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])}return s}function VI(t,e){var n=new yc(t),r=n.getDocumentOptions(),i=n.getGlobalOptions();zj(i,r,e);var s=Ho({},i,r,e),o;typeof window<"u"&&(o=window);var a=qj(i,r,e),l=Wj(i,r,e),u=Hj(n,s),f=Gj(n,s,o);return{id:e.tableId,content:f,hooks:l,styles:a,settings:u}}function qj(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var u=t[l],f=e[l],g=n[l];r.columnStyles=Ho({},u,f,g)}else{var v=[t,e,n],p=v.map(function(S){return S[l]||{}});r[l]=Ho({},p[0],p[1],p[2])}},s=0,o=Object.keys(r);s<o.length;s++){var a=o[s];i(a)}return r}function Wj(t,e,n){for(var r=[t,e,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=r;s<o.length;s++){var a=o[s];a.didParseCell&&i.didParseCell.push(a.didParseCell),a.willDrawCell&&i.willDrawCell.push(a.willDrawCell),a.didDrawCell&&i.didDrawCell.push(a.didDrawCell),a.willDrawPage&&i.willDrawPage.push(a.willDrawPage),a.didDrawPage&&i.didDrawPage.push(a.didDrawPage)}return i}function Hj(t,e){var n,r,i,s,o,a,l,u,f,g,v,p,S=dm(e.margin,40/t.scaleFactor()),I=(n=$j(t,e.startY))!==null&&n!==void 0?n:S.top,P;e.showFoot===!0?P="everyPage":e.showFoot===!1?P="never":P=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var _;e.showHead===!0?_="everyPage":e.showHead===!1?_="never":_=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var k=(s=e.useCss)!==null&&s!==void 0?s:!1,C=e.theme||(k?"plain":"striped"),j=!!e.horizontalPageBreak,Q=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(a=e.includeHiddenHtml)!==null&&a!==void 0?a:!1,useCss:k,theme:C,startY:I,margin:S,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(f=e.tableWidth)!==null&&f!==void 0?f:"auto",showHead:_,showFoot:P,tableLineWidth:(g=e.tableLineWidth)!==null&&g!==void 0?g:0,tableLineColor:(v=e.tableLineColor)!==null&&v!==void 0?v:200,horizontalPageBreak:j,horizontalPageBreakRepeat:Q,horizontalPageBreakBehaviour:(p=e.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function $j(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),i=t.pageNumber(),s=!1;if(n&&n.startPageNumber){var o=n.startPageNumber+n.pageNumber-1;s=o===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function Gj(t,e,n){var r=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(n){var a=UI(t,e.html,n,o,e.useCss)||{};r=a.head||r,i=a.body||r,s=a.foot||r}else console.error("Cannot parse html in non browser environment")}var l=e.columns||Kj(r,i,s);return{columns:l,head:r,body:i,foot:s}}function Kj(t,e,n){var r=t[0]||e[0]||n[0]||[],i=[];return Object.keys(r).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,a;Array.isArray(r)?a=r[parseInt(s)]:a=r[s],typeof a=="object"&&!Array.isArray(a)&&(o=(a==null?void 0:a.colSpan)||1);for(var l=0;l<o;l++){var u=void 0;Array.isArray(r)?u=i.length:u=s+(l>0?"_".concat(l):"");var f={dataKey:u};i.push(f)}}),i}var C2=function(){function t(e,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=e.getDocument()}return t}(),Yj=function(t){RI(e,t);function e(n,r,i,s,o,a){var l=t.call(this,n,r,a)||this;return l.cell=i,l.row=s,l.column=o,l.section=s.section,l}return e}(C2),Qj=function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,r,i,s,o){for(var a=0,l=n;a<l.length;a++){var u=l[a],f=new Yj(e,this,r,i,s,o),g=u(f)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],g)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var s=i[r];s(new C2(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var s=i[r];s(new C2(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return n}else{var r=this.settings.margin;return e-r.left-r.right}},t}(),BI=function(){function t(e,n,r,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof OI&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=s}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(r,i){var s;return Math.max(r,((s=n.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var r=this;return e.reduce(function(i,s){var o=r.cells[s.index];if(!o)return 0;var a=n.getLineHeight(o.styles.fontSize),l=o.padding("vertical"),u=l+a;return u>i?u:i},0)},t}(),zI=function(){function t(e,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",a=/\r\n|\r|\n/g;this.text=o.split(a)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*n,s=r*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=dm(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t}(),Xj=function(){function t(e,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=r}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,r=0,i=e.allRows();r<i.length;r++){var s=i[r],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(n=Math.max(n,o.styles.cellWidth))}return n},t}();function Jj(t,e){Zj(t,e);var n=[],r=0;e.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(e);o?s.width=o:(s.width=s.wrappedWidth,n.push(s)),r+=s.width});var i=e.getWidth(t.pageSize().width)-r;i&&(i=L2(n,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=L2(n,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),tU(e),nU(e,t),eU(e)}function Zj(t,e){var n=t.scaleFactor(),r=e.settings.horizontalPageBreak,i=FI(t,e);e.allRows().forEach(function(s){for(var o=0,a=e.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u){var f=e.hooks.didParseCell;e.callCellHooks(t,f,u,s,l,null);var g=u.padding("horizontal");u.contentWidth=Sg(u.text,u.styles,t)+g;var v=Sg(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=v+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||r===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var p=10/n;u.minWidth=u.styles.minCellWidth||p,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(s){for(var o=0,a=e.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u&&u.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,u.wrappedWidth),l.minWidth=Math.max(l.minWidth,u.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,u.minReadableWidth);else{var f=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},g=f.cellWidth||f.minCellWidth;g&&typeof g=="number"&&(l.minWidth=g,l.wrappedWidth=g)}u&&(u.colSpan>1&&!l.minWidth&&(l.minWidth=u.minWidth),u.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=u.minWidth))}})}function L2(t,e,n){for(var r=e,i=t.reduce(function(p,S){return p+S.wrappedWidth},0),s=0;s<t.length;s++){var o=t[s],a=o.wrappedWidth/i,l=r*a,u=o.width+l,f=n(o),g=u<f?f:u;e-=g-o.width,o.width=g}if(e=Math.round(e*1e10)/1e10,e){var v=t.filter(function(p){return e<0?p.width>n(p):!0});v.length&&(e=L2(v,e,n))}return e}function eU(t){for(var e={},n=1,r=t.allRows(),i=0;i<r.length;i++)for(var s=r[i],o=0,a=t.columns;o<a.length;o++){var l=a[o],u=e[l.index];if(n>1)n--,delete s.cells[l.index];else if(u)u.cell.height+=s.height,n=u.cell.colSpan,delete s.cells[l.index],u.left--,u.left<=1&&delete e[l.index];else{var f=s.cells[l.index];if(!f)continue;if(f.height=s.height,f.rowSpan>1){var g=r.length-i,v=f.rowSpan>g?g:f.rowSpan;e[l.index]={cell:f,left:v,row:s}}}}}function tU(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],i=null,s=0,o=0,a=0;a<t.columns.length;a++){var l=t.columns[a];if(o-=1,o>1&&t.columns[a+1])s+=l.width,delete r.cells[l.index];else if(i){var u=i;delete r.cells[l.index],i=null,u.width=l.width+s}else{var u=r.cells[l.index];if(!u)continue;if(o=u.colSpan,s=0,u.colSpan>1){i=u,s+=l.width;continue}u.width=l.width+s}}}function nU(t,e){for(var n={count:0,height:0},r=0,i=t.allRows();r<i.length;r++){for(var s=i[r],o=0,a=t.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u){e.applyStyles(u.styles,!0);var f=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,f+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=w4(u.text,f,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=w4(u.text,f,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var g=u.styles.overflow(u.text,f);typeof g=="string"?u.text=[g]:u.text=g}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var v=u.contentHeight/u.rowSpan;u.rowSpan>1&&n.count*n.height<v*u.rowSpan?n={height:v,count:u.rowSpan}:n&&n.count>0&&n.height>v&&(v=n.height),v>s.height&&(s.height=v)}}n.count--}}function w4(t,e,n,r,i){return t.map(function(s){return rU(s,e,n,r,i)})}function rU(t,e,n,r,i){var s=1e4*r.scaleFactor();if(e=Math.ceil(e*s)/s,e>=Sg(t,n,r))return t;for(;e<Sg(t+i,n,r)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function qI(t,e){var n=new yc(t),r=iU(e,n.scaleFactor()),i=new Qj(e,r);return Jj(n,i),n.applyStyles(n.userStyles),i}function iU(t,e){var n=t.content,r=oU(n.columns);if(n.head.length===0){var i=_4(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=_4(r,"foot");i&&n.foot.push(i)}var s=t.settings.theme,o=t.styles;return{columns:r,head:$0("head",n.head,r,o,s,e),body:$0("body",n.body,r,o,s,e),foot:$0("foot",n.foot,r,o,s,e)}}function $0(t,e,n,r,i,s){var o={},a=e.map(function(l,u){for(var f=0,g={},v=0,p=0,S=0,I=n;S<I.length;S++){var P=I[S];if(o[P.index]==null||o[P.index].left===0)if(p===0){var _=void 0;Array.isArray(l)?_=l[P.index-v-f]:_=l[P.dataKey];var k={};typeof _=="object"&&!Array.isArray(_)&&(k=(_==null?void 0:_.styles)||{});var C=aU(t,P,u,i,r,s,k),j=new zI(_,C,t);g[P.dataKey]=j,g[P.index]=j,p=j.colSpan-1,o[P.index]={left:j.rowSpan-1,times:p}}else p--,v++;else o[P.index].left--,p=o[P.index].times,f++}return new BI(l,u,t,g)});return a}function _4(t,e){var n={};return t.forEach(function(r){if(r.raw!=null){var i=sU(e,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function sU(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function oU(t){return t.map(function(e,n){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:n:i=n,new Xj(i,e,n)})}function aU(t,e,n,r,i,s,o){var a=Mj(r),l;t==="head"?l=i.headStyles:t==="body"?l=i.bodyStyles:t==="foot"&&(l=i.footStyles);var u=Ho({},a.table,a[t],i.styles,l),f=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},g=t==="body"?f:{},v=t==="body"&&n%2===0?Ho({},a.alternateRow,i.alternateRowStyles):{},p=Dj(s),S=Ho({},p,u,v,g);return Ho(S,o)}function lU(t,e,n){var r;n===void 0&&(n={});var i=FI(t,e),s=new Map,o=[],a=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(v){var p=e.columns.find(function(S){return S.dataKey===v||S.index===v});p&&!s.has(p.index)&&(s.set(p.index,!0),o.push(p.index),a.push(e.columns[p.index]),i-=p.wrappedWidth)});for(var u=!0,f=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;f<e.columns.length;){if(s.has(f)){f++;continue}var g=e.columns[f].wrappedWidth;if(u||i>=g)u=!1,o.push(f),a.push(e.columns[f]),i-=g;else break;f++}return{colIndexes:o,columns:a,lastIndex:f-1}}function uU(t,e){for(var n=[],r=0;r<e.columns.length;r++){var i=lU(t,e,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function WI(t,e){var n=e.settings,r=n.startY,i=n.margin,s={x:i.left,y:r},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),a=r+i.bottom+o;if(n.pageBreak==="avoid"){var l=e.body,u=l.reduce(function(v,p){return v+p.height},0);a+=u}var f=new yc(t);(n.pageBreak==="always"||n.startY!=null&&a>f.pageSize().height)&&($I(f),s.y=i.top),e.callWillDrawPageHooks(f,s);var g=Ho({},s);e.startPageNumber=f.pageNumber(),n.horizontalPageBreak?cU(f,e,g,s):(f.applyStyles(f.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(v){return ra(f,e,v,s,e.columns)}),f.applyStyles(f.userStyles),e.body.forEach(function(v,p){var S=p===e.body.length-1;Ag(f,e,v,S,g,s,e.columns)}),f.applyStyles(f.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(v){return ra(f,e,v,s,e.columns)})),DI(f,e,g,s),e.callEndPageHooks(f,s),e.finalY=s.y,t.lastAutoTable=e,f.applyStyles(f.userStyles)}function cU(t,e,n,r){var i=uU(t,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,f){t.applyStyles(t.userStyles),f>0?ef(t,e,n,r,u.columns,!0):b4(t,e,r,u.columns),hU(t,e,n,r,u.columns),G0(t,e,r,u.columns)});else for(var o=-1,a=i[0],l=function(){var u=o;if(a){t.applyStyles(t.userStyles);var f=a.columns;o>=0?ef(t,e,n,r,f,!0):b4(t,e,r,f),u=E4(t,e,o+1,r,f),G0(t,e,r,f)}var g=u-o;i.slice(1).forEach(function(v){t.applyStyles(t.userStyles),ef(t,e,n,r,v.columns,!0),E4(t,e,o+1,r,v.columns,g),G0(t,e,r,v.columns)}),o=u};o<e.body.length-1;)l()}function b4(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return ra(t,e,s,n,r)})}function hU(t,e,n,r,i){t.applyStyles(t.userStyles),e.body.forEach(function(s,o){var a=o===e.body.length-1;Ag(t,e,s,a,n,r,i)})}function E4(t,e,n,r,i,s){t.applyStyles(t.userStyles),s=s??e.body.length;var o=Math.min(n+s,e.body.length),a=-1;return e.body.slice(n,o).forEach(function(l,u){var f=n+u===e.body.length-1,g=HI(t,e,f,r);l.canEntireRowFit(g,i)&&(ra(t,e,l,r,i),a=n+u)}),a}function G0(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return ra(t,e,s,n,r)})}function fU(t,e,n){var r=n.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),s=Math.floor((e-i)/r);return Math.max(0,s)}function dU(t,e,n,r){var i={};t.spansMultiplePages=!0,t.height=0;for(var s=0,o=0,a=n.columns;o<a.length;o++){var l=a[o],u=t.cells[l.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var f=new zI(u.raw,u.styles,u.section);f=Ho(f,u),f.text=[];var g=fU(u,e,r);u.text.length>g&&(f.text=u.text.splice(g,u.text.length));var v=r.scaleFactor(),p=r.getLineHeightFactor();u.contentHeight=u.getContentHeight(v,p),u.contentHeight>=e&&(u.contentHeight=e,f.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),f.contentHeight=f.getContentHeight(v,p),f.contentHeight>s&&(s=f.contentHeight),i[l.index]=f}}var S=new BI(t.raw,-1,t.section,i,!0);S.height=s;for(var I=0,P=n.columns;I<P.length;I++){var l=P[I],f=S.cells[l.index];f&&(f.height=S.height);var u=t.cells[l.index];u&&(u.height=t.height)}return S}function pU(t,e,n,r){var i=t.pageSize().height,s=r.settings.margin,o=s.top+s.bottom,a=i-o;e.section==="body"&&(a-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var l=e.getMinimumRowHeight(r.columns,t),u=l<n;if(l>a)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var f=e.hasRowSpan(r.columns),g=e.getMaxCellHeight(r.columns)>a;return g?(f&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(f||r.settings.rowPageBreak==="avoid")}function Ag(t,e,n,r,i,s,o){var a=HI(t,e,r,s);if(n.canEntireRowFit(a,o))ra(t,e,n,s,o);else if(pU(t,n,a,e)){var l=dU(n,a,e,t);ra(t,e,n,s,o),ef(t,e,i,s,o),Ag(t,e,l,r,i,s,o)}else ef(t,e,i,s,o),Ag(t,e,n,r,i,s,o)}function ra(t,e,n,r,i){r.x=e.settings.margin.left;for(var s=0,o=i;s<o.length;s++){var a=o[s],l=n.cells[a.index];if(!l){r.x+=a.width;continue}t.applyStyles(l.styles),l.x=r.x,l.y=r.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,l,n,a,r);if(u===!1){r.x+=a.width;continue}gU(t,l,r);var f=l.getTextPos();LI(l.text,f.x,f.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,n,a,r),r.x+=a.width}r.y+=n.height}function gU(t,e,n){var r=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=MI(r.lineWidth,r.fillColor);i&&t.rect(e.x,n.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),mU(t,e,n,r.lineWidth))}function mU(t,e,n,r){var i,s,o,a;r.top&&(i=n.x,s=n.y,o=n.x+e.width,a=n.y,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),l(r.top,i,s,o,a)),r.bottom&&(i=n.x,s=n.y+e.height,o=n.x+e.width,a=n.y+e.height,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),l(r.bottom,i,s,o,a)),r.left&&(i=n.x,s=n.y,o=n.x,a=n.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.left,i,s,o,a)),r.right&&(i=n.x+e.width,s=n.y,o=n.x+e.width,a=n.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.right,i,s,o,a));function l(u,f,g,v,p){t.getDocument().setLineWidth(u),t.getDocument().line(f,g,v,p,"S")}}function HI(t,e,n,r){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&n)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-i}function ef(t,e,n,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(a){return ra(t,e,a,r,i)}),e.callEndPageHooks(t,r);var o=e.settings.margin;DI(t,e,n,r),$I(t),e.pageNumber++,r.x=o.left,r.y=o.top,n.y=o.top,e.callWillDrawPageHooks(t,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(a){return ra(t,e,a,r,i)}),t.applyStyles(t.userStyles))}function $I(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function vU(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=VI(this,r),s=qI(this,i);return WI(this,s),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,r,i){LI(e,n,r,i,this)},t.API.autoTableSetDefaults=function(e){return yc.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){yc.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new yc(this),s=UI(i,e,window,n,!1),o=s.head,a=s.body,l=((r=o[0])===null||r===void 0?void 0:r.map(function(u){return u.content}))||[];return{columns:l,rows:a,data:a}}}var K0;function yU(t,e){var n=VI(t,e),r=qI(t,n);WI(t,r)}try{if(typeof window<"u"&&window){var S4=window,A4=S4.jsPDF||((K0=S4.jspdf)===null||K0===void 0?void 0:K0.jsPDF);A4&&vU(A4)}}catch(t){console.error("Could not apply autoTable plugin",t)}const GI=6048e5,wU=864e5,KI=6e4,YI=36e5,x4=Symbol.for("constructDateFrom");function ia(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&x4 in t?t[x4](e):t instanceof Date?new t.constructor(e):new Date(e)}function Ki(t,e){return ia(e||t,t)}let _U={};function pm(){return _U}function Rf(t,e){var a,l,u,f;const n=pm(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,i=Ki(t,e==null?void 0:e.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function xg(t,e){return Rf(t,{...e,weekStartsOn:1})}function QI(t,e){const n=Ki(t,e==null?void 0:e.in),r=n.getFullYear(),i=ia(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=xg(i),o=ia(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=xg(o);return n.getTime()>=s.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function I4(t){const e=Ki(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function bU(t,...e){const n=ia.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function T4(t,e){const n=Ki(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function EU(t,e,n){const[r,i]=bU(n==null?void 0:n.in,t,e),s=T4(r),o=T4(i),a=+s-I4(s),l=+o-I4(o);return Math.round((a-l)/wU)}function SU(t,e){const n=QI(t,e),r=ia(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),xg(r)}function AU(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function xU(t){return!(!AU(t)&&typeof t!="number"||isNaN(+Ki(t)))}function IU(t,e){const n=Ki(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const TU={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},kU=(t,e,n)=>{let r;const i=TU[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Y0(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const NU={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},PU={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},CU={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},LU={date:Y0({formats:NU,defaultWidth:"full"}),time:Y0({formats:PU,defaultWidth:"full"}),dateTime:Y0({formats:CU,defaultWidth:"full"})},RU={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},OU=(t,e,n,r)=>RU[t];function Ah(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const DU={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},MU={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},FU={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},jU={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},UU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},VU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},BU=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},zU={ordinalNumber:BU,era:Ah({values:DU,defaultWidth:"wide"}),quarter:Ah({values:MU,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ah({values:FU,defaultWidth:"wide"}),day:Ah({values:jU,defaultWidth:"wide"}),dayPeriod:Ah({values:UU,defaultWidth:"wide",formattingValues:VU,defaultFormattingWidth:"wide"})};function xh(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?WU(a,g=>g.test(o)):qU(a,g=>g.test(o));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const f=e.slice(o.length);return{value:u,rest:f}}}function qU(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function WU(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function HU(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const $U=/^(\d+)(th|st|nd|rd)?/i,GU=/\d+/i,KU={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},YU={any:[/^b/i,/^(a|c)/i]},QU={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},XU={any:[/1/i,/2/i,/3/i,/4/i]},JU={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ZU={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},eV={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},tV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},nV={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},rV={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},iV={ordinalNumber:HU({matchPattern:$U,parsePattern:GU,valueCallback:t=>parseInt(t,10)}),era:xh({matchPatterns:KU,defaultMatchWidth:"wide",parsePatterns:YU,defaultParseWidth:"any"}),quarter:xh({matchPatterns:QU,defaultMatchWidth:"wide",parsePatterns:XU,defaultParseWidth:"any",valueCallback:t=>t+1}),month:xh({matchPatterns:JU,defaultMatchWidth:"wide",parsePatterns:ZU,defaultParseWidth:"any"}),day:xh({matchPatterns:eV,defaultMatchWidth:"wide",parsePatterns:tV,defaultParseWidth:"any"}),dayPeriod:xh({matchPatterns:nV,defaultMatchWidth:"any",parsePatterns:rV,defaultParseWidth:"any"})},sV={code:"en-US",formatDistance:kU,formatLong:LU,formatRelative:OU,localize:zU,match:iV,options:{weekStartsOn:0,firstWeekContainsDate:1}};function oV(t,e){const n=Ki(t,e==null?void 0:e.in);return EU(n,IU(n))+1}function aV(t,e){const n=Ki(t,e==null?void 0:e.in),r=+xg(n)-+SU(n);return Math.round(r/GI)+1}function XI(t,e){var f,g,v,p;const n=Ki(t,e==null?void 0:e.in),r=n.getFullYear(),i=pm(),s=(e==null?void 0:e.firstWeekContainsDate)??((g=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(v=i.locale)==null?void 0:v.options)==null?void 0:p.firstWeekContainsDate)??1,o=ia((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=Rf(o,e),l=ia((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const u=Rf(l,e);return+n>=+a?r+1:+n>=+u?r:r-1}function lV(t,e){var a,l,u,f;const n=pm(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,i=XI(t,e),s=ia((e==null?void 0:e.in)||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Rf(s,e)}function uV(t,e){const n=Ki(t,e==null?void 0:e.in),r=+Rf(n,e)-+lV(n,e);return Math.round(r/GI)+1}function rn(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ca={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return rn(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):rn(n+1,2)},d(t,e){return rn(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return rn(t.getHours()%12||12,e.length)},H(t,e){return rn(t.getHours(),e.length)},m(t,e){return rn(t.getMinutes(),e.length)},s(t,e){return rn(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return rn(i,e.length)}},Fu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},k4={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ca.y(t,e)},Y:function(t,e,n,r){const i=XI(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return rn(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):rn(s,e.length)},R:function(t,e){const n=QI(t);return rn(n,e.length)},u:function(t,e){const n=t.getFullYear();return rn(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return rn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return rn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ca.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return rn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=uV(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):rn(i,e.length)},I:function(t,e,n){const r=aV(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):rn(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ca.d(t,e)},D:function(t,e,n){const r=oV(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):rn(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return rn(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return rn(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return rn(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Fu.noon:r===0?i=Fu.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Fu.evening:r>=12?i=Fu.afternoon:r>=4?i=Fu.morning:i=Fu.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ca.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ca.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):rn(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):rn(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ca.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ca.s(t,e)},S:function(t,e){return Ca.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return P4(r);case"XXXX":case"XX":return jl(r);case"XXXXX":case"XXX":default:return jl(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return P4(r);case"xxxx":case"xx":return jl(r);case"xxxxx":case"xxx":default:return jl(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+N4(r,":");case"OOOO":default:return"GMT"+jl(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+N4(r,":");case"zzzz":default:return"GMT"+jl(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return rn(r,e.length)},T:function(t,e,n){return rn(+t,e.length)}};function N4(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+rn(s,2)}function P4(t,e){return t%60===0?(t>0?"-":"+")+rn(Math.abs(t)/60,2):jl(t,e)}function jl(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=rn(Math.trunc(r/60),2),s=rn(r%60,2);return n+i+e+s}const C4=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},JI=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},cV=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return C4(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",C4(r,e)).replace("{{time}}",JI(i,e))},hV={p:JI,P:cV},fV=/^D+$/,dV=/^Y+$/,pV=["D","DD","YY","YYYY"];function gV(t){return fV.test(t)}function mV(t){return dV.test(t)}function vV(t,e,n){const r=yV(t,e,n);if(console.warn(r),pV.includes(t))throw new RangeError(r)}function yV(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const wV=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_V=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,bV=/^'([^]*?)'?$/,EV=/''/g,SV=/[a-zA-Z]/;function La(t,e,n){var f,g,v,p;const r=pm(),i=r.locale??sV,s=r.firstWeekContainsDate??((g=(f=r.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??1,o=r.weekStartsOn??((p=(v=r.locale)==null?void 0:v.options)==null?void 0:p.weekStartsOn)??0,a=Ki(t,n==null?void 0:n.in);if(!xU(a))throw new RangeError("Invalid time value");let l=e.match(_V).map(S=>{const I=S[0];if(I==="p"||I==="P"){const P=hV[I];return P(S,i.formatLong)}return S}).join("").match(wV).map(S=>{if(S==="''")return{isToken:!1,value:"'"};const I=S[0];if(I==="'")return{isToken:!1,value:AV(S)};if(k4[I])return{isToken:!0,value:S};if(I.match(SV))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");return{isToken:!1,value:S}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(S=>{if(!S.isToken)return S.value;const I=S.value;(mV(I)||gV(I))&&vV(I,e,String(t));const P=k4[I[0]];return P(a,I,i.localize,u)}).join("")}function AV(t){const e=t.match(bV);return e?e[1].replace(EV,"'"):t}function ju(t,e){const n=()=>ia(e==null?void 0:e.in,NaN),i=kV(t);let s;if(i.date){const u=NV(i.date,2);s=PV(u.restDateString,u.year)}if(!s||isNaN(+s))return n();const o=+s;let a=0,l;if(i.time&&(a=CV(i.time),isNaN(a)))return n();if(i.timezone){if(l=LV(i.timezone),isNaN(l))return n()}else{const u=new Date(o+a),f=Ki(0,e==null?void 0:e.in);return f.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),f.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),f}return Ki(o+a+l,e==null?void 0:e.in)}const rp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},xV=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,IV=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,TV=/^([+-])(\d{2})(?::?(\d{2}))?$/;function kV(t){const e={},n=t.split(rp.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],rp.timeZoneDelimiter.test(e.date)&&(e.date=t.split(rp.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=rp.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function NV(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function PV(t,e){if(e===null)return new Date(NaN);const n=t.match(xV);if(!n)return new Date(NaN);const r=!!n[4],i=Ih(n[1]),s=Ih(n[2])-1,o=Ih(n[3]),a=Ih(n[4]),l=Ih(n[5])-1;if(r)return FV(e,a,l)?RV(e,a,l):new Date(NaN);{const u=new Date(0);return!DV(e,s,o)||!MV(e,i)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(i,o)),u)}}function Ih(t){return t?parseInt(t):1}function CV(t){const e=t.match(IV);if(!e)return NaN;const n=Q0(e[1]),r=Q0(e[2]),i=Q0(e[3]);return jV(n,r,i)?n*YI+r*KI+i*1e3:NaN}function Q0(t){return t&&parseFloat(t.replace(",","."))||0}function LV(t){if(t==="Z")return 0;const e=t.match(TV);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return UV(r,i)?n*(r*YI+i*KI):NaN}function RV(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const OV=[31,null,31,30,31,30,31,31,30,31,30,31];function ZI(t){return t%400===0||t%4===0&&t%100!==0}function DV(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(OV[e]||(ZI(t)?29:28))}function MV(t,e){return e>=1&&e<=(ZI(t)?366:365)}function FV(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function jV(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function UV(t,e){return e>=0&&e<=59}const VV=()=>{const{user:t}=Bc(),[e,n]=Pe.useState([]),[r,i]=Pe.useState([]),[s,o]=Pe.useState([]),[a,l]=Pe.useState("all"),[u,f]=Pe.useState(!0);Pe.useEffect(()=>{(async()=>{if(t){f(!0);try{if(t.role===Qr.ADMIN){const[p,S]=await Promise.all([Wi.getAllRecords(),Wi.getAllUsers()]);n(p),i(p),o(S.filter(I=>I.role===Qr.EMPLOYEE))}else{const p=await Wi.getRecordsByUser(t.id);n(p),i(p),o([t]),l(t.id)}}catch(p){console.error("Error loading reports:",p)}finally{f(!1)}}})()},[t]),Pe.useEffect(()=>{i(a==="all"?e:e.filter(v=>v.userId===a))},[a,e]);const g=()=>{const v=new nt("p","mm","a4"),p=s.find(I=>I.id===a)||t;v.setFontSize(18),v.setTextColor(2,132,199),v.text("DOWNEY CLEANING - SERVICE LOG REPORT",14,15),v.setFontSize(10),v.setTextColor(100),v.text(`Staff: ${a==="all"?"All Staff":p==null?void 0:p.name}`,14,22),v.text(`Date: ${La(new Date,"dd/MM/yyyy HH:mm")}`,14,27);const S=[...r].sort((I,P)=>new Date(P.startTime).getTime()-new Date(I.startTime).getTime()).map(I=>[La(ju(I.date),"dd/MM/yyyy"),I.locationName,La(ju(I.startTime),"HH:mm"),I.endTime?La(ju(I.endTime),"HH:mm"):"Active",I.endTime?"Completed":"Ongoing"]);yU(v,{head:[["Date","Location","Check-In","Check-Out","Status"]],body:S,startY:35,headStyles:{fillColor:[12,74,110]},styles:{fontSize:9}}),v.save(`Service_Log_${La(new Date,"yyyyMMdd")}.pdf`)};return u?ne.jsxs("div",{className:"flex flex-col items-center justify-center p-20 space-y-4",children:[ne.jsx(ky,{className:"animate-spin text-brand-600",size:48}),ne.jsx("p",{className:"text-gray-500 font-medium",children:"Loading reports..."})]}):ne.jsxs("div",{className:"space-y-6",children:[ne.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[ne.jsxs("div",{children:[ne.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[ne.jsx(NM,{className:"text-brand-600"})," Operational Reports"]}),ne.jsx("p",{className:"text-gray-500 text-sm",children:"Attendance and service duration tracking"})]}),ne.jsxs("div",{className:"flex flex-wrap gap-2 w-full md:w-auto",children:[(t==null?void 0:t.role)===Qr.ADMIN&&ne.jsxs("select",{className:"border border-gray-300 rounded-lg px-3 py-2 bg-white text-sm outline-none focus:ring-2 focus:ring-brand-500 flex-1 md:flex-none",value:a,onChange:v=>l(v.target.value),children:[ne.jsx("option",{value:"all",children:"Entire Team"}),s.map(v=>ne.jsx("option",{value:v.id,children:v.name},v.id))]}),ne.jsxs(Pf,{variant:"primary",onClick:g,size:"sm",className:"flex-1 md:flex-none",children:[ne.jsx(PM,{size:18,className:"mr-2"})," Export PDF"]})]})]}),ne.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:ne.jsx("div",{className:"overflow-x-auto",children:ne.jsxs("table",{className:"w-full text-left text-sm",children:[ne.jsx("thead",{className:"bg-gray-50 text-gray-500 font-bold uppercase tracking-wider text-[10px] border-b",children:ne.jsxs("tr",{children:[ne.jsx("th",{className:"p-4",children:"Date"}),ne.jsx("th",{className:"p-4",children:"Location"}),ne.jsx("th",{className:"p-4",children:"Time Period"}),ne.jsx("th",{className:"p-4 text-center",children:"Status"})]})}),ne.jsxs("tbody",{className:"divide-y divide-gray-100",children:[[...r].sort((v,p)=>new Date(p.startTime).getTime()-new Date(v.startTime).getTime()).map(v=>ne.jsxs("tr",{className:"hover:bg-brand-50/20 transition-colors",children:[ne.jsx("td",{className:"p-4 font-mono text-gray-600",children:La(ju(v.date),"dd/MM/yyyy")}),ne.jsx("td",{className:"p-4",children:ne.jsx("div",{className:"font-bold text-gray-900",children:v.locationName})}),ne.jsx("td",{className:"p-4 text-gray-500",children:ne.jsxs("div",{className:"flex items-center gap-2",children:[ne.jsx("span",{className:"bg-blue-50 text-blue-700 px-2 py-0.5 rounded text-[10px] font-bold",children:La(ju(v.startTime),"HH:mm")}),ne.jsx("span",{className:"text-gray-300",children:""}),ne.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold ${v.endTime?"bg-gray-100 text-gray-700":"bg-orange-50 text-orange-700 animate-pulse"}`,children:v.endTime?La(ju(v.endTime),"HH:mm"):"Working"})]})}),ne.jsx("td",{className:"p-4 text-center",children:ne.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-black uppercase border ${v.endTime?"bg-green-50 text-green-700 border-green-200":"bg-brand-50 text-brand-700 border-brand-200"}`,children:v.endTime?"Completed":"On Site"})})]},v.id)),r.length===0&&ne.jsx("tr",{children:ne.jsx("td",{colSpan:4,className:"p-10 text-center text-gray-400 font-medium",children:"No service records found for the selected view."})})]})]})})})]})},BV=()=>{const{user:t,logout:e}=Bc();return t?ne.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:ne.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100",children:[ne.jsx("div",{className:"bg-brand-900 h-32 relative",children:ne.jsx("div",{className:"absolute -bottom-16 left-8",children:ne.jsx("div",{className:"w-32 h-32 bg-white rounded-full p-2 shadow-lg",children:ne.jsx("div",{className:"w-full h-full bg-brand-50 rounded-full flex items-center justify-center text-brand-300",children:ne.jsx(Ny,{size:64})})})})}),ne.jsxs("div",{className:"pt-20 pb-10 px-10",children:[ne.jsxs("div",{className:"mb-10",children:[ne.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:t.name}),ne.jsx("div",{className:"flex items-center gap-2 mt-2",children:ne.jsx("span",{className:"bg-brand-100 text-brand-700 px-3 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-widest",children:t.role===Qr.ADMIN?"Administrator":"Professional Staff"})})]}),ne.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[ne.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl border border-gray-100",children:[ne.jsxs("div",{className:"flex items-center space-x-3 text-gray-400 mb-2",children:[ne.jsx(Ux,{size:16}),ne.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:"Corporate Email"})]}),ne.jsx("p",{className:"font-bold text-gray-800 text-sm",children:t.email})]}),ne.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl border border-gray-100",children:[ne.jsxs("div",{className:"flex items-center space-x-3 text-gray-400 mb-2",children:[ne.jsx(Vx,{size:16}),ne.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:"Phone Contact"})]}),ne.jsx("p",{className:"font-bold text-gray-800 text-sm",children:t.phone||"Not provided"})]}),ne.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl border border-gray-100",children:[ne.jsxs("div",{className:"flex items-center space-x-3 text-gray-400 mb-2",children:[ne.jsx(jx,{size:16}),ne.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:"PPS Registration"})]}),ne.jsx("p",{className:"font-bold text-gray-800 text-sm",children:t.pps||"Verified"})]}),ne.jsxs("div",{className:"p-4 bg-brand-50 rounded-xl border border-brand-100",children:[ne.jsxs("div",{className:"flex items-center space-x-3 text-brand-600 mb-2",children:[ne.jsx(FM,{size:16}),ne.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:"Security Status"})]}),ne.jsx("p",{className:"font-black text-brand-900 uppercase text-xs",children:"Active License"})]})]}),ne.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-100 flex flex-col md:flex-row justify-between items-center gap-4",children:[ne.jsxs("span",{className:"text-[10px] text-gray-300 font-mono uppercase tracking-tighter",children:["System UID: ",t.id]}),ne.jsx(Pf,{variant:"danger",size:"sm",onClick:e,className:"px-10",children:"Sign Out Securely"})]})]})]})}):null},ip=({children:t,allowedRoles:e})=>{const{isAuthenticated:n,user:r,isLoading:i}=Bc(),s=Bf();return i?ne.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:ne.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-600"})}):n?e&&r&&!e.includes(r.role)?ne.jsx(H1,{to:"/",replace:!0}):ne.jsx(VM,{children:t}):ne.jsx(H1,{to:"/login",state:{from:s},replace:!0})},zV=()=>Us?ne.jsx(AM,{children:ne.jsx(lP,{children:ne.jsxs(sP,{children:[ne.jsx(Dl,{path:"/login",element:ne.jsx(BM,{})}),ne.jsx(Dl,{path:"/",element:ne.jsx(ip,{children:ne.jsx(zM,{})})}),ne.jsx(Dl,{path:"/check-in",element:ne.jsx(ip,{allowedRoles:[Qr.EMPLOYEE],children:ne.jsx(WM,{})})}),ne.jsx(Dl,{path:"/reports",element:ne.jsx(ip,{children:ne.jsx(VV,{})})}),ne.jsx(Dl,{path:"/profile",element:ne.jsx(ip,{children:ne.jsx(BV,{})})}),ne.jsx(Dl,{path:"*",element:ne.jsx(H1,{to:"/",replace:!0})})]})})}):ne.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-8 bg-gray-50 text-center",children:ne.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-lg w-full border border-red-100",children:[ne.jsx("div",{className:"mx-auto bg-red-100 w-16 h-16 rounded-full flex items-center justify-center mb-4",children:ne.jsx(DM,{className:"text-red-600 w-8 h-8"})}),ne.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Configurao Pendente"}),ne.jsx("p",{className:"text-gray-600 mb-6",children:"Erro na inicializao do Firebase."})]})}),eT=document.getElementById("root");if(!eT)throw new Error("Could not find root element to mount to");const qV=X0.createRoot(eT);qV.render(ne.jsx(z4.StrictMode,{children:ne.jsx(zV,{})}));export{sn as _,HV as c,BT as g};
