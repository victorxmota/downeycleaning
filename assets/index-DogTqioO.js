var vz=Object.defineProperty;var yz=(t,e,n)=>e in t?vz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Sn=(t,e,n)=>yz(t,typeof e!="symbol"?e+"":e,n);function wz(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var ty=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var HD={exports:{}},Fw={},GD={exports:{}},Wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov=Symbol.for("react.element"),_z=Symbol.for("react.portal"),bz=Symbol.for("react.fragment"),xz=Symbol.for("react.strict_mode"),Sz=Symbol.for("react.profiler"),Ez=Symbol.for("react.provider"),Az=Symbol.for("react.context"),Tz=Symbol.for("react.forward_ref"),Iz=Symbol.for("react.suspense"),Pz=Symbol.for("react.memo"),Cz=Symbol.for("react.lazy"),nC=Symbol.iterator;function Nz(t){return t===null||typeof t!="object"?null:(t=nC&&t[nC]||t["@@iterator"],typeof t=="function"?t:null)}var WD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},KD=Object.assign,YD={};function Yh(t,e,n){this.props=t,this.context=e,this.refs=YD,this.updater=n||WD}Yh.prototype.isReactComponent={};Yh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Yh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function JD(){}JD.prototype=Yh.prototype;function nA(t,e,n){this.props=t,this.context=e,this.refs=YD,this.updater=n||WD}var rA=nA.prototype=new JD;rA.constructor=nA;KD(rA,Yh.prototype);rA.isPureReactComponent=!0;var rC=Array.isArray,XD=Object.prototype.hasOwnProperty,iA={current:null},QD={key:!0,ref:!0,__self:!0,__source:!0};function ZD(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)XD.call(e,r)&&!QD.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ov,type:t,key:o,ref:s,props:i,_owner:iA.current}}function kz(t,e){return{$$typeof:ov,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function oA(t){return typeof t=="object"&&t!==null&&t.$$typeof===ov}function Rz(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var iC=/\/+/g;function j2(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Rz(""+t.key):e.toString(36)}function o0(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case ov:case _z:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+j2(s,0):r,rC(i)?(n="",t!=null&&(n=t.replace(iC,"$&/")+"/"),o0(i,e,n,"",function(u){return u})):i!=null&&(oA(i)&&(i=kz(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(iC,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",rC(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+j2(o,a);s+=o0(o,e,n,l,i)}else if(l=Nz(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+j2(o,a++),s+=o0(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ny(t,e,n){if(t==null)return t;var r=[],i=0;return o0(t,r,"","",function(o){return e.call(n,o,i++)}),r}function Oz(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var uo={current:null},s0={transition:null},Mz={ReactCurrentDispatcher:uo,ReactCurrentBatchConfig:s0,ReactCurrentOwner:iA};function e6(){throw Error("act(...) is not supported in production builds of React.")}Wt.Children={map:ny,forEach:function(t,e,n){ny(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ny(t,function(){e++}),e},toArray:function(t){return ny(t,function(e){return e})||[]},only:function(t){if(!oA(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Wt.Component=Yh;Wt.Fragment=bz;Wt.Profiler=Sz;Wt.PureComponent=nA;Wt.StrictMode=xz;Wt.Suspense=Iz;Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mz;Wt.act=e6;Wt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=KD({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=iA.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)XD.call(e,l)&&!QD.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ov,type:t.type,key:i,ref:o,props:r,_owner:s}};Wt.createContext=function(t){return t={$$typeof:Az,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ez,_context:t},t.Consumer=t};Wt.createElement=ZD;Wt.createFactory=function(t){var e=ZD.bind(null,t);return e.type=t,e};Wt.createRef=function(){return{current:null}};Wt.forwardRef=function(t){return{$$typeof:Tz,render:t}};Wt.isValidElement=oA;Wt.lazy=function(t){return{$$typeof:Cz,_payload:{_status:-1,_result:t},_init:Oz}};Wt.memo=function(t,e){return{$$typeof:Pz,type:t,compare:e===void 0?null:e}};Wt.startTransition=function(t){var e=s0.transition;s0.transition={};try{t()}finally{s0.transition=e}};Wt.unstable_act=e6;Wt.useCallback=function(t,e){return uo.current.useCallback(t,e)};Wt.useContext=function(t){return uo.current.useContext(t)};Wt.useDebugValue=function(){};Wt.useDeferredValue=function(t){return uo.current.useDeferredValue(t)};Wt.useEffect=function(t,e){return uo.current.useEffect(t,e)};Wt.useId=function(){return uo.current.useId()};Wt.useImperativeHandle=function(t,e,n){return uo.current.useImperativeHandle(t,e,n)};Wt.useInsertionEffect=function(t,e){return uo.current.useInsertionEffect(t,e)};Wt.useLayoutEffect=function(t,e){return uo.current.useLayoutEffect(t,e)};Wt.useMemo=function(t,e){return uo.current.useMemo(t,e)};Wt.useReducer=function(t,e,n){return uo.current.useReducer(t,e,n)};Wt.useRef=function(t){return uo.current.useRef(t)};Wt.useState=function(t){return uo.current.useState(t)};Wt.useSyncExternalStore=function(t,e,n){return uo.current.useSyncExternalStore(t,e,n)};Wt.useTransition=function(){return uo.current.useTransition()};Wt.version="18.3.1";GD.exports=Wt;var fe=GD.exports;const Se=Fn(fe),Lz=wz({__proto__:null,default:Se},[fe]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dz=fe,Fz=Symbol.for("react.element"),Uz=Symbol.for("react.fragment"),$z=Object.prototype.hasOwnProperty,jz=Dz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bz={key:!0,ref:!0,__self:!0,__source:!0};function t6(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)$z.call(e,r)&&!Bz.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Fz,type:t,key:o,ref:s,props:i,_owner:jz.current}}Fw.Fragment=Uz;Fw.jsx=t6;Fw.jsxs=t6;HD.exports=Fw;var A=HD.exports,Lx={},n6={exports:{}},Xo={},r6={exports:{}},i6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Q,ae){var ye=Q.length;Q.push(ae);e:for(;0<ye;){var ge=ye-1>>>1,B=Q[ge];if(0<i(B,ae))Q[ge]=ae,Q[ye]=B,ye=ge;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var ae=Q[0],ye=Q.pop();if(ye!==ae){Q[0]=ye;e:for(var ge=0,B=Q.length,G=B>>>1;ge<G;){var te=2*(ge+1)-1,ce=Q[te],pe=te+1,_e=Q[pe];if(0>i(ce,ye))pe<B&&0>i(_e,ce)?(Q[ge]=_e,Q[pe]=ye,ge=pe):(Q[ge]=ce,Q[te]=ye,ge=te);else if(pe<B&&0>i(_e,ye))Q[ge]=_e,Q[pe]=ye,ge=pe;else break e}}return ae}function i(Q,ae){var ye=Q.sortIndex-ae.sortIndex;return ye!==0?ye:Q.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,d=3,h=!1,y=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(Q){for(var ae=n(u);ae!==null;){if(ae.callback===null)r(u);else if(ae.startTime<=Q)r(u),ae.sortIndex=ae.expirationTime,e(l,ae);else break;ae=n(u)}}function k(Q){if(b=!1,E(Q),!y)if(n(l)!==null)y=!0,le(R);else{var ae=n(u);ae!==null&&ue(k,ae.startTime-Q)}}function R(Q,ae){y=!1,b&&(b=!1,_(C),C=-1),h=!0;var ye=d;try{for(E(ae),f=n(l);f!==null&&(!(f.expirationTime>ae)||Q&&!P());){var ge=f.callback;if(typeof ge=="function"){f.callback=null,d=f.priorityLevel;var B=ge(f.expirationTime<=ae);ae=t.unstable_now(),typeof B=="function"?f.callback=B:f===n(l)&&r(l),E(ae)}else r(l);f=n(l)}if(f!==null)var G=!0;else{var te=n(u);te!==null&&ue(k,te.startTime-ae),G=!1}return G}finally{f=null,d=ye,h=!1}}var F=!1,N=null,C=-1,T=5,$=-1;function P(){return!(t.unstable_now()-$<T)}function D(){if(N!==null){var Q=t.unstable_now();$=Q;var ae=!0;try{ae=N(!0,Q)}finally{ae?U():(F=!1,N=null)}}else F=!1}var U;if(typeof S=="function")U=function(){S(D)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,re=W.port2;W.port1.onmessage=D,U=function(){re.postMessage(null)}}else U=function(){w(D,0)};function le(Q){N=Q,F||(F=!0,U())}function ue(Q,ae){C=w(function(){Q(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){y||h||(y=!0,le(R))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Q){switch(d){case 1:case 2:case 3:var ae=3;break;default:ae=d}var ye=d;d=ae;try{return Q()}finally{d=ye}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,ae){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ye=d;d=Q;try{return ae()}finally{d=ye}},t.unstable_scheduleCallback=function(Q,ae,ye){var ge=t.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?ge+ye:ge):ye=ge,Q){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ye+B,Q={id:c++,callback:ae,priorityLevel:Q,startTime:ye,expirationTime:B,sortIndex:-1},ye>ge?(Q.sortIndex=ye,e(u,Q),n(l)===null&&Q===n(u)&&(b?(_(C),C=-1):b=!0,ue(k,ye-ge))):(Q.sortIndex=B,e(l,Q),y||h||(y=!0,le(R))),Q},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(Q){var ae=d;return function(){var ye=d;d=ae;try{return Q.apply(this,arguments)}finally{d=ye}}}})(i6);r6.exports=i6;var Vz=r6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qz=fe,Jo=Vz;function qe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o6=new Set,Ym={};function Lf(t,e){hh(t,e),hh(t+"Capture",e)}function hh(t,e){for(Ym[t]=e,t=0;t<e.length;t++)o6.add(e[t])}var Ul=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dx=Object.prototype.hasOwnProperty,zz=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oC={},sC={};function Hz(t){return Dx.call(sC,t)?!0:Dx.call(oC,t)?!1:zz.test(t)?sC[t]=!0:(oC[t]=!0,!1)}function Gz(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Wz(t,e,n,r){if(e===null||typeof e>"u"||Gz(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function co(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Ti={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ti[t]=new co(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ti[e]=new co(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ti[t]=new co(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ti[t]=new co(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ti[t]=new co(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ti[t]=new co(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ti[t]=new co(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ti[t]=new co(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ti[t]=new co(t,5,!1,t.toLowerCase(),null,!1,!1)});var sA=/[\-:]([a-z])/g;function aA(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(sA,aA);Ti[e]=new co(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(sA,aA);Ti[e]=new co(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(sA,aA);Ti[e]=new co(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ti[t]=new co(t,1,!1,t.toLowerCase(),null,!1,!1)});Ti.xlinkHref=new co("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ti[t]=new co(t,1,!1,t.toLowerCase(),null,!0,!0)});function lA(t,e,n,r){var i=Ti.hasOwnProperty(e)?Ti[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Wz(e,n,i,r)&&(n=null),r||i===null?Hz(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Xl=qz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ry=Symbol.for("react.element"),Td=Symbol.for("react.portal"),Id=Symbol.for("react.fragment"),uA=Symbol.for("react.strict_mode"),Fx=Symbol.for("react.profiler"),s6=Symbol.for("react.provider"),a6=Symbol.for("react.context"),cA=Symbol.for("react.forward_ref"),Ux=Symbol.for("react.suspense"),$x=Symbol.for("react.suspense_list"),fA=Symbol.for("react.memo"),Nu=Symbol.for("react.lazy"),l6=Symbol.for("react.offscreen"),aC=Symbol.iterator;function Bp(t){return t===null||typeof t!="object"?null:(t=aC&&t[aC]||t["@@iterator"],typeof t=="function"?t:null)}var dr=Object.assign,B2;function mm(t){if(B2===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);B2=e&&e[1]||""}return`
`+B2+t}var V2=!1;function q2(t,e){if(!t||V2)return"";V2=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{V2=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?mm(t):""}function Kz(t){switch(t.tag){case 5:return mm(t.type);case 16:return mm("Lazy");case 13:return mm("Suspense");case 19:return mm("SuspenseList");case 0:case 2:case 15:return t=q2(t.type,!1),t;case 11:return t=q2(t.type.render,!1),t;case 1:return t=q2(t.type,!0),t;default:return""}}function jx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Id:return"Fragment";case Td:return"Portal";case Fx:return"Profiler";case uA:return"StrictMode";case Ux:return"Suspense";case $x:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case a6:return(t.displayName||"Context")+".Consumer";case s6:return(t._context.displayName||"Context")+".Provider";case cA:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fA:return e=t.displayName||null,e!==null?e:jx(t.type)||"Memo";case Nu:e=t._payload,t=t._init;try{return jx(t(e))}catch{}}return null}function Yz(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jx(e);case 8:return e===uA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function oc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function u6(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Jz(t){var e=u6(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function iy(t){t._valueTracker||(t._valueTracker=Jz(t))}function c6(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=u6(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function M0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Bx(t,e){var n=e.checked;return dr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function lC(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=oc(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function f6(t,e){e=e.checked,e!=null&&lA(t,"checked",e,!1)}function Vx(t,e){f6(t,e);var n=oc(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?qx(t,e.type,n):e.hasOwnProperty("defaultValue")&&qx(t,e.type,oc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function uC(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function qx(t,e,n){(e!=="number"||M0(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var gm=Array.isArray;function Hd(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+oc(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function zx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(qe(91));return dr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function cC(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(qe(92));if(gm(n)){if(1<n.length)throw Error(qe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:oc(n)}}function d6(t,e){var n=oc(e.value),r=oc(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function fC(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function h6(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?h6(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var oy,p6=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(oy=oy||document.createElement("div"),oy.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=oy.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Jm(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Im={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xz=["Webkit","ms","Moz","O"];Object.keys(Im).forEach(function(t){Xz.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Im[e]=Im[t]})});function m6(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Im.hasOwnProperty(t)&&Im[t]?(""+e).trim():e+"px"}function g6(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=m6(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Qz=dr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gx(t,e){if(e){if(Qz[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(qe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(qe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(qe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(qe(62))}}function Wx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kx=null;function dA(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yx=null,Gd=null,Wd=null;function dC(t){if(t=lv(t)){if(typeof Yx!="function")throw Error(qe(280));var e=t.stateNode;e&&(e=Vw(e),Yx(t.stateNode,t.type,e))}}function v6(t){Gd?Wd?Wd.push(t):Wd=[t]:Gd=t}function y6(){if(Gd){var t=Gd,e=Wd;if(Wd=Gd=null,dC(t),e)for(t=0;t<e.length;t++)dC(e[t])}}function w6(t,e){return t(e)}function _6(){}var z2=!1;function b6(t,e,n){if(z2)return t(e,n);z2=!0;try{return w6(t,e,n)}finally{z2=!1,(Gd!==null||Wd!==null)&&(_6(),y6())}}function Xm(t,e){var n=t.stateNode;if(n===null)return null;var r=Vw(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(qe(231,e,typeof n));return n}var Jx=!1;if(Ul)try{var Vp={};Object.defineProperty(Vp,"passive",{get:function(){Jx=!0}}),window.addEventListener("test",Vp,Vp),window.removeEventListener("test",Vp,Vp)}catch{Jx=!1}function Zz(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Pm=!1,L0=null,D0=!1,Xx=null,eH={onError:function(t){Pm=!0,L0=t}};function tH(t,e,n,r,i,o,s,a,l){Pm=!1,L0=null,Zz.apply(eH,arguments)}function nH(t,e,n,r,i,o,s,a,l){if(tH.apply(this,arguments),Pm){if(Pm){var u=L0;Pm=!1,L0=null}else throw Error(qe(198));D0||(D0=!0,Xx=u)}}function Df(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function x6(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hC(t){if(Df(t)!==t)throw Error(qe(188))}function rH(t){var e=t.alternate;if(!e){if(e=Df(t),e===null)throw Error(qe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return hC(i),t;if(o===r)return hC(i),e;o=o.sibling}throw Error(qe(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(qe(189))}}if(n.alternate!==r)throw Error(qe(190))}if(n.tag!==3)throw Error(qe(188));return n.stateNode.current===n?t:e}function S6(t){return t=rH(t),t!==null?E6(t):null}function E6(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=E6(t);if(e!==null)return e;t=t.sibling}return null}var A6=Jo.unstable_scheduleCallback,pC=Jo.unstable_cancelCallback,iH=Jo.unstable_shouldYield,oH=Jo.unstable_requestPaint,kr=Jo.unstable_now,sH=Jo.unstable_getCurrentPriorityLevel,hA=Jo.unstable_ImmediatePriority,T6=Jo.unstable_UserBlockingPriority,F0=Jo.unstable_NormalPriority,aH=Jo.unstable_LowPriority,I6=Jo.unstable_IdlePriority,Uw=null,Da=null;function lH(t){if(Da&&typeof Da.onCommitFiberRoot=="function")try{Da.onCommitFiberRoot(Uw,t,void 0,(t.current.flags&128)===128)}catch{}}var Xs=Math.clz32?Math.clz32:fH,uH=Math.log,cH=Math.LN2;function fH(t){return t>>>=0,t===0?32:31-(uH(t)/cH|0)|0}var sy=64,ay=4194304;function vm(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function U0(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=vm(a):(o&=s,o!==0&&(r=vm(o)))}else s=n&~i,s!==0?r=vm(s):o!==0&&(r=vm(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Xs(e),i=1<<n,r|=t[n],e&=~i;return r}function dH(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hH(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Xs(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=dH(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Qx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function P6(){var t=sy;return sy<<=1,!(sy&4194240)&&(sy=64),t}function H2(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function sv(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xs(e),t[e]=n}function pH(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Xs(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function pA(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xs(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Tn=0;function C6(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var N6,mA,k6,R6,O6,Zx=!1,ly=[],Wu=null,Ku=null,Yu=null,Qm=new Map,Zm=new Map,Ou=[],mH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mC(t,e){switch(t){case"focusin":case"focusout":Wu=null;break;case"dragenter":case"dragleave":Ku=null;break;case"mouseover":case"mouseout":Yu=null;break;case"pointerover":case"pointerout":Qm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zm.delete(e.pointerId)}}function qp(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=lv(e),e!==null&&mA(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function gH(t,e,n,r,i){switch(e){case"focusin":return Wu=qp(Wu,t,e,n,r,i),!0;case"dragenter":return Ku=qp(Ku,t,e,n,r,i),!0;case"mouseover":return Yu=qp(Yu,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Qm.set(o,qp(Qm.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Zm.set(o,qp(Zm.get(o)||null,t,e,n,r,i)),!0}return!1}function M6(t){var e=Xc(t.target);if(e!==null){var n=Df(e);if(n!==null){if(e=n.tag,e===13){if(e=x6(n),e!==null){t.blockedOn=e,O6(t.priority,function(){k6(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function a0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=eS(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Kx=r,n.target.dispatchEvent(r),Kx=null}else return e=lv(n),e!==null&&mA(e),t.blockedOn=n,!1;e.shift()}return!0}function gC(t,e,n){a0(t)&&n.delete(e)}function vH(){Zx=!1,Wu!==null&&a0(Wu)&&(Wu=null),Ku!==null&&a0(Ku)&&(Ku=null),Yu!==null&&a0(Yu)&&(Yu=null),Qm.forEach(gC),Zm.forEach(gC)}function zp(t,e){t.blockedOn===e&&(t.blockedOn=null,Zx||(Zx=!0,Jo.unstable_scheduleCallback(Jo.unstable_NormalPriority,vH)))}function eg(t){function e(i){return zp(i,t)}if(0<ly.length){zp(ly[0],t);for(var n=1;n<ly.length;n++){var r=ly[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Wu!==null&&zp(Wu,t),Ku!==null&&zp(Ku,t),Yu!==null&&zp(Yu,t),Qm.forEach(e),Zm.forEach(e),n=0;n<Ou.length;n++)r=Ou[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ou.length&&(n=Ou[0],n.blockedOn===null);)M6(n),n.blockedOn===null&&Ou.shift()}var Kd=Xl.ReactCurrentBatchConfig,$0=!0;function yH(t,e,n,r){var i=Tn,o=Kd.transition;Kd.transition=null;try{Tn=1,gA(t,e,n,r)}finally{Tn=i,Kd.transition=o}}function wH(t,e,n,r){var i=Tn,o=Kd.transition;Kd.transition=null;try{Tn=4,gA(t,e,n,r)}finally{Tn=i,Kd.transition=o}}function gA(t,e,n,r){if($0){var i=eS(t,e,n,r);if(i===null)tb(t,e,r,j0,n),mC(t,r);else if(gH(i,t,e,n,r))r.stopPropagation();else if(mC(t,r),e&4&&-1<mH.indexOf(t)){for(;i!==null;){var o=lv(i);if(o!==null&&N6(o),o=eS(t,e,n,r),o===null&&tb(t,e,r,j0,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else tb(t,e,r,null,n)}}var j0=null;function eS(t,e,n,r){if(j0=null,t=dA(r),t=Xc(t),t!==null)if(e=Df(t),e===null)t=null;else if(n=e.tag,n===13){if(t=x6(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return j0=t,null}function L6(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sH()){case hA:return 1;case T6:return 4;case F0:case aH:return 16;case I6:return 536870912;default:return 16}default:return 16}}var ju=null,vA=null,l0=null;function D6(){if(l0)return l0;var t,e=vA,n=e.length,r,i="value"in ju?ju.value:ju.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return l0=i.slice(t,1<r?1-r:void 0)}function u0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function uy(){return!0}function vC(){return!1}function Qo(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?uy:vC,this.isPropagationStopped=vC,this}return dr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=uy)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=uy)},persist:function(){},isPersistent:uy}),e}var Jh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yA=Qo(Jh),av=dr({},Jh,{view:0,detail:0}),_H=Qo(av),G2,W2,Hp,$w=dr({},av,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wA,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hp&&(Hp&&t.type==="mousemove"?(G2=t.screenX-Hp.screenX,W2=t.screenY-Hp.screenY):W2=G2=0,Hp=t),G2)},movementY:function(t){return"movementY"in t?t.movementY:W2}}),yC=Qo($w),bH=dr({},$w,{dataTransfer:0}),xH=Qo(bH),SH=dr({},av,{relatedTarget:0}),K2=Qo(SH),EH=dr({},Jh,{animationName:0,elapsedTime:0,pseudoElement:0}),AH=Qo(EH),TH=dr({},Jh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),IH=Qo(TH),PH=dr({},Jh,{data:0}),wC=Qo(PH),CH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RH(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=kH[t])?!!e[t]:!1}function wA(){return RH}var OH=dr({},av,{key:function(t){if(t.key){var e=CH[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=u0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?NH[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wA,charCode:function(t){return t.type==="keypress"?u0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?u0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),MH=Qo(OH),LH=dr({},$w,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_C=Qo(LH),DH=dr({},av,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wA}),FH=Qo(DH),UH=dr({},Jh,{propertyName:0,elapsedTime:0,pseudoElement:0}),$H=Qo(UH),jH=dr({},$w,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),BH=Qo(jH),VH=[9,13,27,32],_A=Ul&&"CompositionEvent"in window,Cm=null;Ul&&"documentMode"in document&&(Cm=document.documentMode);var qH=Ul&&"TextEvent"in window&&!Cm,F6=Ul&&(!_A||Cm&&8<Cm&&11>=Cm),bC=" ",xC=!1;function U6(t,e){switch(t){case"keyup":return VH.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $6(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pd=!1;function zH(t,e){switch(t){case"compositionend":return $6(e);case"keypress":return e.which!==32?null:(xC=!0,bC);case"textInput":return t=e.data,t===bC&&xC?null:t;default:return null}}function HH(t,e){if(Pd)return t==="compositionend"||!_A&&U6(t,e)?(t=D6(),l0=vA=ju=null,Pd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return F6&&e.locale!=="ko"?null:e.data;default:return null}}var GH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function SC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!GH[t.type]:e==="textarea"}function j6(t,e,n,r){v6(r),e=B0(e,"onChange"),0<e.length&&(n=new yA("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Nm=null,tg=null;function WH(t){X6(t,0)}function jw(t){var e=kd(t);if(c6(e))return t}function KH(t,e){if(t==="change")return e}var B6=!1;if(Ul){var Y2;if(Ul){var J2="oninput"in document;if(!J2){var EC=document.createElement("div");EC.setAttribute("oninput","return;"),J2=typeof EC.oninput=="function"}Y2=J2}else Y2=!1;B6=Y2&&(!document.documentMode||9<document.documentMode)}function AC(){Nm&&(Nm.detachEvent("onpropertychange",V6),tg=Nm=null)}function V6(t){if(t.propertyName==="value"&&jw(tg)){var e=[];j6(e,tg,t,dA(t)),b6(WH,e)}}function YH(t,e,n){t==="focusin"?(AC(),Nm=e,tg=n,Nm.attachEvent("onpropertychange",V6)):t==="focusout"&&AC()}function JH(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jw(tg)}function XH(t,e){if(t==="click")return jw(e)}function QH(t,e){if(t==="input"||t==="change")return jw(e)}function ZH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var na=typeof Object.is=="function"?Object.is:ZH;function ng(t,e){if(na(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Dx.call(e,i)||!na(t[i],e[i]))return!1}return!0}function TC(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function IC(t,e){var n=TC(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=TC(n)}}function q6(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?q6(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function z6(){for(var t=window,e=M0();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=M0(t.document)}return e}function bA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function eG(t){var e=z6(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&q6(n.ownerDocument.documentElement,n)){if(r!==null&&bA(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=IC(n,o);var s=IC(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tG=Ul&&"documentMode"in document&&11>=document.documentMode,Cd=null,tS=null,km=null,nS=!1;function PC(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nS||Cd==null||Cd!==M0(r)||(r=Cd,"selectionStart"in r&&bA(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),km&&ng(km,r)||(km=r,r=B0(tS,"onSelect"),0<r.length&&(e=new yA("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Cd)))}function cy(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Nd={animationend:cy("Animation","AnimationEnd"),animationiteration:cy("Animation","AnimationIteration"),animationstart:cy("Animation","AnimationStart"),transitionend:cy("Transition","TransitionEnd")},X2={},H6={};Ul&&(H6=document.createElement("div").style,"AnimationEvent"in window||(delete Nd.animationend.animation,delete Nd.animationiteration.animation,delete Nd.animationstart.animation),"TransitionEvent"in window||delete Nd.transitionend.transition);function Bw(t){if(X2[t])return X2[t];if(!Nd[t])return t;var e=Nd[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in H6)return X2[t]=e[n];return t}var G6=Bw("animationend"),W6=Bw("animationiteration"),K6=Bw("animationstart"),Y6=Bw("transitionend"),J6=new Map,CC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hc(t,e){J6.set(t,e),Lf(e,[t])}for(var Q2=0;Q2<CC.length;Q2++){var Z2=CC[Q2],nG=Z2.toLowerCase(),rG=Z2[0].toUpperCase()+Z2.slice(1);hc(nG,"on"+rG)}hc(G6,"onAnimationEnd");hc(W6,"onAnimationIteration");hc(K6,"onAnimationStart");hc("dblclick","onDoubleClick");hc("focusin","onFocus");hc("focusout","onBlur");hc(Y6,"onTransitionEnd");hh("onMouseEnter",["mouseout","mouseover"]);hh("onMouseLeave",["mouseout","mouseover"]);hh("onPointerEnter",["pointerout","pointerover"]);hh("onPointerLeave",["pointerout","pointerover"]);Lf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Lf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Lf("onBeforeInput",["compositionend","keypress","textInput","paste"]);Lf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Lf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Lf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ym="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iG=new Set("cancel close invalid load scroll toggle".split(" ").concat(ym));function NC(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,nH(r,e,void 0,t),t.currentTarget=null}function X6(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;NC(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;NC(i,a,u),o=l}}}if(D0)throw t=Xx,D0=!1,Xx=null,t}function Gn(t,e){var n=e[aS];n===void 0&&(n=e[aS]=new Set);var r=t+"__bubble";n.has(r)||(Q6(e,t,2,!1),n.add(r))}function eb(t,e,n){var r=0;e&&(r|=4),Q6(n,t,r,e)}var fy="_reactListening"+Math.random().toString(36).slice(2);function rg(t){if(!t[fy]){t[fy]=!0,o6.forEach(function(n){n!=="selectionchange"&&(iG.has(n)||eb(n,!1,t),eb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fy]||(e[fy]=!0,eb("selectionchange",!1,e))}}function Q6(t,e,n,r){switch(L6(e)){case 1:var i=yH;break;case 4:i=wH;break;default:i=gA}n=i.bind(null,e,n,t),i=void 0,!Jx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function tb(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Xc(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}b6(function(){var u=o,c=dA(n),f=[];e:{var d=J6.get(t);if(d!==void 0){var h=yA,y=t;switch(t){case"keypress":if(u0(n)===0)break e;case"keydown":case"keyup":h=MH;break;case"focusin":y="focus",h=K2;break;case"focusout":y="blur",h=K2;break;case"beforeblur":case"afterblur":h=K2;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=yC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=xH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=FH;break;case G6:case W6:case K6:h=AH;break;case Y6:h=$H;break;case"scroll":h=_H;break;case"wheel":h=BH;break;case"copy":case"cut":case"paste":h=IH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=_C}var b=(e&4)!==0,w=!b&&t==="scroll",_=b?d!==null?d+"Capture":null:d;b=[];for(var S=u,E;S!==null;){E=S;var k=E.stateNode;if(E.tag===5&&k!==null&&(E=k,_!==null&&(k=Xm(S,_),k!=null&&b.push(ig(S,k,E)))),w)break;S=S.return}0<b.length&&(d=new h(d,y,null,n,c),f.push({event:d,listeners:b}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&n!==Kx&&(y=n.relatedTarget||n.fromElement)&&(Xc(y)||y[$l]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(y=n.relatedTarget||n.toElement,h=u,y=y?Xc(y):null,y!==null&&(w=Df(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(h=null,y=u),h!==y)){if(b=yC,k="onMouseLeave",_="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(b=_C,k="onPointerLeave",_="onPointerEnter",S="pointer"),w=h==null?d:kd(h),E=y==null?d:kd(y),d=new b(k,S+"leave",h,n,c),d.target=w,d.relatedTarget=E,k=null,Xc(c)===u&&(b=new b(_,S+"enter",y,n,c),b.target=E,b.relatedTarget=w,k=b),w=k,h&&y)t:{for(b=h,_=y,S=0,E=b;E;E=ld(E))S++;for(E=0,k=_;k;k=ld(k))E++;for(;0<S-E;)b=ld(b),S--;for(;0<E-S;)_=ld(_),E--;for(;S--;){if(b===_||_!==null&&b===_.alternate)break t;b=ld(b),_=ld(_)}b=null}else b=null;h!==null&&kC(f,d,h,b,!1),y!==null&&w!==null&&kC(f,w,y,b,!0)}}e:{if(d=u?kd(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var R=KH;else if(SC(d))if(B6)R=QH;else{R=JH;var F=YH}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(R=XH);if(R&&(R=R(t,u))){j6(f,R,n,c);break e}F&&F(t,d,u),t==="focusout"&&(F=d._wrapperState)&&F.controlled&&d.type==="number"&&qx(d,"number",d.value)}switch(F=u?kd(u):window,t){case"focusin":(SC(F)||F.contentEditable==="true")&&(Cd=F,tS=u,km=null);break;case"focusout":km=tS=Cd=null;break;case"mousedown":nS=!0;break;case"contextmenu":case"mouseup":case"dragend":nS=!1,PC(f,n,c);break;case"selectionchange":if(tG)break;case"keydown":case"keyup":PC(f,n,c)}var N;if(_A)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Pd?U6(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(F6&&n.locale!=="ko"&&(Pd||C!=="onCompositionStart"?C==="onCompositionEnd"&&Pd&&(N=D6()):(ju=c,vA="value"in ju?ju.value:ju.textContent,Pd=!0)),F=B0(u,C),0<F.length&&(C=new wC(C,t,null,n,c),f.push({event:C,listeners:F}),N?C.data=N:(N=$6(n),N!==null&&(C.data=N)))),(N=qH?zH(t,n):HH(t,n))&&(u=B0(u,"onBeforeInput"),0<u.length&&(c=new wC("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=N))}X6(f,e)})}function ig(t,e,n){return{instance:t,listener:e,currentTarget:n}}function B0(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Xm(t,n),o!=null&&r.unshift(ig(t,o,i)),o=Xm(t,e),o!=null&&r.push(ig(t,o,i))),t=t.return}return r}function ld(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function kC(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Xm(n,o),l!=null&&s.unshift(ig(n,l,a))):i||(l=Xm(n,o),l!=null&&s.push(ig(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var oG=/\r\n?/g,sG=/\u0000|\uFFFD/g;function RC(t){return(typeof t=="string"?t:""+t).replace(oG,`
`).replace(sG,"")}function dy(t,e,n){if(e=RC(e),RC(t)!==e&&n)throw Error(qe(425))}function V0(){}var rS=null,iS=null;function oS(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sS=typeof setTimeout=="function"?setTimeout:void 0,aG=typeof clearTimeout=="function"?clearTimeout:void 0,OC=typeof Promise=="function"?Promise:void 0,lG=typeof queueMicrotask=="function"?queueMicrotask:typeof OC<"u"?function(t){return OC.resolve(null).then(t).catch(uG)}:sS;function uG(t){setTimeout(function(){throw t})}function nb(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),eg(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);eg(e)}function Ju(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function MC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Xh=Math.random().toString(36).slice(2),Ra="__reactFiber$"+Xh,og="__reactProps$"+Xh,$l="__reactContainer$"+Xh,aS="__reactEvents$"+Xh,cG="__reactListeners$"+Xh,fG="__reactHandles$"+Xh;function Xc(t){var e=t[Ra];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$l]||n[Ra]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=MC(t);t!==null;){if(n=t[Ra])return n;t=MC(t)}return e}t=n,n=t.parentNode}return null}function lv(t){return t=t[Ra]||t[$l],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function kd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(qe(33))}function Vw(t){return t[og]||null}var lS=[],Rd=-1;function pc(t){return{current:t}}function Xn(t){0>Rd||(t.current=lS[Rd],lS[Rd]=null,Rd--)}function qn(t,e){Rd++,lS[Rd]=t.current,t.current=e}var sc={},Wi=pc(sc),xo=pc(!1),mf=sc;function ph(t,e){var n=t.type.contextTypes;if(!n)return sc;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function So(t){return t=t.childContextTypes,t!=null}function q0(){Xn(xo),Xn(Wi)}function LC(t,e,n){if(Wi.current!==sc)throw Error(qe(168));qn(Wi,e),qn(xo,n)}function Z6(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(qe(108,Yz(t)||"Unknown",i));return dr({},n,r)}function z0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||sc,mf=Wi.current,qn(Wi,t),qn(xo,xo.current),!0}function DC(t,e,n){var r=t.stateNode;if(!r)throw Error(qe(169));n?(t=Z6(t,e,mf),r.__reactInternalMemoizedMergedChildContext=t,Xn(xo),Xn(Wi),qn(Wi,t)):Xn(xo),qn(xo,n)}var _l=null,qw=!1,rb=!1;function e8(t){_l===null?_l=[t]:_l.push(t)}function dG(t){qw=!0,e8(t)}function mc(){if(!rb&&_l!==null){rb=!0;var t=0,e=Tn;try{var n=_l;for(Tn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}_l=null,qw=!1}catch(i){throw _l!==null&&(_l=_l.slice(t+1)),A6(hA,mc),i}finally{Tn=e,rb=!1}}return null}var Od=[],Md=0,H0=null,G0=0,vs=[],ys=0,gf=null,El=1,Al="";function jc(t,e){Od[Md++]=G0,Od[Md++]=H0,H0=t,G0=e}function t8(t,e,n){vs[ys++]=El,vs[ys++]=Al,vs[ys++]=gf,gf=t;var r=El;t=Al;var i=32-Xs(r)-1;r&=~(1<<i),n+=1;var o=32-Xs(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,El=1<<32-Xs(e)+i|n<<i|r,Al=o+t}else El=1<<o|n<<i|r,Al=t}function xA(t){t.return!==null&&(jc(t,1),t8(t,1,0))}function SA(t){for(;t===H0;)H0=Od[--Md],Od[Md]=null,G0=Od[--Md],Od[Md]=null;for(;t===gf;)gf=vs[--ys],vs[ys]=null,Al=vs[--ys],vs[ys]=null,El=vs[--ys],vs[ys]=null}var Yo=null,Ho=null,nr=!1,Ws=null;function n8(t,e){var n=_s(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function FC(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Yo=t,Ho=Ju(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Yo=t,Ho=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=gf!==null?{id:El,overflow:Al}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=_s(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Yo=t,Ho=null,!0):!1;default:return!1}}function uS(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cS(t){if(nr){var e=Ho;if(e){var n=e;if(!FC(t,e)){if(uS(t))throw Error(qe(418));e=Ju(n.nextSibling);var r=Yo;e&&FC(t,e)?n8(r,n):(t.flags=t.flags&-4097|2,nr=!1,Yo=t)}}else{if(uS(t))throw Error(qe(418));t.flags=t.flags&-4097|2,nr=!1,Yo=t}}}function UC(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Yo=t}function hy(t){if(t!==Yo)return!1;if(!nr)return UC(t),nr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!oS(t.type,t.memoizedProps)),e&&(e=Ho)){if(uS(t))throw r8(),Error(qe(418));for(;e;)n8(t,e),e=Ju(e.nextSibling)}if(UC(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(qe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ho=Ju(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ho=null}}else Ho=Yo?Ju(t.stateNode.nextSibling):null;return!0}function r8(){for(var t=Ho;t;)t=Ju(t.nextSibling)}function mh(){Ho=Yo=null,nr=!1}function EA(t){Ws===null?Ws=[t]:Ws.push(t)}var hG=Xl.ReactCurrentBatchConfig;function Gp(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(qe(309));var r=n.stateNode}if(!r)throw Error(qe(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(qe(284));if(!n._owner)throw Error(qe(290,t))}return t}function py(t,e){throw t=Object.prototype.toString.call(e),Error(qe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $C(t){var e=t._init;return e(t._payload)}function i8(t){function e(_,S){if(t){var E=_.deletions;E===null?(_.deletions=[S],_.flags|=16):E.push(S)}}function n(_,S){if(!t)return null;for(;S!==null;)e(_,S),S=S.sibling;return null}function r(_,S){for(_=new Map;S!==null;)S.key!==null?_.set(S.key,S):_.set(S.index,S),S=S.sibling;return _}function i(_,S){return _=ec(_,S),_.index=0,_.sibling=null,_}function o(_,S,E){return _.index=E,t?(E=_.alternate,E!==null?(E=E.index,E<S?(_.flags|=2,S):E):(_.flags|=2,S)):(_.flags|=1048576,S)}function s(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,S,E,k){return S===null||S.tag!==6?(S=cb(E,_.mode,k),S.return=_,S):(S=i(S,E),S.return=_,S)}function l(_,S,E,k){var R=E.type;return R===Id?c(_,S,E.props.children,k,E.key):S!==null&&(S.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Nu&&$C(R)===S.type)?(k=i(S,E.props),k.ref=Gp(_,S,E),k.return=_,k):(k=g0(E.type,E.key,E.props,null,_.mode,k),k.ref=Gp(_,S,E),k.return=_,k)}function u(_,S,E,k){return S===null||S.tag!==4||S.stateNode.containerInfo!==E.containerInfo||S.stateNode.implementation!==E.implementation?(S=fb(E,_.mode,k),S.return=_,S):(S=i(S,E.children||[]),S.return=_,S)}function c(_,S,E,k,R){return S===null||S.tag!==7?(S=af(E,_.mode,k,R),S.return=_,S):(S=i(S,E),S.return=_,S)}function f(_,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return S=cb(""+S,_.mode,E),S.return=_,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ry:return E=g0(S.type,S.key,S.props,null,_.mode,E),E.ref=Gp(_,null,S),E.return=_,E;case Td:return S=fb(S,_.mode,E),S.return=_,S;case Nu:var k=S._init;return f(_,k(S._payload),E)}if(gm(S)||Bp(S))return S=af(S,_.mode,E,null),S.return=_,S;py(_,S)}return null}function d(_,S,E,k){var R=S!==null?S.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return R!==null?null:a(_,S,""+E,k);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ry:return E.key===R?l(_,S,E,k):null;case Td:return E.key===R?u(_,S,E,k):null;case Nu:return R=E._init,d(_,S,R(E._payload),k)}if(gm(E)||Bp(E))return R!==null?null:c(_,S,E,k,null);py(_,E)}return null}function h(_,S,E,k,R){if(typeof k=="string"&&k!==""||typeof k=="number")return _=_.get(E)||null,a(S,_,""+k,R);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ry:return _=_.get(k.key===null?E:k.key)||null,l(S,_,k,R);case Td:return _=_.get(k.key===null?E:k.key)||null,u(S,_,k,R);case Nu:var F=k._init;return h(_,S,E,F(k._payload),R)}if(gm(k)||Bp(k))return _=_.get(E)||null,c(S,_,k,R,null);py(S,k)}return null}function y(_,S,E,k){for(var R=null,F=null,N=S,C=S=0,T=null;N!==null&&C<E.length;C++){N.index>C?(T=N,N=null):T=N.sibling;var $=d(_,N,E[C],k);if($===null){N===null&&(N=T);break}t&&N&&$.alternate===null&&e(_,N),S=o($,S,C),F===null?R=$:F.sibling=$,F=$,N=T}if(C===E.length)return n(_,N),nr&&jc(_,C),R;if(N===null){for(;C<E.length;C++)N=f(_,E[C],k),N!==null&&(S=o(N,S,C),F===null?R=N:F.sibling=N,F=N);return nr&&jc(_,C),R}for(N=r(_,N);C<E.length;C++)T=h(N,_,C,E[C],k),T!==null&&(t&&T.alternate!==null&&N.delete(T.key===null?C:T.key),S=o(T,S,C),F===null?R=T:F.sibling=T,F=T);return t&&N.forEach(function(P){return e(_,P)}),nr&&jc(_,C),R}function b(_,S,E,k){var R=Bp(E);if(typeof R!="function")throw Error(qe(150));if(E=R.call(E),E==null)throw Error(qe(151));for(var F=R=null,N=S,C=S=0,T=null,$=E.next();N!==null&&!$.done;C++,$=E.next()){N.index>C?(T=N,N=null):T=N.sibling;var P=d(_,N,$.value,k);if(P===null){N===null&&(N=T);break}t&&N&&P.alternate===null&&e(_,N),S=o(P,S,C),F===null?R=P:F.sibling=P,F=P,N=T}if($.done)return n(_,N),nr&&jc(_,C),R;if(N===null){for(;!$.done;C++,$=E.next())$=f(_,$.value,k),$!==null&&(S=o($,S,C),F===null?R=$:F.sibling=$,F=$);return nr&&jc(_,C),R}for(N=r(_,N);!$.done;C++,$=E.next())$=h(N,_,C,$.value,k),$!==null&&(t&&$.alternate!==null&&N.delete($.key===null?C:$.key),S=o($,S,C),F===null?R=$:F.sibling=$,F=$);return t&&N.forEach(function(D){return e(_,D)}),nr&&jc(_,C),R}function w(_,S,E,k){if(typeof E=="object"&&E!==null&&E.type===Id&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case ry:e:{for(var R=E.key,F=S;F!==null;){if(F.key===R){if(R=E.type,R===Id){if(F.tag===7){n(_,F.sibling),S=i(F,E.props.children),S.return=_,_=S;break e}}else if(F.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Nu&&$C(R)===F.type){n(_,F.sibling),S=i(F,E.props),S.ref=Gp(_,F,E),S.return=_,_=S;break e}n(_,F);break}else e(_,F);F=F.sibling}E.type===Id?(S=af(E.props.children,_.mode,k,E.key),S.return=_,_=S):(k=g0(E.type,E.key,E.props,null,_.mode,k),k.ref=Gp(_,S,E),k.return=_,_=k)}return s(_);case Td:e:{for(F=E.key;S!==null;){if(S.key===F)if(S.tag===4&&S.stateNode.containerInfo===E.containerInfo&&S.stateNode.implementation===E.implementation){n(_,S.sibling),S=i(S,E.children||[]),S.return=_,_=S;break e}else{n(_,S);break}else e(_,S);S=S.sibling}S=fb(E,_.mode,k),S.return=_,_=S}return s(_);case Nu:return F=E._init,w(_,S,F(E._payload),k)}if(gm(E))return y(_,S,E,k);if(Bp(E))return b(_,S,E,k);py(_,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,S!==null&&S.tag===6?(n(_,S.sibling),S=i(S,E),S.return=_,_=S):(n(_,S),S=cb(E,_.mode,k),S.return=_,_=S),s(_)):n(_,S)}return w}var gh=i8(!0),o8=i8(!1),W0=pc(null),K0=null,Ld=null,AA=null;function TA(){AA=Ld=K0=null}function IA(t){var e=W0.current;Xn(W0),t._currentValue=e}function fS(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Yd(t,e){K0=t,AA=Ld=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_o=!0),t.firstContext=null)}function Ts(t){var e=t._currentValue;if(AA!==t)if(t={context:t,memoizedValue:e,next:null},Ld===null){if(K0===null)throw Error(qe(308));Ld=t,K0.dependencies={lanes:0,firstContext:t}}else Ld=Ld.next=t;return e}var Qc=null;function PA(t){Qc===null?Qc=[t]:Qc.push(t)}function s8(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,PA(e)):(n.next=i.next,i.next=n),e.interleaved=n,jl(t,r)}function jl(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ku=!1;function CA(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function a8(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ol(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xu(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,sn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,jl(t,n)}return i=r.interleaved,i===null?(e.next=e,PA(r)):(e.next=i.next,i.next=e),r.interleaved=e,jl(t,n)}function c0(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pA(t,n)}}function jC(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Y0(t,e,n,r){var i=t.updateQueue;ku=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var d=a.lane,h=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,b=a;switch(d=e,h=n,b.tag){case 1:if(y=b.payload,typeof y=="function"){f=y.call(h,f,d);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,d=typeof y=="function"?y.call(h,f,d):y,d==null)break e;f=dr({},f,d);break e;case 2:ku=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);yf|=s,t.lanes=s,t.memoizedState=f}}function BC(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(qe(191,i));i.call(r)}}}var uv={},Fa=pc(uv),sg=pc(uv),ag=pc(uv);function Zc(t){if(t===uv)throw Error(qe(174));return t}function NA(t,e){switch(qn(ag,e),qn(sg,t),qn(Fa,uv),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Hx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Hx(e,t)}Xn(Fa),qn(Fa,e)}function vh(){Xn(Fa),Xn(sg),Xn(ag)}function l8(t){Zc(ag.current);var e=Zc(Fa.current),n=Hx(e,t.type);e!==n&&(qn(sg,t),qn(Fa,n))}function kA(t){sg.current===t&&(Xn(Fa),Xn(sg))}var cr=pc(0);function J0(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ib=[];function RA(){for(var t=0;t<ib.length;t++)ib[t]._workInProgressVersionPrimary=null;ib.length=0}var f0=Xl.ReactCurrentDispatcher,ob=Xl.ReactCurrentBatchConfig,vf=0,fr=null,Xr=null,li=null,X0=!1,Rm=!1,lg=0,pG=0;function Oi(){throw Error(qe(321))}function OA(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!na(t[n],e[n]))return!1;return!0}function MA(t,e,n,r,i,o){if(vf=o,fr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,f0.current=t===null||t.memoizedState===null?yG:wG,t=n(r,i),Rm){o=0;do{if(Rm=!1,lg=0,25<=o)throw Error(qe(301));o+=1,li=Xr=null,e.updateQueue=null,f0.current=_G,t=n(r,i)}while(Rm)}if(f0.current=Q0,e=Xr!==null&&Xr.next!==null,vf=0,li=Xr=fr=null,X0=!1,e)throw Error(qe(300));return t}function LA(){var t=lg!==0;return lg=0,t}function Ca(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return li===null?fr.memoizedState=li=t:li=li.next=t,li}function Is(){if(Xr===null){var t=fr.alternate;t=t!==null?t.memoizedState:null}else t=Xr.next;var e=li===null?fr.memoizedState:li.next;if(e!==null)li=e,Xr=t;else{if(t===null)throw Error(qe(310));Xr=t,t={memoizedState:Xr.memoizedState,baseState:Xr.baseState,baseQueue:Xr.baseQueue,queue:Xr.queue,next:null},li===null?fr.memoizedState=li=t:li=li.next=t}return li}function ug(t,e){return typeof e=="function"?e(t):e}function sb(t){var e=Is(),n=e.queue;if(n===null)throw Error(qe(311));n.lastRenderedReducer=t;var r=Xr,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((vf&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,fr.lanes|=c,yf|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,na(r,e.memoizedState)||(_o=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,fr.lanes|=o,yf|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ab(t){var e=Is(),n=e.queue;if(n===null)throw Error(qe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);na(o,e.memoizedState)||(_o=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function u8(){}function c8(t,e){var n=fr,r=Is(),i=e(),o=!na(r.memoizedState,i);if(o&&(r.memoizedState=i,_o=!0),r=r.queue,DA(h8.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||li!==null&&li.memoizedState.tag&1){if(n.flags|=2048,cg(9,d8.bind(null,n,r,i,e),void 0,null),fi===null)throw Error(qe(349));vf&30||f8(n,e,i)}return i}function f8(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=fr.updateQueue,e===null?(e={lastEffect:null,stores:null},fr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function d8(t,e,n,r){e.value=n,e.getSnapshot=r,p8(e)&&m8(t)}function h8(t,e,n){return n(function(){p8(e)&&m8(t)})}function p8(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!na(t,n)}catch{return!0}}function m8(t){var e=jl(t,1);e!==null&&Qs(e,t,1,-1)}function VC(t){var e=Ca();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ug,lastRenderedState:t},e.queue=t,t=t.dispatch=vG.bind(null,fr,t),[e.memoizedState,t]}function cg(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=fr.updateQueue,e===null?(e={lastEffect:null,stores:null},fr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function g8(){return Is().memoizedState}function d0(t,e,n,r){var i=Ca();fr.flags|=t,i.memoizedState=cg(1|e,n,void 0,r===void 0?null:r)}function zw(t,e,n,r){var i=Is();r=r===void 0?null:r;var o=void 0;if(Xr!==null){var s=Xr.memoizedState;if(o=s.destroy,r!==null&&OA(r,s.deps)){i.memoizedState=cg(e,n,o,r);return}}fr.flags|=t,i.memoizedState=cg(1|e,n,o,r)}function qC(t,e){return d0(8390656,8,t,e)}function DA(t,e){return zw(2048,8,t,e)}function v8(t,e){return zw(4,2,t,e)}function y8(t,e){return zw(4,4,t,e)}function w8(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _8(t,e,n){return n=n!=null?n.concat([t]):null,zw(4,4,w8.bind(null,e,t),n)}function FA(){}function b8(t,e){var n=Is();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&OA(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function x8(t,e){var n=Is();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&OA(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function S8(t,e,n){return vf&21?(na(n,e)||(n=P6(),fr.lanes|=n,yf|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_o=!0),t.memoizedState=n)}function mG(t,e){var n=Tn;Tn=n!==0&&4>n?n:4,t(!0);var r=ob.transition;ob.transition={};try{t(!1),e()}finally{Tn=n,ob.transition=r}}function E8(){return Is().memoizedState}function gG(t,e,n){var r=Zu(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},A8(t))T8(e,n);else if(n=s8(t,e,n,r),n!==null){var i=so();Qs(n,t,r,i),I8(n,e,r)}}function vG(t,e,n){var r=Zu(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(A8(t))T8(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,na(a,s)){var l=e.interleaved;l===null?(i.next=i,PA(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=s8(t,e,i,r),n!==null&&(i=so(),Qs(n,t,r,i),I8(n,e,r))}}function A8(t){var e=t.alternate;return t===fr||e!==null&&e===fr}function T8(t,e){Rm=X0=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function I8(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pA(t,n)}}var Q0={readContext:Ts,useCallback:Oi,useContext:Oi,useEffect:Oi,useImperativeHandle:Oi,useInsertionEffect:Oi,useLayoutEffect:Oi,useMemo:Oi,useReducer:Oi,useRef:Oi,useState:Oi,useDebugValue:Oi,useDeferredValue:Oi,useTransition:Oi,useMutableSource:Oi,useSyncExternalStore:Oi,useId:Oi,unstable_isNewReconciler:!1},yG={readContext:Ts,useCallback:function(t,e){return Ca().memoizedState=[t,e===void 0?null:e],t},useContext:Ts,useEffect:qC,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,d0(4194308,4,w8.bind(null,e,t),n)},useLayoutEffect:function(t,e){return d0(4194308,4,t,e)},useInsertionEffect:function(t,e){return d0(4,2,t,e)},useMemo:function(t,e){var n=Ca();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ca();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=gG.bind(null,fr,t),[r.memoizedState,t]},useRef:function(t){var e=Ca();return t={current:t},e.memoizedState=t},useState:VC,useDebugValue:FA,useDeferredValue:function(t){return Ca().memoizedState=t},useTransition:function(){var t=VC(!1),e=t[0];return t=mG.bind(null,t[1]),Ca().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=fr,i=Ca();if(nr){if(n===void 0)throw Error(qe(407));n=n()}else{if(n=e(),fi===null)throw Error(qe(349));vf&30||f8(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,qC(h8.bind(null,r,o,t),[t]),r.flags|=2048,cg(9,d8.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Ca(),e=fi.identifierPrefix;if(nr){var n=Al,r=El;n=(r&~(1<<32-Xs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=lg++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=pG++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},wG={readContext:Ts,useCallback:b8,useContext:Ts,useEffect:DA,useImperativeHandle:_8,useInsertionEffect:v8,useLayoutEffect:y8,useMemo:x8,useReducer:sb,useRef:g8,useState:function(){return sb(ug)},useDebugValue:FA,useDeferredValue:function(t){var e=Is();return S8(e,Xr.memoizedState,t)},useTransition:function(){var t=sb(ug)[0],e=Is().memoizedState;return[t,e]},useMutableSource:u8,useSyncExternalStore:c8,useId:E8,unstable_isNewReconciler:!1},_G={readContext:Ts,useCallback:b8,useContext:Ts,useEffect:DA,useImperativeHandle:_8,useInsertionEffect:v8,useLayoutEffect:y8,useMemo:x8,useReducer:ab,useRef:g8,useState:function(){return ab(ug)},useDebugValue:FA,useDeferredValue:function(t){var e=Is();return Xr===null?e.memoizedState=t:S8(e,Xr.memoizedState,t)},useTransition:function(){var t=ab(ug)[0],e=Is().memoizedState;return[t,e]},useMutableSource:u8,useSyncExternalStore:c8,useId:E8,unstable_isNewReconciler:!1};function zs(t,e){if(t&&t.defaultProps){e=dr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function dS(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:dr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hw={isMounted:function(t){return(t=t._reactInternals)?Df(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=so(),i=Zu(t),o=Ol(r,i);o.payload=e,n!=null&&(o.callback=n),e=Xu(t,o,i),e!==null&&(Qs(e,t,i,r),c0(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=so(),i=Zu(t),o=Ol(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Xu(t,o,i),e!==null&&(Qs(e,t,i,r),c0(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=so(),r=Zu(t),i=Ol(n,r);i.tag=2,e!=null&&(i.callback=e),e=Xu(t,i,r),e!==null&&(Qs(e,t,r,n),c0(e,t,r))}};function zC(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!ng(n,r)||!ng(i,o):!0}function P8(t,e,n){var r=!1,i=sc,o=e.contextType;return typeof o=="object"&&o!==null?o=Ts(o):(i=So(e)?mf:Wi.current,r=e.contextTypes,o=(r=r!=null)?ph(t,i):sc),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hw,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function HC(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Hw.enqueueReplaceState(e,e.state,null)}function hS(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},CA(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Ts(o):(o=So(e)?mf:Wi.current,i.context=ph(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(dS(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Hw.enqueueReplaceState(i,i.state,null),Y0(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function yh(t,e){try{var n="",r=e;do n+=Kz(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function lb(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function pS(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var bG=typeof WeakMap=="function"?WeakMap:Map;function C8(t,e,n){n=Ol(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){e1||(e1=!0,ES=r),pS(t,e)},n}function N8(t,e,n){n=Ol(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){pS(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){pS(t,e),typeof r!="function"&&(Qu===null?Qu=new Set([this]):Qu.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function GC(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new bG;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=LG.bind(null,t,e,n),e.then(t,t))}function WC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function KC(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ol(-1,1),e.tag=2,Xu(n,e,1))),n.lanes|=1),t)}var xG=Xl.ReactCurrentOwner,_o=!1;function io(t,e,n,r){e.child=t===null?o8(e,null,n,r):gh(e,t.child,n,r)}function YC(t,e,n,r,i){n=n.render;var o=e.ref;return Yd(e,i),r=MA(t,e,n,r,o,i),n=LA(),t!==null&&!_o?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bl(t,e,i)):(nr&&n&&xA(e),e.flags|=1,io(t,e,r,i),e.child)}function JC(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!HA(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,k8(t,e,o,r,i)):(t=g0(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:ng,n(s,r)&&t.ref===e.ref)return Bl(t,e,i)}return e.flags|=1,t=ec(o,r),t.ref=e.ref,t.return=e,e.child=t}function k8(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(ng(o,r)&&t.ref===e.ref)if(_o=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(_o=!0);else return e.lanes=t.lanes,Bl(t,e,i)}return mS(t,e,n,r,i)}function R8(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qn(Fd,Vo),Vo|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qn(Fd,Vo),Vo|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,qn(Fd,Vo),Vo|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,qn(Fd,Vo),Vo|=r;return io(t,e,i,n),e.child}function O8(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function mS(t,e,n,r,i){var o=So(n)?mf:Wi.current;return o=ph(e,o),Yd(e,i),n=MA(t,e,n,r,o,i),r=LA(),t!==null&&!_o?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bl(t,e,i)):(nr&&r&&xA(e),e.flags|=1,io(t,e,n,i),e.child)}function XC(t,e,n,r,i){if(So(n)){var o=!0;z0(e)}else o=!1;if(Yd(e,i),e.stateNode===null)h0(t,e),P8(e,n,r),hS(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ts(u):(u=So(n)?mf:Wi.current,u=ph(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&HC(e,s,r,u),ku=!1;var d=e.memoizedState;s.state=d,Y0(e,r,s,i),l=e.memoizedState,a!==r||d!==l||xo.current||ku?(typeof c=="function"&&(dS(e,n,c,r),l=e.memoizedState),(a=ku||zC(e,n,a,r,d,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,a8(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:zs(e.type,a),s.props=u,f=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ts(l):(l=So(n)?mf:Wi.current,l=ph(e,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==l)&&HC(e,s,r,l),ku=!1,d=e.memoizedState,s.state=d,Y0(e,r,s,i);var y=e.memoizedState;a!==f||d!==y||xo.current||ku?(typeof h=="function"&&(dS(e,n,h,r),y=e.memoizedState),(u=ku||zC(e,n,u,r,d,y,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),s.props=r,s.state=y,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return gS(t,e,n,r,o,i)}function gS(t,e,n,r,i,o){O8(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&DC(e,n,!1),Bl(t,e,o);r=e.stateNode,xG.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=gh(e,t.child,null,o),e.child=gh(e,null,a,o)):io(t,e,a,o),e.memoizedState=r.state,i&&DC(e,n,!0),e.child}function M8(t){var e=t.stateNode;e.pendingContext?LC(t,e.pendingContext,e.pendingContext!==e.context):e.context&&LC(t,e.context,!1),NA(t,e.containerInfo)}function QC(t,e,n,r,i){return mh(),EA(i),e.flags|=256,io(t,e,n,r),e.child}var vS={dehydrated:null,treeContext:null,retryLane:0};function yS(t){return{baseLanes:t,cachePool:null,transitions:null}}function L8(t,e,n){var r=e.pendingProps,i=cr.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),qn(cr,i&1),t===null)return cS(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Kw(s,r,0,null),t=af(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=yS(n),e.memoizedState=vS,t):UA(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return SG(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ec(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=ec(a,o):(o=af(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?yS(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=vS,r}return o=t.child,t=o.sibling,r=ec(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function UA(t,e){return e=Kw({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function my(t,e,n,r){return r!==null&&EA(r),gh(e,t.child,null,n),t=UA(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function SG(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=lb(Error(qe(422))),my(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Kw({mode:"visible",children:r.children},i,0,null),o=af(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&gh(e,t.child,null,s),e.child.memoizedState=yS(s),e.memoizedState=vS,o);if(!(e.mode&1))return my(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(qe(419)),r=lb(o,r,void 0),my(t,e,s,r)}if(a=(s&t.childLanes)!==0,_o||a){if(r=fi,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,jl(t,i),Qs(r,t,i,-1))}return zA(),r=lb(Error(qe(421))),my(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=DG.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Ho=Ju(i.nextSibling),Yo=e,nr=!0,Ws=null,t!==null&&(vs[ys++]=El,vs[ys++]=Al,vs[ys++]=gf,El=t.id,Al=t.overflow,gf=e),e=UA(e,r.children),e.flags|=4096,e)}function ZC(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),fS(t.return,e,n)}function ub(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function D8(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(io(t,e,r.children,n),r=cr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ZC(t,n,e);else if(t.tag===19)ZC(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(qn(cr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&J0(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ub(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&J0(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ub(e,!0,n,null,o);break;case"together":ub(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function h0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Bl(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),yf|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(qe(153));if(e.child!==null){for(t=e.child,n=ec(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ec(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function EG(t,e,n){switch(e.tag){case 3:M8(e),mh();break;case 5:l8(e);break;case 1:So(e.type)&&z0(e);break;case 4:NA(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;qn(W0,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(qn(cr,cr.current&1),e.flags|=128,null):n&e.child.childLanes?L8(t,e,n):(qn(cr,cr.current&1),t=Bl(t,e,n),t!==null?t.sibling:null);qn(cr,cr.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return D8(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qn(cr,cr.current),r)break;return null;case 22:case 23:return e.lanes=0,R8(t,e,n)}return Bl(t,e,n)}var F8,wS,U8,$8;F8=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wS=function(){};U8=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Zc(Fa.current);var o=null;switch(n){case"input":i=Bx(t,i),r=Bx(t,r),o=[];break;case"select":i=dr({},i,{value:void 0}),r=dr({},r,{value:void 0}),o=[];break;case"textarea":i=zx(t,i),r=zx(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=V0)}Gx(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ym.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ym.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Gn("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};$8=function(t,e,n,r){n!==r&&(e.flags|=4)};function Wp(t,e){if(!nr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Mi(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function AG(t,e,n){var r=e.pendingProps;switch(SA(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mi(e),null;case 1:return So(e.type)&&q0(),Mi(e),null;case 3:return r=e.stateNode,vh(),Xn(xo),Xn(Wi),RA(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(hy(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ws!==null&&(IS(Ws),Ws=null))),wS(t,e),Mi(e),null;case 5:kA(e);var i=Zc(ag.current);if(n=e.type,t!==null&&e.stateNode!=null)U8(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(qe(166));return Mi(e),null}if(t=Zc(Fa.current),hy(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Ra]=e,r[og]=o,t=(e.mode&1)!==0,n){case"dialog":Gn("cancel",r),Gn("close",r);break;case"iframe":case"object":case"embed":Gn("load",r);break;case"video":case"audio":for(i=0;i<ym.length;i++)Gn(ym[i],r);break;case"source":Gn("error",r);break;case"img":case"image":case"link":Gn("error",r),Gn("load",r);break;case"details":Gn("toggle",r);break;case"input":lC(r,o),Gn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Gn("invalid",r);break;case"textarea":cC(r,o),Gn("invalid",r)}Gx(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&dy(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&dy(r.textContent,a,t),i=["children",""+a]):Ym.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Gn("scroll",r)}switch(n){case"input":iy(r),uC(r,o,!0);break;case"textarea":iy(r),fC(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=V0)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=h6(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Ra]=e,t[og]=r,F8(t,e,!1,!1),e.stateNode=t;e:{switch(s=Wx(n,r),n){case"dialog":Gn("cancel",t),Gn("close",t),i=r;break;case"iframe":case"object":case"embed":Gn("load",t),i=r;break;case"video":case"audio":for(i=0;i<ym.length;i++)Gn(ym[i],t);i=r;break;case"source":Gn("error",t),i=r;break;case"img":case"image":case"link":Gn("error",t),Gn("load",t),i=r;break;case"details":Gn("toggle",t),i=r;break;case"input":lC(t,r),i=Bx(t,r),Gn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=dr({},r,{value:void 0}),Gn("invalid",t);break;case"textarea":cC(t,r),i=zx(t,r),Gn("invalid",t);break;default:i=r}Gx(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?g6(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&p6(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Jm(t,l):typeof l=="number"&&Jm(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ym.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Gn("scroll",t):l!=null&&lA(t,o,l,s))}switch(n){case"input":iy(t),uC(t,r,!1);break;case"textarea":iy(t),fC(t);break;case"option":r.value!=null&&t.setAttribute("value",""+oc(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Hd(t,!!r.multiple,o,!1):r.defaultValue!=null&&Hd(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=V0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Mi(e),null;case 6:if(t&&e.stateNode!=null)$8(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(qe(166));if(n=Zc(ag.current),Zc(Fa.current),hy(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ra]=e,(o=r.nodeValue!==n)&&(t=Yo,t!==null))switch(t.tag){case 3:dy(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&dy(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ra]=e,e.stateNode=r}return Mi(e),null;case 13:if(Xn(cr),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(nr&&Ho!==null&&e.mode&1&&!(e.flags&128))r8(),mh(),e.flags|=98560,o=!1;else if(o=hy(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(qe(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(qe(317));o[Ra]=e}else mh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mi(e),o=!1}else Ws!==null&&(IS(Ws),Ws=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||cr.current&1?Qr===0&&(Qr=3):zA())),e.updateQueue!==null&&(e.flags|=4),Mi(e),null);case 4:return vh(),wS(t,e),t===null&&rg(e.stateNode.containerInfo),Mi(e),null;case 10:return IA(e.type._context),Mi(e),null;case 17:return So(e.type)&&q0(),Mi(e),null;case 19:if(Xn(cr),o=e.memoizedState,o===null)return Mi(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Wp(o,!1);else{if(Qr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=J0(t),s!==null){for(e.flags|=128,Wp(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qn(cr,cr.current&1|2),e.child}t=t.sibling}o.tail!==null&&kr()>wh&&(e.flags|=128,r=!0,Wp(o,!1),e.lanes=4194304)}else{if(!r)if(t=J0(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Wp(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!nr)return Mi(e),null}else 2*kr()-o.renderingStartTime>wh&&n!==1073741824&&(e.flags|=128,r=!0,Wp(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=kr(),e.sibling=null,n=cr.current,qn(cr,r?n&1|2:n&1),e):(Mi(e),null);case 22:case 23:return qA(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Vo&1073741824&&(Mi(e),e.subtreeFlags&6&&(e.flags|=8192)):Mi(e),null;case 24:return null;case 25:return null}throw Error(qe(156,e.tag))}function TG(t,e){switch(SA(e),e.tag){case 1:return So(e.type)&&q0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return vh(),Xn(xo),Xn(Wi),RA(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return kA(e),null;case 13:if(Xn(cr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(qe(340));mh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Xn(cr),null;case 4:return vh(),null;case 10:return IA(e.type._context),null;case 22:case 23:return qA(),null;case 24:return null;default:return null}}var gy=!1,Vi=!1,IG=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function Dd(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){wr(t,e,r)}else n.current=null}function _S(t,e,n){try{n()}catch(r){wr(t,e,r)}}var eN=!1;function PG(t,e){if(rS=$0,t=z6(),bA(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===t)break t;if(d===n&&++u===i&&(a=s),d===o&&++c===r&&(l=s),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(iS={focusedElem:t,selectionRange:n},$0=!1,Xe=e;Xe!==null;)if(e=Xe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Xe=t;else for(;Xe!==null;){e=Xe;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,w=y.memoizedState,_=e.stateNode,S=_.getSnapshotBeforeUpdate(e.elementType===e.type?b:zs(e.type,b),w);_.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(qe(163))}}catch(k){wr(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,Xe=t;break}Xe=e.return}return y=eN,eN=!1,y}function Om(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&_S(e,n,o)}i=i.next}while(i!==r)}}function Gw(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function bS(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function j8(t){var e=t.alternate;e!==null&&(t.alternate=null,j8(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ra],delete e[og],delete e[aS],delete e[cG],delete e[fG])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function B8(t){return t.tag===5||t.tag===3||t.tag===4}function tN(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||B8(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=V0));else if(r!==4&&(t=t.child,t!==null))for(xS(t,e,n),t=t.sibling;t!==null;)xS(t,e,n),t=t.sibling}function SS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(SS(t,e,n),t=t.sibling;t!==null;)SS(t,e,n),t=t.sibling}var _i=null,Hs=!1;function Au(t,e,n){for(n=n.child;n!==null;)V8(t,e,n),n=n.sibling}function V8(t,e,n){if(Da&&typeof Da.onCommitFiberUnmount=="function")try{Da.onCommitFiberUnmount(Uw,n)}catch{}switch(n.tag){case 5:Vi||Dd(n,e);case 6:var r=_i,i=Hs;_i=null,Au(t,e,n),_i=r,Hs=i,_i!==null&&(Hs?(t=_i,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):_i.removeChild(n.stateNode));break;case 18:_i!==null&&(Hs?(t=_i,n=n.stateNode,t.nodeType===8?nb(t.parentNode,n):t.nodeType===1&&nb(t,n),eg(t)):nb(_i,n.stateNode));break;case 4:r=_i,i=Hs,_i=n.stateNode.containerInfo,Hs=!0,Au(t,e,n),_i=r,Hs=i;break;case 0:case 11:case 14:case 15:if(!Vi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&_S(n,e,s),i=i.next}while(i!==r)}Au(t,e,n);break;case 1:if(!Vi&&(Dd(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){wr(n,e,a)}Au(t,e,n);break;case 21:Au(t,e,n);break;case 22:n.mode&1?(Vi=(r=Vi)||n.memoizedState!==null,Au(t,e,n),Vi=r):Au(t,e,n);break;default:Au(t,e,n)}}function nN(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new IG),e.forEach(function(r){var i=FG.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function js(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:_i=a.stateNode,Hs=!1;break e;case 3:_i=a.stateNode.containerInfo,Hs=!0;break e;case 4:_i=a.stateNode.containerInfo,Hs=!0;break e}a=a.return}if(_i===null)throw Error(qe(160));V8(o,s,i),_i=null,Hs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){wr(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)q8(e,t),e=e.sibling}function q8(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(js(e,t),Aa(t),r&4){try{Om(3,t,t.return),Gw(3,t)}catch(b){wr(t,t.return,b)}try{Om(5,t,t.return)}catch(b){wr(t,t.return,b)}}break;case 1:js(e,t),Aa(t),r&512&&n!==null&&Dd(n,n.return);break;case 5:if(js(e,t),Aa(t),r&512&&n!==null&&Dd(n,n.return),t.flags&32){var i=t.stateNode;try{Jm(i,"")}catch(b){wr(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&f6(i,o),Wx(a,s);var u=Wx(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?g6(i,f):c==="dangerouslySetInnerHTML"?p6(i,f):c==="children"?Jm(i,f):lA(i,c,f,u)}switch(a){case"input":Vx(i,o);break;case"textarea":d6(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?Hd(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?Hd(i,!!o.multiple,o.defaultValue,!0):Hd(i,!!o.multiple,o.multiple?[]:"",!1))}i[og]=o}catch(b){wr(t,t.return,b)}}break;case 6:if(js(e,t),Aa(t),r&4){if(t.stateNode===null)throw Error(qe(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(b){wr(t,t.return,b)}}break;case 3:if(js(e,t),Aa(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{eg(e.containerInfo)}catch(b){wr(t,t.return,b)}break;case 4:js(e,t),Aa(t);break;case 13:js(e,t),Aa(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(BA=kr())),r&4&&nN(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Vi=(u=Vi)||c,js(e,t),Vi=u):js(e,t),Aa(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Xe=t,c=t.child;c!==null;){for(f=Xe=c;Xe!==null;){switch(d=Xe,h=d.child,d.tag){case 0:case 11:case 14:case 15:Om(4,d,d.return);break;case 1:Dd(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(b){wr(r,n,b)}}break;case 5:Dd(d,d.return);break;case 22:if(d.memoizedState!==null){iN(f);continue}}h!==null?(h.return=d,Xe=h):iN(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=m6("display",s))}catch(b){wr(t,t.return,b)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(b){wr(t,t.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:js(e,t),Aa(t),r&4&&nN(t);break;case 21:break;default:js(e,t),Aa(t)}}function Aa(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(B8(n)){var r=n;break e}n=n.return}throw Error(qe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Jm(i,""),r.flags&=-33);var o=tN(t);SS(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=tN(t);xS(t,a,s);break;default:throw Error(qe(161))}}catch(l){wr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function CG(t,e,n){Xe=t,z8(t)}function z8(t,e,n){for(var r=(t.mode&1)!==0;Xe!==null;){var i=Xe,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||gy;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Vi;a=gy;var u=Vi;if(gy=s,(Vi=l)&&!u)for(Xe=i;Xe!==null;)s=Xe,l=s.child,s.tag===22&&s.memoizedState!==null?oN(i):l!==null?(l.return=s,Xe=l):oN(i);for(;o!==null;)Xe=o,z8(o),o=o.sibling;Xe=i,gy=a,Vi=u}rN(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Xe=o):rN(t)}}function rN(t){for(;Xe!==null;){var e=Xe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vi||Gw(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Vi)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:zs(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&BC(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}BC(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&eg(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(qe(163))}Vi||e.flags&512&&bS(e)}catch(d){wr(e,e.return,d)}}if(e===t){Xe=null;break}if(n=e.sibling,n!==null){n.return=e.return,Xe=n;break}Xe=e.return}}function iN(t){for(;Xe!==null;){var e=Xe;if(e===t){Xe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Xe=n;break}Xe=e.return}}function oN(t){for(;Xe!==null;){var e=Xe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Gw(4,e)}catch(l){wr(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){wr(e,i,l)}}var o=e.return;try{bS(e)}catch(l){wr(e,o,l)}break;case 5:var s=e.return;try{bS(e)}catch(l){wr(e,s,l)}}}catch(l){wr(e,e.return,l)}if(e===t){Xe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Xe=a;break}Xe=e.return}}var NG=Math.ceil,Z0=Xl.ReactCurrentDispatcher,$A=Xl.ReactCurrentOwner,xs=Xl.ReactCurrentBatchConfig,sn=0,fi=null,$r=null,Ei=0,Vo=0,Fd=pc(0),Qr=0,fg=null,yf=0,Ww=0,jA=0,Mm=null,yo=null,BA=0,wh=1/0,wl=null,e1=!1,ES=null,Qu=null,vy=!1,Bu=null,t1=0,Lm=0,AS=null,p0=-1,m0=0;function so(){return sn&6?kr():p0!==-1?p0:p0=kr()}function Zu(t){return t.mode&1?sn&2&&Ei!==0?Ei&-Ei:hG.transition!==null?(m0===0&&(m0=P6()),m0):(t=Tn,t!==0||(t=window.event,t=t===void 0?16:L6(t.type)),t):1}function Qs(t,e,n,r){if(50<Lm)throw Lm=0,AS=null,Error(qe(185));sv(t,n,r),(!(sn&2)||t!==fi)&&(t===fi&&(!(sn&2)&&(Ww|=n),Qr===4&&Mu(t,Ei)),Eo(t,r),n===1&&sn===0&&!(e.mode&1)&&(wh=kr()+500,qw&&mc()))}function Eo(t,e){var n=t.callbackNode;hH(t,e);var r=U0(t,t===fi?Ei:0);if(r===0)n!==null&&pC(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&pC(n),e===1)t.tag===0?dG(sN.bind(null,t)):e8(sN.bind(null,t)),lG(function(){!(sn&6)&&mc()}),n=null;else{switch(C6(r)){case 1:n=hA;break;case 4:n=T6;break;case 16:n=F0;break;case 536870912:n=I6;break;default:n=F0}n=Q8(n,H8.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function H8(t,e){if(p0=-1,m0=0,sn&6)throw Error(qe(327));var n=t.callbackNode;if(Jd()&&t.callbackNode!==n)return null;var r=U0(t,t===fi?Ei:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=n1(t,r);else{e=r;var i=sn;sn|=2;var o=W8();(fi!==t||Ei!==e)&&(wl=null,wh=kr()+500,sf(t,e));do try{OG();break}catch(a){G8(t,a)}while(!0);TA(),Z0.current=o,sn=i,$r!==null?e=0:(fi=null,Ei=0,e=Qr)}if(e!==0){if(e===2&&(i=Qx(t),i!==0&&(r=i,e=TS(t,i))),e===1)throw n=fg,sf(t,0),Mu(t,r),Eo(t,kr()),n;if(e===6)Mu(t,r);else{if(i=t.current.alternate,!(r&30)&&!kG(i)&&(e=n1(t,r),e===2&&(o=Qx(t),o!==0&&(r=o,e=TS(t,o))),e===1))throw n=fg,sf(t,0),Mu(t,r),Eo(t,kr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(qe(345));case 2:Bc(t,yo,wl);break;case 3:if(Mu(t,r),(r&130023424)===r&&(e=BA+500-kr(),10<e)){if(U0(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){so(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=sS(Bc.bind(null,t,yo,wl),e);break}Bc(t,yo,wl);break;case 4:if(Mu(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Xs(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=kr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*NG(r/1960))-r,10<r){t.timeoutHandle=sS(Bc.bind(null,t,yo,wl),r);break}Bc(t,yo,wl);break;case 5:Bc(t,yo,wl);break;default:throw Error(qe(329))}}}return Eo(t,kr()),t.callbackNode===n?H8.bind(null,t):null}function TS(t,e){var n=Mm;return t.current.memoizedState.isDehydrated&&(sf(t,e).flags|=256),t=n1(t,e),t!==2&&(e=yo,yo=n,e!==null&&IS(e)),t}function IS(t){yo===null?yo=t:yo.push.apply(yo,t)}function kG(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!na(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mu(t,e){for(e&=~jA,e&=~Ww,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xs(e),r=1<<n;t[n]=-1,e&=~r}}function sN(t){if(sn&6)throw Error(qe(327));Jd();var e=U0(t,0);if(!(e&1))return Eo(t,kr()),null;var n=n1(t,e);if(t.tag!==0&&n===2){var r=Qx(t);r!==0&&(e=r,n=TS(t,r))}if(n===1)throw n=fg,sf(t,0),Mu(t,e),Eo(t,kr()),n;if(n===6)throw Error(qe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Bc(t,yo,wl),Eo(t,kr()),null}function VA(t,e){var n=sn;sn|=1;try{return t(e)}finally{sn=n,sn===0&&(wh=kr()+500,qw&&mc())}}function wf(t){Bu!==null&&Bu.tag===0&&!(sn&6)&&Jd();var e=sn;sn|=1;var n=xs.transition,r=Tn;try{if(xs.transition=null,Tn=1,t)return t()}finally{Tn=r,xs.transition=n,sn=e,!(sn&6)&&mc()}}function qA(){Vo=Fd.current,Xn(Fd)}function sf(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,aG(n)),$r!==null)for(n=$r.return;n!==null;){var r=n;switch(SA(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&q0();break;case 3:vh(),Xn(xo),Xn(Wi),RA();break;case 5:kA(r);break;case 4:vh();break;case 13:Xn(cr);break;case 19:Xn(cr);break;case 10:IA(r.type._context);break;case 22:case 23:qA()}n=n.return}if(fi=t,$r=t=ec(t.current,null),Ei=Vo=e,Qr=0,fg=null,jA=Ww=yf=0,yo=Mm=null,Qc!==null){for(e=0;e<Qc.length;e++)if(n=Qc[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Qc=null}return t}function G8(t,e){do{var n=$r;try{if(TA(),f0.current=Q0,X0){for(var r=fr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}X0=!1}if(vf=0,li=Xr=fr=null,Rm=!1,lg=0,$A.current=null,n===null||n.return===null){Qr=1,fg=e,$r=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Ei,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=WC(s);if(h!==null){h.flags&=-257,KC(h,s,a,o,e),h.mode&1&&GC(o,u,e),e=h,l=u;var y=e.updateQueue;if(y===null){var b=new Set;b.add(l),e.updateQueue=b}else y.add(l);break e}else{if(!(e&1)){GC(o,u,e),zA();break e}l=Error(qe(426))}}else if(nr&&a.mode&1){var w=WC(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),KC(w,s,a,o,e),EA(yh(l,a));break e}}o=l=yh(l,a),Qr!==4&&(Qr=2),Mm===null?Mm=[o]:Mm.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var _=C8(o,l,e);jC(o,_);break e;case 1:a=l;var S=o.type,E=o.stateNode;if(!(o.flags&128)&&(typeof S.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Qu===null||!Qu.has(E)))){o.flags|=65536,e&=-e,o.lanes|=e;var k=N8(o,a,e);jC(o,k);break e}}o=o.return}while(o!==null)}Y8(n)}catch(R){e=R,$r===n&&n!==null&&($r=n=n.return);continue}break}while(!0)}function W8(){var t=Z0.current;return Z0.current=Q0,t===null?Q0:t}function zA(){(Qr===0||Qr===3||Qr===2)&&(Qr=4),fi===null||!(yf&268435455)&&!(Ww&268435455)||Mu(fi,Ei)}function n1(t,e){var n=sn;sn|=2;var r=W8();(fi!==t||Ei!==e)&&(wl=null,sf(t,e));do try{RG();break}catch(i){G8(t,i)}while(!0);if(TA(),sn=n,Z0.current=r,$r!==null)throw Error(qe(261));return fi=null,Ei=0,Qr}function RG(){for(;$r!==null;)K8($r)}function OG(){for(;$r!==null&&!iH();)K8($r)}function K8(t){var e=X8(t.alternate,t,Vo);t.memoizedProps=t.pendingProps,e===null?Y8(t):$r=e,$A.current=null}function Y8(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=TG(n,e),n!==null){n.flags&=32767,$r=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qr=6,$r=null;return}}else if(n=AG(n,e,Vo),n!==null){$r=n;return}if(e=e.sibling,e!==null){$r=e;return}$r=e=t}while(e!==null);Qr===0&&(Qr=5)}function Bc(t,e,n){var r=Tn,i=xs.transition;try{xs.transition=null,Tn=1,MG(t,e,n,r)}finally{xs.transition=i,Tn=r}return null}function MG(t,e,n,r){do Jd();while(Bu!==null);if(sn&6)throw Error(qe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(qe(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(pH(t,o),t===fi&&($r=fi=null,Ei=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vy||(vy=!0,Q8(F0,function(){return Jd(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=xs.transition,xs.transition=null;var s=Tn;Tn=1;var a=sn;sn|=4,$A.current=null,PG(t,n),q8(n,t),eG(iS),$0=!!rS,iS=rS=null,t.current=n,CG(n),oH(),sn=a,Tn=s,xs.transition=o}else t.current=n;if(vy&&(vy=!1,Bu=t,t1=i),o=t.pendingLanes,o===0&&(Qu=null),lH(n.stateNode),Eo(t,kr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(e1)throw e1=!1,t=ES,ES=null,t;return t1&1&&t.tag!==0&&Jd(),o=t.pendingLanes,o&1?t===AS?Lm++:(Lm=0,AS=t):Lm=0,mc(),null}function Jd(){if(Bu!==null){var t=C6(t1),e=xs.transition,n=Tn;try{if(xs.transition=null,Tn=16>t?16:t,Bu===null)var r=!1;else{if(t=Bu,Bu=null,t1=0,sn&6)throw Error(qe(331));var i=sn;for(sn|=4,Xe=t.current;Xe!==null;){var o=Xe,s=o.child;if(Xe.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Xe=u;Xe!==null;){var c=Xe;switch(c.tag){case 0:case 11:case 15:Om(8,c,o)}var f=c.child;if(f!==null)f.return=c,Xe=f;else for(;Xe!==null;){c=Xe;var d=c.sibling,h=c.return;if(j8(c),c===u){Xe=null;break}if(d!==null){d.return=h,Xe=d;break}Xe=h}}}var y=o.alternate;if(y!==null){var b=y.child;if(b!==null){y.child=null;do{var w=b.sibling;b.sibling=null,b=w}while(b!==null)}}Xe=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Xe=s;else e:for(;Xe!==null;){if(o=Xe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Om(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,Xe=_;break e}Xe=o.return}}var S=t.current;for(Xe=S;Xe!==null;){s=Xe;var E=s.child;if(s.subtreeFlags&2064&&E!==null)E.return=s,Xe=E;else e:for(s=S;Xe!==null;){if(a=Xe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Gw(9,a)}}catch(R){wr(a,a.return,R)}if(a===s){Xe=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,Xe=k;break e}Xe=a.return}}if(sn=i,mc(),Da&&typeof Da.onPostCommitFiberRoot=="function")try{Da.onPostCommitFiberRoot(Uw,t)}catch{}r=!0}return r}finally{Tn=n,xs.transition=e}}return!1}function aN(t,e,n){e=yh(n,e),e=C8(t,e,1),t=Xu(t,e,1),e=so(),t!==null&&(sv(t,1,e),Eo(t,e))}function wr(t,e,n){if(t.tag===3)aN(t,t,n);else for(;e!==null;){if(e.tag===3){aN(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qu===null||!Qu.has(r))){t=yh(n,t),t=N8(e,t,1),e=Xu(e,t,1),t=so(),e!==null&&(sv(e,1,t),Eo(e,t));break}}e=e.return}}function LG(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=so(),t.pingedLanes|=t.suspendedLanes&n,fi===t&&(Ei&n)===n&&(Qr===4||Qr===3&&(Ei&130023424)===Ei&&500>kr()-BA?sf(t,0):jA|=n),Eo(t,e)}function J8(t,e){e===0&&(t.mode&1?(e=ay,ay<<=1,!(ay&130023424)&&(ay=4194304)):e=1);var n=so();t=jl(t,e),t!==null&&(sv(t,e,n),Eo(t,n))}function DG(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),J8(t,n)}function FG(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(qe(314))}r!==null&&r.delete(e),J8(t,n)}var X8;X8=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||xo.current)_o=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _o=!1,EG(t,e,n);_o=!!(t.flags&131072)}else _o=!1,nr&&e.flags&1048576&&t8(e,G0,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;h0(t,e),t=e.pendingProps;var i=ph(e,Wi.current);Yd(e,n),i=MA(null,e,r,t,i,n);var o=LA();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,So(r)?(o=!0,z0(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,CA(e),i.updater=Hw,e.stateNode=i,i._reactInternals=e,hS(e,r,t,n),e=gS(null,e,r,!0,o,n)):(e.tag=0,nr&&o&&xA(e),io(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(h0(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=$G(r),t=zs(r,t),i){case 0:e=mS(null,e,r,t,n);break e;case 1:e=XC(null,e,r,t,n);break e;case 11:e=YC(null,e,r,t,n);break e;case 14:e=JC(null,e,r,zs(r.type,t),n);break e}throw Error(qe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zs(r,i),mS(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zs(r,i),XC(t,e,r,i,n);case 3:e:{if(M8(e),t===null)throw Error(qe(387));r=e.pendingProps,o=e.memoizedState,i=o.element,a8(t,e),Y0(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=yh(Error(qe(423)),e),e=QC(t,e,r,n,i);break e}else if(r!==i){i=yh(Error(qe(424)),e),e=QC(t,e,r,n,i);break e}else for(Ho=Ju(e.stateNode.containerInfo.firstChild),Yo=e,nr=!0,Ws=null,n=o8(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mh(),r===i){e=Bl(t,e,n);break e}io(t,e,r,n)}e=e.child}return e;case 5:return l8(e),t===null&&cS(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,oS(r,i)?s=null:o!==null&&oS(r,o)&&(e.flags|=32),O8(t,e),io(t,e,s,n),e.child;case 6:return t===null&&cS(e),null;case 13:return L8(t,e,n);case 4:return NA(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=gh(e,null,r,n):io(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zs(r,i),YC(t,e,r,i,n);case 7:return io(t,e,e.pendingProps,n),e.child;case 8:return io(t,e,e.pendingProps.children,n),e.child;case 12:return io(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,qn(W0,r._currentValue),r._currentValue=s,o!==null)if(na(o.value,s)){if(o.children===i.children&&!xo.current){e=Bl(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Ol(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),fS(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(qe(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),fS(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}io(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Yd(e,n),i=Ts(i),r=r(i),e.flags|=1,io(t,e,r,n),e.child;case 14:return r=e.type,i=zs(r,e.pendingProps),i=zs(r.type,i),JC(t,e,r,i,n);case 15:return k8(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zs(r,i),h0(t,e),e.tag=1,So(r)?(t=!0,z0(e)):t=!1,Yd(e,n),P8(e,r,i),hS(e,r,i,n),gS(null,e,r,!0,t,n);case 19:return D8(t,e,n);case 22:return R8(t,e,n)}throw Error(qe(156,e.tag))};function Q8(t,e){return A6(t,e)}function UG(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _s(t,e,n,r){return new UG(t,e,n,r)}function HA(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $G(t){if(typeof t=="function")return HA(t)?1:0;if(t!=null){if(t=t.$$typeof,t===cA)return 11;if(t===fA)return 14}return 2}function ec(t,e){var n=t.alternate;return n===null?(n=_s(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function g0(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")HA(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Id:return af(n.children,i,o,e);case uA:s=8,i|=8;break;case Fx:return t=_s(12,n,e,i|2),t.elementType=Fx,t.lanes=o,t;case Ux:return t=_s(13,n,e,i),t.elementType=Ux,t.lanes=o,t;case $x:return t=_s(19,n,e,i),t.elementType=$x,t.lanes=o,t;case l6:return Kw(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case s6:s=10;break e;case a6:s=9;break e;case cA:s=11;break e;case fA:s=14;break e;case Nu:s=16,r=null;break e}throw Error(qe(130,t==null?t:typeof t,""))}return e=_s(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function af(t,e,n,r){return t=_s(7,t,r,e),t.lanes=n,t}function Kw(t,e,n,r){return t=_s(22,t,r,e),t.elementType=l6,t.lanes=n,t.stateNode={isHidden:!1},t}function cb(t,e,n){return t=_s(6,t,null,e),t.lanes=n,t}function fb(t,e,n){return e=_s(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jG(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=H2(0),this.expirationTimes=H2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=H2(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function GA(t,e,n,r,i,o,s,a,l){return t=new jG(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=_s(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},CA(o),t}function BG(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Td,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Z8(t){if(!t)return sc;t=t._reactInternals;e:{if(Df(t)!==t||t.tag!==1)throw Error(qe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(So(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(qe(171))}if(t.tag===1){var n=t.type;if(So(n))return Z6(t,n,e)}return e}function eF(t,e,n,r,i,o,s,a,l){return t=GA(n,r,!0,t,i,o,s,a,l),t.context=Z8(null),n=t.current,r=so(),i=Zu(n),o=Ol(r,i),o.callback=e??null,Xu(n,o,i),t.current.lanes=i,sv(t,i,r),Eo(t,r),t}function Yw(t,e,n,r){var i=e.current,o=so(),s=Zu(i);return n=Z8(n),e.context===null?e.context=n:e.pendingContext=n,e=Ol(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Xu(i,e,s),t!==null&&(Qs(t,i,s,o),c0(t,i,s)),s}function r1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lN(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function WA(t,e){lN(t,e),(t=t.alternate)&&lN(t,e)}function VG(){return null}var tF=typeof reportError=="function"?reportError:function(t){console.error(t)};function KA(t){this._internalRoot=t}Jw.prototype.render=KA.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(qe(409));Yw(t,e,null,null)};Jw.prototype.unmount=KA.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;wf(function(){Yw(null,t,null,null)}),e[$l]=null}};function Jw(t){this._internalRoot=t}Jw.prototype.unstable_scheduleHydration=function(t){if(t){var e=R6();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ou.length&&e!==0&&e<Ou[n].priority;n++);Ou.splice(n,0,t),n===0&&M6(t)}};function YA(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function uN(){}function qG(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=r1(s);o.call(u)}}var s=eF(e,r,t,0,null,!1,!1,"",uN);return t._reactRootContainer=s,t[$l]=s.current,rg(t.nodeType===8?t.parentNode:t),wf(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=r1(l);a.call(u)}}var l=GA(t,0,!1,null,null,!1,!1,"",uN);return t._reactRootContainer=l,t[$l]=l.current,rg(t.nodeType===8?t.parentNode:t),wf(function(){Yw(e,l,n,r)}),l}function Qw(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=r1(s);a.call(l)}}Yw(e,s,t,i)}else s=qG(n,e,t,i,r);return r1(s)}N6=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=vm(e.pendingLanes);n!==0&&(pA(e,n|1),Eo(e,kr()),!(sn&6)&&(wh=kr()+500,mc()))}break;case 13:wf(function(){var r=jl(t,1);if(r!==null){var i=so();Qs(r,t,1,i)}}),WA(t,1)}};mA=function(t){if(t.tag===13){var e=jl(t,134217728);if(e!==null){var n=so();Qs(e,t,134217728,n)}WA(t,134217728)}};k6=function(t){if(t.tag===13){var e=Zu(t),n=jl(t,e);if(n!==null){var r=so();Qs(n,t,e,r)}WA(t,e)}};R6=function(){return Tn};O6=function(t,e){var n=Tn;try{return Tn=t,e()}finally{Tn=n}};Yx=function(t,e,n){switch(e){case"input":if(Vx(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Vw(r);if(!i)throw Error(qe(90));c6(r),Vx(r,i)}}}break;case"textarea":d6(t,n);break;case"select":e=n.value,e!=null&&Hd(t,!!n.multiple,e,!1)}};w6=VA;_6=wf;var zG={usingClientEntryPoint:!1,Events:[lv,kd,Vw,v6,y6,VA]},Kp={findFiberByHostInstance:Xc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HG={bundleType:Kp.bundleType,version:Kp.version,rendererPackageName:Kp.rendererPackageName,rendererConfig:Kp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=S6(t),t===null?null:t.stateNode},findFiberByHostInstance:Kp.findFiberByHostInstance||VG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yy.isDisabled&&yy.supportsFiber)try{Uw=yy.inject(HG),Da=yy}catch{}}Xo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zG;Xo.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!YA(e))throw Error(qe(200));return BG(t,e,null,n)};Xo.createRoot=function(t,e){if(!YA(t))throw Error(qe(299));var n=!1,r="",i=tF;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=GA(t,1,!1,null,null,n,!1,r,i),t[$l]=e.current,rg(t.nodeType===8?t.parentNode:t),new KA(e)};Xo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(qe(188)):(t=Object.keys(t).join(","),Error(qe(268,t)));return t=S6(e),t=t===null?null:t.stateNode,t};Xo.flushSync=function(t){return wf(t)};Xo.hydrate=function(t,e,n){if(!Xw(e))throw Error(qe(200));return Qw(null,t,e,!0,n)};Xo.hydrateRoot=function(t,e,n){if(!YA(t))throw Error(qe(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=tF;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=eF(e,null,t,1,n??null,i,!1,o,s),t[$l]=e.current,rg(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Jw(e)};Xo.render=function(t,e,n){if(!Xw(e))throw Error(qe(200));return Qw(null,t,e,!1,n)};Xo.unmountComponentAtNode=function(t){if(!Xw(t))throw Error(qe(40));return t._reactRootContainer?(wf(function(){Qw(null,null,t,!1,function(){t._reactRootContainer=null,t[$l]=null})}),!0):!1};Xo.unstable_batchedUpdates=VA;Xo.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Xw(n))throw Error(qe(200));if(t==null||t._reactInternals===void 0)throw Error(qe(38));return Qw(t,e,n,!1,r)};Xo.version="18.3.1-next-f1338f8080-20240426";function nF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nF)}catch(t){console.error(t)}}nF(),n6.exports=Xo;var GG=n6.exports,cN=GG;Lx.createRoot=cN.createRoot,Lx.hydrateRoot=cN.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dg(){return dg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dg.apply(this,arguments)}var Vu;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Vu||(Vu={}));const fN="popstate";function WG(t){t===void 0&&(t={});function e(i,o){let{pathname:s="/",search:a="",hash:l=""}=Ff(i.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),PS("",{pathname:s,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof o=="string"?o:rF(o))}function r(i,o){Zw(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return YG(e,n,r,t)}function Vr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Zw(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KG(){return Math.random().toString(36).substr(2,8)}function dN(t,e){return{usr:t.state,key:t.key,idx:e}}function PS(t,e,n,r){return n===void 0&&(n=null),dg({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ff(e):e,{state:n,key:e&&e.key||r||KG()})}function rF(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ff(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function YG(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Vu.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(dg({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function f(){a=Vu.Pop;let w=c(),_=w==null?null:w-u;u=w,l&&l({action:a,location:b.location,delta:_})}function d(w,_){a=Vu.Push;let S=PS(b.location,w,_);n&&n(S,w),u=c()+1;let E=dN(S,u),k=b.createHref(S);try{s.pushState(E,"",k)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(k)}o&&l&&l({action:a,location:b.location,delta:1})}function h(w,_){a=Vu.Replace;let S=PS(b.location,w,_);n&&n(S,w),u=c();let E=dN(S,u),k=b.createHref(S);s.replaceState(E,"",k),o&&l&&l({action:a,location:b.location,delta:0})}function y(w){let _=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof w=="string"?w:rF(w);return S=S.replace(/ $/,"%20"),Vr(_,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,_)}let b={get action(){return a},get location(){return t(i,s)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(fN,f),l=w,()=>{i.removeEventListener(fN,f),l=null}},createHref(w){return e(i,w)},createURL:y,encodeLocation(w){let _=y(w);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:d,replace:h,go(w){return s.go(w)}};return b}var hN;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(hN||(hN={}));function JG(t,e,n){return n===void 0&&(n="/"),XG(t,e,n)}function XG(t,e,n,r){let i=typeof e=="string"?Ff(e):e,o=sF(i.pathname||"/",n);if(o==null)return null;let s=iF(t);QG(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=cW(o);a=aW(s[l],u)}return a}function iF(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Vr(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=lf([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(Vr(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),iF(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:oW(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of oF(o.path))i(o,s,l)}),e}function oF(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=oF(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function QG(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:sW(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ZG=/^:[\w-]+$/,eW=3,tW=2,nW=1,rW=10,iW=-2,pN=t=>t==="*";function oW(t,e){let n=t.split("/"),r=n.length;return n.some(pN)&&(r+=iW),e&&(r+=tW),n.filter(i=>!pN(i)).reduce((i,o)=>i+(ZG.test(o)?eW:o===""?nW:rW),r)}function sW(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function aW(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",f=lW({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:lf([o,f.pathname]),pathnameBase:mW(lf([o,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(o=lf([o,f.pathnameBase]))}return s}function lW(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=uW(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:d,isOptional:h}=c;if(d==="*"){let b=a[f]||"";s=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const y=a[f];return h&&!y?u[d]=void 0:u[d]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function uW(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Zw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function cW(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function sF(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const fW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dW=t=>fW.test(t);function hW(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ff(t):t,o;if(n)if(dW(n))o=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),Zw(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+n))}n.startsWith("/")?o=mN(n.substring(1),"/"):o=mN(n,e)}else o=e;return{pathname:o,search:gW(r),hash:vW(i)}}function mN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function db(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function pW(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function aF(t,e){let n=pW(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function lF(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ff(t):(i=dg({},t),Vr(!i.pathname||!i.pathname.includes("?"),db("?","pathname","search",i)),Vr(!i.pathname||!i.pathname.includes("#"),db("#","pathname","hash",i)),Vr(!i.search||!i.search.includes("#"),db("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?e[f]:"/"}let l=hW(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const lf=t=>t.join("/").replace(/\/\/+/g,"/"),mW=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),gW=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vW=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function yW(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const uF=["post","put","patch","delete"];new Set(uF);const wW=["get",...uF];new Set(wW);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hg(){return hg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hg.apply(this,arguments)}const JA=fe.createContext(null),_W=fe.createContext(null),cv=fe.createContext(null),e_=fe.createContext(null),Uf=fe.createContext({outlet:null,matches:[],isDataRoute:!1}),cF=fe.createContext(null);function fv(){return fe.useContext(e_)!=null}function dv(){return fv()||Vr(!1),fe.useContext(e_).location}function fF(t){fe.useContext(cv).static||fe.useLayoutEffect(t)}function XA(){let{isDataRoute:t}=fe.useContext(Uf);return t?OW():bW()}function bW(){fv()||Vr(!1);let t=fe.useContext(JA),{basename:e,future:n,navigator:r}=fe.useContext(cv),{matches:i}=fe.useContext(Uf),{pathname:o}=dv(),s=JSON.stringify(aF(i,n.v7_relativeSplatPath)),a=fe.useRef(!1);return fF(()=>{a.current=!0}),fe.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=lF(u,JSON.parse(s),o,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:lf([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,s,o,t])}function xW(t,e){return SW(t,e)}function SW(t,e,n,r){fv()||Vr(!1);let{navigator:i}=fe.useContext(cv),{matches:o}=fe.useContext(Uf),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=dv(),c;if(e){var f;let w=typeof e=="string"?Ff(e):e;l==="/"||(f=w.pathname)!=null&&f.startsWith(l)||Vr(!1),c=w}else c=u;let d=c.pathname||"/",h=d;if(l!=="/"){let w=l.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=JG(t,{pathname:h}),b=PW(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:lf([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:lf([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return e&&b?fe.createElement(e_.Provider,{value:{location:hg({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Vu.Pop}},b):b}function EW(){let t=RW(),e=yW(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return fe.createElement(fe.Fragment,null,fe.createElement("h2",null,"Unexpected Application Error!"),fe.createElement("h3",{style:{fontStyle:"italic"}},e),n?fe.createElement("pre",{style:i},n):null,null)}const AW=fe.createElement(EW,null);class TW extends fe.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?fe.createElement(Uf.Provider,{value:this.props.routeContext},fe.createElement(cF.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function IW(t){let{routeContext:e,match:n,children:r}=t,i=fe.useContext(JA);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),fe.createElement(Uf.Provider,{value:e},r)}function PW(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);c>=0||Vr(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let f=s[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:d,errors:h}=n,y=f.route.loader&&d[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||y){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,f,d)=>{let h,y=!1,b=null,w=null;n&&(h=a&&f.route.id?a[f.route.id]:void 0,b=f.route.errorElement||AW,l&&(u<0&&d===0?(MW("route-fallback"),y=!0,w=null):u===d&&(y=!0,w=f.route.hydrateFallbackElement||null)));let _=e.concat(s.slice(0,d+1)),S=()=>{let E;return h?E=b:y?E=w:f.route.Component?E=fe.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=c,fe.createElement(IW,{match:f,routeContext:{outlet:c,matches:_,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?fe.createElement(TW,{location:n.location,revalidation:n.revalidation,component:b,error:h,children:S(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):S()},null)}var dF=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(dF||{}),hF=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(hF||{});function CW(t){let e=fe.useContext(JA);return e||Vr(!1),e}function NW(t){let e=fe.useContext(_W);return e||Vr(!1),e}function kW(t){let e=fe.useContext(Uf);return e||Vr(!1),e}function pF(t){let e=kW(),n=e.matches[e.matches.length-1];return n.route.id||Vr(!1),n.route.id}function RW(){var t;let e=fe.useContext(cF),n=NW(),r=pF();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function OW(){let{router:t}=CW(dF.UseNavigateStable),e=pF(hF.UseNavigateStable),n=fe.useRef(!1);return fF(()=>{n.current=!0}),fe.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,hg({fromRouteId:e},o)))},[t,e])}const gN={};function MW(t,e,n){gN[t]||(gN[t]=!0)}function LW(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function CS(t){let{to:e,replace:n,state:r,relative:i}=t;fv()||Vr(!1);let{future:o,static:s}=fe.useContext(cv),{matches:a}=fe.useContext(Uf),{pathname:l}=dv(),u=XA(),c=lF(e,aF(a,o.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(c);return fe.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function yl(t){Vr(!1)}function DW(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Vu.Pop,navigator:o,static:s=!1,future:a}=t;fv()&&Vr(!1);let l=e.replace(/^\/*/,"/"),u=fe.useMemo(()=>({basename:l,navigator:o,static:s,future:hg({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=Ff(r));let{pathname:c="/",search:f="",hash:d="",state:h=null,key:y="default"}=r,b=fe.useMemo(()=>{let w=sF(c,l);return w==null?null:{location:{pathname:w,search:f,hash:d,state:h,key:y},navigationType:i}},[l,c,f,d,h,y,i]);return b==null?null:fe.createElement(cv.Provider,{value:u},fe.createElement(e_.Provider,{children:n,value:b}))}function FW(t){let{children:e,location:n}=t;return xW(NS(e),n)}new Promise(()=>{});function NS(t,e){e===void 0&&(e=[]);let n=[];return fe.Children.forEach(t,(r,i)=>{if(!fe.isValidElement(r))return;let o=[...e,i];if(r.type===fe.Fragment){n.push.apply(n,NS(r.props.children,o));return}r.type!==yl&&Vr(!1),!r.props.index||!r.props.children||Vr(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=NS(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const UW="6";try{window.__reactRouterVersion=UW}catch{}const $W="startTransition",vN=Lz[$W];function jW(t){let{basename:e,children:n,future:r,window:i}=t,o=fe.useRef();o.current==null&&(o.current=WG({window:i,v5Compat:!0}));let s=o.current,[a,l]=fe.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},c=fe.useCallback(f=>{u&&vN?vN(()=>l(f)):l(f)},[l,u]);return fe.useLayoutEffect(()=>s.listen(c),[s,c]),fe.useEffect(()=>LW(r),[r]),fe.createElement(DW,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}var yN;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(yN||(yN={}));var wN;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(wN||(wN={}));var ln=(t=>(t.ADMIN="ADMIN",t.EMPLOYEE="EMPLOYEE",t))(ln||{}),_N={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},BW=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},gF={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,f=(o&3)<<4|a>>4;let d=(a&15)<<2|u>>6,h=u&63;l||(h=64,s||(d=64)),r.push(n[c],n[f],n[d],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(mF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):BW(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new VW;const d=o<<2|a>>4;if(r.push(d),u!==64){const h=a<<4&240|u>>2;if(r.push(h),f!==64){const y=u<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class VW extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qW=function(t){const e=mF(t);return gF.encodeByteArray(e,!0)},i1=function(t){return qW(t).replace(/\./g,"")},vF=function(t){try{return gF.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zW(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HW=()=>zW().__FIREBASE_DEFAULTS__,GW=()=>{if(typeof process>"u"||typeof _N>"u")return;const t=_N.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},WW=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&vF(t[1]);return e&&JSON.parse(e)},t_=()=>{try{return HW()||GW()||WW()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yF=t=>{var e,n;return(n=(e=t_())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},wF=t=>{const e=yF(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_F=()=>{var t;return(t=t_())===null||t===void 0?void 0:t.config},bF=t=>{var e;return(e=t_())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[i1(JSON.stringify(n)),i1(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YW(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ki())}function JW(){var t;const e=(t=t_())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XW(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QW(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ZW(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eK(){const t=Ki();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tK(){return!JW()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nK(){try{return typeof indexedDB=="object"}catch{return!1}}function rK(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iK="FirebaseError";class Ja extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=iK,Object.setPrototypeOf(this,Ja.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hv.prototype.create)}}class hv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?oK(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ja(i,a,r)}}function oK(t,e){return t.replace(sK,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const sK=/\{\$([^}]+)}/g;function aK(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function o1(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(bN(o)&&bN(s)){if(!o1(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function bN(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wm(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function _m(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function lK(t,e){const n=new uK(t,e);return n.subscribe.bind(n)}class uK{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");cK(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=hb),i.error===void 0&&(i.error=hb),i.complete===void 0&&(i.complete=hb);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cK(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function hb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(t){return t&&t._delegate?t._delegate:t}class ac{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fK{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new KW;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hK(e))try{this.getOrInitializeService({instanceIdentifier:Vc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Vc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vc){return this.instances.has(e)}getOptions(e=Vc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dK(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vc){return this.component?this.component.multipleInstances?e:Vc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dK(t){return t===Vc?void 0:t}function hK(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fK(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(en||(en={}));const mK={debug:en.DEBUG,verbose:en.VERBOSE,info:en.INFO,warn:en.WARN,error:en.ERROR,silent:en.SILENT},gK=en.INFO,vK={[en.DEBUG]:"log",[en.VERBOSE]:"log",[en.INFO]:"info",[en.WARN]:"warn",[en.ERROR]:"error"},yK=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=vK[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class QA{constructor(e){this.name=e,this._logLevel=gK,this._logHandler=yK,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in en))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mK[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,en.DEBUG,...e),this._logHandler(this,en.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,en.VERBOSE,...e),this._logHandler(this,en.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,en.INFO,...e),this._logHandler(this,en.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,en.WARN,...e),this._logHandler(this,en.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,en.ERROR,...e),this._logHandler(this,en.ERROR,...e)}}const wK=(t,e)=>e.some(n=>t instanceof n);let xN,SN;function _K(){return xN||(xN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bK(){return SN||(SN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SF=new WeakMap,kS=new WeakMap,EF=new WeakMap,pb=new WeakMap,ZA=new WeakMap;function xK(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(tc(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&SF.set(n,t)}).catch(()=>{}),ZA.set(e,t),e}function SK(t){if(kS.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});kS.set(t,e)}let RS={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return kS.get(t);if(e==="objectStoreNames")return t.objectStoreNames||EF.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return tc(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function EK(t){RS=t(RS)}function AK(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(mb(this),e,...n);return EF.set(r,e.sort?e.sort():[e]),tc(r)}:bK().includes(t)?function(...e){return t.apply(mb(this),e),tc(SF.get(this))}:function(...e){return tc(t.apply(mb(this),e))}}function TK(t){return typeof t=="function"?AK(t):(t instanceof IDBTransaction&&SK(t),wK(t,_K())?new Proxy(t,RS):t)}function tc(t){if(t instanceof IDBRequest)return xK(t);if(pb.has(t))return pb.get(t);const e=TK(t);return e!==t&&(pb.set(t,e),ZA.set(e,t)),e}const mb=t=>ZA.get(t);function IK(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=tc(s);return r&&s.addEventListener("upgradeneeded",l=>{r(tc(s.result),l.oldVersion,l.newVersion,tc(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const PK=["get","getKey","getAll","getAllKeys","count"],CK=["put","add","delete","clear"],gb=new Map;function EN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gb.get(e))return gb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=CK.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||PK.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return gb.set(e,o),o}EK(t=>({...t,get:(e,n,r)=>EN(e,n)||t.get(e,n,r),has:(e,n)=>!!EN(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kK(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kK(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const OS="@firebase/app",AN="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=new QA("@firebase/app"),RK="@firebase/app-compat",OK="@firebase/analytics-compat",MK="@firebase/analytics",LK="@firebase/app-check-compat",DK="@firebase/app-check",FK="@firebase/auth",UK="@firebase/auth-compat",$K="@firebase/database",jK="@firebase/data-connect",BK="@firebase/database-compat",VK="@firebase/functions",qK="@firebase/functions-compat",zK="@firebase/installations",HK="@firebase/installations-compat",GK="@firebase/messaging",WK="@firebase/messaging-compat",KK="@firebase/performance",YK="@firebase/performance-compat",JK="@firebase/remote-config",XK="@firebase/remote-config-compat",QK="@firebase/storage",ZK="@firebase/storage-compat",eY="@firebase/firestore",tY="@firebase/vertexai-preview",nY="@firebase/firestore-compat",rY="firebase",iY="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS="[DEFAULT]",oY={[OS]:"fire-core",[RK]:"fire-core-compat",[MK]:"fire-analytics",[OK]:"fire-analytics-compat",[DK]:"fire-app-check",[LK]:"fire-app-check-compat",[FK]:"fire-auth",[UK]:"fire-auth-compat",[$K]:"fire-rtdb",[jK]:"fire-data-connect",[BK]:"fire-rtdb-compat",[VK]:"fire-fn",[qK]:"fire-fn-compat",[zK]:"fire-iid",[HK]:"fire-iid-compat",[GK]:"fire-fcm",[WK]:"fire-fcm-compat",[KK]:"fire-perf",[YK]:"fire-perf-compat",[JK]:"fire-rc",[XK]:"fire-rc-compat",[QK]:"fire-gcs",[ZK]:"fire-gcs-compat",[eY]:"fire-fst",[nY]:"fire-fst-compat",[tY]:"fire-vertex","fire-js":"fire-js",[rY]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=new Map,sY=new Map,LS=new Map;function TN(t,e){try{t.container.addComponent(e)}catch(n){Vl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _f(t){const e=t.name;if(LS.has(e))return Vl.debug(`There were multiple attempts to register component ${e}.`),!1;LS.set(e,t);for(const n of s1.values())TN(n,t);for(const n of sY.values())TN(n,t);return!0}function n_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ys(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aY={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},nc=new hv("app","Firebase",aY);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lY{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ac("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f=iY;function AF(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:MS,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw nc.create("bad-app-name",{appName:String(i)});if(n||(n=_F()),!n)throw nc.create("no-options");const o=s1.get(i);if(o){if(o1(n,o.options)&&o1(r,o.config))return o;throw nc.create("duplicate-app",{appName:i})}const s=new pK(i);for(const l of LS.values())s.addComponent(l);const a=new lY(n,r,s);return s1.set(i,a),a}function eT(t=MS){const e=s1.get(t);if(!e&&t===MS&&_F())return AF();if(!e)throw nc.create("no-app",{appName:t});return e}function Ua(t,e,n){var r;let i=(r=oY[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vl.warn(a.join(" "));return}_f(new ac(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uY="firebase-heartbeat-database",cY=1,pg="firebase-heartbeat-store";let vb=null;function TF(){return vb||(vb=IK(uY,cY,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(pg)}catch(n){console.warn(n)}}}}).catch(t=>{throw nc.create("idb-open",{originalErrorMessage:t.message})})),vb}async function fY(t){try{const n=(await TF()).transaction(pg),r=await n.objectStore(pg).get(IF(t));return await n.done,r}catch(e){if(e instanceof Ja)Vl.warn(e.message);else{const n=nc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vl.warn(n.message)}}}async function IN(t,e){try{const r=(await TF()).transaction(pg,"readwrite");await r.objectStore(pg).put(e,IF(t)),await r.done}catch(n){if(n instanceof Ja)Vl.warn(n.message);else{const r=nc.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vl.warn(r.message)}}}function IF(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dY=1024,hY=30*24*60*60*1e3;class pY{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gY(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=PN();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=hY}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Vl.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=PN(),{heartbeatsToSend:r,unsentEntries:i}=mY(this._heartbeatsCache.heartbeats),o=i1(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Vl.warn(n),""}}}function PN(){return new Date().toISOString().substring(0,10)}function mY(t,e=dY){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),CN(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),CN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class gY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nK()?rK().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fY(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return IN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return IN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function CN(t){return i1(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vY(t){_f(new ac("platform-logger",e=>new NK(e),"PRIVATE")),_f(new ac("heartbeat",e=>new pY(e),"PRIVATE")),Ua(OS,AN,t),Ua(OS,AN,"esm2017"),Ua("fire-js","")}vY("");var NN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uf,PF;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,C){function T(){}T.prototype=C.prototype,N.D=C.prototype,N.prototype=new T,N.prototype.constructor=N,N.C=function($,P,D){for(var U=Array(arguments.length-2),W=2;W<arguments.length;W++)U[W-2]=arguments[W];return C.prototype[P].apply($,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,C,T){T||(T=0);var $=Array(16);if(typeof C=="string")for(var P=0;16>P;++P)$[P]=C.charCodeAt(T++)|C.charCodeAt(T++)<<8|C.charCodeAt(T++)<<16|C.charCodeAt(T++)<<24;else for(P=0;16>P;++P)$[P]=C[T++]|C[T++]<<8|C[T++]<<16|C[T++]<<24;C=N.g[0],T=N.g[1],P=N.g[2];var D=N.g[3],U=C+(D^T&(P^D))+$[0]+3614090360&4294967295;C=T+(U<<7&4294967295|U>>>25),U=D+(P^C&(T^P))+$[1]+3905402710&4294967295,D=C+(U<<12&4294967295|U>>>20),U=P+(T^D&(C^T))+$[2]+606105819&4294967295,P=D+(U<<17&4294967295|U>>>15),U=T+(C^P&(D^C))+$[3]+3250441966&4294967295,T=P+(U<<22&4294967295|U>>>10),U=C+(D^T&(P^D))+$[4]+4118548399&4294967295,C=T+(U<<7&4294967295|U>>>25),U=D+(P^C&(T^P))+$[5]+1200080426&4294967295,D=C+(U<<12&4294967295|U>>>20),U=P+(T^D&(C^T))+$[6]+2821735955&4294967295,P=D+(U<<17&4294967295|U>>>15),U=T+(C^P&(D^C))+$[7]+4249261313&4294967295,T=P+(U<<22&4294967295|U>>>10),U=C+(D^T&(P^D))+$[8]+1770035416&4294967295,C=T+(U<<7&4294967295|U>>>25),U=D+(P^C&(T^P))+$[9]+2336552879&4294967295,D=C+(U<<12&4294967295|U>>>20),U=P+(T^D&(C^T))+$[10]+4294925233&4294967295,P=D+(U<<17&4294967295|U>>>15),U=T+(C^P&(D^C))+$[11]+2304563134&4294967295,T=P+(U<<22&4294967295|U>>>10),U=C+(D^T&(P^D))+$[12]+1804603682&4294967295,C=T+(U<<7&4294967295|U>>>25),U=D+(P^C&(T^P))+$[13]+4254626195&4294967295,D=C+(U<<12&4294967295|U>>>20),U=P+(T^D&(C^T))+$[14]+2792965006&4294967295,P=D+(U<<17&4294967295|U>>>15),U=T+(C^P&(D^C))+$[15]+1236535329&4294967295,T=P+(U<<22&4294967295|U>>>10),U=C+(P^D&(T^P))+$[1]+4129170786&4294967295,C=T+(U<<5&4294967295|U>>>27),U=D+(T^P&(C^T))+$[6]+3225465664&4294967295,D=C+(U<<9&4294967295|U>>>23),U=P+(C^T&(D^C))+$[11]+643717713&4294967295,P=D+(U<<14&4294967295|U>>>18),U=T+(D^C&(P^D))+$[0]+3921069994&4294967295,T=P+(U<<20&4294967295|U>>>12),U=C+(P^D&(T^P))+$[5]+3593408605&4294967295,C=T+(U<<5&4294967295|U>>>27),U=D+(T^P&(C^T))+$[10]+38016083&4294967295,D=C+(U<<9&4294967295|U>>>23),U=P+(C^T&(D^C))+$[15]+3634488961&4294967295,P=D+(U<<14&4294967295|U>>>18),U=T+(D^C&(P^D))+$[4]+3889429448&4294967295,T=P+(U<<20&4294967295|U>>>12),U=C+(P^D&(T^P))+$[9]+568446438&4294967295,C=T+(U<<5&4294967295|U>>>27),U=D+(T^P&(C^T))+$[14]+3275163606&4294967295,D=C+(U<<9&4294967295|U>>>23),U=P+(C^T&(D^C))+$[3]+4107603335&4294967295,P=D+(U<<14&4294967295|U>>>18),U=T+(D^C&(P^D))+$[8]+1163531501&4294967295,T=P+(U<<20&4294967295|U>>>12),U=C+(P^D&(T^P))+$[13]+2850285829&4294967295,C=T+(U<<5&4294967295|U>>>27),U=D+(T^P&(C^T))+$[2]+4243563512&4294967295,D=C+(U<<9&4294967295|U>>>23),U=P+(C^T&(D^C))+$[7]+1735328473&4294967295,P=D+(U<<14&4294967295|U>>>18),U=T+(D^C&(P^D))+$[12]+2368359562&4294967295,T=P+(U<<20&4294967295|U>>>12),U=C+(T^P^D)+$[5]+4294588738&4294967295,C=T+(U<<4&4294967295|U>>>28),U=D+(C^T^P)+$[8]+2272392833&4294967295,D=C+(U<<11&4294967295|U>>>21),U=P+(D^C^T)+$[11]+1839030562&4294967295,P=D+(U<<16&4294967295|U>>>16),U=T+(P^D^C)+$[14]+4259657740&4294967295,T=P+(U<<23&4294967295|U>>>9),U=C+(T^P^D)+$[1]+2763975236&4294967295,C=T+(U<<4&4294967295|U>>>28),U=D+(C^T^P)+$[4]+1272893353&4294967295,D=C+(U<<11&4294967295|U>>>21),U=P+(D^C^T)+$[7]+4139469664&4294967295,P=D+(U<<16&4294967295|U>>>16),U=T+(P^D^C)+$[10]+3200236656&4294967295,T=P+(U<<23&4294967295|U>>>9),U=C+(T^P^D)+$[13]+681279174&4294967295,C=T+(U<<4&4294967295|U>>>28),U=D+(C^T^P)+$[0]+3936430074&4294967295,D=C+(U<<11&4294967295|U>>>21),U=P+(D^C^T)+$[3]+3572445317&4294967295,P=D+(U<<16&4294967295|U>>>16),U=T+(P^D^C)+$[6]+76029189&4294967295,T=P+(U<<23&4294967295|U>>>9),U=C+(T^P^D)+$[9]+3654602809&4294967295,C=T+(U<<4&4294967295|U>>>28),U=D+(C^T^P)+$[12]+3873151461&4294967295,D=C+(U<<11&4294967295|U>>>21),U=P+(D^C^T)+$[15]+530742520&4294967295,P=D+(U<<16&4294967295|U>>>16),U=T+(P^D^C)+$[2]+3299628645&4294967295,T=P+(U<<23&4294967295|U>>>9),U=C+(P^(T|~D))+$[0]+4096336452&4294967295,C=T+(U<<6&4294967295|U>>>26),U=D+(T^(C|~P))+$[7]+1126891415&4294967295,D=C+(U<<10&4294967295|U>>>22),U=P+(C^(D|~T))+$[14]+2878612391&4294967295,P=D+(U<<15&4294967295|U>>>17),U=T+(D^(P|~C))+$[5]+4237533241&4294967295,T=P+(U<<21&4294967295|U>>>11),U=C+(P^(T|~D))+$[12]+1700485571&4294967295,C=T+(U<<6&4294967295|U>>>26),U=D+(T^(C|~P))+$[3]+2399980690&4294967295,D=C+(U<<10&4294967295|U>>>22),U=P+(C^(D|~T))+$[10]+4293915773&4294967295,P=D+(U<<15&4294967295|U>>>17),U=T+(D^(P|~C))+$[1]+2240044497&4294967295,T=P+(U<<21&4294967295|U>>>11),U=C+(P^(T|~D))+$[8]+1873313359&4294967295,C=T+(U<<6&4294967295|U>>>26),U=D+(T^(C|~P))+$[15]+4264355552&4294967295,D=C+(U<<10&4294967295|U>>>22),U=P+(C^(D|~T))+$[6]+2734768916&4294967295,P=D+(U<<15&4294967295|U>>>17),U=T+(D^(P|~C))+$[13]+1309151649&4294967295,T=P+(U<<21&4294967295|U>>>11),U=C+(P^(T|~D))+$[4]+4149444226&4294967295,C=T+(U<<6&4294967295|U>>>26),U=D+(T^(C|~P))+$[11]+3174756917&4294967295,D=C+(U<<10&4294967295|U>>>22),U=P+(C^(D|~T))+$[2]+718787259&4294967295,P=D+(U<<15&4294967295|U>>>17),U=T+(D^(P|~C))+$[9]+3951481745&4294967295,N.g[0]=N.g[0]+C&4294967295,N.g[1]=N.g[1]+(P+(U<<21&4294967295|U>>>11))&4294967295,N.g[2]=N.g[2]+P&4294967295,N.g[3]=N.g[3]+D&4294967295}r.prototype.u=function(N,C){C===void 0&&(C=N.length);for(var T=C-this.blockSize,$=this.B,P=this.h,D=0;D<C;){if(P==0)for(;D<=T;)i(this,N,D),D+=this.blockSize;if(typeof N=="string"){for(;D<C;)if($[P++]=N.charCodeAt(D++),P==this.blockSize){i(this,$),P=0;break}}else for(;D<C;)if($[P++]=N[D++],P==this.blockSize){i(this,$),P=0;break}}this.h=P,this.o+=C},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var C=1;C<N.length-8;++C)N[C]=0;var T=8*this.o;for(C=N.length-8;C<N.length;++C)N[C]=T&255,T/=256;for(this.u(N),N=Array(16),C=T=0;4>C;++C)for(var $=0;32>$;$+=8)N[T++]=this.g[C]>>>$&255;return N};function o(N,C){var T=a;return Object.prototype.hasOwnProperty.call(T,N)?T[N]:T[N]=C(N)}function s(N,C){this.h=C;for(var T=[],$=!0,P=N.length-1;0<=P;P--){var D=N[P]|0;$&&D==C||(T[P]=D,$=!1)}this.g=T}var a={};function l(N){return-128<=N&&128>N?o(N,function(C){return new s([C|0],0>C?-1:0)}):new s([N|0],0>N?-1:0)}function u(N){if(isNaN(N)||!isFinite(N))return f;if(0>N)return w(u(-N));for(var C=[],T=1,$=0;N>=T;$++)C[$]=N/T|0,T*=4294967296;return new s(C,0)}function c(N,C){if(N.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(N.charAt(0)=="-")return w(c(N.substring(1),C));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=u(Math.pow(C,8)),$=f,P=0;P<N.length;P+=8){var D=Math.min(8,N.length-P),U=parseInt(N.substring(P,P+D),C);8>D?(D=u(Math.pow(C,D)),$=$.j(D).add(u(U))):($=$.j(T),$=$.add(u(U)))}return $}var f=l(0),d=l(1),h=l(16777216);t=s.prototype,t.m=function(){if(b(this))return-w(this).m();for(var N=0,C=1,T=0;T<this.g.length;T++){var $=this.i(T);N+=(0<=$?$:4294967296+$)*C,C*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(y(this))return"0";if(b(this))return"-"+w(this).toString(N);for(var C=u(Math.pow(N,6)),T=this,$="";;){var P=k(T,C).g;T=_(T,P.j(C));var D=((0<T.g.length?T.g[0]:T.h)>>>0).toString(N);if(T=P,y(T))return D+$;for(;6>D.length;)D="0"+D;$=D+$}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function y(N){if(N.h!=0)return!1;for(var C=0;C<N.g.length;C++)if(N.g[C]!=0)return!1;return!0}function b(N){return N.h==-1}t.l=function(N){return N=_(this,N),b(N)?-1:y(N)?0:1};function w(N){for(var C=N.g.length,T=[],$=0;$<C;$++)T[$]=~N.g[$];return new s(T,~N.h).add(d)}t.abs=function(){return b(this)?w(this):this},t.add=function(N){for(var C=Math.max(this.g.length,N.g.length),T=[],$=0,P=0;P<=C;P++){var D=$+(this.i(P)&65535)+(N.i(P)&65535),U=(D>>>16)+(this.i(P)>>>16)+(N.i(P)>>>16);$=U>>>16,D&=65535,U&=65535,T[P]=U<<16|D}return new s(T,T[T.length-1]&-2147483648?-1:0)};function _(N,C){return N.add(w(C))}t.j=function(N){if(y(this)||y(N))return f;if(b(this))return b(N)?w(this).j(w(N)):w(w(this).j(N));if(b(N))return w(this.j(w(N)));if(0>this.l(h)&&0>N.l(h))return u(this.m()*N.m());for(var C=this.g.length+N.g.length,T=[],$=0;$<2*C;$++)T[$]=0;for($=0;$<this.g.length;$++)for(var P=0;P<N.g.length;P++){var D=this.i($)>>>16,U=this.i($)&65535,W=N.i(P)>>>16,re=N.i(P)&65535;T[2*$+2*P]+=U*re,S(T,2*$+2*P),T[2*$+2*P+1]+=D*re,S(T,2*$+2*P+1),T[2*$+2*P+1]+=U*W,S(T,2*$+2*P+1),T[2*$+2*P+2]+=D*W,S(T,2*$+2*P+2)}for($=0;$<C;$++)T[$]=T[2*$+1]<<16|T[2*$];for($=C;$<2*C;$++)T[$]=0;return new s(T,0)};function S(N,C){for(;(N[C]&65535)!=N[C];)N[C+1]+=N[C]>>>16,N[C]&=65535,C++}function E(N,C){this.g=N,this.h=C}function k(N,C){if(y(C))throw Error("division by zero");if(y(N))return new E(f,f);if(b(N))return C=k(w(N),C),new E(w(C.g),w(C.h));if(b(C))return C=k(N,w(C)),new E(w(C.g),C.h);if(30<N.g.length){if(b(N)||b(C))throw Error("slowDivide_ only works with positive integers.");for(var T=d,$=C;0>=$.l(N);)T=R(T),$=R($);var P=F(T,1),D=F($,1);for($=F($,2),T=F(T,2);!y($);){var U=D.add($);0>=U.l(N)&&(P=P.add(T),D=U),$=F($,1),T=F(T,1)}return C=_(N,P.j(C)),new E(P,C)}for(P=f;0<=N.l(C);){for(T=Math.max(1,Math.floor(N.m()/C.m())),$=Math.ceil(Math.log(T)/Math.LN2),$=48>=$?1:Math.pow(2,$-48),D=u(T),U=D.j(C);b(U)||0<U.l(N);)T-=$,D=u(T),U=D.j(C);y(D)&&(D=d),P=P.add(D),N=_(N,U)}return new E(P,N)}t.A=function(N){return k(this,N).h},t.and=function(N){for(var C=Math.max(this.g.length,N.g.length),T=[],$=0;$<C;$++)T[$]=this.i($)&N.i($);return new s(T,this.h&N.h)},t.or=function(N){for(var C=Math.max(this.g.length,N.g.length),T=[],$=0;$<C;$++)T[$]=this.i($)|N.i($);return new s(T,this.h|N.h)},t.xor=function(N){for(var C=Math.max(this.g.length,N.g.length),T=[],$=0;$<C;$++)T[$]=this.i($)^N.i($);return new s(T,this.h^N.h)};function R(N){for(var C=N.g.length+1,T=[],$=0;$<C;$++)T[$]=N.i($)<<1|N.i($-1)>>>31;return new s(T,N.h)}function F(N,C){var T=C>>5;C%=32;for(var $=N.g.length-T,P=[],D=0;D<$;D++)P[D]=0<C?N.i(D+T)>>>C|N.i(D+T+1)<<32-C:N.i(D+T);return new s(P,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,PF=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,uf=s}).apply(typeof NN<"u"?NN:typeof self<"u"?self:typeof window<"u"?window:{});var wy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var CF,bm,NF,v0,DS,kF,RF,OF;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,M,V){return g==Array.prototype||g==Object.prototype||(g[M]=V.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof wy=="object"&&wy];for(var M=0;M<g.length;++M){var V=g[M];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var r=n(this);function i(g,M){if(M)e:{var V=r;g=g.split(".");for(var X=0;X<g.length-1;X++){var xe=g[X];if(!(xe in V))break e;V=V[xe]}g=g[g.length-1],X=V[g],M=M(X),M!=X&&M!=null&&e(V,g,{configurable:!0,writable:!0,value:M})}}function o(g,M){g instanceof String&&(g+="");var V=0,X=!1,xe={next:function(){if(!X&&V<g.length){var Pe=V++;return{value:M(Pe,g[Pe]),done:!1}}return X=!0,{done:!0,value:void 0}}};return xe[Symbol.iterator]=function(){return xe},xe}i("Array.prototype.values",function(g){return g||function(){return o(this,function(M,V){return V})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(g){var M=typeof g;return M=M!="object"?M:g?Array.isArray(g)?"array":M:"null",M=="array"||M=="object"&&typeof g.length=="number"}function u(g){var M=typeof g;return M=="object"&&g!=null||M=="function"}function c(g,M,V){return g.call.apply(g.bind,arguments)}function f(g,M,V){if(!g)throw Error();if(2<arguments.length){var X=Array.prototype.slice.call(arguments,2);return function(){var xe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(xe,X),g.apply(M,xe)}}return function(){return g.apply(M,arguments)}}function d(g,M,V){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,d.apply(null,arguments)}function h(g,M){var V=Array.prototype.slice.call(arguments,1);return function(){var X=V.slice();return X.push.apply(X,arguments),g.apply(this,X)}}function y(g,M){function V(){}V.prototype=M.prototype,g.aa=M.prototype,g.prototype=new V,g.prototype.constructor=g,g.Qb=function(X,xe,Pe){for(var ze=Array(arguments.length-2),Qt=2;Qt<arguments.length;Qt++)ze[Qt-2]=arguments[Qt];return M.prototype[xe].apply(X,ze)}}function b(g){const M=g.length;if(0<M){const V=Array(M);for(let X=0;X<M;X++)V[X]=g[X];return V}return[]}function w(g,M){for(let V=1;V<arguments.length;V++){const X=arguments[V];if(l(X)){const xe=g.length||0,Pe=X.length||0;g.length=xe+Pe;for(let ze=0;ze<Pe;ze++)g[xe+ze]=X[ze]}else g.push(X)}}class _{constructor(M,V){this.i=M,this.j=V,this.h=0,this.g=null}get(){let M;return 0<this.h?(this.h--,M=this.g,this.g=M.next,M.next=null):M=this.i(),M}}function S(g){return/^[\s\xa0]*$/.test(g)}function E(){var g=a.navigator;return g&&(g=g.userAgent)?g:""}function k(g){return k[" "](g),g}k[" "]=function(){};var R=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function F(g,M,V){for(const X in g)M.call(V,g[X],X,g)}function N(g,M){for(const V in g)M.call(void 0,g[V],V,g)}function C(g){const M={};for(const V in g)M[V]=g[V];return M}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(g,M){let V,X;for(let xe=1;xe<arguments.length;xe++){X=arguments[xe];for(V in X)g[V]=X[V];for(let Pe=0;Pe<T.length;Pe++)V=T[Pe],Object.prototype.hasOwnProperty.call(X,V)&&(g[V]=X[V])}}function P(g){var M=1;g=g.split(":");const V=[];for(;0<M&&g.length;)V.push(g.shift()),M--;return g.length&&V.push(g.join(":")),V}function D(g){a.setTimeout(()=>{throw g},0)}function U(){var g=ae;let M=null;return g.g&&(M=g.g,g.g=g.g.next,g.g||(g.h=null),M.next=null),M}class W{constructor(){this.h=this.g=null}add(M,V){const X=re.get();X.set(M,V),this.h?this.h.next=X:this.g=X,this.h=X}}var re=new _(()=>new le,g=>g.reset());class le{constructor(){this.next=this.g=this.h=null}set(M,V){this.h=M,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,Q=!1,ae=new W,ye=()=>{const g=a.Promise.resolve(void 0);ue=()=>{g.then(ge)}};var ge=()=>{for(var g;g=U();){try{g.h.call(g.g)}catch(V){D(V)}var M=re;M.j(g),100>M.h&&(M.h++,g.next=M.g,M.g=g)}Q=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(g,M){this.type=g,this.g=this.target=M,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var te=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var g=!1,M=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const V=()=>{};a.addEventListener("test",V,M),a.removeEventListener("test",V,M)}catch{}return g}();function ce(g,M){if(G.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var V=this.type=g.type,X=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=M,M=g.relatedTarget){if(R){e:{try{k(M.nodeName);var xe=!0;break e}catch{}xe=!1}xe||(M=null)}}else V=="mouseover"?M=g.fromElement:V=="mouseout"&&(M=g.toElement);this.relatedTarget=M,X?(this.clientX=X.clientX!==void 0?X.clientX:X.pageX,this.clientY=X.clientY!==void 0?X.clientY:X.pageY,this.screenX=X.screenX||0,this.screenY=X.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:pe[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&ce.aa.h.call(this)}}y(ce,G);var pe={2:"touch",3:"pen",4:"mouse"};ce.prototype.h=function(){ce.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var _e="closure_listenable_"+(1e6*Math.random()|0),Te=0;function ee(g,M,V,X,xe){this.listener=g,this.proxy=null,this.src=M,this.type=V,this.capture=!!X,this.ha=xe,this.key=++Te,this.da=this.fa=!1}function me(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function ne(g){this.src=g,this.g={},this.h=0}ne.prototype.add=function(g,M,V,X,xe){var Pe=g.toString();g=this.g[Pe],g||(g=this.g[Pe]=[],this.h++);var ze=Ce(g,M,X,xe);return-1<ze?(M=g[ze],V||(M.fa=!1)):(M=new ee(M,this.src,Pe,!!X,xe),M.fa=V,g.push(M)),M};function de(g,M){var V=M.type;if(V in g.g){var X=g.g[V],xe=Array.prototype.indexOf.call(X,M,void 0),Pe;(Pe=0<=xe)&&Array.prototype.splice.call(X,xe,1),Pe&&(me(M),g.g[V].length==0&&(delete g.g[V],g.h--))}}function Ce(g,M,V,X){for(var xe=0;xe<g.length;++xe){var Pe=g[xe];if(!Pe.da&&Pe.listener==M&&Pe.capture==!!V&&Pe.ha==X)return xe}return-1}var ke="closure_lm_"+(1e6*Math.random()|0),Y={};function Ue(g,M,V,X,xe){if(Array.isArray(M)){for(var Pe=0;Pe<M.length;Pe++)Ue(g,M[Pe],V,X,xe);return null}return V=Ft(V),g&&g[_e]?g.K(M,V,u(X)?!!X.capture:!1,xe):et(g,M,V,!1,X,xe)}function et(g,M,V,X,xe,Pe){if(!M)throw Error("Invalid event type");var ze=u(xe)?!!xe.capture:!!xe,Qt=ot(g);if(Qt||(g[ke]=Qt=new ne(g)),V=Qt.add(M,V,X,ze,Pe),V.proxy)return V;if(X=Ye(),V.proxy=X,X.src=g,X.listener=V,g.addEventListener)te||(xe=ze),xe===void 0&&(xe=!1),g.addEventListener(M.toString(),X,xe);else if(g.attachEvent)g.attachEvent(We(M.toString()),X);else if(g.addListener&&g.removeListener)g.addListener(X);else throw Error("addEventListener and attachEvent are unavailable.");return V}function Ye(){function g(V){return M.call(g.src,g.listener,V)}const M=it;return g}function Le(g,M,V,X,xe){if(Array.isArray(M))for(var Pe=0;Pe<M.length;Pe++)Le(g,M[Pe],V,X,xe);else X=u(X)?!!X.capture:!!X,V=Ft(V),g&&g[_e]?(g=g.i,M=String(M).toString(),M in g.g&&(Pe=g.g[M],V=Ce(Pe,V,X,xe),-1<V&&(me(Pe[V]),Array.prototype.splice.call(Pe,V,1),Pe.length==0&&(delete g.g[M],g.h--)))):g&&(g=ot(g))&&(M=g.g[M.toString()],g=-1,M&&(g=Ce(M,V,X,xe)),(V=-1<g?M[g]:null)&&nt(V))}function nt(g){if(typeof g!="number"&&g&&!g.da){var M=g.src;if(M&&M[_e])de(M.i,g);else{var V=g.type,X=g.proxy;M.removeEventListener?M.removeEventListener(V,X,g.capture):M.detachEvent?M.detachEvent(We(V),X):M.addListener&&M.removeListener&&M.removeListener(X),(V=ot(M))?(de(V,g),V.h==0&&(V.src=null,M[ke]=null)):me(g)}}}function We(g){return g in Y?Y[g]:Y[g]="on"+g}function it(g,M){if(g.da)g=!0;else{M=new ce(M,this);var V=g.listener,X=g.ha||g.src;g.fa&&nt(g),g=V.call(X,M)}return g}function ot(g){return g=g[ke],g instanceof ne?g:null}var Gt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ft(g){return typeof g=="function"?g:(g[Gt]||(g[Gt]=function(M){return g.handleEvent(M)}),g[Gt])}function ft(){B.call(this),this.i=new ne(this),this.M=this,this.F=null}y(ft,B),ft.prototype[_e]=!0,ft.prototype.removeEventListener=function(g,M,V,X){Le(this,g,M,V,X)};function xt(g,M){var V,X=g.F;if(X)for(V=[];X;X=X.F)V.push(X);if(g=g.M,X=M.type||M,typeof M=="string")M=new G(M,g);else if(M instanceof G)M.target=M.target||g;else{var xe=M;M=new G(X,g),$(M,xe)}if(xe=!0,V)for(var Pe=V.length-1;0<=Pe;Pe--){var ze=M.g=V[Pe];xe=jt(ze,X,!0,M)&&xe}if(ze=M.g=g,xe=jt(ze,X,!0,M)&&xe,xe=jt(ze,X,!1,M)&&xe,V)for(Pe=0;Pe<V.length;Pe++)ze=M.g=V[Pe],xe=jt(ze,X,!1,M)&&xe}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var g=this.i,M;for(M in g.g){for(var V=g.g[M],X=0;X<V.length;X++)me(V[X]);delete g.g[M],g.h--}}this.F=null},ft.prototype.K=function(g,M,V,X){return this.i.add(String(g),M,!1,V,X)},ft.prototype.L=function(g,M,V,X){return this.i.add(String(g),M,!0,V,X)};function jt(g,M,V,X){if(M=g.i.g[String(M)],!M)return!0;M=M.concat();for(var xe=!0,Pe=0;Pe<M.length;++Pe){var ze=M[Pe];if(ze&&!ze.da&&ze.capture==V){var Qt=ze.listener,ur=ze.ha||ze.src;ze.fa&&de(g.i,ze),xe=Qt.call(ur,X)!==!1&&xe}}return xe&&!X.defaultPrevented}function st(g,M,V){if(typeof g=="function")V&&(g=d(g,V));else if(g&&typeof g.handleEvent=="function")g=d(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(M)?-1:a.setTimeout(g,M||0)}function Ct(g){g.g=st(()=>{g.g=null,g.i&&(g.i=!1,Ct(g))},g.l);const M=g.h;g.h=null,g.m.apply(null,M)}class dt extends B{constructor(M,V){super(),this.m=M,this.l=V,this.h=null,this.i=!1,this.g=null}j(M){this.h=arguments,this.g?this.i=!0:Ct(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kn(g){B.call(this),this.h=g,this.g={}}y(kn,B);var Kt=[];function Ut(g){F(g.g,function(M,V){this.g.hasOwnProperty(V)&&nt(M)},g),g.g={}}kn.prototype.N=function(){kn.aa.N.call(this),Ut(this)},kn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Lt=a.JSON.stringify,Un=a.JSON.parse,gt=class{stringify(g){return a.JSON.stringify(g,void 0)}parse(g){return a.JSON.parse(g,void 0)}};function gn(){}gn.prototype.h=null;function _t(g){return g.h||(g.h=g.i())}function It(){}var vn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $t(){G.call(this,"d")}y($t,G);function vt(){G.call(this,"c")}y(vt,G);var qt={},da=null;function Sr(){return da=da||new ft}qt.La="serverreachability";function Zo(g){G.call(this,qt.La,g)}y(Zo,G);function Pi(g){const M=Sr();xt(M,new Zo(M))}qt.STAT_EVENT="statevent";function wt(g,M){G.call(this,qt.STAT_EVENT,g),this.stat=M}y(wt,G);function zn(g){const M=Sr();xt(M,new wt(M,g))}qt.Ma="timingevent";function es(g,M){G.call(this,qt.Ma,g),this.size=M}y(es,G);function ni(g,M){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){g()},M)}function ri(){this.g=!0}ri.prototype.xa=function(){this.g=!1};function Zn(g,M,V,X,xe,Pe){g.info(function(){if(g.g)if(Pe)for(var ze="",Qt=Pe.split("&"),ur=0;ur<Qt.length;ur++){var zt=Qt[ur].split("=");if(1<zt.length){var an=zt[0];zt=zt[1];var $n=an.split("_");ze=2<=$n.length&&$n[1]=="type"?ze+(an+"="+zt+"&"):ze+(an+"=redacted&")}}else ze=null;else ze=Pe;return"XMLHTTP REQ ("+X+") [attempt "+xe+"]: "+M+`
`+V+`
`+ze})}function Lr(g,M,V,X,xe,Pe,ze){g.info(function(){return"XMLHTTP RESP ("+X+") [ attempt "+xe+"]: "+M+`
`+V+`
`+Pe+" "+ze})}function er(g,M,V,X){g.info(function(){return"XMLHTTP TEXT ("+M+"): "+ha(g,V)+(X?" "+X:"")})}function el(g,M){g.info(function(){return"TIMEOUT: "+M})}ri.prototype.info=function(){};function ha(g,M){if(!g.g)return M;if(!M)return null;try{var V=JSON.parse(M);if(V){for(g=0;g<V.length;g++)if(Array.isArray(V[g])){var X=V[g];if(!(2>X.length)){var xe=X[1];if(Array.isArray(xe)&&!(1>xe.length)){var Pe=xe[0];if(Pe!="noop"&&Pe!="stop"&&Pe!="close")for(var ze=1;ze<xe.length;ze++)xe[ze]=""}}}}return Lt(V)}catch{return M}}var Ci={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Io={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yi;function Ni(){}y(Ni,gn),Ni.prototype.g=function(){return new XMLHttpRequest},Ni.prototype.i=function(){return{}},Yi=new Ni;function Er(g,M,V,X){this.j=g,this.i=M,this.l=V,this.R=X||1,this.U=new kn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pa}function pa(){this.i=null,this.g="",this.h=!1}var Po={},Os={};function ma(g,M,V){g.L=1,g.v=ol(zr(M)),g.m=V,g.P=!0,tl(g,null)}function tl(g,M){g.F=Date.now(),ga(g),g.A=zr(g.v);var V=g.A,X=g.R;Array.isArray(X)||(X=[String(X)]),nd(V.i,"t",X),g.C=0,V=g.j.J,g.h=new pa,g.g=pr(g.j,V?M:null,!g.m),0<g.O&&(g.M=new dt(d(g.Y,g,g.g),g.O)),M=g.U,V=g.g,X=g.ca;var xe="readystatechange";Array.isArray(xe)||(xe&&(Kt[0]=xe.toString()),xe=Kt);for(var Pe=0;Pe<xe.length;Pe++){var ze=Ue(V,xe[Pe],X||M.handleEvent,!1,M.h||M);if(!ze)break;M.g[ze.key]=ze}M=g.H?C(g.H):{},g.m?(g.u||(g.u="POST"),M["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,M)):(g.u="GET",g.g.ea(g.A,g.u,null,M)),Pi(),Zn(g.i,g.u,g.A,g.l,g.R,g.m)}Er.prototype.ca=function(g){g=g.target;const M=this.M;M&&Ji(g)==3?M.j():this.Y(g)},Er.prototype.Y=function(g){try{if(g==this.g)e:{const $n=Ji(this.g);var M=this.g.Ba();const ko=this.g.Z();if(!(3>$n)&&($n!=3||this.g&&(this.h.h||this.g.oa()||Oc(this.g)))){this.J||$n!=4||M==7||(M==8||0>=ko?Pi(3):Pi(2)),iu(this);var V=this.g.Z();this.X=V;t:if(nl(this)){var X=Oc(this.g);g="";var xe=X.length,Pe=Ji(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Co(this),ii(this);var ze="";break t}this.h.i=new a.TextDecoder}for(M=0;M<xe;M++)this.h.h=!0,g+=this.h.i.decode(X[M],{stream:!(Pe&&M==xe-1)});X.length=0,this.h.g+=g,this.C=0,ze=this.h.g}else ze=this.g.oa();if(this.o=V==200,Lr(this.i,this.u,this.A,this.l,this.R,$n,V),this.o){if(this.T&&!this.K){t:{if(this.g){var Qt,ur=this.g;if((Qt=ur.g?ur.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(Qt)){var zt=Qt;break t}}zt=null}if(V=zt)er(this.i,this.l,V,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ou(this,V);else{this.o=!1,this.s=3,zn(12),Co(this),ii(this);break e}}if(this.P){V=!0;let ki;for(;!this.J&&this.C<ze.length;)if(ki=_p(this,ze),ki==Os){$n==4&&(this.s=4,zn(14),V=!1),er(this.i,this.l,null,"[Incomplete Response]");break}else if(ki==Po){this.s=4,zn(15),er(this.i,this.l,ze,"[Invalid Chunk]"),V=!1;break}else er(this.i,this.l,ki,null),ou(this,ki);if(nl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$n!=4||ze.length!=0||this.h.h||(this.s=1,zn(16),V=!1),this.o=this.o&&V,!V)er(this.i,this.l,ze,"[Invalid Chunked Response]"),Co(this),ii(this);else if(0<ze.length&&!this.W){this.W=!0;var an=this.j;an.g==this&&an.ba&&!an.M&&(an.j.info("Great, no buffering proxy detected. Bytes received: "+ze.length),Je(an),an.M=!0,zn(11))}}else er(this.i,this.l,ze,null),ou(this,ze);$n==4&&Co(this),this.o&&!this.J&&($n==4?Nt(this.j,this):(this.o=!1,ga(this)))}else id(this.g),V==400&&0<ze.indexOf("Unknown SID")?(this.s=3,zn(12)):(this.s=0,zn(13)),Co(this),ii(this)}}}catch{}finally{}};function nl(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function _p(g,M){var V=g.C,X=M.indexOf(`
`,V);return X==-1?Os:(V=Number(M.substring(V,X)),isNaN(V)?Po:(X+=1,X+V>M.length?Os:(M=M.slice(X,X+V),g.C=X+V,M)))}Er.prototype.cancel=function(){this.J=!0,Co(this)};function ga(g){g.S=Date.now()+g.I,Ec(g,g.I)}function Ec(g,M){if(g.B!=null)throw Error("WatchDog timer not null");g.B=ni(d(g.ba,g),M)}function iu(g){g.B&&(a.clearTimeout(g.B),g.B=null)}Er.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(el(this.i,this.A),this.L!=2&&(Pi(),zn(17)),Co(this),this.s=2,ii(this)):Ec(this,this.S-g)};function ii(g){g.j.G==0||g.J||Nt(g.j,g)}function Co(g){iu(g);var M=g.M;M&&typeof M.ma=="function"&&M.ma(),g.M=null,Ut(g.U),g.g&&(M=g.g,g.g=null,M.abort(),M.ma())}function ou(g,M){try{var V=g.j;if(V.G!=0&&(V.g==g||fo(V.h,g))){if(!g.K&&fo(V.h,g)&&V.G==3){try{var X=V.Da.g.parse(M)}catch{X=null}if(Array.isArray(X)&&X.length==3){var xe=X;if(xe[0]==0){e:if(!V.u){if(V.g)if(V.g.F+3e3<g.F)St(V),as(V);else break e;Fe(V),zn(18)}}else V.za=xe[1],0<V.za-V.T&&37500>xe[2]&&V.F&&V.v==0&&!V.C&&(V.C=ni(d(V.Za,V),6e3));if(1>=Pc(V.h)&&V.ca){try{V.ca()}catch{}V.ca=void 0}}else dn(V,11)}else if((g.K||V.g==g)&&St(V),!S(M))for(xe=V.Da.g.parse(M),M=0;M<xe.length;M++){let zt=xe[M];if(V.T=zt[0],zt=zt[1],V.G==2)if(zt[0]=="c"){V.K=zt[1],V.ia=zt[2];const an=zt[3];an!=null&&(V.la=an,V.j.info("VER="+V.la));const $n=zt[4];$n!=null&&(V.Aa=$n,V.j.info("SVER="+V.Aa));const ko=zt[5];ko!=null&&typeof ko=="number"&&0<ko&&(X=1.5*ko,V.L=X,V.j.info("backChannelRequestTimeoutMs_="+X)),X=V;const ki=g.g;if(ki){const mi=ki.g?ki.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mi){var Pe=X.h;Pe.g||mi.indexOf("spdy")==-1&&mi.indexOf("quic")==-1&&mi.indexOf("h2")==-1||(Pe.j=Pe.l,Pe.g=new Set,Pe.h&&(va(Pe,Pe.h),Pe.h=null))}if(X.D){const Ds=ki.g?ki.g.getResponseHeader("X-HTTP-Session-Id"):null;Ds&&(X.ya=Ds,Yt(X.I,X.D,Ds))}}V.G=3,V.l&&V.l.ua(),V.ba&&(V.R=Date.now()-g.F,V.j.info("Handshake RTT: "+V.R+"ms")),X=V;var ze=g;if(X.qa=_n(X,X.J?X.ia:null,X.W),ze.K){Xf(X.h,ze);var Qt=ze,ur=X.L;ur&&(Qt.I=ur),Qt.B&&(iu(Qt),ga(Qt)),X.g=ze}else Oe(X);0<V.i.length&&I(V)}else zt[0]!="stop"&&zt[0]!="close"||dn(V,7);else V.G==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?dn(V,7):fu(V):zt[0]!="noop"&&V.l&&V.l.ta(zt),V.v=0)}}Pi(4)}catch{}}var Ac=class{constructor(g,M){this.g=g,this.map=M}};function Tc(g){this.l=g||10,a.PerformanceNavigationTiming?(g=a.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ic(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Pc(g){return g.h?1:g.g?g.g.size:0}function fo(g,M){return g.h?g.h==M:g.g?g.g.has(M):!1}function va(g,M){g.g?g.g.add(M):g.h=M}function Xf(g,M){g.h&&g.h==M?g.h=null:g.g&&g.g.has(M)&&g.g.delete(M)}Tc.prototype.cancel=function(){if(this.i=or(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function or(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let M=g.i;for(const V of g.g.values())M=M.concat(V.D);return M}return b(g.i)}function Qf(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(l(g)){for(var M=[],V=g.length,X=0;X<V;X++)M.push(g[X]);return M}M=[],V=0;for(X in g)M[V++]=g[X];return M}function ts(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(l(g)||typeof g=="string"){var M=[];g=g.length;for(var V=0;V<g;V++)M.push(V);return M}M=[],V=0;for(const X in g)M[V++]=X;return M}}}function rl(g,M){if(g.forEach&&typeof g.forEach=="function")g.forEach(M,void 0);else if(l(g)||typeof g=="string")Array.prototype.forEach.call(g,M,void 0);else for(var V=ts(g),X=Qf(g),xe=X.length,Pe=0;Pe<xe;Pe++)M.call(void 0,X[Pe],V&&V[Pe],g)}var Cc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ho(g,M){if(g){g=g.split("&");for(var V=0;V<g.length;V++){var X=g[V].indexOf("="),xe=null;if(0<=X){var Pe=g[V].substring(0,X);xe=g[V].substring(X+1)}else Pe=g[V];M(Pe,xe?decodeURIComponent(xe.replace(/\+/g," ")):"")}}}function Rn(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof Rn){this.h=g.h,il(this,g.j),this.o=g.o,this.g=g.g,su(this,g.s),this.l=g.l;var M=g.i,V=new pi;V.i=M.i,M.g&&(V.g=new Map(M.g),V.h=M.h),Zf(this,V),this.m=g.m}else g&&(M=String(g).match(Cc))?(this.h=!1,il(this,M[1]||"",!0),this.o=ya(M[2]||""),this.g=ya(M[3]||"",!0),su(this,M[4]),this.l=ya(M[5]||"",!0),Zf(this,M[6]||"",!0),this.m=ya(M[7]||"")):(this.h=!1,this.i=new pi(null,this.h))}Rn.prototype.toString=function(){var g=[],M=this.j;M&&g.push(ns(M,ed,!0),":");var V=this.g;return(V||M=="file")&&(g.push("//"),(M=this.o)&&g.push(ns(M,ed,!0),"@"),g.push(encodeURIComponent(String(V)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.s,V!=null&&g.push(":",String(V))),(V=this.l)&&(this.g&&V.charAt(0)!="/"&&g.push("/"),g.push(ns(V,V.charAt(0)=="/"?xp:bp,!0))),(V=this.i.toString())&&g.push("?",V),(V=this.m)&&g.push("#",ns(V,td)),g.join("")};function zr(g){return new Rn(g)}function il(g,M,V){g.j=V?ya(M,!0):M,g.j&&(g.j=g.j.replace(/:$/,""))}function su(g,M){if(M){if(M=Number(M),isNaN(M)||0>M)throw Error("Bad port number "+M);g.s=M}else g.s=null}function Zf(g,M,V){M instanceof pi?(g.i=M,Sp(g.i,g.h)):(V||(M=ns(M,Nc)),g.i=new pi(M,g.h))}function Yt(g,M,V){g.i.set(M,V)}function ol(g){return Yt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function ya(g,M){return g?M?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function ns(g,M,V){return typeof g=="string"?(g=encodeURI(g).replace(M,sl),V&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function sl(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var ed=/[#\/\?@]/g,bp=/[#\?:]/g,xp=/[#\?]/g,Nc=/[#\?@]/g,td=/#/g;function pi(g,M){this.h=this.g=null,this.i=g||null,this.j=!!M}function rs(g){g.g||(g.g=new Map,g.h=0,g.i&&ho(g.i,function(M,V){g.add(decodeURIComponent(M.replace(/\+/g," ")),V)}))}t=pi.prototype,t.add=function(g,M){rs(this),this.i=null,g=bt(this,g);var V=this.g.get(g);return V||this.g.set(g,V=[]),V.push(M),this.h+=1,this};function wa(g,M){rs(g),M=bt(g,M),g.g.has(M)&&(g.i=null,g.h-=g.g.get(M).length,g.g.delete(M))}function au(g,M){return rs(g),M=bt(g,M),g.g.has(M)}t.forEach=function(g,M){rs(this),this.g.forEach(function(V,X){V.forEach(function(xe){g.call(M,xe,X,this)},this)},this)},t.na=function(){rs(this);const g=Array.from(this.g.values()),M=Array.from(this.g.keys()),V=[];for(let X=0;X<M.length;X++){const xe=g[X];for(let Pe=0;Pe<xe.length;Pe++)V.push(M[X])}return V},t.V=function(g){rs(this);let M=[];if(typeof g=="string")au(this,g)&&(M=M.concat(this.g.get(bt(this,g))));else{g=Array.from(this.g.values());for(let V=0;V<g.length;V++)M=M.concat(g[V])}return M},t.set=function(g,M){return rs(this),this.i=null,g=bt(this,g),au(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[M]),this.h+=1,this},t.get=function(g,M){return g?(g=this.V(g),0<g.length?String(g[0]):M):M};function nd(g,M,V){wa(g,M),0<V.length&&(g.i=null,g.g.set(bt(g,M),b(V)),g.h+=V.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],M=Array.from(this.g.keys());for(var V=0;V<M.length;V++){var X=M[V];const Pe=encodeURIComponent(String(X)),ze=this.V(X);for(X=0;X<ze.length;X++){var xe=Pe;ze[X]!==""&&(xe+="="+encodeURIComponent(String(ze[X]))),g.push(xe)}}return this.i=g.join("&")};function bt(g,M){return M=String(M),g.j&&(M=M.toLowerCase()),M}function Sp(g,M){M&&!g.j&&(rs(g),g.i=null,g.g.forEach(function(V,X){var xe=X.toLowerCase();X!=xe&&(wa(this,X),nd(this,xe,V))},g)),g.j=M}function Ep(g,M){const V=new ri;if(a.Image){const X=new Image;X.onload=h(oi,V,"TestLoadImage: loaded",!0,M,X),X.onerror=h(oi,V,"TestLoadImage: error",!1,M,X),X.onabort=h(oi,V,"TestLoadImage: abort",!1,M,X),X.ontimeout=h(oi,V,"TestLoadImage: timeout",!1,M,X),a.setTimeout(function(){X.ontimeout&&X.ontimeout()},1e4),X.src=g}else M(!1)}function Ap(g,M){const V=new ri,X=new AbortController,xe=setTimeout(()=>{X.abort(),oi(V,"TestPingServer: timeout",!1,M)},1e4);fetch(g,{signal:X.signal}).then(Pe=>{clearTimeout(xe),Pe.ok?oi(V,"TestPingServer: ok",!0,M):oi(V,"TestPingServer: server error",!1,M)}).catch(()=>{clearTimeout(xe),oi(V,"TestPingServer: error",!1,M)})}function oi(g,M,V,X,xe){try{xe&&(xe.onload=null,xe.onerror=null,xe.onabort=null,xe.ontimeout=null),X(V)}catch{}}function Ms(){this.g=new gt}function Tp(g,M,V){const X=V||"";try{rl(g,function(xe,Pe){let ze=xe;u(xe)&&(ze=Lt(xe)),M.push(X+Pe+"="+encodeURIComponent(ze))})}catch(xe){throw M.push(X+"type="+encodeURIComponent("_badmap")),xe}}function lu(g){this.l=g.Ub||null,this.j=g.eb||!1}y(lu,gn),lu.prototype.g=function(){return new Ls(this.l,this.j)},lu.prototype.i=function(g){return function(){return g}}({});function Ls(g,M){ft.call(this),this.D=g,this.o=M,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Ls,ft),t=Ls.prototype,t.open=function(g,M){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=M,this.readyState=1,al(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const M={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(M.body=g),(this.D||a).fetch(new Request(this.A,M)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,No(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,al(this)),this.g&&(this.readyState=3,al(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;uu(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function uu(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var M=g.value?g.value:new Uint8Array(0);(M=this.v.decode(M,{stream:!g.done}))&&(this.response=this.responseText+=M)}g.done?No(this):al(this),this.readyState==3&&uu(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,No(this))},t.Qa=function(g){this.g&&(this.response=g,No(this))},t.ga=function(){this.g&&No(this)};function No(g){g.readyState=4,g.l=null,g.j=null,g.v=null,al(g)}t.setRequestHeader=function(g,M){this.u.append(g,M)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],M=this.h.entries();for(var V=M.next();!V.done;)V=V.value,g.push(V[0]+": "+V[1]),V=M.next();return g.join(`\r
`)};function al(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Ls.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function is(g){let M="";return F(g,function(V,X){M+=X,M+=":",M+=V,M+=`\r
`}),M}function kc(g,M,V){e:{for(X in V){var X=!1;break e}X=!0}X||(V=is(V),typeof g=="string"?V!=null&&encodeURIComponent(String(V)):Yt(g,M,V))}function Cn(g){ft.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(Cn,ft);var Rc=/^https?$/i,rd=["POST","PUT"];t=Cn.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,M,V,X){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);M=M?M.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yi.g(),this.v=this.o?_t(this.o):_t(Yi),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(M,String(g),!0),this.B=!1}catch(Pe){os(this,Pe);return}if(g=V||"",V=new Map(this.headers),X)if(Object.getPrototypeOf(X)===Object.prototype)for(var xe in X)V.set(xe,X[xe]);else if(typeof X.keys=="function"&&typeof X.get=="function")for(const Pe of X.keys())V.set(Pe,X.get(Pe));else throw Error("Unknown input type for opt_headers: "+String(X));X=Array.from(V.keys()).find(Pe=>Pe.toLowerCase()=="content-type"),xe=a.FormData&&g instanceof a.FormData,!(0<=Array.prototype.indexOf.call(rd,M,void 0))||X||xe||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Pe,ze]of V)this.g.setRequestHeader(Pe,ze);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ba(this),this.u=!0,this.g.send(g),this.u=!1}catch(Pe){os(this,Pe)}};function os(g,M){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=M,g.m=5,cu(g),_a(g)}function cu(g){g.A||(g.A=!0,xt(g,"complete"),xt(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,xt(this,"complete"),xt(this,"abort"),_a(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_a(this,!0)),Cn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ll(this):this.bb())},t.bb=function(){ll(this)};function ll(g){if(g.h&&typeof s<"u"&&(!g.v[1]||Ji(g)!=4||g.Z()!=2)){if(g.u&&Ji(g)==4)st(g.Ea,0,g);else if(xt(g,"readystatechange"),Ji(g)==4){g.h=!1;try{const ze=g.Z();e:switch(ze){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var M=!0;break e;default:M=!1}var V;if(!(V=M)){var X;if(X=ze===0){var xe=String(g.D).match(Cc)[1]||null;!xe&&a.self&&a.self.location&&(xe=a.self.location.protocol.slice(0,-1)),X=!Rc.test(xe?xe.toLowerCase():"")}V=X}if(V)xt(g,"complete"),xt(g,"success");else{g.m=6;try{var Pe=2<Ji(g)?g.g.statusText:""}catch{Pe=""}g.l=Pe+" ["+g.Z()+"]",cu(g)}}finally{_a(g)}}}}function _a(g,M){if(g.g){ba(g);const V=g.g,X=g.v[0]?()=>{}:null;g.g=null,g.v=null,M||xt(g,"ready");try{V.onreadystatechange=X}catch{}}}function ba(g){g.I&&(a.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function Ji(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<Ji(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var M=this.g.responseText;return g&&M.indexOf(g)==0&&(M=M.substring(g.length)),Un(M)}};function Oc(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function id(g){const M={};g=(g.g&&2<=Ji(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let X=0;X<g.length;X++){if(S(g[X]))continue;var V=P(g[X]);const xe=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const Pe=M[xe]||[];M[xe]=Pe,Pe.push(V)}N(M,function(X){return X.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xi(g,M,V){return V&&V.internalChannelParams&&V.internalChannelParams[g]||M}function ss(g){this.Aa=0,this.i=[],this.j=new ri,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xi("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xi("baseRetryDelayMs",5e3,g),this.cb=Xi("retryDelaySeedMs",1e4,g),this.Wa=Xi("forwardChannelMaxRetries",2,g),this.wa=Xi("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Tc(g&&g.concurrentRequestLimit),this.Da=new Ms,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ss.prototype,t.la=8,t.G=1,t.connect=function(g,M,V,X){zn(0),this.W=g,this.H=M||{},V&&X!==void 0&&(this.H.OSID=V,this.H.OAID=X),this.F=this.X,this.I=_n(this,null,this.W),I(this)};function fu(g){if(Mc(g),g.G==3){var M=g.U++,V=zr(g.I);if(Yt(V,"SID",g.K),Yt(V,"RID",M),Yt(V,"TYPE","terminate"),he(g,V),M=new Er(g,g.j,M),M.L=2,M.v=ol(zr(V)),V=!1,a.navigator&&a.navigator.sendBeacon)try{V=a.navigator.sendBeacon(M.v.toString(),"")}catch{}!V&&a.Image&&(new Image().src=M.v,V=!0),V||(M.g=pr(M.j,null),M.g.ea(M.v)),M.F=Date.now(),ga(M)}sr(g)}function as(g){g.g&&(Je(g),g.g.cancel(),g.g=null)}function Mc(g){as(g),g.u&&(a.clearTimeout(g.u),g.u=null),St(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&a.clearTimeout(g.s),g.s=null)}function I(g){if(!Ic(g.h)&&!g.s){g.s=!0;var M=g.Ga;ue||ye(),Q||(ue(),Q=!0),ae.add(M,g),g.B=0}}function q(g,M){return Pc(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=M.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=ni(d(g.Ga,g,M),Jt(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const xe=new Er(this,this.j,g);let Pe=this.o;if(this.S&&(Pe?(Pe=C(Pe),$(Pe,this.S)):Pe=this.S),this.m!==null||this.O||(xe.H=Pe,Pe=null),this.P)e:{for(var M=0,V=0;V<this.i.length;V++){t:{var X=this.i[V];if("__data__"in X.map&&(X=X.map.__data__,typeof X=="string")){X=X.length;break t}X=void 0}if(X===void 0)break;if(M+=X,4096<M){M=V;break e}if(M===4096||V===this.i.length-1){M=V+1;break e}}M=1e3}else M=1e3;M=be(this,xe,M),V=zr(this.I),Yt(V,"RID",g),Yt(V,"CVER",22),this.D&&Yt(V,"X-HTTP-Session-Id",this.D),he(this,V),Pe&&(this.O?M="headers="+encodeURIComponent(String(is(Pe)))+"&"+M:this.m&&kc(V,this.m,Pe)),va(this.h,xe),this.Ua&&Yt(V,"TYPE","init"),this.P?(Yt(V,"$req",M),Yt(V,"SID","null"),xe.T=!0,ma(xe,V,null)):ma(xe,V,M),this.G=2}}else this.G==3&&(g?ie(this,g):this.i.length==0||Ic(this.h)||ie(this))};function ie(g,M){var V;M?V=M.l:V=g.U++;const X=zr(g.I);Yt(X,"SID",g.K),Yt(X,"RID",V),Yt(X,"AID",g.T),he(g,X),g.m&&g.o&&kc(X,g.m,g.o),V=new Er(g,g.j,V,g.B+1),g.m===null&&(V.H=g.o),M&&(g.i=M.D.concat(g.i)),M=be(g,V,1e3),V.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),va(g.h,V),ma(V,X,M)}function he(g,M){g.H&&F(g.H,function(V,X){Yt(M,X,V)}),g.l&&rl({},function(V,X){Yt(M,X,V)})}function be(g,M,V){V=Math.min(g.i.length,V);var X=g.l?d(g.l.Na,g.l,g):null;e:{var xe=g.i;let Pe=-1;for(;;){const ze=["count="+V];Pe==-1?0<V?(Pe=xe[0].g,ze.push("ofs="+Pe)):Pe=0:ze.push("ofs="+Pe);let Qt=!0;for(let ur=0;ur<V;ur++){let zt=xe[ur].g;const an=xe[ur].map;if(zt-=Pe,0>zt)Pe=Math.max(0,xe[ur].g-100),Qt=!1;else try{Tp(an,ze,"req"+zt+"_")}catch{X&&X(an)}}if(Qt){X=ze.join("&");break e}}}return g=g.i.splice(0,V),M.D=g,X}function Oe(g){if(!g.g&&!g.u){g.Y=1;var M=g.Fa;ue||ye(),Q||(ue(),Q=!0),ae.add(M,g),g.v=0}}function Fe(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=ni(d(g.Fa,g),Jt(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,at(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=ni(d(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,zn(10),as(this),at(this))};function Je(g){g.A!=null&&(a.clearTimeout(g.A),g.A=null)}function at(g){g.g=new Er(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var M=zr(g.qa);Yt(M,"RID","rpc"),Yt(M,"SID",g.K),Yt(M,"AID",g.T),Yt(M,"CI",g.F?"0":"1"),!g.F&&g.ja&&Yt(M,"TO",g.ja),Yt(M,"TYPE","xmlhttp"),he(g,M),g.m&&g.o&&kc(M,g.m,g.o),g.L&&(g.g.I=g.L);var V=g.g;g=g.ia,V.L=1,V.v=ol(zr(M)),V.m=null,V.P=!0,tl(V,g)}t.Za=function(){this.C!=null&&(this.C=null,as(this),Fe(this),zn(19))};function St(g){g.C!=null&&(a.clearTimeout(g.C),g.C=null)}function Nt(g,M){var V=null;if(g.g==M){St(g),Je(g),g.g=null;var X=2}else if(fo(g.h,M))V=M.D,Xf(g.h,M),X=1;else return;if(g.G!=0){if(M.o)if(X==1){V=M.m?M.m.length:0,M=Date.now()-M.F;var xe=g.B;X=Sr(),xt(X,new es(X,V)),I(g)}else Oe(g);else if(xe=M.s,xe==3||xe==0&&0<M.X||!(X==1&&q(g,M)||X==2&&Fe(g)))switch(V&&0<V.length&&(M=g.h,M.i=M.i.concat(V)),xe){case 1:dn(g,5);break;case 4:dn(g,10);break;case 3:dn(g,6);break;default:dn(g,2)}}}function Jt(g,M){let V=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(V*=2),V*M}function dn(g,M){if(g.j.info("Error code "+M),M==2){var V=d(g.fb,g),X=g.Xa;const xe=!X;X=new Rn(X||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||il(X,"https"),ol(X),xe?Ep(X.toString(),V):Ap(X.toString(),V)}else zn(2);g.G=0,g.l&&g.l.sa(M),sr(g),Mc(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),zn(2)):(this.j.info("Failed to ping google.com"),zn(1))};function sr(g){if(g.G=0,g.ka=[],g.l){const M=or(g.h);(M.length!=0||g.i.length!=0)&&(w(g.ka,M),w(g.ka,g.i),g.h.i.length=0,b(g.i),g.i.length=0),g.l.ra()}}function _n(g,M,V){var X=V instanceof Rn?zr(V):new Rn(V);if(X.g!="")M&&(X.g=M+"."+X.g),su(X,X.s);else{var xe=a.location;X=xe.protocol,M=M?M+"."+xe.hostname:xe.hostname,xe=+xe.port;var Pe=new Rn(null);X&&il(Pe,X),M&&(Pe.g=M),xe&&su(Pe,xe),V&&(Pe.l=V),X=Pe}return V=g.D,M=g.ya,V&&M&&Yt(X,V,M),Yt(X,"VER",g.la),he(g,X),X}function pr(g,M,V){if(M&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return M=g.Ca&&!g.pa?new Cn(new lu({eb:V})):new Cn(g.pa),M.Ha(g.J),M}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ar(){}t=ar.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function mr(){}mr.prototype.g=function(g,M){return new lr(g,M)};function lr(g,M){ft.call(this),this.g=new ss(M),this.l=g,this.h=M&&M.messageUrlParams||null,g=M&&M.messageHeaders||null,M&&M.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=M&&M.initMessageHeaders||null,M&&M.messageContentType&&(g?g["X-WebChannel-Content-Type"]=M.messageContentType:g={"X-WebChannel-Content-Type":M.messageContentType}),M&&M.va&&(g?g["X-WebChannel-Client-Profile"]=M.va:g={"X-WebChannel-Client-Profile":M.va}),this.g.S=g,(g=M&&M.Sb)&&!S(g)&&(this.g.m=g),this.v=M&&M.supportsCrossDomainXhr||!1,this.u=M&&M.sendRawJson||!1,(M=M&&M.httpSessionIdParam)&&!S(M)&&(this.g.D=M,g=this.h,g!==null&&M in g&&(g=this.h,M in g&&delete g[M])),this.j=new us(this)}y(lr,ft),lr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},lr.prototype.close=function(){fu(this.g)},lr.prototype.o=function(g){var M=this.g;if(typeof g=="string"){var V={};V.__data__=g,g=V}else this.u&&(V={},V.__data__=Lt(g),g=V);M.i.push(new Ac(M.Ya++,g)),M.G==3&&I(M)},lr.prototype.N=function(){this.g.l=null,delete this.j,fu(this.g),delete this.g,lr.aa.N.call(this)};function po(g){$t.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var M=g.__sm__;if(M){e:{for(const V in M){g=V;break e}g=void 0}(this.i=g)&&(g=this.i,M=M!==null&&g in M?M[g]:void 0),this.data=M}else this.data=g}y(po,$t);function ls(){vt.call(this),this.status=1}y(ls,vt);function us(g){this.g=g}y(us,ar),us.prototype.ua=function(){xt(this.g,"a")},us.prototype.ta=function(g){xt(this.g,new po(g))},us.prototype.sa=function(g){xt(this.g,new ls)},us.prototype.ra=function(){xt(this.g,"b")},mr.prototype.createWebChannel=mr.prototype.g,lr.prototype.send=lr.prototype.o,lr.prototype.open=lr.prototype.m,lr.prototype.close=lr.prototype.close,OF=function(){return new mr},RF=function(){return Sr()},kF=qt,DS={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ci.NO_ERROR=0,Ci.TIMEOUT=8,Ci.HTTP_ERROR=6,v0=Ci,Io.COMPLETE="complete",NF=Io,It.EventType=vn,vn.OPEN="a",vn.CLOSE="b",vn.ERROR="c",vn.MESSAGE="d",ft.prototype.listen=ft.prototype.K,bm=It,Cn.prototype.listenOnce=Cn.prototype.L,Cn.prototype.getLastError=Cn.prototype.Ka,Cn.prototype.getLastErrorCode=Cn.prototype.Ba,Cn.prototype.getStatus=Cn.prototype.Z,Cn.prototype.getResponseJson=Cn.prototype.Oa,Cn.prototype.getResponseText=Cn.prototype.oa,Cn.prototype.send=Cn.prototype.ea,Cn.prototype.setWithCredentials=Cn.prototype.Ha,CF=Cn}).apply(typeof wy<"u"?wy:typeof self<"u"?self:typeof window<"u"?window:{});const kN="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bi=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Bi.UNAUTHENTICATED=new Bi(null),Bi.GOOGLE_CREDENTIALS=new Bi("google-credentials-uid"),Bi.FIRST_PARTY=new Bi("first-party-uid"),Bi.MOCK_USER=new Bi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf=new QA("@firebase/firestore");function Yp(){return bf.logLevel}function lt(t,...e){if(bf.logLevel<=en.DEBUG){const n=e.map(tT);bf.debug(`Firestore (${Qh}): ${t}`,...n)}}function ql(t,...e){if(bf.logLevel<=en.ERROR){const n=e.map(tT);bf.error(`Firestore (${Qh}): ${t}`,...n)}}function _h(t,...e){if(bf.logLevel<=en.WARN){const n=e.map(tT);bf.warn(`Firestore (${Qh}): ${t}`,...n)}}function tT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t="Unexpected state"){const e=`FIRESTORE (${Qh}) INTERNAL ASSERTION FAILED: `+t;throw ql(e),new Error(e)}function In(t,e){t||Pt()}function Mt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Qe extends Ja{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bi.UNAUTHENTICATED))}shutdown(){}}class wY{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _Y{constructor(e){this.t=e,this.currentUser=Bi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){In(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Ml;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ml,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ml)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(In(typeof r.accessToken=="string"),new MF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return In(e===null||typeof e=="string"),new Bi(e)}}class bY{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Bi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class xY{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new bY(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Bi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class SY{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EY{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){In(this.o===void 0);const r=o=>{o.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,lt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(In(typeof n.token=="string"),this.R=n.token,new SY(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AY(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=AY(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function un(t,e){return t<e?-1:t>e?1:0}function bh(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Qe($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Qe($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Qe($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Qe($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ei.fromMillis(Date.now())}static fromDate(e){return ei.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ei(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?un(this.nanoseconds,e.nanoseconds):un(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ot(e)}static min(){return new Ot(new ei(0,0))}static max(){return new Ot(new ei(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n,r){n===void 0?n=0:n>e.length&&Pt(),r===void 0?r=e.length-n:r>e.length-n&&Pt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return mg.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mg?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Yn extends mg{construct(e,n,r){return new Yn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Qe($e.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Yn(n)}static emptyPath(){return new Yn([])}}const TY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xi extends mg{construct(e,n,r){return new xi(e,n,r)}static isValidIdentifier(e){return TY.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new xi(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Qe($e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Qe($e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Qe($e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Qe($e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xi(n)}static emptyPath(){return new xi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.path=e}static fromPath(e){return new yt(Yn.fromString(e))}static fromName(e){return new yt(Yn.fromString(e).popFirst(5))}static empty(){return new yt(Yn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Yn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Yn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new yt(new Yn(e.slice()))}}function IY(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ot.fromTimestamp(r===1e9?new ei(n+1,0):new ei(n,r));return new lc(i,yt.empty(),e)}function PY(t){return new lc(t.readTime,t.key,-1)}class lc{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new lc(Ot.min(),yt.empty(),-1)}static max(){return new lc(Ot.max(),yt.empty(),-1)}}function CY(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=yt.comparator(t.documentKey,e.documentKey),n!==0?n:un(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NY="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kY{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mv(t){if(t.code!==$e.FAILED_PRECONDITION||t.message!==NY)throw t;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Be((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Be?n:Be.resolve(n)}catch(n){return Be.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Be.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Be.reject(n)}static resolve(e){return new Be((n,r)=>{n(e)})}static reject(e){return new Be((n,r)=>{r(e)})}static waitFor(e){return new Be((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=Be.resolve(!1);for(const r of e)n=n.next(i=>i?Be.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Be((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new Be((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function RY(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function gv(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}nT.oe=-1;function r_(t){return t==null}function a1(t){return t===0&&1/t==-1/0}function OY(t){return typeof t=="number"&&Number.isInteger(t)&&!a1(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function jf(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function DF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,n){this.comparator=e,this.root=n||bi.EMPTY}insert(e,n){return new hr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bi.BLACK,null,null))}remove(e){return new hr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _y(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _y(this.root,e,this.comparator,!1)}getReverseIterator(){return new _y(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _y(this.root,e,this.comparator,!0)}}class _y{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bi{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??bi.RED,this.left=i??bi.EMPTY,this.right=o??bi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new bi(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return bi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return bi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pt();const e=this.left.check();if(e!==this.right.check())throw Pt();return e+(this.isRed()?0:1)}}bi.EMPTY=null,bi.RED=!0,bi.BLACK=!1;bi.EMPTY=new class{constructor(){this.size=0}get key(){throw Pt()}get value(){throw Pt()}get color(){throw Pt()}get left(){throw Pt()}get right(){throw Pt()}copy(e,n,r,i,o){return this}insert(e,n,r){return new bi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this.comparator=e,this.data=new hr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ON(this.data.getIterator())}getIteratorFrom(e){return new ON(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ai)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ai(this.comparator);return n.data=e,n}}class ON{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this.fields=e,e.sort(xi.comparator)}static empty(){return new Go([])}unionWith(e){let n=new Ai(xi.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Go(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bh(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new FF("Invalid base64 string: "+o):o}}(e);return new Ii(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Ii(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return un(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ii.EMPTY_BYTE_STRING=new Ii("");const MY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function uc(t){if(In(!!t),typeof t=="string"){let e=0;const n=MY.exec(t);if(In(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nr(t.seconds),nanos:Nr(t.nanos)}}function Nr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xf(t){return typeof t=="string"?Ii.fromBase64String(t):Ii.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function iT(t){const e=t.mapValue.fields.__previous_value__;return rT(e)?iT(e):e}function gg(t){const e=uc(t.mapValue.fields.__local_write_time__.timestampValue);return new ei(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LY{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class vg{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new vg("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof vg&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by={mapValue:{}};function Sf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rT(t)?4:FY(t)?9007199254740991:DY(t)?10:11:Pt()}function Ga(t,e){if(t===e)return!0;const n=Sf(t);if(n!==Sf(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gg(t).isEqual(gg(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=uc(i.timestampValue),a=uc(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return xf(i.bytesValue).isEqual(xf(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Nr(i.geoPointValue.latitude)===Nr(o.geoPointValue.latitude)&&Nr(i.geoPointValue.longitude)===Nr(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Nr(i.integerValue)===Nr(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Nr(i.doubleValue),a=Nr(o.doubleValue);return s===a?a1(s)===a1(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return bh(t.arrayValue.values||[],e.arrayValue.values||[],Ga);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(RN(s)!==RN(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Ga(s[l],a[l])))return!1;return!0}(t,e);default:return Pt()}}function yg(t,e){return(t.values||[]).find(n=>Ga(n,e))!==void 0}function xh(t,e){if(t===e)return 0;const n=Sf(t),r=Sf(e);if(n!==r)return un(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return un(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Nr(o.integerValue||o.doubleValue),l=Nr(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return MN(t.timestampValue,e.timestampValue);case 4:return MN(gg(t),gg(e));case 5:return un(t.stringValue,e.stringValue);case 6:return function(o,s){const a=xf(o),l=xf(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=un(a[u],l[u]);if(c!==0)return c}return un(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=un(Nr(o.latitude),Nr(s.latitude));return a!==0?a:un(Nr(o.longitude),Nr(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return LN(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,c;const f=o.fields||{},d=s.fields||{},h=(a=f.value)===null||a===void 0?void 0:a.arrayValue,y=(l=d.value)===null||l===void 0?void 0:l.arrayValue,b=un(((u=h==null?void 0:h.values)===null||u===void 0?void 0:u.length)||0,((c=y==null?void 0:y.values)===null||c===void 0?void 0:c.length)||0);return b!==0?b:LN(h,y)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===by.mapValue&&s===by.mapValue)return 0;if(o===by.mapValue)return 1;if(s===by.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const d=un(l[f],c[f]);if(d!==0)return d;const h=xh(a[l[f]],u[c[f]]);if(h!==0)return h}return un(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Pt()}}function MN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return un(t,e);const n=uc(t),r=uc(e),i=un(n.seconds,r.seconds);return i!==0?i:un(n.nanos,r.nanos)}function LN(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=xh(n[i],r[i]);if(o)return o}return un(n.length,r.length)}function Sh(t){return FS(t)}function FS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=uc(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return xf(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return yt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=FS(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${FS(n.fields[s])}`;return i+"}"}(t.mapValue):Pt()}function DN(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function US(t){return!!t&&"integerValue"in t}function oT(t){return!!t&&"arrayValue"in t}function FN(t){return!!t&&"nullValue"in t}function UN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function y0(t){return!!t&&"mapValue"in t}function DY(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Dm(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return jf(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Dm(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Dm(t.arrayValue.values[n]);return e}return Object.assign({},t)}function FY(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this.value=e}static empty(){return new wo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!y0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dm(n)}setAll(e){let n=xi.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Dm(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());y0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ga(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];y0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){jf(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new wo(Dm(this.value))}}function UF(t){const e=[];return jf(t.fields,(n,r)=>{const i=new xi([n]);if(y0(r)){const o=UF(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Go(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new qi(e,0,Ot.min(),Ot.min(),Ot.min(),wo.empty(),0)}static newFoundDocument(e,n,r,i){return new qi(e,1,n,Ot.min(),r,i,0)}static newNoDocument(e,n){return new qi(e,2,n,Ot.min(),Ot.min(),wo.empty(),0)}static newUnknownDocument(e,n){return new qi(e,3,n,Ot.min(),Ot.min(),wo.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ot.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,n){this.position=e,this.inclusive=n}}function $N(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=yt.comparator(yt.fromName(s.referenceValue),n.key):r=xh(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function jN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ga(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,n="asc"){this.field=e,this.dir=n}}function UY(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{}class jr extends $F{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new jY(e,n,r):n==="array-contains"?new qY(e,r):n==="in"?new zY(e,r):n==="not-in"?new HY(e,r):n==="array-contains-any"?new GY(e,r):new jr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new BY(e,r):new VY(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(xh(n,this.value)):n!==null&&Sf(this.value)===Sf(n)&&this.matchesComparison(xh(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ra extends $F{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ra(e,n)}matches(e){return jF(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function jF(t){return t.op==="and"}function BF(t){return $Y(t)&&jF(t)}function $Y(t){for(const e of t.filters)if(e instanceof ra)return!1;return!0}function $S(t){if(t instanceof jr)return t.field.canonicalString()+t.op.toString()+Sh(t.value);if(BF(t))return t.filters.map(e=>$S(e)).join(",");{const e=t.filters.map(n=>$S(n)).join(",");return`${t.op}(${e})`}}function VF(t,e){return t instanceof jr?function(r,i){return i instanceof jr&&r.op===i.op&&r.field.isEqual(i.field)&&Ga(r.value,i.value)}(t,e):t instanceof ra?function(r,i){return i instanceof ra&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&VF(s,i.filters[a]),!0):!1}(t,e):void Pt()}function qF(t){return t instanceof jr?function(n){return`${n.field.canonicalString()} ${n.op} ${Sh(n.value)}`}(t):t instanceof ra?function(n){return n.op.toString()+" {"+n.getFilters().map(qF).join(" ,")+"}"}(t):"Filter"}class jY extends jr{constructor(e,n,r){super(e,n,r),this.key=yt.fromName(r.referenceValue)}matches(e){const n=yt.comparator(e.key,this.key);return this.matchesComparison(n)}}class BY extends jr{constructor(e,n){super(e,"in",n),this.keys=zF("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class VY extends jr{constructor(e,n){super(e,"not-in",n),this.keys=zF("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function zF(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>yt.fromName(r.referenceValue))}class qY extends jr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return oT(n)&&yg(n.arrayValue,this.value)}}class zY extends jr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yg(this.value.arrayValue,n)}}class HY extends jr{constructor(e,n){super(e,"not-in",n)}matches(e){if(yg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!yg(this.value.arrayValue,n)}}class GY extends jr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!oT(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>yg(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WY{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function BN(t,e=null,n=[],r=[],i=null,o=null,s=null){return new WY(t,e,n,r,i,o,s)}function sT(t){const e=Mt(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>$S(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),r_(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Sh(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Sh(r)).join(",")),e.ue=n}return e.ue}function aT(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!UY(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!VF(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jN(t.startAt,e.startAt)&&jN(t.endAt,e.endAt)}function jS(t){return yt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function KY(t,e,n,r,i,o,s,a){return new vv(t,e,n,r,i,o,s,a)}function lT(t){return new vv(t)}function VN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function HF(t){return t.collectionGroup!==null}function Fm(t){const e=Mt(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ai(xi.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new u1(o,r))}),n.has(xi.keyField().canonicalString())||e.ce.push(new u1(xi.keyField(),r))}return e.ce}function $a(t){const e=Mt(t);return e.le||(e.le=YY(e,Fm(t))),e.le}function YY(t,e){if(t.limitType==="F")return BN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new u1(i.field,o)});const n=t.endAt?new l1(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new l1(t.startAt.position,t.startAt.inclusive):null;return BN(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function BS(t,e){const n=t.filters.concat([e]);return new vv(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function VS(t,e,n){return new vv(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function i_(t,e){return aT($a(t),$a(e))&&t.limitType===e.limitType}function GF(t){return`${sT($a(t))}|lt:${t.limitType}`}function _d(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>qF(i)).join(", ")}]`),r_(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Sh(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Sh(i)).join(",")),`Target(${r})`}($a(t))}; limitType=${t.limitType})`}function o_(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):yt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Fm(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=$N(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Fm(r),i)||r.endAt&&!function(s,a,l){const u=$N(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Fm(r),i))}(t,e)}function JY(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function WF(t){return(e,n)=>{let r=!1;for(const i of Fm(t)){const o=XY(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function XY(t,e,n){const r=t.field.isKeyField()?yt.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?xh(l,u):Pt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Pt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){jf(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return DF(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QY=new hr(yt.comparator);function zl(){return QY}const KF=new hr(yt.comparator);function xm(...t){let e=KF;for(const n of t)e=e.insert(n.key,n);return e}function YF(t){let e=KF;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ef(){return Um()}function JF(){return Um()}function Um(){return new Zh(t=>t.toString(),(t,e)=>t.isEqual(e))}const ZY=new hr(yt.comparator),eJ=new Ai(yt.comparator);function Xt(...t){let e=eJ;for(const n of t)e=e.add(n);return e}const tJ=new Ai(un);function nJ(){return tJ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:a1(e)?"-0":e}}function XF(t){return{integerValue:""+t}}function rJ(t,e){return OY(e)?XF(e):uT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(){this._=void 0}}function iJ(t,e,n){return t instanceof c1?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&rT(o)&&(o=iT(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof wg?ZF(t,e):t instanceof _g?eU(t,e):function(i,o){const s=QF(i,o),a=qN(s)+qN(i.Pe);return US(s)&&US(i.Pe)?XF(a):uT(i.serializer,a)}(t,e)}function oJ(t,e,n){return t instanceof wg?ZF(t,e):t instanceof _g?eU(t,e):n}function QF(t,e){return t instanceof f1?function(r){return US(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class c1 extends s_{}class wg extends s_{constructor(e){super(),this.elements=e}}function ZF(t,e){const n=tU(e);for(const r of t.elements)n.some(i=>Ga(i,r))||n.push(r);return{arrayValue:{values:n}}}class _g extends s_{constructor(e){super(),this.elements=e}}function eU(t,e){let n=tU(e);for(const r of t.elements)n=n.filter(i=>!Ga(i,r));return{arrayValue:{values:n}}}class f1 extends s_{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function qN(t){return Nr(t.integerValue||t.doubleValue)}function tU(t){return oT(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function sJ(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof wg&&i instanceof wg||r instanceof _g&&i instanceof _g?bh(r.elements,i.elements,Ga):r instanceof f1&&i instanceof f1?Ga(r.Pe,i.Pe):r instanceof c1&&i instanceof c1}(t.transform,e.transform)}class aJ{constructor(e,n){this.version=e,this.transformResults=n}}class Ss{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ss}static exists(e){return new Ss(void 0,e)}static updateTime(e){return new Ss(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function w0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class a_{}function nU(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new cT(t.key,Ss.none()):new yv(t.key,t.data,Ss.none());{const n=t.data,r=wo.empty();let i=new Ai(xi.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new gc(t.key,r,new Go(i.toArray()),Ss.none())}}function lJ(t,e,n){t instanceof yv?function(i,o,s){const a=i.value.clone(),l=HN(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof gc?function(i,o,s){if(!w0(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=HN(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(rU(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function $m(t,e,n,r){return t instanceof yv?function(o,s,a,l){if(!w0(o.precondition,s))return a;const u=o.value.clone(),c=GN(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof gc?function(o,s,a,l){if(!w0(o.precondition,s))return a;const u=GN(o.fieldTransforms,l,s),c=s.data;return c.setAll(rU(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return w0(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function uJ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=QF(r.transform,i||null);o!=null&&(n===null&&(n=wo.empty()),n.set(r.field,o))}return n||null}function zN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&bh(r,i,(o,s)=>sJ(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yv extends a_{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class gc extends a_{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function rU(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function HN(t,e,n){const r=new Map;In(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,oJ(s,a,n[i]))}return r}function GN(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,iJ(o,s,e))}return r}class cT extends a_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cJ extends a_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fJ{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&lJ(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=$m(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=$m(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=JF();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=nU(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Ot.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Xt())}isEqual(e){return this.batchId===e.batchId&&bh(this.mutations,e.mutations,(n,r)=>zN(n,r))&&bh(this.baseMutations,e.baseMutations,(n,r)=>zN(n,r))}}class fT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){In(e.mutations.length===r.length);let i=function(){return ZY}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new fT(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dJ{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hJ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dr,nn;function pJ(t){switch(t){default:return Pt();case $e.CANCELLED:case $e.UNKNOWN:case $e.DEADLINE_EXCEEDED:case $e.RESOURCE_EXHAUSTED:case $e.INTERNAL:case $e.UNAVAILABLE:case $e.UNAUTHENTICATED:return!1;case $e.INVALID_ARGUMENT:case $e.NOT_FOUND:case $e.ALREADY_EXISTS:case $e.PERMISSION_DENIED:case $e.FAILED_PRECONDITION:case $e.ABORTED:case $e.OUT_OF_RANGE:case $e.UNIMPLEMENTED:case $e.DATA_LOSS:return!0}}function iU(t){if(t===void 0)return ql("GRPC error has no .code"),$e.UNKNOWN;switch(t){case Dr.OK:return $e.OK;case Dr.CANCELLED:return $e.CANCELLED;case Dr.UNKNOWN:return $e.UNKNOWN;case Dr.DEADLINE_EXCEEDED:return $e.DEADLINE_EXCEEDED;case Dr.RESOURCE_EXHAUSTED:return $e.RESOURCE_EXHAUSTED;case Dr.INTERNAL:return $e.INTERNAL;case Dr.UNAVAILABLE:return $e.UNAVAILABLE;case Dr.UNAUTHENTICATED:return $e.UNAUTHENTICATED;case Dr.INVALID_ARGUMENT:return $e.INVALID_ARGUMENT;case Dr.NOT_FOUND:return $e.NOT_FOUND;case Dr.ALREADY_EXISTS:return $e.ALREADY_EXISTS;case Dr.PERMISSION_DENIED:return $e.PERMISSION_DENIED;case Dr.FAILED_PRECONDITION:return $e.FAILED_PRECONDITION;case Dr.ABORTED:return $e.ABORTED;case Dr.OUT_OF_RANGE:return $e.OUT_OF_RANGE;case Dr.UNIMPLEMENTED:return $e.UNIMPLEMENTED;case Dr.DATA_LOSS:return $e.DATA_LOSS;default:return Pt()}}(nn=Dr||(Dr={}))[nn.OK=0]="OK",nn[nn.CANCELLED=1]="CANCELLED",nn[nn.UNKNOWN=2]="UNKNOWN",nn[nn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nn[nn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nn[nn.NOT_FOUND=5]="NOT_FOUND",nn[nn.ALREADY_EXISTS=6]="ALREADY_EXISTS",nn[nn.PERMISSION_DENIED=7]="PERMISSION_DENIED",nn[nn.UNAUTHENTICATED=16]="UNAUTHENTICATED",nn[nn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nn[nn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nn[nn.ABORTED=10]="ABORTED",nn[nn.OUT_OF_RANGE=11]="OUT_OF_RANGE",nn[nn.UNIMPLEMENTED=12]="UNIMPLEMENTED",nn[nn.INTERNAL=13]="INTERNAL",nn[nn.UNAVAILABLE=14]="UNAVAILABLE",nn[nn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mJ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gJ=new uf([4294967295,4294967295],0);function WN(t){const e=mJ().encode(t),n=new PF;return n.update(e),new Uint8Array(n.digest())}function KN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new uf([n,r],0),new uf([i,o],0)]}class dT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Sm(`Invalid padding: ${n}`);if(r<0)throw new Sm(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Sm(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Sm(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=uf.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(uf.fromNumber(r)));return i.compare(gJ)===1&&(i=new uf([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=WN(e),[r,i]=KN(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new dT(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=WN(e),[r,i]=KN(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Sm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,wv.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new l_(Ot.min(),i,new hr(un),zl(),Xt())}}class wv{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wv(r,n,Xt(),Xt(),Xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class oU{constructor(e,n){this.targetId=e,this.me=n}}class sU{constructor(e,n,r=Ii.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class YN{constructor(){this.fe=0,this.ge=XN(),this.pe=Ii.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Xt(),n=Xt(),r=Xt();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Pt()}}),new wv(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=XN()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,In(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class vJ{constructor(e){this.Le=e,this.Be=new Map,this.ke=zl(),this.qe=JN(),this.Qe=new hr(un)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Pt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(jS(o))if(r===0){const s=new yt(o.path);this.Ue(n,s,qi.newNoDocument(s,Ot.min()))}else In(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=xf(r).toUint8Array()}catch(l){if(l instanceof FF)return _h("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new dT(s,i,o)}catch(l){return _h(l instanceof Sm?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&jS(a.target)){const l=new yt(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,qi.newNoDocument(l,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=Xt();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new l_(e,n,this.Qe,this.ke,r);return this.ke=zl(),this.qe=JN(),this.Qe=new hr(un),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new YN,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ai(un),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||lt("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new YN),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function JN(){return new hr(yt.comparator)}function XN(){return new hr(yt.comparator)}const yJ={asc:"ASCENDING",desc:"DESCENDING"},wJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_J={and:"AND",or:"OR"};class bJ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qS(t,e){return t.useProto3Json||r_(e)?e:{value:e}}function d1(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aU(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function xJ(t,e){return d1(t,e.toTimestamp())}function ja(t){return In(!!t),Ot.fromTimestamp(function(n){const r=uc(n);return new ei(r.seconds,r.nanos)}(t))}function hT(t,e){return zS(t,e).canonicalString()}function zS(t,e){const n=function(i){return new Yn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function lU(t){const e=Yn.fromString(t);return In(hU(e)),e}function HS(t,e){return hT(t.databaseId,e.path)}function yb(t,e){const n=lU(e);if(n.get(1)!==t.databaseId.projectId)throw new Qe($e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Qe($e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new yt(cU(n))}function uU(t,e){return hT(t.databaseId,e)}function SJ(t){const e=lU(t);return e.length===4?Yn.emptyPath():cU(e)}function GS(t){return new Yn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function cU(t){return In(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function QN(t,e,n){return{name:HS(t,e),fields:n.value.mapValue.fields}}function EJ(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Pt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(In(c===void 0||typeof c=="string"),Ii.fromBase64String(c||"")):(In(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Ii.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?$e.UNKNOWN:iU(u.code);return new Qe(c,u.message||"")}(s);n=new sU(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=yb(t,r.document.name),o=ja(r.document.updateTime),s=r.document.createTime?ja(r.document.createTime):Ot.min(),a=new wo({mapValue:{fields:r.document.fields}}),l=qi.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new _0(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=yb(t,r.document),o=r.readTime?ja(r.readTime):Ot.min(),s=qi.newNoDocument(i,o),a=r.removedTargetIds||[];n=new _0([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=yb(t,r.document),o=r.removedTargetIds||[];n=new _0([],o,i,null)}else{if(!("filter"in e))return Pt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new hJ(i,o),a=r.targetId;n=new oU(a,s)}}return n}function AJ(t,e){let n;if(e instanceof yv)n={update:QN(t,e.key,e.value)};else if(e instanceof cT)n={delete:HS(t,e.key)};else if(e instanceof gc)n={update:QN(t,e.key,e.data),updateMask:MJ(e.fieldMask)};else{if(!(e instanceof cJ))return Pt();n={verify:HS(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof c1)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof wg)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof _g)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof f1)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Pt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:xJ(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Pt()}(t,e.precondition)),n}function TJ(t,e){return t&&t.length>0?(In(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?ja(i.updateTime):ja(o);return s.isEqual(Ot.min())&&(s=ja(o)),new aJ(s,i.transformResults||[])}(n,e))):[]}function IJ(t,e){return{documents:[uU(t,e.path)]}}function PJ(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=uU(t,i);const o=function(u){if(u.length!==0)return dU(ra.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:bd(d.field),direction:kJ(d.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=qS(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function CJ(t){let e=SJ(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){In(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(f){const d=fU(f);return d instanceof ra&&BF(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(d=>function(y){return new u1(xd(y.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,r_(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,h=f.values||[];return new l1(h,d)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const d=!f.before,h=f.values||[];return new l1(h,d)}(n.endAt)),KY(e,i,s,o,a,"F",l,u)}function NJ(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fU(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=xd(n.unaryFilter.field);return jr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=xd(n.unaryFilter.field);return jr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=xd(n.unaryFilter.field);return jr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=xd(n.unaryFilter.field);return jr.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Pt()}}(t):t.fieldFilter!==void 0?function(n){return jr.create(xd(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ra.create(n.compositeFilter.filters.map(r=>fU(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Pt()}}(n.compositeFilter.op))}(t):Pt()}function kJ(t){return yJ[t]}function RJ(t){return wJ[t]}function OJ(t){return _J[t]}function bd(t){return{fieldPath:t.canonicalString()}}function xd(t){return xi.fromServerFormat(t.fieldPath)}function dU(t){return t instanceof jr?function(n){if(n.op==="=="){if(UN(n.value))return{unaryFilter:{field:bd(n.field),op:"IS_NAN"}};if(FN(n.value))return{unaryFilter:{field:bd(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(UN(n.value))return{unaryFilter:{field:bd(n.field),op:"IS_NOT_NAN"}};if(FN(n.value))return{unaryFilter:{field:bd(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bd(n.field),op:RJ(n.op),value:n.value}}}(t):t instanceof ra?function(n){const r=n.getFilters().map(i=>dU(i));return r.length===1?r[0]:{compositeFilter:{op:OJ(n.op),filters:r}}}(t):Pt()}function MJ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function hU(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,n,r,i,o=Ot.min(),s=Ot.min(),a=Ii.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new qu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LJ{constructor(e){this.ct=e}}function DJ(t){const e=CJ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?VS(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FJ{constructor(){this.un=new UJ}addToCollectionParentIndex(e,n){return this.un.add(n),Be.resolve()}getCollectionParents(e,n){return Be.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Be.resolve()}deleteFieldIndex(e,n){return Be.resolve()}deleteAllFieldIndexes(e){return Be.resolve()}createTargetIndexes(e,n){return Be.resolve()}getDocumentsMatchingTarget(e,n){return Be.resolve(null)}getIndexType(e,n){return Be.resolve(0)}getFieldIndexes(e,n){return Be.resolve([])}getNextCollectionGroupToUpdate(e){return Be.resolve(null)}getMinOffset(e,n){return Be.resolve(lc.min())}getMinOffsetFromCollectionGroup(e,n){return Be.resolve(lc.min())}updateCollectionGroup(e,n,r){return Be.resolve()}updateIndexEntries(e,n){return Be.resolve()}}class UJ{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ai(Yn.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ai(Yn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Eh(0)}static kn(){return new Eh(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $J{constructor(){this.changes=new Zh(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Be.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jJ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BJ{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&$m(r.mutation,i,Go.empty(),ei.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Xt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Xt()){const i=ef();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=xm();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=ef();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Xt()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=zl();const s=Um(),a=function(){return Um()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof gc)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),$m(c.mutation,u,c.mutation.getFieldMask(),ei.now())):s.set(u.key,Go.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var f;return a.set(u,new jJ(c,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Um();let i=new hr((s,a)=>s-a),o=Xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Go.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||Xt()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=JF();c.forEach(d=>{if(!o.has(d)){const h=nU(n.get(d),r.get(d));h!==null&&f.set(d,h),o=o.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return Be.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return yt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):HF(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Be.resolve(ef());let a=-1,l=o;return s.next(u=>Be.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(c)?Be.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Xt())).next(c=>({batchId:a,changes:YF(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new yt(n)).next(r=>{let i=xm();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=xm();return this.indexManager.getCollectionParents(e,o).next(a=>Be.forEach(a,l=>{const u=function(f,d){return new vv(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,d)=>{s=s.insert(f,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,qi.newInvalidDocument(c)))});let a=xm();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&$m(c.mutation,u,Go.empty(),ei.now()),o_(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VJ{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Be.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ja(i.createTime)}}(n)),Be.resolve()}getNamedQuery(e,n){return Be.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:DJ(i.bundledQuery),readTime:ja(i.readTime)}}(n)),Be.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qJ{constructor(){this.overlays=new hr(yt.comparator),this.Ir=new Map}getOverlay(e,n){return Be.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ef();return Be.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),Be.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),Be.resolve()}getOverlaysForCollection(e,n,r){const i=ef(),o=n.length+1,s=new yt(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Be.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new hr((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=ef(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=ef(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return Be.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new dJ(n,r));let o=this.Ir.get(n);o===void 0&&(o=Xt(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zJ{constructor(){this.sessionToken=Ii.EMPTY_BYTE_STRING}getSessionToken(e){return Be.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Be.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(){this.Tr=new Ai(si.Er),this.dr=new Ai(si.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new si(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new si(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new yt(new Yn([])),r=new si(n,e),i=new si(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new yt(new Yn([])),r=new si(n,e),i=new si(n,e+1);let o=Xt();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new si(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class si{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return yt.comparator(e.key,n.key)||un(e.wr,n.wr)}static Ar(e,n){return un(e.wr,n.wr)||yt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HJ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ai(si.Er)}checkEmpty(e){return Be.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new fJ(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new si(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Be.resolve(s)}lookupMutationBatch(e,n){return Be.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return Be.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Be.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new si(n,0),i=new si(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),Be.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ai(un);return n.forEach(i=>{const o=new si(i,0),s=new si(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),Be.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;yt.isDocumentKey(o)||(o=o.child(""));const s=new si(new yt(o),0);let a=new Ai(un);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},s),Be.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){In(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Be.forEach(n.mutations,i=>{const o=new si(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new si(n,0),i=this.br.firstAfterOrEqual(r);return Be.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Be.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GJ{constructor(e){this.Mr=e,this.docs=function(){return new hr(yt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Be.resolve(r?r.document.mutableCopy():qi.newInvalidDocument(n))}getEntries(e,n){let r=zl();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():qi.newInvalidDocument(i))}),Be.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=zl();const s=n.path,a=new yt(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||CY(PY(c),r)<=0||(i.has(c.key)||o_(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return Be.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Pt()}Or(e,n){return Be.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new WJ(this)}getSize(e){return Be.resolve(this.size)}}class WJ extends $J{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Be.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KJ{constructor(e){this.persistence=e,this.Nr=new Zh(n=>sT(n),aT),this.lastRemoteSnapshotVersion=Ot.min(),this.highestTargetId=0,this.Lr=0,this.Br=new pT,this.targetCount=0,this.kr=Eh.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Be.resolve()}getLastRemoteSnapshotVersion(e){return Be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Be.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Be.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Be.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Eh(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Be.resolve()}updateTargetData(e,n){return this.Kn(n),Be.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Be.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Be.waitFor(o).next(()=>i)}getTargetCount(e){return Be.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Be.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Be.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),Be.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Be.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Be.resolve(r)}containsKey(e,n){return Be.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YJ{constructor(e,n){this.qr={},this.overlays={},this.Qr=new nT(0),this.Kr=!1,this.Kr=!0,this.$r=new zJ,this.referenceDelegate=e(this),this.Ur=new KJ(this),this.indexManager=new FJ,this.remoteDocumentCache=function(i){return new GJ(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new LJ(n),this.Gr=new VJ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qJ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new HJ(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){lt("MemoryPersistence","Starting transaction:",e);const i=new JJ(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return Be.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class JJ extends kY{constructor(e){super(),this.currentSequenceNumber=e}}class mT{constructor(e){this.persistence=e,this.Jr=new pT,this.Yr=null}static Zr(e){return new mT(e)}get Xr(){if(this.Yr)return this.Yr;throw Pt()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Be.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Be.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Be.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Be.forEach(this.Xr,r=>{const i=yt.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,Ot.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Be.or([()=>Be.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Xt(),i=Xt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new gT(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XJ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QJ{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return tK()?8:RY(Ki())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new XJ;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Yp()<=en.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",_d(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Be.resolve()):(Yp()<=en.DEBUG&&lt("QueryEngine","Query:",_d(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Yp()<=en.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",_d(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$a(n))):Be.resolve())}Yi(e,n){if(VN(n))return Be.resolve(null);let r=$a(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=VS(n,null,"F"),r=$a(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Xt(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,s,l.readTime)?this.Yi(e,VS(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return VN(n)||i.isEqual(Ot.min())?Be.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?Be.resolve(null):(Yp()<=en.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_d(n)),this.rs(e,s,n,IY(i,-1)).next(a=>a))})}ts(e,n){let r=new Ai(WF(e));return n.forEach((i,o)=>{o_(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Yp()<=en.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",_d(n)),this.Ji.getDocumentsMatchingQuery(e,n,lc.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZJ{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new hr(un),this._s=new Zh(o=>sT(o),aT),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BJ(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function eX(t,e,n,r){return new ZJ(t,e,n,r)}async function pU(t,e){const n=Mt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Xt();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})}function tX(t,e){const n=Mt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const f=u.batch,d=f.keys();let h=Be.resolve();return d.forEach(y=>{h=h.next(()=>c.getEntry(l,y)).next(b=>{const w=u.docVersions.get(y);In(w!==null),b.version.compareTo(w)<0&&(f.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),c.addEntry(b)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Xt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function mU(t){const e=Mt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function nX(t,e){const n=Mt(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;a.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,f)));let h=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?h=h.withResumeToken(Ii.EMPTY_BYTE_STRING,Ot.min()).withLastLimboFreeSnapshotVersion(Ot.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(f,h),function(b,w,_){return b.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(d,h,c)&&a.push(n.Ur.updateTargetData(o,h))});let l=zl(),u=Xt();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(rX(o,s,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(Ot.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return Be.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function rX(t,e,n){let r=Xt(),i=Xt();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=zl();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ot.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):lt("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function iX(t,e){const n=Mt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function oX(t,e){const n=Mt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,Be.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new qu(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function WS(t,e,n){const r=Mt(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!gv(s))throw s;lt("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function ZN(t,e,n){const r=Mt(t);let i=Ot.min(),o=Xt();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const f=Mt(l),d=f._s.get(c);return d!==void 0?Be.resolve(f.os.get(d)):f.Ur.getTargetData(u,c)}(r,s,$a(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:Ot.min(),n?o:Xt())).next(a=>(sX(r,JY(e),a),{documents:a,Ts:o})))}function sX(t,e,n){let r=t.us.get(e)||Ot.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class ek{constructor(){this.activeTargetIds=nJ()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aX{constructor(){this.so=new ek,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ek,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lX{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){lt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){lt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xy=null;function wb(){return xy===null?xy=function(){return 268435456+Math.round(2147483648*Math.random())}():xy++,"0x"+xy.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cX{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li="WebChannelConnection";class fX extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=wb(),l=this.xo(n,r.toUriEncodedString());lt("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(n,l,u,i).then(c=>(lt("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw _h("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qh}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=uX[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=wb();return new Promise((s,a)=>{const l=new CF;l.setWithCredentials(!0),l.listenOnce(NF.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case v0.NO_ERROR:const c=l.getResponseJson();lt(Li,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case v0.TIMEOUT:lt(Li,`RPC '${e}' ${o} timed out`),a(new Qe($e.DEADLINE_EXCEEDED,"Request time out"));break;case v0.HTTP_ERROR:const f=l.getStatus();if(lt(Li,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d==null?void 0:d.error;if(h&&h.status&&h.message){const y=function(w){const _=w.toLowerCase().replace(/_/g,"-");return Object.values($e).indexOf(_)>=0?_:$e.UNKNOWN}(h.status);a(new Qe(y,h.message))}else a(new Qe($e.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Qe($e.UNAVAILABLE,"Connection failed."));break;default:Pt()}}finally{lt(Li,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);lt(Li,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=wb(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=OF(),a=RF(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");lt(Li,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=s.createWebChannel(c,l);let d=!1,h=!1;const y=new cX({Io:w=>{h?lt(Li,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(d||(lt(Li,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),lt(Li,`RPC '${e}' stream ${i} sending:`,w),f.send(w))},To:()=>f.close()}),b=(w,_,S)=>{w.listen(_,E=>{try{S(E)}catch(k){setTimeout(()=>{throw k},0)}})};return b(f,bm.EventType.OPEN,()=>{h||(lt(Li,`RPC '${e}' stream ${i} transport opened.`),y.yo())}),b(f,bm.EventType.CLOSE,()=>{h||(h=!0,lt(Li,`RPC '${e}' stream ${i} transport closed`),y.So())}),b(f,bm.EventType.ERROR,w=>{h||(h=!0,_h(Li,`RPC '${e}' stream ${i} transport errored:`,w),y.So(new Qe($e.UNAVAILABLE,"The operation could not be completed")))}),b(f,bm.EventType.MESSAGE,w=>{var _;if(!h){const S=w.data[0];In(!!S);const E=S,k=E.error||((_=E[0])===null||_===void 0?void 0:_.error);if(k){lt(Li,`RPC '${e}' stream ${i} received error:`,k);const R=k.status;let F=function(T){const $=Dr[T];if($!==void 0)return iU($)}(R),N=k.message;F===void 0&&(F=$e.INTERNAL,N="Unknown error status: "+R+" with message "+k.message),h=!0,y.So(new Qe(F,N)),f.close()}else lt(Li,`RPC '${e}' stream ${i} received:`,S),y.bo(S)}}),b(a,kF.STAT_EVENT,w=>{w.stat===DS.PROXY?lt(Li,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===DS.NOPROXY&&lt(Li,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}function _b(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(t){return new bJ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&lt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e,n,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new gU(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===$e.RESOURCE_EXHAUSTED?(ql(n.toString()),ql("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===$e.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Qe($e.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return lt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(lt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dX extends vU{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=EJ(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ot.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Ot.min():s.readTime?ja(s.readTime):Ot.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=GS(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=jS(l)?{documents:IJ(o,l)}:{query:PJ(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=aU(o,s.resumeToken);const u=qS(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Ot.min())>0){a.readTime=d1(o,s.snapshotVersion.toTimestamp());const u=qS(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=NJ(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=GS(this.serializer),n.removeTarget=e,this.a_(n)}}class hX extends vU{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return In(!!e.streamToken),this.lastStreamToken=e.streamToken,In(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){In(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=TJ(e.writeResults,e.commitTime),r=ja(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=GS(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>AJ(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pX extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Qe($e.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,zS(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Qe($e.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,zS(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Qe($e.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class mX{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ql(n),this.D_=!1):lt("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gX{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{Bf(this)&&(lt("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Mt(l);u.L_.add(4),await _v(u),u.q_.set("Unknown"),u.L_.delete(4),await c_(u)}(this))})}),this.q_=new mX(r,i)}}async function c_(t){if(Bf(t))for(const e of t.B_)await e(!0)}async function _v(t){for(const e of t.B_)await e(!1)}function yU(t,e){const n=Mt(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),_T(n)?wT(n):ep(n).r_()&&yT(n,e))}function vT(t,e){const n=Mt(t),r=ep(n);n.N_.delete(e),r.r_()&&wU(n,e),n.N_.size===0&&(r.r_()?r.o_():Bf(n)&&n.q_.set("Unknown"))}function yT(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ot.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ep(t).A_(e)}function wU(t,e){t.Q_.xe(e),ep(t).R_(e)}function wT(t){t.Q_=new vJ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ep(t).start(),t.q_.v_()}function _T(t){return Bf(t)&&!ep(t).n_()&&t.N_.size>0}function Bf(t){return Mt(t).L_.size===0}function _U(t){t.Q_=void 0}async function vX(t){t.q_.set("Online")}async function yX(t){t.N_.forEach((e,n)=>{yT(t,e)})}async function wX(t,e){_U(t),_T(t)?(t.q_.M_(e),wT(t)):t.q_.set("Unknown")}async function _X(t,e,n){if(t.q_.set("Online"),e instanceof sU&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){lt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await h1(t,r)}else if(e instanceof _0?t.Q_.Ke(e):e instanceof oU?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ot.min()))try{const r=await mU(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(Ii.EMPTY_BYTE_STRING,c.snapshotVersion)),wU(o,l);const f=new qu(c.target,l,u,c.sequenceNumber);yT(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){lt("RemoteStore","Failed to raise snapshot:",r),await h1(t,r)}}async function h1(t,e,n){if(!gv(e))throw e;t.L_.add(1),await _v(t),t.q_.set("Offline"),n||(n=()=>mU(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{lt("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await c_(t)})}function bU(t,e){return e().catch(n=>h1(t,n,e))}async function f_(t){const e=Mt(t),n=cc(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;bX(e);)try{const i=await iX(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,xX(e,i)}catch(i){await h1(e,i)}xU(e)&&SU(e)}function bX(t){return Bf(t)&&t.O_.length<10}function xX(t,e){t.O_.push(e);const n=cc(t);n.r_()&&n.V_&&n.m_(e.mutations)}function xU(t){return Bf(t)&&!cc(t).n_()&&t.O_.length>0}function SU(t){cc(t).start()}async function SX(t){cc(t).p_()}async function EX(t){const e=cc(t);for(const n of t.O_)e.m_(n.mutations)}async function AX(t,e,n){const r=t.O_.shift(),i=fT.from(r,e,n);await bU(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await f_(t)}async function TX(t,e){e&&cc(t).V_&&await async function(r,i){if(function(s){return pJ(s)&&s!==$e.ABORTED}(i.code)){const o=r.O_.shift();cc(r).s_(),await bU(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await f_(r)}}(t,e),xU(t)&&SU(t)}async function nk(t,e){const n=Mt(t);n.asyncQueue.verifyOperationInProgress(),lt("RemoteStore","RemoteStore received new credentials");const r=Bf(n);n.L_.add(3),await _v(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await c_(n)}async function IX(t,e){const n=Mt(t);e?(n.L_.delete(2),await c_(n)):e||(n.L_.add(2),await _v(n),n.q_.set("Unknown"))}function ep(t){return t.K_||(t.K_=function(n,r,i){const o=Mt(n);return o.w_(),new dX(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:vX.bind(null,t),Ro:yX.bind(null,t),mo:wX.bind(null,t),d_:_X.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),_T(t)?wT(t):t.q_.set("Unknown")):(await t.K_.stop(),_U(t))})),t.K_}function cc(t){return t.U_||(t.U_=function(n,r,i){const o=Mt(n);return o.w_(),new hX(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:SX.bind(null,t),mo:TX.bind(null,t),f_:EX.bind(null,t),g_:AX.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await f_(t)):(await t.U_.stop(),t.O_.length>0&&(lt("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ml,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new bT(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Qe($e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xT(t,e){if(ql("AsyncQueue",`${e}: ${t}`),gv(t))return new Qe($e.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e){this.comparator=e?(n,r)=>e(n,r)||yt.comparator(n.key,r.key):(n,r)=>yt.comparator(n.key,r.key),this.keyedMap=xm(),this.sortedSet=new hr(this.comparator)}static emptySet(e){return new Xd(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Xd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(){this.W_=new hr(yt.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Pt():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ah{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Ah(e,n,Xd.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&i_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PX{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class CX{constructor(){this.queries=ik(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Mt(n),o=i.queries;i.queries=ik(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Qe($e.ABORTED,"Firestore shutting down"))}}function ik(){return new Zh(t=>GF(t),i_)}async function EU(t,e){const n=Mt(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new PX,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=xT(s,`Initialization of query '${_d(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&ST(n)}async function AU(t,e){const n=Mt(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function NX(t,e){const n=Mt(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&ST(n)}function kX(t,e,n){const r=Mt(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function ST(t){t.Y_.forEach(e=>{e.next()})}var KS,ok;(ok=KS||(KS={})).ea="default",ok.Cache="cache";class TU{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ah(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ah.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==KS.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e){this.key=e}}class PU{constructor(e){this.key=e}}class RX{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Xt(),this.mutatedKeys=Xt(),this.Aa=WF(e),this.Ra=new Xd(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new rk,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const d=i.get(c),h=o_(this.query,f)?f:null,y=!!d&&this.mutatedKeys.has(d.key),b=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let w=!1;d&&h?d.data.isEqual(h.data)?y!==b&&(r.track({type:3,doc:h}),w=!0):this.ga(d,h)||(r.track({type:2,doc:h}),w=!0,(l&&this.Aa(h,l)>0||u&&this.Aa(h,u)<0)&&(a=!0)):!d&&h?(r.track({type:0,doc:h}),w=!0):d&&!h&&(r.track({type:1,doc:d}),w=!0,(l||u)&&(a=!0)),w&&(h?(s=s.add(h),o=b?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((c,f)=>function(h,y){const b=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pt()}};return b(h)-b(y)}(c.type,f.type)||this.Aa(c.doc,f.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new Ah(this.query,e.Ra,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new rk,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Xt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new PU(r))}),this.da.forEach(r=>{e.has(r)||n.push(new IU(r))}),n}ba(e){this.Ta=e.Ts,this.da=Xt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ah.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class OX{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class MX{constructor(e){this.key=e,this.va=!1}}class LX{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Zh(a=>GF(a),i_),this.Ma=new Map,this.xa=new Set,this.Oa=new hr(yt.comparator),this.Na=new Map,this.La=new pT,this.Ba={},this.ka=new Map,this.qa=Eh.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function DX(t,e,n=!0){const r=MU(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await CU(r,e,n,!0),i}async function FX(t,e){const n=MU(t);await CU(n,e,!0,!1)}async function CU(t,e,n,r){const i=await oX(t.localStore,$a(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await UX(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&yU(t.remoteStore,i),a}async function UX(t,e,n,r,i){t.Ka=(f,d,h)=>async function(b,w,_,S){let E=w.view.ma(_);E.ns&&(E=await ZN(b.localStore,w.query,!1).then(({documents:N})=>w.view.ma(N,E)));const k=S&&S.targetChanges.get(w.targetId),R=S&&S.targetMismatches.get(w.targetId)!=null,F=w.view.applyChanges(E,b.isPrimaryClient,k,R);return ak(b,w.targetId,F.wa),F.snapshot}(t,f,d,h);const o=await ZN(t.localStore,e,!0),s=new RX(e,o.Ts),a=s.ma(o.documents),l=wv.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);ak(t,n,u.wa);const c=new OX(e,n,s);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function $X(t,e,n){const r=Mt(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!i_(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await WS(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&vT(r.remoteStore,i.targetId),YS(r,i.targetId)}).catch(mv)):(YS(r,i.targetId),await WS(r.localStore,i.targetId,!0))}async function jX(t,e){const n=Mt(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),vT(n.remoteStore,r.targetId))}async function BX(t,e,n){const r=KX(t);try{const i=await function(s,a){const l=Mt(s),u=ei.now(),c=a.reduce((h,y)=>h.add(y.key),Xt());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let y=zl(),b=Xt();return l.cs.getEntries(h,c).next(w=>{y=w,y.forEach((_,S)=>{S.isValidDocument()||(b=b.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,y)).next(w=>{f=w;const _=[];for(const S of a){const E=uJ(S,f.get(S.key).overlayedDocument);E!=null&&_.push(new gc(S.key,E,UF(E.value.mapValue),Ss.exists(!0)))}return l.mutationQueue.addMutationBatch(h,u,_,a)}).next(w=>{d=w;const _=w.applyToLocalDocumentSet(f,b);return l.documentOverlayCache.saveOverlays(h,w.batchId,_)})}).then(()=>({batchId:d.batchId,changes:YF(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new hr(un)),u=u.insert(a,l),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,n),await bv(r,i.changes),await f_(r.remoteStore)}catch(i){const o=xT(i,"Failed to persist write");n.reject(o)}}async function NU(t,e){const n=Mt(t);try{const r=await nX(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(In(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?In(s.va):i.removedDocuments.size>0&&(In(s.va),s.va=!1))}),await bv(n,r,e)}catch(r){await mv(r)}}function sk(t,e,n){const r=Mt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Mt(s);l.onlineState=a;let u=!1;l.queries.forEach((c,f)=>{for(const d of f.j_)d.Z_(a)&&(u=!0)}),u&&ST(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function VX(t,e,n){const r=Mt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new hr(yt.comparator);s=s.insert(o,qi.newNoDocument(o,Ot.min()));const a=Xt().add(o),l=new l_(Ot.min(),new Map,new hr(un),s,a);await NU(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),ET(r)}else await WS(r.localStore,e,!1).then(()=>YS(r,e,n)).catch(mv)}async function qX(t,e){const n=Mt(t),r=e.batch.batchId;try{const i=await tX(n.localStore,e);RU(n,r,null),kU(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bv(n,i)}catch(i){await mv(i)}}async function zX(t,e,n){const r=Mt(t);try{const i=await function(s,a){const l=Mt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(In(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);RU(r,e,n),kU(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bv(r,i)}catch(i){await mv(i)}}function kU(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function RU(t,e,n){const r=Mt(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function YS(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||OU(t,r)})}function OU(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(vT(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),ET(t))}function ak(t,e,n){for(const r of n)r instanceof IU?(t.La.addReference(r.key,e),HX(t,r)):r instanceof PU?(lt("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||OU(t,r.key)):Pt()}function HX(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(lt("SyncEngine","New document in limbo: "+n),t.xa.add(r),ET(t))}function ET(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new yt(Yn.fromString(e)),r=t.qa.next();t.Na.set(r,new MX(n)),t.Oa=t.Oa.insert(n,r),yU(t.remoteStore,new qu($a(lT(n.path)),r,"TargetPurposeLimboResolution",nT.oe))}}async function bv(t,e,n){const r=Mt(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=gT.Wi(l.targetId,u);o.push(f)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,u){const c=Mt(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Be.forEach(u,d=>Be.forEach(d.$i,h=>c.persistence.referenceDelegate.addReference(f,d.targetId,h)).next(()=>Be.forEach(d.Ui,h=>c.persistence.referenceDelegate.removeReference(f,d.targetId,h)))))}catch(f){if(!gv(f))throw f;lt("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const d=f.targetId;if(!f.fromCache){const h=c.os.get(d),y=h.snapshotVersion,b=h.withLastLimboFreeSnapshotVersion(y);c.os=c.os.insert(d,b)}}}(r.localStore,o))}async function GX(t,e){const n=Mt(t);if(!n.currentUser.isEqual(e)){lt("SyncEngine","User change. New user:",e.toKey());const r=await pU(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new Qe($e.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bv(n,r.hs)}}function WX(t,e){const n=Mt(t),r=n.Na.get(e);if(r&&r.va)return Xt().add(r.key);{let i=Xt();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function MU(t){const e=Mt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=NU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WX.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VX.bind(null,e),e.Ca.d_=NX.bind(null,e.eventManager),e.Ca.$a=kX.bind(null,e.eventManager),e}function KX(t){const e=Mt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qX.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zX.bind(null,e),e}class p1{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=u_(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return eX(this.persistence,new QJ,e.initialUser,this.serializer)}Ga(e){return new YJ(mT.Zr,this.serializer)}Wa(e){return new aX}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}p1.provider={build:()=>new p1};class JS{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>sk(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=GX.bind(null,this.syncEngine),await IX(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new CX}()}createDatastore(e){const n=u_(e.databaseInfo.databaseId),r=function(o){return new fX(o)}(e.databaseInfo);return function(o,s,a,l){return new pX(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new gX(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>sk(this.syncEngine,n,0),function(){return tk.D()?new tk:new lX}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const f=new LX(i,o,s,a,l,u);return c&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Mt(i);lt("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await _v(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}JS.provider={build:()=>new JS};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ql("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YX{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Bi.UNAUTHENTICATED,this.clientId=LF.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{lt("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(lt("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ml;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=xT(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function bb(t,e){t.asyncQueue.verifyOperationInProgress(),lt("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await pU(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function lk(t,e){t.asyncQueue.verifyOperationInProgress();const n=await JX(t);lt("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>nk(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>nk(e.remoteStore,i)),t._onlineComponents=e}async function JX(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){lt("FirestoreClient","Using user provided OfflineComponentProvider");try{await bb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===$e.FAILED_PRECONDITION||i.code===$e.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;_h("Error using user provided cache. Falling back to memory cache: "+n),await bb(t,new p1)}}else lt("FirestoreClient","Using default OfflineComponentProvider"),await bb(t,new p1);return t._offlineComponents}async function DU(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(lt("FirestoreClient","Using user provided OnlineComponentProvider"),await lk(t,t._uninitializedComponentsProvider._online)):(lt("FirestoreClient","Using default OnlineComponentProvider"),await lk(t,new JS))),t._onlineComponents}function XX(t){return DU(t).then(e=>e.syncEngine)}async function FU(t){const e=await DU(t),n=e.eventManager;return n.onListen=DX.bind(null,e.syncEngine),n.onUnlisten=$X.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=FX.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jX.bind(null,e.syncEngine),n}function QX(t,e,n={}){const r=new Ml;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new LU({next:d=>{c.Za(),s.enqueueAndForget(()=>AU(o,f));const h=d.docs.has(a);!h&&d.fromCache?u.reject(new Qe($e.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&l&&l.source==="server"?u.reject(new Qe($e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new TU(lT(a.path),c,{includeMetadataChanges:!0,_a:!0});return EU(o,f)}(await FU(t),t.asyncQueue,e,n,r)),r.promise}function ZX(t,e,n={}){const r=new Ml;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new LU({next:d=>{c.Za(),s.enqueueAndForget(()=>AU(o,f)),d.fromCache&&l.source==="server"?u.reject(new Qe($e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new TU(a,c,{includeMetadataChanges:!0,_a:!0});return EU(o,f)}(await FU(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UU(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U(t,e,n){if(!n)throw new Qe($e.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function eQ(t,e,n,r){if(e===!0&&r===!0)throw new Qe($e.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ck(t){if(!yt.isDocumentKey(t))throw new Qe($e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function fk(t){if(yt.isDocumentKey(t))throw new Qe($e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function d_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Pt()}function ia(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Qe($e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=d_(t);throw new Qe($e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Qe($e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Qe($e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eQ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UU((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Qe($e.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Qe($e.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Qe($e.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class h_{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dk({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Qe($e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Qe($e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dk(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new yY;switch(r.type){case"firstParty":return new xY(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Qe($e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=uk.get(n);r&&(lt("ComponentProvider","Removing Datastore"),uk.delete(n),r.terminate())}(this),Promise.resolve()}}function tQ(t,e,n,r={}){var i;const o=(t=ia(t,h_))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&_h("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Bi.MOCK_USER;else{a=xF(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Qe($e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Bi(u)}t._authCredentials=new wY(new MF(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new tp(this.firestore,e,this._query)}}class ao{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ao(this.firestore,e,this._key)}}class rc extends tp{constructor(e,n,r){super(e,n,lT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ao(this.firestore,null,new yt(e))}withConverter(e){return new rc(this.firestore,e,this._path)}}function Ta(t,e,...n){if(t=ir(t),$U("collection","path",e),t instanceof h_){const r=Yn.fromString(e,...n);return fk(r),new rc(t,null,r)}{if(!(t instanceof ao||t instanceof rc))throw new Qe($e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Yn.fromString(e,...n));return fk(r),new rc(t.firestore,null,r)}}function gs(t,e,...n){if(t=ir(t),arguments.length===1&&(e=LF.newId()),$U("doc","path",e),t instanceof h_){const r=Yn.fromString(e,...n);return ck(r),new ao(t,null,new yt(r))}{if(!(t instanceof ao||t instanceof rc))throw new Qe($e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Yn.fromString(e,...n));return ck(r),new ao(t.firestore,t instanceof rc?t.converter:null,new yt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new gU(this,"async_queue_retry"),this.Vu=()=>{const r=_b();r&&lt("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=_b();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=_b();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ml;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!gv(e))throw e;lt("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw ql("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=bT.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&Pt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Vf extends h_{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new hk,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hk(e),this._firestoreClient=void 0,await e}}}function nQ(t,e){const n=typeof t=="object"?t:eT(),r=typeof t=="string"?t:"(default)",i=n_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=wF("firestore");o&&tQ(i,...o)}return i}function AT(t){if(t._terminated)throw new Qe($e.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||rQ(t),t._firestoreClient}function rQ(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new LY(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,UU(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new YX(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Th(Ii.fromBase64String(e))}catch(n){throw new Qe($e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Th(Ii.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Qe($e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Qe($e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Qe($e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return un(this._lat,e._lat)||un(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iQ=/^__.*__$/;class oQ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new gc(e,this.data,this.fieldMask,n,this.fieldTransforms):new yv(e,this.data,n,this.fieldTransforms)}}class jU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new gc(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function BU(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pt()}}class CT{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new CT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return m1(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(BU(this.Cu)&&iQ.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class sQ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||u_(e)}Qu(e,n,r,i=!1){return new CT({Cu:e,methodName:n,qu:r,path:xi.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function m_(t){const e=t._freezeSettings(),n=u_(t._databaseId);return new sQ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function VU(t,e,n,r,i,o={}){const s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);NT("Data must be an object, but it was:",s,r);const a=qU(r,s);let l,u;if(o.merge)l=new Go(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const d=XS(e,f,n);if(!s.contains(d))throw new Qe($e.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);HU(c,d)||c.push(d)}l=new Go(c),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new oQ(new wo(a),l,u)}class g_ extends TT{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof g_}}function aQ(t,e,n,r){const i=t.Qu(1,e,n);NT("Data must be an object, but it was:",i,r);const o=[],s=wo.empty();jf(r,(l,u)=>{const c=kT(e,l,n);u=ir(u);const f=i.Nu(c);if(u instanceof g_)o.push(c);else{const d=xv(u,f);d!=null&&(o.push(c),s.set(c,d))}});const a=new Go(o);return new jU(s,a,i.fieldTransforms)}function lQ(t,e,n,r,i,o){const s=t.Qu(1,e,n),a=[XS(e,r,n)],l=[i];if(o.length%2!=0)throw new Qe($e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)a.push(XS(e,o[d])),l.push(o[d+1]);const u=[],c=wo.empty();for(let d=a.length-1;d>=0;--d)if(!HU(u,a[d])){const h=a[d];let y=l[d];y=ir(y);const b=s.Nu(h);if(y instanceof g_)u.push(h);else{const w=xv(y,b);w!=null&&(u.push(h),c.set(h,w))}}const f=new Go(u);return new jU(c,f,s.fieldTransforms)}function uQ(t,e,n,r=!1){return xv(n,t.Qu(r?4:3,e))}function xv(t,e){if(zU(t=ir(t)))return NT("Unsupported field value:",e,t),qU(t,e);if(t instanceof TT)return function(r,i){if(!BU(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=xv(a,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=ir(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return rJ(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=ei.fromDate(r);return{timestampValue:d1(i.serializer,o)}}if(r instanceof ei){const o=new ei(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:d1(i.serializer,o)}}if(r instanceof IT)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Th)return{bytesValue:aU(i.serializer,r._byteString)};if(r instanceof ao){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:hT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof PT)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return uT(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${d_(r)}`)}(t,e)}function qU(t,e){const n={};return DF(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jf(t,(r,i)=>{const o=xv(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function zU(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ei||t instanceof IT||t instanceof Th||t instanceof ao||t instanceof TT||t instanceof PT)}function NT(t,e,n){if(!zU(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=d_(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function XS(t,e,n){if((e=ir(e))instanceof p_)return e._internalPath;if(typeof e=="string")return kT(t,e);throw m1("Field path arguments must be of type string or ",t,!1,void 0,n)}const cQ=new RegExp("[~\\*/\\[\\]]");function kT(t,e,n){if(e.search(cQ)>=0)throw m1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new p_(...e.split("."))._internalPath}catch{throw m1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function m1(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Qe($e.INVALID_ARGUMENT,a+t+l)}function HU(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ao(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(RT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class fQ extends GU{data(){return super.data()}}function RT(t,e){return typeof e=="string"?kT(t,e):e instanceof p_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dQ(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Qe($e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class OT{}class hQ extends OT{}function Sy(t,e,...n){let r=[];e instanceof OT&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof MT).length,a=o.filter(l=>l instanceof v_).length;if(s>1||s>0&&a>0)throw new Qe($e.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class v_ extends hQ{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new v_(e,n,r)}_apply(e){const n=this._parse(e);return WU(e._query,n),new tp(e.firestore,e.converter,BS(e._query,n))}_parse(e){const n=m_(e.firestore);return function(o,s,a,l,u,c,f){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Qe($e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){mk(f,c);const h=[];for(const y of f)h.push(pk(l,o,y));d={arrayValue:{values:h}}}else d=pk(l,o,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||mk(f,c),d=uQ(a,s,f,c==="in"||c==="not-in");return jr.create(u,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function xb(t,e,n){const r=e,i=RT("where",t);return v_._create(i,r,n)}class MT extends OT{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new MT(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ra.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)WU(s,l),s=BS(s,l)}(e._query,n),new tp(e.firestore,e.converter,BS(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function pk(t,e,n){if(typeof(n=ir(n))=="string"){if(n==="")throw new Qe($e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!HF(e)&&n.indexOf("/")!==-1)throw new Qe($e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Yn.fromString(n));if(!yt.isDocumentKey(r))throw new Qe($e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return DN(t,new yt(r))}if(n instanceof ao)return DN(t,n._key);throw new Qe($e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${d_(n)}.`)}function mk(t,e){if(!Array.isArray(t)||t.length===0)throw new Qe($e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function WU(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Qe($e.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Qe($e.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class pQ{convertValue(e,n="none"){switch(Sf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Pt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return jf(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Nr(s.doubleValue));return new PT(o)}convertGeoPoint(e){return new IT(Nr(e.latitude),Nr(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=iT(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(gg(e));default:return null}}convertTimestamp(e){const n=uc(e);return new ei(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Yn.fromString(e);In(hU(r));const i=new vg(r.get(1),r.get(3)),o=new yt(r.popFirst(5));return i.isEqual(n)||ql(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KU(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class YU extends GU{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new b0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(RT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class b0 extends YU{data(e={}){return super.data(e)}}class mQ{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Em(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new b0(this._firestore,this._userDataWriter,r.key,r,new Em(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Qe($e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new b0(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Em(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new b0(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Em(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:gQ(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function gQ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(t){t=ia(t,ao);const e=ia(t.firestore,Vf);return QX(AT(e),t._key).then(n=>yQ(e,t,n))}class JU extends pQ{constructor(e){super(),this.firestore=e}convertBytes(e){return new Th(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ao(this.firestore,null,n)}}function ud(t){t=ia(t,tp);const e=ia(t.firestore,Vf),n=AT(e),r=new JU(e);return dQ(t._query),ZX(n,t._query).then(i=>new mQ(e,r,t,i))}function vQ(t,e,n){t=ia(t,ao);const r=ia(t.firestore,Vf),i=KU(t.converter,e);return y_(r,[VU(m_(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ss.none())])}function cd(t,e,n,...r){t=ia(t,ao);const i=ia(t.firestore,Vf),o=m_(i);let s;return s=typeof(e=ir(e))=="string"||e instanceof p_?lQ(o,"updateDoc",t._key,e,n,r):aQ(o,"updateDoc",t._key,e),y_(i,[s.toMutation(t._key,Ss.exists(!0))])}function Ey(t){return y_(ia(t.firestore,Vf),[new cT(t._key,Ss.none())])}function Ay(t,e){const n=ia(t.firestore,Vf),r=gs(t),i=KU(t.converter,e);return y_(n,[VU(m_(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ss.exists(!1))]).then(()=>r)}function y_(t,e){return function(r,i){const o=new Ml;return r.asyncQueue.enqueueAndForget(async()=>BX(await XX(r),i,o)),o.promise}(AT(t),e)}function yQ(t,e,n){const r=n.docs.get(e._key),i=new JU(t);return new YU(t,i,e._key,r,new Em(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Qh=i})($f),_f(new ac("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Vf(new _Y(r.getProvider("auth-internal")),new EY(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Qe($e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vg(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ua(kN,"4.7.3",e),Ua(kN,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU="firebasestorage.googleapis.com",QU="storageBucket",wQ=2*60*1e3,_Q=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends Ja{constructor(e,n,r=0){super(Sb(e),`Firebase Storage: ${n} (${Sb(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Sb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var br;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(br||(br={}));function Sb(t){return"storage/"+t}function LT(){const t="An unknown error occurred, please check the error payload for server response.";return new xr(br.UNKNOWN,t)}function bQ(t){return new xr(br.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function xQ(t){return new xr(br.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function SQ(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new xr(br.UNAUTHENTICATED,t)}function EQ(){return new xr(br.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function AQ(t){return new xr(br.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function TQ(){return new xr(br.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function IQ(){return new xr(br.CANCELED,"User canceled the upload/download.")}function PQ(t){return new xr(br.INVALID_URL,"Invalid URL '"+t+"'.")}function CQ(t){return new xr(br.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function NQ(){return new xr(br.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+QU+"' property when initializing the app?")}function kQ(){return new xr(br.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function RQ(){return new xr(br.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function OQ(t){return new xr(br.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function QS(t){return new xr(br.INVALID_ARGUMENT,t)}function ZU(){return new xr(br.APP_DELETED,"The Firebase app was deleted.")}function MQ(t){return new xr(br.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function jm(t,e){return new xr(br.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Jp(t){throw new xr(br.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Wo.makeFromUrl(e,n)}catch{return new Wo(e,"")}if(r.path==="")return r;throw CQ(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(k){k.path_=decodeURIComponent(k.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",h=new RegExp(`^https?://${f}/${c}/b/${i}/o${d}`,"i"),y={bucket:1,path:3},b=n===XU?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",_=new RegExp(`^https?://${b}/${i}/${w}`,"i"),E=[{regex:a,indices:l,postModify:o},{regex:h,indices:y,postModify:u},{regex:_,indices:{bucket:1,path:2},postModify:u}];for(let k=0;k<E.length;k++){const R=E[k],F=R.regex.exec(e);if(F){const N=F[R.indices.bucket];let C=F[R.indices.path];C||(C=""),r=new Wo(N,C),R.postModify(r);break}}if(r==null)throw PQ(e);return r}}class LQ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DQ(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let u=!1;function c(...w){u||(u=!0,e.apply(null,w))}function f(w){i=setTimeout(()=>{i=null,t(h,l())},w)}function d(){o&&clearTimeout(o)}function h(w,..._){if(u){d();return}if(w){d(),c.call(null,w,..._);return}if(l()||s){d(),c.call(null,w,..._);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,f(E)}let y=!1;function b(w){y||(y=!0,d(),!u&&(i!==null?(w||(a=2),clearTimeout(i),f(0)):w||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,b(!0)},n),b}function FQ(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UQ(t){return t!==void 0}function $Q(t){return typeof t=="object"&&!Array.isArray(t)}function DT(t){return typeof t=="string"||t instanceof String}function vk(t){return FT()&&t instanceof Blob}function FT(){return typeof Blob<"u"}function yk(t,e,n,r){if(r<e)throw QS(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw QS(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function e7(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var cf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(cf||(cf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jQ(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BQ{constructor(e,n,r,i,o,s,a,l,u,c,f,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,y)=>{this.resolve_=h,this.reject_=y,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Ty(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===cf.NO_ERROR,l=o.getStatus();if(!a||jQ(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===cf.ABORT;r(!1,new Ty(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Ty(u,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());UQ(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=LT();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?ZU():IQ();s(l)}else{const l=TQ();s(l)}};this.canceled_?n(!1,new Ty(!1,null,!0)):this.backoffId_=DQ(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&FQ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ty{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function VQ(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function qQ(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function zQ(t,e){e&&(t["X-Firebase-GMPID"]=e)}function HQ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function GQ(t,e,n,r,i,o,s=!0){const a=e7(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return zQ(u,e),VQ(u,n),qQ(u,o),HQ(u,r),new BQ(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WQ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function KQ(...t){const e=WQ();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(FT())return new Blob(t);throw new xr(br.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function YQ(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JQ(t){if(typeof atob>"u")throw OQ("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Eb{constructor(e,n){this.data=e,this.contentType=n||null}}function XQ(t,e){switch(t){case Oa.RAW:return new Eb(t7(e));case Oa.BASE64:case Oa.BASE64URL:return new Eb(n7(t,e));case Oa.DATA_URL:return new Eb(ZQ(e),eZ(e))}throw LT()}function t7(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function QQ(t){let e;try{e=decodeURIComponent(t)}catch{throw jm(Oa.DATA_URL,"Malformed data URL.")}return t7(e)}function n7(t,e){switch(t){case Oa.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw jm(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Oa.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw jm(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=JQ(e)}catch(i){throw i.message.includes("polyfill")?i:jm(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class r7{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw jm(Oa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=tZ(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function ZQ(t){const e=new r7(t);return e.base64?n7(Oa.BASE64,e.rest):QQ(e.rest)}function eZ(t){return new r7(t).contentType}function tZ(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n){let r=0,i="";vk(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(vk(this.data_)){const r=this.data_,i=YQ(r,e,n);return i===null?null:new Lu(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Lu(r,!0)}}static getBlob(...e){if(FT()){const n=e.map(r=>r instanceof Lu?r.data_:r);return new Lu(KQ.apply(null,n))}else{const n=e.map(s=>DT(s)?XQ(Oa.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new Lu(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i7(t){let e;try{e=JSON.parse(t)}catch{return null}return $Q(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nZ(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function rZ(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function o7(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iZ(t,e){return e}class to{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||iZ}}let Iy=null;function oZ(t){return!DT(t)||t.length<2?t:o7(t)}function s7(){if(Iy)return Iy;const t=[];t.push(new to("bucket")),t.push(new to("generation")),t.push(new to("metageneration")),t.push(new to("name","fullPath",!0));function e(o,s){return oZ(s)}const n=new to("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new to("size");return i.xform=r,t.push(i),t.push(new to("timeCreated")),t.push(new to("updated")),t.push(new to("md5Hash",null,!0)),t.push(new to("cacheControl",null,!0)),t.push(new to("contentDisposition",null,!0)),t.push(new to("contentEncoding",null,!0)),t.push(new to("contentLanguage",null,!0)),t.push(new to("contentType",null,!0)),t.push(new to("metadata","customMetadata",!0)),Iy=t,Iy}function sZ(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new Wo(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function aZ(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return sZ(r,t),r}function a7(t,e,n){const r=i7(e);return r===null?null:aZ(t,r,n)}function lZ(t,e,n,r){const i=i7(e);if(i===null||!DT(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(u=>{const c=t.bucket,f=t.fullPath,d="/b/"+s(c)+"/o/"+s(f),h=UT(d,n,r),y=e7({alt:"media",token:u});return h+y})[0]}function uZ(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class l7{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u7(t){if(!t)throw LT()}function cZ(t,e){function n(r,i){const o=a7(t,i,e);return u7(o!==null),o}return n}function fZ(t,e){function n(r,i){const o=a7(t,i,e);return u7(o!==null),lZ(o,i,t.host,t._protocol)}return n}function c7(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=EQ():i=SQ():n.getStatus()===402?i=xQ(t.bucket):n.getStatus()===403?i=AQ(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function dZ(t){const e=c7(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=bQ(t.path)),o.serverResponse=i.serverResponse,o}return n}function hZ(t,e,n){const r=e.fullServerUrl(),i=UT(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new l7(i,o,fZ(t,n),s);return a.errorHandler=dZ(e),a}function pZ(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function mZ(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=pZ(null,e)),r}function gZ(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let E="";for(let k=0;k<2;k++)E=E+Math.random().toString().slice(2);return E}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const u=mZ(e,r,i),c=uZ(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,d=`\r
--`+l+"--",h=Lu.getBlob(f,r,d);if(h===null)throw kQ();const y={name:u.fullPath},b=UT(o,t.host,t._protocol),w="POST",_=t.maxUploadRetryTime,S=new l7(b,w,cZ(t,n),_);return S.urlParams=y,S.headers=s,S.body=h.uploadData(),S.errorHandler=c7(e),S}class vZ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=cf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=cf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=cf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Jp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Jp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Jp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Jp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Jp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class yZ extends vZ{initXhr(){this.xhr_.responseType="text"}}function f7(){return new yZ}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n){this._service=e,n instanceof Wo?this._location=n:this._location=Wo.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ef(e,n)}get root(){const e=new Wo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return o7(this._location.path)}get storage(){return this._service}get parent(){const e=nZ(this._location.path);if(e===null)return null;const n=new Wo(this._location.bucket,e);return new Ef(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw MQ(e)}}function wZ(t,e,n){t._throwIfRoot("uploadBytes");const r=gZ(t.storage,t._location,s7(),new Lu(e,!0),n);return t.storage.makeRequestWithTokens(r,f7).then(i=>({metadata:i,ref:t}))}function _Z(t){t._throwIfRoot("getDownloadURL");const e=hZ(t.storage,t._location,s7());return t.storage.makeRequestWithTokens(e,f7).then(n=>{if(n===null)throw RQ();return n})}function bZ(t,e){const n=rZ(t._location.path,e),r=new Wo(t._location.bucket,n);return new Ef(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xZ(t){return/^[A-Za-z]+:\/\//.test(t)}function SZ(t,e){return new Ef(t,e)}function d7(t,e){if(t instanceof $T){const n=t;if(n._bucket==null)throw NQ();const r=new Ef(n,n._bucket);return e!=null?d7(r,e):r}else return e!==void 0?bZ(t,e):t}function EZ(t,e){if(e&&xZ(e)){if(t instanceof $T)return SZ(t,e);throw QS("To use ref(service, url), the first argument must be a Storage instance.")}else return d7(t,e)}function wk(t,e){const n=e==null?void 0:e[QU];return n==null?null:Wo.makeFromBucketSpec(n,t)}function AZ(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:xF(i,t.app.options.projectId))}class $T{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=XU,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=wQ,this._maxUploadRetryTime=_Q,this._requests=new Set,i!=null?this._bucket=Wo.makeFromBucketSpec(i,this._host):this._bucket=wk(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Wo.makeFromBucketSpec(this._url,e):this._bucket=wk(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){yk("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){yk("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ef(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new LQ(ZU());{const s=GQ(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const _k="@firebase/storage",bk="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h7="storage";function TZ(t,e,n){return t=ir(t),wZ(t,e,n)}function IZ(t){return t=ir(t),_Z(t)}function PZ(t,e){return t=ir(t),EZ(t,e)}function CZ(t=eT(),e){t=ir(t);const r=n_(t,h7).getImmediate({identifier:e}),i=wF("storage");return i&&NZ(r,...i),r}function NZ(t,e,n,r={}){AZ(t,e,n,r)}function kZ(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new $T(n,r,i,e,$f)}function RZ(){_f(new ac(h7,kZ,"PUBLIC").setMultipleInstances(!0)),Ua(_k,bk,""),Ua(_k,bk,"esm2017")}RZ();var OZ="firebase",MZ="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ua(OZ,MZ,"app");function jT(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function p7(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LZ=p7,m7=new hv("auth","Firebase",p7());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=new QA("@firebase/auth");function DZ(t,...e){g1.logLevel<=en.WARN&&g1.warn(`Auth (${$f}): ${t}`,...e)}function x0(t,...e){g1.logLevel<=en.ERROR&&g1.error(`Auth (${$f}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(t,...e){throw BT(t,...e)}function Ba(t,...e){return BT(t,...e)}function g7(t,e,n){const r=Object.assign(Object.assign({},LZ()),{[e]:n});return new hv("auth","Firebase",r).create(e,{appName:t.name})}function Va(t){return g7(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function BT(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return m7.create(t,...e)}function At(t,e,...n){if(!t)throw BT(e,...n)}function Tl(t){const e="INTERNAL ASSERTION FAILED: "+t;throw x0(e),new Error(e)}function Hl(t,e){t||Tl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function FZ(){return xk()==="http:"||xk()==="https:"}function xk(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UZ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FZ()||QW()||"connection"in navigator)?navigator.onLine:!0}function $Z(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hl(n>e,"Short delay should be less than long delay!"),this.isMobile=YW()||ZW()}get(){return UZ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(t,e){Hl(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Tl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Tl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Tl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BZ=new Sv(3e4,6e4);function Ql(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Xa(t,e,n,r,i={}){return y7(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=pv(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return XW()||(u.referrerPolicy="no-referrer"),v7.fetch()(w7(t,t.config.apiHost,n,a),u)})}async function y7(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},jZ),e);try{const i=new qZ(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Py(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Py(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Py(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Py(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw g7(t,c,u);oa(t,c)}}catch(i){if(i instanceof Ja)throw i;oa(t,"network-request-failed",{message:String(i)})}}async function Ev(t,e,n,r,i={}){const o=await Xa(t,e,n,r,i);return"mfaPendingCredential"in o&&oa(t,"multi-factor-auth-required",{_serverResponse:o}),o}function w7(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?VT(t.config,i):`${t.config.apiScheme}://${i}`}function VZ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qZ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ba(this.auth,"network-request-failed")),BZ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Py(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ba(t,e,r);return i.customData._tokenResponse=n,i}function Sk(t){return t!==void 0&&t.enterprise!==void 0}class zZ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return VZ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function HZ(t,e){return Xa(t,"GET","/v2/recaptchaConfig",Ql(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GZ(t,e){return Xa(t,"POST","/v1/accounts:delete",e)}async function _7(t,e){return Xa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function WZ(t,e=!1){const n=ir(t),r=await n.getIdToken(e),i=qT(r);At(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Bm(Ab(i.auth_time)),issuedAtTime:Bm(Ab(i.iat)),expirationTime:Bm(Ab(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Ab(t){return Number(t)*1e3}function qT(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return x0("JWT malformed, contained fewer than 3 sections"),null;try{const i=vF(n);return i?JSON.parse(i):(x0("Failed to decode base64 JWT payload"),null)}catch(i){return x0("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Ek(t){const e=qT(t);return At(e,"internal-error"),At(typeof e.exp<"u","internal-error"),At(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ih(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ja&&KZ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function KZ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YZ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bm(this.lastLoginAt),this.creationTime=Bm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v1(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ih(t,_7(n,{idToken:r}));At(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?b7(o.providerUserInfo):[],a=XZ(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new eE(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function JZ(t){const e=ir(t);await v1(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XZ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function b7(t){return t.map(e=>{var{providerId:n}=e,r=jT(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QZ(t,e){const n=await y7(t,{},async()=>{const r=pv({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=w7(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",v7.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ZZ(t,e){return Xa(t,"POST","/v2/accounts:revokeToken",Ql(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){At(e.idToken,"internal-error"),At(typeof e.idToken<"u","internal-error"),At(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ek(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){At(e.length!==0,"internal-error");const n=Ek(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await QZ(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Qd;return r&&(At(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(At(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(At(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qd,this.toJSON())}_performRefresh(){return Tl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(t,e){At(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Il{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=jT(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new YZ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new eE(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Ih(this,this.stsTokenManager.getToken(this.auth,e));return At(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return WZ(this,e)}reload(){return JZ(this)}_assign(e){this!==e&&(At(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Il(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await v1(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ys(this.auth.app))return Promise.reject(Va(this.auth));const e=await this.getIdToken();return await Ih(this,GZ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,y=(s=n.photoURL)!==null&&s!==void 0?s:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,S=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:E,emailVerified:k,isAnonymous:R,providerData:F,stsTokenManager:N}=n;At(E&&N,e,"internal-error");const C=Qd.fromJSON(this.name,N);At(typeof E=="string",e,"internal-error"),Tu(f,e.name),Tu(d,e.name),At(typeof k=="boolean",e,"internal-error"),At(typeof R=="boolean",e,"internal-error"),Tu(h,e.name),Tu(y,e.name),Tu(b,e.name),Tu(w,e.name),Tu(_,e.name),Tu(S,e.name);const T=new Il({uid:E,auth:e,email:d,emailVerified:k,displayName:f,isAnonymous:R,photoURL:y,phoneNumber:h,tenantId:b,stsTokenManager:C,createdAt:_,lastLoginAt:S});return F&&Array.isArray(F)&&(T.providerData=F.map($=>Object.assign({},$))),w&&(T._redirectEventId=w),T}static async _fromIdTokenResponse(e,n,r=!1){const i=new Qd;i.updateFromServerResponse(n);const o=new Il({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await v1(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];At(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?b7(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Qd;a.updateFromIdToken(r);const l=new Il({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new eE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=new Map;function Pl(t){Hl(t instanceof Function,"Expected a class definition");let e=Ak.get(t);return e?(Hl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ak.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}x7.type="NONE";const Tk=x7;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(t,e,n){return`firebase:${t}:${e}:${n}`}class Zd{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=S0(this.userKey,i.apiKey,o),this.fullPersistenceKey=S0("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Il._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Zd(Pl(Tk),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Pl(Tk);const s=S0(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const f=Il._fromJSON(e,c);u!==o&&(a=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Zd(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Zd(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(T7(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(S7(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(P7(e))return"Blackberry";if(C7(e))return"Webos";if(E7(e))return"Safari";if((e.includes("chrome/")||A7(e))&&!e.includes("edge/"))return"Chrome";if(I7(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function S7(t=Ki()){return/firefox\//i.test(t)}function E7(t=Ki()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function A7(t=Ki()){return/crios\//i.test(t)}function T7(t=Ki()){return/iemobile/i.test(t)}function I7(t=Ki()){return/android/i.test(t)}function P7(t=Ki()){return/blackberry/i.test(t)}function C7(t=Ki()){return/webos/i.test(t)}function zT(t=Ki()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function eee(t=Ki()){var e;return zT(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function tee(){return eK()&&document.documentMode===10}function N7(t=Ki()){return zT(t)||I7(t)||C7(t)||P7(t)||/windows phone/i.test(t)||T7(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k7(t,e=[]){let n;switch(t){case"Browser":n=Ik(Ki());break;case"Worker":n=`${Ik(Ki())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$f}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nee{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ree(t,e={}){return Xa(t,"GET","/v2/passwordPolicy",Ql(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iee=6;class oee{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:iee,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class see{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pk(this),this.idTokenSubscription=new Pk(this),this.beforeStateQueue=new nee(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=m7,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Pl(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Zd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _7(this,{idToken:e}),r=await Il._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ys(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await v1(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$Z()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ys(this.app))return Promise.reject(Va(this));const n=e?ir(e):null;return n&&At(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&At(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ys(this.app)?Promise.reject(Va(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ys(this.app)?Promise.reject(Va(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ree(this),n=new oee(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new hv("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await ZZ(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Pl(e)||this._popupRedirectResolver;At(n,this,"argument-error"),this.redirectPersistenceManager=await Zd.create(this,[Pl(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=k7(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&DZ(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function vc(t){return ir(t)}class Pk{constructor(e){this.auth=e,this.observer=null,this.addObserver=lK(n=>this.observer=n)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let w_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aee(t){w_=t}function R7(t){return w_.loadJS(t)}function lee(){return w_.recaptchaEnterpriseScript}function uee(){return w_.gapiScript}function cee(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const fee="recaptcha-enterprise",dee="NO_RECAPTCHA";class hee{constructor(e){this.type=fee,this.auth=vc(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{HZ(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new zZ(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;Sk(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(dee)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&Sk(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=lee();l.length!==0&&(l+=a),R7(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function Ck(t,e,n,r=!1){const i=new hee(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function y1(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Ck(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await Ck(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pee(t,e){const n=n_(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(o1(o,e??{}))return i;oa(i,"already-initialized")}return n.initialize({options:e})}function mee(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Pl);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function gee(t,e,n){const r=vc(t);At(r._canInitEmulator,r,"emulator-config-failed"),At(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=O7(e),{host:s,port:a}=vee(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),yee()}function O7(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function vee(t){const e=O7(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Nk(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:Nk(s)}}}function Nk(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function yee(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Tl("not implemented")}_getIdTokenResponse(e){return Tl("not implemented")}_linkToIdToken(e,n){return Tl("not implemented")}_getReauthenticationResolver(e){return Tl("not implemented")}}async function wee(t,e){return Xa(t,"POST","/v1/accounts:update",e)}async function _ee(t,e){return Xa(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bee(t,e){return Ev(t,"POST","/v1/accounts:signInWithPassword",Ql(t,e))}async function xee(t,e){return Xa(t,"POST","/v1/accounts:sendOobCode",Ql(t,e))}async function See(t,e){return xee(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eee(t,e){return Ev(t,"POST","/v1/accounts:signInWithEmailLink",Ql(t,e))}async function Aee(t,e){return Ev(t,"POST","/v1/accounts:signInWithEmailLink",Ql(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg extends HT{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new bg(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new bg(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return y1(e,n,"signInWithPassword",bee);case"emailLink":return Eee(e,{email:this._email,oobCode:this._password});default:oa(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return y1(e,r,"signUpPassword",_ee);case"emailLink":return Aee(e,{idToken:n,email:this._email,oobCode:this._password});default:oa(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eh(t,e){return Ev(t,"POST","/v1/accounts:signInWithIdp",Ql(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tee="http://localhost";class Af extends HT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Af(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):oa("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=jT(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Af(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return eh(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,eh(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,eh(e,n)}buildRequest(){const e={requestUri:Tee,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pv(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iee(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Pee(t){const e=wm(_m(t)).link,n=e?wm(_m(e)).deep_link_id:null,r=wm(_m(t)).deep_link_id;return(r?wm(_m(r)).link:null)||r||n||e||t}class GT{constructor(e){var n,r,i,o,s,a;const l=wm(_m(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,f=Iee((i=l.mode)!==null&&i!==void 0?i:null);At(u&&c&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Pee(e);try{return new GT(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(){this.providerId=np.PROVIDER_ID}static credential(e,n){return bg._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=GT.parseLink(n);return At(r,"argument-error"),bg._fromEmailAndCode(e,r.code,r.tenantId)}}np.PROVIDER_ID="password";np.EMAIL_PASSWORD_SIGN_IN_METHOD="password";np.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av extends M7{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends Av{constructor(){super("facebook.com")}static credential(e){return Af._fromParams({providerId:Du.PROVIDER_ID,signInMethod:Du.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Du.credentialFromTaggedObject(e)}static credentialFromError(e){return Du.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Du.credential(e.oauthAccessToken)}catch{return null}}}Du.FACEBOOK_SIGN_IN_METHOD="facebook.com";Du.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl extends Av{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Af._fromParams({providerId:xl.PROVIDER_ID,signInMethod:xl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xl.credentialFromTaggedObject(e)}static credentialFromError(e){return xl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return xl.credential(n,r)}catch{return null}}}xl.GOOGLE_SIGN_IN_METHOD="google.com";xl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu extends Av{constructor(){super("github.com")}static credential(e){return Af._fromParams({providerId:Fu.PROVIDER_ID,signInMethod:Fu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fu.credentialFromTaggedObject(e)}static credentialFromError(e){return Fu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fu.credential(e.oauthAccessToken)}catch{return null}}}Fu.GITHUB_SIGN_IN_METHOD="github.com";Fu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends Av{constructor(){super("twitter.com")}static credential(e,n){return Af._fromParams({providerId:Uu.PROVIDER_ID,signInMethod:Uu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Uu.credentialFromTaggedObject(e)}static credentialFromError(e){return Uu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Uu.credential(n,r)}catch{return null}}}Uu.TWITTER_SIGN_IN_METHOD="twitter.com";Uu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cee(t,e){return Ev(t,"POST","/v1/accounts:signUp",Ql(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Il._fromIdTokenResponse(e,r,i),s=kk(r);return new Tf({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=kk(r);return new Tf({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function kk(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1 extends Ja{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,w1.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new w1(e,n,r,i)}}function L7(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?w1._fromErrorAndOperation(t,o,e,r):o})}async function Nee(t,e,n=!1){const r=await Ih(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Tf._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kee(t,e,n=!1){const{auth:r}=t;if(Ys(r.app))return Promise.reject(Va(r));const i="reauthenticate";try{const o=await Ih(t,L7(r,i,e,t),n);At(o.idToken,r,"internal-error");const s=qT(o.idToken);At(s,r,"internal-error");const{sub:a}=s;return At(t.uid===a,r,"user-mismatch"),Tf._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&oa(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D7(t,e,n=!1){if(Ys(t.app))return Promise.reject(Va(t));const r="signIn",i=await L7(t,r,e),o=await Tf._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function Ree(t,e){return D7(vc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F7(t){const e=vc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Oee(t,e,n){const r=vc(t);await y1(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",See)}async function Mee(t,e,n){if(Ys(t.app))return Promise.reject(Va(t));const r=vc(t),s=await y1(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Cee).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&F7(t),l}),a=await Tf._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function Lee(t,e,n){return Ys(t.app)?Promise.reject(Va(t)):Ree(ir(t),np.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&F7(t),r})}function Dee(t,e){const n=ir(t);return Ys(n.auth.app)?Promise.reject(Va(n.auth)):U7(n,e,null)}function Fee(t,e){return U7(ir(t),null,e)}async function U7(t,e,n){const{auth:r}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);const s=await Ih(t,wee(r,o));await t._updateTokensIfNecessary(s,!0)}function Uee(t,e,n,r){return ir(t).onIdTokenChanged(e,n,r)}function $ee(t,e,n){return ir(t).beforeAuthStateChanged(e,n)}function jee(t,e,n,r){return ir(t).onAuthStateChanged(e,n,r)}function Bee(t){return ir(t).signOut()}const _1="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_1,"1"),this.storage.removeItem(_1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vee=1e3,qee=10;class j7 extends $7{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=N7(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);tee()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,qee):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Vee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}j7.type="LOCAL";const zee=j7;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B7 extends $7{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}B7.type="SESSION";const V7=B7;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hee(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new __(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await Hee(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}__.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gee{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=WT("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(d.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(){return window}function Wee(t){qa().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q7(){return typeof qa().WorkerGlobalScope<"u"&&typeof qa().importScripts=="function"}async function Kee(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Yee(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Jee(){return q7()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z7="firebaseLocalStorageDb",Xee=1,b1="firebaseLocalStorage",H7="fbase_key";class Tv{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function b_(t,e){return t.transaction([b1],e?"readwrite":"readonly").objectStore(b1)}function Qee(){const t=indexedDB.deleteDatabase(z7);return new Tv(t).toPromise()}function tE(){const t=indexedDB.open(z7,Xee);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(b1,{keyPath:H7})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(b1)?e(r):(r.close(),await Qee(),e(await tE()))})})}async function Rk(t,e,n){const r=b_(t,!0).put({[H7]:e,value:n});return new Tv(r).toPromise()}async function Zee(t,e){const n=b_(t,!1).get(e),r=await new Tv(n).toPromise();return r===void 0?null:r.value}function Ok(t,e){const n=b_(t,!0).delete(e);return new Tv(n).toPromise()}const ete=800,tte=3;class G7{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tE(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>tte)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return q7()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=__._getInstance(Jee()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Kee(),!this.activeServiceWorker)return;this.sender=new Gee(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Yee()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tE();return await Rk(e,_1,"1"),await Ok(e,_1),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Rk(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Zee(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ok(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=b_(i,!1).getAll();return new Tv(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ete)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}G7.type="LOCAL";const nte=G7;new Sv(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rte(t,e){return e?Pl(e):(At(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT extends HT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eh(e,this._buildIdpRequest())}_linkToIdToken(e,n){return eh(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return eh(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ite(t){return D7(t.auth,new KT(t),t.bypassAuthState)}function ote(t){const{auth:e,user:n}=t;return At(n,e,"internal-error"),kee(n,new KT(t),t.bypassAuthState)}async function ste(t){const{auth:e,user:n}=t;return At(n,e,"internal-error"),Nee(n,new KT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ite;case"linkViaPopup":case"linkViaRedirect":return ste;case"reauthViaPopup":case"reauthViaRedirect":return ote;default:oa(this.auth,"internal-error")}}resolve(e){Hl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ate=new Sv(2e3,1e4);class Ud extends W7{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ud.currentPopupAction&&Ud.currentPopupAction.cancel(),Ud.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return At(e,this.auth,"internal-error"),e}async onExecution(){Hl(this.filter.length===1,"Popup operations only handle one event");const e=WT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ba(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ba(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ud.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ba(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ate.get())};e()}}Ud.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lte="pendingRedirect",E0=new Map;class ute extends W7{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=E0.get(this.auth._key());if(!e){try{const r=await cte(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}E0.set(this.auth._key(),e)}return this.bypassAuthState||E0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cte(t,e){const n=hte(e),r=dte(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function fte(t,e){E0.set(t._key(),e)}function dte(t){return Pl(t._redirectPersistence)}function hte(t){return S0(lte,t.config.apiKey,t.name)}async function pte(t,e,n=!1){if(Ys(t.app))return Promise.reject(Va(t));const r=vc(t),i=rte(r,e),s=await new ute(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mte=10*60*1e3;class gte{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vte(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!K7(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ba(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mte&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mk(e))}saveEventToCache(e){this.cachedEventUids.add(Mk(e)),this.lastProcessedEventTime=Date.now()}}function Mk(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function K7({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function vte(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return K7(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yte(t,e={}){return Xa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wte=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_te=/^https?/;async function bte(t){if(t.config.emulator)return;const{authorizedDomains:e}=await yte(t);for(const n of e)try{if(xte(n))return}catch{}oa(t,"unauthorized-domain")}function xte(t){const e=ZS(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!_te.test(n))return!1;if(wte.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ste=new Sv(3e4,6e4);function Lk(){const t=qa().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Ete(t){return new Promise((e,n)=>{var r,i,o;function s(){Lk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Lk(),n(Ba(t,"network-request-failed"))},timeout:Ste.get()})}if(!((i=(r=qa().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=qa().gapi)===null||o===void 0)&&o.load)s();else{const a=cee("iframefcb");return qa()[a]=()=>{gapi.load?s():n(Ba(t,"network-request-failed"))},R7(`${uee()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw A0=null,e})}let A0=null;function Ate(t){return A0=A0||Ete(t),A0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tte=new Sv(5e3,15e3),Ite="__/auth/iframe",Pte="emulator/auth/iframe",Cte={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nte=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kte(t){const e=t.config;At(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?VT(e,Pte):`https://${t.config.authDomain}/${Ite}`,r={apiKey:e.apiKey,appName:t.name,v:$f},i=Nte.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${pv(r).slice(1)}`}async function Rte(t){const e=await Ate(t),n=qa().gapi;return At(n,t,"internal-error"),e.open({where:document.body,url:kte(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Cte,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Ba(t,"network-request-failed"),a=qa().setTimeout(()=>{o(s)},Tte.get());function l(){qa().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ote={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Mte=500,Lte=600,Dte="_blank",Fte="http://localhost";class Dk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ute(t,e,n,r=Mte,i=Lte){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Ote),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Ki().toLowerCase();n&&(a=A7(u)?Dte:n),S7(u)&&(e=e||Fte,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[h,y])=>`${d}${h}=${y},`,"");if(eee(u)&&a!=="_self")return $te(e||"",a),new Dk(null);const f=window.open(e||"",a,c);At(f,t,"popup-blocked");try{f.focus()}catch{}return new Dk(f)}function $te(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jte="__/auth/handler",Bte="emulator/auth/handler",Vte=encodeURIComponent("fac");async function Fk(t,e,n,r,i,o){At(t.config.authDomain,t,"auth-domain-config-required"),At(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$f,eventId:i};if(e instanceof M7){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",aK(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))s[c]=f}if(e instanceof Av){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${Vte}=${encodeURIComponent(l)}`:"";return`${qte(t)}?${pv(a).slice(1)}${u}`}function qte({config:t}){return t.emulator?VT(t,Bte):`https://${t.authDomain}/${jte}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="webStorageSupport";class zte{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=V7,this._completeRedirectFn=pte,this._overrideRedirectResult=fte}async _openPopup(e,n,r,i){var o;Hl((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await Fk(e,n,r,ZS(),i);return Ute(e,s,WT())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await Fk(e,n,r,ZS(),i);return Wee(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Hl(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Rte(e),r=new gte(e);return n.register("authEvent",i=>(At(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tb,{type:Tb},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Tb];s!==void 0&&n(!!s),oa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bte(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return N7()||E7()||zT()}}const Hte=zte;var Uk="@firebase/auth",$k="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gte{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wte(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Kte(t){_f(new ac("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;At(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:k7(t)},u=new see(r,i,o,l);return mee(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),_f(new ac("auth-internal",e=>{const n=vc(e.getProvider("auth").getImmediate());return(r=>new Gte(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ua(Uk,$k,Wte(t)),Ua(Uk,$k,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yte=5*60,Jte=bF("authIdTokenMaxAge")||Yte;let jk=null;const Xte=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Jte)return;const i=n==null?void 0:n.token;jk!==i&&(jk=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Qte(t=eT()){const e=n_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=pee(t,{popupRedirectResolver:Hte,persistence:[nte,zee,V7]}),r=bF("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=Xte(o.toString());$ee(n,s,()=>s(n.currentUser)),Uee(n,a=>s(a))}}const i=yF("auth");return i&&gee(n,`http://${i}`),n}function Zte(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}aee({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Ba("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Zte().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Kte("Browser");const ene={apiKey:"AIzaSyCs1NAMdvtuiWzbYMohY0aZa2AiS9z8uNw",authDomain:"downey-cleaning.firebaseapp.com",projectId:"downey-cleaning",storageBucket:"downey-cleaning.firebasestorage.app",messagingSenderId:"1001041748354",appId:"1:1001041748354:web:6f6ea1b637b8be84e2ef9b",measurementId:"G-MMZD70R02H"},YT=AF(ene),Wa=Qte(YT),Cr=nQ(YT),tne=CZ(YT);new xl;const nne=async(t,e)=>(await Lee(Wa,t,e)).user,rne=async(t,e)=>(await Mee(Wa,t,e)).user,ine=async t=>{if(!Wa.currentUser)throw new Error("No user logged in");await Dee(Wa.currentUser,t)},one=async t=>{if(!Wa.currentUser)throw new Error("No user logged in");await Fee(Wa.currentUser,t)},sne=async t=>{await Oee(Wa,t)},ane=async()=>{try{await Bee(Wa)}catch(t){console.error("Logout error:",t)}};var lne={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let une,cne;function fne(){return{geminiUrl:une,vertexUrl:cne}}function dne(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const s=fne();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(o=s.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zl{}function Ke(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function v(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const a=s.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[a])){const l=t[a];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];v(c,e.slice(o+1),n[u])}else for(const u of l)v(u,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const a=s.slice(0,-3);a in t||(t[a]=[{}]);const l=t[a];v(l[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function p(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const s=t[o];return Array.isArray(s)?s.map(a=>p(a,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function hne(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),s=new Set;let a=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){a=l;break}if(a!==-1&&o.length>a)for(let l=a;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&s.add(u)}nE(t,i,o,0,s)}}function nE(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const s=o.slice(0,-2),a=t;if(s in a&&Array.isArray(a[s]))for(const l of a[s])nE(l,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,a=Object.keys(s).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of a)l[u]=s[u];for(const[u,c]of Object.entries(l)){const f=[];for(const d of n.slice(r))d==="*"?f.push(u):f.push(d);v(s,f,c)}for(const u of a)delete s[u]}}else{const s=t;o in s&&nE(s[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JT(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pne(t){const e={},n=p(t,["operationName"]);n!=null&&v(e,["operationName"],n);const r=p(t,["resourceName"]);return r!=null&&v(e,["_url","resourceName"],r),e}function mne(t){const e={},n=p(t,["name"]);n!=null&&v(e,["name"],n);const r=p(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=p(t,["done"]);i!=null&&v(e,["done"],i);const o=p(t,["error"]);o!=null&&v(e,["error"],o);const s=p(t,["response","generateVideoResponse"]);return s!=null&&v(e,["response"],vne(s)),e}function gne(t){const e={},n=p(t,["name"]);n!=null&&v(e,["name"],n);const r=p(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=p(t,["done"]);i!=null&&v(e,["done"],i);const o=p(t,["error"]);o!=null&&v(e,["error"],o);const s=p(t,["response"]);return s!=null&&v(e,["response"],yne(s)),e}function vne(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>wne(s))),v(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&v(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&v(e,["raiMediaFilteredReasons"],i),e}function yne(t){const e={},n=p(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>_ne(s))),v(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&v(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&v(e,["raiMediaFilteredReasons"],i),e}function wne(t){const e={},n=p(t,["video"]);return n!=null&&v(e,["video"],Tne(n)),e}function _ne(t){const e={},n=p(t,["_self"]);return n!=null&&v(e,["video"],Ine(n)),e}function bne(t){const e={},n=p(t,["operationName"]);return n!=null&&v(e,["_url","operationName"],n),e}function xne(t){const e={},n=p(t,["operationName"]);return n!=null&&v(e,["_url","operationName"],n),e}function Sne(t){const e={},n=p(t,["name"]);n!=null&&v(e,["name"],n);const r=p(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=p(t,["done"]);i!=null&&v(e,["done"],i);const o=p(t,["error"]);o!=null&&v(e,["error"],o);const s=p(t,["response"]);return s!=null&&v(e,["response"],Ene(s)),e}function Ene(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&v(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&v(e,["documentName"],i),e}function Y7(t){const e={},n=p(t,["name"]);n!=null&&v(e,["name"],n);const r=p(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=p(t,["done"]);i!=null&&v(e,["done"],i);const o=p(t,["error"]);o!=null&&v(e,["error"],o);const s=p(t,["response"]);return s!=null&&v(e,["response"],Ane(s)),e}function Ane(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&v(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&v(e,["documentName"],i),e}function Tne(t){const e={},n=p(t,["uri"]);n!=null&&v(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&v(e,["videoBytes"],JT(r));const i=p(t,["encoding"]);return i!=null&&v(e,["mimeType"],i),e}function Ine(t){const e={},n=p(t,["gcsUri"]);n!=null&&v(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&v(e,["videoBytes"],JT(r));const i=p(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Bk;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Bk||(Bk={}));var Vk;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Vk||(Vk={}));var qk;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(qk||(qk={}));var zu;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(zu||(zu={}));var zk;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(zk||(zk={}));var Hk;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Hk||(Hk={}));var Gk;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Gk||(Gk={}));var Wk;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Wk||(Wk={}));var Kk;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Kk||(Kk={}));var Yk;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(Yk||(Yk={}));var Jk;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Jk||(Jk={}));var Xk;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Xk||(Xk={}));var Qk;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Qk||(Qk={}));var Zk;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Zk||(Zk={}));var eR;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(eR||(eR={}));var tR;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(tR||(tR={}));var nR;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(nR||(nR={}));var rR;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(rR||(rR={}));var iR;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(iR||(iR={}));var x1;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(x1||(x1={}));var oR;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(oR||(oR={}));var sR;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(sR||(sR={}));var aR;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(aR||(aR={}));var rE;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(rE||(rE={}));var lR;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(lR||(lR={}));var uR;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(uR||(uR={}));var cR;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(cR||(cR={}));var fR;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(fR||(fR={}));var dR;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(dR||(dR={}));var hR;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(hR||(hR={}));var pR;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(pR||(pR={}));var mR;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(mR||(mR={}));var gR;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(gR||(gR={}));var vR;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(vR||(vR={}));var yR;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(yR||(yR={}));var wR;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(wR||(wR={}));var _R;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(_R||(_R={}));var bR;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(bR||(bR={}));var xR;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(xR||(xR={}));var SR;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(SR||(SR={}));var ER;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(ER||(ER={}));var AR;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(AR||(AR={}));var TR;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(TR||(TR={}));var IR;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(IR||(IR={}));var PR;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(PR||(PR={}));var CR;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(CR||(CR={}));var NR;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(NR||(NR={}));var kR;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(kR||(kR={}));var RR;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(RR||(RR={}));var OR;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(OR||(OR={}));var MR;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(MR||(MR={}));var LR;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(LR||(LR={}));var DR;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(DR||(DR={}));var FR;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(FR||(FR={}));var UR;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(UR||(UR={}));var $d;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})($d||($d={}));class iE{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Xp{get text(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const f=[];for(const d of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[h,y]of Object.entries(d))h!=="text"&&h!=="thought"&&h!=="thoughtSignature"&&(y!==null||y!==void 0)&&f.push(h);if(typeof d.text=="string"){if(typeof d.thought=="boolean"&&d.thought)continue;c=!0,u+=d.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const f of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[d,h]of Object.entries(f))d!=="inlineData"&&(h!==null||h!==void 0)&&c.push(d);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class $R{}class jR{}class Pne{}class Cne{}class Nne{}class kne{}class BR{}class VR{}class qR{}class Rne{}class S1{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new S1;let i;const o=e;return n?i=gne(o):i=mne(o),Object.assign(r,i),r}}class zR{}class HR{}class GR{}class WR{}class One{}class Mne{}class Lne{}class XT{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new XT,o=Sne(e);return Object.assign(r,o),r}}class Dne{}class Fne{}class Une{}class KR{}class $ne{get text(){var e,n,r;let i="",o=!1;const s=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(a))l!=="text"&&l!=="thought"&&u!==null&&s.push(l);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;o=!0,i+=a.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[a,l]of Object.entries(s))a!=="inlineData"&&l!==null&&o.push(a);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class jne{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class QT{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new QT,o=Y7(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cn(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function J7(t,e){const n=cn(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function X7(t){return Array.isArray(t)?t.map(e=>E1(e)):[E1(t)]}function E1(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Q7(t){const e=E1(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Z7(t){const e=E1(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function YR(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function e$(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>YR(e)):[YR(t)]}function oE(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function JR(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function XR(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Gi(t){if(t==null)throw new Error("ContentUnion is required");return oE(t)?t:{role:"user",parts:e$(t)}}function ZT(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Gi(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Gi(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Gi(n)):[Gi(e)]}function Es(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(JR(t)||XR(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Gi(t)]}const e=[],n=[],r=oE(t[0]);for(const i of t){const o=oE(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(JR(i)||XR(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:e$(n)}),e}function Bne(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(zu).includes(n[0].toUpperCase())?n[0].toUpperCase():zu.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(zu).includes(r.toUpperCase())?r.toUpperCase():zu.TYPE_UNSPECIFIED})}}function th(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&Bne(t.type,e);for(const[s,a]of Object.entries(t))if(a!=null)if(s=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(zu).includes(a.toUpperCase())?a.toUpperCase():zu.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=th(a);else if(r.includes(s)){const l=[];for(const u of a){if(u.type=="null"){e.nullable=!0;continue}l.push(th(u))}e[s]=l}else if(i.includes(s)){const l={};for(const[u,c]of Object.entries(a))l[u]=th(c);e[s]=l}else{if(s==="additionalProperties")continue;e[s]=a}return e}function eI(t){return th(t)}function tI(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function nI(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function rp(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=th(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=th(e.response));return t}function ip(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Vne(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function eu(t,e){if(typeof e!="string")throw new Error("name must be a string");return Vne(t,e,"cachedContents")}function t$(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function yc(t){return JT(t)}function qne(t){return t!=null&&typeof t=="object"&&"name"in t}function zne(t){return t!=null&&typeof t=="object"&&"video"in t}function Hne(t){return t!=null&&typeof t=="object"&&"uri"in t}function n$(t){var e;let n;if(qne(t)&&(n=t.name),!(Hne(t)&&(n=t.uri,n===void 0))&&!(zne(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function r$(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function i$(t){for(const e of["models","tunedModels","publisherModels"])if(Gne(t,e))return t[e];return[]}function Gne(t,e){return t!==null&&typeof t=="object"&&e in t}function Wne(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Kne(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const s=Wne(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function o$(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Yne(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function s$(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const l=s.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function op(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function a$(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jne(t){const e={},n=p(t,["responsesFile"]);n!=null&&v(e,["fileName"],n);const r=p(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Nre(s))),v(e,["inlinedResponses"],o)}const i=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),v(e,["inlinedEmbedContentResponses"],o)}return e}function Xne(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&v(e,["format"],n);const r=p(t,["gcsDestination","outputUriPrefix"]);r!=null&&v(e,["gcsUri"],r);const i=p(t,["bigqueryDestination","outputUri"]);return i!=null&&v(e,["bigqueryUri"],i),e}function Qne(t){const e={},n=p(t,["format"]);n!=null&&v(e,["predictionsFormat"],n);const r=p(t,["gcsUri"]);r!=null&&v(e,["gcsDestination","outputUriPrefix"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&v(e,["bigqueryDestination","outputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function T0(t){const e={},n=p(t,["name"]);n!=null&&v(e,["name"],n);const r=p(t,["metadata","displayName"]);r!=null&&v(e,["displayName"],r);const i=p(t,["metadata","state"]);i!=null&&v(e,["state"],a$(i));const o=p(t,["metadata","createTime"]);o!=null&&v(e,["createTime"],o);const s=p(t,["metadata","endTime"]);s!=null&&v(e,["endTime"],s);const a=p(t,["metadata","updateTime"]);a!=null&&v(e,["updateTime"],a);const l=p(t,["metadata","model"]);l!=null&&v(e,["model"],l);const u=p(t,["metadata","output"]);return u!=null&&v(e,["dest"],Jne(s$(u))),e}function sE(t){const e={},n=p(t,["name"]);n!=null&&v(e,["name"],n);const r=p(t,["displayName"]);r!=null&&v(e,["displayName"],r);const i=p(t,["state"]);i!=null&&v(e,["state"],a$(i));const o=p(t,["error"]);o!=null&&v(e,["error"],o);const s=p(t,["createTime"]);s!=null&&v(e,["createTime"],s);const a=p(t,["startTime"]);a!=null&&v(e,["startTime"],a);const l=p(t,["endTime"]);l!=null&&v(e,["endTime"],l);const u=p(t,["updateTime"]);u!=null&&v(e,["updateTime"],u);const c=p(t,["model"]);c!=null&&v(e,["model"],c);const f=p(t,["inputConfig"]);f!=null&&v(e,["src"],Zne(f));const d=p(t,["outputConfig"]);d!=null&&v(e,["dest"],Xne(s$(d)));const h=p(t,["completionStats"]);return h!=null&&v(e,["completionStats"],h),e}function Zne(t){const e={},n=p(t,["instancesFormat"]);n!=null&&v(e,["format"],n);const r=p(t,["gcsSource","uris"]);r!=null&&v(e,["gcsUri"],r);const i=p(t,["bigquerySource","inputUri"]);return i!=null&&v(e,["bigqueryUri"],i),e}function ere(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=p(e,["fileName"]);r!=null&&v(n,["fileName"],r);const i=p(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Cre(t,s))),v(n,["requests","requests"],o)}return n}function tre(t){const e={},n=p(t,["format"]);n!=null&&v(e,["instancesFormat"],n);const r=p(t,["gcsUri"]);r!=null&&v(e,["gcsSource","uris"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&v(e,["bigquerySource","inputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function nre(t){const e={},n=p(t,["data"]);if(n!=null&&v(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function rre(t,e){const n={},r=p(e,["name"]);return r!=null&&v(n,["_url","name"],op(t,r)),n}function ire(t,e){const n={},r=p(e,["name"]);return r!=null&&v(n,["_url","name"],op(t,r)),n}function ore(t){const e={},n=p(t,["content"]);n!=null&&v(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&v(e,["citationMetadata"],sre(r));const i=p(t,["tokenCount"]);i!=null&&v(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&v(e,["finishReason"],o);const s=p(t,["avgLogprobs"]);s!=null&&v(e,["avgLogprobs"],s);const a=p(t,["groundingMetadata"]);a!=null&&v(e,["groundingMetadata"],a);const l=p(t,["index"]);l!=null&&v(e,["index"],l);const u=p(t,["logprobsResult"]);u!=null&&v(e,["logprobsResult"],u);const c=p(t,["safetyRatings"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>h)),v(e,["safetyRatings"],d)}const f=p(t,["urlContextMetadata"]);return f!=null&&v(e,["urlContextMetadata"],f),e}function sre(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),v(e,["citations"],r)}return e}function l$(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Fre(o))),v(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&v(e,["role"],r),e}function are(t,e){const n={},r=p(t,["displayName"]);if(e!==void 0&&r!=null&&v(e,["batch","displayName"],r),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function lre(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&v(e,["displayName"],r);const i=p(t,["dest"]);return e!==void 0&&i!=null&&v(e,["outputConfig"],Qne(Yne(i))),n}function QR(t,e){const n={},r=p(e,["model"]);r!=null&&v(n,["_url","model"],cn(t,r));const i=p(e,["src"]);i!=null&&v(n,["batch","inputConfig"],ere(t,o$(t,i)));const o=p(e,["config"]);return o!=null&&are(o,n),n}function ure(t,e){const n={},r=p(e,["model"]);r!=null&&v(n,["model"],cn(t,r));const i=p(e,["src"]);i!=null&&v(n,["inputConfig"],tre(o$(t,i)));const o=p(e,["config"]);return o!=null&&lre(o,n),n}function cre(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&v(e,["batch","displayName"],r),n}function fre(t,e){const n={},r=p(e,["model"]);r!=null&&v(n,["_url","model"],cn(t,r));const i=p(e,["src"]);i!=null&&v(n,["batch","inputConfig"],yre(t,i));const o=p(e,["config"]);return o!=null&&cre(o,n),n}function dre(t,e){const n={},r=p(e,["name"]);return r!=null&&v(n,["_url","name"],op(t,r)),n}function hre(t,e){const n={},r=p(e,["name"]);return r!=null&&v(n,["_url","name"],op(t,r)),n}function pre(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&v(e,["name"],r);const i=p(t,["done"]);i!=null&&v(e,["done"],i);const o=p(t,["error"]);return o!=null&&v(e,["error"],o),e}function mre(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&v(e,["name"],r);const i=p(t,["done"]);i!=null&&v(e,["done"],i);const o=p(t,["error"]);return o!=null&&v(e,["error"],o),e}function gre(t,e){const n={},r=p(e,["contents"]);if(r!=null){let o=ZT(t,r);Array.isArray(o)&&(o=o.map(s=>s)),v(n,["requests[]","request","content"],o)}const i=p(e,["config"]);return i!=null&&(v(n,["_self"],vre(i,n)),hne(n,{"requests[].*":"requests[].request.*"})),n}function vre(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&v(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&v(e,["requests[]","title"],i);const o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&v(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function yre(t,e){const n={},r=p(e,["fileName"]);r!=null&&v(n,["file_name"],r);const i=p(e,["inlinedRequests"]);return i!=null&&v(n,["requests"],gre(t,i)),n}function wre(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function _re(t){const e={},n=p(t,["id"]);n!=null&&v(e,["id"],n);const r=p(t,["args"]);r!=null&&v(e,["args"],r);const i=p(t,["name"]);if(i!=null&&v(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function bre(t){const e={},n=p(t,["mode"]);n!=null&&v(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);if(r!=null&&v(e,["allowedFunctionNames"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function xre(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&v(n,["systemInstruction"],l$(Gi(i)));const o=p(e,["temperature"]);o!=null&&v(r,["temperature"],o);const s=p(e,["topP"]);s!=null&&v(r,["topP"],s);const a=p(e,["topK"]);a!=null&&v(r,["topK"],a);const l=p(e,["candidateCount"]);l!=null&&v(r,["candidateCount"],l);const u=p(e,["maxOutputTokens"]);u!=null&&v(r,["maxOutputTokens"],u);const c=p(e,["stopSequences"]);c!=null&&v(r,["stopSequences"],c);const f=p(e,["responseLogprobs"]);f!=null&&v(r,["responseLogprobs"],f);const d=p(e,["logprobs"]);d!=null&&v(r,["logprobs"],d);const h=p(e,["presencePenalty"]);h!=null&&v(r,["presencePenalty"],h);const y=p(e,["frequencyPenalty"]);y!=null&&v(r,["frequencyPenalty"],y);const b=p(e,["seed"]);b!=null&&v(r,["seed"],b);const w=p(e,["responseMimeType"]);w!=null&&v(r,["responseMimeType"],w);const _=p(e,["responseSchema"]);_!=null&&v(r,["responseSchema"],eI(_));const S=p(e,["responseJsonSchema"]);if(S!=null&&v(r,["responseJsonSchema"],S),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const E=p(e,["safetySettings"]);if(n!==void 0&&E!=null){let U=E;Array.isArray(U)&&(U=U.map(W=>Ure(W))),v(n,["safetySettings"],U)}const k=p(e,["tools"]);if(n!==void 0&&k!=null){let U=ip(k);Array.isArray(U)&&(U=U.map(W=>jre(rp(W)))),v(n,["tools"],U)}const R=p(e,["toolConfig"]);if(n!==void 0&&R!=null&&v(n,["toolConfig"],$re(R)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const F=p(e,["cachedContent"]);n!==void 0&&F!=null&&v(n,["cachedContent"],eu(t,F));const N=p(e,["responseModalities"]);N!=null&&v(r,["responseModalities"],N);const C=p(e,["mediaResolution"]);C!=null&&v(r,["mediaResolution"],C);const T=p(e,["speechConfig"]);if(T!=null&&v(r,["speechConfig"],tI(T)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const $=p(e,["thinkingConfig"]);$!=null&&v(r,["thinkingConfig"],$);const P=p(e,["imageConfig"]);P!=null&&v(r,["imageConfig"],Pre(P));const D=p(e,["enableEnhancedCivicAnswers"]);return D!=null&&v(r,["enableEnhancedCivicAnswers"],D),r}function Sre(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>ore(u))),v(e,["candidates"],l)}const i=p(t,["modelVersion"]);i!=null&&v(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&v(e,["promptFeedback"],o);const s=p(t,["responseId"]);s!=null&&v(e,["responseId"],s);const a=p(t,["usageMetadata"]);return a!=null&&v(e,["usageMetadata"],a),e}function Ere(t,e){const n={},r=p(e,["name"]);return r!=null&&v(n,["_url","name"],op(t,r)),n}function Are(t,e){const n={},r=p(e,["name"]);return r!=null&&v(n,["_url","name"],op(t,r)),n}function Tre(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function Ire(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function Pre(t){const e={},n=p(t,["aspectRatio"]);n!=null&&v(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&v(e,["imageSize"],r),p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Cre(t,e){const n={},r=p(e,["model"]);r!=null&&v(n,["request","model"],cn(t,r));const i=p(e,["contents"]);if(i!=null){let a=Es(i);Array.isArray(a)&&(a=a.map(l=>l$(l))),v(n,["request","contents"],a)}const o=p(e,["metadata"]);o!=null&&v(n,["metadata"],o);const s=p(e,["config"]);return s!=null&&v(n,["request","generationConfig"],xre(t,s,p(n,["request"],{}))),n}function Nre(t){const e={},n=p(t,["response"]);n!=null&&v(e,["response"],Sre(n));const r=p(t,["error"]);return r!=null&&v(e,["error"],r),e}function kre(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);if(e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Rre(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&v(e,["_query","pageToken"],i);const o=p(t,["filter"]);return e!==void 0&&o!=null&&v(e,["_query","filter"],o),n}function Ore(t){const e={},n=p(t,["config"]);return n!=null&&kre(n,e),e}function Mre(t){const e={},n=p(t,["config"]);return n!=null&&Rre(n,e),e}function Lre(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=p(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>T0(s))),v(e,["batchJobs"],o)}return e}function Dre(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=p(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>sE(s))),v(e,["batchJobs"],o)}return e}function Fre(t){const e={},n=p(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&v(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&v(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&v(e,["fileData"],wre(o));const s=p(t,["functionCall"]);s!=null&&v(e,["functionCall"],_re(s));const a=p(t,["functionResponse"]);a!=null&&v(e,["functionResponse"],a);const l=p(t,["inlineData"]);l!=null&&v(e,["inlineData"],nre(l));const u=p(t,["text"]);u!=null&&v(e,["text"],u);const c=p(t,["thought"]);c!=null&&v(e,["thought"],c);const f=p(t,["thoughtSignature"]);f!=null&&v(e,["thoughtSignature"],f);const d=p(t,["videoMetadata"]);return d!=null&&v(e,["videoMetadata"],d),e}function Ure(t){const e={},n=p(t,["category"]);if(n!=null&&v(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&v(e,["threshold"],r),e}function $re(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&v(e,["functionCallingConfig"],bre(n));const r=p(t,["retrievalConfig"]);return r!=null&&v(e,["retrievalConfig"],r),e}function jre(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>f)),v(e,["functionDeclarations"],c)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&v(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&v(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&v(e,["fileSearch"],o);const s=p(t,["codeExecution"]);if(s!=null&&v(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=p(t,["googleMaps"]);a!=null&&v(e,["googleMaps"],Tre(a));const l=p(t,["googleSearch"]);l!=null&&v(e,["googleSearch"],Ire(l));const u=p(t,["urlContext"]);return u!=null&&v(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Gl;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Gl||(Gl={}));class qf{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bre extends Zl{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new qf(Gl.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=QR(this.apiClient,e),r=n._url,i=Ke("{model}:batchGenerateContent",r),a=n.batch.inputConfig.requests,l=a.requests,u=[];for(const c of l){const f=Object.assign({},c);if(f.systemInstruction){const d=f.systemInstruction;delete f.systemInstruction;const h=f.request;h.systemInstruction=d,f.request=h}u.push(f)}return a.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),s=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=ure(this.apiClient,e);return a=Ke("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>sE(c))}else{const u=QR(this.apiClient,e);return a=Ke("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>T0(c))}}async createEmbeddingsInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=fre(this.apiClient,e);return o=Ke("{model}:asyncBatchEmbedContent",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>T0(l))}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Are(this.apiClient,e);return a=Ke("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>sE(c))}else{const u=Ere(this.apiClient,e);return a=Ke("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>T0(c))}}async cancel(e){var n,r,i,o;let s="",a={};if(this.apiClient.isVertexAI()){const l=ire(this.apiClient,e);s=Ke("batchPredictionJobs/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=rre(this.apiClient,e);s=Ke("batches/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Mre(e);return a=Ke("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=Dre(c),d=new KR;return Object.assign(d,f),d})}else{const u=Ore(e);return a=Ke("batches",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=Lre(c),d=new KR;return Object.assign(d,f),d})}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=hre(this.apiClient,e);return a=Ke("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>mre(c))}else{const u=dre(this.apiClient,e);return a=Ke("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>pre(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vre(t){const e={},n=p(t,["data"]);if(n!=null&&v(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function ZR(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>fie(o))),v(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&v(e,["role"],r),e}function qre(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&v(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&v(e,["displayName"],o);const s=p(t,["contents"]);if(e!==void 0&&s!=null){let c=Es(s);Array.isArray(c)&&(c=c.map(f=>ZR(f))),v(e,["contents"],c)}const a=p(t,["systemInstruction"]);e!==void 0&&a!=null&&v(e,["systemInstruction"],ZR(Gi(a)));const l=p(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>hie(f))),v(e,["tools"],c)}const u=p(t,["toolConfig"]);if(e!==void 0&&u!=null&&v(e,["toolConfig"],die(u)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function zre(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&v(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&v(e,["displayName"],o);const s=p(t,["contents"]);if(e!==void 0&&s!=null){let f=Es(s);Array.isArray(f)&&(f=f.map(d=>d)),v(e,["contents"],f)}const a=p(t,["systemInstruction"]);e!==void 0&&a!=null&&v(e,["systemInstruction"],Gi(a));const l=p(t,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(d=>pie(d))),v(e,["tools"],f)}const u=p(t,["toolConfig"]);e!==void 0&&u!=null&&v(e,["toolConfig"],u);const c=p(t,["kmsKeyName"]);return e!==void 0&&c!=null&&v(e,["encryption_spec","kmsKeyName"],c),n}function Hre(t,e){const n={},r=p(e,["model"]);r!=null&&v(n,["model"],J7(t,r));const i=p(e,["config"]);return i!=null&&qre(i,n),n}function Gre(t,e){const n={},r=p(e,["model"]);r!=null&&v(n,["model"],J7(t,r));const i=p(e,["config"]);return i!=null&&zre(i,n),n}function Wre(t,e){const n={},r=p(e,["name"]);return r!=null&&v(n,["_url","name"],eu(t,r)),n}function Kre(t,e){const n={},r=p(e,["name"]);return r!=null&&v(n,["_url","name"],eu(t,r)),n}function Yre(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function Jre(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function Xre(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function Qre(t){const e={},n=p(t,["id"]);n!=null&&v(e,["id"],n);const r=p(t,["args"]);r!=null&&v(e,["args"],r);const i=p(t,["name"]);if(i!=null&&v(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Zre(t){const e={},n=p(t,["mode"]);n!=null&&v(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);if(r!=null&&v(e,["allowedFunctionNames"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function eie(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&v(e,["description"],n);const r=p(t,["name"]);r!=null&&v(e,["name"],r);const i=p(t,["parameters"]);i!=null&&v(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&v(e,["parametersJsonSchema"],o);const s=p(t,["response"]);s!=null&&v(e,["response"],s);const a=p(t,["responseJsonSchema"]);return a!=null&&v(e,["responseJsonSchema"],a),e}function tie(t,e){const n={},r=p(e,["name"]);return r!=null&&v(n,["_url","name"],eu(t,r)),n}function nie(t,e){const n={},r=p(e,["name"]);return r!=null&&v(n,["_url","name"],eu(t,r)),n}function rie(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function iie(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function oie(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function sie(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function aie(t){const e={},n=p(t,["config"]);return n!=null&&oie(n,e),e}function lie(t){const e={},n=p(t,["config"]);return n!=null&&sie(n,e),e}function uie(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),v(e,["cachedContents"],o)}return e}function cie(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),v(e,["cachedContents"],o)}return e}function fie(t){const e={},n=p(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&v(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&v(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&v(e,["fileData"],Xre(o));const s=p(t,["functionCall"]);s!=null&&v(e,["functionCall"],Qre(s));const a=p(t,["functionResponse"]);a!=null&&v(e,["functionResponse"],a);const l=p(t,["inlineData"]);l!=null&&v(e,["inlineData"],Vre(l));const u=p(t,["text"]);u!=null&&v(e,["text"],u);const c=p(t,["thought"]);c!=null&&v(e,["thought"],c);const f=p(t,["thoughtSignature"]);f!=null&&v(e,["thoughtSignature"],f);const d=p(t,["videoMetadata"]);return d!=null&&v(e,["videoMetadata"],d),e}function die(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&v(e,["functionCallingConfig"],Zre(n));const r=p(t,["retrievalConfig"]);return r!=null&&v(e,["retrievalConfig"],r),e}function hie(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>f)),v(e,["functionDeclarations"],c)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&v(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&v(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&v(e,["fileSearch"],o);const s=p(t,["codeExecution"]);if(s!=null&&v(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=p(t,["googleMaps"]);a!=null&&v(e,["googleMaps"],rie(a));const l=p(t,["googleSearch"]);l!=null&&v(e,["googleSearch"],iie(l));const u=p(t,["urlContext"]);return u!=null&&v(e,["urlContext"],u),e}function pie(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(d=>eie(d))),v(e,["functionDeclarations"],f)}const r=p(t,["retrieval"]);r!=null&&v(e,["retrieval"],r);const i=p(t,["googleSearchRetrieval"]);i!=null&&v(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);if(o!=null&&v(e,["computerUse"],o),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=p(t,["codeExecution"]);s!=null&&v(e,["codeExecution"],s);const a=p(t,["enterpriseWebSearch"]);a!=null&&v(e,["enterpriseWebSearch"],a);const l=p(t,["googleMaps"]);l!=null&&v(e,["googleMaps"],l);const u=p(t,["googleSearch"]);u!=null&&v(e,["googleSearch"],u);const c=p(t,["urlContext"]);return c!=null&&v(e,["urlContext"],c),e}function mie(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&v(e,["expireTime"],i),n}function gie(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&v(e,["expireTime"],i),n}function vie(t,e){const n={},r=p(e,["name"]);r!=null&&v(n,["_url","name"],eu(t,r));const i=p(e,["config"]);return i!=null&&mie(i,n),n}function yie(t,e){const n={},r=p(e,["name"]);r!=null&&v(n,["_url","name"],eu(t,r));const i=p(e,["config"]);return i!=null&&gie(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wie extends Zl{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new qf(Gl.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Gre(this.apiClient,e);return a=Ke("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=Hre(this.apiClient,e);return a=Ke("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=nie(this.apiClient,e);return a=Ke("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=tie(this.apiClient,e);return a=Ke("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Kre(this.apiClient,e);return a=Ke("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=Jre(c),d=new GR;return Object.assign(d,f),d})}else{const u=Wre(this.apiClient,e);return a=Ke("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=Yre(c),d=new GR;return Object.assign(d,f),d})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=yie(this.apiClient,e);return a=Ke("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=vie(this.apiClient,e);return a=Ke("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=lie(e);return a=Ke("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=cie(c),d=new WR;return Object.assign(d,f),d})}else{const u=aie(e);return a=Ke("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=uie(c),d=new WR;return Object.assign(d,f),d})}}}function A1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function e4(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function kt(t){return this instanceof kt?(this.v=t,this):new kt(t)}function Zs(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(y){return Promise.resolve(y).then(h,f)}}function a(h,y){r[h]&&(i[h]=function(b){return new Promise(function(w,_){o.push([h,b,w,_])>1||l(h,b)})},y&&(i[h]=y(i[h])))}function l(h,y){try{u(r[h](y))}catch(b){d(o[0][3],b)}}function u(h){h.value instanceof kt?Promise.resolve(h.value.v).then(c,f):d(o[0][2],h)}function c(h){l("next",h)}function f(h){l("throw",h)}function d(h,y){h(y),o.shift(),o.length&&l(o[0][0],o[0][1])}}function ea(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof e4=="function"?e4(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _ie(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:u$(n)}function u$(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function bie(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function t4(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!u$(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class xie{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Sie(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Sie{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),bie(o)}async sendMessage(e){var n;await this.sendPromise;const r=Gi(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,a;const l=await i,u=(s=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,c=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let d=[];c!=null&&(d=(a=c.slice(f))!==null&&a!==void 0?a:[]);const h=u?[u]:[];this.recordHistory(r,h,d)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Gi(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?t4(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Zs(this,arguments,function*(){var i,o,s,a,l,u;const c=[];try{for(var f=!0,d=ea(e),h;h=yield kt(d.next()),i=h.done,!i;f=!0){a=h.value,f=!1;const y=a;if(_ie(y)){const b=(u=(l=y.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;b!==void 0&&c.push(b)}yield yield kt(y)}}catch(y){o={error:y}}finally{try{!f&&!i&&(s=d.return)&&(yield kt(s.call(d)))}finally{if(o)throw o.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...t4(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class x_ extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,x_.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Eie(t){const e={},n=p(t,["file"]);return n!=null&&v(e,["file"],n),e}function Aie(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function Tie(t){const e={},n=p(t,["name"]);return n!=null&&v(e,["_url","file"],n$(n)),e}function Iie(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function Pie(t){const e={},n=p(t,["name"]);return n!=null&&v(e,["_url","file"],n$(n)),e}function Cie(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function Nie(t){const e={},n=p(t,["config"]);return n!=null&&Cie(n,e),e}function kie(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=p(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),v(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rie extends Zl{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new qf(Gl.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Nie(e);return o=Ke("files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=kie(l),c=new Dne;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Eie(e);return o=Ke("upload/v1beta/files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Aie(l),c=new Fne;return Object.assign(c,u),c})}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Pie(e);return o=Ke("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Tie(e);return o=Ke("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Iie(l),c=new Une;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function I0(t){const e={},n=p(t,["data"]);if(n!=null&&v(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function Oie(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Yie(o))),v(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&v(e,["role"],r),e}function Mie(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function Lie(t){const e={},n=p(t,["id"]);n!=null&&v(e,["id"],n);const r=p(t,["args"]);r!=null&&v(e,["args"],r);const i=p(t,["name"]);if(i!=null&&v(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Die(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&v(e,["description"],n);const r=p(t,["name"]);r!=null&&v(e,["name"],r);const i=p(t,["parameters"]);i!=null&&v(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&v(e,["parametersJsonSchema"],o);const s=p(t,["response"]);s!=null&&v(e,["response"],s);const a=p(t,["responseJsonSchema"]);return a!=null&&v(e,["responseJsonSchema"],a),e}function Fie(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&v(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&v(e,["responseJsonSchema"],r);const i=p(t,["audioTimestamp"]);i!=null&&v(e,["audioTimestamp"],i);const o=p(t,["candidateCount"]);o!=null&&v(e,["candidateCount"],o);const s=p(t,["enableAffectiveDialog"]);s!=null&&v(e,["enableAffectiveDialog"],s);const a=p(t,["frequencyPenalty"]);a!=null&&v(e,["frequencyPenalty"],a);const l=p(t,["logprobs"]);l!=null&&v(e,["logprobs"],l);const u=p(t,["maxOutputTokens"]);u!=null&&v(e,["maxOutputTokens"],u);const c=p(t,["mediaResolution"]);c!=null&&v(e,["mediaResolution"],c);const f=p(t,["presencePenalty"]);f!=null&&v(e,["presencePenalty"],f);const d=p(t,["responseLogprobs"]);d!=null&&v(e,["responseLogprobs"],d);const h=p(t,["responseMimeType"]);h!=null&&v(e,["responseMimeType"],h);const y=p(t,["responseModalities"]);y!=null&&v(e,["responseModalities"],y);const b=p(t,["responseSchema"]);b!=null&&v(e,["responseSchema"],b);const w=p(t,["routingConfig"]);w!=null&&v(e,["routingConfig"],w);const _=p(t,["seed"]);_!=null&&v(e,["seed"],_);const S=p(t,["speechConfig"]);S!=null&&v(e,["speechConfig"],S);const E=p(t,["stopSequences"]);E!=null&&v(e,["stopSequences"],E);const k=p(t,["temperature"]);k!=null&&v(e,["temperature"],k);const R=p(t,["thinkingConfig"]);R!=null&&v(e,["thinkingConfig"],R);const F=p(t,["topK"]);F!=null&&v(e,["topK"],F);const N=p(t,["topP"]);if(N!=null&&v(e,["topP"],N),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Uie(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function $ie(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function jie(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","temperature"],o);const s=p(t,["topP"]);e!==void 0&&s!=null&&v(e,["setup","generationConfig","topP"],s);const a=p(t,["topK"]);e!==void 0&&a!=null&&v(e,["setup","generationConfig","topK"],a);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&v(e,["setup","generationConfig","maxOutputTokens"],l);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&v(e,["setup","generationConfig","mediaResolution"],u);const c=p(t,["seed"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","seed"],c);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","speechConfig"],nI(f));const d=p(t,["thinkingConfig"]);e!==void 0&&d!=null&&v(e,["setup","generationConfig","thinkingConfig"],d);const h=p(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],h);const y=p(t,["systemInstruction"]);e!==void 0&&y!=null&&v(e,["setup","systemInstruction"],Oie(Gi(y)));const b=p(t,["tools"]);if(e!==void 0&&b!=null){let F=ip(b);Array.isArray(F)&&(F=F.map(N=>Xie(rp(N)))),v(e,["setup","tools"],F)}const w=p(t,["sessionResumption"]);e!==void 0&&w!=null&&v(e,["setup","sessionResumption"],Jie(w));const _=p(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&v(e,["setup","inputAudioTranscription"],_);const S=p(t,["outputAudioTranscription"]);e!==void 0&&S!=null&&v(e,["setup","outputAudioTranscription"],S);const E=p(t,["realtimeInputConfig"]);e!==void 0&&E!=null&&v(e,["setup","realtimeInputConfig"],E);const k=p(t,["contextWindowCompression"]);e!==void 0&&k!=null&&v(e,["setup","contextWindowCompression"],k);const R=p(t,["proactivity"]);if(e!==void 0&&R!=null&&v(e,["setup","proactivity"],R),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Bie(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig"],Fie(r));const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","temperature"],o);const s=p(t,["topP"]);e!==void 0&&s!=null&&v(e,["setup","generationConfig","topP"],s);const a=p(t,["topK"]);e!==void 0&&a!=null&&v(e,["setup","generationConfig","topK"],a);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&v(e,["setup","generationConfig","maxOutputTokens"],l);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&v(e,["setup","generationConfig","mediaResolution"],u);const c=p(t,["seed"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","seed"],c);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","speechConfig"],nI(f));const d=p(t,["thinkingConfig"]);e!==void 0&&d!=null&&v(e,["setup","generationConfig","thinkingConfig"],d);const h=p(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],h);const y=p(t,["systemInstruction"]);e!==void 0&&y!=null&&v(e,["setup","systemInstruction"],Gi(y));const b=p(t,["tools"]);if(e!==void 0&&b!=null){let N=ip(b);Array.isArray(N)&&(N=N.map(C=>Qie(rp(C)))),v(e,["setup","tools"],N)}const w=p(t,["sessionResumption"]);e!==void 0&&w!=null&&v(e,["setup","sessionResumption"],w);const _=p(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&v(e,["setup","inputAudioTranscription"],_);const S=p(t,["outputAudioTranscription"]);e!==void 0&&S!=null&&v(e,["setup","outputAudioTranscription"],S);const E=p(t,["realtimeInputConfig"]);e!==void 0&&E!=null&&v(e,["setup","realtimeInputConfig"],E);const k=p(t,["contextWindowCompression"]);e!==void 0&&k!=null&&v(e,["setup","contextWindowCompression"],k);const R=p(t,["proactivity"]);e!==void 0&&R!=null&&v(e,["setup","proactivity"],R);const F=p(t,["explicitVadSignal"]);return e!==void 0&&F!=null&&v(e,["setup","explicitVadSignal"],F),n}function Vie(t,e){const n={},r=p(e,["model"]);r!=null&&v(n,["setup","model"],cn(t,r));const i=p(e,["config"]);return i!=null&&v(n,["config"],jie(i,n)),n}function qie(t,e){const n={},r=p(e,["model"]);r!=null&&v(n,["setup","model"],cn(t,r));const i=p(e,["config"]);return i!=null&&v(n,["config"],Bie(i,n)),n}function zie(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&v(e,["musicGenerationConfig"],n),e}function Hie(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),v(e,["weightedPrompts"],r)}return e}function Gie(t){const e={},n=p(t,["media"]);if(n!=null){let u=X7(n);Array.isArray(u)&&(u=u.map(c=>I0(c))),v(e,["mediaChunks"],u)}const r=p(t,["audio"]);r!=null&&v(e,["audio"],I0(Z7(r)));const i=p(t,["audioStreamEnd"]);i!=null&&v(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&v(e,["video"],I0(Q7(o)));const s=p(t,["text"]);s!=null&&v(e,["text"],s);const a=p(t,["activityStart"]);a!=null&&v(e,["activityStart"],a);const l=p(t,["activityEnd"]);return l!=null&&v(e,["activityEnd"],l),e}function Wie(t){const e={},n=p(t,["media"]);if(n!=null){let u=X7(n);Array.isArray(u)&&(u=u.map(c=>c)),v(e,["mediaChunks"],u)}const r=p(t,["audio"]);r!=null&&v(e,["audio"],Z7(r));const i=p(t,["audioStreamEnd"]);i!=null&&v(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&v(e,["video"],Q7(o));const s=p(t,["text"]);s!=null&&v(e,["text"],s);const a=p(t,["activityStart"]);a!=null&&v(e,["activityStart"],a);const l=p(t,["activityEnd"]);return l!=null&&v(e,["activityEnd"],l),e}function Kie(t){const e={},n=p(t,["setupComplete"]);n!=null&&v(e,["setupComplete"],n);const r=p(t,["serverContent"]);r!=null&&v(e,["serverContent"],r);const i=p(t,["toolCall"]);i!=null&&v(e,["toolCall"],i);const o=p(t,["toolCallCancellation"]);o!=null&&v(e,["toolCallCancellation"],o);const s=p(t,["usageMetadata"]);s!=null&&v(e,["usageMetadata"],Zie(s));const a=p(t,["goAway"]);a!=null&&v(e,["goAway"],a);const l=p(t,["sessionResumptionUpdate"]);l!=null&&v(e,["sessionResumptionUpdate"],l);const u=p(t,["voiceActivityDetectionSignal"]);return u!=null&&v(e,["voiceActivityDetectionSignal"],u),e}function Yie(t){const e={},n=p(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&v(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&v(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&v(e,["fileData"],Mie(o));const s=p(t,["functionCall"]);s!=null&&v(e,["functionCall"],Lie(s));const a=p(t,["functionResponse"]);a!=null&&v(e,["functionResponse"],a);const l=p(t,["inlineData"]);l!=null&&v(e,["inlineData"],I0(l));const u=p(t,["text"]);u!=null&&v(e,["text"],u);const c=p(t,["thought"]);c!=null&&v(e,["thought"],c);const f=p(t,["thoughtSignature"]);f!=null&&v(e,["thoughtSignature"],f);const d=p(t,["videoMetadata"]);return d!=null&&v(e,["videoMetadata"],d),e}function Jie(t){const e={},n=p(t,["handle"]);if(n!=null&&v(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Xie(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>f)),v(e,["functionDeclarations"],c)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&v(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&v(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&v(e,["fileSearch"],o);const s=p(t,["codeExecution"]);if(s!=null&&v(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=p(t,["googleMaps"]);a!=null&&v(e,["googleMaps"],Uie(a));const l=p(t,["googleSearch"]);l!=null&&v(e,["googleSearch"],$ie(l));const u=p(t,["urlContext"]);return u!=null&&v(e,["urlContext"],u),e}function Qie(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(d=>Die(d))),v(e,["functionDeclarations"],f)}const r=p(t,["retrieval"]);r!=null&&v(e,["retrieval"],r);const i=p(t,["googleSearchRetrieval"]);i!=null&&v(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);if(o!=null&&v(e,["computerUse"],o),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=p(t,["codeExecution"]);s!=null&&v(e,["codeExecution"],s);const a=p(t,["enterpriseWebSearch"]);a!=null&&v(e,["enterpriseWebSearch"],a);const l=p(t,["googleMaps"]);l!=null&&v(e,["googleMaps"],l);const u=p(t,["googleSearch"]);u!=null&&v(e,["googleSearch"],u);const c=p(t,["urlContext"]);return c!=null&&v(e,["urlContext"],c),e}function Zie(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&v(e,["promptTokenCount"],n);const r=p(t,["cachedContentTokenCount"]);r!=null&&v(e,["cachedContentTokenCount"],r);const i=p(t,["candidatesTokenCount"]);i!=null&&v(e,["responseTokenCount"],i);const o=p(t,["toolUsePromptTokenCount"]);o!=null&&v(e,["toolUsePromptTokenCount"],o);const s=p(t,["thoughtsTokenCount"]);s!=null&&v(e,["thoughtsTokenCount"],s);const a=p(t,["totalTokenCount"]);a!=null&&v(e,["totalTokenCount"],a);const l=p(t,["promptTokensDetails"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(y=>y)),v(e,["promptTokensDetails"],h)}const u=p(t,["cacheTokensDetails"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(y=>y)),v(e,["cacheTokensDetails"],h)}const c=p(t,["candidatesTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(y=>y)),v(e,["responseTokensDetails"],h)}const f=p(t,["toolUsePromptTokensDetails"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(y=>y)),v(e,["toolUsePromptTokensDetails"],h)}const d=p(t,["trafficType"]);return d!=null&&v(e,["trafficType"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eoe(t){const e={},n=p(t,["data"]);if(n!=null&&v(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function toe(t){const e={},n=p(t,["content"]);n!=null&&v(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&v(e,["citationMetadata"],noe(r));const i=p(t,["tokenCount"]);i!=null&&v(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&v(e,["finishReason"],o);const s=p(t,["avgLogprobs"]);s!=null&&v(e,["avgLogprobs"],s);const a=p(t,["groundingMetadata"]);a!=null&&v(e,["groundingMetadata"],a);const l=p(t,["index"]);l!=null&&v(e,["index"],l);const u=p(t,["logprobsResult"]);u!=null&&v(e,["logprobsResult"],u);const c=p(t,["safetyRatings"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>h)),v(e,["safetyRatings"],d)}const f=p(t,["urlContextMetadata"]);return f!=null&&v(e,["urlContextMetadata"],f),e}function noe(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),v(e,["citations"],r)}return e}function roe(t,e){const n={},r=p(e,["model"]);r!=null&&v(n,["_url","model"],cn(t,r));const i=p(e,["contents"]);if(i!=null){let o=Es(i);Array.isArray(o)&&(o=o.map(s=>s)),v(n,["contents"],o)}return n}function ioe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=p(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),v(e,["tokensInfo"],i)}return e}function ooe(t){const e={},n=p(t,["values"]);n!=null&&v(e,["values"],n);const r=p(t,["statistics"]);return r!=null&&v(e,["statistics"],soe(r)),e}function soe(t){const e={},n=p(t,["truncated"]);n!=null&&v(e,["truncated"],n);const r=p(t,["token_count"]);return r!=null&&v(e,["tokenCount"],r),e}function S_(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>mse(o))),v(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&v(e,["role"],r),e}function aoe(t){const e={},n=p(t,["controlType"]);n!=null&&v(e,["controlType"],n);const r=p(t,["enableControlImageComputation"]);return r!=null&&v(e,["computeControl"],r),e}function loe(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function uoe(t,e){const n={},r=p(t,["systemInstruction"]);e!==void 0&&r!=null&&v(e,["systemInstruction"],Gi(r));const i=p(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>h$(a))),v(e,["tools"],s)}const o=p(t,["generationConfig"]);return e!==void 0&&o!=null&&v(e,["generationConfig"],ese(o)),n}function coe(t,e){const n={},r=p(e,["model"]);r!=null&&v(n,["_url","model"],cn(t,r));const i=p(e,["contents"]);if(i!=null){let s=Es(i);Array.isArray(s)&&(s=s.map(a=>S_(a))),v(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&loe(o),n}function foe(t,e){const n={},r=p(e,["model"]);r!=null&&v(n,["_url","model"],cn(t,r));const i=p(e,["contents"]);if(i!=null){let s=Es(i);Array.isArray(s)&&(s=s.map(a=>a)),v(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&uoe(o,n),n}function doe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);r!=null&&v(e,["totalTokens"],r);const i=p(t,["cachedContentTokenCount"]);return i!=null&&v(e,["cachedContentTokenCount"],i),e}function hoe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);return r!=null&&v(e,["totalTokens"],r),e}function poe(t,e){const n={},r=p(e,["model"]);return r!=null&&v(n,["_url","name"],cn(t,r)),n}function moe(t,e){const n={},r=p(e,["model"]);return r!=null&&v(n,["_url","name"],cn(t,r)),n}function goe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function voe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function yoe(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&v(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&v(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&v(e,["parameters","sampleCount"],o);const s=p(t,["aspectRatio"]);e!==void 0&&s!=null&&v(e,["parameters","aspectRatio"],s);const a=p(t,["guidanceScale"]);e!==void 0&&a!=null&&v(e,["parameters","guidanceScale"],a);const l=p(t,["seed"]);e!==void 0&&l!=null&&v(e,["parameters","seed"],l);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&v(e,["parameters","safetySetting"],u);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&v(e,["parameters","personGeneration"],c);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&v(e,["parameters","includeSafetyAttributes"],f);const d=p(t,["includeRaiReason"]);e!==void 0&&d!=null&&v(e,["parameters","includeRaiReason"],d);const h=p(t,["language"]);e!==void 0&&h!=null&&v(e,["parameters","language"],h);const y=p(t,["outputMimeType"]);e!==void 0&&y!=null&&v(e,["parameters","outputOptions","mimeType"],y);const b=p(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&v(e,["parameters","outputOptions","compressionQuality"],b);const w=p(t,["addWatermark"]);e!==void 0&&w!=null&&v(e,["parameters","addWatermark"],w);const _=p(t,["labels"]);e!==void 0&&_!=null&&v(e,["labels"],_);const S=p(t,["editMode"]);e!==void 0&&S!=null&&v(e,["parameters","editMode"],S);const E=p(t,["baseSteps"]);return e!==void 0&&E!=null&&v(e,["parameters","editConfig","baseSteps"],E),n}function woe(t,e){const n={},r=p(e,["model"]);r!=null&&v(n,["_url","model"],cn(t,r));const i=p(e,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const o=p(e,["referenceImages"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>bse(l))),v(n,["instances[0]","referenceImages"],a)}const s=p(e,["config"]);return s!=null&&yoe(s,n),n}function _oe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>E_(o))),v(e,["generatedImages"],i)}return e}function boe(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&v(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&v(e,["requests[]","title"],i);const o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&v(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function xoe(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&v(e,["instances[]","task_type"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&v(e,["instances[]","title"],i);const o=p(t,["outputDimensionality"]);e!==void 0&&o!=null&&v(e,["parameters","outputDimensionality"],o);const s=p(t,["mimeType"]);e!==void 0&&s!=null&&v(e,["instances[]","mimeType"],s);const a=p(t,["autoTruncate"]);return e!==void 0&&a!=null&&v(e,["parameters","autoTruncate"],a),n}function Soe(t,e){const n={},r=p(e,["model"]);r!=null&&v(n,["_url","model"],cn(t,r));const i=p(e,["contents"]);if(i!=null){let a=ZT(t,i);Array.isArray(a)&&(a=a.map(l=>l)),v(n,["requests[]","content"],a)}const o=p(e,["config"]);o!=null&&boe(o,n);const s=p(e,["model"]);return s!==void 0&&v(n,["requests[]","model"],cn(t,s)),n}function Eoe(t,e){const n={},r=p(e,["model"]);r!=null&&v(n,["_url","model"],cn(t,r));const i=p(e,["contents"]);if(i!=null){let s=ZT(t,i);Array.isArray(s)&&(s=s.map(a=>a)),v(n,["instances[]","content"],s)}const o=p(e,["config"]);return o!=null&&xoe(o,n),n}function Aoe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=p(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),v(e,["embeddings"],o)}const i=p(t,["metadata"]);return i!=null&&v(e,["metadata"],i),e}function Toe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=p(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>ooe(s))),v(e,["embeddings"],o)}const i=p(t,["metadata"]);return i!=null&&v(e,["metadata"],i),e}function Ioe(t){const e={},n=p(t,["endpoint"]);n!=null&&v(e,["name"],n);const r=p(t,["deployedModelId"]);return r!=null&&v(e,["deployedModelId"],r),e}function Poe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function Coe(t){const e={},n=p(t,["id"]);n!=null&&v(e,["id"],n);const r=p(t,["args"]);r!=null&&v(e,["args"],r);const i=p(t,["name"]);if(i!=null&&v(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Noe(t){const e={},n=p(t,["mode"]);n!=null&&v(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);if(r!=null&&v(e,["allowedFunctionNames"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function koe(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&v(e,["description"],n);const r=p(t,["name"]);r!=null&&v(e,["name"],r);const i=p(t,["parameters"]);i!=null&&v(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&v(e,["parametersJsonSchema"],o);const s=p(t,["response"]);s!=null&&v(e,["response"],s);const a=p(t,["responseJsonSchema"]);return a!=null&&v(e,["responseJsonSchema"],a),e}function Roe(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&v(n,["systemInstruction"],S_(Gi(i)));const o=p(e,["temperature"]);o!=null&&v(r,["temperature"],o);const s=p(e,["topP"]);s!=null&&v(r,["topP"],s);const a=p(e,["topK"]);a!=null&&v(r,["topK"],a);const l=p(e,["candidateCount"]);l!=null&&v(r,["candidateCount"],l);const u=p(e,["maxOutputTokens"]);u!=null&&v(r,["maxOutputTokens"],u);const c=p(e,["stopSequences"]);c!=null&&v(r,["stopSequences"],c);const f=p(e,["responseLogprobs"]);f!=null&&v(r,["responseLogprobs"],f);const d=p(e,["logprobs"]);d!=null&&v(r,["logprobs"],d);const h=p(e,["presencePenalty"]);h!=null&&v(r,["presencePenalty"],h);const y=p(e,["frequencyPenalty"]);y!=null&&v(r,["frequencyPenalty"],y);const b=p(e,["seed"]);b!=null&&v(r,["seed"],b);const w=p(e,["responseMimeType"]);w!=null&&v(r,["responseMimeType"],w);const _=p(e,["responseSchema"]);_!=null&&v(r,["responseSchema"],eI(_));const S=p(e,["responseJsonSchema"]);if(S!=null&&v(r,["responseJsonSchema"],S),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const E=p(e,["safetySettings"]);if(n!==void 0&&E!=null){let U=E;Array.isArray(U)&&(U=U.map(W=>xse(W))),v(n,["safetySettings"],U)}const k=p(e,["tools"]);if(n!==void 0&&k!=null){let U=ip(k);Array.isArray(U)&&(U=U.map(W=>Cse(rp(W)))),v(n,["tools"],U)}const R=p(e,["toolConfig"]);if(n!==void 0&&R!=null&&v(n,["toolConfig"],Pse(R)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const F=p(e,["cachedContent"]);n!==void 0&&F!=null&&v(n,["cachedContent"],eu(t,F));const N=p(e,["responseModalities"]);N!=null&&v(r,["responseModalities"],N);const C=p(e,["mediaResolution"]);C!=null&&v(r,["mediaResolution"],C);const T=p(e,["speechConfig"]);if(T!=null&&v(r,["speechConfig"],tI(T)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const $=p(e,["thinkingConfig"]);$!=null&&v(r,["thinkingConfig"],$);const P=p(e,["imageConfig"]);P!=null&&v(r,["imageConfig"],ose(P));const D=p(e,["enableEnhancedCivicAnswers"]);return D!=null&&v(r,["enableEnhancedCivicAnswers"],D),r}function Ooe(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&v(n,["systemInstruction"],Gi(i));const o=p(e,["temperature"]);o!=null&&v(r,["temperature"],o);const s=p(e,["topP"]);s!=null&&v(r,["topP"],s);const a=p(e,["topK"]);a!=null&&v(r,["topK"],a);const l=p(e,["candidateCount"]);l!=null&&v(r,["candidateCount"],l);const u=p(e,["maxOutputTokens"]);u!=null&&v(r,["maxOutputTokens"],u);const c=p(e,["stopSequences"]);c!=null&&v(r,["stopSequences"],c);const f=p(e,["responseLogprobs"]);f!=null&&v(r,["responseLogprobs"],f);const d=p(e,["logprobs"]);d!=null&&v(r,["logprobs"],d);const h=p(e,["presencePenalty"]);h!=null&&v(r,["presencePenalty"],h);const y=p(e,["frequencyPenalty"]);y!=null&&v(r,["frequencyPenalty"],y);const b=p(e,["seed"]);b!=null&&v(r,["seed"],b);const w=p(e,["responseMimeType"]);w!=null&&v(r,["responseMimeType"],w);const _=p(e,["responseSchema"]);_!=null&&v(r,["responseSchema"],eI(_));const S=p(e,["responseJsonSchema"]);S!=null&&v(r,["responseJsonSchema"],S);const E=p(e,["routingConfig"]);E!=null&&v(r,["routingConfig"],E);const k=p(e,["modelSelectionConfig"]);k!=null&&v(r,["modelConfig"],k);const R=p(e,["safetySettings"]);if(n!==void 0&&R!=null){let le=R;Array.isArray(le)&&(le=le.map(ue=>ue)),v(n,["safetySettings"],le)}const F=p(e,["tools"]);if(n!==void 0&&F!=null){let le=ip(F);Array.isArray(le)&&(le=le.map(ue=>h$(rp(ue)))),v(n,["tools"],le)}const N=p(e,["toolConfig"]);n!==void 0&&N!=null&&v(n,["toolConfig"],N);const C=p(e,["labels"]);n!==void 0&&C!=null&&v(n,["labels"],C);const T=p(e,["cachedContent"]);n!==void 0&&T!=null&&v(n,["cachedContent"],eu(t,T));const $=p(e,["responseModalities"]);$!=null&&v(r,["responseModalities"],$);const P=p(e,["mediaResolution"]);P!=null&&v(r,["mediaResolution"],P);const D=p(e,["speechConfig"]);D!=null&&v(r,["speechConfig"],tI(D));const U=p(e,["audioTimestamp"]);U!=null&&v(r,["audioTimestamp"],U);const W=p(e,["thinkingConfig"]);W!=null&&v(r,["thinkingConfig"],W);const re=p(e,["imageConfig"]);if(re!=null&&v(r,["imageConfig"],sse(re)),p(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function n4(t,e){const n={},r=p(e,["model"]);r!=null&&v(n,["_url","model"],cn(t,r));const i=p(e,["contents"]);if(i!=null){let s=Es(i);Array.isArray(s)&&(s=s.map(a=>S_(a))),v(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&v(n,["generationConfig"],Roe(t,o,n)),n}function r4(t,e){const n={},r=p(e,["model"]);r!=null&&v(n,["_url","model"],cn(t,r));const i=p(e,["contents"]);if(i!=null){let s=Es(i);Array.isArray(s)&&(s=s.map(a=>a)),v(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&v(n,["generationConfig"],Ooe(t,o,n)),n}function i4(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>toe(u))),v(e,["candidates"],l)}const i=p(t,["modelVersion"]);i!=null&&v(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&v(e,["promptFeedback"],o);const s=p(t,["responseId"]);s!=null&&v(e,["responseId"],s);const a=p(t,["usageMetadata"]);return a!=null&&v(e,["usageMetadata"],a),e}function o4(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),v(e,["candidates"],u)}const i=p(t,["createTime"]);i!=null&&v(e,["createTime"],i);const o=p(t,["modelVersion"]);o!=null&&v(e,["modelVersion"],o);const s=p(t,["promptFeedback"]);s!=null&&v(e,["promptFeedback"],s);const a=p(t,["responseId"]);a!=null&&v(e,["responseId"],a);const l=p(t,["usageMetadata"]);return l!=null&&v(e,["usageMetadata"],l),e}function Moe(t,e){const n={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&v(e,["parameters","sampleCount"],r);const i=p(t,["aspectRatio"]);e!==void 0&&i!=null&&v(e,["parameters","aspectRatio"],i);const o=p(t,["guidanceScale"]);if(e!==void 0&&o!=null&&v(e,["parameters","guidanceScale"],o),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=p(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&v(e,["parameters","safetySetting"],s);const a=p(t,["personGeneration"]);e!==void 0&&a!=null&&v(e,["parameters","personGeneration"],a);const l=p(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&v(e,["parameters","includeSafetyAttributes"],l);const u=p(t,["includeRaiReason"]);e!==void 0&&u!=null&&v(e,["parameters","includeRaiReason"],u);const c=p(t,["language"]);e!==void 0&&c!=null&&v(e,["parameters","language"],c);const f=p(t,["outputMimeType"]);e!==void 0&&f!=null&&v(e,["parameters","outputOptions","mimeType"],f);const d=p(t,["outputCompressionQuality"]);if(e!==void 0&&d!=null&&v(e,["parameters","outputOptions","compressionQuality"],d),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const h=p(t,["imageSize"]);if(e!==void 0&&h!=null&&v(e,["parameters","sampleImageSize"],h),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Loe(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&v(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&v(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&v(e,["parameters","sampleCount"],o);const s=p(t,["aspectRatio"]);e!==void 0&&s!=null&&v(e,["parameters","aspectRatio"],s);const a=p(t,["guidanceScale"]);e!==void 0&&a!=null&&v(e,["parameters","guidanceScale"],a);const l=p(t,["seed"]);e!==void 0&&l!=null&&v(e,["parameters","seed"],l);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&v(e,["parameters","safetySetting"],u);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&v(e,["parameters","personGeneration"],c);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&v(e,["parameters","includeSafetyAttributes"],f);const d=p(t,["includeRaiReason"]);e!==void 0&&d!=null&&v(e,["parameters","includeRaiReason"],d);const h=p(t,["language"]);e!==void 0&&h!=null&&v(e,["parameters","language"],h);const y=p(t,["outputMimeType"]);e!==void 0&&y!=null&&v(e,["parameters","outputOptions","mimeType"],y);const b=p(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&v(e,["parameters","outputOptions","compressionQuality"],b);const w=p(t,["addWatermark"]);e!==void 0&&w!=null&&v(e,["parameters","addWatermark"],w);const _=p(t,["labels"]);e!==void 0&&_!=null&&v(e,["labels"],_);const S=p(t,["imageSize"]);e!==void 0&&S!=null&&v(e,["parameters","sampleImageSize"],S);const E=p(t,["enhancePrompt"]);return e!==void 0&&E!=null&&v(e,["parameters","enhancePrompt"],E),n}function Doe(t,e){const n={},r=p(e,["model"]);r!=null&&v(n,["_url","model"],cn(t,r));const i=p(e,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&Moe(o,n),n}function Foe(t,e){const n={},r=p(e,["model"]);r!=null&&v(n,["_url","model"],cn(t,r));const i=p(e,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&Loe(o,n),n}function Uoe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Joe(s))),v(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&v(e,["positivePromptSafetyAttributes"],f$(i)),e}function $oe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>E_(s))),v(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&v(e,["positivePromptSafetyAttributes"],d$(i)),e}function joe(t,e){const n={},r=p(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&v(e,["parameters","sampleCount"],r),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=p(t,["durationSeconds"]);if(e!==void 0&&i!=null&&v(e,["parameters","durationSeconds"],i),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&v(e,["parameters","aspectRatio"],o);const s=p(t,["resolution"]);e!==void 0&&s!=null&&v(e,["parameters","resolution"],s);const a=p(t,["personGeneration"]);if(e!==void 0&&a!=null&&v(e,["parameters","personGeneration"],a),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=p(t,["negativePrompt"]);e!==void 0&&l!=null&&v(e,["parameters","negativePrompt"],l);const u=p(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&v(e,["parameters","enhancePrompt"],u),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const c=p(t,["lastFrame"]);e!==void 0&&c!=null&&v(e,["instances[0]","lastFrame"],A_(c));const f=p(t,["referenceImages"]);if(e!==void 0&&f!=null){let d=f;Array.isArray(d)&&(d=d.map(h=>Vse(h))),v(e,["instances[0]","referenceImages"],d)}if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Boe(t,e){const n={},r=p(t,["numberOfVideos"]);e!==void 0&&r!=null&&v(e,["parameters","sampleCount"],r);const i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&v(e,["parameters","storageUri"],i);const o=p(t,["fps"]);e!==void 0&&o!=null&&v(e,["parameters","fps"],o);const s=p(t,["durationSeconds"]);e!==void 0&&s!=null&&v(e,["parameters","durationSeconds"],s);const a=p(t,["seed"]);e!==void 0&&a!=null&&v(e,["parameters","seed"],a);const l=p(t,["aspectRatio"]);e!==void 0&&l!=null&&v(e,["parameters","aspectRatio"],l);const u=p(t,["resolution"]);e!==void 0&&u!=null&&v(e,["parameters","resolution"],u);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&v(e,["parameters","personGeneration"],c);const f=p(t,["pubsubTopic"]);e!==void 0&&f!=null&&v(e,["parameters","pubsubTopic"],f);const d=p(t,["negativePrompt"]);e!==void 0&&d!=null&&v(e,["parameters","negativePrompt"],d);const h=p(t,["enhancePrompt"]);e!==void 0&&h!=null&&v(e,["parameters","enhancePrompt"],h);const y=p(t,["generateAudio"]);e!==void 0&&y!=null&&v(e,["parameters","generateAudio"],y);const b=p(t,["lastFrame"]);e!==void 0&&b!=null&&v(e,["instances[0]","lastFrame"],la(b));const w=p(t,["referenceImages"]);if(e!==void 0&&w!=null){let E=w;Array.isArray(E)&&(E=E.map(k=>qse(k))),v(e,["instances[0]","referenceImages"],E)}const _=p(t,["mask"]);e!==void 0&&_!=null&&v(e,["instances[0]","mask"],Bse(_));const S=p(t,["compressionQuality"]);return e!==void 0&&S!=null&&v(e,["parameters","compressionQuality"],S),n}function Voe(t){const e={},n=p(t,["name"]);n!=null&&v(e,["name"],n);const r=p(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=p(t,["done"]);i!=null&&v(e,["done"],i);const o=p(t,["error"]);o!=null&&v(e,["error"],o);const s=p(t,["response","generateVideoResponse"]);return s!=null&&v(e,["response"],Goe(s)),e}function qoe(t){const e={},n=p(t,["name"]);n!=null&&v(e,["name"],n);const r=p(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=p(t,["done"]);i!=null&&v(e,["done"],i);const o=p(t,["error"]);o!=null&&v(e,["error"],o);const s=p(t,["response"]);return s!=null&&v(e,["response"],Woe(s)),e}function zoe(t,e){const n={},r=p(e,["model"]);r!=null&&v(n,["_url","model"],cn(t,r));const i=p(e,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const o=p(e,["image"]);o!=null&&v(n,["instances[0]","image"],A_(o));const s=p(e,["video"]);s!=null&&v(n,["instances[0]","video"],p$(s));const a=p(e,["source"]);a!=null&&Koe(a,n);const l=p(e,["config"]);return l!=null&&joe(l,n),n}function Hoe(t,e){const n={},r=p(e,["model"]);r!=null&&v(n,["_url","model"],cn(t,r));const i=p(e,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const o=p(e,["image"]);o!=null&&v(n,["instances[0]","image"],la(o));const s=p(e,["video"]);s!=null&&v(n,["instances[0]","video"],m$(s));const a=p(e,["source"]);a!=null&&Yoe(a,n);const l=p(e,["config"]);return l!=null&&Boe(l,n),n}function Goe(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Qoe(s))),v(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&v(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&v(e,["raiMediaFilteredReasons"],i),e}function Woe(t){const e={},n=p(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Zoe(s))),v(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&v(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&v(e,["raiMediaFilteredReasons"],i),e}function Koe(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&v(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&v(e,["instances[0]","image"],A_(i));const o=p(t,["video"]);return e!==void 0&&o!=null&&v(e,["instances[0]","video"],p$(o)),n}function Yoe(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&v(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&v(e,["instances[0]","image"],la(i));const o=p(t,["video"]);return e!==void 0&&o!=null&&v(e,["instances[0]","video"],m$(o)),n}function Joe(t){const e={},n=p(t,["_self"]);n!=null&&v(e,["image"],ase(n));const r=p(t,["raiFilteredReason"]);r!=null&&v(e,["raiFilteredReason"],r);const i=p(t,["_self"]);return i!=null&&v(e,["safetyAttributes"],f$(i)),e}function E_(t){const e={},n=p(t,["_self"]);n!=null&&v(e,["image"],c$(n));const r=p(t,["raiFilteredReason"]);r!=null&&v(e,["raiFilteredReason"],r);const i=p(t,["_self"]);i!=null&&v(e,["safetyAttributes"],d$(i));const o=p(t,["prompt"]);return o!=null&&v(e,["enhancedPrompt"],o),e}function Xoe(t){const e={},n=p(t,["_self"]);n!=null&&v(e,["mask"],c$(n));const r=p(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),v(e,["labels"],i)}return e}function Qoe(t){const e={},n=p(t,["video"]);return n!=null&&v(e,["video"],$se(n)),e}function Zoe(t){const e={},n=p(t,["_self"]);return n!=null&&v(e,["video"],jse(n)),e}function ese(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&v(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&v(e,["responseJsonSchema"],r);const i=p(t,["audioTimestamp"]);i!=null&&v(e,["audioTimestamp"],i);const o=p(t,["candidateCount"]);o!=null&&v(e,["candidateCount"],o);const s=p(t,["enableAffectiveDialog"]);s!=null&&v(e,["enableAffectiveDialog"],s);const a=p(t,["frequencyPenalty"]);a!=null&&v(e,["frequencyPenalty"],a);const l=p(t,["logprobs"]);l!=null&&v(e,["logprobs"],l);const u=p(t,["maxOutputTokens"]);u!=null&&v(e,["maxOutputTokens"],u);const c=p(t,["mediaResolution"]);c!=null&&v(e,["mediaResolution"],c);const f=p(t,["presencePenalty"]);f!=null&&v(e,["presencePenalty"],f);const d=p(t,["responseLogprobs"]);d!=null&&v(e,["responseLogprobs"],d);const h=p(t,["responseMimeType"]);h!=null&&v(e,["responseMimeType"],h);const y=p(t,["responseModalities"]);y!=null&&v(e,["responseModalities"],y);const b=p(t,["responseSchema"]);b!=null&&v(e,["responseSchema"],b);const w=p(t,["routingConfig"]);w!=null&&v(e,["routingConfig"],w);const _=p(t,["seed"]);_!=null&&v(e,["seed"],_);const S=p(t,["speechConfig"]);S!=null&&v(e,["speechConfig"],S);const E=p(t,["stopSequences"]);E!=null&&v(e,["stopSequences"],E);const k=p(t,["temperature"]);k!=null&&v(e,["temperature"],k);const R=p(t,["thinkingConfig"]);R!=null&&v(e,["thinkingConfig"],R);const F=p(t,["topK"]);F!=null&&v(e,["topK"],F);const N=p(t,["topP"]);if(N!=null&&v(e,["topP"],N),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function tse(t,e){const n={},r=p(e,["model"]);return r!=null&&v(n,["_url","name"],cn(t,r)),n}function nse(t,e){const n={},r=p(e,["model"]);return r!=null&&v(n,["_url","name"],cn(t,r)),n}function rse(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function ise(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function ose(t){const e={},n=p(t,["aspectRatio"]);n!=null&&v(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&v(e,["imageSize"],r),p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function sse(t){const e={},n=p(t,["aspectRatio"]);n!=null&&v(e,["aspectRatio"],n);const r=p(t,["imageSize"]);r!=null&&v(e,["imageSize"],r);const i=p(t,["outputMimeType"]);i!=null&&v(e,["imageOutputOptions","mimeType"],i);const o=p(t,["outputCompressionQuality"]);return o!=null&&v(e,["imageOutputOptions","compressionQuality"],o),e}function ase(t){const e={},n=p(t,["bytesBase64Encoded"]);n!=null&&v(e,["imageBytes"],yc(n));const r=p(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function c$(t){const e={},n=p(t,["gcsUri"]);n!=null&&v(e,["gcsUri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&v(e,["imageBytes"],yc(r));const i=p(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function A_(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=p(t,["imageBytes"]);n!=null&&v(e,["bytesBase64Encoded"],yc(n));const r=p(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function la(t){const e={},n=p(t,["gcsUri"]);n!=null&&v(e,["gcsUri"],n);const r=p(t,["imageBytes"]);r!=null&&v(e,["bytesBase64Encoded"],yc(r));const i=p(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function lse(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&v(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&v(n,["_query","pageToken"],o);const s=p(e,["filter"]);n!==void 0&&s!=null&&v(n,["_query","filter"],s);const a=p(e,["queryBase"]);return n!==void 0&&a!=null&&v(n,["_url","models_url"],r$(t,a)),r}function use(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&v(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&v(n,["_query","pageToken"],o);const s=p(e,["filter"]);n!==void 0&&s!=null&&v(n,["_query","filter"],s);const a=p(e,["queryBase"]);return n!==void 0&&a!=null&&v(n,["_url","models_url"],r$(t,a)),r}function cse(t,e){const n={},r=p(e,["config"]);return r!=null&&lse(t,r,n),n}function fse(t,e){const n={},r=p(e,["config"]);return r!=null&&use(t,r,n),n}function dse(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let o=i$(i);Array.isArray(o)&&(o=o.map(s=>aE(s))),v(e,["models"],o)}return e}function hse(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let o=i$(i);Array.isArray(o)&&(o=o.map(s=>lE(s))),v(e,["models"],o)}return e}function pse(t){const e={},n=p(t,["maskMode"]);n!=null&&v(e,["maskMode"],n);const r=p(t,["segmentationClasses"]);r!=null&&v(e,["maskClasses"],r);const i=p(t,["maskDilation"]);return i!=null&&v(e,["dilation"],i),e}function aE(t){const e={},n=p(t,["name"]);n!=null&&v(e,["name"],n);const r=p(t,["displayName"]);r!=null&&v(e,["displayName"],r);const i=p(t,["description"]);i!=null&&v(e,["description"],i);const o=p(t,["version"]);o!=null&&v(e,["version"],o);const s=p(t,["_self"]);s!=null&&v(e,["tunedModelInfo"],Nse(s));const a=p(t,["inputTokenLimit"]);a!=null&&v(e,["inputTokenLimit"],a);const l=p(t,["outputTokenLimit"]);l!=null&&v(e,["outputTokenLimit"],l);const u=p(t,["supportedGenerationMethods"]);u!=null&&v(e,["supportedActions"],u);const c=p(t,["temperature"]);c!=null&&v(e,["temperature"],c);const f=p(t,["maxTemperature"]);f!=null&&v(e,["maxTemperature"],f);const d=p(t,["topP"]);d!=null&&v(e,["topP"],d);const h=p(t,["topK"]);h!=null&&v(e,["topK"],h);const y=p(t,["thinking"]);return y!=null&&v(e,["thinking"],y),e}function lE(t){const e={},n=p(t,["name"]);n!=null&&v(e,["name"],n);const r=p(t,["displayName"]);r!=null&&v(e,["displayName"],r);const i=p(t,["description"]);i!=null&&v(e,["description"],i);const o=p(t,["versionId"]);o!=null&&v(e,["version"],o);const s=p(t,["deployedModels"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(d=>Ioe(d))),v(e,["endpoints"],f)}const a=p(t,["labels"]);a!=null&&v(e,["labels"],a);const l=p(t,["_self"]);l!=null&&v(e,["tunedModelInfo"],kse(l));const u=p(t,["defaultCheckpointId"]);u!=null&&v(e,["defaultCheckpointId"],u);const c=p(t,["checkpoints"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(d=>d)),v(e,["checkpoints"],f)}return e}function mse(t){const e={},n=p(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&v(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&v(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&v(e,["fileData"],Poe(o));const s=p(t,["functionCall"]);s!=null&&v(e,["functionCall"],Coe(s));const a=p(t,["functionResponse"]);a!=null&&v(e,["functionResponse"],a);const l=p(t,["inlineData"]);l!=null&&v(e,["inlineData"],eoe(l));const u=p(t,["text"]);u!=null&&v(e,["text"],u);const c=p(t,["thought"]);c!=null&&v(e,["thought"],c);const f=p(t,["thoughtSignature"]);f!=null&&v(e,["thoughtSignature"],f);const d=p(t,["videoMetadata"]);return d!=null&&v(e,["videoMetadata"],d),e}function gse(t){const e={},n=p(t,["productImage"]);return n!=null&&v(e,["image"],la(n)),e}function vse(t,e){const n={},r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&v(e,["parameters","sampleCount"],r);const i=p(t,["baseSteps"]);e!==void 0&&i!=null&&v(e,["parameters","baseSteps"],i);const o=p(t,["outputGcsUri"]);e!==void 0&&o!=null&&v(e,["parameters","storageUri"],o);const s=p(t,["seed"]);e!==void 0&&s!=null&&v(e,["parameters","seed"],s);const a=p(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&v(e,["parameters","safetySetting"],a);const l=p(t,["personGeneration"]);e!==void 0&&l!=null&&v(e,["parameters","personGeneration"],l);const u=p(t,["addWatermark"]);e!==void 0&&u!=null&&v(e,["parameters","addWatermark"],u);const c=p(t,["outputMimeType"]);e!==void 0&&c!=null&&v(e,["parameters","outputOptions","mimeType"],c);const f=p(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&v(e,["parameters","outputOptions","compressionQuality"],f);const d=p(t,["enhancePrompt"]);e!==void 0&&d!=null&&v(e,["parameters","enhancePrompt"],d);const h=p(t,["labels"]);return e!==void 0&&h!=null&&v(e,["labels"],h),n}function yse(t,e){const n={},r=p(e,["model"]);r!=null&&v(n,["_url","model"],cn(t,r));const i=p(e,["source"]);i!=null&&_se(i,n);const o=p(e,["config"]);return o!=null&&vse(o,n),n}function wse(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>E_(i))),v(e,["generatedImages"],r)}return e}function _se(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&v(e,["instances[0]","prompt"],r);const i=p(t,["personImage"]);e!==void 0&&i!=null&&v(e,["instances[0]","personImage","image"],la(i));const o=p(t,["productImages"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>gse(a))),v(e,["instances[0]","productImages"],s)}return n}function bse(t){const e={},n=p(t,["referenceImage"]);n!=null&&v(e,["referenceImage"],la(n));const r=p(t,["referenceId"]);r!=null&&v(e,["referenceId"],r);const i=p(t,["referenceType"]);i!=null&&v(e,["referenceType"],i);const o=p(t,["maskImageConfig"]);o!=null&&v(e,["maskImageConfig"],pse(o));const s=p(t,["controlImageConfig"]);s!=null&&v(e,["controlImageConfig"],aoe(s));const a=p(t,["styleImageConfig"]);a!=null&&v(e,["styleImageConfig"],a);const l=p(t,["subjectImageConfig"]);return l!=null&&v(e,["subjectImageConfig"],l),e}function f$(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&v(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&v(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&v(e,["contentType"],i),e}function d$(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&v(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&v(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&v(e,["contentType"],i),e}function xse(t){const e={},n=p(t,["category"]);if(n!=null&&v(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&v(e,["threshold"],r),e}function Sse(t){const e={},n=p(t,["image"]);return n!=null&&v(e,["image"],la(n)),e}function Ese(t,e){const n={},r=p(t,["mode"]);e!==void 0&&r!=null&&v(e,["parameters","mode"],r);const i=p(t,["maxPredictions"]);e!==void 0&&i!=null&&v(e,["parameters","maxPredictions"],i);const o=p(t,["confidenceThreshold"]);e!==void 0&&o!=null&&v(e,["parameters","confidenceThreshold"],o);const s=p(t,["maskDilation"]);e!==void 0&&s!=null&&v(e,["parameters","maskDilation"],s);const a=p(t,["binaryColorThreshold"]);e!==void 0&&a!=null&&v(e,["parameters","binaryColorThreshold"],a);const l=p(t,["labels"]);return e!==void 0&&l!=null&&v(e,["labels"],l),n}function Ase(t,e){const n={},r=p(e,["model"]);r!=null&&v(n,["_url","model"],cn(t,r));const i=p(e,["source"]);i!=null&&Ise(i,n);const o=p(e,["config"]);return o!=null&&Ese(o,n),n}function Tse(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Xoe(i))),v(e,["generatedMasks"],r)}return e}function Ise(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&v(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&v(e,["instances[0]","image"],la(i));const o=p(t,["scribbleImage"]);return e!==void 0&&o!=null&&v(e,["instances[0]","scribble"],Sse(o)),n}function Pse(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&v(e,["functionCallingConfig"],Noe(n));const r=p(t,["retrievalConfig"]);return r!=null&&v(e,["retrievalConfig"],r),e}function Cse(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>f)),v(e,["functionDeclarations"],c)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&v(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&v(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&v(e,["fileSearch"],o);const s=p(t,["codeExecution"]);if(s!=null&&v(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=p(t,["googleMaps"]);a!=null&&v(e,["googleMaps"],rse(a));const l=p(t,["googleSearch"]);l!=null&&v(e,["googleSearch"],ise(l));const u=p(t,["urlContext"]);return u!=null&&v(e,["urlContext"],u),e}function h$(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(d=>koe(d))),v(e,["functionDeclarations"],f)}const r=p(t,["retrieval"]);r!=null&&v(e,["retrieval"],r);const i=p(t,["googleSearchRetrieval"]);i!=null&&v(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);if(o!=null&&v(e,["computerUse"],o),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=p(t,["codeExecution"]);s!=null&&v(e,["codeExecution"],s);const a=p(t,["enterpriseWebSearch"]);a!=null&&v(e,["enterpriseWebSearch"],a);const l=p(t,["googleMaps"]);l!=null&&v(e,["googleMaps"],l);const u=p(t,["googleSearch"]);u!=null&&v(e,["googleSearch"],u);const c=p(t,["urlContext"]);return c!=null&&v(e,["urlContext"],c),e}function Nse(t){const e={},n=p(t,["baseModel"]);n!=null&&v(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&v(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&v(e,["updateTime"],i),e}function kse(t){const e={},n=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&v(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&v(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&v(e,["updateTime"],i),e}function Rse(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&v(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&v(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&v(e,["defaultCheckpointId"],o),n}function Ose(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&v(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&v(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&v(e,["defaultCheckpointId"],o),n}function Mse(t,e){const n={},r=p(e,["model"]);r!=null&&v(n,["_url","name"],cn(t,r));const i=p(e,["config"]);return i!=null&&Rse(i,n),n}function Lse(t,e){const n={},r=p(e,["model"]);r!=null&&v(n,["_url","model"],cn(t,r));const i=p(e,["config"]);return i!=null&&Ose(i,n),n}function Dse(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&v(e,["parameters","storageUri"],r);const i=p(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&v(e,["parameters","safetySetting"],i);const o=p(t,["personGeneration"]);e!==void 0&&o!=null&&v(e,["parameters","personGeneration"],o);const s=p(t,["includeRaiReason"]);e!==void 0&&s!=null&&v(e,["parameters","includeRaiReason"],s);const a=p(t,["outputMimeType"]);e!==void 0&&a!=null&&v(e,["parameters","outputOptions","mimeType"],a);const l=p(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&v(e,["parameters","outputOptions","compressionQuality"],l);const u=p(t,["enhanceInputImage"]);e!==void 0&&u!=null&&v(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=p(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&v(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const f=p(t,["labels"]);e!==void 0&&f!=null&&v(e,["labels"],f);const d=p(t,["numberOfImages"]);e!==void 0&&d!=null&&v(e,["parameters","sampleCount"],d);const h=p(t,["mode"]);return e!==void 0&&h!=null&&v(e,["parameters","mode"],h),n}function Fse(t,e){const n={},r=p(e,["model"]);r!=null&&v(n,["_url","model"],cn(t,r));const i=p(e,["image"]);i!=null&&v(n,["instances[0]","image"],la(i));const o=p(e,["upscaleFactor"]);o!=null&&v(n,["parameters","upscaleConfig","upscaleFactor"],o);const s=p(e,["config"]);return s!=null&&Dse(s,n),n}function Use(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>E_(o))),v(e,["generatedImages"],i)}return e}function $se(t){const e={},n=p(t,["uri"]);n!=null&&v(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&v(e,["videoBytes"],yc(r));const i=p(t,["encoding"]);return i!=null&&v(e,["mimeType"],i),e}function jse(t){const e={},n=p(t,["gcsUri"]);n!=null&&v(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&v(e,["videoBytes"],yc(r));const i=p(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}function Bse(t){const e={},n=p(t,["image"]);n!=null&&v(e,["_self"],la(n));const r=p(t,["maskMode"]);return r!=null&&v(e,["maskMode"],r),e}function Vse(t){const e={},n=p(t,["image"]);n!=null&&v(e,["image"],A_(n));const r=p(t,["referenceType"]);return r!=null&&v(e,["referenceType"],r),e}function qse(t){const e={},n=p(t,["image"]);n!=null&&v(e,["image"],la(n));const r=p(t,["referenceType"]);return r!=null&&v(e,["referenceType"],r),e}function p$(t){const e={},n=p(t,["uri"]);n!=null&&v(e,["uri"],n);const r=p(t,["videoBytes"]);r!=null&&v(e,["encodedVideo"],yc(r));const i=p(t,["mimeType"]);return i!=null&&v(e,["encoding"],i),e}function m$(t){const e={},n=p(t,["uri"]);n!=null&&v(e,["gcsUri"],n);const r=p(t,["videoBytes"]);r!=null&&v(e,["bytesBase64Encoded"],yc(r));const i=p(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zse(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&v(e,["displayName"],r),n}function Hse(t){const e={},n=p(t,["config"]);return n!=null&&zse(n,e),e}function Gse(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&v(e,["_query","force"],r),n}function Wse(t){const e={},n=p(t,["name"]);n!=null&&v(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&Gse(r,e),e}function Kse(t){const e={},n=p(t,["name"]);return n!=null&&v(e,["_url","name"],n),e}function Yse(t,e){const n={},r=p(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),v(e,["customMetadata"],o)}const i=p(t,["chunkingConfig"]);return e!==void 0&&i!=null&&v(e,["chunkingConfig"],i),n}function Jse(t){const e={},n=p(t,["name"]);n!=null&&v(e,["name"],n);const r=p(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=p(t,["done"]);i!=null&&v(e,["done"],i);const o=p(t,["error"]);o!=null&&v(e,["error"],o);const s=p(t,["response"]);return s!=null&&v(e,["response"],Qse(s)),e}function Xse(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&v(e,["_url","file_search_store_name"],n);const r=p(t,["fileName"]);r!=null&&v(e,["fileName"],r);const i=p(t,["config"]);return i!=null&&Yse(i,e),e}function Qse(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&v(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&v(e,["documentName"],i),e}function Zse(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function eae(t){const e={},n=p(t,["config"]);return n!=null&&Zse(n,e),e}function tae(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=p(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),v(e,["fileSearchStores"],o)}return e}function g$(t,e){const n={},r=p(t,["mimeType"]);e!==void 0&&r!=null&&v(e,["mimeType"],r);const i=p(t,["displayName"]);e!==void 0&&i!=null&&v(e,["displayName"],i);const o=p(t,["customMetadata"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),v(e,["customMetadata"],a)}const s=p(t,["chunkingConfig"]);return e!==void 0&&s!=null&&v(e,["chunkingConfig"],s),n}function nae(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&v(e,["_url","file_search_store_name"],n);const r=p(t,["config"]);return r!=null&&g$(r,e),e}function rae(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iae="Content-Type",oae="X-Server-Timeout",sae="User-Agent",uE="x-goog-api-client",aae="1.34.0",lae=`google-genai-sdk/${aae}`,uae="v1beta1",cae="v1beta";class fae{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:uae,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:cae,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,a]of Object.entries(e.queryParams))i.searchParams.append(s,String(a));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,s=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>o.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=s}return n&&n.extraBody!==null&&dae(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await s4(i),new iE(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await s4(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return Zs(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const a="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:c}=yield kt(i.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(c,{stream:!0});try{const y=JSON.parse(f);if("error"in y){const b=JSON.parse(JSON.stringify(y.error)),w=b.status,_=b.code,S=`got status: ${w}. ${JSON.stringify(y)}`;if(_>=400&&_<600)throw new x_({message:S,status:_})}}catch(y){if(y.name==="ApiError")throw y}s+=f;let d=-1,h=0;for(;;){d=-1,h=0;for(const w of l){const _=s.indexOf(w);_!==-1&&(d===-1||_<d)&&(d=_,h=w.length)}if(d===-1)break;const y=s.substring(0,d);s=s.substring(d+h);const b=y.trim();if(b.startsWith(a)){const w=b.substring(a.length).trim();try{const _=new Response(w,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield kt(new iE(_))}catch(_){throw new Error(`exception parsing stream chunk ${w}. ${_}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=lae+" "+this.clientOptions.userAgentExtra;return e[sae]=n,e[uE]=n,e[iae]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(oae,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);i.sizeBytes=String(s.size);const a=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=a;const l={file:i},u=this.getFileName(e),c=Ke("upload/v1beta/files",l._url),f=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(e,f,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,s=await o.stat(n),a=String(s.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(n),f={};r!=null&&g$(r,f);const d=await this.fetchUploadUrl(u,a,l,c,f,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,d,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,s){var a;let l={};s?l=s:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(a=u==null?void 0:u.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function s4(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new x_({message:i,status:n}):new Error(i)}}function dae(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,s){const a=Object.assign({},o);for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const u=s[l],c=a[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?a[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),a[l]=u)}return a}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hae="mcp_used/unknown";let pae=!1;function v$(t){for(const e of t)if(mae(e)||typeof e=="object"&&"inputSchema"in e)return!0;return pae}function y$(t){var e;const n=(e=t[uE])!==null&&e!==void 0?e:"";t[uE]=(n+` ${hae}`).trimStart()}function mae(t){return t!==null&&typeof t=="object"&&t instanceof rI}function gae(t){return Zs(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const s=yield kt(n.listTools({cursor:i}));for(const a of s.tools)yield yield kt(a),o++;if(!s.nextCursor)break;i=s.nextCursor}})}class rI{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new rI(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},s=[];for(const c of this.mcpClients)try{for(var a=!0,l=(n=void 0,ea(gae(c))),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;const f=i;s.push(f);const d=f.name;if(o[d])throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);o[d]=c}}catch(f){n={error:f}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),Kne(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function vae(t,e,n){const r=new jne;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class yae{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=bae(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${a}`;let u=()=>{};const c=new Promise(E=>{u=E}),f=e.callbacks,d=function(){u({})},h=this.apiClient,y={onopen:d,onmessage:E=>{vae(h,f.onmessage,E)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(E){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(E){}},b=this.webSocketFactory.create(l,_ae(s),y);b.connect(),await c;const S={setup:{model:cn(this.apiClient,e.model)}};return b.send(JSON.stringify(S)),new wae(b,this.apiClient)}}class wae{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Hie(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=zie(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl($d.PLAY)}pause(){this.sendPlaybackControl($d.PAUSE)}stop(){this.sendPlaybackControl($d.STOP)}resetContext(){this.sendPlaybackControl($d.RESET_CONTEXT)}close(){this.conn.close()}}function _ae(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function bae(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xae="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Sae(t,e,n){const r=new $ne;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const s=Kie(o);Object.assign(r,s)}else Object.assign(r,o);e(r)}class Eae{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new yae(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,s,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&v$(e.config.tools)&&y$(f);const d=Pae(f);if(this.apiClient.isVertexAI())c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(d,c);else{const T=this.apiClient.getApiKey();let $="BidiGenerateContent",P="key";T!=null&&T.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),$="BidiGenerateContentConstrained",P="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${$}?${P}=${T}`}let h=()=>{};const y=new Promise(T=>{h=T}),b=e.callbacks,w=function(){var T;(T=b==null?void 0:b.onopen)===null||T===void 0||T.call(b),h({})},_=this.apiClient,S={onopen:w,onmessage:T=>{Sae(_,b.onmessage,T)},onerror:(n=b==null?void 0:b.onerror)!==null&&n!==void 0?n:function(T){},onclose:(r=b==null?void 0:b.onclose)!==null&&r!==void 0?r:function(T){}},E=this.webSocketFactory.create(c,Iae(d),S);E.connect(),await y;let k=cn(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&k.startsWith("publishers/")){const T=this.apiClient.getProject(),$=this.apiClient.getLocation();k=`projects/${T}/locations/${$}/`+k}let R={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[x1.AUDIO]}:e.config.responseModalities=[x1.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const F=(a=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[],N=[];for(const T of F)if(this.isCallableTool(T)){const $=T;N.push(await $.tool())}else N.push(T);N.length>0&&(e.config.tools=N);const C={model:k,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?R=qie(this.apiClient,C):R=Vie(this.apiClient,C),delete R.config,E.send(JSON.stringify(R)),new Tae(E,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Aae={turnComplete:!0};class Tae{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Es(n.turns),e.isVertexAI()||(r=r.map(i=>S_(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(xae)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Aae),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Wie(e)}:n={realtimeInput:Gie(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Iae(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Pae(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const a4=10;function l4(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(nh(s)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function nh(t){return"callTool"in t&&typeof t.callTool=="function"}function Cae(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>nh(i)))!==null&&r!==void 0?r:!1}function u4(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(nh(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function c4(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nae extends Zl{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,s,a;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Cae(n)||l4(n.config))return await this.generateContentInternal(l);const u=u4(n);if(u.length>0){const b=u.map(w=>`tools[${w}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${b}.`)}let c,f;const d=Es(l.contents),h=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:a4;let y=0;for(;y<h&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const b=c.candidates[0].content,w=[];for(const _ of(a=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[])if(nh(_)){const E=await _.callTool(c.functionCalls);w.push(...E)}y++,f={role:"user",parts:w},l.contents=Es(l.contents),l.contents.push(b),l.contents.push(f),c4(l.config)&&(d.push(b),d.push(f))}return c4(l.config)&&(c.automaticFunctionCallingHistory=d),c},this.generateContentStream=async n=>{var r,i,o,s,a;if(this.maybeMoveToResponseJsonSchem(n),l4(n.config)){const f=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(f)}const l=u4(n);if(l.length>0){const f=l.map(d=>`tools[${d}]`).join(", ");throw new Error(`Incompatible tools found at ${f}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,c=(a=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:s.push(l);let a;return o?a={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:a={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},a}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new qf(Gl.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,s,a,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(o=n.source)===null||o===void 0?void 0:o.video)===null||s===void 0)&&s.uri&&(!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async l=>nh(l)?await l.tool():l)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(a.config.tools=s,e.config&&e.config.tools&&v$(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),y$(u),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return a}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(nh(s)){const a=s,l=await a.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,a)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:a4;let s=!1,a=0;const l=await this.initAfcToolsMap(e);return function(u,c,f){return Zs(this,arguments,function*(){for(var d,h,y,b,w,_;a<o;){s&&(a++,s=!1);const R=yield kt(u.processParamsMaybeAddMcpUsage(f)),F=yield kt(u.generateContentStreamInternal(R)),N=[],C=[];try{for(var S=!0,E=(h=void 0,ea(F)),k;k=yield kt(E.next()),d=k.done,!d;S=!0){b=k.value,S=!1;const T=b;if(yield yield kt(T),T.candidates&&(!((w=T.candidates[0])===null||w===void 0)&&w.content)){C.push(T.candidates[0].content);for(const $ of(_=T.candidates[0].content.parts)!==null&&_!==void 0?_:[])if(a<o&&$.functionCall){if(!$.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has($.functionCall.name)){const P=yield kt(c.get($.functionCall.name).callTool([$.functionCall]));N.push(...P)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${$.functionCall.name}`)}}}}catch(T){h={error:T}}finally{try{!S&&!d&&(y=E.return)&&(yield kt(y.call(E)))}finally{if(h)throw h.error}}if(N.length>0){s=!0;const T=new Xp;T.candidates=[{content:{role:"user",parts:N}}],yield yield kt(T);const $=[];$.push(...C),$.push({role:"user",parts:N});const P=Es(f.contents).concat($);f.contents=P}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=r4(this.apiClient,e);return a=Ke("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=o4(c),d=new Xp;return Object.assign(d,f),d})}else{const u=n4(this.apiClient,e);return a=Ke("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=i4(c),d=new Xp;return Object.assign(d,f),d})}}async generateContentStreamInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=r4(this.apiClient,e);return a=Ke("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(f){return Zs(this,arguments,function*(){var d,h,y,b;try{for(var w=!0,_=ea(f),S;S=yield kt(_.next()),d=S.done,!d;w=!0){b=S.value,w=!1;const E=b,k=o4(yield kt(E.json()));k.sdkHttpResponse={headers:E.headers};const R=new Xp;Object.assign(R,k),yield yield kt(R)}}catch(E){h={error:E}}finally{try{!w&&!d&&(y=_.return)&&(yield kt(y.call(_)))}finally{if(h)throw h.error}}})})}else{const u=n4(this.apiClient,e);return a=Ke("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(f){return Zs(this,arguments,function*(){var d,h,y,b;try{for(var w=!0,_=ea(f),S;S=yield kt(_.next()),d=S.done,!d;w=!0){b=S.value,w=!1;const E=b,k=i4(yield kt(E.json()));k.sdkHttpResponse={headers:E.headers};const R=new Xp;Object.assign(R,k),yield yield kt(R)}}catch(E){h={error:E}}finally{try{!w&&!d&&(y=_.return)&&(yield kt(y.call(_)))}finally{if(h)throw h.error}}})})}}async embedContent(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Eoe(this.apiClient,e);return a=Ke("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=Toe(c),d=new $R;return Object.assign(d,f),d})}else{const u=Soe(this.apiClient,e);return a=Ke("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=Aoe(c),d=new $R;return Object.assign(d,f),d})}}async generateImagesInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Foe(this.apiClient,e);return a=Ke("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=$oe(c),d=new jR;return Object.assign(d,f),d})}else{const u=Doe(this.apiClient,e);return a=Ke("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=Uoe(c),d=new jR;return Object.assign(d,f),d})}}async editImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=woe(this.apiClient,e);return o=Ke("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=_oe(l),c=new Pne;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=Fse(this.apiClient,e);return o=Ke("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Use(l),c=new Cne;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=yse(this.apiClient,e);return o=Ke("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=wse(l),c=new Nne;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=Ase(this.apiClient,e);return o=Ke("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Tse(l),c=new kne;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=nse(this.apiClient,e);return a=Ke("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>lE(c))}else{const u=tse(this.apiClient,e);return a=Ke("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>aE(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=fse(this.apiClient,e);return a=Ke("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=hse(c),d=new BR;return Object.assign(d,f),d})}else{const u=cse(this.apiClient,e);return a=Ke("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=dse(c),d=new BR;return Object.assign(d,f),d})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Lse(this.apiClient,e);return a=Ke("{model}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>lE(c))}else{const u=Mse(this.apiClient,e);return a=Ke("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>aE(c))}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=moe(this.apiClient,e);return a=Ke("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=voe(c),d=new VR;return Object.assign(d,f),d})}else{const u=poe(this.apiClient,e);return a=Ke("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=goe(c),d=new VR;return Object.assign(d,f),d})}}async countTokens(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=foe(this.apiClient,e);return a=Ke("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=hoe(c),d=new qR;return Object.assign(d,f),d})}else{const u=coe(this.apiClient,e);return a=Ke("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=doe(c),d=new qR;return Object.assign(d,f),d})}}async computeTokens(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=roe(this.apiClient,e);return o=Ke("{model}:computeTokens",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=ioe(l),c=new Rne;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Hoe(this.apiClient,e);return a=Ke("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const f=qoe(c),d=new S1;return Object.assign(d,f),d})}else{const u=zoe(this.apiClient,e);return a=Ke("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const f=Voe(c),d=new S1;return Object.assign(d,f),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kae extends Zl{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=xne(e);return a=Ke("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s}else{const u=bne(e);return a=Ke("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=pne(e);return o=Ke("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rae(t){const e={},n=p(t,["data"]);if(n!=null&&v(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function Oae(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Vae(o))),v(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&v(e,["role"],r),e}function Mae(t,e,n){const r={},i=p(e,["expireTime"]);n!==void 0&&i!=null&&v(n,["expireTime"],i);const o=p(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&v(n,["newSessionExpireTime"],o);const s=p(e,["uses"]);n!==void 0&&s!=null&&v(n,["uses"],s);const a=p(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&v(n,["bidiGenerateContentSetup"],Bae(t,a));const l=p(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&v(n,["fieldMask"],l),r}function Lae(t,e){const n={},r=p(e,["config"]);return r!=null&&v(n,["config"],Mae(t,r,n)),n}function Dae(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function Fae(t){const e={},n=p(t,["id"]);n!=null&&v(e,["id"],n);const r=p(t,["args"]);r!=null&&v(e,["args"],r);const i=p(t,["name"]);if(i!=null&&v(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Uae(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function $ae(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function jae(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","temperature"],o);const s=p(t,["topP"]);e!==void 0&&s!=null&&v(e,["setup","generationConfig","topP"],s);const a=p(t,["topK"]);e!==void 0&&a!=null&&v(e,["setup","generationConfig","topK"],a);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&v(e,["setup","generationConfig","maxOutputTokens"],l);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&v(e,["setup","generationConfig","mediaResolution"],u);const c=p(t,["seed"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","seed"],c);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","speechConfig"],nI(f));const d=p(t,["thinkingConfig"]);e!==void 0&&d!=null&&v(e,["setup","generationConfig","thinkingConfig"],d);const h=p(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],h);const y=p(t,["systemInstruction"]);e!==void 0&&y!=null&&v(e,["setup","systemInstruction"],Oae(Gi(y)));const b=p(t,["tools"]);if(e!==void 0&&b!=null){let F=ip(b);Array.isArray(F)&&(F=F.map(N=>zae(rp(N)))),v(e,["setup","tools"],F)}const w=p(t,["sessionResumption"]);e!==void 0&&w!=null&&v(e,["setup","sessionResumption"],qae(w));const _=p(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&v(e,["setup","inputAudioTranscription"],_);const S=p(t,["outputAudioTranscription"]);e!==void 0&&S!=null&&v(e,["setup","outputAudioTranscription"],S);const E=p(t,["realtimeInputConfig"]);e!==void 0&&E!=null&&v(e,["setup","realtimeInputConfig"],E);const k=p(t,["contextWindowCompression"]);e!==void 0&&k!=null&&v(e,["setup","contextWindowCompression"],k);const R=p(t,["proactivity"]);if(e!==void 0&&R!=null&&v(e,["setup","proactivity"],R),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Bae(t,e){const n={},r=p(e,["model"]);r!=null&&v(n,["setup","model"],cn(t,r));const i=p(e,["config"]);return i!=null&&v(n,["config"],jae(i,n)),n}function Vae(t){const e={},n=p(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&v(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&v(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&v(e,["fileData"],Dae(o));const s=p(t,["functionCall"]);s!=null&&v(e,["functionCall"],Fae(s));const a=p(t,["functionResponse"]);a!=null&&v(e,["functionResponse"],a);const l=p(t,["inlineData"]);l!=null&&v(e,["inlineData"],Rae(l));const u=p(t,["text"]);u!=null&&v(e,["text"],u);const c=p(t,["thought"]);c!=null&&v(e,["thought"],c);const f=p(t,["thoughtSignature"]);f!=null&&v(e,["thoughtSignature"],f);const d=p(t,["videoMetadata"]);return d!=null&&v(e,["videoMetadata"],d),e}function qae(t){const e={},n=p(t,["handle"]);if(n!=null&&v(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function zae(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>f)),v(e,["functionDeclarations"],c)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&v(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&v(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&v(e,["fileSearch"],o);const s=p(t,["codeExecution"]);if(s!=null&&v(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=p(t,["googleMaps"]);a!=null&&v(e,["googleMaps"],Uae(a));const l=p(t,["googleSearch"]);l!=null&&v(e,["googleSearch"],$ae(l));const u=p(t,["urlContext"]);return u!=null&&v(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hae(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function Gae(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=Hae(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];i.length>0&&(a=i.map(u=>s.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),a.length>0&&l.push(...a),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class Wae extends Zl{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=Lae(this.apiClient,e);o=Ke("auth_tokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query;const l=Gae(a,e.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kae(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&v(e,["_query","force"],r),n}function Yae(t){const e={},n=p(t,["name"]);n!=null&&v(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&Kae(r,e),e}function Jae(t){const e={},n=p(t,["name"]);return n!=null&&v(e,["_url","name"],n),e}function Xae(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function Qae(t){const e={},n=p(t,["parent"]);n!=null&&v(e,["_url","parent"],n);const r=p(t,["config"]);return r!=null&&Xae(r,e),e}function Zae(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=p(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),v(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ele extends Zl{constructor(e){super(),this.apiClient=e,this.list=async n=>new qf(Gl.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Jae(e);return o=Ke("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Yae(e);i=Ke("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Qae(e);return o=Ke("{parent}/documents",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Zae(l),c=new One;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tle extends Zl{constructor(e,n=new ele(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new qf(Gl.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Hse(e);return o=Ke("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Kse(e);return o=Ke("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Wse(e);i=Ke("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=eae(e);return o=Ke("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=tae(l),c=new Mne;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=nae(e);return o=Ke("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=rae(l),c=new Lne;return Object.assign(c,u),c})}}async importFile(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Xse(e);return o=Ke("{file_search_store_name}:importFile",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Jse(l),c=new XT;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let w$=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return w$=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const nle=()=>w$();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cE(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const fE=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ps extends Error{}class lo extends Ps{constructor(e,n,r,i){super(`${lo.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new T_({message:r,cause:fE(n)});const o=n;return e===400?new b$(e,o,r,i):e===401?new x$(e,o,r,i):e===403?new S$(e,o,r,i):e===404?new E$(e,o,r,i):e===409?new A$(e,o,r,i):e===422?new T$(e,o,r,i):e===429?new I$(e,o,r,i):e>=500?new P$(e,o,r,i):new lo(e,o,r,i)}}class dE extends lo{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class T_ extends lo{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class _$ extends T_{constructor({message:e}={}){super({message:e??"Request timed out."})}}class b$ extends lo{}class x$ extends lo{}class S$ extends lo{}class E$ extends lo{}class A$ extends lo{}class T$ extends lo{}class I$ extends lo{}class P$ extends lo{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rle=/^[a-z][a-z0-9+.-]*:/i,ile=t=>rle.test(t);let hE=t=>(hE=Array.isArray,hE(t));const ole=hE;let sle=ole;const f4=sle;function ale(t){if(!t)return!0;for(const e in t)return!1;return!0}function lle(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const ule=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Ps(`${t} must be an integer`);if(e<0)throw new Ps(`${t} must be a positive integer`);return e},cle=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fle=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Sd="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dle(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const hle=()=>{var t,e,n,r,i;const o=dle();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Sd,"X-Stainless-OS":h4(Deno.build.os),"X-Stainless-Arch":d4(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Sd,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Sd,"X-Stainless-OS":h4((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":d4((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=ple();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Sd,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Sd,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function ple(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${o}.${s}`}}}return null}const d4=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",h4=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Cy;const mle=()=>Cy??(Cy=hle());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gle(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function C$(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function vle(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return C$({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function N$(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function yle(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wle=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const k$=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Ib(t,e,n){return k$(),new File(t,e??"unknown_file",n)}function _le(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const ble=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const R$=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",xle=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&R$(t),Sle=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function Ele(t,e,n){if(k$(),t=await t,xle(t))return t instanceof File?t:Ib([await t.arrayBuffer()],t.name);if(Sle(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Ib(await pE(i),e,n)}const r=await pE(t);if(e||(e=_le(t)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return Ib(r,e,n)}async function pE(t){var e,n,r,i,o;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(R$(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(ble(t))try{for(var a=!0,l=ea(t),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;const c=i;s.push(...await pE(c))}}catch(c){n={error:c}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{const c=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${c?`; constructor: ${c}`:""}${Ale(t)}`)}return s}function Ale(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class O${constructor(e){this._client=e}}O$._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function M$(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const p4=Object.freeze(Object.create(null)),Tle=(t=M$)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],s=n.reduce((c,f,d)=>{var h,y,b;/[?#]/.test(f)&&(i=!0);const w=r[d];let _=(i?encodeURIComponent:t)(""+w);return d!==r.length&&(w==null||typeof w=="object"&&w.toString===((b=Object.getPrototypeOf((y=Object.getPrototypeOf((h=w.hasOwnProperty)!==null&&h!==void 0?h:p4))!==null&&y!==void 0?y:p4))===null||b===void 0?void 0:b.toString))&&(_=w+"",o.push({start:c.length+f.length,length:_.length,error:`Value of type ${Object.prototype.toString.call(w).slice(8,-1)} is not a valid path parameter`})),c+f+(d===r.length?"":_)},""),a=s.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(a))!==null;)o.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(o.sort((c,f)=>c.start-f.start),o.length>0){let c=0;const f=o.reduce((d,h)=>{const y=" ".repeat(h.start-c),b="^".repeat(h.length);return c=h.start+h.length,d+y+b},"");throw new Ps(`Path parameters result in path with invalid segments:
${o.map(d=>d.error).join(`
`)}
${s}
${f}`)}return s},Ny=Tle(M$);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class L$ extends O${create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,o=A1(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new Ps("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new Ps("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Ny`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(Ny`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(Ny`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const o=n??{},{api_version:s=this._client.apiVersion}=o,a=A1(o,["api_version"]);return this._client.get(Ny`/${s}/interactions/${e}`,Object.assign(Object.assign({query:a},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}L$._key=Object.freeze(["interactions"]);class D$ extends L${}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ile(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let ky;function iI(t){let e;return(ky??(e=new globalThis.TextEncoder,ky=e.encode.bind(e)))(t)}let Ry;function m4(t){let e;return(Ry??(e=new globalThis.TextDecoder,Ry=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class I_{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?iI(e):e;this.buffer=Ile([this.buffer,n]);const r=[];let i;for(;(i=Ple(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(m4(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=m4(this.buffer.subarray(0,o));r.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}I_.NEWLINE_CHARS=new Set([`
`,"\r"]);I_.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Ple(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function Cle(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const T1={off:0,error:200,warn:300,info:400,debug:500},g4=(t,e,n)=>{if(t){if(lle(T1,t))return t;ro(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(T1))}`)}};function Am(){}function Oy(t,e,n){return!e||T1[t]>T1[n]?Am:e[t].bind(e)}const Nle={error:Am,warn:Am,info:Am,debug:Am};let v4=new WeakMap;function ro(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return Nle;const i=v4.get(n);if(i&&i[0]===r)return i[1];const o={error:Oy("error",n,r),warn:Oy("warn",n,r),info:Oy("info",n,r),debug:Oy("debug",n,r)};return v4.set(n,[r,o]),o}const qc=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jd{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const o=r?ro(r):console;function s(){return Zs(this,arguments,function*(){var l,u,c,f;if(i)throw new Ps("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let d=!1;try{try{for(var h=!0,y=ea(kle(e,n)),b;b=yield kt(y.next()),l=b.done,!l;h=!0){f=b.value,h=!1;const w=f;if(!d)if(w.data.startsWith("[DONE]")){d=!0;continue}else try{yield yield kt(JSON.parse(w.data))}catch(_){throw o.error("Could not parse message into JSON:",w.data),o.error("From chunk:",w.raw),_}}}catch(w){u={error:w}}finally{try{!h&&!l&&(c=y.return)&&(yield kt(c.call(y)))}finally{if(u)throw u.error}}d=!0}catch(w){if(cE(w))return yield kt(void 0);throw w}finally{d||n.abort()}})}return new jd(s,n,r)}static fromReadableStream(e,n,r){let i=!1;function o(){return Zs(this,arguments,function*(){var l,u,c,f;const d=new I_,h=N$(e);try{for(var y=!0,b=ea(h),w;w=yield kt(b.next()),l=w.done,!l;y=!0){f=w.value,y=!1;const _=f;for(const S of d.decode(_))yield yield kt(S)}}catch(_){u={error:_}}finally{try{!y&&!l&&(c=b.return)&&(yield kt(c.call(b)))}finally{if(u)throw u.error}}for(const _ of d.flush())yield yield kt(_)})}function s(){return Zs(this,arguments,function*(){var l,u,c,f;if(i)throw new Ps("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let d=!1;try{try{for(var h=!0,y=ea(o()),b;b=yield kt(y.next()),l=b.done,!l;h=!0){f=b.value,h=!1;const w=f;d||w&&(yield yield kt(JSON.parse(w)))}}catch(w){u={error:w}}finally{try{!h&&!l&&(c=y.return)&&(yield kt(c.call(y)))}finally{if(u)throw u.error}}d=!0}catch(w){if(cE(w))return yield kt(void 0);throw w}finally{d||n.abort()}})}return new jd(s,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const s=r.next();e.push(s),n.push(s)}return o.shift()}});return[new jd(()=>i(e),this.controller,this.client),new jd(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return C$({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const s=iI(JSON.stringify(i)+`
`);r.enqueue(s)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function kle(t,e){return Zs(this,arguments,function*(){var r,i,o,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Ps("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Ps("Attempted to iterate over a response with no body");const a=new Ole,l=new I_,u=N$(t.body);try{for(var c=!0,f=ea(Rle(u)),d;d=yield kt(f.next()),r=d.done,!r;c=!0){s=d.value,c=!1;const h=s;for(const y of l.decode(h)){const b=a.decode(y);b&&(yield yield kt(b))}}}catch(h){i={error:h}}finally{try{!c&&!r&&(o=f.return)&&(yield kt(o.call(f)))}finally{if(i)throw i.error}}for(const h of l.flush()){const y=a.decode(h);y&&(yield yield kt(y))}})}function Rle(t){return Zs(this,arguments,function*(){var n,r,i,o;let s=new Uint8Array;try{for(var a=!0,l=ea(t),u;u=yield kt(l.next()),n=u.done,!n;a=!0){o=u.value,a=!1;const c=o;if(c==null)continue;const f=c instanceof ArrayBuffer?new Uint8Array(c):typeof c=="string"?iI(c):c;let d=new Uint8Array(s.length+f.length);d.set(s),d.set(f,s.length),s=d;let h;for(;(h=Cle(s))!==-1;)yield yield kt(s.slice(0,h)),s=s.slice(h)}}catch(c){r={error:c}}finally{try{!a&&!n&&(i=l.return)&&(yield kt(i.call(l)))}finally{if(r)throw r.error}}s.length>0&&(yield yield kt(s))})}class Ole{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=Mle(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function Mle(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Lle(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,s=await(async()=>{var a;if(e.options.stream)return ro(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):jd.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const l=n.headers.get("content-type"),u=(a=l==null?void 0:l.split(";")[0])===null||a===void 0?void 0:a.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return ro(t).debug(`[${r}] response parsed`,qc({retryOfRequestLogID:i,url:n.url,status:n.status,body:s,durationMs:Date.now()-o})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oI extends Promise{constructor(e,n,r=Lle){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new oI(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const F$=Symbol("brand.privateNullableHeaders");function*Dle(t){if(!t)return;if(F$ in t){const{values:r,nulls:i}=t;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():f4(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=f4(r[1])?r[1]:[r[1]];let s=!1;for(const a of o)a!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,a])}}const Qp=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[o,s]of Dle(r)){const a=o.toLowerCase();i.has(a)||(e.delete(o),i.add(a)),s===null?(e.delete(o),n.add(a)):(e.append(o,s),n.delete(a))}}return{[F$]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pb=t=>{var e,n,r,i,o,s;if(typeof globalThis.process<"u")return(r=(n=(e=lne)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(s=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var U$;class P_{constructor(e){var n,r,i,o,s,a,l,{baseURL:u=Pb("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:c=(n=Pb("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:f="v1beta"}=e,d=A1(e,["baseURL","apiKey","apiVersion"]);const h=Object.assign(Object.assign({apiKey:c,apiVersion:f},d),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=h.baseURL,this.timeout=(r=h.timeout)!==null&&r!==void 0?r:P_.DEFAULT_TIMEOUT,this.logger=(i=h.logger)!==null&&i!==void 0?i:console;const y="warn";this.logLevel=y,this.logLevel=(s=(o=g4(h.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:g4(Pb("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:y,this.fetchOptions=h.fetchOptions,this.maxRetries=(a=h.maxRetries)!==null&&a!==void 0?a:2,this.fetch=(l=h.fetch)!==null&&l!==void 0?l:gle(),this.encoder=wle,this._options=h,this.apiKey=c,this.apiVersion=f,this.clientAdapter=h.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Qp([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Qp([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Qp([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Ps(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Sd}`}defaultIdempotencyKey(){return`stainless-node-retry-${nle()}`}makeStatusError(e,n,r,i){return lo.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=ile(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return ale(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new oI(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,o,s;const a=await e,l=(i=a.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(a);const{req:u,url:c,timeout:f}=await this.buildRequest(a,{retryCount:l-n});await this.prepareRequest(u,{url:c,options:a});const d="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),h=r===void 0?"":`, retryOf: ${r}`,y=Date.now();if(ro(this).debug(`[${d}] sending request`,qc({retryOfRequestLogID:r,method:a.method,url:c,options:a,headers:u.headers})),!((o=a.signal)===null||o===void 0)&&o.aborted)throw new dE;const b=new AbortController,w=await this.fetchWithTimeout(c,u,f,b).catch(fE),_=Date.now();if(w instanceof globalThis.Error){const E=`retrying, ${n} attempts remaining`;if(!((s=a.signal)===null||s===void 0)&&s.aborted)throw new dE;const k=cE(w)||/timed? ?out/i.test(String(w)+("cause"in w?String(w.cause):""));if(n)return ro(this).info(`[${d}] connection ${k?"timed out":"failed"} - ${E}`),ro(this).debug(`[${d}] connection ${k?"timed out":"failed"} (${E})`,qc({retryOfRequestLogID:r,url:c,durationMs:_-y,message:w.message})),this.retryRequest(a,n,r??d);throw ro(this).info(`[${d}] connection ${k?"timed out":"failed"} - error; no more retries left`),ro(this).debug(`[${d}] connection ${k?"timed out":"failed"} (error; no more retries left)`,qc({retryOfRequestLogID:r,url:c,durationMs:_-y,message:w.message})),k?new _$:new T_({cause:w})}const S=`[${d}${h}] ${u.method} ${c} ${w.ok?"succeeded":"failed"} with status ${w.status} in ${_-y}ms`;if(!w.ok){const E=await this.shouldRetry(w);if(n&&E){const T=`retrying, ${n} attempts remaining`;return await yle(w.body),ro(this).info(`${S} - ${T}`),ro(this).debug(`[${d}] response error (${T})`,qc({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,durationMs:_-y})),this.retryRequest(a,n,r??d,w.headers)}const k=E?"error; no more retries left":"error; not retryable";ro(this).info(`${S} - ${k}`);const R=await w.text().catch(T=>fE(T).message),F=cle(R),N=F?void 0:R;throw ro(this).debug(`[${d}] response error (${k})`,qc({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,message:N,durationMs:Date.now()-y})),this.makeStatusError(w.status,F,N,w.headers)}return ro(this).info(S),ro(this).debug(`[${d}] response start`,qc({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,durationMs:_-y})),{response:w,options:a,controller:b,requestLogID:d,retryOfRequestLogID:r,startTime:y}}async fetchWithTimeout(e,n,r,i){const o=n||{},{signal:s,method:a}=o,l=A1(o,["signal","method"]);s&&s.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),r),c=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,f=Object.assign(Object.assign(Object.assign({signal:i.signal},c?{duplex:"half"}:{}),{method:"GET"}),l);a&&(f.method=a.toUpperCase());try{return await this.fetch.call(void 0,e,f)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var o;let s;const a=i==null?void 0:i.get("retry-after-ms");if(a){const u=parseFloat(a);Number.isNaN(u)||(s=u)}const l=i==null?void 0:i.get("retry-after");if(l&&!s){const u=parseFloat(l);Number.isNaN(u)?s=Date.parse(l)-Date.now():s=u*1e3}if(!(s&&0<=s&&s<60*1e3)){const u=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,u)}return await fle(s),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,s=Math.min(.5*Math.pow(2,o),8),a=1-Math.random()*.25;return s*a*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,o;const s=Object.assign({},e),{method:a,path:l,query:u,defaultBaseURL:c}=s,f=this.buildURL(l,u,c);"timeout"in s&&ule("timeout",s.timeout),s.timeout=(r=s.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:d,body:h}=this.buildBody({options:s}),y=await this.buildHeaders({options:e,method:a,bodyHeaders:d,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:a,headers:y},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&h instanceof globalThis.ReadableStream&&{duplex:"half"}),h&&{body:h}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=s.fetchOptions)!==null&&o!==void 0?o:{}),url:f,timeout:s.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const s=await this.authHeaders(e);let a=Qp([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),mle()),this._options.defaultHeaders,r,e.headers,s]);return this.validateHeaders(a),a.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Qp([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:vle(e)}:this.encoder({body:e,headers:r})}}P_.DEFAULT_TIMEOUT=6e4;class di extends P_{constructor(){super(...arguments),this.interactions=new D$(this)}}U$=di;di.GeminiNextGenAPIClient=U$;di.GeminiNextGenAPIClientError=Ps;di.APIError=lo;di.APIConnectionError=T_;di.APIConnectionTimeoutError=_$;di.APIUserAbortError=dE;di.NotFoundError=E$;di.ConflictError=A$;di.RateLimitError=I$;di.BadRequestError=b$;di.AuthenticationError=x$;di.InternalServerError=P$;di.PermissionDeniedError=S$;di.UnprocessableEntityError=T$;di.toFile=Ele;di.Interactions=D$;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fle(t,e){const n={},r=p(t,["name"]);return r!=null&&v(n,["_url","name"],r),n}function Ule(t,e){const n={},r=p(t,["name"]);return r!=null&&v(n,["_url","name"],r),n}function $le(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&v(n,["sdkHttpResponse"],r),n}function jle(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&v(n,["sdkHttpResponse"],r),n}function Ble(t,e,n){const r={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=p(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&v(e,["displayName"],i),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=p(t,["epochCount"]);e!==void 0&&o!=null&&v(e,["tuningTask","hyperparameters","epochCount"],o);const s=p(t,["learningRateMultiplier"]);if(s!=null&&v(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=p(t,["batchSize"]);e!==void 0&&a!=null&&v(e,["tuningTask","hyperparameters","batchSize"],a);const l=p(t,["learningRate"]);if(e!==void 0&&l!=null&&v(e,["tuningTask","hyperparameters","learningRate"],l),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function Vle(t,e,n){const r={};let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const h=p(t,["validationDataset"]);e!==void 0&&h!=null&&v(e,["supervisedTuningSpec"],y4(h))}else if(i==="PREFERENCE_TUNING"){const h=p(t,["validationDataset"]);e!==void 0&&h!=null&&v(e,["preferenceOptimizationSpec"],y4(h))}const o=p(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&v(e,["tunedModelDisplayName"],o);const s=p(t,["description"]);e!==void 0&&s!=null&&v(e,["description"],s);let a=p(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const h=p(t,["epochCount"]);e!==void 0&&h!=null&&v(e,["supervisedTuningSpec","hyperParameters","epochCount"],h)}else if(a==="PREFERENCE_TUNING"){const h=p(t,["epochCount"]);e!==void 0&&h!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],h)}let l=p(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const h=p(t,["learningRateMultiplier"]);e!==void 0&&h!=null&&v(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h)}else if(l==="PREFERENCE_TUNING"){const h=p(t,["learningRateMultiplier"]);e!==void 0&&h!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],h)}let u=p(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const h=p(t,["exportLastCheckpointOnly"]);e!==void 0&&h!=null&&v(e,["supervisedTuningSpec","exportLastCheckpointOnly"],h)}else if(u==="PREFERENCE_TUNING"){const h=p(t,["exportLastCheckpointOnly"]);e!==void 0&&h!=null&&v(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],h)}let c=p(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const h=p(t,["adapterSize"]);e!==void 0&&h!=null&&v(e,["supervisedTuningSpec","hyperParameters","adapterSize"],h)}else if(c==="PREFERENCE_TUNING"){const h=p(t,["adapterSize"]);e!==void 0&&h!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],h)}if(p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=p(t,["labels"]);e!==void 0&&f!=null&&v(e,["labels"],f);const d=p(t,["beta"]);return e!==void 0&&d!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","beta"],d),r}function qle(t,e){const n={},r=p(t,["baseModel"]);r!=null&&v(n,["baseModel"],r);const i=p(t,["preTunedModel"]);i!=null&&v(n,["preTunedModel"],i);const o=p(t,["trainingDataset"]);o!=null&&eue(o);const s=p(t,["config"]);return s!=null&&Ble(s,n),n}function zle(t,e){const n={},r=p(t,["baseModel"]);r!=null&&v(n,["baseModel"],r);const i=p(t,["preTunedModel"]);i!=null&&v(n,["preTunedModel"],i);const o=p(t,["trainingDataset"]);o!=null&&tue(o,n,e);const s=p(t,["config"]);return s!=null&&Vle(s,n,e),n}function Hle(t,e){const n={},r=p(t,["name"]);return r!=null&&v(n,["_url","name"],r),n}function Gle(t,e){const n={},r=p(t,["name"]);return r!=null&&v(n,["_url","name"],r),n}function Wle(t,e,n){const r={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);e!==void 0&&o!=null&&v(e,["_query","pageToken"],o);const s=p(t,["filter"]);return e!==void 0&&s!=null&&v(e,["_query","filter"],s),r}function Kle(t,e,n){const r={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);e!==void 0&&o!=null&&v(e,["_query","pageToken"],o);const s=p(t,["filter"]);return e!==void 0&&s!=null&&v(e,["_query","filter"],s),r}function Yle(t,e){const n={},r=p(t,["config"]);return r!=null&&Wle(r,n),n}function Jle(t,e){const n={},r=p(t,["config"]);return r!=null&&Kle(r,n),n}function Xle(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=p(t,["nextPageToken"]);i!=null&&v(n,["nextPageToken"],i);const o=p(t,["tunedModels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>$$(a))),v(n,["tuningJobs"],s)}return n}function Qle(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=p(t,["nextPageToken"]);i!=null&&v(n,["nextPageToken"],i);const o=p(t,["tuningJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>mE(a))),v(n,["tuningJobs"],s)}return n}function Zle(t,e){const n={},r=p(t,["name"]);r!=null&&v(n,["model"],r);const i=p(t,["name"]);return i!=null&&v(n,["endpoint"],i),n}function eue(t,e){const n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=p(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),v(n,["examples","examples"],i)}return n}function tue(t,e,n){const r={};let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=p(t,["gcsUri"]);e!==void 0&&s!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=p(t,["gcsUri"]);e!==void 0&&s!=null&&v(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let o=p(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const s=p(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){const s=p(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&v(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function $$(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&v(n,["name"],i);const o=p(t,["state"]);o!=null&&v(n,["state"],t$(o));const s=p(t,["createTime"]);s!=null&&v(n,["createTime"],s);const a=p(t,["tuningTask","startTime"]);a!=null&&v(n,["startTime"],a);const l=p(t,["tuningTask","completeTime"]);l!=null&&v(n,["endTime"],l);const u=p(t,["updateTime"]);u!=null&&v(n,["updateTime"],u);const c=p(t,["description"]);c!=null&&v(n,["description"],c);const f=p(t,["baseModel"]);f!=null&&v(n,["baseModel"],f);const d=p(t,["_self"]);return d!=null&&v(n,["tunedModel"],Zle(d)),n}function mE(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&v(n,["name"],i);const o=p(t,["state"]);o!=null&&v(n,["state"],t$(o));const s=p(t,["createTime"]);s!=null&&v(n,["createTime"],s);const a=p(t,["startTime"]);a!=null&&v(n,["startTime"],a);const l=p(t,["endTime"]);l!=null&&v(n,["endTime"],l);const u=p(t,["updateTime"]);u!=null&&v(n,["updateTime"],u);const c=p(t,["error"]);c!=null&&v(n,["error"],c);const f=p(t,["description"]);f!=null&&v(n,["description"],f);const d=p(t,["baseModel"]);d!=null&&v(n,["baseModel"],d);const h=p(t,["tunedModel"]);h!=null&&v(n,["tunedModel"],h);const y=p(t,["preTunedModel"]);y!=null&&v(n,["preTunedModel"],y);const b=p(t,["supervisedTuningSpec"]);b!=null&&v(n,["supervisedTuningSpec"],b);const w=p(t,["preferenceOptimizationSpec"]);w!=null&&v(n,["preferenceOptimizationSpec"],w);const _=p(t,["tuningDataStats"]);_!=null&&v(n,["tuningDataStats"],_);const S=p(t,["encryptionSpec"]);S!=null&&v(n,["encryptionSpec"],S);const E=p(t,["partnerModelTuningSpec"]);E!=null&&v(n,["partnerModelTuningSpec"],E);const k=p(t,["customBaseModel"]);k!=null&&v(n,["customBaseModel"],k);const R=p(t,["experiment"]);R!=null&&v(n,["experiment"],R);const F=p(t,["labels"]);F!=null&&v(n,["labels"],F);const N=p(t,["outputUri"]);N!=null&&v(n,["outputUri"],N);const C=p(t,["pipelineJob"]);C!=null&&v(n,["pipelineJob"],C);const T=p(t,["serviceAccount"]);T!=null&&v(n,["serviceAccount"],T);const $=p(t,["tunedModelDisplayName"]);$!=null&&v(n,["tunedModelDisplayName"],$);const P=p(t,["veoTuningSpec"]);return P!=null&&v(n,["veoTuningSpec"],P),n}function nue(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&v(n,["name"],i);const o=p(t,["metadata"]);o!=null&&v(n,["metadata"],o);const s=p(t,["done"]);s!=null&&v(n,["done"],s);const a=p(t,["error"]);return a!=null&&v(n,["error"],a),n}function y4(t,e){const n={},r=p(t,["gcsUri"]);r!=null&&v(n,["validationDatasetUri"],r);const i=p(t,["vertexDatasetResource"]);return i!=null&&v(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rue extends Zl{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new qf(Gl.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let s="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?s=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(s=o.name.split("/operations/")[0]),{name:s,state:rE.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Gle(e);return a=Ke("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>mE(c))}else{const u=Hle(e);return a=Ke("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>$$(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Jle(e);return a=Ke("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=Qle(c),d=new zR;return Object.assign(d,f),d})}else{const u=Yle(e);return a=Ke("tunedModels",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=Xle(c),d=new zR;return Object.assign(d,f),d})}}async cancel(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Ule(e);return a=Ke("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=jle(c),d=new HR;return Object.assign(d,f),d})}else{const u=Fle(e);return a=Ke("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=$le(c),d=new HR;return Object.assign(d,f),d})}}async tuneInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=zle(e,e);return o=Ke("tuningJobs",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>mE(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=qle(e);return o=Ke("tunedModels",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>nue(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iue{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const oue=1024*1024*8,sue=3,aue=1e3,lue=2,I1="x-goog-upload-status";async function uue(t,e,n){var r;const i=await j$(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[I1])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function cue(t,e,n){var r;const i=await j$(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[I1])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=Y7(o),a=new QT;return Object.assign(a,s),a}async function j$(t,e,n){var r,i;let o=0,s=0,a=new iE(new Response),l="upload";for(o=t.size;s<o;){const u=Math.min(oue,o-s),c=t.slice(s,s+u);s+u>=o&&(l+=", finalize");let f=0,d=aue;for(;f<sue&&(a=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(s),"Content-Length":String(u)}}}),!(!((r=a==null?void 0:a.headers)===null||r===void 0)&&r[I1]));)f++,await due(d),d=d*lue;if(s+=u,((i=a==null?void 0:a.headers)===null||i===void 0?void 0:i[I1])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function fue(t){return{size:t.size,type:t.type}}function due(t){return new Promise(e=>setTimeout(e,t))}class hue{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await uue(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await cue(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await fue(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pue{create(e,n,r){return new mue(e,n,r)}}class mue{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const w4="x-goog-api-key";class gue{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(w4)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(w4,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vue="gl-node/";class yue{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new di({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=dne(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new gue(this.apiKey);this.apiClient=new fae({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:vue+"web",uploader:new hue,downloader:new iue}),this.models=new Nae(this.apiClient),this.live=new Eae(this.apiClient,i,new pue),this.batches=new Bre(this.apiClient),this.chats=new xie(this.models,this.apiClient),this.caches=new wie(this.apiClient),this.files=new Rie(this.apiClient),this.operations=new kae(this.apiClient),this.authTokens=new Wae(this.apiClient),this.tunings=new rue(this.apiClient),this.fileSearchStores=new tle(this.apiClient)}}var wue={};const Zp="users",My="schedules",Cb="offices",pl="records",_ue="adminreports@downeycleaning.ie",qs=t=>{const e={};return Object.keys(t).forEach(n=>{t[n]===void 0?e[n]=null:typeof t[n]=="object"&&t[n]!==null&&!Array.isArray(t[n])?e[n]=qs(t[n]):e[n]=t[n]}),e},rn={syncUser:async(t,e)=>{const n=gs(Cr,Zp,t.uid),r=await gk(n),i=t.email===_ue;if(r.exists()){const o=r.data();return i&&o.role!==ln.ADMIN?(await cd(n,{role:ln.ADMIN}),{...o,role:ln.ADMIN}):o}else{const o={id:t.uid,name:(e==null?void 0:e.name)||t.displayName||(i?"System Admin":"New User"),email:t.email||"",role:i?ln.ADMIN:(e==null?void 0:e.role)||ln.EMPLOYEE,pps:(e==null?void 0:e.pps)||"",phone:(e==null?void 0:e.phone)||""};return await vQ(n,qs(o)),o}},updateUser:async(t,e)=>{const n=gs(Cr,Zp,t);await cd(n,qs(e))},deleteUser:async t=>{const e=gs(Cr,Zp,t);await Ey(e)},getUserByAccountId:async t=>{const e=gs(Cr,Zp,t),n=await gk(e);return n.exists()?n.data():null},getAllUsers:async()=>{const t=Sy(Ta(Cr,Zp));return(await ud(t)).docs.map(n=>n.data())},getSchedulesByUser:async t=>{const e=Sy(Ta(Cr,My),xb("userId","==",t));return(await ud(e)).docs.map(r=>({...r.data(),id:r.id}))},addSchedule:async t=>{await Ay(Ta(Cr,My),qs(t))},updateSchedule:async(t,e)=>{const n=gs(Cr,My,t);await cd(n,qs(e))},deleteSchedule:async t=>{await Ey(gs(Cr,My,t))},getOffices:async()=>(await ud(Ta(Cr,Cb))).docs.map(e=>({...e.data(),id:e.id})),addOffice:async t=>{await Ay(Ta(Cr,Cb),qs(t))},deleteOffice:async t=>{await Ey(gs(Cr,Cb,t))},getActiveSession:async t=>{const e=Sy(Ta(Cr,pl),xb("userId","==",t));return(await ud(e)).docs.map(i=>({...i.data(),id:i.id})).find(i=>!i.endTime)||null},getAllRecords:async()=>(await ud(Ta(Cr,pl))).docs.map(e=>({...e.data(),id:e.id})),getRecordsByUser:async t=>{const e=Sy(Ta(Cr,pl),xb("userId","==",t));return(await ud(e)).docs.map(r=>({...r.data(),id:r.id}))},startShift:async(t,e)=>{let n=null;e&&(n=await rn.uploadFile(e,`shifts/${t.userId}/start_${Date.now()}`));const r=qs({...t,photoUrl:n,isPaused:!1,totalPausedMs:0}),i=await Ay(Ta(Cr,pl),r);return{...r,id:i.id}},togglePause:async t=>{const e=gs(Cr,pl,t.id),n=new Date().toISOString();let r={};if(t.isPaused){const i=new Date(t.pausedAt).getTime(),o=Date.now()-i;r={isPaused:!1,pausedAt:void 0,totalPausedMs:(t.totalPausedMs||0)+o}}else r={isPaused:!0,pausedAt:n};return await cd(e,qs(r)),{...t,...r}},endShift:async(t,e,n)=>{const r={...e};if(n){const o=await rn.uploadFile(n,`shifts/end_${t}_${Date.now()}`);r.endPhotoUrl=o}const i=gs(Cr,pl,t);await cd(i,qs(r))},updateRecord:async(t,e)=>{const n=gs(Cr,pl,t);await cd(n,qs(e))},deleteRecord:async t=>{const e=gs(Cr,pl,t);await Ey(e)},addRecord:async t=>{await Ay(Ta(Cr,pl),qs(t))},uploadFile:async(t,e)=>{const n=PZ(tne,e),r=await TZ(n,t);return await IZ(r.ref)},resolveEircode:async t=>{var n;if(!t||t.length<7)return null;const e=new yue({apiKey:wue.API_KEY});try{const i=((n=(await e.models.generateContent({model:"gemini-2.5-flash",contents:`Find the complete address for the Irish Eircode: ${t}. Return only the address string. If not found, return 'not found'.`,config:{tools:[{googleMaps:{}}]}})).text)==null?void 0:n.trim())||"";return i.toLowerCase().includes("not found")?null:i}catch(r){return console.error("Error resolving Eircode using Google Maps grounding:",r),null}}};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bue={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xue=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),mt=(t,e)=>{const n=fe.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:l,...u},c)=>fe.createElement("svg",{ref:c,...bue,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${xue(t)}`,a].join(" "),...u},[...e.map(([f,d])=>fe.createElement(f,d)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=mt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=mt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=mt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sue=mt("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eue=mt("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=mt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=mt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=mt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=mt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aue=mt("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=mt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=mt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tue=mt("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=mt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=mt("Construction",[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iue=mt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=mt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pue=mt("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cue=mt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nue=mt("Glasses",[["circle",{cx:"6",cy:"15",r:"4",key:"vux9w4"}],["circle",{cx:"18",cy:"15",r:"4",key:"18o8ve"}],["path",{d:"M14 15a2 2 0 0 0-2-2 2 2 0 0 0-2 2",key:"1ag4bs"}],["path",{d:"M2.5 13 5 7c.7-1.3 1.4-2 3-2",key:"1hm1gs"}],["path",{d:"M21.5 13 19 7c-.7-1.3-1.5-2-3-2",key:"1r31ai"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kue=mt("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v0",key:"aigmz7"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v2",key:"1n6bmn"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v8",key:"a9iiix"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rue=mt("HardHat",[["path",{d:"M2 18a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v2z",key:"1dej2m"}],["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6h0",key:"1uc279"}],["path",{d:"M14 6h0a6 6 0 0 1 6 6v3",key:"1j9mnm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oue=mt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mue=mt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=mt("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lue=mt("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Due=mt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=mt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fue=mt("LocateFixed",[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=mt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uue=mt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ue=mt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V$=mt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=mt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jue=mt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bue=mt("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vue=mt("PauseCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=mt("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const que=mt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zue=mt("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hue=mt("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=mt("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=mt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gue=mt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=mt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=mt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wue=mt("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=mt("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=mt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kue=mt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yue=mt("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jue=mt("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=mt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xue=mt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=mt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=mt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=mt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Que=({children:t})=>{const[e,n]=fe.useState(!1),{user:r,logout:i}=wp(),o=XA(),s=dv(),a=()=>n(!e),l=d=>{o(d),n(!1)},u=()=>{i(),o("/login")},c=d=>s.pathname===d,f=[{name:"Dashboard",path:"/",icon:Due,roles:[ln.ADMIN]},{name:"Schedule",path:(r==null?void 0:r.role)===ln.ADMIN?"/agenda":"/",icon:ka,roles:[ln.ADMIN,ln.EMPLOYEE]},{name:"Check-In/Out",path:"/check-in",icon:Tue,roles:[ln.EMPLOYEE]},{name:"Users",path:"/users",icon:sI,roles:[ln.ADMIN]},{name:"Reports",path:"/reports",icon:Sue,roles:[ln.ADMIN,ln.EMPLOYEE]},{name:"Profile",path:"/profile",icon:N_,roles:[ln.ADMIN,ln.EMPLOYEE]}];return A.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col md:flex-row",children:[A.jsxs("div",{className:"bg-white shadow-sm p-4 flex justify-between items-center md:hidden sticky top-0 z-20",children:[A.jsx("h1",{className:"text-xl font-bold text-brand-600",children:"Downey Cleaning"}),A.jsx("button",{onClick:a,className:"p-2 text-gray-600",children:e?A.jsx(Sl,{size:24}):A.jsx(jue,{size:24})})]}),A.jsxs("aside",{className:`
          fixed inset-y-0 left-0 transform ${e?"translate-x-0":"-translate-x-full"}
          md:relative md:translate-x-0 transition-transform duration-200 ease-in-out
          w-64 bg-brand-900 text-white shadow-xl z-30 flex flex-col
        `,children:[A.jsxs("div",{className:"p-6 border-b border-brand-700 hidden md:block",children:[A.jsx("h1",{className:"text-2xl font-black tracking-tight text-white",children:"Downey"}),A.jsx("p",{className:"text-brand-300 text-[10px] font-bold uppercase tracking-widest mt-0.5",children:"Cleaning Services"})]}),A.jsx("nav",{className:"flex-1 px-4 py-6 space-y-1",children:f.filter(d=>d.roles.includes(r==null?void 0:r.role)).map(d=>A.jsxs("button",{onClick:()=>l(d.path),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-all ${c(d.path)?"bg-brand-600 text-white shadow-lg":"text-brand-100 hover:bg-brand-800"}`,children:[A.jsx(d.icon,{size:20,className:c(d.path)?"text-white":"text-brand-400"}),A.jsx("span",{className:"font-bold text-sm",children:d.name})]},d.path))}),A.jsxs("div",{className:"p-4 border-t border-brand-700",children:[A.jsxs("div",{className:"mb-4 px-4",children:[A.jsx("p",{className:"text-[10px] font-black uppercase text-brand-400 tracking-widest",children:"Logged in as"}),A.jsx("p",{className:"text-xs font-bold truncate text-white",children:r==null?void 0:r.name})]}),A.jsxs("button",{onClick:u,className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-red-200 hover:bg-red-900/40 hover:text-red-100 transition-colors",children:[A.jsx($ue,{size:20}),A.jsx("span",{className:"font-bold text-sm",children:"Logout"})]})]})]}),e&&A.jsx("div",{className:"fixed inset-0 bg-brand-900/60 backdrop-blur-sm z-20 md:hidden",onClick:()=>n(!1)}),A.jsx("main",{className:"flex-1 p-4 md:p-8 overflow-y-auto h-[calc(100vh-64px)] md:h-screen",children:A.jsx("div",{className:"max-w-6xl mx-auto animate-fade-in",children:t})})]})},Ur=Se.forwardRef(({label:t,error:e,className:n="",labelClassName:r="",...i},o)=>{const a=n.includes("bg-black")||n.includes("bg-slate-900")||n.includes("bg-slate-800")||n.includes("bg-gray-900")||n.includes("bg-gray-800")||n.includes("bg-brand-900")?"text-white placeholder:text-gray-400":"text-gray-900 placeholder:text-gray-500";return A.jsxs("div",{className:"w-full",children:[t&&A.jsx("label",{className:`block text-sm font-medium mb-1 ${r||"text-gray-700"}`,children:t}),A.jsx("input",{ref:o,className:`
          w-full rounded-md shadow-sm border p-2 transition-all
          focus:ring-2 focus:ring-brand-500 focus:border-brand-500
          disabled:opacity-50 disabled:cursor-not-allowed
          ${e?"border-red-500":"border-gray-300"}
          ${a}
          ${n}
        `,...i}),e&&A.jsx("p",{className:"mt-1 text-sm text-red-600 font-medium",children:e})]})});Ur.displayName="Input";const Vn=({children:t,variant:e="primary",size:n="md",fullWidth:r=!1,className:i="",...o})=>{const s="inline-flex items-center justify-center rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",a={primary:"bg-brand-600 text-white hover:bg-brand-700 focus:ring-brand-500",secondary:"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-brand-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",outline:"bg-transparent border border-brand-600 text-brand-600 hover:bg-brand-50"},l={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return A.jsx("button",{className:`${s} ${a[e]} ${l[n]} ${r?"w-full":""} ${i}`,...o,children:t})},Zue=()=>{const[t,e]=fe.useState(""),[n,r]=fe.useState(""),[i,o]=fe.useState(""),[s,a]=fe.useState(!1),l=XA(),u=async c=>{if(c.preventDefault(),!t||!n){o("Please provide Email/ID and Password.");return}a(!0),o("");try{let f=t;if(!t.includes("@")){const d=await rn.getUserByAccountId(t);if(d&&d.email)f=d.email;else throw new Error("Account ID not found.")}await nne(f,n),l("/")}catch(f){console.error(f),o(f.message==="Account ID not found."?"Account ID not found.":"Invalid credentials. Please check your data.")}finally{a(!1)}};return A.jsx("div",{className:"min-h-screen bg-brand-50 flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-brand-100",children:[A.jsxs("div",{className:"text-center mb-10",children:[A.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-brand-100 rounded-full mb-4",children:A.jsx(Yc,{className:"text-brand-600 w-8 h-8"})}),A.jsx("h1",{className:"text-3xl font-black text-brand-900 tracking-tight",children:"Downey Cleaning"}),A.jsx("p",{className:"text-gray-400 mt-2 font-medium",children:"Professional Access Portal"})]}),A.jsxs("form",{onSubmit:u,className:"space-y-5",children:[A.jsxs("div",{className:"relative",children:[A.jsx(Ur,{label:"Email or Account ID",placeholder:"name@downeycleaning.ie",value:t,onChange:c=>e(c.target.value),required:!0,className:"pl-10"}),A.jsx(N_,{className:"absolute left-3 top-9 text-gray-400",size:18})]}),A.jsxs("div",{className:"relative",children:[A.jsx(Ur,{label:"Password",type:"password",placeholder:"",value:n,onChange:c=>r(c.target.value),required:!0,className:"pl-10"}),A.jsx(wE,{className:"absolute left-3 top-9 text-gray-400",size:18})]}),i&&A.jsxs("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-xs font-bold border border-red-100 animate-shake flex items-center gap-2",children:[A.jsx("span",{className:"w-1.5 h-1.5 bg-red-600 rounded-full"}),i]}),A.jsx(Vn,{type:"submit",fullWidth:!0,disabled:s,className:"h-14 text-lg font-bold shadow-lg",children:s?A.jsx(Br,{className:"animate-spin"}):A.jsxs(A.Fragment,{children:[A.jsx(Uue,{size:20,className:"mr-2"})," Secure Login"]})})]}),A.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-100 text-center",children:[A.jsx("p",{className:"text-xs text-gray-400 font-bold uppercase tracking-widest",children:"Internal Use Only"}),A.jsx("p",{className:"text-[10px] text-gray-300 mt-2 italic",children:"Access to this system is restricted to authorized personnel. All activities are monitored and logged."})]})]})})},Nb=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],P4=()=>{const{user:t}=wp(),[e,n]=fe.useState("agenda"),[r,i]=fe.useState([]),[o,s]=fe.useState([]),[a,l]=fe.useState([]),[u,c]=fe.useState((t==null?void 0:t.id)||""),[f,d]=fe.useState(!1),[h,y]=fe.useState(!1),[b,w]=fe.useState(!1),[_,S]=fe.useState(!1),[E,k]=fe.useState(null),[R,F]=fe.useState(null),[N,C]=fe.useState(0),[T,$]=fe.useState(""),[P,D]=fe.useState({name:"",eircode:"",address:""}),[U,W]=fe.useState({hoursPerDay:4,locationName:"",address:"",notes:""}),[re,le]=fe.useState([]),ue=(t==null?void 0:t.role)===ln.ADMIN;fe.useEffect(()=>{(async()=>{d(!0);try{if(ue){const ne=await rn.getAllUsers();l(ne.filter(de=>de.role===ln.EMPLOYEE))}const me=await rn.getOffices();s(me)}catch(me){console.error("Error initializing agenda data:",me)}finally{d(!1)}})()},[ue]),fe.useEffect(()=>{u?Q(u):t&&(c(t.id),Q(t.id))},[u,t]);const Q=async ee=>{d(!0);try{const me=await rn.getSchedulesByUser(ee);i(me)}catch(me){console.error(me)}d(!1)},ae=async()=>{if(!(!P.eircode||P.eircode.length<7)){y(!0);try{const ee=await rn.resolveEircode(P.eircode);ee?D(me=>({...me,address:ee})):alert("Eircode not found or address unavailable.")}catch(ee){console.error(ee)}finally{y(!1)}}},ye=()=>r.reduce((ee,me)=>ee+me.hoursPerDay,0),ge=ee=>{le(me=>me.includes(ee)?me.filter(ne=>ne!==ee):[...me,ee])},B=async()=>{if(!U.locationName||!U.address){alert("Location and Address are required");return}if(re.length===0){alert("Please select at least one day of the week.");return}const ee=ue?u:t==null?void 0:t.id;if(!ee){alert("Target user not identified.");return}d(!0);try{for(const me of re){const ne={userId:ee,locationName:U.locationName,address:U.address,dayOfWeek:me,hoursPerDay:Number(U.hoursPerDay),notes:U.notes||""};await rn.addSchedule(ne)}await Q(ee),w(!1),W({hoursPerDay:4,locationName:"",address:"",notes:""}),le([])}catch(me){console.error(me),alert("Error adding shift.")}finally{d(!1)}},G=async()=>{if(!P.name||!P.address){alert("Name and Address are required");return}d(!0);try{await rn.addOffice({name:P.name,eircode:P.eircode||"",address:P.address,defaultSchedule:[]});const ee=await rn.getOffices();s(ee),S(!1),D({name:"",eircode:"",address:""})}catch(ee){console.error(ee),alert("Error adding location.")}finally{d(!1)}},te=async ee=>{if(window.confirm("Delete this service location?")){d(!0),await rn.deleteOffice(ee);const me=await rn.getOffices();s(me),d(!1)}},ce=async ee=>{d(!0);try{await rn.updateSchedule(ee,{hoursPerDay:N,notes:T});const me=ue?u:t==null?void 0:t.id;me&&await Q(me),F(null)}catch(me){console.error(me),alert("Failed to update shift.")}finally{d(!1)}},pe=async ee=>{if(window.confirm("Are you sure you want to remove this shift?")){d(!0),await rn.deleteSchedule(ee);const me=ue?u:t==null?void 0:t.id;me&&await Q(me),d(!1)}},_e=ee=>{F(ee.id),C(ee.hoursPerDay),$(ee.notes||"")},Te=ee=>{const me=o.find(ne=>ne.id===ee);me&&W({...U,locationName:me.name,address:me.address})};return f&&r.length===0&&e==="agenda"?A.jsx("div",{className:"flex justify-center p-8",children:A.jsx(Br,{className:"animate-spin text-brand-500",size:32})}):A.jsxs("div",{className:"space-y-6",children:[A.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:e==="agenda"?"Work Schedule":"Manage Offices"}),A.jsx("p",{className:"text-gray-500",children:e==="agenda"?"Plan and manage cleaning operational shifts":"Configure official service locations"})]}),A.jsx("div",{className:"flex flex-wrap gap-2 items-center",children:ue&&A.jsxs(A.Fragment,{children:[A.jsxs(Vn,{variant:"outline",onClick:()=>n(e==="agenda"?"offices":"agenda"),className:"rounded-xl font-bold border-brand-600 text-brand-600",children:[e==="agenda"?A.jsx(b4,{size:18,className:"mr-2"}):A.jsx(ka,{size:18,className:"mr-2"}),e==="agenda"?"Manage Locations":"View Schedule"]}),e==="agenda"&&A.jsxs("div",{className:"flex flex-col mr-2",children:[A.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"View Employee"}),A.jsxs("select",{className:"border rounded-xl px-3 py-2 bg-white text-sm font-bold border-gray-200 outline-none focus:ring-2 focus:ring-brand-500",value:u,onChange:ee=>c(ee.target.value),children:[A.jsx("option",{value:t==null?void 0:t.id,children:"My Schedule"}),a.map(ee=>A.jsx("option",{value:ee.id,children:ee.name},ee.id))]})]}),e==="agenda"?A.jsxs(Vn,{onClick:()=>w(!b),className:`${b?"bg-gray-100 text-gray-600":"bg-brand-600"} rounded-xl font-bold`,children:[b?A.jsx(Sl,{size:18,className:"mr-2"}):A.jsx(I4,{size:18,className:"mr-2"}),b?"Cancel":"Add Shift"]}):A.jsxs(Vn,{onClick:()=>S(!_),className:`${_?"bg-gray-100 text-gray-600":"bg-brand-600"} rounded-xl font-bold`,children:[_?A.jsx(Sl,{size:18,className:"mr-2"}):A.jsx(I4,{size:18,className:"mr-2"}),_?"Cancel":"New Location"]})]})})]}),e==="agenda"?A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Total Weekly Hours"}),A.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-black tracking-widest",children:"Accumulated Forecast"})]}),A.jsxs("div",{className:"text-4xl font-black text-brand-600 tracking-tighter",children:[ye(),"h"]})]}),b&&ue&&A.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl border border-slate-700 space-y-4 animate-fade-in text-white shadow-2xl relative overflow-hidden",children:[A.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5",children:A.jsx(ka,{size:120})}),A.jsxs("div",{className:"flex justify-between items-center border-b border-slate-700 pb-4 relative z-10",children:[A.jsx("h3",{className:"font-black text-xl tracking-tight uppercase",children:"Assign New Shift"}),A.jsx("button",{onClick:()=>w(!1),className:"text-slate-400 hover:text-white transition-colors",children:A.jsx(Sl,{size:24})})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 relative z-10",children:[A.jsxs("div",{className:"md:col-span-2",children:[A.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Employee"}),A.jsxs("select",{className:"w-full rounded-xl border-slate-700 bg-slate-800 text-white p-3 focus:ring-2 focus:ring-brand-500 outline-none font-bold",value:u,onChange:ee=>c(ee.target.value),children:[A.jsx("option",{value:t==null?void 0:t.id,children:"Assign to me"}),a.map(ee=>A.jsx("option",{value:ee.id,children:ee.name},ee.id))]})]}),o.length>0&&A.jsxs("div",{className:"md:col-span-2",children:[A.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Quick Location Selection"}),A.jsxs("select",{className:"w-full rounded-xl border-slate-700 bg-slate-800 text-white p-3 focus:ring-2 focus:ring-brand-500 outline-none font-bold",onChange:ee=>Te(ee.target.value),children:[A.jsx("option",{value:"",children:"-- Select Registered Office --"}),o.map(ee=>A.jsx("option",{value:ee.id,children:ee.name},ee.id))]})]}),A.jsx(Ur,{label:"Location Name",placeholder:"Ex: Downey Tech Hub",labelClassName:"text-slate-400 font-black uppercase text-[10px] tracking-widest",value:U.locationName||"",onChange:ee=>W({...U,locationName:ee.target.value}),className:"bg-slate-800 border-slate-700 placeholder:text-slate-500 font-bold rounded-xl"}),A.jsx(Ur,{label:"Detailed Address",placeholder:"Street Example, 123",labelClassName:"text-slate-400 font-black uppercase text-[10px] tracking-widest",value:U.address||"",onChange:ee=>W({...U,address:ee.target.value}),className:"bg-slate-800 border-slate-700 placeholder:text-slate-500 font-bold rounded-xl"}),A.jsxs("div",{className:"md:col-span-2",children:[A.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Service Notes / Instructions"}),A.jsx("textarea",{className:"w-full rounded-xl border-slate-700 bg-slate-800 text-white p-3 focus:ring-2 focus:ring-brand-500 outline-none font-bold min-h-[100px]",placeholder:"Describe specific tasks for this shift...",value:U.notes||"",onChange:ee=>W({...U,notes:ee.target.value})})]})]}),A.jsxs("div",{className:"relative z-10",children:[A.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Days of Week (Multiple selection)"}),A.jsx("div",{className:"flex flex-wrap gap-2",children:Nb.map((ee,me)=>A.jsxs("button",{type:"button",onClick:()=>ge(me),className:`flex items-center space-x-2 px-4 py-2.5 rounded-xl border text-[10px] font-black transition-all ${re.includes(me)?"bg-brand-500 border-brand-500 text-white shadow-lg":"bg-slate-800 border-slate-700 text-slate-400 hover:border-slate-500"}`,children:[re.includes(me)?A.jsx(Aue,{size:14}):A.jsx(Yue,{size:14}),A.jsx("span",{children:ee.substring(0,3).toUpperCase()})]},me))})]}),A.jsx("div",{className:"w-1/3 relative z-10",children:A.jsx(Ur,{label:"Shift Duration (Hours)",type:"number",min:"0.5",step:"0.5",labelClassName:"text-slate-400 font-black uppercase text-[10px] tracking-widest",value:U.hoursPerDay,onChange:ee=>W({...U,hoursPerDay:Number(ee.target.value)}),className:"bg-slate-800 border-slate-700 font-bold text-white rounded-xl"})}),A.jsxs(Vn,{onClick:B,fullWidth:!0,disabled:f,className:"rounded-xl h-14 text-lg font-black shadow-xl relative z-10",children:[f?A.jsx(Br,{className:"animate-spin mr-2"}):A.jsx(C1,{size:20,className:"mr-2"}),"CONFIRM SCHEDULE"]})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.sort((ee,me)=>ee.dayOfWeek-me.dayOfWeek).map(ee=>A.jsxs("div",{onClick:()=>k(ee),className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5 relative group hover:shadow-md transition-all border-b-4 border-b-brand-100 cursor-pointer",children:[ue&&A.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",onClick:me=>me.stopPropagation(),children:[R!==ee.id&&A.jsx("button",{onClick:()=>_e(ee),className:"text-gray-300 hover:text-brand-600 transition-colors p-1",title:"Edit Schedule",children:A.jsx(C_,{size:16})}),A.jsx("button",{onClick:()=>pe(ee.id),className:"text-gray-300 hover:text-red-500 transition-colors p-1",children:A.jsx(N1,{size:18})})]}),A.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[A.jsx("div",{className:"bg-brand-50 p-2 rounded-lg text-brand-600",children:A.jsx(ka,{size:18})}),A.jsx("span",{className:"font-black text-gray-900 uppercase text-xs tracking-widest",children:Nb[ee.dayOfWeek]})]}),A.jsxs("div",{className:"space-y-4 text-gray-600",children:[A.jsxs("div",{className:"flex items-start space-x-3",children:[A.jsx(ws,{size:18,className:"mt-1 flex-shrink-0 text-brand-400"}),A.jsxs("div",{className:"min-w-0",children:[A.jsx("p",{className:"font-black text-gray-900 tracking-tight leading-tight truncate",children:ee.locationName}),A.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase mt-0.5 truncate",children:ee.address})]})]}),R===ee.id?A.jsxs("div",{className:"space-y-3 bg-brand-50 p-4 rounded-xl border border-brand-200 animate-fade-in shadow-inner",onClick:me=>me.stopPropagation(),children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(rh,{size:16,className:"text-brand-600"}),A.jsx("input",{type:"number",min:"0.5",step:"0.5",className:"w-20 p-1.5 text-sm border border-brand-300 rounded-lg focus:ring-2 focus:ring-brand-500 outline-none font-bold",value:N,onChange:me=>C(Number(me.target.value))}),A.jsx("span",{className:"text-xs font-black text-brand-600 uppercase",children:"h"})]}),A.jsxs("div",{className:"space-y-1",children:[A.jsx("label",{className:"text-[9px] font-black text-brand-600 uppercase tracking-widest",children:"Update Notes"}),A.jsx("textarea",{className:"w-full p-2 text-xs border border-brand-300 rounded-lg focus:ring-2 focus:ring-brand-500 outline-none font-medium min-h-[70px] bg-white",value:T,onChange:me=>$(me.target.value),placeholder:"Update shift instructions..."})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsxs(Vn,{size:"sm",onClick:()=>ce(ee.id),className:"flex-1 rounded-lg text-[10px] font-black shadow-sm",children:[f?A.jsx(Br,{className:"animate-spin",size:14}):A.jsx(P1,{size:14,className:"mr-1"})," SAVE"]}),A.jsxs(Vn,{size:"sm",variant:"secondary",onClick:()=>F(null),className:"flex-1 rounded-lg text-[10px] font-black border-gray-200",children:[A.jsx(Sl,{size:14,className:"mr-1"})," CANCEL"]})]})]}):A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center space-x-2 font-black bg-gray-50 px-3 py-1.5 rounded-xl w-fit text-brand-600 text-[10px] uppercase tracking-widest border border-gray-100",children:[A.jsx(rh,{size:14}),A.jsxs("span",{children:[ee.hoursPerDay," hours"]})]}),A.jsxs("div",{className:"flex items-center gap-1 text-[9px] font-black text-gray-300 uppercase opacity-0 group-hover:opacity-100 transition-opacity",children:[A.jsx(Mue,{size:12})," View details"]})]})]})]},ee.id)),r.length===0&&!b&&A.jsxs("div",{className:"col-span-full py-20 text-center text-gray-400 bg-white border-2 border-dashed border-gray-100 rounded-2xl flex flex-col items-center justify-center gap-3",children:[A.jsx(ka,{size:48,className:"text-gray-200"}),A.jsx("p",{className:"italic font-bold text-sm uppercase tracking-widest",children:"No operational shifts scheduled."})]})]})]}):A.jsxs("div",{className:"space-y-6",children:[_&&ue&&A.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-brand-100 shadow-xl space-y-4 animate-fade-in",children:[A.jsx("h3",{className:"font-black text-brand-900 uppercase tracking-widest border-b pb-2",children:"New Service Location"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[A.jsx(Ur,{label:"Location Name",value:P.name,onChange:ee=>D({...P,name:ee.target.value})}),A.jsxs("div",{className:"relative",children:[A.jsx(Ur,{label:"Eircode (Postcode)",value:P.eircode,onChange:ee=>D({...P,eircode:ee.target.value}),onBlur:ae,className:"pr-10",placeholder:"Ex: D02 X285"}),A.jsx("button",{onClick:ae,disabled:h,className:"absolute right-2 top-[34px] p-1.5 bg-brand-100 text-brand-600 rounded-lg hover:bg-brand-200 transition-all disabled:opacity-50",title:"Search Address",children:h?A.jsx(Br,{size:16,className:"animate-spin"}):A.jsx(q$,{size:16})})]}),A.jsx(Ur,{label:"Full Address",value:P.address,onChange:ee=>D({...P,address:ee.target.value}),placeholder:"Auto-filled via Eircode"})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsxs(Vn,{onClick:G,disabled:f,className:"font-bold",children:[f?A.jsx(Br,{className:"animate-spin mr-2"}):A.jsx(C1,{size:18,className:"mr-2"})," Save Location"]}),A.jsx(Vn,{variant:"outline",onClick:()=>S(!1),className:"font-bold",children:"Cancel"})]})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.map(ee=>A.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5 group hover:shadow-md transition-all",children:[A.jsxs("div",{className:"flex justify-between items-start mb-4",children:[A.jsx("div",{className:"bg-brand-50 p-3 rounded-xl text-brand-600",children:A.jsx(b4,{size:24})}),ue&&A.jsx("button",{onClick:()=>te(ee.id),className:"text-gray-300 hover:text-red-500 p-1",children:A.jsx(N1,{size:20})})]}),A.jsx("h3",{className:"font-black text-gray-900 text-lg leading-tight mb-1",children:ee.name}),A.jsx("p",{className:"text-[10px] font-black text-brand-500 uppercase tracking-widest mb-4",children:ee.eircode||"No Eircode"}),A.jsxs("div",{className:"flex items-start gap-2 text-gray-500",children:[A.jsx(ws,{size:16,className:"mt-1 shrink-0"}),A.jsx("p",{className:"text-sm font-medium",children:ee.address})]})]},ee.id)),o.length===0&&!_&&A.jsx("div",{className:"col-span-full py-20 text-center text-gray-400 bg-white border-2 border-dashed border-gray-100 rounded-2xl",children:A.jsx("p",{className:"font-bold italic",children:"No service locations registered."})})]})]}),E&&A.jsx("div",{className:"fixed inset-0 bg-brand-900/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>k(null),children:A.jsxs("div",{className:"bg-white w-full max-w-lg rounded-3xl shadow-2xl overflow-hidden animate-fade-in relative",onClick:ee=>ee.stopPropagation(),children:[A.jsxs("div",{className:"bg-brand-900 p-8 text-white",children:[A.jsxs("div",{className:"flex justify-between items-start",children:[A.jsx("div",{className:"bg-white/10 p-3 rounded-2xl backdrop-blur-md mb-4",children:A.jsx(ka,{size:28,className:"text-white"})}),A.jsx("button",{onClick:()=>k(null),className:"text-white/60 hover:text-white transition-colors",children:A.jsx(Sl,{size:28})})]}),A.jsx("h3",{className:"text-2xl font-black uppercase tracking-tight leading-tight",children:E.locationName}),A.jsxs("p",{className:"text-brand-300 font-bold uppercase text-[10px] tracking-[0.2em] mt-1",children:["Operations: ",Nb[E.dayOfWeek]]})]}),A.jsxs("div",{className:"p-8 space-y-6",children:[A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{className:"bg-gray-50 p-4 rounded-2xl border border-gray-100",children:[A.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Assigned Time"}),A.jsxs("div",{className:"flex items-center gap-2 text-brand-600 font-black",children:[A.jsx(rh,{size:16})," ",E.hoursPerDay," Hours"]})]}),A.jsxs("div",{className:"bg-gray-50 p-4 rounded-2xl border border-gray-100",children:[A.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Frequency"}),A.jsxs("div",{className:"flex items-center gap-2 text-brand-600 font-black",children:[A.jsx(ka,{size:16})," Weekly"]})]})]}),A.jsxs("div",{className:"space-y-1",children:[A.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Service Location"}),A.jsxs("div",{className:"flex items-start gap-2",children:[A.jsx(ws,{className:"text-brand-500 shrink-0 mt-1",size:18}),A.jsx("p",{className:"font-bold text-gray-700 leading-tight",children:E.address})]})]}),A.jsxs("div",{className:"space-y-3 bg-brand-50 p-6 rounded-3xl border border-brand-100",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(Cue,{className:"text-brand-600",size:18}),A.jsx("p",{className:"text-[10px] font-black text-brand-900 uppercase tracking-widest",children:"Instructions / Notes"})]}),A.jsx("p",{className:"text-sm font-medium text-brand-800 leading-relaxed italic whitespace-pre-wrap",children:E.notes||"No specific instructions provided for this location."})]}),A.jsx(Vn,{fullWidth:!0,onClick:()=>k(null),className:"h-14 rounded-2xl font-black tracking-tight text-lg shadow-xl",children:"Got it!"})]})]})})]})},kb={knowJobSafety:!1,weatherCheck:!1,safePassInDate:!1,hazardAwareness:!1,floorConditions:!1,manualHandlingCert:!1,liftingHelp:!1,anchorPoints:!1,ladderFooting:!1,safetyCones:!1,communication:!1,laddersCheck:!1,sharpEdges:!1,scraperCovers:!1,hotSurfaces:!1,chemicalCourse:!1,chemicalAwareness:!1,tidyEquipment:!1,laddersStored:!1,highVis:!1,helmet:!1,goggles:!1,gloves:!1,mask:!1,earMuffs:!1,faceGuard:!1,harness:!1,boots:!1},ece=()=>{const{user:t}=wp(),[e,n]=fe.useState(null),[r,i]=fe.useState(""),[o,s]=fe.useState(!1),[a,l]=fe.useState([]),[u,c]=fe.useState(!1),[f,d]=fe.useState(!0),[h,y]=fe.useState("checking"),[b,w]=fe.useState(null),[_,S]=fe.useState(null),[E,k]=fe.useState(null),[R,F]=fe.useState(null),[N,C]=fe.useState(kb),[T,$]=fe.useState(0),P=fe.useRef(null);fe.useEffect(()=>{(async()=>{if(t)try{const G=await rn.getActiveSession(t.id);G&&(n(G),i(G.locationName),G.safetyChecklist&&C({...kb,...G.safetyChecklist}),w(G.photoUrl||null));const te=await rn.getSchedulesByUser(t.id),ce=new Map;te.forEach(_e=>{ce.has(_e.locationName)||ce.set(_e.locationName,_e.address)});const pe=Array.from(ce.entries()).map(([_e,Te])=>({name:_e,address:Te}));l(pe),pe.length===0&&s(!0),D()}catch(G){console.error("Error initializing check-in",G)}finally{d(!1)}})()},[t]);const D=()=>{if(!navigator.geolocation){y("error");return}navigator.geolocation.getCurrentPosition(()=>y("acquired"),B=>{B.code===1?y("denied"):y("error")},{timeout:5e3,enableHighAccuracy:!0})};fe.useEffect(()=>{if(e){const B=new Date(e.startTime).getTime(),G=e.totalPausedMs||0;P.current=window.setInterval(()=>{let te=Date.now(),ce=te-B-G;if(e.isPaused&&e.pausedAt){const pe=new Date(e.pausedAt).getTime();ce-=te-pe}$(Math.floor(ce/1e3))},1e3)}else P.current&&clearInterval(P.current),$(0);return()=>{P.current&&clearInterval(P.current)}},[e]);const U=B=>{const G=Math.floor(B/3600),te=Math.floor(B%3600/60),ce=B%60;return`${G.toString().padStart(2,"0")}:${te.toString().padStart(2,"0")}:${ce.toString().padStart(2,"0")}`},W=(B,G)=>{var ce;const te=(ce=B.target.files)==null?void 0:ce[0];if(te){const pe=new FileReader;pe.onloadend=()=>{G?(k(pe.result),F(te)):(w(pe.result),S(te))},pe.readAsDataURL(te)}},re=()=>new Promise((B,G)=>{if(!navigator.geolocation){G(new Error("Seu navegador no suporta geolocalizao. O GPS  obrigatrio para check-in/out."));return}navigator.geolocation.getCurrentPosition(te=>{y("acquired"),B({lat:te.coords.latitude,lng:te.coords.longitude})},te=>{te.code===1?(y("denied"),G(new Error("Permisso de GPS negada.  obrigatrio autorizar o acesso  localizao para continuar."))):(y("error"),G(new Error("No foi possvel obter sua localizao. Certifique-se de que o GPS do dispositivo est ligado.")))},{enableHighAccuracy:!0,timeout:1e4})}),le=async()=>{if(!t||!r.trim()){alert("Por favor, selecione ou digite um local.");return}if(!(Object.values(N).filter(G=>G===!0).length<5&&!confirm("Voc marcou poucos itens de segurana. Deseja prosseguir mesmo assim?"))){c(!0);try{const G=await re(),te={userId:t.id,locationName:r.trim(),startTime:new Date().toISOString(),date:new Date().toISOString().split("T")[0],safetyChecklist:{...N},startLocation:G},ce=await rn.startShift(te,_||void 0);n(ce),S(null)}catch(G){console.error("Falha ao iniciar turno:",G),alert(G.message||"No foi possvel iniciar o turno. O GPS  obrigatrio.")}finally{c(!1)}}},ue=async()=>{if(e){c(!0);try{const B=await rn.togglePause(e);n(B)}catch(B){console.error(B),alert("Falha ao atualizar pausa.")}finally{c(!1)}}},Q=async()=>{if(e){c(!0);try{const B=await re();await rn.endShift(e.id,{endTime:new Date().toISOString(),endLocation:B,isPaused:!1},R||void 0),n(null),w(null),S(null),k(null),F(null),i(""),C(kb)}catch(B){console.error(B),alert(B.message||"No foi possvel encerrar o turno. A localizao GPS  obrigatria para verificao.")}finally{c(!1)}}},ae=B=>{e||C(G=>({...G,[B]:!G[B]}))},ye=({title:B,icon:G,children:te})=>A.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm space-y-4",children:[A.jsxs("div",{className:"flex items-center gap-2 border-b pb-2",children:[A.jsx(G,{className:"text-brand-600",size:20}),A.jsx("h3",{className:"font-bold text-gray-800 uppercase text-sm tracking-wide",children:B})]}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:te})]}),ge=({id:B,label:G})=>A.jsxs("button",{onClick:()=>ae(B),disabled:!!e,className:`
        flex items-center justify-between p-3 rounded-lg border text-left transition-all
        ${N[B]?"border-brand-500 bg-brand-50 text-brand-700":"border-gray-200 text-gray-500 hover:bg-gray-50"}
      `,children:[A.jsx("span",{className:"text-xs font-medium",children:G}),A.jsx("div",{className:`w-5 h-5 rounded border flex items-center justify-center ${N[B]?"bg-brand-500 border-brand-500":"bg-white border-gray-300"}`,children:N[B]&&A.jsx(P1,{size:14,className:"text-white"})})]});return f?A.jsxs("div",{className:"flex flex-col items-center justify-center p-20 space-y-4",children:[A.jsx(Br,{className:"animate-spin text-brand-600",size:48}),A.jsx("p",{className:"text-gray-500 font-medium",children:"Iniciando protocolos de segurana..."})]}):A.jsxs("div",{className:"max-w-3xl mx-auto space-y-6 pb-20",children:[A.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[A.jsxs("div",{children:[A.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[A.jsx(Yc,{className:"text-brand-600"}),"Plano de Segurana Ativo"]}),A.jsx("p",{className:"text-gray-500 text-sm italic mt-1",children:"O GPS  obrigatrio para registrar seu servio."})]}),A.jsx("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full border text-[10px] font-black uppercase tracking-widest ${h==="acquired"?"bg-green-50 text-green-700 border-green-200":h==="denied"?"bg-red-50 text-red-700 border-red-200 animate-pulse":"bg-gray-50 text-gray-500 border-gray-200"}`,children:h==="acquired"?A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"})," GPS ATIVO"]}):h==="denied"?A.jsxs(A.Fragment,{children:[A.jsx(B$,{size:12})," GPS BLOQUEADO"]}):A.jsxs(A.Fragment,{children:[A.jsx(Br,{size:12,className:"animate-spin"})," VERIFICANDO GPS"]})}),e&&A.jsx("div",{className:`px-4 py-2 rounded-full font-mono font-bold transition-colors ${e.isPaused?"bg-orange-500 text-white":"bg-brand-900 text-white animate-pulse"}`,children:U(T)})]}),h==="denied"&&A.jsxs("div",{className:"bg-red-50 p-4 rounded-xl border border-red-100 flex items-start gap-3 animate-shake",children:[A.jsx(_4,{className:"text-red-600 shrink-0",size:24}),A.jsxs("div",{children:[A.jsx("p",{className:"text-red-900 font-black uppercase text-xs tracking-widest",children:"Ao Bloqueada: GPS Negado"}),A.jsx("p",{className:"text-red-700 text-xs mt-1",children:"A Downey Cleaning exige verificao GPS. Por favor, autorize a localizao nas configuraes do navegador e atualize a pgina."})]})]}),A.jsxs(ye,{title:"Plano de Ao",icon:Yc,children:[A.jsx(ge,{id:"knowJobSafety",label:"Sabe completar o trabalho com segurana?"}),A.jsx(ge,{id:"weatherCheck",label:"Condies climticas apropriadas?"}),A.jsx(ge,{id:"safePassInDate",label:"Safe Pass em dia?"}),A.jsx(ge,{id:"hazardAwareness",label:"Ciente de riscos de tropeo/queda?"}),A.jsx(ge,{id:"floorConditions",label:"Pisos molhados identificados?"})]}),A.jsxs(ye,{title:"Levantamento de Peso",icon:Eue,children:[A.jsx(ge,{id:"manualHandlingCert",label:"Certificado de Manual Handling completo?"}),A.jsx(ge,{id:"liftingHelp",label:"Peso excessivo (precisa de ajuda)?"})]}),A.jsxs(ye,{title:"Trabalho em Altura",icon:E4,children:[A.jsx(ge,{id:"anchorPoints",label:"Pontos de ancoragem identificados?"}),A.jsx(ge,{id:"ladderFooting",label:"Uma pessoa segurando a escada?"}),A.jsx(ge,{id:"safetyCones",label:"Cones/sinalizao de piso molhado?"}),A.jsx(ge,{id:"communication",label:"Comunicao com colegas ativa?"})]}),A.jsxs(ye,{title:"Equipamento Verificado",icon:gE,children:[A.jsx(ge,{id:"laddersCheck",label:"Escadas verificadas?"}),A.jsx(ge,{id:"sharpEdges",label:"Verificou bordas afiadas?"}),A.jsx(ge,{id:"scraperCovers",label:"Protetores nas lminas?"}),A.jsx(ge,{id:"hotSurfaces",label:"Cuidado com superfcies quentes?"}),A.jsx(ge,{id:"chemicalCourse",label:"Treinamento de qumicos completo?"}),A.jsx(ge,{id:"chemicalAwareness",label:"Ciente das diluies/segurana?"}),A.jsx(ge,{id:"tidyEquipment",label:"Equipamento organizado?"}),A.jsx(ge,{id:"laddersStored",label:"Escadas guardadas com segurana?"})]}),A.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[A.jsxs("div",{className:"flex items-center gap-2 border-b pb-2 mb-4",children:[A.jsx(_4,{className:"text-brand-600",size:20}),A.jsx("h3",{className:"font-bold text-gray-800 uppercase text-sm tracking-wide",children:"EPIs Necessrios"})]}),A.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-5 gap-4",children:[{id:"highVis",label:"Colete",icon:E4},{id:"helmet",label:"Capacete",icon:Rue},{id:"goggles",label:"culos",icon:Nue},{id:"gloves",label:"Luvas",icon:kue},{id:"mask",label:"Mscara",icon:Yc},{id:"earMuffs",label:"Protetor Auricular",icon:gE},{id:"faceGuard",label:"Protetor Facial",icon:Yc},{id:"harness",label:"Cinto",icon:Yc},{id:"boots",label:"Botas",icon:ws}].map(B=>A.jsxs("button",{onClick:()=>ae(B.id),disabled:!!e,className:`
                flex flex-col items-center justify-center p-2 rounded-lg border-2 transition-all
                ${N[B.id]?"border-brand-500 bg-brand-50 shadow-inner":"border-gray-100 bg-gray-50 opacity-60"}
              `,children:[A.jsx(B.icon,{size:24,className:N[B.id]?"text-brand-600":"text-gray-400"}),A.jsx("span",{className:"text-[10px] mt-1 font-bold text-gray-600 uppercase text-center",children:B.label}),A.jsx("div",{className:`mt-1 w-4 h-4 rounded-sm border ${N[B.id]?"bg-brand-500 border-brand-500":"bg-white border-gray-300"}`,children:N[B.id]&&A.jsx(P1,{size:12,className:"text-white mx-auto"})})]},B.id))})]}),!e&&A.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 space-y-4",children:[A.jsxs("div",{children:[A.jsxs("div",{className:"flex justify-between items-end mb-1",children:[A.jsx("label",{className:"block text-sm font-bold text-gray-700 uppercase tracking-tight",children:"Local de Trabalho"}),A.jsxs("button",{onClick:()=>s(!o),className:"text-xs text-brand-600 font-bold flex items-center gap-1 hover:underline",children:[o?A.jsx(vE,{size:14}):A.jsx(C_,{size:14}),o?"Selecionar da lista":"Digitar manualmente"]})]}),A.jsxs("div",{className:"relative",children:[o?A.jsx("input",{type:"text",placeholder:"Nome do local ou endereo...",className:"w-full rounded-md border-gray-300 p-3 bg-white border font-medium",value:r,onChange:B=>i(B.target.value)}):A.jsxs("select",{className:"w-full rounded-md border-gray-300 p-3 appearance-none bg-white border font-medium",value:r,onChange:B=>i(B.target.value),children:[A.jsx("option",{value:"",children:"Selecione o local..."}),a.map((B,G)=>A.jsxs("option",{value:B.name,children:[B.name," - ",B.address]},G))]}),A.jsx(ws,{className:"absolute right-3 top-3.5 text-gray-400 pointer-events-none",size:20})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2 uppercase tracking-tight",children:"Foto Incio (Opcional)"}),A.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",children:[A.jsx("div",{className:"flex flex-col items-center justify-center pt-5 pb-6 text-center",children:b?A.jsx("img",{src:b,alt:"Preview",className:"h-28 object-contain rounded shadow-sm"}):A.jsxs(A.Fragment,{children:[A.jsx(x4,{className:"w-8 h-8 text-gray-400"}),A.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Clique para tirar foto"})]})}),A.jsx("input",{type:"file",className:"hidden",accept:"image/*",capture:"environment",onChange:B=>W(B,!1)})]})]})]}),A.jsx("div",{className:`p-8 rounded-xl text-center transition-all shadow-lg ${e?e.isPaused?"bg-orange-600 text-white":"bg-brand-900 text-white":"bg-brand-100"}`,children:e?A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:e.isPaused?"":"animate-pulse",children:[A.jsx("p",{className:"text-white/70 font-bold uppercase tracking-widest text-[10px] mb-1",children:e.isPaused?"Turno em Pausa / Break":"Turno em Andamento"}),A.jsx("div",{className:"text-5xl font-mono font-bold tracking-tighter",children:U(T)}),A.jsx("p",{className:"text-white/60 text-sm mt-2 font-medium",children:e.locationName})]}),A.jsxs("div",{className:"bg-white/10 p-4 rounded-lg text-left border border-white/5",children:[A.jsx("label",{className:"block text-xs font-bold text-white/70 mb-2 uppercase tracking-widest",children:"Foto Final (Opcional)"}),A.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-white/20 border-dashed rounded-lg cursor-pointer hover:bg-white/5 transition-colors",children:[A.jsx("div",{className:"flex flex-col items-center justify-center pt-5 pb-6 text-center",children:E?A.jsx("img",{src:E,alt:"Preview",className:"h-28 object-contain rounded shadow-sm"}):A.jsx(x4,{className:"w-8 h-8 text-white/40"})}),A.jsx("input",{type:"file",className:"hidden",accept:"image/*",capture:"environment",onChange:B=>W(B,!0)})]})]}),A.jsxs("div",{className:"flex gap-4",children:[A.jsxs(Vn,{onClick:ue,variant:"secondary",className:`flex-1 font-bold ${e.isPaused?"bg-green-500 text-white border-none hover:bg-green-600":"bg-white text-orange-600 border-none"}`,disabled:u,children:[u?A.jsx(Br,{className:"animate-spin mr-2"}):e.isPaused?A.jsx(Hue,{size:20,className:"mr-2"}):A.jsx(Vue,{size:20,className:"mr-2"}),e.isPaused?"Retomar":"Pausar"]}),A.jsxs(Vn,{onClick:Q,variant:"danger",className:"flex-1 shadow-xl font-bold bg-red-500 hover:bg-red-600 border-none",disabled:u,children:[u?A.jsx(Br,{className:"animate-spin mr-2"}):A.jsx(Jue,{size:20,className:"mr-2"}),"Finalizar"]})]})]}):A.jsxs("div",{className:"space-y-4",children:[A.jsxs(Vn,{onClick:le,size:"lg",className:"w-full shadow-md py-4 text-xl",disabled:u,children:[u?A.jsx(Br,{className:"animate-spin mr-2"}):A.jsx(zue,{className:"mr-2"}),u?"Verificando GPS...":"Submeter e Iniciar"]}),A.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-widest font-bold",children:"O GPS  obrigatrio para iniciar."})]})})]})};function H$(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=H$(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function pn(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=H$(t))&&(r&&(r+=" "),r+=e);return r}var tce=Array.isArray,Ao=tce,nce=typeof ty=="object"&&ty&&ty.Object===Object&&ty,G$=nce,rce=G$,ice=typeof self=="object"&&self&&self.Object===Object&&self,oce=rce||ice||Function("return this")(),Qa=oce,sce=Qa,ace=sce.Symbol,Iv=ace,C4=Iv,W$=Object.prototype,lce=W$.hasOwnProperty,uce=W$.toString,em=C4?C4.toStringTag:void 0;function cce(t){var e=lce.call(t,em),n=t[em];try{t[em]=void 0;var r=!0}catch{}var i=uce.call(t);return r&&(e?t[em]=n:delete t[em]),i}var fce=cce,dce=Object.prototype,hce=dce.toString;function pce(t){return hce.call(t)}var mce=pce,N4=Iv,gce=fce,vce=mce,yce="[object Null]",wce="[object Undefined]",k4=N4?N4.toStringTag:void 0;function _ce(t){return t==null?t===void 0?wce:yce:k4&&k4 in Object(t)?gce(t):vce(t)}var tu=_ce;function bce(t){return t!=null&&typeof t=="object"}var nu=bce,xce=tu,Sce=nu,Ece="[object Symbol]";function Ace(t){return typeof t=="symbol"||Sce(t)&&xce(t)==Ece}var sp=Ace,Tce=Ao,Ice=sp,Pce=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Cce=/^\w*$/;function Nce(t,e){if(Tce(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Ice(t)?!0:Cce.test(t)||!Pce.test(t)||e!=null&&t in Object(e)}var aI=Nce;function kce(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var wc=kce;const ap=Fn(wc);var Rce=tu,Oce=wc,Mce="[object AsyncFunction]",Lce="[object Function]",Dce="[object GeneratorFunction]",Fce="[object Proxy]";function Uce(t){if(!Oce(t))return!1;var e=Rce(t);return e==Lce||e==Dce||e==Mce||e==Fce}var lI=Uce;const Ht=Fn(lI);var $ce=Qa,jce=$ce["__core-js_shared__"],Bce=jce,Rb=Bce,R4=function(){var t=/[^.]+$/.exec(Rb&&Rb.keys&&Rb.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Vce(t){return!!R4&&R4 in t}var qce=Vce,zce=Function.prototype,Hce=zce.toString;function Gce(t){if(t!=null){try{return Hce.call(t)}catch{}try{return t+""}catch{}}return""}var K$=Gce,Wce=lI,Kce=qce,Yce=wc,Jce=K$,Xce=/[\\^$.*+?()[\]{}|]/g,Qce=/^\[object .+?Constructor\]$/,Zce=Function.prototype,efe=Object.prototype,tfe=Zce.toString,nfe=efe.hasOwnProperty,rfe=RegExp("^"+tfe.call(nfe).replace(Xce,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ife(t){if(!Yce(t)||Kce(t))return!1;var e=Wce(t)?rfe:Qce;return e.test(Jce(t))}var ofe=ife;function sfe(t,e){return t==null?void 0:t[e]}var afe=sfe,lfe=ofe,ufe=afe;function cfe(t,e){var n=ufe(t,e);return lfe(n)?n:void 0}var zf=cfe,ffe=zf,dfe=ffe(Object,"create"),k_=dfe,O4=k_;function hfe(){this.__data__=O4?O4(null):{},this.size=0}var pfe=hfe;function mfe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var gfe=mfe,vfe=k_,yfe="__lodash_hash_undefined__",wfe=Object.prototype,_fe=wfe.hasOwnProperty;function bfe(t){var e=this.__data__;if(vfe){var n=e[t];return n===yfe?void 0:n}return _fe.call(e,t)?e[t]:void 0}var xfe=bfe,Sfe=k_,Efe=Object.prototype,Afe=Efe.hasOwnProperty;function Tfe(t){var e=this.__data__;return Sfe?e[t]!==void 0:Afe.call(e,t)}var Ife=Tfe,Pfe=k_,Cfe="__lodash_hash_undefined__";function Nfe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Pfe&&e===void 0?Cfe:e,this}var kfe=Nfe,Rfe=pfe,Ofe=gfe,Mfe=xfe,Lfe=Ife,Dfe=kfe;function lp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}lp.prototype.clear=Rfe;lp.prototype.delete=Ofe;lp.prototype.get=Mfe;lp.prototype.has=Lfe;lp.prototype.set=Dfe;var Ffe=lp;function Ufe(){this.__data__=[],this.size=0}var $fe=Ufe;function jfe(t,e){return t===e||t!==t&&e!==e}var uI=jfe,Bfe=uI;function Vfe(t,e){for(var n=t.length;n--;)if(Bfe(t[n][0],e))return n;return-1}var R_=Vfe,qfe=R_,zfe=Array.prototype,Hfe=zfe.splice;function Gfe(t){var e=this.__data__,n=qfe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Hfe.call(e,n,1),--this.size,!0}var Wfe=Gfe,Kfe=R_;function Yfe(t){var e=this.__data__,n=Kfe(e,t);return n<0?void 0:e[n][1]}var Jfe=Yfe,Xfe=R_;function Qfe(t){return Xfe(this.__data__,t)>-1}var Zfe=Qfe,ede=R_;function tde(t,e){var n=this.__data__,r=ede(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var nde=tde,rde=$fe,ide=Wfe,ode=Jfe,sde=Zfe,ade=nde;function up(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}up.prototype.clear=rde;up.prototype.delete=ide;up.prototype.get=ode;up.prototype.has=sde;up.prototype.set=ade;var O_=up,lde=zf,ude=Qa,cde=lde(ude,"Map"),cI=cde,M4=Ffe,fde=O_,dde=cI;function hde(){this.size=0,this.__data__={hash:new M4,map:new(dde||fde),string:new M4}}var pde=hde;function mde(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var gde=mde,vde=gde;function yde(t,e){var n=t.__data__;return vde(e)?n[typeof e=="string"?"string":"hash"]:n.map}var M_=yde,wde=M_;function _de(t){var e=wde(this,t).delete(t);return this.size-=e?1:0,e}var bde=_de,xde=M_;function Sde(t){return xde(this,t).get(t)}var Ede=Sde,Ade=M_;function Tde(t){return Ade(this,t).has(t)}var Ide=Tde,Pde=M_;function Cde(t,e){var n=Pde(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Nde=Cde,kde=pde,Rde=bde,Ode=Ede,Mde=Ide,Lde=Nde;function cp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}cp.prototype.clear=kde;cp.prototype.delete=Rde;cp.prototype.get=Ode;cp.prototype.has=Mde;cp.prototype.set=Lde;var fI=cp,Y$=fI,Dde="Expected a function";function dI(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Dde);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(dI.Cache||Y$),n}dI.Cache=Y$;var J$=dI;const Fde=Fn(J$);var Ude=J$,$de=500;function jde(t){var e=Ude(t,function(r){return n.size===$de&&n.clear(),r}),n=e.cache;return e}var Bde=jde,Vde=Bde,qde=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zde=/\\(\\)?/g,Hde=Vde(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(qde,function(n,r,i,o){e.push(i?o.replace(zde,"$1"):r||n)}),e}),Gde=Hde;function Wde(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var hI=Wde,L4=Iv,Kde=hI,Yde=Ao,Jde=sp,D4=L4?L4.prototype:void 0,F4=D4?D4.toString:void 0;function X$(t){if(typeof t=="string")return t;if(Yde(t))return Kde(t,X$)+"";if(Jde(t))return F4?F4.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Xde=X$,Qde=Xde;function Zde(t){return t==null?"":Qde(t)}var Q$=Zde,ehe=Ao,the=aI,nhe=Gde,rhe=Q$;function ihe(t,e){return ehe(t)?t:the(t,e)?[t]:nhe(rhe(t))}var Z$=ihe,ohe=sp;function she(t){if(typeof t=="string"||ohe(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var L_=she,ahe=Z$,lhe=L_;function uhe(t,e){e=ahe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[lhe(e[n++])];return n&&n==r?t:void 0}var pI=uhe,che=pI;function fhe(t,e,n){var r=t==null?void 0:che(t,e);return r===void 0?n:r}var ej=fhe;const As=Fn(ej);function dhe(t){return t==null}var hhe=dhe;const mn=Fn(hhe);var phe=tu,mhe=Ao,ghe=nu,vhe="[object String]";function yhe(t){return typeof t=="string"||!mhe(t)&&ghe(t)&&phe(t)==vhe}var whe=yhe;const If=Fn(whe);var tj={exports:{}},Pn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mI=Symbol.for("react.element"),gI=Symbol.for("react.portal"),D_=Symbol.for("react.fragment"),F_=Symbol.for("react.strict_mode"),U_=Symbol.for("react.profiler"),$_=Symbol.for("react.provider"),j_=Symbol.for("react.context"),_he=Symbol.for("react.server_context"),B_=Symbol.for("react.forward_ref"),V_=Symbol.for("react.suspense"),q_=Symbol.for("react.suspense_list"),z_=Symbol.for("react.memo"),H_=Symbol.for("react.lazy"),bhe=Symbol.for("react.offscreen"),nj;nj=Symbol.for("react.module.reference");function ks(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case mI:switch(t=t.type,t){case D_:case U_:case F_:case V_:case q_:return t;default:switch(t=t&&t.$$typeof,t){case _he:case j_:case B_:case H_:case z_:case $_:return t;default:return e}}case gI:return e}}}Pn.ContextConsumer=j_;Pn.ContextProvider=$_;Pn.Element=mI;Pn.ForwardRef=B_;Pn.Fragment=D_;Pn.Lazy=H_;Pn.Memo=z_;Pn.Portal=gI;Pn.Profiler=U_;Pn.StrictMode=F_;Pn.Suspense=V_;Pn.SuspenseList=q_;Pn.isAsyncMode=function(){return!1};Pn.isConcurrentMode=function(){return!1};Pn.isContextConsumer=function(t){return ks(t)===j_};Pn.isContextProvider=function(t){return ks(t)===$_};Pn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===mI};Pn.isForwardRef=function(t){return ks(t)===B_};Pn.isFragment=function(t){return ks(t)===D_};Pn.isLazy=function(t){return ks(t)===H_};Pn.isMemo=function(t){return ks(t)===z_};Pn.isPortal=function(t){return ks(t)===gI};Pn.isProfiler=function(t){return ks(t)===U_};Pn.isStrictMode=function(t){return ks(t)===F_};Pn.isSuspense=function(t){return ks(t)===V_};Pn.isSuspenseList=function(t){return ks(t)===q_};Pn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===D_||t===U_||t===F_||t===V_||t===q_||t===bhe||typeof t=="object"&&t!==null&&(t.$$typeof===H_||t.$$typeof===z_||t.$$typeof===$_||t.$$typeof===j_||t.$$typeof===B_||t.$$typeof===nj||t.getModuleId!==void 0)};Pn.typeOf=ks;tj.exports=Pn;var xhe=tj.exports,She=tu,Ehe=nu,Ahe="[object Number]";function The(t){return typeof t=="number"||Ehe(t)&&She(t)==Ahe}var rj=The;const Ihe=Fn(rj);var Phe=rj;function Che(t){return Phe(t)&&t!=+t}var Nhe=Che;const Pv=Fn(Nhe);var Js=function(e){return e===0?0:e>0?1:-1},tf=function(e){return If(e)&&e.indexOf("%")===e.length-1},He=function(e){return Ihe(e)&&!Pv(e)},khe=function(e){return mn(e)},Zr=function(e){return He(e)||If(e)},Rhe=0,G_=function(e){var n=++Rhe;return"".concat(e||"").concat(n)},Pf=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!He(e)&&!If(e))return r;var o;if(tf(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return Pv(o)&&(o=r),i&&o>n&&(o=n),o},$u=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Ohe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},fd=function(e,n){return He(e)&&He(n)?function(r){return e+r*(n-e)}:function(){return n}};function _E(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):As(r,e))===n})}var Mhe=function(e,n){return He(e)&&He(n)?e-n:If(e)&&If(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function ih(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function bE(t){"@babel/helpers - typeof";return bE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bE(t)}var Lhe=["viewBox","children"],Dhe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],U4=["points","pathLength"],Ob={svg:Lhe,polygon:U4,polyline:U4},vI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],k1=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(fe.isValidElement(e)&&(r=e.props),!ap(r))return null;var i={};return Object.keys(r).forEach(function(o){vI.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},Fhe=function(e,n,r){return function(i){return e(n,r,i),null}},R1=function(e,n,r){if(!ap(e)||bE(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];vI.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=Fhe(s,n,r))}),i},Uhe=["children"],$he=["children"];function $4(t,e){if(t==null)return{};var n=jhe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var j4={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ll=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},B4=null,Mb=null,yI=function t(e){if(e===B4&&Array.isArray(Mb))return Mb;var n=[];return fe.Children.forEach(e,function(r){mn(r)||(xhe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Mb=n,B4=e,n};function ta(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Ll(i)}):r=[Ll(e)],yI(t).forEach(function(i){var o=As(i,"type.displayName")||As(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function qo(t,e){var n=ta(t,e);return n&&n[0]}var V4=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!He(r)||r<=0||!He(i)||i<=0)},Bhe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Vhe=function(e){return e&&e.type&&If(e.type)&&Bhe.indexOf(e.type)>=0},qhe=function(e,n,r,i){var o,s=(o=Ob==null?void 0:Ob[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Ht(e)&&(i&&s.includes(n)||Dhe.includes(n))||r&&vI.includes(n)},hn=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(fe.isValidElement(e)&&(i=e.props),!ap(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;qhe((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},xE=function t(e,n){if(e===n)return!0;var r=fe.Children.count(e);if(r!==fe.Children.count(n))return!1;if(r===0)return!0;if(r===1)return q4(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!q4(o,s))return!1}return!0},q4=function(e,n){if(mn(e)&&mn(n))return!0;if(!mn(e)&&!mn(n)){var r=e.props||{},i=r.children,o=$4(r,Uhe),s=n.props||{},a=s.children,l=$4(s,$he);return i&&a?ih(o,l)&&xE(i,a):!i&&!a?ih(o,l):!1}return!1},z4=function(e,n){var r=[],i={};return yI(e).forEach(function(o,s){if(Vhe(o))r.push(o);else if(o){var a=Ll(o.type),l=n[a]||{},u=l.handler,c=l.once;if(u&&(!c||!i[a])){var f=u(o,a,s);r.push(f),i[a]=!0}}}),r},zhe=function(e){var n=e&&e.type;return n&&j4[n]?j4[n]:null},Hhe=function(e,n){return yI(n).indexOf(e)},Ghe=["children","width","height","viewBox","className","style","title","desc"];function SE(){return SE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SE.apply(this,arguments)}function Whe(t,e){if(t==null)return{};var n=Khe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Khe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function EE(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,u=Whe(t,Ghe),c=i||{width:n,height:r,x:0,y:0},f=pn("recharts-surface",o);return Se.createElement("svg",SE({},hn(u,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),Se.createElement("title",null,a),Se.createElement("desc",null,l),e)}var Yhe=["children","className"];function AE(){return AE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AE.apply(this,arguments)}function Jhe(t,e){if(t==null)return{};var n=Xhe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ci=Se.forwardRef(function(t,e){var n=t.children,r=t.className,i=Jhe(t,Yhe),o=pn("recharts-layer",r);return Se.createElement("g",AE({className:o},hn(i,!0),{ref:e}),n)}),Dl=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function Qhe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var Zhe=Qhe,epe=Zhe;function tpe(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:epe(t,e,n)}var npe=tpe,rpe="\\ud800-\\udfff",ipe="\\u0300-\\u036f",ope="\\ufe20-\\ufe2f",spe="\\u20d0-\\u20ff",ape=ipe+ope+spe,lpe="\\ufe0e\\ufe0f",upe="\\u200d",cpe=RegExp("["+upe+rpe+ape+lpe+"]");function fpe(t){return cpe.test(t)}var ij=fpe;function dpe(t){return t.split("")}var hpe=dpe,oj="\\ud800-\\udfff",ppe="\\u0300-\\u036f",mpe="\\ufe20-\\ufe2f",gpe="\\u20d0-\\u20ff",vpe=ppe+mpe+gpe,ype="\\ufe0e\\ufe0f",wpe="["+oj+"]",TE="["+vpe+"]",IE="\\ud83c[\\udffb-\\udfff]",_pe="(?:"+TE+"|"+IE+")",sj="[^"+oj+"]",aj="(?:\\ud83c[\\udde6-\\uddff]){2}",lj="[\\ud800-\\udbff][\\udc00-\\udfff]",bpe="\\u200d",uj=_pe+"?",cj="["+ype+"]?",xpe="(?:"+bpe+"(?:"+[sj,aj,lj].join("|")+")"+cj+uj+")*",Spe=cj+uj+xpe,Epe="(?:"+[sj+TE+"?",TE,aj,lj,wpe].join("|")+")",Ape=RegExp(IE+"(?="+IE+")|"+Epe+Spe,"g");function Tpe(t){return t.match(Ape)||[]}var Ipe=Tpe,Ppe=hpe,Cpe=ij,Npe=Ipe;function kpe(t){return Cpe(t)?Npe(t):Ppe(t)}var Rpe=kpe,Ope=npe,Mpe=ij,Lpe=Rpe,Dpe=Q$;function Fpe(t){return function(e){e=Dpe(e);var n=Mpe(e)?Lpe(e):void 0,r=n?n[0]:e.charAt(0),i=n?Ope(n,1).join(""):e.slice(1);return r[t]()+i}}var Upe=Fpe,$pe=Upe,jpe=$pe("toUpperCase"),Bpe=jpe;const W_=Fn(Bpe);function Bn(t){return function(){return t}}const fj=Math.cos,O1=Math.sin,ua=Math.sqrt,M1=Math.PI,K_=2*M1,PE=Math.PI,CE=2*PE,zc=1e-6,Vpe=CE-zc;function dj(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function qpe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return dj;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class zpe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?dj:qpe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,u=i-n,c=s-e,f=a-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>zc)if(!(Math.abs(f*l-u*c)>zc)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let h=r-s,y=i-a,b=l*l+u*u,w=h*h+y*y,_=Math.sqrt(b),S=Math.sqrt(d),E=o*Math.tan((PE-Math.acos((b+d-w)/(2*_*S)))/2),k=E/S,R=E/_;Math.abs(k-1)>zc&&this._append`L${e+k*c},${n+k*f}`,this._append`A${o},${o},0,0,${+(f*h>c*y)},${this._x1=e+R*l},${this._y1=n+R*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,c=n+l,f=1^s,d=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>zc||Math.abs(this._y1-c)>zc)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%CE+CE),d>Vpe?this._append`A${r},${r},0,1,${f},${e-a},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:d>zc&&this._append`A${r},${r},0,${+(d>=PE)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function wI(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new zpe(e)}function _I(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function hj(t){this._context=t}hj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Y_(t){return new hj(t)}function pj(t){return t[0]}function mj(t){return t[1]}function gj(t,e){var n=Bn(!0),r=null,i=Y_,o=null,s=wI(a);t=typeof t=="function"?t:t===void 0?pj:Bn(t),e=typeof e=="function"?e:e===void 0?mj:Bn(e);function a(l){var u,c=(l=_I(l)).length,f,d=!1,h;for(r==null&&(o=i(h=s())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(f,u,l),+e(f,u,l));if(h)return o=null,h+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:Bn(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:Bn(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Bn(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function Ly(t,e,n){var r=null,i=Bn(!0),o=null,s=Y_,a=null,l=wI(u);t=typeof t=="function"?t:t===void 0?pj:Bn(+t),e=typeof e=="function"?e:Bn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?mj:Bn(+n);function u(f){var d,h,y,b=(f=_I(f)).length,w,_=!1,S,E=new Array(b),k=new Array(b);for(o==null&&(a=s(S=l())),d=0;d<=b;++d){if(!(d<b&&i(w=f[d],d,f))===_)if(_=!_)h=d,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),y=d-1;y>=h;--y)a.point(E[y],k[y]);a.lineEnd(),a.areaEnd()}_&&(E[d]=+t(w,d,f),k[d]=+e(w,d,f),a.point(r?+r(w,d,f):E[d],n?+n(w,d,f):k[d]))}if(S)return a=null,S+""||null}function c(){return gj().defined(i).curve(s).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Bn(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Bn(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Bn(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Bn(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Bn(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Bn(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Bn(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),u):s},u.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),u):o},u}class vj{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Hpe(t){return new vj(t,!0)}function Gpe(t){return new vj(t,!1)}const bI={draw(t,e){const n=ua(e/M1);t.moveTo(n,0),t.arc(0,0,n,0,K_)}},Wpe={draw(t,e){const n=ua(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},yj=ua(1/3),Kpe=yj*2,Ype={draw(t,e){const n=ua(e/Kpe),r=n*yj;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Jpe={draw(t,e){const n=ua(e),r=-n/2;t.rect(r,r,n,n)}},Xpe=.8908130915292852,wj=O1(M1/10)/O1(7*M1/10),Qpe=O1(K_/10)*wj,Zpe=-fj(K_/10)*wj,eme={draw(t,e){const n=ua(e*Xpe),r=Qpe*n,i=Zpe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=K_*o/5,a=fj(s),l=O1(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},Lb=ua(3),tme={draw(t,e){const n=-ua(e/(Lb*3));t.moveTo(0,n*2),t.lineTo(-Lb*n,-n),t.lineTo(Lb*n,-n),t.closePath()}},hs=-.5,ps=ua(3)/2,NE=1/ua(12),nme=(NE/2+1)*3,rme={draw(t,e){const n=ua(e/nme),r=n/2,i=n*NE,o=r,s=n*NE+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(hs*r-ps*i,ps*r+hs*i),t.lineTo(hs*o-ps*s,ps*o+hs*s),t.lineTo(hs*a-ps*l,ps*a+hs*l),t.lineTo(hs*r+ps*i,hs*i-ps*r),t.lineTo(hs*o+ps*s,hs*s-ps*o),t.lineTo(hs*a+ps*l,hs*l-ps*a),t.closePath()}};function ime(t,e){let n=null,r=wI(i);t=typeof t=="function"?t:Bn(t||bI),e=typeof e=="function"?e:Bn(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Bn(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Bn(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function L1(){}function D1(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function _j(t){this._context=t}_j.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:D1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:D1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ome(t){return new _j(t)}function bj(t){this._context=t}bj.prototype={areaStart:L1,areaEnd:L1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:D1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function sme(t){return new bj(t)}function xj(t){this._context=t}xj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:D1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ame(t){return new xj(t)}function Sj(t){this._context=t}Sj.prototype={areaStart:L1,areaEnd:L1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function lme(t){return new Sj(t)}function H4(t){return t<0?-1:1}function G4(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(H4(o)+H4(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function W4(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Db(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function F1(t){this._context=t}F1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Db(this,this._t0,W4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Db(this,W4(this,n=G4(this,t,e)),n);break;default:Db(this,this._t0,n=G4(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Ej(t){this._context=new Aj(t)}(Ej.prototype=Object.create(F1.prototype)).point=function(t,e){F1.prototype.point.call(this,e,t)};function Aj(t){this._context=t}Aj.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function ume(t){return new F1(t)}function cme(t){return new Ej(t)}function Tj(t){this._context=t}Tj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=K4(t),i=K4(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function K4(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function fme(t){return new Tj(t)}function J_(t,e){this._context=t,this._t=e}J_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function dme(t){return new J_(t,.5)}function hme(t){return new J_(t,0)}function pme(t){return new J_(t,1)}function Ph(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function kE(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function mme(t,e){return t[e]}function gme(t){const e=[];return e.key=t,e}function vme(){var t=Bn([]),e=kE,n=Ph,r=mme;function i(o){var s=Array.from(t.apply(this,arguments),gme),a,l=s.length,u=-1,c;for(const f of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(f,s[a].key,u,o)]).data=f;for(a=0,c=_I(e(s));a<l;++a)s[c[a]].index=a;return n(s,c),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Bn(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Bn(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?kE:typeof o=="function"?o:Bn(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Ph,i):n},i}function yme(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Ph(t,e)}}function wme(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}Ph(t,e)}}function _me(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,u=0;a<s;++a){for(var c=t[e[a]],f=c[r][1]||0,d=c[r-1][1]||0,h=(f-d)/2,y=0;y<a;++y){var b=t[e[y]],w=b[r][1]||0,_=b[r-1][1]||0;h+=w-_}l+=f,u+=h*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Ph(t,e)}}function xg(t){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xg(t)}var bme=["type","size","sizeType"];function RE(){return RE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RE.apply(this,arguments)}function Y4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y4(Object(n),!0).forEach(function(r){xme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xme(t,e,n){return e=Sme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sme(t){var e=Eme(t,"string");return xg(e)=="symbol"?e:e+""}function Eme(t,e){if(xg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ame(t,e){if(t==null)return{};var n=Tme(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Ij={symbolCircle:bI,symbolCross:Wpe,symbolDiamond:Ype,symbolSquare:Jpe,symbolStar:eme,symbolTriangle:tme,symbolWye:rme},Ime=Math.PI/180,Pme=function(e){var n="symbol".concat(W_(e));return Ij[n]||bI},Cme=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Ime;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Nme=function(e,n){Ij["symbol".concat(W_(e))]=n},xI=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=Ame(e,bme),u=J4(J4({},l),{},{type:r,size:o,sizeType:a}),c=function(){var w=Pme(r),_=ime().type(w).size(Cme(o,a,r));return _()},f=u.className,d=u.cx,h=u.cy,y=hn(u,!0);return d===+d&&h===+h&&o===+o?Se.createElement("path",RE({},y,{className:pn("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(h,")"),d:c()})):null};xI.registerSymbol=Nme;function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function OE(){return OE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OE.apply(this,arguments)}function X4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kme(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X4(Object(n),!0).forEach(function(r){Sg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ome(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Cj(r.key),r)}}function Mme(t,e,n){return e&&Ome(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lme(t,e,n){return e=U1(e),Dme(t,Pj()?Reflect.construct(e,n||[],U1(t).constructor):e.apply(t,n))}function Dme(t,e){if(e&&(Ch(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fme(t)}function Fme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pj=function(){return!!t})()}function U1(t){return U1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},U1(t)}function Ume(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ME(t,e)}function ME(t,e){return ME=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ME(t,e)}function Sg(t,e,n){return e=Cj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cj(t){var e=$me(t,"string");return Ch(e)=="symbol"?e:e+""}function $me(t,e){if(Ch(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ms=32,SI=function(t){function e(){return Rme(this,e),Lme(this,e,arguments)}return Ume(e,t),Mme(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=ms/2,s=ms/6,a=ms/3,l=r.inactive?i:r.color;if(r.type==="plainline")return Se.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:ms,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return Se.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(ms,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return Se.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ms/8,"h").concat(ms,"v").concat(ms*3/4,"h").concat(-ms,"z"),className:"recharts-legend-icon"});if(Se.isValidElement(r.legendIcon)){var u=kme({},r);return delete u.legendIcon,Se.cloneElement(r.legendIcon,u)}return Se.createElement(xI,{fill:l,cx:o,cy:o,size:ms,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:ms,height:ms},f={display:a==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(h,y){var b=h.formatter||l,w=pn(Sg(Sg({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",h.inactive));if(h.type==="none")return null;var _=Ht(h.value)?null:h.value;Dl(!Ht(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var S=h.inactive?u:h.color;return Se.createElement("li",OE({className:w,style:f,key:"legend-item-".concat(y)},R1(r.props,h,y)),Se.createElement(EE,{width:s,height:s,viewBox:c,style:d},r.renderIcon(h)),Se.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},b?b(_,h,y):_))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return Se.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(fe.PureComponent);Sg(SI,"displayName","Legend");Sg(SI,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var jme=O_;function Bme(){this.__data__=new jme,this.size=0}var Vme=Bme;function qme(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var zme=qme;function Hme(t){return this.__data__.get(t)}var Gme=Hme;function Wme(t){return this.__data__.has(t)}var Kme=Wme,Yme=O_,Jme=cI,Xme=fI,Qme=200;function Zme(t,e){var n=this.__data__;if(n instanceof Yme){var r=n.__data__;if(!Jme||r.length<Qme-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Xme(r)}return n.set(t,e),this.size=n.size,this}var ege=Zme,tge=O_,nge=Vme,rge=zme,ige=Gme,oge=Kme,sge=ege;function fp(t){var e=this.__data__=new tge(t);this.size=e.size}fp.prototype.clear=nge;fp.prototype.delete=rge;fp.prototype.get=ige;fp.prototype.has=oge;fp.prototype.set=sge;var Nj=fp,age="__lodash_hash_undefined__";function lge(t){return this.__data__.set(t,age),this}var uge=lge;function cge(t){return this.__data__.has(t)}var fge=cge,dge=fI,hge=uge,pge=fge;function $1(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new dge;++e<n;)this.add(t[e])}$1.prototype.add=$1.prototype.push=hge;$1.prototype.has=pge;var kj=$1;function mge(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Rj=mge;function gge(t,e){return t.has(e)}var Oj=gge,vge=kj,yge=Rj,wge=Oj,_ge=1,bge=2;function xge(t,e,n,r,i,o){var s=n&_ge,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,d=!0,h=n&bge?new vge:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var y=t[f],b=e[f];if(r)var w=s?r(b,y,f,e,t,o):r(y,b,f,t,e,o);if(w!==void 0){if(w)continue;d=!1;break}if(h){if(!yge(e,function(_,S){if(!wge(h,S)&&(y===_||i(y,_,n,r,o)))return h.push(S)})){d=!1;break}}else if(!(y===b||i(y,b,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var Mj=xge,Sge=Qa,Ege=Sge.Uint8Array,Age=Ege;function Tge(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Ige=Tge;function Pge(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var EI=Pge,Q4=Iv,Z4=Age,Cge=uI,Nge=Mj,kge=Ige,Rge=EI,Oge=1,Mge=2,Lge="[object Boolean]",Dge="[object Date]",Fge="[object Error]",Uge="[object Map]",$ge="[object Number]",jge="[object RegExp]",Bge="[object Set]",Vge="[object String]",qge="[object Symbol]",zge="[object ArrayBuffer]",Hge="[object DataView]",e3=Q4?Q4.prototype:void 0,Fb=e3?e3.valueOf:void 0;function Gge(t,e,n,r,i,o,s){switch(n){case Hge:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case zge:return!(t.byteLength!=e.byteLength||!o(new Z4(t),new Z4(e)));case Lge:case Dge:case $ge:return Cge(+t,+e);case Fge:return t.name==e.name&&t.message==e.message;case jge:case Vge:return t==e+"";case Uge:var a=kge;case Bge:var l=r&Oge;if(a||(a=Rge),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=Mge,s.set(t,e);var c=Nge(a(t),a(e),r,i,o,s);return s.delete(t),c;case qge:if(Fb)return Fb.call(t)==Fb.call(e)}return!1}var Wge=Gge;function Kge(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var Lj=Kge,Yge=Lj,Jge=Ao;function Xge(t,e,n){var r=e(t);return Jge(t)?r:Yge(r,n(t))}var Qge=Xge;function Zge(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var eve=Zge;function tve(){return[]}var nve=tve,rve=eve,ive=nve,ove=Object.prototype,sve=ove.propertyIsEnumerable,t3=Object.getOwnPropertySymbols,ave=t3?function(t){return t==null?[]:(t=Object(t),rve(t3(t),function(e){return sve.call(t,e)}))}:ive,lve=ave;function uve(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var cve=uve,fve=tu,dve=nu,hve="[object Arguments]";function pve(t){return dve(t)&&fve(t)==hve}var mve=pve,n3=mve,gve=nu,Dj=Object.prototype,vve=Dj.hasOwnProperty,yve=Dj.propertyIsEnumerable,wve=n3(function(){return arguments}())?n3:function(t){return gve(t)&&vve.call(t,"callee")&&!yve.call(t,"callee")},AI=wve,j1={exports:{}};function _ve(){return!1}var bve=_ve;j1.exports;(function(t,e){var n=Qa,r=bve,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(j1,j1.exports);var Fj=j1.exports,xve=9007199254740991,Sve=/^(?:0|[1-9]\d*)$/;function Eve(t,e){var n=typeof t;return e=e??xve,!!e&&(n=="number"||n!="symbol"&&Sve.test(t))&&t>-1&&t%1==0&&t<e}var TI=Eve,Ave=9007199254740991;function Tve(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Ave}var II=Tve,Ive=tu,Pve=II,Cve=nu,Nve="[object Arguments]",kve="[object Array]",Rve="[object Boolean]",Ove="[object Date]",Mve="[object Error]",Lve="[object Function]",Dve="[object Map]",Fve="[object Number]",Uve="[object Object]",$ve="[object RegExp]",jve="[object Set]",Bve="[object String]",Vve="[object WeakMap]",qve="[object ArrayBuffer]",zve="[object DataView]",Hve="[object Float32Array]",Gve="[object Float64Array]",Wve="[object Int8Array]",Kve="[object Int16Array]",Yve="[object Int32Array]",Jve="[object Uint8Array]",Xve="[object Uint8ClampedArray]",Qve="[object Uint16Array]",Zve="[object Uint32Array]",Wn={};Wn[Hve]=Wn[Gve]=Wn[Wve]=Wn[Kve]=Wn[Yve]=Wn[Jve]=Wn[Xve]=Wn[Qve]=Wn[Zve]=!0;Wn[Nve]=Wn[kve]=Wn[qve]=Wn[Rve]=Wn[zve]=Wn[Ove]=Wn[Mve]=Wn[Lve]=Wn[Dve]=Wn[Fve]=Wn[Uve]=Wn[$ve]=Wn[jve]=Wn[Bve]=Wn[Vve]=!1;function eye(t){return Cve(t)&&Pve(t.length)&&!!Wn[Ive(t)]}var tye=eye;function nye(t){return function(e){return t(e)}}var Uj=nye,B1={exports:{}};B1.exports;(function(t,e){var n=G$,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(B1,B1.exports);var rye=B1.exports,iye=tye,oye=Uj,r3=rye,i3=r3&&r3.isTypedArray,sye=i3?oye(i3):iye,$j=sye,aye=cve,lye=AI,uye=Ao,cye=Fj,fye=TI,dye=$j,hye=Object.prototype,pye=hye.hasOwnProperty;function mye(t,e){var n=uye(t),r=!n&&lye(t),i=!n&&!r&&cye(t),o=!n&&!r&&!i&&dye(t),s=n||r||i||o,a=s?aye(t.length,String):[],l=a.length;for(var u in t)(e||pye.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||fye(u,l)))&&a.push(u);return a}var gye=mye,vye=Object.prototype;function yye(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||vye;return t===n}var wye=yye;function _ye(t,e){return function(n){return t(e(n))}}var jj=_ye,bye=jj,xye=bye(Object.keys,Object),Sye=xye,Eye=wye,Aye=Sye,Tye=Object.prototype,Iye=Tye.hasOwnProperty;function Pye(t){if(!Eye(t))return Aye(t);var e=[];for(var n in Object(t))Iye.call(t,n)&&n!="constructor"&&e.push(n);return e}var Cye=Pye,Nye=lI,kye=II;function Rye(t){return t!=null&&kye(t.length)&&!Nye(t)}var Cv=Rye,Oye=gye,Mye=Cye,Lye=Cv;function Dye(t){return Lye(t)?Oye(t):Mye(t)}var X_=Dye,Fye=Qge,Uye=lve,$ye=X_;function jye(t){return Fye(t,$ye,Uye)}var Bye=jye,o3=Bye,Vye=1,qye=Object.prototype,zye=qye.hasOwnProperty;function Hye(t,e,n,r,i,o){var s=n&Vye,a=o3(t),l=a.length,u=o3(e),c=u.length;if(l!=c&&!s)return!1;for(var f=l;f--;){var d=a[f];if(!(s?d in e:zye.call(e,d)))return!1}var h=o.get(t),y=o.get(e);if(h&&y)return h==e&&y==t;var b=!0;o.set(t,e),o.set(e,t);for(var w=s;++f<l;){d=a[f];var _=t[d],S=e[d];if(r)var E=s?r(S,_,d,e,t,o):r(_,S,d,t,e,o);if(!(E===void 0?_===S||i(_,S,n,r,o):E)){b=!1;break}w||(w=d=="constructor")}if(b&&!w){var k=t.constructor,R=e.constructor;k!=R&&"constructor"in t&&"constructor"in e&&!(typeof k=="function"&&k instanceof k&&typeof R=="function"&&R instanceof R)&&(b=!1)}return o.delete(t),o.delete(e),b}var Gye=Hye,Wye=zf,Kye=Qa,Yye=Wye(Kye,"DataView"),Jye=Yye,Xye=zf,Qye=Qa,Zye=Xye(Qye,"Promise"),e0e=Zye,t0e=zf,n0e=Qa,r0e=t0e(n0e,"Set"),Bj=r0e,i0e=zf,o0e=Qa,s0e=i0e(o0e,"WeakMap"),a0e=s0e,LE=Jye,DE=cI,FE=e0e,UE=Bj,$E=a0e,Vj=tu,dp=K$,s3="[object Map]",l0e="[object Object]",a3="[object Promise]",l3="[object Set]",u3="[object WeakMap]",c3="[object DataView]",u0e=dp(LE),c0e=dp(DE),f0e=dp(FE),d0e=dp(UE),h0e=dp($E),Hc=Vj;(LE&&Hc(new LE(new ArrayBuffer(1)))!=c3||DE&&Hc(new DE)!=s3||FE&&Hc(FE.resolve())!=a3||UE&&Hc(new UE)!=l3||$E&&Hc(new $E)!=u3)&&(Hc=function(t){var e=Vj(t),n=e==l0e?t.constructor:void 0,r=n?dp(n):"";if(r)switch(r){case u0e:return c3;case c0e:return s3;case f0e:return a3;case d0e:return l3;case h0e:return u3}return e});var p0e=Hc,Ub=Nj,m0e=Mj,g0e=Wge,v0e=Gye,f3=p0e,d3=Ao,h3=Fj,y0e=$j,w0e=1,p3="[object Arguments]",m3="[object Array]",Dy="[object Object]",_0e=Object.prototype,g3=_0e.hasOwnProperty;function b0e(t,e,n,r,i,o){var s=d3(t),a=d3(e),l=s?m3:f3(t),u=a?m3:f3(e);l=l==p3?Dy:l,u=u==p3?Dy:u;var c=l==Dy,f=u==Dy,d=l==u;if(d&&h3(t)){if(!h3(e))return!1;s=!0,c=!1}if(d&&!c)return o||(o=new Ub),s||y0e(t)?m0e(t,e,n,r,i,o):g0e(t,e,l,n,r,i,o);if(!(n&w0e)){var h=c&&g3.call(t,"__wrapped__"),y=f&&g3.call(e,"__wrapped__");if(h||y){var b=h?t.value():t,w=y?e.value():e;return o||(o=new Ub),i(b,w,n,r,o)}}return d?(o||(o=new Ub),v0e(t,e,n,r,i,o)):!1}var x0e=b0e,S0e=x0e,v3=nu;function qj(t,e,n,r,i){return t===e?!0:t==null||e==null||!v3(t)&&!v3(e)?t!==t&&e!==e:S0e(t,e,n,r,qj,i)}var PI=qj,E0e=Nj,A0e=PI,T0e=1,I0e=2;function P0e(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],u=t[l],c=a[1];if(s&&a[2]){if(u===void 0&&!(l in t))return!1}else{var f=new E0e;if(r)var d=r(u,c,l,t,e,f);if(!(d===void 0?A0e(c,u,T0e|I0e,r,f):d))return!1}}return!0}var C0e=P0e,N0e=wc;function k0e(t){return t===t&&!N0e(t)}var zj=k0e,R0e=zj,O0e=X_;function M0e(t){for(var e=O0e(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,R0e(i)]}return e}var L0e=M0e;function D0e(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var Hj=D0e,F0e=C0e,U0e=L0e,$0e=Hj;function j0e(t){var e=U0e(t);return e.length==1&&e[0][2]?$0e(e[0][0],e[0][1]):function(n){return n===t||F0e(n,t,e)}}var B0e=j0e;function V0e(t,e){return t!=null&&e in Object(t)}var q0e=V0e,z0e=Z$,H0e=AI,G0e=Ao,W0e=TI,K0e=II,Y0e=L_;function J0e(t,e,n){e=z0e(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=Y0e(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&K0e(i)&&W0e(s,i)&&(G0e(t)||H0e(t)))}var X0e=J0e,Q0e=q0e,Z0e=X0e;function e1e(t,e){return t!=null&&Z0e(t,e,Q0e)}var t1e=e1e,n1e=PI,r1e=ej,i1e=t1e,o1e=aI,s1e=zj,a1e=Hj,l1e=L_,u1e=1,c1e=2;function f1e(t,e){return o1e(t)&&s1e(e)?a1e(l1e(t),e):function(n){var r=r1e(n,t);return r===void 0&&r===e?i1e(n,t):n1e(e,r,u1e|c1e)}}var d1e=f1e;function h1e(t){return t}var hp=h1e;function p1e(t){return function(e){return e==null?void 0:e[t]}}var m1e=p1e,g1e=pI;function v1e(t){return function(e){return g1e(e,t)}}var y1e=v1e,w1e=m1e,_1e=y1e,b1e=aI,x1e=L_;function S1e(t){return b1e(t)?w1e(x1e(t)):_1e(t)}var E1e=S1e,A1e=B0e,T1e=d1e,I1e=hp,P1e=Ao,C1e=E1e;function N1e(t){return typeof t=="function"?t:t==null?I1e:typeof t=="object"?P1e(t)?T1e(t[0],t[1]):A1e(t):C1e(t)}var _c=N1e;function k1e(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var Gj=k1e;function R1e(t){return t!==t}var O1e=R1e;function M1e(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var L1e=M1e,D1e=Gj,F1e=O1e,U1e=L1e;function $1e(t,e,n){return e===e?U1e(t,e,n):D1e(t,F1e,n)}var j1e=$1e,B1e=j1e;function V1e(t,e){var n=t==null?0:t.length;return!!n&&B1e(t,e,0)>-1}var q1e=V1e;function z1e(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var H1e=z1e;function G1e(){}var W1e=G1e,$b=Bj,K1e=W1e,Y1e=EI,J1e=1/0,X1e=$b&&1/Y1e(new $b([,-0]))[1]==J1e?function(t){return new $b(t)}:K1e,Q1e=X1e,Z1e=kj,ewe=q1e,twe=H1e,nwe=Oj,rwe=Q1e,iwe=EI,owe=200;function swe(t,e,n){var r=-1,i=ewe,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=twe;else if(o>=owe){var u=e?null:rwe(t);if(u)return iwe(u);s=!1,i=nwe,l=new Z1e}else l=e?[]:a;e:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,s&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;e&&l.push(f),a.push(c)}else i(l,f,n)||(l!==a&&l.push(f),a.push(c))}return a}var awe=swe,lwe=_c,uwe=awe;function cwe(t,e){return t&&t.length?uwe(t,lwe(e)):[]}var fwe=cwe;const y3=Fn(fwe);function Wj(t,e,n){return e===!0?y3(t,n):Ht(e)?y3(t,e):t}function Nh(t){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}var dwe=["ref"];function w3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ml(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w3(Object(n),!0).forEach(function(r){Q_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yj(r.key),r)}}function pwe(t,e,n){return e&&_3(t.prototype,e),n&&_3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mwe(t,e,n){return e=V1(e),gwe(t,Kj()?Reflect.construct(e,n||[],V1(t).constructor):e.apply(t,n))}function gwe(t,e){if(e&&(Nh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vwe(t)}function vwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kj=function(){return!!t})()}function V1(t){return V1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},V1(t)}function ywe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jE(t,e)}function jE(t,e){return jE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jE(t,e)}function Q_(t,e,n){return e=Yj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yj(t){var e=wwe(t,"string");return Nh(e)=="symbol"?e:e+""}function wwe(t,e){if(Nh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _we(t,e){if(t==null)return{};var n=bwe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xwe(t){return t.value}function Swe(t,e){if(Se.isValidElement(t))return Se.cloneElement(t,e);if(typeof t=="function")return Se.createElement(t,e);e.ref;var n=_we(e,dwe);return Se.createElement(SI,n)}var b3=1,oh=function(t){function e(){var n;hwe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=mwe(this,e,[].concat(i)),Q_(n,"lastBoundingBox",{width:-1,height:-1}),n}return ywe(e,t),pwe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>b3||Math.abs(i.height-this.lastBoundingBox.height)>b3)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ml({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var h=this.getBBoxSnapshot();f={left:((u||0)-h.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var y=this.getBBoxSnapshot();d={top:((c||0)-y.height)/2}}else d=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ml(ml({},f),d)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=ml(ml({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return Se.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){r.wrapperNode=h}},Swe(o,ml(ml({},this.props),{},{payload:Wj(c,u,xwe)})))}}],[{key:"getWithHeight",value:function(r,i){var o=ml(ml({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&He(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(fe.PureComponent);Q_(oh,"displayName","Legend");Q_(oh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var x3=Iv,Ewe=AI,Awe=Ao,S3=x3?x3.isConcatSpreadable:void 0;function Twe(t){return Awe(t)||Ewe(t)||!!(S3&&t&&t[S3])}var Iwe=Twe,Pwe=Lj,Cwe=Iwe;function Jj(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=Cwe),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?Jj(a,e-1,n,r,i):Pwe(i,a):r||(i[i.length]=a)}return i}var Xj=Jj;function Nwe(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var kwe=Nwe,Rwe=kwe,Owe=Rwe(),Mwe=Owe,Lwe=Mwe,Dwe=X_;function Fwe(t,e){return t&&Lwe(t,e,Dwe)}var Qj=Fwe,Uwe=Cv;function $we(t,e){return function(n,r){if(n==null)return n;if(!Uwe(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var jwe=$we,Bwe=Qj,Vwe=jwe,qwe=Vwe(Bwe),CI=qwe,zwe=CI,Hwe=Cv;function Gwe(t,e){var n=-1,r=Hwe(t)?Array(t.length):[];return zwe(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var Zj=Gwe;function Wwe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Kwe=Wwe,E3=sp;function Ywe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=E3(t),s=e!==void 0,a=e===null,l=e===e,u=E3(e);if(!a&&!u&&!o&&t>e||o&&s&&l&&!a&&!u||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}var Jwe=Ywe,Xwe=Jwe;function Qwe(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=Xwe(i[r],o[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var Zwe=Qwe,jb=hI,e_e=pI,t_e=_c,n_e=Zj,r_e=Kwe,i_e=Uj,o_e=Zwe,s_e=hp,a_e=Ao;function l_e(t,e,n){e.length?e=jb(e,function(o){return a_e(o)?function(s){return e_e(s,o.length===1?o[0]:o)}:o}):e=[s_e];var r=-1;e=jb(e,i_e(t_e));var i=n_e(t,function(o,s,a){var l=jb(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return r_e(i,function(o,s){return o_e(o,s,n)})}var u_e=l_e;function c_e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var f_e=c_e,d_e=f_e,A3=Math.max;function h_e(t,e,n){return e=A3(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=A3(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),d_e(t,this,a)}}var p_e=h_e;function m_e(t){return function(){return t}}var g_e=m_e,v_e=zf,y_e=function(){try{var t=v_e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),eB=y_e,w_e=g_e,T3=eB,__e=hp,b_e=T3?function(t,e){return T3(t,"toString",{configurable:!0,enumerable:!1,value:w_e(e),writable:!0})}:__e,x_e=b_e,S_e=800,E_e=16,A_e=Date.now;function T_e(t){var e=0,n=0;return function(){var r=A_e(),i=E_e-(r-n);if(n=r,i>0){if(++e>=S_e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var I_e=T_e,P_e=x_e,C_e=I_e,N_e=C_e(P_e),k_e=N_e,R_e=hp,O_e=p_e,M_e=k_e;function L_e(t,e){return M_e(O_e(t,e,R_e),t+"")}var D_e=L_e,F_e=uI,U_e=Cv,$_e=TI,j_e=wc;function B_e(t,e,n){if(!j_e(n))return!1;var r=typeof e;return(r=="number"?U_e(n)&&$_e(e,n.length):r=="string"&&e in n)?F_e(n[e],t):!1}var Z_=B_e,V_e=Xj,q_e=u_e,z_e=D_e,I3=Z_,H_e=z_e(function(t,e){if(t==null)return[];var n=e.length;return n>1&&I3(t,e[0],e[1])?e=[]:n>2&&I3(e[0],e[1],e[2])&&(e=[e[0]]),q_e(t,V_e(e,1),[])}),G_e=H_e;const NI=Fn(G_e);function Eg(t){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eg(t)}function BE(){return BE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BE.apply(this,arguments)}function W_e(t,e){return X_e(t)||J_e(t,e)||Y_e(t,e)||K_e()}function K_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y_e(t,e){if(t){if(typeof t=="string")return P3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P3(t,e)}}function P3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function J_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function X_e(t){if(Array.isArray(t))return t}function C3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C3(Object(n),!0).forEach(function(r){Q_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q_e(t,e,n){return e=Z_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z_e(t){var e=e2e(t,"string");return Eg(e)=="symbol"?e:e+""}function e2e(t,e){if(Eg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Eg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function t2e(t){return Array.isArray(t)&&Zr(t[0])&&Zr(t[1])?t.join(" ~ "):t}var n2e=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,d=e.itemSorter,h=e.wrapperClassName,y=e.labelClassName,b=e.label,w=e.labelFormatter,_=e.accessibilityLayer,S=_===void 0?!1:_,E=function(){if(c&&c.length){var D={padding:0,margin:0},U=(d?NI(c,d):c).map(function(W,re){if(W.type==="none")return null;var le=Bb({display:"block",paddingTop:4,paddingBottom:4,color:W.color||"#000"},a),ue=W.formatter||f||t2e,Q=W.value,ae=W.name,ye=Q,ge=ae;if(ue&&ye!=null&&ge!=null){var B=ue(Q,ae,W,re,c);if(Array.isArray(B)){var G=W_e(B,2);ye=G[0],ge=G[1]}else ye=B}return Se.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(re),style:le},Zr(ge)?Se.createElement("span",{className:"recharts-tooltip-item-name"},ge):null,Zr(ge)?Se.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,Se.createElement("span",{className:"recharts-tooltip-item-value"},ye),Se.createElement("span",{className:"recharts-tooltip-item-unit"},W.unit||""))});return Se.createElement("ul",{className:"recharts-tooltip-item-list",style:D},U)}return null},k=Bb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),R=Bb({margin:0},u),F=!mn(b),N=F?b:"",C=pn("recharts-default-tooltip",h),T=pn("recharts-tooltip-label",y);F&&w&&c!==void 0&&c!==null&&(N=w(b,c));var $=S?{role:"status","aria-live":"assertive"}:{};return Se.createElement("div",BE({className:C,style:k},$),Se.createElement("p",{className:T,style:R},Se.isValidElement(N)?N:"".concat(N)),E())};function Ag(t){"@babel/helpers - typeof";return Ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ag(t)}function Fy(t,e,n){return e=r2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r2e(t){var e=i2e(t,"string");return Ag(e)=="symbol"?e:e+""}function i2e(t,e){if(Ag(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ag(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tm="recharts-tooltip-wrapper",o2e={visibility:"hidden"};function s2e(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return pn(tm,Fy(Fy(Fy(Fy({},"".concat(tm,"-right"),He(n)&&e&&He(e.x)&&n>=e.x),"".concat(tm,"-left"),He(n)&&e&&He(e.x)&&n<e.x),"".concat(tm,"-bottom"),He(r)&&e&&He(e.y)&&r>=e.y),"".concat(tm,"-top"),He(r)&&e&&He(e.y)&&r<e.y))}function N3(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&He(o[r]))return o[r];var c=n[r]-a-i,f=n[r]+i;if(e[r])return s[r]?c:f;if(s[r]){var d=c,h=l[r];return d<h?Math.max(f,l[r]):Math.max(c,l[r])}var y=f+a,b=l[r]+u;return y>b?Math.max(c,l[r]):Math.max(f,l[r])}function a2e(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function l2e(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,u,c,f;return s.height>0&&s.width>0&&n?(c=N3({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=N3({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=a2e({translateX:c,translateY:f,useTranslate3d:a})):u=o2e,{cssProperties:u,cssClasses:s2e({translateX:c,translateY:f,coordinate:n})}}function kh(t){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}function k3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function R3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k3(Object(n),!0).forEach(function(r){qE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c2e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nB(r.key),r)}}function f2e(t,e,n){return e&&c2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function d2e(t,e,n){return e=q1(e),h2e(t,tB()?Reflect.construct(e,n||[],q1(t).constructor):e.apply(t,n))}function h2e(t,e){if(e&&(kh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p2e(t)}function p2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tB=function(){return!!t})()}function q1(t){return q1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},q1(t)}function m2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VE(t,e)}function VE(t,e){return VE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VE(t,e)}function qE(t,e,n){return e=nB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nB(t){var e=g2e(t,"string");return kh(e)=="symbol"?e:e+""}function g2e(t,e){if(kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var O3=1,v2e=function(t){function e(){var n;u2e(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=d2e(this,e,[].concat(i)),qE(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),qE(n,"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return m2e(e,t),f2e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>O3||Math.abs(r.height-this.state.lastBoundingBox.height)>O3)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,d=i.isAnimationActive,h=i.offset,y=i.position,b=i.reverseDirection,w=i.useTranslate3d,_=i.viewBox,S=i.wrapperStyle,E=l2e({allowEscapeViewBox:s,coordinate:c,offsetTopLeft:h,position:y,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:_}),k=E.cssClasses,R=E.cssProperties,F=R3(R3({transition:d&&o?"transform ".concat(a,"ms ").concat(l):void 0},R),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},S);return Se.createElement("div",{tabIndex:-1,className:k,style:F,ref:function(C){r.wrapperNode=C}},u)}}])}(fe.PureComponent),y2e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Nv={isSsr:y2e()};function Rh(t){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(t)}function M3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M3(Object(n),!0).forEach(function(r){kI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _2e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iB(r.key),r)}}function b2e(t,e,n){return e&&_2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function x2e(t,e,n){return e=z1(e),S2e(t,rB()?Reflect.construct(e,n||[],z1(t).constructor):e.apply(t,n))}function S2e(t,e){if(e&&(Rh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E2e(t)}function E2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rB=function(){return!!t})()}function z1(t){return z1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},z1(t)}function A2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zE(t,e)}function zE(t,e){return zE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zE(t,e)}function kI(t,e,n){return e=iB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iB(t){var e=T2e(t,"string");return Rh(e)=="symbol"?e:e+""}function T2e(t,e){if(Rh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function I2e(t){return t.dataKey}function P2e(t,e){return Se.isValidElement(t)?Se.cloneElement(t,e):typeof t=="function"?Se.createElement(t,e):Se.createElement(n2e,e)}var Na=function(t){function e(){return w2e(this,e),x2e(this,e,arguments)}return A2e(e,t),b2e(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,d=i.isAnimationActive,h=i.offset,y=i.payload,b=i.payloadUniqBy,w=i.position,_=i.reverseDirection,S=i.useTranslate3d,E=i.viewBox,k=i.wrapperStyle,R=y??[];f&&R.length&&(R=Wj(y.filter(function(N){return N.value!=null&&(N.hide!==!0||r.props.includeHidden)}),b,I2e));var F=R.length>0;return Se.createElement(v2e,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:d,active:o,coordinate:c,hasPayload:F,offset:h,position:w,reverseDirection:_,useTranslate3d:S,viewBox:E,wrapperStyle:k},P2e(u,L3(L3({},this.props),{},{payload:R})))}}])}(fe.PureComponent);kI(Na,"displayName","Tooltip");kI(Na,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Nv.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var C2e=Qa,N2e=function(){return C2e.Date.now()},k2e=N2e,R2e=/\s/;function O2e(t){for(var e=t.length;e--&&R2e.test(t.charAt(e)););return e}var M2e=O2e,L2e=M2e,D2e=/^\s+/;function F2e(t){return t&&t.slice(0,L2e(t)+1).replace(D2e,"")}var U2e=F2e,$2e=U2e,D3=wc,j2e=sp,F3=NaN,B2e=/^[-+]0x[0-9a-f]+$/i,V2e=/^0b[01]+$/i,q2e=/^0o[0-7]+$/i,z2e=parseInt;function H2e(t){if(typeof t=="number")return t;if(j2e(t))return F3;if(D3(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=D3(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=$2e(t);var n=V2e.test(t);return n||q2e.test(t)?z2e(t.slice(2),n?2:8):B2e.test(t)?F3:+t}var oB=H2e,G2e=wc,Vb=k2e,U3=oB,W2e="Expected a function",K2e=Math.max,Y2e=Math.min;function J2e(t,e,n){var r,i,o,s,a,l,u=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(W2e);e=U3(e)||0,G2e(n)&&(c=!!n.leading,f="maxWait"in n,o=f?K2e(U3(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function h(F){var N=r,C=i;return r=i=void 0,u=F,s=t.apply(C,N),s}function y(F){return u=F,a=setTimeout(_,e),c?h(F):s}function b(F){var N=F-l,C=F-u,T=e-N;return f?Y2e(T,o-C):T}function w(F){var N=F-l,C=F-u;return l===void 0||N>=e||N<0||f&&C>=o}function _(){var F=Vb();if(w(F))return S(F);a=setTimeout(_,b(F))}function S(F){return a=void 0,d&&r?h(F):(r=i=void 0,s)}function E(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function k(){return a===void 0?s:S(Vb())}function R(){var F=Vb(),N=w(F);if(r=arguments,i=this,l=F,N){if(a===void 0)return y(l);if(f)return clearTimeout(a),a=setTimeout(_,e),h(l)}return a===void 0&&(a=setTimeout(_,e)),s}return R.cancel=E,R.flush=k,R}var X2e=J2e,Q2e=X2e,Z2e=wc,ebe="Expected a function";function tbe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(ebe);return Z2e(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Q2e(t,e,{leading:r,maxWait:e,trailing:i})}var nbe=tbe;const sB=Fn(nbe);function Tg(t){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tg(t)}function $3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$3(Object(n),!0).forEach(function(r){rbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rbe(t,e,n){return e=ibe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ibe(t){var e=obe(t,"string");return Tg(e)=="symbol"?e:e+""}function obe(t,e){if(Tg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sbe(t,e){return cbe(t)||ube(t,e)||lbe(t,e)||abe()}function abe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lbe(t,e){if(t){if(typeof t=="string")return j3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j3(t,e)}}function j3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ube(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function cbe(t){if(Array.isArray(t))return t}var fbe=fe.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,a=t.height,l=a===void 0?"100%":a,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,d=t.maxHeight,h=t.children,y=t.debounce,b=y===void 0?0:y,w=t.id,_=t.className,S=t.onResize,E=t.style,k=E===void 0?{}:E,R=fe.useRef(null),F=fe.useRef();F.current=S,fe.useImperativeHandle(e,function(){return Object.defineProperty(R.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),R.current},configurable:!0})});var N=fe.useState({containerWidth:i.width,containerHeight:i.height}),C=sbe(N,2),T=C[0],$=C[1],P=fe.useCallback(function(U,W){$(function(re){var le=Math.round(U),ue=Math.round(W);return re.containerWidth===le&&re.containerHeight===ue?re:{containerWidth:le,containerHeight:ue}})},[]);fe.useEffect(function(){var U=function(ae){var ye,ge=ae[0].contentRect,B=ge.width,G=ge.height;P(B,G),(ye=F.current)===null||ye===void 0||ye.call(F,B,G)};b>0&&(U=sB(U,b,{trailing:!0,leading:!1}));var W=new ResizeObserver(U),re=R.current.getBoundingClientRect(),le=re.width,ue=re.height;return P(le,ue),W.observe(R.current),function(){W.disconnect()}},[P,b]);var D=fe.useMemo(function(){var U=T.containerWidth,W=T.containerHeight;if(U<0||W<0)return null;Dl(tf(s)||tf(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Dl(!n||n>0,"The aspect(%s) must be greater than zero.",n);var re=tf(s)?U:s,le=tf(l)?W:l;n&&n>0&&(re?le=re/n:le&&(re=le*n),d&&le>d&&(le=d)),Dl(re>0||le>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,re,le,s,l,c,f,n);var ue=!Array.isArray(h)&&Ll(h.type).endsWith("Chart");return Se.Children.map(h,function(Q){return Se.isValidElement(Q)?fe.cloneElement(Q,Uy({width:re,height:le},ue?{style:Uy({height:"100%",width:"100%",maxHeight:le,maxWidth:re},Q.props.style)}:{})):Q})},[n,h,l,d,f,c,T,s]);return Se.createElement("div",{id:w?"".concat(w):void 0,className:pn("recharts-responsive-container",_),style:Uy(Uy({},k),{},{width:s,height:l,minWidth:c,minHeight:f,maxHeight:d}),ref:R},D)}),aB=function(e){return null};aB.displayName="Cell";function Ig(t){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ig(t)}function B3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B3(Object(n),!0).forEach(function(r){dbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dbe(t,e,n){return e=hbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hbe(t){var e=pbe(t,"string");return Ig(e)=="symbol"?e:e+""}function pbe(t,e){if(Ig(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ig(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dd={widthCache:{},cacheCount:0},mbe=2e3,gbe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},V3="recharts_measurement_span";function vbe(t){var e=HE({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Vm=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Nv.isSsr)return{width:0,height:0};var r=vbe(n),i=JSON.stringify({text:e,copyStyle:r});if(dd.widthCache[i])return dd.widthCache[i];try{var o=document.getElementById(V3);o||(o=document.createElement("span"),o.setAttribute("id",V3),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=HE(HE({},gbe),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return dd.widthCache[i]=l,++dd.cacheCount>mbe&&(dd.cacheCount=0,dd.widthCache={}),l}catch{return{width:0,height:0}}},ybe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Pg(t){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pg(t)}function H1(t,e){return xbe(t)||bbe(t,e)||_be(t,e)||wbe()}function wbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _be(t,e){if(t){if(typeof t=="string")return q3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q3(t,e)}}function q3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function xbe(t){if(Array.isArray(t))return t}function Sbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Abe(r.key),r)}}function Ebe(t,e,n){return e&&z3(t.prototype,e),n&&z3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Abe(t){var e=Tbe(t,"string");return Pg(e)=="symbol"?e:e+""}function Tbe(t,e){if(Pg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var H3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,G3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ibe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Pbe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,lB={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Cbe=Object.keys(lB),Bd="NaN";function Nbe(t,e){return t*lB[e]}var $y=function(){function t(e,n){Sbe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Ibe.test(n)&&(this.num=NaN,this.unit=""),Cbe.includes(n)&&(this.num=Nbe(e,n),this.unit="px")}return Ebe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Pbe.exec(n))!==null&&r!==void 0?r:[],o=H1(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}])}();function uB(t){if(t.includes(Bd))return Bd;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=H3.exec(e))!==null&&n!==void 0?n:[],i=H1(r,4),o=i[1],s=i[2],a=i[3],l=$y.parse(o??""),u=$y.parse(a??""),c=s==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Bd;e=e.replace(H3,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,d=(f=G3.exec(e))!==null&&f!==void 0?f:[],h=H1(d,4),y=h[1],b=h[2],w=h[3],_=$y.parse(y??""),S=$y.parse(w??""),E=b==="+"?_.add(S):_.subtract(S);if(E.isNaN())return Bd;e=e.replace(G3,E.toString())}return e}var W3=/\(([^()]*)\)/;function kbe(t){for(var e=t;e.includes("(");){var n=W3.exec(e),r=H1(n,2),i=r[1];e=e.replace(W3,uB(i))}return e}function Rbe(t){var e=t.replace(/\s+/g,"");return e=kbe(e),e=uB(e),e}function Obe(t){try{return Rbe(t)}catch{return Bd}}function qb(t){var e=Obe(t.slice(5,-1));return e===Bd?"":e}var Mbe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Lbe=["dx","dy","angle","className","breakAll"];function GE(){return GE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GE.apply(this,arguments)}function K3(t,e){if(t==null)return{};var n=Dbe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Y3(t,e){return jbe(t)||$be(t,e)||Ube(t,e)||Fbe()}function Fbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ube(t,e){if(t){if(typeof t=="string")return J3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J3(t,e)}}function J3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $be(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function jbe(t){if(Array.isArray(t))return t}var cB=/[ \f\n\r\t\v\u2028\u2029]+/,fB=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];mn(n)||(r?o=n.toString().split(""):o=n.toString().split(cB));var s=o.map(function(l){return{word:l,width:Vm(l,i).width}}),a=r?0:Vm("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},Bbe=function(e,n,r,i,o){var s=e.maxLines,a=e.children,l=e.style,u=e.breakAll,c=He(s),f=a,d=function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return re.reduce(function(le,ue){var Q=ue.word,ae=ue.width,ye=le[le.length-1];if(ye&&(i==null||o||ye.width+ae+r<Number(i)))ye.words.push(Q),ye.width+=ae+r;else{var ge={words:[Q],width:ae};le.push(ge)}return le},[])},h=d(n),y=function(re){return re.reduce(function(le,ue){return le.width>ue.width?le:ue})};if(!c)return h;for(var b="",w=function(re){var le=f.slice(0,re),ue=fB({breakAll:u,style:l,children:le+b}).wordsWithComputedWidth,Q=d(ue),ae=Q.length>s||y(Q).width>Number(i);return[ae,Q]},_=0,S=f.length-1,E=0,k;_<=S&&E<=f.length-1;){var R=Math.floor((_+S)/2),F=R-1,N=w(F),C=Y3(N,2),T=C[0],$=C[1],P=w(R),D=Y3(P,1),U=D[0];if(!T&&!U&&(_=R+1),T&&U&&(S=R-1),!T&&U){k=$;break}E++}return k||h},X3=function(e){var n=mn(e)?[]:e.toString().split(cB);return[{words:n}]},Vbe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((n||r)&&!Nv.isSsr){var l,u,c=fB({breakAll:s,children:i,style:o});if(c){var f=c.wordsWithComputedWidth,d=c.spaceWidth;l=f,u=d}else return X3(i);return Bbe({breakAll:s,children:i,maxLines:a,style:o},l,u,n,r)}return X3(i)},Q3="#808080",G1=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,d=e.textAnchor,h=d===void 0?"start":d,y=e.verticalAnchor,b=y===void 0?"end":y,w=e.fill,_=w===void 0?Q3:w,S=K3(e,Mbe),E=fe.useMemo(function(){return Vbe({breakAll:S.breakAll,children:S.children,maxLines:S.maxLines,scaleToFit:f,style:S.style,width:S.width})},[S.breakAll,S.children,S.maxLines,f,S.style,S.width]),k=S.dx,R=S.dy,F=S.angle,N=S.className,C=S.breakAll,T=K3(S,Lbe);if(!Zr(r)||!Zr(o))return null;var $=r+(He(k)?k:0),P=o+(He(R)?R:0),D;switch(b){case"start":D=qb("calc(".concat(u,")"));break;case"middle":D=qb("calc(".concat((E.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:D=qb("calc(".concat(E.length-1," * -").concat(a,")"));break}var U=[];if(f){var W=E[0].width,re=S.width;U.push("scale(".concat((He(re)?re/W:1)/W,")"))}return F&&U.push("rotate(".concat(F,", ").concat($,", ").concat(P,")")),U.length&&(T.transform=U.join(" ")),Se.createElement("text",GE({},hn(T,!0),{x:$,y:P,className:pn("recharts-text",N),textAnchor:h,fill:_.includes("url")?Q3:_}),E.map(function(le,ue){var Q=le.words.join(C?"":" ");return Se.createElement("tspan",{x:$,dy:ue===0?D:a,key:"".concat(Q,"-").concat(ue)},Q)}))};function ic(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function qbe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function RI(t){let e,n,r;t.length!==2?(e=ic,n=(a,l)=>ic(t(a),l),r=(a,l)=>t(a)-l):(e=t===ic||t===qbe?t:zbe,n=t,r=t);function i(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(a,l,u=0,c=a.length){const f=i(a,l,u,c-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function zbe(){return 0}function dB(t){return t===null?NaN:+t}function*Hbe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Gbe=RI(ic),kv=Gbe.right;RI(dB).center;class Z3 extends Map{constructor(e,n=Ybe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(eO(this,e))}has(e){return super.has(eO(this,e))}set(e,n){return super.set(Wbe(this,e),n)}delete(e){return super.delete(Kbe(this,e))}}function eO({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Wbe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Kbe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Ybe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Jbe(t=ic){if(t===ic)return hB;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function hB(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Xbe=Math.sqrt(50),Qbe=Math.sqrt(10),Zbe=Math.sqrt(2);function W1(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=Xbe?10:o>=Qbe?5:o>=Zbe?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?W1(t,e,n*2):[a,l,u]}function WE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?W1(e,t,n):W1(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function KE(t,e,n){return e=+e,t=+t,n=+n,W1(t,e,n)[2]}function YE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?KE(e,t,n):KE(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function tO(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function nO(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function pB(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?hB:Jbe(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),h=Math.max(n,Math.floor(e-u*f/l+d)),y=Math.min(r,Math.floor(e+(l-u)*f/l+d));pB(t,e,h,y,i)}const o=t[e];let s=n,a=r;for(nm(t,n,e),i(t[r],o)>0&&nm(t,n,r);s<a;){for(nm(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?nm(t,n,a):(++a,nm(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function nm(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function exe(t,e,n){if(t=Float64Array.from(Hbe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return nO(t);if(e>=1)return tO(t);var r,i=(r-1)*e,o=Math.floor(i),s=tO(pB(t,o).subarray(0,o+1)),a=nO(t.subarray(o+1));return s+(a-s)*(i-o)}}function txe(t,e,n=dB){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function nxe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Rs(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ru(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const JE=Symbol("implicit");function OI(){var t=new Z3,e=[],n=[],r=JE;function i(o){let s=t.get(o);if(s===void 0){if(r!==JE)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Z3;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return OI(e,n).unknown(r)},Rs.apply(i,arguments),i}function Cg(){var t=OI().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var d=e().length,h=i<r,y=h?i:r,b=h?r:i;o=(b-y)/Math.max(1,d-l+u*2),a&&(o=Math.floor(o)),y+=(b-y-o*(d-l))*c,s=o*(1-l),a&&(y=Math.round(y),s=Math.round(s));var w=nxe(d).map(function(_){return y+o*_});return n(h?w.reverse():w)}return t.domain=function(d){return arguments.length?(e(d),f()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,a=!0,f()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(d){return arguments.length?(a=!!d,f()):a},t.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),f()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},t.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},t.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},t.copy=function(){return Cg(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},Rs.apply(f(),arguments)}function mB(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return mB(e())},t}function qm(){return mB(Cg.apply(null,arguments).paddingInner(1))}function MI(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function gB(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Rv(){}var Ng=.7,K1=1/Ng,sh="\\s*([+-]?\\d+)\\s*",kg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",za="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rxe=/^#([0-9a-f]{3,8})$/,ixe=new RegExp(`^rgb\\(${sh},${sh},${sh}\\)$`),oxe=new RegExp(`^rgb\\(${za},${za},${za}\\)$`),sxe=new RegExp(`^rgba\\(${sh},${sh},${sh},${kg}\\)$`),axe=new RegExp(`^rgba\\(${za},${za},${za},${kg}\\)$`),lxe=new RegExp(`^hsl\\(${kg},${za},${za}\\)$`),uxe=new RegExp(`^hsla\\(${kg},${za},${za},${kg}\\)$`),rO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};MI(Rv,Rg,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:iO,formatHex:iO,formatHex8:cxe,formatHsl:fxe,formatRgb:oO,toString:oO});function iO(){return this.rgb().formatHex()}function cxe(){return this.rgb().formatHex8()}function fxe(){return vB(this).formatHsl()}function oO(){return this.rgb().formatRgb()}function Rg(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=rxe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?sO(e):n===3?new bo(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?jy(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?jy(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ixe.exec(t))?new bo(e[1],e[2],e[3],1):(e=oxe.exec(t))?new bo(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=sxe.exec(t))?jy(e[1],e[2],e[3],e[4]):(e=axe.exec(t))?jy(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=lxe.exec(t))?uO(e[1],e[2]/100,e[3]/100,1):(e=uxe.exec(t))?uO(e[1],e[2]/100,e[3]/100,e[4]):rO.hasOwnProperty(t)?sO(rO[t]):t==="transparent"?new bo(NaN,NaN,NaN,0):null}function sO(t){return new bo(t>>16&255,t>>8&255,t&255,1)}function jy(t,e,n,r){return r<=0&&(t=e=n=NaN),new bo(t,e,n,r)}function dxe(t){return t instanceof Rv||(t=Rg(t)),t?(t=t.rgb(),new bo(t.r,t.g,t.b,t.opacity)):new bo}function XE(t,e,n,r){return arguments.length===1?dxe(t):new bo(t,e,n,r??1)}function bo(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}MI(bo,XE,gB(Rv,{brighter(t){return t=t==null?K1:Math.pow(K1,t),new bo(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ng:Math.pow(Ng,t),new bo(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new bo(ff(this.r),ff(this.g),ff(this.b),Y1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:aO,formatHex:aO,formatHex8:hxe,formatRgb:lO,toString:lO}));function aO(){return`#${nf(this.r)}${nf(this.g)}${nf(this.b)}`}function hxe(){return`#${nf(this.r)}${nf(this.g)}${nf(this.b)}${nf((isNaN(this.opacity)?1:this.opacity)*255)}`}function lO(){const t=Y1(this.opacity);return`${t===1?"rgb(":"rgba("}${ff(this.r)}, ${ff(this.g)}, ${ff(this.b)}${t===1?")":`, ${t})`}`}function Y1(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ff(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function nf(t){return t=ff(t),(t<16?"0":"")+t.toString(16)}function uO(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ks(t,e,n,r)}function vB(t){if(t instanceof Ks)return new Ks(t.h,t.s,t.l,t.opacity);if(t instanceof Rv||(t=Rg(t)),!t)return new Ks;if(t instanceof Ks)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Ks(s,a,l,t.opacity)}function pxe(t,e,n,r){return arguments.length===1?vB(t):new Ks(t,e,n,r??1)}function Ks(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}MI(Ks,pxe,gB(Rv,{brighter(t){return t=t==null?K1:Math.pow(K1,t),new Ks(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ng:Math.pow(Ng,t),new Ks(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new bo(zb(t>=240?t-240:t+120,i,r),zb(t,i,r),zb(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ks(cO(this.h),By(this.s),By(this.l),Y1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Y1(this.opacity);return`${t===1?"hsl(":"hsla("}${cO(this.h)}, ${By(this.s)*100}%, ${By(this.l)*100}%${t===1?")":`, ${t})`}`}}));function cO(t){return t=(t||0)%360,t<0?t+360:t}function By(t){return Math.max(0,Math.min(1,t||0))}function zb(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const LI=t=>()=>t;function mxe(t,e){return function(n){return t+n*e}}function gxe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function vxe(t){return(t=+t)==1?yB:function(e,n){return n-e?gxe(e,n,t):LI(isNaN(e)?n:e)}}function yB(t,e){var n=e-t;return n?mxe(t,n):LI(isNaN(t)?e:t)}const fO=function t(e){var n=vxe(e);function r(i,o){var s=n((i=XE(i)).r,(o=XE(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=yB(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function yxe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function wxe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function _xe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=pp(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function bxe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function J1(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function xxe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=pp(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var QE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hb=new RegExp(QE.source,"g");function Sxe(t){return function(){return t}}function Exe(t){return function(e){return t(e)+""}}function Axe(t,e){var n=QE.lastIndex=Hb.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=QE.exec(t))&&(i=Hb.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:J1(r,i)})),n=Hb.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?Exe(l[0].x):Sxe(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}function pp(t,e){var n=typeof e,r;return e==null||n==="boolean"?LI(e):(n==="number"?J1:n==="string"?(r=Rg(e))?(e=r,fO):Axe:e instanceof Rg?fO:e instanceof Date?bxe:wxe(e)?yxe:Array.isArray(e)?_xe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?xxe:J1)(t,e)}function DI(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Txe(t,e){e===void 0&&(e=t,t=pp);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function Ixe(t){return function(){return t}}function X1(t){return+t}var dO=[0,1];function oo(t){return t}function ZE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Ixe(isNaN(e)?NaN:.5)}function Pxe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Cxe(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=ZE(i,r),o=n(s,o)):(r=ZE(r,i),o=n(o,s)),function(a){return o(r(a))}}function Nxe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=ZE(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=kv(t,a,1,r)-1;return o[l](i[l](a))}}function Ov(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function e2(){var t=dO,e=dO,n=pp,r,i,o,s=oo,a,l,u;function c(){var d=Math.min(t.length,e.length);return s!==oo&&(s=Pxe(t[0],t[d-1])),a=d>2?Nxe:Cxe,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=a(t.map(r),e,n)))(r(s(d)))}return f.invert=function(d){return s(i((u||(u=a(e,t.map(r),J1)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,X1),c()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),c()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),n=DI,c()},f.clamp=function(d){return arguments.length?(s=d?!0:oo,c()):s!==oo},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,h){return r=d,i=h,c()}}function FI(){return e2()(oo,oo)}function kxe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Q1(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Oh(t){return t=Q1(Math.abs(t)),t?t[1]:NaN}function Rxe(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function Oxe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Mxe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Og(t){if(!(e=Mxe.exec(t)))throw new Error("invalid format: "+t);var e;return new UI({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Og.prototype=UI.prototype;function UI(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}UI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Lxe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var wB;function Dxe(t,e){var n=Q1(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(wB=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Q1(t,Math.max(0,e+o-1))[0]}function hO(t,e){var n=Q1(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const pO={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:kxe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>hO(t*100,e),r:hO,s:Dxe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function mO(t){return t}var gO=Array.prototype.map,vO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Fxe(t){var e=t.grouping===void 0||t.thousands===void 0?mO:Rxe(gO.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?mO:Oxe(gO.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Og(f);var d=f.fill,h=f.align,y=f.sign,b=f.symbol,w=f.zero,_=f.width,S=f.comma,E=f.precision,k=f.trim,R=f.type;R==="n"?(S=!0,R="g"):pO[R]||(E===void 0&&(E=12),k=!0,R="g"),(w||d==="0"&&h==="=")&&(w=!0,d="0",h="=");var F=b==="$"?n:b==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",N=b==="$"?r:/[%p]/.test(R)?s:"",C=pO[R],T=/[defgprs%]/.test(R);E=E===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function $(P){var D=F,U=N,W,re,le;if(R==="c")U=C(P)+U,P="";else{P=+P;var ue=P<0||1/P<0;if(P=isNaN(P)?l:C(Math.abs(P),E),k&&(P=Lxe(P)),ue&&+P==0&&y!=="+"&&(ue=!1),D=(ue?y==="("?y:a:y==="-"||y==="("?"":y)+D,U=(R==="s"?vO[8+wB/3]:"")+U+(ue&&y==="("?")":""),T){for(W=-1,re=P.length;++W<re;)if(le=P.charCodeAt(W),48>le||le>57){U=(le===46?i+P.slice(W+1):P.slice(W))+U,P=P.slice(0,W);break}}}S&&!w&&(P=e(P,1/0));var Q=D.length+P.length+U.length,ae=Q<_?new Array(_-Q+1).join(d):"";switch(S&&w&&(P=e(ae+P,ae.length?_-U.length:1/0),ae=""),h){case"<":P=D+P+U+ae;break;case"=":P=D+ae+P+U;break;case"^":P=ae.slice(0,Q=ae.length>>1)+D+P+U+ae.slice(Q);break;default:P=ae+D+P+U;break}return o(P)}return $.toString=function(){return f+""},$}function c(f,d){var h=u((f=Og(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(Oh(d)/3)))*3,b=Math.pow(10,-y),w=vO[8+y/3];return function(_){return h(b*_)+w}}return{format:u,formatPrefix:c}}var Vy,$I,_B;Uxe({thousands:",",grouping:[3],currency:["$",""]});function Uxe(t){return Vy=Fxe(t),$I=Vy.format,_B=Vy.formatPrefix,Vy}function $xe(t){return Math.max(0,-Oh(Math.abs(t)))}function jxe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Oh(e)/3)))*3-Oh(Math.abs(t)))}function Bxe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Oh(e)-Oh(t))+1}function bB(t,e,n,r){var i=YE(t,e,n),o;switch(r=Og(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=jxe(i,s))&&(r.precision=o),_B(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Bxe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=$xe(i))&&(r.precision=o-(r.type==="%")*2);break}}return $I(r)}function bc(t){var e=t.domain;return t.ticks=function(n){var r=e();return WE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return bB(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=KE(s,a,n),u===l)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function Z1(){var t=FI();return t.copy=function(){return Ov(t,Z1())},Rs.apply(t,arguments),bc(t)}function xB(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,X1),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return xB(t).unknown(e)},t=arguments.length?Array.from(t,X1):[0,1],bc(n)}function SB(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function yO(t){return Math.log(t)}function wO(t){return Math.exp(t)}function Vxe(t){return-Math.log(-t)}function qxe(t){return-Math.exp(-t)}function zxe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Hxe(t){return t===10?zxe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Gxe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function _O(t){return(e,n)=>-t(-e,n)}function jI(t){const e=t(yO,wO),n=e.domain;let r=10,i,o;function s(){return i=Gxe(r),o=Hxe(r),n()[0]<0?(i=_O(i),o=_O(o),t(Vxe,qxe)):t(yO,wO),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let d=i(u),h=i(c),y,b;const w=a==null?10:+a;let _=[];if(!(r%1)&&h-d<w){if(d=Math.floor(d),h=Math.ceil(h),u>0){for(;d<=h;++d)for(y=1;y<r;++y)if(b=d<0?y/o(-d):y*o(d),!(b<u)){if(b>c)break;_.push(b)}}else for(;d<=h;++d)for(y=r-1;y>=1;--y)if(b=d>0?y/o(-d):y*o(d),!(b<u)){if(b>c)break;_.push(b)}_.length*2<w&&(_=WE(u,c,w))}else _=WE(d,h,Math.min(h-d,w)).map(o);return f?_.reverse():_},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Og(l)).precision==null&&(l.trim=!0),l=$I(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(SB(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function EB(){const t=jI(e2()).domain([1,10]);return t.copy=()=>Ov(t,EB()).base(t.base()),Rs.apply(t,arguments),t}function bO(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function xO(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function BI(t){var e=1,n=t(bO(e),xO(e));return n.constant=function(r){return arguments.length?t(bO(e=+r),xO(e)):e},bc(n)}function AB(){var t=BI(e2());return t.copy=function(){return Ov(t,AB()).constant(t.constant())},Rs.apply(t,arguments)}function SO(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Wxe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Kxe(t){return t<0?-t*t:t*t}function VI(t){var e=t(oo,oo),n=1;function r(){return n===1?t(oo,oo):n===.5?t(Wxe,Kxe):t(SO(n),SO(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},bc(e)}function qI(){var t=VI(e2());return t.copy=function(){return Ov(t,qI()).exponent(t.exponent())},Rs.apply(t,arguments),t}function Yxe(){return qI.apply(null,arguments).exponent(.5)}function EO(t){return Math.sign(t)*t*t}function Jxe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function TB(){var t=FI(),e=[0,1],n=!1,r;function i(o){var s=Jxe(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(EO(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,X1)).map(EO)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return TB(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Rs.apply(i,arguments),bc(i)}function IB(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=txe(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[kv(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(ic),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return IB().domain(t).range(e).unknown(r)},Rs.apply(o,arguments)}function PB(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[kv(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return PB().domain([t,e]).range(i).unknown(o)},Rs.apply(bc(s),arguments)}function CB(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[kv(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return CB().domain(t).range(e).unknown(n)},Rs.apply(i,arguments)}const Gb=new Date,Wb=new Date;function ti(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),e(o,a),t(o);while(u<o&&o<s);return l},i.filter=o=>ti(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(Gb.setTime(+o),Wb.setTime(+s),t(Gb),t(Wb),Math.floor(n(Gb,Wb))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const ew=ti(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ew.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ti(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ew);ew.range;const Cl=1e3,bs=Cl*60,Nl=bs*60,Wl=Nl*24,zI=Wl*7,AO=Wl*30,Kb=Wl*365,rf=ti(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Cl)},(t,e)=>(e-t)/Cl,t=>t.getUTCSeconds());rf.range;const HI=ti(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Cl)},(t,e)=>{t.setTime(+t+e*bs)},(t,e)=>(e-t)/bs,t=>t.getMinutes());HI.range;const GI=ti(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*bs)},(t,e)=>(e-t)/bs,t=>t.getUTCMinutes());GI.range;const WI=ti(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Cl-t.getMinutes()*bs)},(t,e)=>{t.setTime(+t+e*Nl)},(t,e)=>(e-t)/Nl,t=>t.getHours());WI.range;const KI=ti(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Nl)},(t,e)=>(e-t)/Nl,t=>t.getUTCHours());KI.range;const Mv=ti(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*bs)/Wl,t=>t.getDate()-1);Mv.range;const t2=ti(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Wl,t=>t.getUTCDate()-1);t2.range;const NB=ti(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Wl,t=>Math.floor(t/Wl));NB.range;function Hf(t){return ti(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*bs)/zI)}const n2=Hf(0),tw=Hf(1),Xxe=Hf(2),Qxe=Hf(3),Mh=Hf(4),Zxe=Hf(5),eSe=Hf(6);n2.range;tw.range;Xxe.range;Qxe.range;Mh.range;Zxe.range;eSe.range;function Gf(t){return ti(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/zI)}const r2=Gf(0),nw=Gf(1),tSe=Gf(2),nSe=Gf(3),Lh=Gf(4),rSe=Gf(5),iSe=Gf(6);r2.range;nw.range;tSe.range;nSe.range;Lh.range;rSe.range;iSe.range;const YI=ti(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());YI.range;const JI=ti(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());JI.range;const Kl=ti(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Kl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ti(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Kl.range;const Yl=ti(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Yl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ti(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Yl.range;function kB(t,e,n,r,i,o){const s=[[rf,1,Cl],[rf,5,5*Cl],[rf,15,15*Cl],[rf,30,30*Cl],[o,1,bs],[o,5,5*bs],[o,15,15*bs],[o,30,30*bs],[i,1,Nl],[i,3,3*Nl],[i,6,6*Nl],[i,12,12*Nl],[r,1,Wl],[r,2,2*Wl],[n,1,zI],[e,1,AO],[e,3,3*AO],[t,1,Kb]];function a(u,c,f){const d=c<u;d&&([u,c]=[c,u]);const h=f&&typeof f.range=="function"?f:l(u,c,f),y=h?h.range(u,+c+1):[];return d?y.reverse():y}function l(u,c,f){const d=Math.abs(c-u)/f,h=RI(([,,w])=>w).right(s,d);if(h===s.length)return t.every(YE(u/Kb,c/Kb,f));if(h===0)return ew.every(Math.max(YE(u,c,f),1));const[y,b]=s[d/s[h-1][2]<s[h][2]/d?h-1:h];return y.every(b)}return[a,l]}const[oSe,sSe]=kB(Yl,JI,r2,NB,KI,GI),[aSe,lSe]=kB(Kl,YI,n2,Mv,WI,HI);function Yb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Jb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function rm(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function uSe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,u=im(i),c=om(i),f=im(o),d=om(o),h=im(s),y=om(s),b=im(a),w=om(a),_=im(l),S=om(l),E={a:ue,A:Q,b:ae,B:ye,c:null,d:kO,e:kO,f:RSe,g:VSe,G:zSe,H:CSe,I:NSe,j:kSe,L:RB,m:OSe,M:MSe,p:ge,q:B,Q:MO,s:LO,S:LSe,u:DSe,U:FSe,V:USe,w:$Se,W:jSe,x:null,X:null,y:BSe,Y:qSe,Z:HSe,"%":OO},k={a:G,A:te,b:ce,B:pe,c:null,d:RO,e:RO,f:YSe,g:oEe,G:aEe,H:GSe,I:WSe,j:KSe,L:MB,m:JSe,M:XSe,p:_e,q:Te,Q:MO,s:LO,S:QSe,u:ZSe,U:eEe,V:tEe,w:nEe,W:rEe,x:null,X:null,y:iEe,Y:sEe,Z:lEe,"%":OO},R={a:$,A:P,b:D,B:U,c:W,d:CO,e:CO,f:ASe,g:PO,G:IO,H:NO,I:NO,j:bSe,L:ESe,m:_Se,M:xSe,p:T,q:wSe,Q:ISe,s:PSe,S:SSe,u:pSe,U:mSe,V:gSe,w:hSe,W:vSe,x:re,X:le,y:PO,Y:IO,Z:ySe,"%":TSe};E.x=F(n,E),E.X=F(r,E),E.c=F(e,E),k.x=F(n,k),k.X=F(r,k),k.c=F(e,k);function F(ee,me){return function(ne){var de=[],Ce=-1,ke=0,Y=ee.length,Ue,et,Ye;for(ne instanceof Date||(ne=new Date(+ne));++Ce<Y;)ee.charCodeAt(Ce)===37&&(de.push(ee.slice(ke,Ce)),(et=TO[Ue=ee.charAt(++Ce)])!=null?Ue=ee.charAt(++Ce):et=Ue==="e"?" ":"0",(Ye=me[Ue])&&(Ue=Ye(ne,et)),de.push(Ue),ke=Ce+1);return de.push(ee.slice(ke,Ce)),de.join("")}}function N(ee,me){return function(ne){var de=rm(1900,void 0,1),Ce=C(de,ee,ne+="",0),ke,Y;if(Ce!=ne.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(me&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(ke=Jb(rm(de.y,0,1)),Y=ke.getUTCDay(),ke=Y>4||Y===0?nw.ceil(ke):nw(ke),ke=t2.offset(ke,(de.V-1)*7),de.y=ke.getUTCFullYear(),de.m=ke.getUTCMonth(),de.d=ke.getUTCDate()+(de.w+6)%7):(ke=Yb(rm(de.y,0,1)),Y=ke.getDay(),ke=Y>4||Y===0?tw.ceil(ke):tw(ke),ke=Mv.offset(ke,(de.V-1)*7),de.y=ke.getFullYear(),de.m=ke.getMonth(),de.d=ke.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),Y="Z"in de?Jb(rm(de.y,0,1)).getUTCDay():Yb(rm(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(Y+5)%7:de.w+de.U*7-(Y+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,Jb(de)):Yb(de)}}function C(ee,me,ne,de){for(var Ce=0,ke=me.length,Y=ne.length,Ue,et;Ce<ke;){if(de>=Y)return-1;if(Ue=me.charCodeAt(Ce++),Ue===37){if(Ue=me.charAt(Ce++),et=R[Ue in TO?me.charAt(Ce++):Ue],!et||(de=et(ee,ne,de))<0)return-1}else if(Ue!=ne.charCodeAt(de++))return-1}return de}function T(ee,me,ne){var de=u.exec(me.slice(ne));return de?(ee.p=c.get(de[0].toLowerCase()),ne+de[0].length):-1}function $(ee,me,ne){var de=h.exec(me.slice(ne));return de?(ee.w=y.get(de[0].toLowerCase()),ne+de[0].length):-1}function P(ee,me,ne){var de=f.exec(me.slice(ne));return de?(ee.w=d.get(de[0].toLowerCase()),ne+de[0].length):-1}function D(ee,me,ne){var de=_.exec(me.slice(ne));return de?(ee.m=S.get(de[0].toLowerCase()),ne+de[0].length):-1}function U(ee,me,ne){var de=b.exec(me.slice(ne));return de?(ee.m=w.get(de[0].toLowerCase()),ne+de[0].length):-1}function W(ee,me,ne){return C(ee,e,me,ne)}function re(ee,me,ne){return C(ee,n,me,ne)}function le(ee,me,ne){return C(ee,r,me,ne)}function ue(ee){return s[ee.getDay()]}function Q(ee){return o[ee.getDay()]}function ae(ee){return l[ee.getMonth()]}function ye(ee){return a[ee.getMonth()]}function ge(ee){return i[+(ee.getHours()>=12)]}function B(ee){return 1+~~(ee.getMonth()/3)}function G(ee){return s[ee.getUTCDay()]}function te(ee){return o[ee.getUTCDay()]}function ce(ee){return l[ee.getUTCMonth()]}function pe(ee){return a[ee.getUTCMonth()]}function _e(ee){return i[+(ee.getUTCHours()>=12)]}function Te(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var me=F(ee+="",E);return me.toString=function(){return ee},me},parse:function(ee){var me=N(ee+="",!1);return me.toString=function(){return ee},me},utcFormat:function(ee){var me=F(ee+="",k);return me.toString=function(){return ee},me},utcParse:function(ee){var me=N(ee+="",!0);return me.toString=function(){return ee},me}}}var TO={"-":"",_:" ",0:"0"},hi=/^\s*\d+/,cSe=/^%/,fSe=/[\\^$*+?|[\]().{}]/g;function fn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function dSe(t){return t.replace(fSe,"\\$&")}function im(t){return new RegExp("^(?:"+t.map(dSe).join("|")+")","i")}function om(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function hSe(t,e,n){var r=hi.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function pSe(t,e,n){var r=hi.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function mSe(t,e,n){var r=hi.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function gSe(t,e,n){var r=hi.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function vSe(t,e,n){var r=hi.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function IO(t,e,n){var r=hi.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function PO(t,e,n){var r=hi.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ySe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function wSe(t,e,n){var r=hi.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function _Se(t,e,n){var r=hi.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function CO(t,e,n){var r=hi.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function bSe(t,e,n){var r=hi.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function NO(t,e,n){var r=hi.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function xSe(t,e,n){var r=hi.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function SSe(t,e,n){var r=hi.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ESe(t,e,n){var r=hi.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ASe(t,e,n){var r=hi.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function TSe(t,e,n){var r=cSe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ISe(t,e,n){var r=hi.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function PSe(t,e,n){var r=hi.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function kO(t,e){return fn(t.getDate(),e,2)}function CSe(t,e){return fn(t.getHours(),e,2)}function NSe(t,e){return fn(t.getHours()%12||12,e,2)}function kSe(t,e){return fn(1+Mv.count(Kl(t),t),e,3)}function RB(t,e){return fn(t.getMilliseconds(),e,3)}function RSe(t,e){return RB(t,e)+"000"}function OSe(t,e){return fn(t.getMonth()+1,e,2)}function MSe(t,e){return fn(t.getMinutes(),e,2)}function LSe(t,e){return fn(t.getSeconds(),e,2)}function DSe(t){var e=t.getDay();return e===0?7:e}function FSe(t,e){return fn(n2.count(Kl(t)-1,t),e,2)}function OB(t){var e=t.getDay();return e>=4||e===0?Mh(t):Mh.ceil(t)}function USe(t,e){return t=OB(t),fn(Mh.count(Kl(t),t)+(Kl(t).getDay()===4),e,2)}function $Se(t){return t.getDay()}function jSe(t,e){return fn(tw.count(Kl(t)-1,t),e,2)}function BSe(t,e){return fn(t.getFullYear()%100,e,2)}function VSe(t,e){return t=OB(t),fn(t.getFullYear()%100,e,2)}function qSe(t,e){return fn(t.getFullYear()%1e4,e,4)}function zSe(t,e){var n=t.getDay();return t=n>=4||n===0?Mh(t):Mh.ceil(t),fn(t.getFullYear()%1e4,e,4)}function HSe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+fn(e/60|0,"0",2)+fn(e%60,"0",2)}function RO(t,e){return fn(t.getUTCDate(),e,2)}function GSe(t,e){return fn(t.getUTCHours(),e,2)}function WSe(t,e){return fn(t.getUTCHours()%12||12,e,2)}function KSe(t,e){return fn(1+t2.count(Yl(t),t),e,3)}function MB(t,e){return fn(t.getUTCMilliseconds(),e,3)}function YSe(t,e){return MB(t,e)+"000"}function JSe(t,e){return fn(t.getUTCMonth()+1,e,2)}function XSe(t,e){return fn(t.getUTCMinutes(),e,2)}function QSe(t,e){return fn(t.getUTCSeconds(),e,2)}function ZSe(t){var e=t.getUTCDay();return e===0?7:e}function eEe(t,e){return fn(r2.count(Yl(t)-1,t),e,2)}function LB(t){var e=t.getUTCDay();return e>=4||e===0?Lh(t):Lh.ceil(t)}function tEe(t,e){return t=LB(t),fn(Lh.count(Yl(t),t)+(Yl(t).getUTCDay()===4),e,2)}function nEe(t){return t.getUTCDay()}function rEe(t,e){return fn(nw.count(Yl(t)-1,t),e,2)}function iEe(t,e){return fn(t.getUTCFullYear()%100,e,2)}function oEe(t,e){return t=LB(t),fn(t.getUTCFullYear()%100,e,2)}function sEe(t,e){return fn(t.getUTCFullYear()%1e4,e,4)}function aEe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Lh(t):Lh.ceil(t),fn(t.getUTCFullYear()%1e4,e,4)}function lEe(){return"+0000"}function OO(){return"%"}function MO(t){return+t}function LO(t){return Math.floor(+t/1e3)}var hd,DB,FB;uEe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function uEe(t){return hd=uSe(t),DB=hd.format,hd.parse,FB=hd.utcFormat,hd.utcParse,hd}function cEe(t){return new Date(t)}function fEe(t){return t instanceof Date?+t:+new Date(+t)}function XI(t,e,n,r,i,o,s,a,l,u){var c=FI(),f=c.invert,d=c.domain,h=u(".%L"),y=u(":%S"),b=u("%I:%M"),w=u("%I %p"),_=u("%a %d"),S=u("%b %d"),E=u("%B"),k=u("%Y");function R(F){return(l(F)<F?h:a(F)<F?y:s(F)<F?b:o(F)<F?w:r(F)<F?i(F)<F?_:S:n(F)<F?E:k)(F)}return c.invert=function(F){return new Date(f(F))},c.domain=function(F){return arguments.length?d(Array.from(F,fEe)):d().map(cEe)},c.ticks=function(F){var N=d();return t(N[0],N[N.length-1],F??10)},c.tickFormat=function(F,N){return N==null?R:u(N)},c.nice=function(F){var N=d();return(!F||typeof F.range!="function")&&(F=e(N[0],N[N.length-1],F??10)),F?d(SB(N,F)):c},c.copy=function(){return Ov(c,XI(t,e,n,r,i,o,s,a,l,u))},c}function dEe(){return Rs.apply(XI(aSe,lSe,Kl,YI,n2,Mv,WI,HI,rf,DB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function hEe(){return Rs.apply(XI(oSe,sSe,Yl,JI,r2,t2,KI,GI,rf,FB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function i2(){var t=0,e=1,n,r,i,o,s=oo,a=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(s=f,u):s};function c(f){return function(d){var h,y;return arguments.length?([h,y]=d,s=f(h,y),u):[s(0),s(1)]}}return u.range=c(pp),u.rangeRound=c(DI),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function xc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function UB(){var t=bc(i2()(oo));return t.copy=function(){return xc(t,UB())},ru.apply(t,arguments)}function $B(){var t=jI(i2()).domain([1,10]);return t.copy=function(){return xc(t,$B()).base(t.base())},ru.apply(t,arguments)}function jB(){var t=BI(i2());return t.copy=function(){return xc(t,jB()).constant(t.constant())},ru.apply(t,arguments)}function QI(){var t=VI(i2());return t.copy=function(){return xc(t,QI()).exponent(t.exponent())},ru.apply(t,arguments)}function pEe(){return QI.apply(null,arguments).exponent(.5)}function BB(){var t=[],e=oo;function n(r){if(r!=null&&!isNaN(r=+r))return e((kv(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ic),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>exe(t,o/r))},n.copy=function(){return BB(e).domain(t)},ru.apply(n,arguments)}function o2(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,u=oo,c,f=!1,d;function h(b){return isNaN(b=+b)?d:(b=.5+((b=+c(b))-o)*(r*b<r*o?a:l),u(f?Math.max(0,Math.min(1,b)):b))}h.domain=function(b){return arguments.length?([t,e,n]=b,i=c(t=+t),o=c(e=+e),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,h):[t,e,n]},h.clamp=function(b){return arguments.length?(f=!!b,h):f},h.interpolator=function(b){return arguments.length?(u=b,h):u};function y(b){return function(w){var _,S,E;return arguments.length?([_,S,E]=w,u=Txe(b,[_,S,E]),h):[u(0),u(.5),u(1)]}}return h.range=y(pp),h.rangeRound=y(DI),h.unknown=function(b){return arguments.length?(d=b,h):d},function(b){return c=b,i=b(t),o=b(e),s=b(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,h}}function VB(){var t=bc(o2()(oo));return t.copy=function(){return xc(t,VB())},ru.apply(t,arguments)}function qB(){var t=jI(o2()).domain([.1,1,10]);return t.copy=function(){return xc(t,qB()).base(t.base())},ru.apply(t,arguments)}function zB(){var t=BI(o2());return t.copy=function(){return xc(t,zB()).constant(t.constant())},ru.apply(t,arguments)}function ZI(){var t=VI(o2());return t.copy=function(){return xc(t,ZI()).exponent(t.exponent())},ru.apply(t,arguments)}function mEe(){return ZI.apply(null,arguments).exponent(.5)}const DO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Cg,scaleDiverging:VB,scaleDivergingLog:qB,scaleDivergingPow:ZI,scaleDivergingSqrt:mEe,scaleDivergingSymlog:zB,scaleIdentity:xB,scaleImplicit:JE,scaleLinear:Z1,scaleLog:EB,scaleOrdinal:OI,scalePoint:qm,scalePow:qI,scaleQuantile:IB,scaleQuantize:PB,scaleRadial:TB,scaleSequential:UB,scaleSequentialLog:$B,scaleSequentialPow:QI,scaleSequentialQuantile:BB,scaleSequentialSqrt:pEe,scaleSequentialSymlog:jB,scaleSqrt:Yxe,scaleSymlog:AB,scaleThreshold:CB,scaleTime:dEe,scaleUtc:hEe,tickFormat:bB},Symbol.toStringTag,{value:"Module"}));var gEe=sp;function vEe(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!gEe(s):n(s,a)))var a=s,l=o}return l}var HB=vEe;function yEe(t,e){return t>e}var wEe=yEe,_Ee=HB,bEe=wEe,xEe=hp;function SEe(t){return t&&t.length?_Ee(t,xEe,bEe):void 0}var EEe=SEe;const s2=Fn(EEe);function AEe(t,e){return t<e}var TEe=AEe,IEe=HB,PEe=TEe,CEe=hp;function NEe(t){return t&&t.length?IEe(t,CEe,PEe):void 0}var kEe=NEe;const a2=Fn(kEe);var REe=hI,OEe=_c,MEe=Zj,LEe=Ao;function DEe(t,e){var n=LEe(t)?REe:MEe;return n(t,OEe(e))}var FEe=DEe,UEe=Xj,$Ee=FEe;function jEe(t,e){return UEe($Ee(t,e),1)}var BEe=jEe;const VEe=Fn(BEe);var qEe=PI;function zEe(t,e){return qEe(t,e)}var HEe=zEe;const eP=Fn(HEe);var mp=1e9,GEe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},nP,rr=!0,Cs="[DecimalError] ",df=Cs+"Invalid argument: ",tP=Cs+"Exponent out of range: ",gp=Math.floor,Gc=Math.pow,WEe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,zo,ai=1e7,Kn=7,GB=9007199254740991,rw=gp(GB/Kn),Ze={};Ze.absoluteValue=Ze.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ze.comparedTo=Ze.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Ze.decimalPlaces=Ze.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Kn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ze.dividedBy=Ze.div=function(t){return Fl(this,new this.constructor(t))};Ze.dividedToIntegerBy=Ze.idiv=function(t){var e=this,n=e.constructor;return Dn(Fl(e,new n(t),0,1),n.precision)};Ze.equals=Ze.eq=function(t){return!this.cmp(t)};Ze.exponent=function(){return qr(this)};Ze.greaterThan=Ze.gt=function(t){return this.cmp(t)>0};Ze.greaterThanOrEqualTo=Ze.gte=function(t){return this.cmp(t)>=0};Ze.isInteger=Ze.isint=function(){return this.e>this.d.length-2};Ze.isNegative=Ze.isneg=function(){return this.s<0};Ze.isPositive=Ze.ispos=function(){return this.s>0};Ze.isZero=function(){return this.s===0};Ze.lessThan=Ze.lt=function(t){return this.cmp(t)<0};Ze.lessThanOrEqualTo=Ze.lte=function(t){return this.cmp(t)<1};Ze.logarithm=Ze.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(zo))throw Error(Cs+"NaN");if(n.s<1)throw Error(Cs+(n.s?"NaN":"-Infinity"));return n.eq(zo)?new r(0):(rr=!1,e=Fl(Mg(n,o),Mg(t,o),o),rr=!0,Dn(e,i))};Ze.minus=Ze.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?YB(e,t):WB(e,(t.s=-t.s,t))};Ze.modulo=Ze.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Cs+"NaN");return n.s?(rr=!1,e=Fl(n,t,0,1).times(t),rr=!0,n.minus(e)):Dn(new r(n),i)};Ze.naturalExponential=Ze.exp=function(){return KB(this)};Ze.naturalLogarithm=Ze.ln=function(){return Mg(this)};Ze.negated=Ze.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ze.plus=Ze.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?WB(e,t):YB(e,(t.s=-t.s,t))};Ze.precision=Ze.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(df+t);if(e=qr(i)+1,r=i.d.length-1,n=r*Kn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ze.squareRoot=Ze.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(Cs+"NaN")}for(t=qr(a),rr=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Ma(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=gp((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(Fl(a,o,s+2)).times(.5),Ma(o.d).slice(0,s)===(e=Ma(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Dn(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return rr=!0,Dn(r,n)};Ze.times=Ze.mul=function(t){var e,n,r,i,o,s,a,l,u,c=this,f=c.constructor,d=c.d,h=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=d.length,u=h.length,l<u&&(o=d,d=h,h=o,s=l,l=u,u=s),o=[],s=l+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+h[r]*d[i-r-1]+e,o[i--]=a%ai|0,e=a/ai|0;o[i]=(o[i]+e)%ai|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,rr?Dn(t,f.precision):t};Ze.toDecimalPlaces=Ze.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ka(t,0,mp),e===void 0?e=r.rounding:Ka(e,0,8),Dn(n,t+qr(n)+1,e))};Ze.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Cf(r,!0):(Ka(t,0,mp),e===void 0?e=i.rounding:Ka(e,0,8),r=Dn(new i(r),t+1,e),n=Cf(r,!0,t+1)),n};Ze.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Cf(i):(Ka(t,0,mp),e===void 0?e=o.rounding:Ka(e,0,8),r=Dn(new o(i),t+qr(i)+1,e),n=Cf(r.abs(),!1,t+qr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ze.toInteger=Ze.toint=function(){var t=this,e=t.constructor;return Dn(new e(t),qr(t)+1,e.rounding)};Ze.toNumber=function(){return+this};Ze.toPower=Ze.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(zo);if(a=new l(a),!a.s){if(t.s<1)throw Error(Cs+"Infinity");return a}if(a.eq(zo))return a;if(r=l.precision,t.eq(zo))return Dn(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=c<0?-c:c)<=GB){for(i=new l(zo),e=Math.ceil(r/Kn+4),rr=!1;n%2&&(i=i.times(a),UO(i.d,e)),n=gp(n/2),n!==0;)a=a.times(a),UO(a.d,e);return rr=!0,t.s<0?new l(zo).div(i):Dn(i,r)}}else if(o<0)throw Error(Cs+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,rr=!1,i=t.times(Mg(a,r+u)),rr=!0,i=KB(i),i.s=o,i};Ze.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=qr(i),r=Cf(i,n<=o.toExpNeg||n>=o.toExpPos)):(Ka(t,1,mp),e===void 0?e=o.rounding:Ka(e,0,8),i=Dn(new o(i),t,e),n=qr(i),r=Cf(i,t<=n||n<=o.toExpNeg,t)),r};Ze.toSignificantDigits=Ze.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ka(t,1,mp),e===void 0?e=r.rounding:Ka(e,0,8)),Dn(new r(n),t,e)};Ze.toString=Ze.valueOf=Ze.val=Ze.toJSON=Ze[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=qr(t),n=t.constructor;return Cf(t,e<=n.toExpNeg||e>=n.toExpPos)};function WB(t,e){var n,r,i,o,s,a,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),rr?Dn(e,f):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=u.length):(r=u,i=s,a=l.length),s=Math.ceil(f/Kn),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=u.length,a-o<0&&(o=a,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/ai|0,l[o]%=ai;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,rr?Dn(e,f):e}function Ka(t,e,n){if(t!==~~t||t<e||t>n)throw Error(df+t)}function Ma(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=Kn-r.length,n&&(o+=Ru(n)),o+=r;s=t[e],r=s+"",n=Kn-r.length,n&&(o+=Ru(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Fl=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%ai|0,s=o/ai|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*ai+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,u,c,f,d,h,y,b,w,_,S,E,k,R,F,N,C,T=r.constructor,$=r.s==i.s?1:-1,P=r.d,D=i.d;if(!r.s)return new T(r);if(!i.s)throw Error(Cs+"Division by zero");for(l=r.e-i.e,N=D.length,R=P.length,h=new T($),y=h.d=[],u=0;D[u]==(P[u]||0);)++u;if(D[u]>(P[u]||0)&&--l,o==null?S=o=T.precision:s?S=o+(qr(r)-qr(i))+1:S=o,S<0)return new T(0);if(S=S/Kn+2|0,u=0,N==1)for(c=0,D=D[0],S++;(u<R||c)&&S--;u++)E=c*ai+(P[u]||0),y[u]=E/D|0,c=E%D|0;else{for(c=ai/(D[0]+1)|0,c>1&&(D=t(D,c),P=t(P,c),N=D.length,R=P.length),k=N,b=P.slice(0,N),w=b.length;w<N;)b[w++]=0;C=D.slice(),C.unshift(0),F=D[0],D[1]>=ai/2&&++F;do c=0,a=e(D,b,N,w),a<0?(_=b[0],N!=w&&(_=_*ai+(b[1]||0)),c=_/F|0,c>1?(c>=ai&&(c=ai-1),f=t(D,c),d=f.length,w=b.length,a=e(f,b,d,w),a==1&&(c--,n(f,N<d?C:D,d))):(c==0&&(a=c=1),f=D.slice()),d=f.length,d<w&&f.unshift(0),n(b,f,w),a==-1&&(w=b.length,a=e(D,b,N,w),a<1&&(c++,n(b,N<w?C:D,w))),w=b.length):a===0&&(c++,b=[0]),y[u++]=c,a&&b[0]?b[w++]=P[k]||0:(b=[P[k]],w=1);while((k++<R||b[0]!==void 0)&&S--)}return y[0]||y.shift(),h.e=l,Dn(h,s?o+qr(h)+1:o)}}();function KB(t,e){var n,r,i,o,s,a,l=0,u=0,c=t.constructor,f=c.precision;if(qr(t)>16)throw Error(tP+qr(t));if(!t.s)return new c(zo);for(rr=!1,a=f,s=new c(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(Gc(2,u))/Math.LN10*2+5|0,a+=r,n=i=o=new c(zo),c.precision=a;;){if(i=Dn(i.times(t),a),n=n.times(++l),s=o.plus(Fl(i,n,a)),Ma(s.d).slice(0,a)===Ma(o.d).slice(0,a)){for(;u--;)o=Dn(o.times(o),a);return c.precision=f,e==null?(rr=!0,Dn(o,f)):o}o=s}}function qr(t){for(var e=t.e*Kn,n=t.d[0];n>=10;n/=10)e++;return e}function Xb(t,e,n){if(e>t.LN10.sd())throw rr=!0,n&&(t.precision=n),Error(Cs+"LN10 precision limit exceeded");return Dn(new t(t.LN10),e)}function Ru(t){for(var e="";t--;)e+="0";return e}function Mg(t,e){var n,r,i,o,s,a,l,u,c,f=1,d=10,h=t,y=h.d,b=h.constructor,w=b.precision;if(h.s<1)throw Error(Cs+(h.s?"NaN":"-Infinity"));if(h.eq(zo))return new b(0);if(e==null?(rr=!1,u=w):u=e,h.eq(10))return e==null&&(rr=!0),Xb(b,u);if(u+=d,b.precision=u,n=Ma(y),r=n.charAt(0),o=qr(h),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)h=h.times(t),n=Ma(h.d),r=n.charAt(0),f++;o=qr(h),r>1?(h=new b("0."+n),o++):h=new b(r+"."+n.slice(1))}else return l=Xb(b,u+2,w).times(o+""),h=Mg(new b(r+"."+n.slice(1)),u-d).plus(l),b.precision=w,e==null?(rr=!0,Dn(h,w)):h;for(a=s=h=Fl(h.minus(zo),h.plus(zo),u),c=Dn(h.times(h),u),i=3;;){if(s=Dn(s.times(c),u),l=a.plus(Fl(s,new b(i),u)),Ma(l.d).slice(0,u)===Ma(a.d).slice(0,u))return a=a.times(2),o!==0&&(a=a.plus(Xb(b,u+2,w).times(o+""))),a=Fl(a,new b(f),u),b.precision=w,e==null?(rr=!0,Dn(a,w)):a;a=l,i+=2}}function FO(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=gp(n/Kn),t.d=[],r=(n+1)%Kn,n<0&&(r+=Kn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Kn;r<i;)t.d.push(+e.slice(r,r+=Kn));e=e.slice(r),r=Kn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),rr&&(t.e>rw||t.e<-rw))throw Error(tP+n)}else t.s=0,t.e=0,t.d=[0];return t}function Dn(t,e,n){var r,i,o,s,a,l,u,c,f=t.d;for(s=1,o=f[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=Kn,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/Kn),o=f.length,c>=o)return t;for(u=o=f[c],s=1;o>=10;o/=10)s++;r%=Kn,i=r-Kn+s}if(n!==void 0&&(o=Gc(10,s-i-1),a=u/o%10|0,l=e<0||f[c+1]!==void 0||u%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/Gc(10,s-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=qr(t),f.length=1,e=e-o-1,f[0]=Gc(10,(Kn-e%Kn)%Kn),t.e=gp(-e/Kn)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=Gc(10,Kn-r),f[c]=i>0?(u/Gc(10,s-i)%Gc(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==ai&&(f[0]=1,++t.e);break}else{if(f[c]+=o,f[c]!=ai)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(rr&&(t.e>rw||t.e<-rw))throw Error(tP+qr(t));return t}function YB(t,e){var n,r,i,o,s,a,l,u,c,f,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),rr?Dn(e,h):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,a=f.length):(n=f,r=u,a=l.length),i=Math.max(Math.ceil(h/Kn),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=f.length,c=i<a,c&&(a=i),i=0;i<a;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}s=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),a=l.length,i=f.length-a;i>0;--i)l[a++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=ai-1;--l[o],l[i]+=ai}l[i]-=f[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,rr?Dn(e,h):e):new d(0)}function Cf(t,e,n){var r,i=qr(t),o=Ma(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+Ru(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Ru(-i-1)+o,n&&(r=n-s)>0&&(o+=Ru(r))):i>=s?(o+=Ru(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+Ru(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=Ru(r))),t.s<0?"-"+o:o}function UO(t,e){if(t.length>e)return t.length=e,!0}function JB(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(df+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return FO(s,o.toString())}else if(typeof o!="string")throw Error(df+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,WEe.test(o))FO(s,o);else throw Error(df+o)}if(i.prototype=Ze,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=JB,i.config=i.set=KEe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function KEe(t){if(!t||typeof t!="object")throw Error(Cs+"Object expected");var e,n,r,i=["precision",1,mp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(gp(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(df+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(df+n+": "+r);return this}var nP=JB(GEe);zo=new nP(1);const Nn=nP;function YEe(t){return ZEe(t)||QEe(t)||XEe(t)||JEe()}function JEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XEe(t,e){if(t){if(typeof t=="string")return e5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e5(t,e)}}function QEe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ZEe(t){if(Array.isArray(t))return e5(t)}function e5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var e5e=function(e){return e},XB={},QB=function(e){return e===XB},$O=function(e){return function n(){return arguments.length===0||arguments.length===1&&QB(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},t5e=function t(e,n){return e===1?n:$O(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==XB}).length;return s>=e?n.apply(void 0,i):t(e-s,$O(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var c=i.map(function(f){return QB(f)?l.shift():f});return n.apply(void 0,YEe(c).concat(l))}))})},l2=function(e){return t5e(e.length,e)},t5=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},n5e=l2(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),r5e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return e5e;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},n5=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},ZB=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,l){return a===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function i5e(t){var e;return t===0?e=1:e=Math.floor(new Nn(t).abs().log(10).toNumber())+1,e}function o5e(t,e,n){for(var r=new Nn(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var s5e=l2(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),a5e=l2(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),l5e=l2(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const u2={rangeStep:o5e,getDigitCount:i5e,interpolateNumber:s5e,uninterpolateNumber:a5e,uninterpolateTruncation:l5e};function r5(t){return f5e(t)||c5e(t)||e9(t)||u5e()}function u5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c5e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function f5e(t){if(Array.isArray(t))return i5(t)}function Lg(t,e){return p5e(t)||h5e(t,e)||e9(t,e)||d5e()}function d5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e9(t,e){if(t){if(typeof t=="string")return i5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i5(t,e)}}function i5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h5e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function p5e(t){if(Array.isArray(t))return t}function t9(t){var e=Lg(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function n9(t,e,n){if(t.lte(0))return new Nn(0);var r=u2.getDigitCount(t.toNumber()),i=new Nn(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new Nn(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?l:new Nn(Math.ceil(l))}function m5e(t,e,n){var r=1,i=new Nn(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Nn(10).pow(u2.getDigitCount(t)-1),i=new Nn(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Nn(Math.floor(t)))}else t===0?i=new Nn(Math.floor((e-1)/2)):n||(i=new Nn(Math.floor(t)));var s=Math.floor((e-1)/2),a=r5e(n5e(function(l){return i.add(new Nn(l-s).mul(r)).toNumber()}),t5);return a(0,e)}function r9(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Nn(0),tickMin:new Nn(0),tickMax:new Nn(0)};var o=n9(new Nn(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new Nn(0):(s=new Nn(t).add(e).div(2),s=s.sub(new Nn(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new Nn(e).sub(s).div(o).toNumber()),u=a+l+1;return u>n?r9(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,a=e>0?a:a+(n-u)),{step:o,tickMin:s.sub(new Nn(a).mul(o)),tickMax:s.add(new Nn(l).mul(o))})}function g5e(t){var e=Lg(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=t9([n,r]),l=Lg(a,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(r5(t5(0,i-1).map(function(){return 1/0}))):[].concat(r5(t5(0,i-1).map(function(){return-1/0})),[c]);return n>r?n5(f):f}if(u===c)return m5e(u,i,o);var d=r9(u,c,s,o),h=d.step,y=d.tickMin,b=d.tickMax,w=u2.rangeStep(y,b.add(new Nn(.1).mul(h)),h);return n>r?n5(w):w}function v5e(t,e){var n=Lg(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=t9([r,i]),a=Lg(s,2),l=a[0],u=a[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=n9(new Nn(u).sub(l).div(c-1),o,0),d=[].concat(r5(u2.rangeStep(new Nn(l),new Nn(u).sub(new Nn(.99).mul(f)),f)),[u]);return r>i?n5(d):d}var y5e=ZB(g5e),w5e=ZB(v5e),_5e="Invariant failed";function Nf(t,e){throw new Error(_5e)}var b5e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Dh(t){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(t)}function iw(){return iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iw.apply(this,arguments)}function x5e(t,e){return T5e(t)||A5e(t,e)||E5e(t,e)||S5e()}function S5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E5e(t,e){if(t){if(typeof t=="string")return jO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jO(t,e)}}function jO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function A5e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function T5e(t){if(Array.isArray(t))return t}function I5e(t,e){if(t==null)return{};var n=P5e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function P5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function C5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N5e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s9(r.key),r)}}function k5e(t,e,n){return e&&N5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function R5e(t,e,n){return e=ow(e),O5e(t,i9()?Reflect.construct(e,n||[],ow(t).constructor):e.apply(t,n))}function O5e(t,e){if(e&&(Dh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M5e(t)}function M5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i9=function(){return!!t})()}function ow(t){return ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ow(t)}function L5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o5(t,e)}function o5(t,e){return o5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},o5(t,e)}function o9(t,e,n){return e=s9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s9(t){var e=D5e(t,"string");return Dh(e)=="symbol"?e:e+""}function D5e(t,e){if(Dh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var c2=function(t){function e(){return C5e(this,e),R5e(this,e,arguments)}return L5e(e,t),k5e(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,a=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,d=I5e(r,b5e),h=hn(d,!1);this.props.direction==="x"&&c.type!=="number"&&Nf();var y=l.map(function(b){var w=u(b,a),_=w.x,S=w.y,E=w.value,k=w.errorVal;if(!k)return null;var R=[],F,N;if(Array.isArray(k)){var C=x5e(k,2);F=C[0],N=C[1]}else F=N=k;if(o==="vertical"){var T=c.scale,$=S+i,P=$+s,D=$-s,U=T(E-F),W=T(E+N);R.push({x1:W,y1:P,x2:W,y2:D}),R.push({x1:U,y1:$,x2:W,y2:$}),R.push({x1:U,y1:P,x2:U,y2:D})}else if(o==="horizontal"){var re=f.scale,le=_+i,ue=le-s,Q=le+s,ae=re(E-F),ye=re(E+N);R.push({x1:ue,y1:ye,x2:Q,y2:ye}),R.push({x1:le,y1:ae,x2:le,y2:ye}),R.push({x1:ue,y1:ae,x2:Q,y2:ae})}return Se.createElement(ci,iw({className:"recharts-errorBar",key:"bar-".concat(R.map(function(ge){return"".concat(ge.x1,"-").concat(ge.x2,"-").concat(ge.y1,"-").concat(ge.y2)}))},h),R.map(function(ge){return Se.createElement("line",iw({},ge,{key:"line-".concat(ge.x1,"-").concat(ge.x2,"-").concat(ge.y1,"-").concat(ge.y2)}))}))});return Se.createElement(ci,{className:"recharts-errorBars"},y)}}])}(Se.Component);o9(c2,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});o9(c2,"displayName","ErrorBar");function Dg(t){"@babel/helpers - typeof";return Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dg(t)}function BO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $c(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BO(Object(n),!0).forEach(function(r){F5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F5e(t,e,n){return e=U5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U5e(t){var e=$5e(t,"string");return Dg(e)=="symbol"?e:e+""}function $5e(t,e){if(Dg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var a9=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=qo(n,oh);if(!s)return null;var a=oh.defaultProps,l=a!==void 0?$c($c({},a),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:o==="children"?u=(r||[]).reduce(function(c,f){var d=f.item,h=f.props,y=h.sectors||h.data||[];return c.concat(y.map(function(b){return{type:s.props.iconType||d.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):u=(r||[]).map(function(c){var f=c.item,d=f.type.defaultProps,h=d!==void 0?$c($c({},d),f.props):{},y=h.dataKey,b=h.name,w=h.legendType,_=h.hide;return{inactive:_,dataKey:y,type:l.iconType||w||"square",color:rP(f),value:b||y,payload:h}}),$c($c($c({},l),oh.getWithHeight(s,i)),{},{payload:u,item:s})};function Fg(t){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fg(t)}function VO(t){return q5e(t)||V5e(t)||B5e(t)||j5e()}function j5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B5e(t,e){if(t){if(typeof t=="string")return s5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s5(t,e)}}function V5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function q5e(t){if(Array.isArray(t))return s5(t)}function s5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qO(Object(n),!0).forEach(function(r){ah(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ah(t,e,n){return e=z5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z5e(t){var e=H5e(t,"string");return Fg(e)=="symbol"?e:e+""}function H5e(t,e){if(Fg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ya(t,e,n){return mn(t)||mn(e)?n:Zr(e)?As(t,e,n):Ht(e)?e(t):n}function zm(t,e,n,r){var i=VEe(t,function(a){return Ya(a,e)});if(n==="number"){var o=i.filter(function(a){return He(a)||parseFloat(a)});return o.length?[a2(o),s2(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!mn(a)}):i;return s.map(function(a){return Zr(a)||a instanceof Date?a:""})}var G5e=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<a;u++){var c=u>0?i[u-1].coordinate:i[a-1].coordinate,f=i[u].coordinate,d=u>=a-1?i[0].coordinate:i[u+1].coordinate,h=void 0;if(Js(f-c)!==Js(d-f)){var y=[];if(Js(d-f)===Js(l[1]-l[0])){h=d;var b=f+l[1]-l[0];y[0]=Math.min(b,(b+c)/2),y[1]=Math.max(b,(b+c)/2)}else{h=c;var w=d+l[1]-l[0];y[0]=Math.min(f,(w+f)/2),y[1]=Math.max(f,(w+f)/2)}var _=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(e>_[0]&&e<=_[1]||e>=y[0]&&e<=y[1]){s=i[u].index;break}}else{var S=Math.min(c,d),E=Math.max(c,d);if(e>(S+f)/2&&e<=(E+f)/2){s=i[u].index;break}}}else for(var k=0;k<a;k++)if(k===0&&e<=(r[k].coordinate+r[k+1].coordinate)/2||k>0&&k<a-1&&e>(r[k].coordinate+r[k-1].coordinate)/2&&e<=(r[k].coordinate+r[k+1].coordinate)/2||k===a-1&&e>(r[k].coordinate+r[k-1].coordinate)/2){s=r[k].index;break}return s},rP=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?_r(_r({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:a;break;default:l=a;break}return l},W5e=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,u=a.length;l<u;l++)for(var c=o[a[l]].stackGroups,f=Object.keys(c),d=0,h=f.length;d<h;d++){var y=c[f[d]],b=y.items,w=y.cateAxisId,_=b.filter(function(N){return Ll(N.type).indexOf("Bar")>=0});if(_&&_.length){var S=_[0].type.defaultProps,E=S!==void 0?_r(_r({},S),_[0].props):_[0].props,k=E.barSize,R=E[w];s[R]||(s[R]=[]);var F=mn(k)?n:k;s[R].push({item:_[0],stackList:_.slice(1),barSize:mn(F)?void 0:Pf(F,r,0)})}}return s},K5e=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var u=Pf(n,i,0,!0),c,f=[];if(s[0].barSize===+s[0].barSize){var d=!1,h=i/l,y=s.reduce(function(k,R){return k+R.barSize||0},0);y+=(l-1)*u,y>=i&&(y-=(l-1)*u,u=0),y>=i&&h>0&&(d=!0,h*=.9,y=l*h);var b=(i-y)/2>>0,w={offset:b-u,size:0};c=s.reduce(function(k,R){var F={item:R.item,position:{offset:w.offset+w.size+u,size:d?h:R.barSize}},N=[].concat(VO(k),[F]);return w=N[N.length-1].position,R.stackList&&R.stackList.length&&R.stackList.forEach(function(C){N.push({item:C,position:w})}),N},f)}else{var _=Pf(r,i,0,!0);i-2*_-(l-1)*u<=0&&(u=0);var S=(i-2*_-(l-1)*u)/l;S>1&&(S>>=0);var E=a===+a?Math.min(S,a):S;c=s.reduce(function(k,R,F){var N=[].concat(VO(k),[{item:R.item,position:{offset:_+(S+u)*F+(S-E)/2,size:E}}]);return R.stackList&&R.stackList.length&&R.stackList.forEach(function(C){N.push({item:C,position:N[N.length-1].position})}),N},f)}return c},Y5e=function(e,n,r,i){var o=r.children,s=r.width,a=r.margin,l=s-(a.left||0)-(a.right||0),u=a9({children:o,legendWidth:l});if(u){var c=i||{},f=c.width,d=c.height,h=u.align,y=u.verticalAlign,b=u.layout;if((b==="vertical"||b==="horizontal"&&y==="middle")&&h!=="center"&&He(e[h]))return _r(_r({},e),{},ah({},h,e[h]+(f||0)));if((b==="horizontal"||b==="vertical"&&h==="center")&&y!=="middle"&&He(e[y]))return _r(_r({},e),{},ah({},y,e[y]+(d||0)))}return e},J5e=function(e,n,r){return mn(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},l9=function(e,n,r,i,o){var s=n.props.children,a=ta(s,c2).filter(function(u){return J5e(i,o,u.props.direction)});if(a&&a.length){var l=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=Ya(c,r);if(mn(f))return u;var d=Array.isArray(f)?[a2(f),s2(f)]:[f,f],h=l.reduce(function(y,b){var w=Ya(c,b,0),_=d[0]-Math.abs(Array.isArray(w)?w[0]:w),S=d[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(_,y[0]),Math.max(S,y[1])]},[1/0,-1/0]);return[Math.min(h[0],u[0]),Math.max(h[1],u[1])]},[1/0,-1/0])}return null},X5e=function(e,n,r,i,o){var s=n.map(function(a){return l9(e,a,r,o,i)}).filter(function(a){return!mn(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},u9=function(e,n,r,i,o){var s=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&l9(e,l,u,i)||zm(e,u,r,o)});if(r==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)a[u[c]]||(a[u[c]]=!0,l.push(u[c]));return l},[])},c9=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},f9=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,s,a=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(s=!0),l.coordinate});return o||a.push(n),s||a.push(r),a},kl=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?Js(a[0]-a[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var d=o?o.indexOf(f):f;return{coordinate:i(d)+u,value:f,offset:u}});return c.filter(function(f){return!Pv(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,d){return{coordinate:i(f)+u,value:f,index:d,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,d){return{coordinate:i(f)+u,value:o?o[f]:f,index:d,offset:u}})},Qb=new WeakMap,qy=function(e,n){if(typeof n!="function")return e;Qb.has(e)||Qb.set(e,new WeakMap);var r=Qb.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Q5e=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:Cg(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:Z1(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:qm(),realScaleType:"point"}:o==="category"?{scale:Cg(),realScaleType:"band"}:{scale:Z1(),realScaleType:"linear"};if(If(i)){var l="scale".concat(W_(i));return{scale:(DO[l]||qm)(),realScaleType:DO[l]?l:"point"}}return Ht(i)?{scale:i}:{scale:qm(),realScaleType:"point"}},zO=1e-4,Z5e=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-zO,s=Math.max(i[0],i[1])+zO,a=e(n[0]),l=e(n[r-1]);(a<o||a>s||l<o||l>s)&&e.domain([n[0],n[r-1]])}},eAe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},tAe=function(e,n){if(!n||n.length!==2||!He(n[0])||!He(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!He(e[0])||e[0]<r)&&(o[0]=r),(!He(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},nAe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var l=Pv(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},rAe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=Pv(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=o,e[s][r][1]=o+a,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},iAe={sign:nAe,expand:yme,none:Ph,silhouette:wme,wiggle:_me,positive:rAe},oAe=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=iAe[r],s=vme().keys(i).value(function(a,l){return+Ya(a,l,0)}).order(kE).offset(o);return s(e)},sAe=function(e,n,r,i,o,s){if(!e)return null;var a=s?n.reverse():n,l={},u=a.reduce(function(f,d){var h,y=(h=d.type)!==null&&h!==void 0&&h.defaultProps?_r(_r({},d.type.defaultProps),d.props):d.props,b=y.stackId,w=y.hide;if(w)return f;var _=y[r],S=f[_]||{hasStack:!1,stackGroups:{}};if(Zr(b)){var E=S.stackGroups[b]||{numericAxisId:r,cateAxisId:i,items:[]};E.items.push(d),S.hasStack=!0,S.stackGroups[b]=E}else S.stackGroups[G_("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[d]};return _r(_r({},f),{},ah({},_,S))},l),c={};return Object.keys(u).reduce(function(f,d){var h=u[d];if(h.hasStack){var y={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(b,w){var _=h.stackGroups[w];return _r(_r({},b),{},ah({},w,{numericAxisId:r,cateAxisId:i,items:_.items,stackedData:oAe(e,_.items,o)}))},y)}return _r(_r({},f),{},ah({},d,h))},c)},aAe=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=y5e(u,o,a);return e.domain([a2(c),s2(c)]),{niceTicks:c}}if(o&&i==="number"){var f=e.domain(),d=w5e(f,o,a);return{niceTicks:d}}return null},HO=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=Ya(s,n.dataKey,n.domain[a]);return mn(l)?null:n.scale(l)-o/2+i},lAe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},uAe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?_r(_r({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Zr(o)){var s=n[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},cAe=function(e){return e.reduce(function(n,r){return[a2(r.concat([n[0]]).filter(He)),s2(r.concat([n[1]]).filter(He))]},[1/0,-1/0])},d9=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(u,c){var f=cAe(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},GO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,WO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,a5=function(e,n,r){if(Ht(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(He(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(GO.test(e[0])){var o=+GO.exec(e[0])[1];i[0]=n[0]-o}else Ht(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(He(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(WO.test(e[1])){var s=+WO.exec(e[1])[1];i[1]=n[1]+s}else Ht(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},sw=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=NI(n,function(f){return f.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var u=o[a],c=o[a-1];s=Math.min((u.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},KO=function(e,n,r){return!e||!e.length||eP(e,As(r,"type.defaultProps.domain"))?n:e},h9=function(e,n){var r=e.type.defaultProps?_r(_r({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return _r(_r({},hn(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:rP(e),value:Ya(n,i),type:l,payload:n,chartType:u,hide:c})};function Ug(t){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ug(t)}function YO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(n),!0).forEach(function(r){fAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fAe(t,e,n){return e=dAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dAe(t){var e=hAe(t,"string");return Ug(e)=="symbol"?e:e+""}function hAe(t,e){if(Ug(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ug(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aw=Math.PI/180,pAe=function(e){return e*180/Math.PI},Si=function(e,n,r,i){return{x:e+Math.cos(-aw*i)*r,y:n+Math.sin(-aw*i)*r}},mAe=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},gAe=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,a=mAe({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(r-o)/a,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:a,angle:pAe(u),angleInRadian:u}},vAe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},yAe=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},XO=function(e,n){var r=e.x,i=e.y,o=gAe({x:r,y:i},n),s=o.radius,a=o.angle,l=n.innerRadius,u=n.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var c=vAe(n),f=c.startAngle,d=c.endAngle,h=a,y;if(f<=d){for(;h>d;)h-=360;for(;h<f;)h+=360;y=h>=f&&h<=d}else{for(;h>f;)h-=360;for(;h<d;)h+=360;y=h>=d&&h<=f}return y?JO(JO({},n),{},{radius:s,angle:yAe(h,n)}):null};function $g(t){"@babel/helpers - typeof";return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$g(t)}var wAe=["offset"];function _Ae(t){return EAe(t)||SAe(t)||xAe(t)||bAe()}function bAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xAe(t,e){if(t){if(typeof t=="string")return l5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l5(t,e)}}function SAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function EAe(t){if(Array.isArray(t))return l5(t)}function l5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function AAe(t,e){if(t==null)return{};var n=TAe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function QO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QO(Object(n),!0).forEach(function(r){IAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IAe(t,e,n){return e=PAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PAe(t){var e=CAe(t,"string");return $g(e)=="symbol"?e:e+""}function CAe(t,e){if($g(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($g(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jg(){return jg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jg.apply(this,arguments)}var NAe=function(e){var n=e.value,r=e.formatter,i=mn(e.children)?n:e.children;return Ht(r)?r(i):i},kAe=function(e,n){var r=Js(n-e),i=Math.min(Math.abs(n-e),360);return r*i},RAe=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,u=l.cx,c=l.cy,f=l.innerRadius,d=l.outerRadius,h=l.startAngle,y=l.endAngle,b=l.clockWise,w=(f+d)/2,_=kAe(h,y),S=_>=0?1:-1,E,k;i==="insideStart"?(E=h+S*s,k=b):i==="insideEnd"?(E=y-S*s,k=!b):i==="end"&&(E=y+S*s,k=b),k=_<=0?k:!k;var R=Si(u,c,w,E),F=Si(u,c,w,E+(k?1:-1)*359),N="M".concat(R.x,",").concat(R.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(k?0:1,`,
    `).concat(F.x,",").concat(F.y),C=mn(e.id)?G_("recharts-radial-line-"):e.id;return Se.createElement("text",jg({},r,{dominantBaseline:"central",className:pn("recharts-radial-bar-label",a)}),Se.createElement("defs",null,Se.createElement("path",{id:C,d:N})),Se.createElement("textPath",{xlinkHref:"#".concat(C)},n))},OAe=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,a=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,f=o.endAngle,d=(c+f)/2;if(i==="outside"){var h=Si(s,a,u+r,d),y=h.x,b=h.y;return{x:y,y:b,textAnchor:y>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var w=(l+u)/2,_=Si(s,a,w,d),S=_.x,E=_.y;return{x:S,y:E,textAnchor:"middle",verticalAnchor:"middle"}},MAe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,a=s.x,l=s.y,u=s.width,c=s.height,f=c>=0?1:-1,d=f*i,h=f>0?"end":"start",y=f>0?"start":"end",b=u>=0?1:-1,w=b*i,_=b>0?"end":"start",S=b>0?"start":"end";if(o==="top"){var E={x:a+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:h};return Jr(Jr({},E),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var k={x:a+u/2,y:l+c+d,textAnchor:"middle",verticalAnchor:y};return Jr(Jr({},k),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var R={x:a-w,y:l+c/2,textAnchor:_,verticalAnchor:"middle"};return Jr(Jr({},R),r?{width:Math.max(R.x-r.x,0),height:c}:{})}if(o==="right"){var F={x:a+u+w,y:l+c/2,textAnchor:S,verticalAnchor:"middle"};return Jr(Jr({},F),r?{width:Math.max(r.x+r.width-F.x,0),height:c}:{})}var N=r?{width:u,height:c}:{};return o==="insideLeft"?Jr({x:a+w,y:l+c/2,textAnchor:S,verticalAnchor:"middle"},N):o==="insideRight"?Jr({x:a+u-w,y:l+c/2,textAnchor:_,verticalAnchor:"middle"},N):o==="insideTop"?Jr({x:a+u/2,y:l+d,textAnchor:"middle",verticalAnchor:y},N):o==="insideBottom"?Jr({x:a+u/2,y:l+c-d,textAnchor:"middle",verticalAnchor:h},N):o==="insideTopLeft"?Jr({x:a+w,y:l+d,textAnchor:S,verticalAnchor:y},N):o==="insideTopRight"?Jr({x:a+u-w,y:l+d,textAnchor:_,verticalAnchor:y},N):o==="insideBottomLeft"?Jr({x:a+w,y:l+c-d,textAnchor:S,verticalAnchor:h},N):o==="insideBottomRight"?Jr({x:a+u-w,y:l+c-d,textAnchor:_,verticalAnchor:h},N):ap(o)&&(He(o.x)||tf(o.x))&&(He(o.y)||tf(o.y))?Jr({x:a+Pf(o.x,u),y:l+Pf(o.y,c),textAnchor:"end",verticalAnchor:"end"},N):Jr({x:a+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},N)},LAe=function(e){return"cx"in e&&He(e.cx)};function zi(t){var e=t.offset,n=e===void 0?5:e,r=AAe(t,wAe),i=Jr({offset:n},r),o=i.viewBox,s=i.position,a=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,d=i.textBreakAll;if(!o||mn(a)&&mn(l)&&!fe.isValidElement(u)&&!Ht(u))return null;if(fe.isValidElement(u))return fe.cloneElement(u,i);var h;if(Ht(u)){if(h=fe.createElement(u,i),fe.isValidElement(h))return h}else h=NAe(i);var y=LAe(o),b=hn(i,!0);if(y&&(s==="insideStart"||s==="insideEnd"||s==="end"))return RAe(i,h,b);var w=y?OAe(i):MAe(i);return Se.createElement(G1,jg({className:pn("recharts-label",f)},b,w,{breakAll:d}),h)}zi.displayName="Label";var p9=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,d=e.y,h=e.top,y=e.left,b=e.width,w=e.height,_=e.clockWise,S=e.labelViewBox;if(S)return S;if(He(b)&&He(w)){if(He(f)&&He(d))return{x:f,y:d,width:b,height:w};if(He(h)&&He(y))return{x:h,y,width:b,height:w}}return He(f)&&He(d)?{x:f,y:d,width:0,height:0}:He(n)&&He(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:c||l||a||0,clockWise:_}:e.viewBox?e.viewBox:{}},DAe=function(e,n){return e?e===!0?Se.createElement(zi,{key:"label-implicit",viewBox:n}):Zr(e)?Se.createElement(zi,{key:"label-implicit",viewBox:n,value:e}):fe.isValidElement(e)?e.type===zi?fe.cloneElement(e,{key:"label-implicit",viewBox:n}):Se.createElement(zi,{key:"label-implicit",content:e,viewBox:n}):Ht(e)?Se.createElement(zi,{key:"label-implicit",content:e,viewBox:n}):ap(e)?Se.createElement(zi,jg({viewBox:n},e,{key:"label-implicit"})):null:null},FAe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=p9(e),s=ta(i,zi).map(function(l,u){return fe.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return s;var a=DAe(e.label,n||o);return[a].concat(_Ae(s))};zi.parseViewBox=p9;zi.renderCallByParent=FAe;function UAe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var $Ae=UAe;const jAe=Fn($Ae);function Bg(t){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bg(t)}var BAe=["valueAccessor"],VAe=["data","dataKey","clockWise","id","textBreakAll"];function qAe(t){return WAe(t)||GAe(t)||HAe(t)||zAe()}function zAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HAe(t,e){if(t){if(typeof t=="string")return u5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u5(t,e)}}function GAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function WAe(t){if(Array.isArray(t))return u5(t)}function u5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lw(){return lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lw.apply(this,arguments)}function ZO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(n),!0).forEach(function(r){KAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KAe(t,e,n){return e=YAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YAe(t){var e=JAe(t,"string");return Bg(e)=="symbol"?e:e+""}function JAe(t,e){if(Bg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tM(t,e){if(t==null)return{};var n=XAe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var QAe=function(e){return Array.isArray(e.value)?jAe(e.value):e.value};function hf(t){var e=t.valueAccessor,n=e===void 0?QAe:e,r=tM(t,BAe),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,l=r.textBreakAll,u=tM(r,VAe);return!i||!i.length?null:Se.createElement(ci,{className:"recharts-label-list"},i.map(function(c,f){var d=mn(o)?n(c,f):Ya(c&&c.payload,o),h=mn(a)?{}:{id:"".concat(a,"-").concat(f)};return Se.createElement(zi,lw({},hn(c,!0),u,h,{parentViewBox:c.parentViewBox,value:d,textBreakAll:l,viewBox:zi.parseViewBox(mn(s)?c:eM(eM({},c),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}hf.displayName="LabelList";function ZAe(t,e){return t?t===!0?Se.createElement(hf,{key:"labelList-implicit",data:e}):Se.isValidElement(t)||Ht(t)?Se.createElement(hf,{key:"labelList-implicit",data:e,content:t}):ap(t)?Se.createElement(hf,lw({data:e},t,{key:"labelList-implicit"})):null:null}function eTe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=ta(r,hf).map(function(s,a){return fe.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var o=ZAe(t.label,e);return[o].concat(qAe(i))}hf.renderCallByParent=eTe;function Vg(t){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vg(t)}function c5(){return c5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c5.apply(this,arguments)}function nM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nM(Object(n),!0).forEach(function(r){tTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tTe(t,e,n){return e=nTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nTe(t){var e=rTe(t,"string");return Vg(e)=="symbol"?e:e+""}function rTe(t,e){if(Vg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iTe=function(e,n){var r=Js(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},zy=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(a?1:-1)+i,f=Math.asin(l/c)/aw,d=u?o:o+s*f,h=Si(n,r,c,d),y=Si(n,r,i,d),b=u?o-s*f:o,w=Si(n,r,c*Math.cos(f*aw),b);return{center:h,circleTangency:y,lineTangency:w,theta:f}},m9=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=iTe(s,a),u=s+l,c=Si(n,r,o,s),f=Si(n,r,o,u),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var h=Si(n,r,i,s),y=Si(n,r,i,u);d+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},oTe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=Js(c-u),d=zy({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:s,cornerIsExternal:l}),h=d.circleTangency,y=d.lineTangency,b=d.theta,w=zy({cx:n,cy:r,radius:o,angle:c,sign:-f,cornerRadius:s,cornerIsExternal:l}),_=w.circleTangency,S=w.lineTangency,E=w.theta,k=l?Math.abs(u-c):Math.abs(u-c)-b-E;if(k<0)return a?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):m9({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var R="M ".concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(k>180),",").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,`
  `);if(i>0){var F=zy({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),N=F.circleTangency,C=F.lineTangency,T=F.theta,$=zy({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),P=$.circleTangency,D=$.lineTangency,U=$.theta,W=l?Math.abs(u-c):Math.abs(u-c)-T-U;if(W<0&&s===0)return"".concat(R,"L").concat(n,",").concat(r,"Z");R+="L".concat(D.x,",").concat(D.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(W>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else R+="L".concat(n,",").concat(r,"Z");return R},sTe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},g9=function(e){var n=rM(rM({},sTe),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,d=n.className;if(s<o||c===f)return null;var h=pn("recharts-sector",d),y=s-o,b=Pf(a,y,0,!0),w;return b>0&&Math.abs(c-f)<360?w=oTe({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(b,y/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):w=m9({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:c,endAngle:f}),Se.createElement("path",c5({},hn(n,!0),{className:h,d:w,role:"img"}))};function qg(t){"@babel/helpers - typeof";return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qg(t)}function f5(){return f5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f5.apply(this,arguments)}function iM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iM(Object(n),!0).forEach(function(r){aTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aTe(t,e,n){return e=lTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lTe(t){var e=uTe(t,"string");return qg(e)=="symbol"?e:e+""}function uTe(t,e){if(qg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sM={curveBasisClosed:sme,curveBasisOpen:ame,curveBasis:ome,curveBumpX:Hpe,curveBumpY:Gpe,curveLinearClosed:lme,curveLinear:Y_,curveMonotoneX:ume,curveMonotoneY:cme,curveNatural:fme,curveStep:dme,curveStepAfter:pme,curveStepBefore:hme},Hy=function(e){return e.x===+e.x&&e.y===+e.y},sm=function(e){return e.x},am=function(e){return e.y},cTe=function(e,n){if(Ht(e))return e;var r="curve".concat(W_(e));return(r==="curveMonotone"||r==="curveBump")&&n?sM["".concat(r).concat(n==="vertical"?"Y":"X")]:sM[r]||Y_},fTe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=cTe(r,a),f=u?o.filter(function(b){return Hy(b)}):o,d;if(Array.isArray(s)){var h=u?s.filter(function(b){return Hy(b)}):s,y=f.map(function(b,w){return oM(oM({},b),{},{base:h[w]})});return a==="vertical"?d=Ly().y(am).x1(sm).x0(function(b){return b.base.x}):d=Ly().x(sm).y1(am).y0(function(b){return b.base.y}),d.defined(Hy).curve(c),d(y)}return a==="vertical"&&He(s)?d=Ly().y(am).x1(sm).x0(s):He(s)?d=Ly().x(sm).y1(am).y0(s):d=gj().x(sm).y(am),d.defined(Hy).curve(c),d(f)},aM=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?fTe(e):i;return fe.createElement("path",f5({},hn(e,!1),k1(e),{className:pn("recharts-curve",n),d:s,ref:o}))},v9={exports:{}},dTe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",hTe=dTe,pTe=hTe;function y9(){}function w9(){}w9.resetWarningCache=y9;var mTe=function(){function t(r,i,o,s,a,l){if(l!==pTe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:w9,resetWarningCache:y9};return n.PropTypes=n,n};v9.exports=mTe();var gTe=v9.exports;const wn=Fn(gTe),{getOwnPropertyNames:vTe,getOwnPropertySymbols:yTe}=Object,{hasOwnProperty:wTe}=Object.prototype;function Zb(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Gy(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);const l=t(n,r,i);return o.delete(n),o.delete(r),l}}function _Te(t){return t!=null?t[Symbol.toStringTag]:void 0}function lM(t){return vTe(t).concat(yTe(t))}const bTe=Object.hasOwn||((t,e)=>wTe.call(t,e));function Wf(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const xTe="__v",STe="__o",ETe="_owner",{getOwnPropertyDescriptor:uM,keys:cM}=Object;function ATe(t,e){return t.byteLength===e.byteLength&&uw(new Uint8Array(t),new Uint8Array(e))}function TTe(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function ITe(t,e){return t.byteLength===e.byteLength&&uw(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function PTe(t,e){return Wf(t.getTime(),e.getTime())}function CTe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function NTe(t,e){return t===e}function fM(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let s,a,l=0;for(;(s=o.next())&&!s.done;){const u=e.entries();let c=!1,f=0;for(;(a=u.next())&&!a.done;){if(i[f]){f++;continue}const d=s.value,h=a.value;if(n.equals(d[0],h[0],l,f,t,e,n)&&n.equals(d[1],h[1],d[0],h[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}const kTe=Wf;function RTe(t,e,n){const r=cM(t);let i=r.length;if(cM(e).length!==i)return!1;for(;i-- >0;)if(!_9(t,e,n,r[i]))return!1;return!0}function lm(t,e,n){const r=lM(t);let i=r.length;if(lM(e).length!==i)return!1;let o,s,a;for(;i-- >0;)if(o=r[i],!_9(t,e,n,o)||(s=uM(t,o),a=uM(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function OTe(t,e){return Wf(t.valueOf(),e.valueOf())}function MTe(t,e){return t.source===e.source&&t.flags===e.flags}function dM(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let s,a;for(;(s=o.next())&&!s.done;){const l=e.values();let u=!1,c=0;for(;(a=l.next())&&!a.done;){if(!i[c]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function uw(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function LTe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function _9(t,e,n,r){return(r===ETe||r===STe||r===xTe)&&(t.$$typeof||e.$$typeof)?!0:bTe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const DTe="[object ArrayBuffer]",FTe="[object Arguments]",UTe="[object Boolean]",$Te="[object DataView]",jTe="[object Date]",BTe="[object Error]",VTe="[object Map]",qTe="[object Number]",zTe="[object Object]",HTe="[object RegExp]",GTe="[object Set]",WTe="[object String]",KTe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},YTe="[object URL]",JTe=Object.prototype.toString;function XTe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:s,areNumbersEqual:a,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:f,areTypedArraysEqual:d,areUrlsEqual:h,unknownTagComparators:y}){return function(w,_,S){if(w===_)return!0;if(w==null||_==null)return!1;const E=typeof w;if(E!==typeof _)return!1;if(E!=="object")return E==="number"?a(w,_,S):E==="function"?o(w,_,S):!1;const k=w.constructor;if(k!==_.constructor)return!1;if(k===Object)return l(w,_,S);if(Array.isArray(w))return e(w,_,S);if(k===Date)return r(w,_,S);if(k===RegExp)return c(w,_,S);if(k===Map)return s(w,_,S);if(k===Set)return f(w,_,S);const R=JTe.call(w);if(R===jTe)return r(w,_,S);if(R===HTe)return c(w,_,S);if(R===VTe)return s(w,_,S);if(R===GTe)return f(w,_,S);if(R===zTe)return typeof w.then!="function"&&typeof _.then!="function"&&l(w,_,S);if(R===YTe)return h(w,_,S);if(R===BTe)return i(w,_,S);if(R===FTe)return l(w,_,S);if(KTe[R])return d(w,_,S);if(R===DTe)return t(w,_,S);if(R===$Te)return n(w,_,S);if(R===UTe||R===qTe||R===WTe)return u(w,_,S);if(y){let F=y[R];if(!F){const N=_Te(w);N&&(F=y[N])}if(F)return F(w,_,S)}return!1}}function QTe({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:ATe,areArraysEqual:n?lm:TTe,areDataViewsEqual:ITe,areDatesEqual:PTe,areErrorsEqual:CTe,areFunctionsEqual:NTe,areMapsEqual:n?Zb(fM,lm):fM,areNumbersEqual:kTe,areObjectsEqual:n?lm:RTe,arePrimitiveWrappersEqual:OTe,areRegExpsEqual:MTe,areSetsEqual:n?Zb(dM,lm):dM,areTypedArraysEqual:n?Zb(uw,lm):uw,areUrlsEqual:LTe,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=Gy(r.areArraysEqual),o=Gy(r.areMapsEqual),s=Gy(r.areObjectsEqual),a=Gy(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:a})}return r}function ZTe(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function eIe({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(a,l){const{cache:u=t?new WeakMap:void 0,meta:c}=n();return e(a,l,{cache:u,equals:r,meta:c,strict:i})};if(t)return function(a,l){return e(a,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(a,l){return e(a,l,o)}}const tIe=Sc();Sc({strict:!0});Sc({circular:!0});Sc({circular:!0,strict:!0});Sc({createInternalComparator:()=>Wf});Sc({strict:!0,createInternalComparator:()=>Wf});Sc({circular:!0,createInternalComparator:()=>Wf});Sc({circular:!0,createInternalComparator:()=>Wf,strict:!0});function Sc(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=QTe(t),s=XTe(o),a=n?n(s):ZTe(s);return eIe({circular:e,comparator:s,createState:r,equals:a,strict:i})}function nIe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function hM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):nIe(i)};requestAnimationFrame(r)}function d5(t){"@babel/helpers - typeof";return d5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d5(t)}function rIe(t){return aIe(t)||sIe(t)||oIe(t)||iIe()}function iIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oIe(t,e){if(t){if(typeof t=="string")return pM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pM(t,e)}}function pM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aIe(t){if(Array.isArray(t))return t}function lIe(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=rIe(s),l=a[0],u=a.slice(1);if(typeof l=="number"){hM(i.bind(null,u),l);return}i(l),hM(i.bind(null,u));return}d5(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function zg(t){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zg(t)}function mM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mM(Object(n),!0).forEach(function(r){b9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b9(t,e,n){return e=uIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uIe(t){var e=cIe(t,"string");return zg(e)==="symbol"?e:String(e)}function cIe(t,e){if(zg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fIe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},dIe=function(e){return e},hIe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Hm=function(e,n){return Object.keys(n).reduce(function(r,i){return gM(gM({},r),{},b9({},i,e(i,n[i])))},{})},vM=function(e,n,r){return e.map(function(i){return"".concat(hIe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function pIe(t,e){return vIe(t)||gIe(t,e)||x9(t,e)||mIe()}function mIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function vIe(t){if(Array.isArray(t))return t}function yIe(t){return bIe(t)||_Ie(t)||x9(t)||wIe()}function wIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x9(t,e){if(t){if(typeof t=="string")return h5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h5(t,e)}}function _Ie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bIe(t){if(Array.isArray(t))return h5(t)}function h5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var cw=1e-4,S9=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},E9=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},yM=function(e,n){return function(r){var i=S9(e,n);return E9(i,r)}},xIe=function(e,n){return function(r){var i=S9(e,n),o=[].concat(yIe(i.map(function(s,a){return s*a}).slice(1)),[0]);return E9(o,r)}},wM=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),c=pIe(u,4);i=c[0],o=c[1],s=c[2],a=c[3]}}}var f=yM(i,s),d=yM(o,a),h=xIe(i,s),y=function(_){return _>1?1:_<0?0:_},b=function(_){for(var S=_>1?1:_,E=S,k=0;k<8;++k){var R=f(E)-S,F=h(E);if(Math.abs(R-S)<cw||F<cw)return d(E);E=y(E-R/F)}return d(E)};return b.isStepper=!1,b},SIe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(c,f,d){var h=-(c-f)*r,y=d*o,b=d+(h-y)*a/1e3,w=d*a/1e3+c;return Math.abs(w-f)<cw&&Math.abs(b)<cw?[f,0]:[w,b]};return l.isStepper=!0,l.dt=a,l},EIe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return wM(i);case"spring":return SIe();default:if(i.split("(")[0]==="cubic-bezier")return wM(i)}return typeof i=="function"?i:null};function Hg(t){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hg(t)}function _M(t){return IIe(t)||TIe(t)||A9(t)||AIe()}function AIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function IIe(t){if(Array.isArray(t))return m5(t)}function bM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bM(Object(n),!0).forEach(function(r){p5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p5(t,e,n){return e=PIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PIe(t){var e=CIe(t,"string");return Hg(e)==="symbol"?e:String(e)}function CIe(t,e){if(Hg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NIe(t,e){return OIe(t)||RIe(t,e)||A9(t,e)||kIe()}function kIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A9(t,e){if(t){if(typeof t=="string")return m5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m5(t,e)}}function m5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function RIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function OIe(t){if(Array.isArray(t))return t}var fw=function(e,n,r){return e+(n-e)*r},g5=function(e){var n=e.from,r=e.to;return n!==r},MIe=function t(e,n,r){var i=Hm(function(o,s){if(g5(s)){var a=e(s.from,s.to,s.velocity),l=NIe(a,2),u=l[0],c=l[1];return wi(wi({},s),{},{from:u,velocity:c})}return s},n);return r<1?Hm(function(o,s){return g5(s)?wi(wi({},s),{},{velocity:fw(s.velocity,i[o].velocity,r),from:fw(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const LIe=function(t,e,n,r,i){var o=fIe(t,e),s=o.reduce(function(w,_){return wi(wi({},w),{},p5({},_,[t[_],e[_]]))},{}),a=o.reduce(function(w,_){return wi(wi({},w),{},p5({},_,{from:t[_],velocity:0,to:e[_]}))},{}),l=-1,u,c,f=function(){return null},d=function(){return Hm(function(_,S){return S.from},a)},h=function(){return!Object.values(a).filter(g5).length},y=function(_){u||(u=_);var S=_-u,E=S/n.dt;a=MIe(n,a,E),i(wi(wi(wi({},t),e),d())),u=_,h()||(l=requestAnimationFrame(f))},b=function(_){c||(c=_);var S=(_-c)/r,E=Hm(function(R,F){return fw.apply(void 0,_M(F).concat([n(S)]))},s);if(i(wi(wi(wi({},t),e),E)),S<1)l=requestAnimationFrame(f);else{var k=Hm(function(R,F){return fw.apply(void 0,_M(F).concat([n(1)]))},s);i(wi(wi(wi({},t),e),k))}};return f=n.isStepper?y:b,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Fh(t){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(t)}var DIe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function FIe(t,e){if(t==null)return{};var n=UIe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UIe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ex(t){return VIe(t)||BIe(t)||jIe(t)||$Ie()}function $Ie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jIe(t,e){if(t){if(typeof t=="string")return v5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v5(t,e)}}function BIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function VIe(t){if(Array.isArray(t))return v5(t)}function v5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xM(Object(n),!0).forEach(function(r){Tm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tm(t,e,n){return e=T9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zIe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T9(r.key),r)}}function HIe(t,e,n){return e&&zIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function T9(t){var e=GIe(t,"string");return Fh(e)==="symbol"?e:String(e)}function GIe(t,e){if(Fh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y5(t,e)}function y5(t,e){return y5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},y5(t,e)}function KIe(t){var e=YIe();return function(){var r=dw(t),i;if(e){var o=dw(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return w5(this,i)}}function w5(t,e){if(e&&(Fh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _5(t)}function _5(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YIe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function dw(t){return dw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dw(t)}var fc=function(t){WIe(n,t);var e=KIe(n);function n(r,i){var o;qIe(this,n),o=e.call(this,r,i);var s=o.props,a=s.isActive,l=s.attributeName,u=s.from,c=s.to,f=s.steps,d=s.children,h=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(_5(o)),o.changeStyle=o.changeStyle.bind(_5(o)),!a||h<=0)return o.state={style:{}},typeof d=="function"&&(o.state={style:c}),w5(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof d=="function")return o.state={style:u},w5(o);o.state={style:l?Tm({},l,u):u}}else o.state={style:{}};return o}return HIe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,f=o.from,d=this.state.style;if(a){if(!s){var h={style:l?Tm({},l,c):c};this.state&&d&&(l&&d[l]!==c||!l&&d!==c)&&this.setState(h);return}if(!(tIe(i.to,c)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=y||u?f:i.to;if(this.state&&d){var w={style:l?Tm({},l,b):b};(l&&d[l]!==b||!l&&d!==b)&&this.setState(w)}this.runAnimation(Bs(Bs({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,d=i.onAnimationStart,h=LIe(s,a,EIe(u),l,this.changeStyle),y=function(){o.stopJSAnimation=h()};this.manager.start([d,c,y,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,u=s[0],c=u.style,f=u.duration,d=f===void 0?0:f,h=function(b,w,_){if(_===0)return b;var S=w.duration,E=w.easing,k=E===void 0?"ease":E,R=w.style,F=w.properties,N=w.onAnimationEnd,C=_>0?s[_-1]:w,T=F||Object.keys(R);if(typeof k=="function"||k==="spring")return[].concat(ex(b),[o.runJSAnimation.bind(o,{from:C.style,to:R,duration:S,easing:k}),S]);var $=vM(T,S,k),P=Bs(Bs(Bs({},C.style),R),{},{transition:$});return[].concat(ex(b),[P,S,N]).filter(dIe)};return this.manager.start([l].concat(ex(s.reduce(h,[c,Math.max(d,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=lIe());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,d=i.steps,h=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var b=a?Tm({},a,l):l,w=vM(Object.keys(b),s,u);y.start([c,o,Bs(Bs({},b),{},{transition:w}),s,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=FIe(i,DIe),u=fe.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!a||u===0||s<=0)return o;var f=function(h){var y=h.props,b=y.style,w=b===void 0?{}:b,_=y.className,S=fe.cloneElement(h,Bs(Bs({},l),{},{style:Bs(Bs({},w),c),className:_}));return S};return u===1?f(fe.Children.only(o)):Se.createElement("div",null,fe.Children.map(o,function(d){return f(d)}))}}]),n}(fe.PureComponent);fc.displayName="Animate";fc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};fc.propTypes={from:wn.oneOfType([wn.object,wn.string]),to:wn.oneOfType([wn.object,wn.string]),attributeName:wn.string,duration:wn.number,begin:wn.number,easing:wn.oneOfType([wn.string,wn.func]),steps:wn.arrayOf(wn.shape({duration:wn.number.isRequired,style:wn.object.isRequired,easing:wn.oneOfType([wn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),wn.func]),properties:wn.arrayOf("string"),onAnimationEnd:wn.func})),children:wn.oneOfType([wn.node,wn.func]),isActive:wn.bool,canBegin:wn.bool,onAnimationEnd:wn.func,shouldReAnimate:wn.bool,onAnimationStart:wn.func,onAnimationReStart:wn.func};function Gg(t){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gg(t)}function hw(){return hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hw.apply(this,arguments)}function JIe(t,e){return ePe(t)||ZIe(t,e)||QIe(t,e)||XIe()}function XIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QIe(t,e){if(t){if(typeof t=="string")return SM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SM(t,e)}}function SM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ZIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function ePe(t){if(Array.isArray(t))return t}function EM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EM(Object(n),!0).forEach(function(r){tPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tPe(t,e,n){return e=nPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nPe(t){var e=rPe(t,"string");return Gg(e)=="symbol"?e:e+""}function rPe(t,e){if(Gg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TM=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(s>0&&o instanceof Array){for(var f=[0,0,0,0],d=0,h=4;d<h;d++)f[d]=o[d]>s?s:o[d];c="M".concat(e,",").concat(n+a*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+a*f[1])),c+="L ".concat(e+r,",").concat(n+i-a*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-a*f[3])),c+="Z"}else if(s>0&&o===+o&&o>0){var y=Math.min(s,o);c="M ".concat(e,",").concat(n+a*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+l*y,",").concat(n,`
            L `).concat(e+r-l*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r,",").concat(n+a*y,`
            L `).concat(e+r,",").concat(n+i-a*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r-l*y,",").concat(n+i,`
            L `).concat(e+l*y,",").concat(n+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(n+i-a*y," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},iPe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var u=Math.min(o,o+a),c=Math.max(o,o+a),f=Math.min(s,s+l),d=Math.max(s,s+l);return r>=u&&r<=c&&i>=f&&i<=d}return!1},oPe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},iP=function(e){var n=AM(AM({},oPe),e),r=fe.useRef(),i=fe.useState(-1),o=JIe(i,2),s=o[0],a=o[1];fe.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var k=r.current.getTotalLength();k&&a(k)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,d=n.radius,h=n.className,y=n.animationEasing,b=n.animationDuration,w=n.animationBegin,_=n.isAnimationActive,S=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var E=pn("recharts-rectangle",h);return S?Se.createElement(fc,{canBegin:s>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:b,animationEasing:y,isActive:S},function(k){var R=k.width,F=k.height,N=k.x,C=k.y;return Se.createElement(fc,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:b,isActive:_,easing:y},Se.createElement("path",hw({},hn(n,!0),{className:E,d:TM(N,C,R,F,d),ref:r})))}):Se.createElement("path",hw({},hn(n,!0),{className:E,d:TM(l,u,c,f,d)}))};function b5(){return b5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b5.apply(this,arguments)}var I9=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=pn("recharts-dot",o);return n===+n&&r===+r&&i===+i?fe.createElement("circle",b5({},hn(e,!1),k1(e),{className:s,cx:n,cy:r,r:i})):null};function Wg(t){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wg(t)}var sPe=["x","y","top","left","width","height","className"];function x5(){return x5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x5.apply(this,arguments)}function IM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aPe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IM(Object(n),!0).forEach(function(r){lPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lPe(t,e,n){return e=uPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uPe(t){var e=cPe(t,"string");return Wg(e)=="symbol"?e:e+""}function cPe(t,e){if(Wg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fPe(t,e){if(t==null)return{};var n=dPe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var hPe=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},pPe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,d=e.height,h=d===void 0?0:d,y=e.className,b=fPe(e,sPe),w=aPe({x:r,y:o,top:a,left:u,width:f,height:h},b);return!He(r)||!He(o)||!He(f)||!He(h)||!He(a)||!He(u)?null:Se.createElement("path",x5({},hn(w,!0),{className:pn("recharts-cross",y),d:hPe(r,o,f,h,a,u)}))},mPe=jj,gPe=mPe(Object.getPrototypeOf,Object),vPe=gPe,yPe=tu,wPe=vPe,_Pe=nu,bPe="[object Object]",xPe=Function.prototype,SPe=Object.prototype,P9=xPe.toString,EPe=SPe.hasOwnProperty,APe=P9.call(Object);function TPe(t){if(!_Pe(t)||yPe(t)!=bPe)return!1;var e=wPe(t);if(e===null)return!0;var n=EPe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&P9.call(n)==APe}var IPe=TPe;const PPe=Fn(IPe);var CPe=tu,NPe=nu,kPe="[object Boolean]";function RPe(t){return t===!0||t===!1||NPe(t)&&CPe(t)==kPe}var OPe=RPe;const MPe=Fn(OPe);function Kg(t){"@babel/helpers - typeof";return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kg(t)}function pw(){return pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pw.apply(this,arguments)}function LPe(t,e){return $Pe(t)||UPe(t,e)||FPe(t,e)||DPe()}function DPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FPe(t,e){if(t){if(typeof t=="string")return PM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PM(t,e)}}function PM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function UPe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function $Pe(t){if(Array.isArray(t))return t}function CM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CM(Object(n),!0).forEach(function(r){jPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jPe(t,e,n){return e=BPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BPe(t){var e=VPe(t,"string");return Kg(e)=="symbol"?e:e+""}function VPe(t,e){if(Kg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kM=function(e,n,r,i,o){var s=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-s/2,",").concat(n+o),a+="L ".concat(e+r-s/2-i,",").concat(n+o),a+="L ".concat(e,",").concat(n," Z"),a},qPe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zPe=function(e){var n=NM(NM({},qPe),e),r=fe.useRef(),i=fe.useState(-1),o=LPe(i,2),s=o[0],a=o[1];fe.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&a(E)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,d=n.height,h=n.className,y=n.animationEasing,b=n.animationDuration,w=n.animationBegin,_=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||d!==+d||c===0&&f===0||d===0)return null;var S=pn("recharts-trapezoid",h);return _?Se.createElement(fc,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:d,x:l,y:u},duration:b,animationEasing:y,isActive:_},function(E){var k=E.upperWidth,R=E.lowerWidth,F=E.height,N=E.x,C=E.y;return Se.createElement(fc,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:b,easing:y},Se.createElement("path",pw({},hn(n,!0),{className:S,d:kM(N,C,k,R,F),ref:r})))}):Se.createElement("g",null,Se.createElement("path",pw({},hn(n,!0),{className:S,d:kM(l,u,c,f,d)})))},HPe=["option","shapeType","propTransformer","activeClassName","isActive"];function Yg(t){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yg(t)}function GPe(t,e){if(t==null)return{};var n=WPe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function RM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RM(Object(n),!0).forEach(function(r){KPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KPe(t,e,n){return e=YPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YPe(t){var e=JPe(t,"string");return Yg(e)=="symbol"?e:e+""}function JPe(t,e){if(Yg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XPe(t,e){return mw(mw({},e),t)}function QPe(t,e){return t==="symbols"}function OM(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return Se.createElement(iP,n);case"trapezoid":return Se.createElement(zPe,n);case"sector":return Se.createElement(g9,n);case"symbols":if(QPe(e))return Se.createElement(xI,n);break;default:return null}}function ZPe(t){return fe.isValidElement(t)?t.props:t}function eCe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?XPe:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=GPe(t,HPe),u;if(fe.isValidElement(e))u=fe.cloneElement(e,mw(mw({},l),ZPe(e)));else if(Ht(e))u=e(l);else if(PPe(e)&&!MPe(e)){var c=i(e,l);u=Se.createElement(OM,{shapeType:n,elementProps:c})}else{var f=l;u=Se.createElement(OM,{shapeType:n,elementProps:f})}return a?Se.createElement(ci,{className:s},u):u}function f2(t,e){return e!=null&&"trapezoids"in t.props}function d2(t,e){return e!=null&&"sectors"in t.props}function Jg(t,e){return e!=null&&"points"in t.props}function tCe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function nCe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function rCe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function iCe(t,e){var n;return f2(t,e)?n=tCe:d2(t,e)?n=nCe:Jg(t,e)&&(n=rCe),n}function oCe(t,e){var n;return f2(t,e)?n="trapezoids":d2(t,e)?n="sectors":Jg(t,e)&&(n="points"),n}function sCe(t,e){if(f2(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(d2(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Jg(t,e)?e.payload:{}}function aCe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=oCe(n,e),o=sCe(n,e),s=r.filter(function(l,u){var c=eP(o,l),f=n.props[i].filter(function(y){var b=iCe(n,e);return b(y,e)}),d=n.props[i].indexOf(f[f.length-1]),h=u===d;return c&&h}),a=r.indexOf(s[s.length-1]);return a}var lCe=Math.ceil,uCe=Math.max;function cCe(t,e,n,r){for(var i=-1,o=uCe(lCe((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}var fCe=cCe,dCe=oB,MM=1/0,hCe=17976931348623157e292;function pCe(t){if(!t)return t===0?t:0;if(t=dCe(t),t===MM||t===-MM){var e=t<0?-1:1;return e*hCe}return t===t?t:0}var C9=pCe,mCe=fCe,gCe=Z_,tx=C9;function vCe(t){return function(e,n,r){return r&&typeof r!="number"&&gCe(e,n,r)&&(n=r=void 0),e=tx(e),n===void 0?(n=e,e=0):n=tx(n),r=r===void 0?e<n?1:-1:tx(r),mCe(e,n,r,t)}}var yCe=vCe,wCe=yCe,_Ce=wCe(),bCe=_Ce;const gw=Fn(bCe);function Xg(t){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xg(t)}function LM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LM(Object(n),!0).forEach(function(r){N9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function N9(t,e,n){return e=xCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xCe(t){var e=SCe(t,"string");return Xg(e)=="symbol"?e:e+""}function SCe(t,e){if(Xg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ECe=["Webkit","Moz","O","ms"],ACe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=ECe.reduce(function(o,s){return DM(DM({},o),{},N9({},s+r,n))},{});return i[e]=n,i};function Uh(t){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uh(t)}function vw(){return vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vw.apply(this,arguments)}function FM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FM(Object(n),!0).forEach(function(r){Bo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R9(r.key),r)}}function ICe(t,e,n){return e&&UM(t.prototype,e),n&&UM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function PCe(t,e,n){return e=yw(e),CCe(t,k9()?Reflect.construct(e,n||[],yw(t).constructor):e.apply(t,n))}function CCe(t,e){if(e&&(Uh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NCe(t)}function NCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k9=function(){return!!t})()}function yw(t){return yw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yw(t)}function kCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S5(t,e)}function S5(t,e){return S5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},S5(t,e)}function Bo(t,e,n){return e=R9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R9(t){var e=RCe(t,"string");return Uh(e)=="symbol"?e:e+""}function RCe(t,e){if(Uh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var OCe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=qm().domain(gw(0,l)).range([o,o+s-a]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},$M=function(e){return e.changedTouches&&!!e.changedTouches.length},$h=function(t){function e(n){var r;return TCe(this,e),r=PCe(this,e,[n]),Bo(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Bo(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Bo(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),Bo(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Bo(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Bo(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Bo(r,"handleSlideDragStart",function(i){var o=$M(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return kCe(e,t),ICe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,l=a.gap,u=a.data,c=u.length-1,f=Math.min(i,o),d=Math.max(i,o),h=e.getIndexInRange(s,f),y=e.getIndexInRange(s,d);return{startIndex:h-h%l,endIndex:y===c?c:y-y%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=Ya(o[r],a,r);return Ht(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,d=l.startIndex,h=l.endIndex,y=l.onChange,b=r.pageX-o;b>0?b=Math.min(b,u+c-f-a,u+c-f-s):b<0&&(b=Math.max(b,u-s,u-a));var w=this.getIndex({startX:s+b,endX:a+b});(w.startIndex!==d||w.endIndex!==h)&&y&&y(w),this.setState({startX:s+b,endX:a+b,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=$M(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,u=this.state[s],c=this.props,f=c.x,d=c.width,h=c.travellerWidth,y=c.onChange,b=c.gap,w=c.data,_={startX:this.state.startX,endX:this.state.endX},S=r.pageX-o;S>0?S=Math.min(S,f+d-h-u):S<0&&(S=Math.max(S,f-u)),_[s]=u+S;var E=this.getIndex(_),k=E.startIndex,R=E.endIndex,F=function(){var C=w.length-1;return s==="startX"&&(a>l?k%b===0:R%b===0)||a<l&&R===C||s==="endX"&&(a>l?R%b===0:k%b===0)||a>l&&R===C};this.setState(Bo(Bo({},s,u+S),"brushMoveStartX",r.pageX),function(){y&&F()&&y(E)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,u=s.endX,c=this.state[i],f=a.indexOf(c);if(f!==-1){var d=f+r;if(!(d===-1||d>=a.length)){var h=a[d];i==="startX"&&h>=u||i==="endX"&&h<=l||this.setState(Bo({},i,h),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.fill,u=r.stroke;return Se.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.data,u=r.children,c=r.padding,f=fe.Children.only(u);return f?Se.cloneElement(f,{x:i,y:o,width:s,height:a,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,d=l.traveller,h=l.ariaLabel,y=l.data,b=l.startIndex,w=l.endIndex,_=Math.max(r,this.props.x),S=nx(nx({},hn(this.props,!1)),{},{x:_,y:u,width:c,height:f}),E=h||"Min value: ".concat((o=y[b])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=y[w])===null||s===void 0?void 0:s.name);return Se.createElement(ci,{tabIndex:0,role:"slider","aria-label":E,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(R){["ArrowLeft","ArrowRight"].includes(R.key)&&(R.preventDefault(),R.stopPropagation(),a.handleTravellerMoveKeyboard(R.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,S))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return Se.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:s,width:f,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,d=c.endX,h=5,y={pointerEvents:"none",fill:u};return Se.createElement(ci,{className:"recharts-brush-texts"},Se.createElement(G1,vw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,d)-h,y:s+a/2},y),this.getTextOfTick(i)),Se.createElement(G1,vw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,d)+l+h,y:s+a/2},y),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,d=this.state,h=d.startX,y=d.endX,b=d.isTextActive,w=d.isSlideMoving,_=d.isTravellerMoving,S=d.isTravellerFocused;if(!i||!i.length||!He(a)||!He(l)||!He(u)||!He(c)||u<=0||c<=0)return null;var E=pn("recharts-brush",o),k=Se.Children.count(s)===1,R=ACe("userSelect","none");return Se.createElement(ci,{className:E,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:R},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(h,y),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(y,"endX"),(b||w||_||S||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,l=r.stroke,u=Math.floor(o+a/2)-1;return Se.createElement(Se.Fragment,null,Se.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),Se.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),Se.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return Se.isValidElement(r)?o=Se.cloneElement(r,i):Ht(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return nx({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s},o&&o.length?OCe({data:o,width:s,x:a,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var d=i.scale.domain().map(function(h){return i.scale(h)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);r[l]>i?a=l:s=l}return i>=r[a]?a:s}}])}(fe.PureComponent);Bo($h,"displayName","Brush");Bo($h,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var MCe=CI;function LCe(t,e){var n;return MCe(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var DCe=LCe,FCe=Rj,UCe=_c,$Ce=DCe,jCe=Ao,BCe=Z_;function VCe(t,e,n){var r=jCe(t)?FCe:$Ce;return n&&BCe(t,e,n)&&(e=void 0),r(t,UCe(e))}var qCe=VCe;const zCe=Fn(qCe);var Ha=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},jM=eB;function HCe(t,e,n){e=="__proto__"&&jM?jM(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var GCe=HCe,WCe=GCe,KCe=Qj,YCe=_c;function JCe(t,e){var n={};return e=YCe(e),KCe(t,function(r,i,o){WCe(n,i,e(r,i,o))}),n}var XCe=JCe;const QCe=Fn(XCe);function ZCe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var eNe=ZCe,tNe=CI;function nNe(t,e){var n=!0;return tNe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var rNe=nNe,iNe=eNe,oNe=rNe,sNe=_c,aNe=Ao,lNe=Z_;function uNe(t,e,n){var r=aNe(t)?iNe:oNe;return n&&lNe(t,e,n)&&(e=void 0),r(t,sNe(e))}var cNe=uNe;const O9=Fn(cNe);var fNe=["x","y"];function Qg(t){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qg(t)}function E5(){return E5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E5.apply(this,arguments)}function BM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function um(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BM(Object(n),!0).forEach(function(r){dNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dNe(t,e,n){return e=hNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hNe(t){var e=pNe(t,"string");return Qg(e)=="symbol"?e:e+""}function pNe(t,e){if(Qg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mNe(t,e){if(t==null)return{};var n=gNe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gNe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vNe(t,e){var n=t.x,r=t.y,i=mNe(t,fNe),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),d=parseInt(f,10);return um(um(um(um(um({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:d,name:e.name,radius:e.radius})}function VM(t){return Se.createElement(eCe,E5({shapeType:"rectangle",propTransformer:vNe,activeClassName:"recharts-active-bar"},t))}var yNe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=He(r)||khe(r);return o?e(r,i):(o||Nf(),n)}},wNe=["value","background"],M9;function jh(t){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(t)}function _Ne(t,e){if(t==null)return{};var n=bNe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bNe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ww(){return ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ww.apply(this,arguments)}function qM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qM(Object(n),!0).forEach(function(r){Hu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D9(r.key),r)}}function SNe(t,e,n){return e&&zM(t.prototype,e),n&&zM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ENe(t,e,n){return e=_w(e),ANe(t,L9()?Reflect.construct(e,n||[],_w(t).constructor):e.apply(t,n))}function ANe(t,e){if(e&&(jh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TNe(t)}function TNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L9=function(){return!!t})()}function _w(t){return _w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_w(t)}function INe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A5(t,e)}function A5(t,e){return A5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},A5(t,e)}function Hu(t,e,n){return e=D9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D9(t){var e=PNe(t,"string");return jh(e)=="symbol"?e:e+""}function PNe(t,e){if(jh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kf=function(t){function e(){var n;xNe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=ENe(this,e,[].concat(i)),Hu(n,"state",{isAnimationFinished:!1}),Hu(n,"id",G_("recharts-bar-")),Hu(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Hu(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return INe(e,t),SNe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,a=o.dataKey,l=o.activeIndex,u=o.activeBar,c=hn(this.props,!1);return r&&r.map(function(f,d){var h=d===l,y=h?u:s,b=Fr(Fr(Fr({},c),f),{},{isActive:h,option:y,index:d,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return Se.createElement(ci,ww({className:"recharts-bar-rectangle"},R1(i.props,f,d),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(d)}),Se.createElement(VM,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,d=this.state.prevData;return Se.createElement(fc,{begin:l,duration:u,isActive:a,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var y=h.t,b=o.map(function(w,_){var S=d&&d[_];if(S){var E=fd(S.x,w.x),k=fd(S.y,w.y),R=fd(S.width,w.width),F=fd(S.height,w.height);return Fr(Fr({},w),{},{x:E(y),y:k(y),width:R(y),height:F(y)})}if(s==="horizontal"){var N=fd(0,w.height),C=N(y);return Fr(Fr({},w),{},{y:w.y+w.height-C,height:C})}var T=fd(0,w.width),$=T(y);return Fr(Fr({},w),{},{width:$})});return Se.createElement(ci,null,r.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!eP(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,l=hn(this.props.background,!1);return o.map(function(u,c){u.value;var f=u.background,d=_Ne(u,wNe);if(!f)return null;var h=Fr(Fr(Fr(Fr(Fr({},d),{},{fill:"#eee"},f),l),R1(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:c,className:"recharts-bar-background-rectangle"});return Se.createElement(VM,ww({key:"background-bar-".concat(c),option:r.props.background,isActive:c===a},h))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=ta(c,c2);if(!f)return null;var d=u==="vertical"?s[0].height/2:s[0].width/2,h=function(w,_){var S=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:S,errorVal:Ya(w,_)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return Se.createElement(ci,y,f.map(function(b){return Se.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,offset:d,dataPointFormatter:h})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,a=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,d=r.height,h=r.isAnimationActive,y=r.background,b=r.id;if(i||!o||!o.length)return null;var w=this.state.isAnimationFinished,_=pn("recharts-bar",s),S=a&&a.allowDataOverflow,E=l&&l.allowDataOverflow,k=S||E,R=mn(b)?this.id:b;return Se.createElement(ci,{className:_},S||E?Se.createElement("defs",null,Se.createElement("clipPath",{id:"clipPath-".concat(R)},Se.createElement("rect",{x:S?u:u-f/2,y:E?c:c-d/2,width:S?f:f*2,height:E?d:d*2}))):null,Se.createElement(ci,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(R,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,R),(!h||w)&&hf.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(fe.PureComponent);M9=Kf;Hu(Kf,"displayName","Bar");Hu(Kf,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Nv.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Hu(Kf,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,d=t.offset,h=eAe(r,n);if(!h)return null;var y=e.layout,b=n.type.defaultProps,w=b!==void 0?Fr(Fr({},b),n.props):n.props,_=w.dataKey,S=w.children,E=w.minPointSize,k=y==="horizontal"?s:o,R=u?k.scale.domain():null,F=lAe({numericAxis:k}),N=ta(S,aB),C=f.map(function(T,$){var P,D,U,W,re,le;u?P=tAe(u[c+$],R):(P=Ya(T,_),Array.isArray(P)||(P=[F,P]));var ue=yNe(E,M9.defaultProps.minPointSize)(P[1],$);if(y==="horizontal"){var Q,ae=[s.scale(P[0]),s.scale(P[1])],ye=ae[0],ge=ae[1];D=HO({axis:o,ticks:a,bandSize:i,offset:h.offset,entry:T,index:$}),U=(Q=ge??ye)!==null&&Q!==void 0?Q:void 0,W=h.size;var B=ye-ge;if(re=Number.isNaN(B)?0:B,le={x:D,y:s.y,width:W,height:s.height},Math.abs(ue)>0&&Math.abs(re)<Math.abs(ue)){var G=Js(re||ue)*(Math.abs(ue)-Math.abs(re));U-=G,re+=G}}else{var te=[o.scale(P[0]),o.scale(P[1])],ce=te[0],pe=te[1];if(D=ce,U=HO({axis:s,ticks:l,bandSize:i,offset:h.offset,entry:T,index:$}),W=pe-ce,re=h.size,le={x:o.x,y:U,width:o.width,height:re},Math.abs(ue)>0&&Math.abs(W)<Math.abs(ue)){var _e=Js(W||ue)*(Math.abs(ue)-Math.abs(W));W+=_e}}return Fr(Fr(Fr({},T),{},{x:D,y:U,width:W,height:re,value:u?P:P[1],payload:T,background:le},N&&N[$]&&N[$].props),{},{tooltipPayload:[h9(n,T)],tooltipPosition:{x:D+W/2,y:U+re/2}})});return Fr({data:C,layout:y},d)});function Zg(t){"@babel/helpers - typeof";return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zg(t)}function CNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F9(r.key),r)}}function NNe(t,e,n){return e&&HM(t.prototype,e),n&&HM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function GM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GM(Object(n),!0).forEach(function(r){h2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h2(t,e,n){return e=F9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F9(t){var e=kNe(t,"string");return Zg(e)=="symbol"?e:e+""}function kNe(t,e){if(Zg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RNe=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},d=!!qo(u,Kf);return c.reduce(function(h,y){var b=n[y],w=b.orientation,_=b.domain,S=b.padding,E=S===void 0?{}:S,k=b.mirror,R=b.reversed,F="".concat(w).concat(k?"Mirror":""),N,C,T,$,P;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var D=_[1]-_[0],U=1/0,W=b.categoricalDomain.sort(Mhe);if(W.forEach(function(te,ce){ce>0&&(U=Math.min((te||0)-(W[ce-1]||0),U))}),Number.isFinite(U)){var re=U/D,le=b.layout==="vertical"?r.height:r.width;if(b.padding==="gap"&&(N=re*le/2),b.padding==="no-gap"){var ue=Pf(e.barCategoryGap,re*le),Q=re*le/2;N=Q-ue-(Q-ue)/le*ue}}}i==="xAxis"?C=[r.left+(E.left||0)+(N||0),r.left+r.width-(E.right||0)-(N||0)]:i==="yAxis"?C=l==="horizontal"?[r.top+r.height-(E.bottom||0),r.top+(E.top||0)]:[r.top+(E.top||0)+(N||0),r.top+r.height-(E.bottom||0)-(N||0)]:C=b.range,R&&(C=[C[1],C[0]]);var ae=Q5e(b,o,d),ye=ae.scale,ge=ae.realScaleType;ye.domain(_).range(C),Z5e(ye);var B=aAe(ye,Gs(Gs({},b),{},{realScaleType:ge}));i==="xAxis"?(P=w==="top"&&!k||w==="bottom"&&k,T=r.left,$=f[F]-P*b.height):i==="yAxis"&&(P=w==="left"&&!k||w==="right"&&k,T=f[F]-P*b.width,$=r.top);var G=Gs(Gs(Gs({},b),B),{},{realScaleType:ge,x:T,y:$,scale:ye,width:i==="xAxis"?r.width:b.width,height:i==="yAxis"?r.height:b.height});return G.bandSize=sw(G,B),!b.hide&&i==="xAxis"?f[F]+=(P?-1:1)*G.height:b.hide||(f[F]+=(P?-1:1)*G.width),Gs(Gs({},h),{},h2({},y,G))},{})},U9=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},ONe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return U9({x:n,y:r},{x:i,y:o})},$9=function(){function t(e){CNe(this,t),this.scale=e}return NNe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();h2($9,"EPS",1e-4);var oP=function(e){var n=Object.keys(e).reduce(function(r,i){return Gs(Gs({},r),{},h2({},i,$9.create(e[i])))},{});return Gs(Gs({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return QCe(i,function(l,u){return n[u].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return O9(i,function(o,s){return n[s].isInRange(o)})}})};function MNe(t){return(t%180+180)%180}var LNe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=MNe(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},DNe=_c,FNe=Cv,UNe=X_;function $Ne(t){return function(e,n,r){var i=Object(e);if(!FNe(e)){var o=DNe(n);e=UNe(e),n=function(a){return o(i[a],a,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:void 0}}var jNe=$Ne,BNe=C9;function VNe(t){var e=BNe(t),n=e%1;return e===e?n?e-n:e:0}var qNe=VNe,zNe=Gj,HNe=_c,GNe=qNe,WNe=Math.max;function KNe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:GNe(n);return i<0&&(i=WNe(r+i,0)),zNe(t,HNe(e),i)}var YNe=KNe,JNe=jNe,XNe=YNe,QNe=JNe(XNe),ZNe=QNe;const eke=Fn(ZNe);var tke=Fde(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),sP=fe.createContext(void 0),aP=fe.createContext(void 0),j9=fe.createContext(void 0),B9=fe.createContext({}),V9=fe.createContext(void 0),q9=fe.createContext(0),z9=fe.createContext(0),WM=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,a=e.children,l=e.width,u=e.height,c=tke(o);return Se.createElement(sP.Provider,{value:r},Se.createElement(aP.Provider,{value:i},Se.createElement(B9.Provider,{value:o},Se.createElement(j9.Provider,{value:c},Se.createElement(V9.Provider,{value:s},Se.createElement(q9.Provider,{value:u},Se.createElement(z9.Provider,{value:l},a)))))))},nke=function(){return fe.useContext(V9)},H9=function(e){var n=fe.useContext(sP);n==null&&Nf();var r=n[e];return r==null&&Nf(),r},rke=function(){var e=fe.useContext(sP);return $u(e)},ike=function(){var e=fe.useContext(aP),n=eke(e,function(r){return O9(r.domain,Number.isFinite)});return n||$u(e)},G9=function(e){var n=fe.useContext(aP);n==null&&Nf();var r=n[e];return r==null&&Nf(),r},oke=function(){var e=fe.useContext(j9);return e},ske=function(){return fe.useContext(B9)},lP=function(){return fe.useContext(z9)},uP=function(){return fe.useContext(q9)};function Bh(t){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(t)}function ake(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K9(r.key),r)}}function uke(t,e,n){return e&&lke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cke(t,e,n){return e=bw(e),fke(t,W9()?Reflect.construct(e,n||[],bw(t).constructor):e.apply(t,n))}function fke(t,e){if(e&&(Bh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dke(t)}function dke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W9=function(){return!!t})()}function bw(t){return bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bw(t)}function hke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T5(t,e)}function T5(t,e){return T5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},T5(t,e)}function KM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KM(Object(n),!0).forEach(function(r){cP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cP(t,e,n){return e=K9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K9(t){var e=pke(t,"string");return Bh(e)=="symbol"?e:e+""}function pke(t,e){if(Bh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function mke(t,e){return wke(t)||yke(t,e)||vke(t,e)||gke()}function gke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vke(t,e){if(t){if(typeof t=="string")return JM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JM(t,e)}}function JM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yke(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function wke(t){if(Array.isArray(t))return t}function I5(){return I5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I5.apply(this,arguments)}var _ke=function(e,n){var r;return Se.isValidElement(e)?r=Se.cloneElement(e,n):Ht(e)?r=e(n):r=Se.createElement("line",I5({},n,{className:"recharts-reference-line-line"})),r},bke=function(e,n,r,i,o,s,a,l,u){var c=o.x,f=o.y,d=o.width,h=o.height;if(r){var y=u.y,b=e.y.apply(y,{position:s});if(Ha(u,"discard")&&!e.y.isInRange(b))return null;var w=[{x:c+d,y:b},{x:c,y:b}];return l==="left"?w.reverse():w}if(n){var _=u.x,S=e.x.apply(_,{position:s});if(Ha(u,"discard")&&!e.x.isInRange(S))return null;var E=[{x:S,y:f+h},{x:S,y:f}];return a==="top"?E.reverse():E}if(i){var k=u.segment,R=k.map(function(F){return e.apply(F,{position:s})});return Ha(u,"discard")&&zCe(R,function(F){return!e.isInRange(F)})?null:R}return null};function xke(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,l=t.alwaysShow,u=nke(),c=H9(i),f=G9(o),d=oke();if(!u||!d)return null;Dl(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=oP({x:c.scale,y:f.scale}),y=Zr(e),b=Zr(n),w=r&&r.length===2,_=bke(h,y,b,w,d,t.position,c.orientation,f.orientation,t);if(!_)return null;var S=mke(_,2),E=S[0],k=E.x,R=E.y,F=S[1],N=F.x,C=F.y,T=Ha(t,"hidden")?"url(#".concat(u,")"):void 0,$=YM(YM({clipPath:T},hn(t,!0)),{},{x1:k,y1:R,x2:N,y2:C});return Se.createElement(ci,{className:pn("recharts-reference-line",a)},_ke(s,$),zi.renderCallByParent(t,ONe({x1:k,y1:R,x2:N,y2:C})))}var fP=function(t){function e(){return ake(this,e),cke(this,e,arguments)}return hke(e,t),uke(e,[{key:"render",value:function(){return Se.createElement(xke,this.props)}}])}(Se.Component);cP(fP,"displayName","ReferenceLine");cP(fP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function P5(){return P5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P5.apply(this,arguments)}function Vh(t){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vh(t)}function XM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XM(Object(n),!0).forEach(function(r){p2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ske(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,J9(r.key),r)}}function Ake(t,e,n){return e&&Eke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tke(t,e,n){return e=xw(e),Ike(t,Y9()?Reflect.construct(e,n||[],xw(t).constructor):e.apply(t,n))}function Ike(t,e){if(e&&(Vh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pke(t)}function Pke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y9=function(){return!!t})()}function xw(t){return xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xw(t)}function Cke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C5(t,e)}function C5(t,e){return C5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},C5(t,e)}function p2(t,e,n){return e=J9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J9(t){var e=Nke(t,"string");return Vh(e)=="symbol"?e:e+""}function Nke(t,e){if(Vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kke=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=oP({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return Ha(e,"discard")&&!s.isInRange(a)?null:a},m2=function(t){function e(){return Ske(this,e),Tke(this,e,arguments)}return Cke(e,t),Ake(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,a=r.alwaysShow,l=r.clipPathId,u=Zr(i),c=Zr(o);if(Dl(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=kke(this.props);if(!f)return null;var d=f.x,h=f.y,y=this.props,b=y.shape,w=y.className,_=Ha(this.props,"hidden")?"url(#".concat(l,")"):void 0,S=QM(QM({clipPath:_},hn(this.props,!0)),{},{cx:d,cy:h});return Se.createElement(ci,{className:pn("recharts-reference-dot",w)},e.renderDot(b,S),zi.renderCallByParent(this.props,{x:d-s,y:h-s,width:2*s,height:2*s}))}}])}(Se.Component);p2(m2,"displayName","ReferenceDot");p2(m2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});p2(m2,"renderDot",function(t,e){var n;return Se.isValidElement(t)?n=Se.cloneElement(t,e):Ht(t)?n=t(e):n=Se.createElement(I9,P5({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function N5(){return N5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N5.apply(this,arguments)}function qh(t){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qh(t)}function ZM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZM(Object(n),!0).forEach(function(r){g2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Q9(r.key),r)}}function Mke(t,e,n){return e&&Oke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lke(t,e,n){return e=Sw(e),Dke(t,X9()?Reflect.construct(e,n||[],Sw(t).constructor):e.apply(t,n))}function Dke(t,e){if(e&&(qh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fke(t)}function Fke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X9=function(){return!!t})()}function Sw(t){return Sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sw(t)}function Uke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k5(t,e)}function k5(t,e){return k5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},k5(t,e)}function g2(t,e,n){return e=Q9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q9(t){var e=$ke(t,"string");return qh(e)=="symbol"?e:e+""}function $ke(t,e){if(qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jke=function(e,n,r,i,o){var s=o.x1,a=o.x2,l=o.y1,u=o.y2,c=o.xAxis,f=o.yAxis;if(!c||!f)return null;var d=oP({x:c.scale,y:f.scale}),h={x:e?d.x.apply(s,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(l,{position:"start"}):d.y.rangeMin},y={x:n?d.x.apply(a,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(u,{position:"end"}):d.y.rangeMax};return Ha(o,"discard")&&(!d.isInRange(h)||!d.isInRange(y))?null:U9(h,y)},v2=function(t){function e(){return Rke(this,e),Lke(this,e,arguments)}return Uke(e,t),Mke(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,a=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Dl(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Zr(i),d=Zr(o),h=Zr(s),y=Zr(a),b=this.props.shape;if(!f&&!d&&!h&&!y&&!b)return null;var w=jke(f,d,h,y,this.props);if(!w&&!b)return null;var _=Ha(this.props,"hidden")?"url(#".concat(c,")"):void 0;return Se.createElement(ci,{className:pn("recharts-reference-area",l)},e.renderRect(b,eL(eL({clipPath:_},hn(this.props,!0)),w)),zi.renderCallByParent(this.props,w))}}])}(Se.Component);g2(v2,"displayName","ReferenceArea");g2(v2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});g2(v2,"renderRect",function(t,e){var n;return Se.isValidElement(t)?n=Se.cloneElement(t,e):Ht(t)?n=t(e):n=Se.createElement(iP,N5({},e,{className:"recharts-reference-area-rect"})),n});function Z9(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Bke(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return LNe(r,n)}function Vke(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function Ew(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function qke(t,e){return Z9(t,e+1)}function zke(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,a=e.end,l=0,u=1,c=s,f=function(){var y=r==null?void 0:r[l];if(y===void 0)return{v:Z9(r,u)};var b=l,w,_=function(){return w===void 0&&(w=n(y,b)),w},S=y.coordinate,E=l===0||Ew(t,S,_,c,a);E||(l=0,c=s,u+=1),E&&(c=S+t*(_()/2+i),l+=u)},d;u<=o.length;)if(d=f(),d)return d.v;return[]}function ev(t){"@babel/helpers - typeof";return ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ev(t)}function tL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ji(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tL(Object(n),!0).forEach(function(r){Hke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hke(t,e,n){return e=Gke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gke(t){var e=Wke(t,"string");return ev(e)=="symbol"?e:e+""}function Wke(t,e){if(ev(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ev(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kke(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=e.start,l=e.end,u=function(d){var h=o[d],y,b=function(){return y===void 0&&(y=n(h,d)),y};if(d===s-1){var w=t*(h.coordinate+t*b()/2-l);o[d]=h=ji(ji({},h),{},{tickCoord:w>0?h.coordinate-w*t:h.coordinate})}else o[d]=h=ji(ji({},h),{},{tickCoord:h.coordinate});var _=Ew(t,h.tickCoord,b,a,l);_&&(l=h.tickCoord-t*(b()/2+i),o[d]=ji(ji({},h),{},{isShow:!0}))},c=s-1;c>=0;c--)u(c);return o}function Yke(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,l=e.start,u=e.end;if(o){var c=r[a-1],f=n(c,a-1),d=t*(c.coordinate+t*f/2-u);s[a-1]=c=ji(ji({},c),{},{tickCoord:d>0?c.coordinate-d*t:c.coordinate});var h=Ew(t,c.tickCoord,function(){return f},l,u);h&&(u=c.tickCoord-t*(f/2+i),s[a-1]=ji(ji({},c),{},{isShow:!0}))}for(var y=o?a-1:a,b=function(S){var E=s[S],k,R=function(){return k===void 0&&(k=n(E,S)),k};if(S===0){var F=t*(E.coordinate-t*R()/2-l);s[S]=E=ji(ji({},E),{},{tickCoord:F<0?E.coordinate-F*t:E.coordinate})}else s[S]=E=ji(ji({},E),{},{tickCoord:E.coordinate});var N=Ew(t,E.tickCoord,R,l,u);N&&(l=E.tickCoord+t*(R()/2+i),s[S]=ji(ji({},E),{},{isShow:!0}))},w=0;w<y;w++)b(w);return s}function dP(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(He(l)||Nv.isSsr)return qke(i,typeof l=="number"&&He(l)?l:0);var d=[],h=a==="top"||a==="bottom"?"width":"height",y=c&&h==="width"?Vm(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},b=function(E,k){var R=Ht(u)?u(E.value,k):E.value;return h==="width"?Bke(Vm(R,{fontSize:e,letterSpacing:n}),y,f):Vm(R,{fontSize:e,letterSpacing:n})[h]},w=i.length>=2?Js(i[1].coordinate-i[0].coordinate):1,_=Vke(o,w,h);return l==="equidistantPreserveStart"?zke(w,_,b,i,s):(l==="preserveStart"||l==="preserveStartEnd"?d=Yke(w,_,b,i,s,l==="preserveStartEnd"):d=Kke(w,_,b,i,s),d.filter(function(S){return S.isShow}))}var Jke=["viewBox"],Xke=["viewBox"],Qke=["ticks"];function zh(t){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zh(t)}function Vd(){return Vd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vd.apply(this,arguments)}function nL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nL(Object(n),!0).forEach(function(r){hP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rx(t,e){if(t==null)return{};var n=Zke(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zke(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function eRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tV(r.key),r)}}function tRe(t,e,n){return e&&rL(t.prototype,e),n&&rL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function nRe(t,e,n){return e=Aw(e),rRe(t,eV()?Reflect.construct(e,n||[],Aw(t).constructor):e.apply(t,n))}function rRe(t,e){if(e&&(zh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iRe(t)}function iRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eV=function(){return!!t})()}function Aw(t){return Aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Aw(t)}function oRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R5(t,e)}function R5(t,e){return R5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},R5(t,e)}function hP(t,e,n){return e=tV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tV(t){var e=sRe(t,"string");return zh(e)=="symbol"?e:e+""}function sRe(t,e){if(zh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vp=function(t){function e(n){var r;return eRe(this,e),r=nRe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return oRe(e,t),tRe(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=rx(r,Jke),a=this.props,l=a.viewBox,u=rx(a,Xke);return!ih(o,l)||!ih(s,u)||!ih(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,d=i.tickMargin,h,y,b,w,_,S,E=f?-1:1,k=r.tickSize||c,R=He(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":h=y=r.coordinate,w=s+ +!f*l,b=w-E*k,S=b-E*d,_=R;break;case"left":b=w=r.coordinate,y=o+ +!f*a,h=y-E*k,_=h-E*d,S=R;break;case"right":b=w=r.coordinate,y=o+ +f*a,h=y+E*k,_=h+E*d,S=R;break;default:h=y=r.coordinate,w=s+ +f*l,b=w+E*k,S=b+E*d,_=R;break}return{line:{x1:h,y1:b,x2:y,y2:w},tick:{x:_,y:S}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=Yr(Yr(Yr({},hn(this.props,!1)),hn(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!u||l==="bottom"&&u);f=Yr(Yr({},f),{},{x1:i,y1:o+d*a,x2:i+s,y2:o+d*a})}else{var h=+(l==="left"&&!u||l==="right"&&u);f=Yr(Yr({},f),{},{x1:i+h*s,y1:o,x2:i+h*s,y2:o+a})}return Se.createElement("line",Vd({},f,{className:pn("recharts-cartesian-axis-line",As(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,a=this.props,l=a.tickLine,u=a.stroke,c=a.tick,f=a.tickFormatter,d=a.unit,h=dP(Yr(Yr({},this.props),{},{ticks:r}),i,o),y=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),w=hn(this.props,!1),_=hn(c,!1),S=Yr(Yr({},w),{},{fill:"none"},hn(l,!1)),E=h.map(function(k,R){var F=s.getTickLineCoord(k),N=F.line,C=F.tick,T=Yr(Yr(Yr(Yr({textAnchor:y,verticalAnchor:b},w),{},{stroke:"none",fill:u},_),C),{},{index:R,payload:k,visibleTicksCount:h.length,tickFormatter:f});return Se.createElement(ci,Vd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},R1(s.props,k,R)),l&&Se.createElement("line",Vd({},S,N,{className:pn("recharts-cartesian-axis-tick-line",As(l,"className"))})),c&&e.renderTickItem(c,T,"".concat(Ht(f)?f(k.value,R):k.value).concat(d||"")))});return Se.createElement("g",{className:"recharts-cartesian-axis-ticks"},E)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,d=f.ticks,h=rx(f,Qke),y=d;return Ht(l)&&(y=d&&d.length>0?l(this.props):l(h)),s<=0||a<=0||!y||!y.length?null:Se.createElement(ci,{className:pn("recharts-cartesian-axis",u),ref:function(w){r.layerReference=w}},o&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),zi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,a=pn(i.className,"recharts-cartesian-axis-tick-value");return Se.isValidElement(r)?s=Se.cloneElement(r,Yr(Yr({},i),{},{className:a})):Ht(r)?s=r(Yr(Yr({},i),{},{className:a})):s=Se.createElement(G1,Vd({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}(fe.Component);hP(vp,"displayName","CartesianAxis");hP(vp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var aRe=["x1","y1","x2","y2","key"],lRe=["offset"];function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function iL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iL(Object(n),!0).forEach(function(r){uRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uRe(t,e,n){return e=cRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cRe(t){var e=fRe(t,"string");return kf(e)=="symbol"?e:e+""}function fRe(t,e){if(kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function of(){return of=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},of.apply(this,arguments)}function oL(t,e){if(t==null)return{};var n=dRe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dRe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var hRe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,s=e.width,a=e.height,l=e.ry;return Se.createElement("rect",{x:i,y:o,ry:l,width:s,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function nV(t,e){var n;if(Se.isValidElement(t))n=Se.cloneElement(t,e);else if(Ht(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,s=e.y2,a=e.key,l=oL(e,aRe),u=hn(l,!1);u.offset;var c=oL(u,lRe);n=Se.createElement("line",of({},c,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:a}))}return n}function pRe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=Hi(Hi({},t),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(l),index:l});return nV(i,u)});return Se.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function mRe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=Hi(Hi({},t),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(l),index:l});return nV(i,u)});return Se.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function gRe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,s=t.height,a=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=a.map(function(d){return Math.round(d+i-i)}).sort(function(d,h){return d-h});i!==c[0]&&c.unshift(0);var f=c.map(function(d,h){var y=!c[h+1],b=y?i+s-d:c[h+1]-d;if(b<=0)return null;var w=h%e.length;return Se.createElement("rect",{key:"react-".concat(h),y:d,x:r,height:b,width:o,stroke:"none",fill:e[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return Se.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function vRe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,s=t.y,a=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(d){return Math.round(d+o-o)}).sort(function(d,h){return d-h});o!==c[0]&&c.unshift(0);var f=c.map(function(d,h){var y=!c[h+1],b=y?o+a-d:c[h+1]-d;if(b<=0)return null;var w=h%r.length;return Se.createElement("rect",{key:"react-".concat(h),x:d,y:s,width:b,height:l,stroke:"none",fill:r[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return Se.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var yRe=function(e,n){var r=e.xAxis,i=e.width,o=e.height,s=e.offset;return f9(dP(Hi(Hi(Hi({},vp.defaultProps),r),{},{ticks:kl(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,n)},wRe=function(e,n){var r=e.yAxis,i=e.width,o=e.height,s=e.offset;return f9(dP(Hi(Hi(Hi({},vp.defaultProps),r),{},{ticks:kl(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,n)},pd={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function rV(t){var e,n,r,i,o,s,a=lP(),l=uP(),u=ske(),c=Hi(Hi({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:pd.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:pd.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:pd.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:pd.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:pd.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:pd.verticalFill,x:He(t.x)?t.x:u.left,y:He(t.y)?t.y:u.top,width:He(t.width)?t.width:u.width,height:He(t.height)?t.height:u.height}),f=c.x,d=c.y,h=c.width,y=c.height,b=c.syncWithTicks,w=c.horizontalValues,_=c.verticalValues,S=rke(),E=ike();if(!He(h)||h<=0||!He(y)||y<=0||!He(f)||f!==+f||!He(d)||d!==+d)return null;var k=c.verticalCoordinatesGenerator||yRe,R=c.horizontalCoordinatesGenerator||wRe,F=c.horizontalPoints,N=c.verticalPoints;if((!F||!F.length)&&Ht(R)){var C=w&&w.length,T=R({yAxis:E?Hi(Hi({},E),{},{ticks:C?w:E.ticks}):void 0,width:a,height:l,offset:u},C?!0:b);Dl(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(kf(T),"]")),Array.isArray(T)&&(F=T)}if((!N||!N.length)&&Ht(k)){var $=_&&_.length,P=k({xAxis:S?Hi(Hi({},S),{},{ticks:$?_:S.ticks}):void 0,width:a,height:l,offset:u},$?!0:b);Dl(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(kf(P),"]")),Array.isArray(P)&&(N=P)}return Se.createElement("g",{className:"recharts-cartesian-grid"},Se.createElement(hRe,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),Se.createElement(pRe,of({},c,{offset:u,horizontalPoints:F,xAxis:S,yAxis:E})),Se.createElement(mRe,of({},c,{offset:u,verticalPoints:N,xAxis:S,yAxis:E})),Se.createElement(gRe,of({},c,{horizontalPoints:F})),Se.createElement(vRe,of({},c,{verticalPoints:N})))}rV.displayName="CartesianGrid";function Hh(t){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hh(t)}function _Re(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bRe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sV(r.key),r)}}function xRe(t,e,n){return e&&bRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SRe(t,e,n){return e=Tw(e),ERe(t,iV()?Reflect.construct(e,n||[],Tw(t).constructor):e.apply(t,n))}function ERe(t,e){if(e&&(Hh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ARe(t)}function ARe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iV=function(){return!!t})()}function Tw(t){return Tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tw(t)}function TRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O5(t,e)}function O5(t,e){return O5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},O5(t,e)}function oV(t,e,n){return e=sV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sV(t){var e=IRe(t,"string");return Hh(e)=="symbol"?e:e+""}function IRe(t,e){if(Hh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function M5(){return M5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M5.apply(this,arguments)}function PRe(t){var e=t.xAxisId,n=lP(),r=uP(),i=H9(e);return i==null?null:fe.createElement(vp,M5({},i,{className:pn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return kl(s,!0)}}))}var y2=function(t){function e(){return _Re(this,e),SRe(this,e,arguments)}return TRe(e,t),xRe(e,[{key:"render",value:function(){return fe.createElement(PRe,this.props)}}])}(fe.Component);oV(y2,"displayName","XAxis");oV(y2,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Gh(t){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gh(t)}function CRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NRe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uV(r.key),r)}}function kRe(t,e,n){return e&&NRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RRe(t,e,n){return e=Iw(e),ORe(t,aV()?Reflect.construct(e,n||[],Iw(t).constructor):e.apply(t,n))}function ORe(t,e){if(e&&(Gh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MRe(t)}function MRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aV=function(){return!!t})()}function Iw(t){return Iw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Iw(t)}function LRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L5(t,e)}function L5(t,e){return L5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},L5(t,e)}function lV(t,e,n){return e=uV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uV(t){var e=DRe(t,"string");return Gh(e)=="symbol"?e:e+""}function DRe(t,e){if(Gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function D5(){return D5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D5.apply(this,arguments)}var FRe=function(e){var n=e.yAxisId,r=lP(),i=uP(),o=G9(n);return o==null?null:fe.createElement(vp,D5({},o,{className:pn("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return kl(a,!0)}}))},w2=function(t){function e(){return CRe(this,e),RRe(this,e,arguments)}return LRe(e,t),kRe(e,[{key:"render",value:function(){return fe.createElement(FRe,this.props)}}])}(fe.Component);lV(w2,"displayName","YAxis");lV(w2,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function sL(t){return BRe(t)||jRe(t)||$Re(t)||URe()}function URe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Re(t,e){if(t){if(typeof t=="string")return F5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F5(t,e)}}function jRe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function BRe(t){if(Array.isArray(t))return F5(t)}function F5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var U5=function(e,n,r,i,o){var s=ta(e,fP),a=ta(e,m2),l=[].concat(sL(s),sL(a)),u=ta(e,v2),c="".concat(i,"Id"),f=i[0],d=n;if(l.length&&(d=l.reduce(function(b,w){if(w.props[c]===r&&Ha(w.props,"extendDomain")&&He(w.props[f])){var _=w.props[f];return[Math.min(b[0],_),Math.max(b[1],_)]}return b},d)),u.length){var h="".concat(f,"1"),y="".concat(f,"2");d=u.reduce(function(b,w){if(w.props[c]===r&&Ha(w.props,"extendDomain")&&He(w.props[h])&&He(w.props[y])){var _=w.props[h],S=w.props[y];return[Math.min(b[0],_,S),Math.max(b[1],_,S)]}return b},d)}return o&&o.length&&(d=o.reduce(function(b,w){return He(w)?[Math.min(b[0],w),Math.max(b[1],w)]:b},d)),d},cV={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var h=new i(c,f||l,d),y=n?n+u:u;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],h]:l._events[y].push(h):(l._events[y]=h,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,h=f.length,y=new Array(h);d<h;d++)y[d]=f[d].fn;return y},a.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,c,f,d,h,y){var b=n?n+u:u;if(!this._events[b])return!1;var w=this._events[b],_=arguments.length,S,E;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),_){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,c),!0;case 3:return w.fn.call(w.context,c,f),!0;case 4:return w.fn.call(w.context,c,f,d),!0;case 5:return w.fn.call(w.context,c,f,d,h),!0;case 6:return w.fn.call(w.context,c,f,d,h,y),!0}for(E=1,S=new Array(_-1);E<_;E++)S[E-1]=arguments[E];w.fn.apply(w.context,S)}else{var k=w.length,R;for(E=0;E<k;E++)switch(w[E].once&&this.removeListener(u,w[E].fn,void 0,!0),_){case 1:w[E].fn.call(w[E].context);break;case 2:w[E].fn.call(w[E].context,c);break;case 3:w[E].fn.call(w[E].context,c,f);break;case 4:w[E].fn.call(w[E].context,c,f,d);break;default:if(!S)for(R=1,S=new Array(_-1);R<_;R++)S[R-1]=arguments[R];w[E].fn.apply(w[E].context,S)}}return!0},a.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},a.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},a.prototype.removeListener=function(u,c,f,d){var h=n?n+u:u;if(!this._events[h])return this;if(!c)return s(this,h),this;var y=this._events[h];if(y.fn)y.fn===c&&(!d||y.once)&&(!f||y.context===f)&&s(this,h);else{for(var b=0,w=[],_=y.length;b<_;b++)(y[b].fn!==c||d&&!y[b].once||f&&y[b].context!==f)&&w.push(y[b]);w.length?this._events[h]=w.length===1?w[0]:w:s(this,h)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(cV);var VRe=cV.exports;const qRe=Fn(VRe);var ix=new qRe,ox="recharts.syncMouseEvents";function tv(t){"@babel/helpers - typeof";return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tv(t)}function zRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HRe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fV(r.key),r)}}function GRe(t,e,n){return e&&HRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sx(t,e,n){return e=fV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fV(t){var e=WRe(t,"string");return tv(e)=="symbol"?e:e+""}function WRe(t,e){if(tv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var KRe=function(){function t(){zRe(this,t),sx(this,"activeIndex",0),sx(this,"coordinateList",[]),sx(this,"layout","horizontal")}return GRe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,d=n.mouseHandlerCallback,h=d===void 0?null:d;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,d=s+this.offset.top+a/2+c;this.mouseHandlerCallback({pageX:f,pageY:d})}}}])}();function YRe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&He(r)&&He(i))return!0}return!1}function JRe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function dV(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=Si(e,n,r,i),a=Si(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function XRe(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,d=Si(a,l,u,f),h=Si(a,l,c,f);r=d.x,i=d.y,o=h.x,s=h.y}else return dV(e);return[{x:r,y:i},{x:o,y:s}]}function nv(t){"@babel/helpers - typeof";return nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nv(t)}function aL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aL(Object(n),!0).forEach(function(r){QRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QRe(t,e,n){return e=ZRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZRe(t){var e=e4e(t,"string");return nv(e)=="symbol"?e:e+""}function e4e(t,e){if(nv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function t4e(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,d=t.chartName,h=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!h||!o||!s||d!=="ScatterChart"&&i!=="axis")return null;var y,b=aM;if(d==="ScatterChart")y=s,b=pPe;else if(d==="BarChart")y=JRe(f,s,l,c),b=iP;else if(f==="radial"){var w=dV(s),_=w.cx,S=w.cy,E=w.radius,k=w.startAngle,R=w.endAngle;y={cx:_,cy:S,startAngle:k,endAngle:R,innerRadius:E,outerRadius:E},b=g9}else y={points:XRe(f,s,l)},b=aM;var F=Wy(Wy(Wy(Wy({stroke:"#ccc",pointerEvents:"none"},l),y),hn(h,!1)),{},{payload:a,payloadIndex:u,className:pn("recharts-tooltip-cursor",h.className)});return fe.isValidElement(h)?fe.cloneElement(h,F):fe.createElement(b,F)}var n4e=["item"],r4e=["children","className","width","height","style","compact","title","desc"];function Wh(t){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wh(t)}function qd(){return qd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qd.apply(this,arguments)}function lL(t,e){return s4e(t)||o4e(t,e)||pV(t,e)||i4e()}function i4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o4e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function s4e(t){if(Array.isArray(t))return t}function uL(t,e){if(t==null)return{};var n=a4e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function a4e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function l4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u4e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mV(r.key),r)}}function c4e(t,e,n){return e&&u4e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function f4e(t,e,n){return e=Pw(e),d4e(t,hV()?Reflect.construct(e,n||[],Pw(t).constructor):e.apply(t,n))}function d4e(t,e){if(e&&(Wh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h4e(t)}function h4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hV=function(){return!!t})()}function Pw(t){return Pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pw(t)}function p4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$5(t,e)}function $5(t,e){return $5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$5(t,e)}function Kh(t){return v4e(t)||g4e(t)||pV(t)||m4e()}function m4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pV(t,e){if(t){if(typeof t=="string")return j5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j5(t,e)}}function g4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function v4e(t){if(Array.isArray(t))return j5(t)}function j5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Re(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cL(Object(n),!0).forEach(function(r){Et(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Et(t,e,n){return e=mV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mV(t){var e=y4e(t,"string");return Wh(e)=="symbol"?e:e+""}function y4e(t,e){if(Wh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var w4e={xAxis:["bottom","top"],yAxis:["left","right"]},_4e={width:"100%",height:"100%"},gV={x:0,y:0};function Ky(t){return t}var b4e=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},x4e=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return Re(Re(Re({},i),Si(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,u=i.angle;return Re(Re(Re({},i),Si(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return gV},_2=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,l){var u=l.props.data;return u&&u.length?[].concat(Kh(a),Kh(u)):a},[]);return s.length>0?s:e&&e.length&&He(i)&&He(o)?e.slice(i,o+1):[]};function vV(t){return t==="number"?[0,"auto"]:void 0}var B5=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,a=_2(n,e);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(s.dataKey&&!s.allowDuplicatedCategory){var h=f===void 0?a:f;d=_E(h,s.dataKey,i)}else d=f&&f[r]||a[r];return d?[].concat(Kh(l),[h9(u,d)]):l},[])},fL=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=b4e(o,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=G5e(s,a,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,d=B5(e,n,c,f),h=x4e(r,a,c,o);return{activeTooltipIndex:c,activeLabel:f,activePayload:d,activeCoordinate:h}}return null},S4e=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,d=e.stackOffset,h=c9(c,o);return r.reduce(function(y,b){var w,_=b.type.defaultProps!==void 0?Re(Re({},b.type.defaultProps),b.props):b.props,S=_.type,E=_.dataKey,k=_.allowDataOverflow,R=_.allowDuplicatedCategory,F=_.scale,N=_.ticks,C=_.includeHidden,T=_[s];if(y[T])return y;var $=_2(e.data,{graphicalItems:i.filter(function(B){var G,te=s in B.props?B.props[s]:(G=B.type.defaultProps)===null||G===void 0?void 0:G[s];return te===T}),dataStartIndex:l,dataEndIndex:u}),P=$.length,D,U,W;YRe(_.domain,k,S)&&(D=a5(_.domain,null,k),h&&(S==="number"||F!=="auto")&&(W=zm($,E,"category")));var re=vV(S);if(!D||D.length===0){var le,ue=(le=_.domain)!==null&&le!==void 0?le:re;if(E){if(D=zm($,E,S),S==="category"&&h){var Q=Ohe(D);R&&Q?(U=D,D=gw(0,P)):R||(D=KO(ue,D,b).reduce(function(B,G){return B.indexOf(G)>=0?B:[].concat(Kh(B),[G])},[]))}else if(S==="category")R?D=D.filter(function(B){return B!==""&&!mn(B)}):D=KO(ue,D,b).reduce(function(B,G){return B.indexOf(G)>=0||G===""||mn(G)?B:[].concat(Kh(B),[G])},[]);else if(S==="number"){var ae=X5e($,i.filter(function(B){var G,te,ce=s in B.props?B.props[s]:(G=B.type.defaultProps)===null||G===void 0?void 0:G[s],pe="hide"in B.props?B.props.hide:(te=B.type.defaultProps)===null||te===void 0?void 0:te.hide;return ce===T&&(C||!pe)}),E,o,c);ae&&(D=ae)}h&&(S==="number"||F!=="auto")&&(W=zm($,E,"category"))}else h?D=gw(0,P):a&&a[T]&&a[T].hasStack&&S==="number"?D=d==="expand"?[0,1]:d9(a[T].stackGroups,l,u):D=u9($,i.filter(function(B){var G=s in B.props?B.props[s]:B.type.defaultProps[s],te="hide"in B.props?B.props.hide:B.type.defaultProps.hide;return G===T&&(C||!te)}),S,c,!0);if(S==="number")D=U5(f,D,T,o,N),ue&&(D=a5(ue,D,k));else if(S==="category"&&ue){var ye=ue,ge=D.every(function(B){return ye.indexOf(B)>=0});ge&&(D=ye)}}return Re(Re({},y),{},Et({},T,Re(Re({},_),{},{axisType:o,domain:D,categoricalDomain:W,duplicateDomain:U,originalDomain:(w=_.domain)!==null&&w!==void 0?w:re,isCategorical:h,layout:c})))},{})},E4e=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,d=_2(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),h=d.length,y=c9(c,o),b=-1;return r.reduce(function(w,_){var S=_.type.defaultProps!==void 0?Re(Re({},_.type.defaultProps),_.props):_.props,E=S[s],k=vV("number");if(!w[E]){b++;var R;return y?R=gw(0,h):a&&a[E]&&a[E].hasStack?(R=d9(a[E].stackGroups,l,u),R=U5(f,R,E,o)):(R=a5(k,u9(d,r.filter(function(F){var N,C,T=s in F.props?F.props[s]:(N=F.type.defaultProps)===null||N===void 0?void 0:N[s],$="hide"in F.props?F.props.hide:(C=F.type.defaultProps)===null||C===void 0?void 0:C.hide;return T===E&&!$}),"number",c),i.defaultProps.allowDataOverflow),R=U5(f,R,E,o)),Re(Re({},w),{},Et({},E,Re(Re({axisType:o},i.defaultProps),{},{hide:!0,orientation:As(w4e,"".concat(o,".").concat(b%2),null),domain:R,originalDomain:k,isCategorical:y,layout:c})))}return w},{})},A4e=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),d=ta(c,o),h={};return d&&d.length?h=S4e(e,{axes:d,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(h=E4e(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u})),h},T4e=function(e){var n=$u(e),r=kl(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:NI(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:sw(n,r)}},dL=function(e){var n=e.children,r=e.defaultShowTooltip,i=qo(n,$h),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},I4e=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ll(n&&n.type);return r&&r.indexOf("Bar")>=0})},hL=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},P4e=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,u=r.width,c=r.height,f=r.children,d=r.margin||{},h=qo(f,$h),y=qo(f,oh),b=Object.keys(l).reduce(function(R,F){var N=l[F],C=N.orientation;return!N.mirror&&!N.hide?Re(Re({},R),{},Et({},C,R[C]+N.width)):R},{left:d.left||0,right:d.right||0}),w=Object.keys(s).reduce(function(R,F){var N=s[F],C=N.orientation;return!N.mirror&&!N.hide?Re(Re({},R),{},Et({},C,As(R,"".concat(C))+N.height)):R},{top:d.top||0,bottom:d.bottom||0}),_=Re(Re({},w),b),S=_.bottom;h&&(_.bottom+=h.props.height||$h.defaultProps.height),y&&n&&(_=Y5e(_,i,r,n));var E=u-_.left-_.right,k=c-_.top-_.bottom;return Re(Re({brushBottom:S},_),{},{width:Math.max(E,0),height:Math.max(k,0)})},C4e=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},N4e=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,d=function(_,S){var E=S.graphicalItems,k=S.stackGroups,R=S.offset,F=S.updateId,N=S.dataStartIndex,C=S.dataEndIndex,T=_.barSize,$=_.layout,P=_.barGap,D=_.barCategoryGap,U=_.maxBarSize,W=hL($),re=W.numericAxisName,le=W.cateAxisName,ue=I4e(E),Q=[];return E.forEach(function(ae,ye){var ge=_2(_.data,{graphicalItems:[ae],dataStartIndex:N,dataEndIndex:C}),B=ae.type.defaultProps!==void 0?Re(Re({},ae.type.defaultProps),ae.props):ae.props,G=B.dataKey,te=B.maxBarSize,ce=B["".concat(re,"Id")],pe=B["".concat(le,"Id")],_e={},Te=l.reduce(function(We,it){var ot=S["".concat(it.axisType,"Map")],Gt=B["".concat(it.axisType,"Id")];ot&&ot[Gt]||it.axisType==="zAxis"||Nf();var Ft=ot[Gt];return Re(Re({},We),{},Et(Et({},it.axisType,Ft),"".concat(it.axisType,"Ticks"),kl(Ft)))},_e),ee=Te[le],me=Te["".concat(le,"Ticks")],ne=k&&k[ce]&&k[ce].hasStack&&uAe(ae,k[ce].stackGroups),de=Ll(ae.type).indexOf("Bar")>=0,Ce=sw(ee,me),ke=[],Y=ue&&W5e({barSize:T,stackGroups:k,totalSize:C4e(Te,le)});if(de){var Ue,et,Ye=mn(te)?U:te,Le=(Ue=(et=sw(ee,me,!0))!==null&&et!==void 0?et:Ye)!==null&&Ue!==void 0?Ue:0;ke=K5e({barGap:P,barCategoryGap:D,bandSize:Le!==Ce?Le:Ce,sizeList:Y[pe],maxBarSize:Ye}),Le!==Ce&&(ke=ke.map(function(We){return Re(Re({},We),{},{position:Re(Re({},We.position),{},{offset:We.position.offset-Le/2})})}))}var nt=ae&&ae.type&&ae.type.getComposedData;nt&&Q.push({props:Re(Re({},nt(Re(Re({},Te),{},{displayedData:ge,props:_,dataKey:G,item:ae,bandSize:Ce,barPosition:ke,offset:R,stackedData:ne,layout:$,dataStartIndex:N,dataEndIndex:C}))),{},Et(Et(Et({key:ae.key||"item-".concat(ye)},re,Te[re]),le,Te[le]),"animationId",F)),childIndex:Hhe(ae,_.children),item:ae})}),Q},h=function(_,S){var E=_.props,k=_.dataStartIndex,R=_.dataEndIndex,F=_.updateId;if(!V4({props:E}))return null;var N=E.children,C=E.layout,T=E.stackOffset,$=E.data,P=E.reverseStackOrder,D=hL(C),U=D.numericAxisName,W=D.cateAxisName,re=ta(N,r),le=sAe($,re,"".concat(U,"Id"),"".concat(W,"Id"),T,P),ue=l.reduce(function(B,G){var te="".concat(G.axisType,"Map");return Re(Re({},B),{},Et({},te,A4e(E,Re(Re({},G),{},{graphicalItems:re,stackGroups:G.axisType===U&&le,dataStartIndex:k,dataEndIndex:R}))))},{}),Q=P4e(Re(Re({},ue),{},{props:E,graphicalItems:re}),S==null?void 0:S.legendBBox);Object.keys(ue).forEach(function(B){ue[B]=c(E,ue[B],Q,B.replace("Map",""),n)});var ae=ue["".concat(W,"Map")],ye=T4e(ae),ge=d(E,Re(Re({},ue),{},{dataStartIndex:k,dataEndIndex:R,updateId:F,graphicalItems:re,stackGroups:le,offset:Q}));return Re(Re({formattedGraphicalItems:ge,graphicalItems:re,offset:Q,stackGroups:le},ye),ue)},y=function(w){function _(S){var E,k,R;return l4e(this,_),R=f4e(this,_,[S]),Et(R,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Et(R,"accessibilityManager",new KRe),Et(R,"handleLegendBBoxUpdate",function(F){if(F){var N=R.state,C=N.dataStartIndex,T=N.dataEndIndex,$=N.updateId;R.setState(Re({legendBBox:F},h({props:R.props,dataStartIndex:C,dataEndIndex:T,updateId:$},Re(Re({},R.state),{},{legendBBox:F}))))}}),Et(R,"handleReceiveSyncEvent",function(F,N,C){if(R.props.syncId===F){if(C===R.eventEmitterSymbol&&typeof R.props.syncMethod!="function")return;R.applySyncEvent(N)}}),Et(R,"handleBrushChange",function(F){var N=F.startIndex,C=F.endIndex;if(N!==R.state.dataStartIndex||C!==R.state.dataEndIndex){var T=R.state.updateId;R.setState(function(){return Re({dataStartIndex:N,dataEndIndex:C},h({props:R.props,dataStartIndex:N,dataEndIndex:C,updateId:T},R.state))}),R.triggerSyncEvent({dataStartIndex:N,dataEndIndex:C})}}),Et(R,"handleMouseEnter",function(F){var N=R.getMouseInfo(F);if(N){var C=Re(Re({},N),{},{isTooltipActive:!0});R.setState(C),R.triggerSyncEvent(C);var T=R.props.onMouseEnter;Ht(T)&&T(C,F)}}),Et(R,"triggeredAfterMouseMove",function(F){var N=R.getMouseInfo(F),C=N?Re(Re({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};R.setState(C),R.triggerSyncEvent(C);var T=R.props.onMouseMove;Ht(T)&&T(C,F)}),Et(R,"handleItemMouseEnter",function(F){R.setState(function(){return{isTooltipActive:!0,activeItem:F,activePayload:F.tooltipPayload,activeCoordinate:F.tooltipPosition||{x:F.cx,y:F.cy}}})}),Et(R,"handleItemMouseLeave",function(){R.setState(function(){return{isTooltipActive:!1}})}),Et(R,"handleMouseMove",function(F){F.persist(),R.throttleTriggeredAfterMouseMove(F)}),Et(R,"handleMouseLeave",function(F){R.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};R.setState(N),R.triggerSyncEvent(N);var C=R.props.onMouseLeave;Ht(C)&&C(N,F)}),Et(R,"handleOuterEvent",function(F){var N=zhe(F),C=As(R.props,"".concat(N));if(N&&Ht(C)){var T,$;/.*touch.*/i.test(N)?$=R.getMouseInfo(F.changedTouches[0]):$=R.getMouseInfo(F),C((T=$)!==null&&T!==void 0?T:{},F)}}),Et(R,"handleClick",function(F){var N=R.getMouseInfo(F);if(N){var C=Re(Re({},N),{},{isTooltipActive:!0});R.setState(C),R.triggerSyncEvent(C);var T=R.props.onClick;Ht(T)&&T(C,F)}}),Et(R,"handleMouseDown",function(F){var N=R.props.onMouseDown;if(Ht(N)){var C=R.getMouseInfo(F);N(C,F)}}),Et(R,"handleMouseUp",function(F){var N=R.props.onMouseUp;if(Ht(N)){var C=R.getMouseInfo(F);N(C,F)}}),Et(R,"handleTouchMove",function(F){F.changedTouches!=null&&F.changedTouches.length>0&&R.throttleTriggeredAfterMouseMove(F.changedTouches[0])}),Et(R,"handleTouchStart",function(F){F.changedTouches!=null&&F.changedTouches.length>0&&R.handleMouseDown(F.changedTouches[0])}),Et(R,"handleTouchEnd",function(F){F.changedTouches!=null&&F.changedTouches.length>0&&R.handleMouseUp(F.changedTouches[0])}),Et(R,"handleDoubleClick",function(F){var N=R.props.onDoubleClick;if(Ht(N)){var C=R.getMouseInfo(F);N(C,F)}}),Et(R,"handleContextMenu",function(F){var N=R.props.onContextMenu;if(Ht(N)){var C=R.getMouseInfo(F);N(C,F)}}),Et(R,"triggerSyncEvent",function(F){R.props.syncId!==void 0&&ix.emit(ox,R.props.syncId,F,R.eventEmitterSymbol)}),Et(R,"applySyncEvent",function(F){var N=R.props,C=N.layout,T=N.syncMethod,$=R.state.updateId,P=F.dataStartIndex,D=F.dataEndIndex;if(F.dataStartIndex!==void 0||F.dataEndIndex!==void 0)R.setState(Re({dataStartIndex:P,dataEndIndex:D},h({props:R.props,dataStartIndex:P,dataEndIndex:D,updateId:$},R.state)));else if(F.activeTooltipIndex!==void 0){var U=F.chartX,W=F.chartY,re=F.activeTooltipIndex,le=R.state,ue=le.offset,Q=le.tooltipTicks;if(!ue)return;if(typeof T=="function")re=T(Q,F);else if(T==="value"){re=-1;for(var ae=0;ae<Q.length;ae++)if(Q[ae].value===F.activeLabel){re=ae;break}}var ye=Re(Re({},ue),{},{x:ue.left,y:ue.top}),ge=Math.min(U,ye.x+ye.width),B=Math.min(W,ye.y+ye.height),G=Q[re]&&Q[re].value,te=B5(R.state,R.props.data,re),ce=Q[re]?{x:C==="horizontal"?Q[re].coordinate:ge,y:C==="horizontal"?B:Q[re].coordinate}:gV;R.setState(Re(Re({},F),{},{activeLabel:G,activeCoordinate:ce,activePayload:te,activeTooltipIndex:re}))}else R.setState(F)}),Et(R,"renderCursor",function(F){var N,C=R.state,T=C.isTooltipActive,$=C.activeCoordinate,P=C.activePayload,D=C.offset,U=C.activeTooltipIndex,W=C.tooltipAxisBandSize,re=R.getTooltipEventType(),le=(N=F.props.active)!==null&&N!==void 0?N:T,ue=R.props.layout,Q=F.key||"_recharts-cursor";return Se.createElement(t4e,{key:Q,activeCoordinate:$,activePayload:P,activeTooltipIndex:U,chartName:n,element:F,isActive:le,layout:ue,offset:D,tooltipAxisBandSize:W,tooltipEventType:re})}),Et(R,"renderPolarAxis",function(F,N,C){var T=As(F,"type.axisType"),$=As(R.state,"".concat(T,"Map")),P=F.type.defaultProps,D=P!==void 0?Re(Re({},P),F.props):F.props,U=$&&$[D["".concat(T,"Id")]];return fe.cloneElement(F,Re(Re({},U),{},{className:pn(T,U.className),key:F.key||"".concat(N,"-").concat(C),ticks:kl(U,!0)}))}),Et(R,"renderPolarGrid",function(F){var N=F.props,C=N.radialLines,T=N.polarAngles,$=N.polarRadius,P=R.state,D=P.radiusAxisMap,U=P.angleAxisMap,W=$u(D),re=$u(U),le=re.cx,ue=re.cy,Q=re.innerRadius,ae=re.outerRadius;return fe.cloneElement(F,{polarAngles:Array.isArray(T)?T:kl(re,!0).map(function(ye){return ye.coordinate}),polarRadius:Array.isArray($)?$:kl(W,!0).map(function(ye){return ye.coordinate}),cx:le,cy:ue,innerRadius:Q,outerRadius:ae,key:F.key||"polar-grid",radialLines:C})}),Et(R,"renderLegend",function(){var F=R.state.formattedGraphicalItems,N=R.props,C=N.children,T=N.width,$=N.height,P=R.props.margin||{},D=T-(P.left||0)-(P.right||0),U=a9({children:C,formattedGraphicalItems:F,legendWidth:D,legendContent:u});if(!U)return null;var W=U.item,re=uL(U,n4e);return fe.cloneElement(W,Re(Re({},re),{},{chartWidth:T,chartHeight:$,margin:P,onBBoxUpdate:R.handleLegendBBoxUpdate}))}),Et(R,"renderTooltip",function(){var F,N=R.props,C=N.children,T=N.accessibilityLayer,$=qo(C,Na);if(!$)return null;var P=R.state,D=P.isTooltipActive,U=P.activeCoordinate,W=P.activePayload,re=P.activeLabel,le=P.offset,ue=(F=$.props.active)!==null&&F!==void 0?F:D;return fe.cloneElement($,{viewBox:Re(Re({},le),{},{x:le.left,y:le.top}),active:ue,label:re,payload:ue?W:[],coordinate:U,accessibilityLayer:T})}),Et(R,"renderBrush",function(F){var N=R.props,C=N.margin,T=N.data,$=R.state,P=$.offset,D=$.dataStartIndex,U=$.dataEndIndex,W=$.updateId;return fe.cloneElement(F,{key:F.key||"_recharts-brush",onChange:qy(R.handleBrushChange,F.props.onChange),data:T,x:He(F.props.x)?F.props.x:P.left,y:He(F.props.y)?F.props.y:P.top+P.height+P.brushBottom-(C.bottom||0),width:He(F.props.width)?F.props.width:P.width,startIndex:D,endIndex:U,updateId:"brush-".concat(W)})}),Et(R,"renderReferenceElement",function(F,N,C){if(!F)return null;var T=R,$=T.clipPathId,P=R.state,D=P.xAxisMap,U=P.yAxisMap,W=P.offset,re=F.type.defaultProps||{},le=F.props,ue=le.xAxisId,Q=ue===void 0?re.xAxisId:ue,ae=le.yAxisId,ye=ae===void 0?re.yAxisId:ae;return fe.cloneElement(F,{key:F.key||"".concat(N,"-").concat(C),xAxis:D[Q],yAxis:U[ye],viewBox:{x:W.left,y:W.top,width:W.width,height:W.height},clipPathId:$})}),Et(R,"renderActivePoints",function(F){var N=F.item,C=F.activePoint,T=F.basePoint,$=F.childIndex,P=F.isRange,D=[],U=N.props.key,W=N.item.type.defaultProps!==void 0?Re(Re({},N.item.type.defaultProps),N.item.props):N.item.props,re=W.activeDot,le=W.dataKey,ue=Re(Re({index:$,dataKey:le,cx:C.x,cy:C.y,r:4,fill:rP(N.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},hn(re,!1)),k1(re));return D.push(_.renderActiveDot(re,ue,"".concat(U,"-activePoint-").concat($))),T?D.push(_.renderActiveDot(re,Re(Re({},ue),{},{cx:T.x,cy:T.y}),"".concat(U,"-basePoint-").concat($))):P&&D.push(null),D}),Et(R,"renderGraphicChild",function(F,N,C){var T=R.filterFormatItem(F,N,C);if(!T)return null;var $=R.getTooltipEventType(),P=R.state,D=P.isTooltipActive,U=P.tooltipAxis,W=P.activeTooltipIndex,re=P.activeLabel,le=R.props.children,ue=qo(le,Na),Q=T.props,ae=Q.points,ye=Q.isRange,ge=Q.baseLine,B=T.item.type.defaultProps!==void 0?Re(Re({},T.item.type.defaultProps),T.item.props):T.item.props,G=B.activeDot,te=B.hide,ce=B.activeBar,pe=B.activeShape,_e=!!(!te&&D&&ue&&(G||ce||pe)),Te={};$!=="axis"&&ue&&ue.props.trigger==="click"?Te={onClick:qy(R.handleItemMouseEnter,F.props.onClick)}:$!=="axis"&&(Te={onMouseLeave:qy(R.handleItemMouseLeave,F.props.onMouseLeave),onMouseEnter:qy(R.handleItemMouseEnter,F.props.onMouseEnter)});var ee=fe.cloneElement(F,Re(Re({},T.props),Te));function me(it){return typeof U.dataKey=="function"?U.dataKey(it.payload):null}if(_e)if(W>=0){var ne,de;if(U.dataKey&&!U.allowDuplicatedCategory){var Ce=typeof U.dataKey=="function"?me:"payload.".concat(U.dataKey.toString());ne=_E(ae,Ce,re),de=ye&&ge&&_E(ge,Ce,re)}else ne=ae==null?void 0:ae[W],de=ye&&ge&&ge[W];if(pe||ce){var ke=F.props.activeIndex!==void 0?F.props.activeIndex:W;return[fe.cloneElement(F,Re(Re(Re({},T.props),Te),{},{activeIndex:ke})),null,null]}if(!mn(ne))return[ee].concat(Kh(R.renderActivePoints({item:T,activePoint:ne,basePoint:de,childIndex:W,isRange:ye})))}else{var Y,Ue=(Y=R.getItemByXY(R.state.activeCoordinate))!==null&&Y!==void 0?Y:{graphicalItem:ee},et=Ue.graphicalItem,Ye=et.item,Le=Ye===void 0?F:Ye,nt=et.childIndex,We=Re(Re(Re({},T.props),Te),{},{activeIndex:nt});return[fe.cloneElement(Le,We),null,null]}return ye?[ee,null,null]:[ee,null]}),Et(R,"renderCustomized",function(F,N,C){return fe.cloneElement(F,Re(Re({key:"recharts-customized-".concat(C)},R.props),R.state))}),Et(R,"renderMap",{CartesianGrid:{handler:Ky,once:!0},ReferenceArea:{handler:R.renderReferenceElement},ReferenceLine:{handler:Ky},ReferenceDot:{handler:R.renderReferenceElement},XAxis:{handler:Ky},YAxis:{handler:Ky},Brush:{handler:R.renderBrush,once:!0},Bar:{handler:R.renderGraphicChild},Line:{handler:R.renderGraphicChild},Area:{handler:R.renderGraphicChild},Radar:{handler:R.renderGraphicChild},RadialBar:{handler:R.renderGraphicChild},Scatter:{handler:R.renderGraphicChild},Pie:{handler:R.renderGraphicChild},Funnel:{handler:R.renderGraphicChild},Tooltip:{handler:R.renderCursor,once:!0},PolarGrid:{handler:R.renderPolarGrid,once:!0},PolarAngleAxis:{handler:R.renderPolarAxis},PolarRadiusAxis:{handler:R.renderPolarAxis},Customized:{handler:R.renderCustomized}}),R.clipPathId="".concat((E=S.id)!==null&&E!==void 0?E:G_("recharts"),"-clip"),R.throttleTriggeredAfterMouseMove=sB(R.triggeredAfterMouseMove,(k=S.throttleDelay)!==null&&k!==void 0?k:1e3/60),R.state={},R}return p4e(_,w),c4e(_,[{key:"componentDidMount",value:function(){var E,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var E=this.props,k=E.children,R=E.data,F=E.height,N=E.layout,C=qo(k,Na);if(C){var T=C.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var $=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,P=B5(this.state,R,T,$),D=this.state.tooltipTicks[T].coordinate,U=(this.state.offset.top+F)/2,W=N==="horizontal",re=W?{x:D,y:U}:{y:D,x:U},le=this.state.formattedGraphicalItems.find(function(Q){var ae=Q.item;return ae.type.name==="Scatter"});le&&(re=Re(Re({},re),le.props.points[T].tooltipPosition),P=le.props.points[T].tooltipPayload);var ue={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:$,activePayload:P,activeCoordinate:re};this.setState(ue),this.renderCursor(C),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(E,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==E.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==E.margin){var R,F;this.accessibilityManager.setDetails({offset:{left:(R=this.props.margin.left)!==null&&R!==void 0?R:0,top:(F=this.props.margin.top)!==null&&F!==void 0?F:0}})}return null}},{key:"componentDidUpdate",value:function(E){xE([qo(E.children,Na)],[qo(this.props.children,Na)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var E=qo(this.props.children,Na);if(E&&typeof E.props.shared=="boolean"){var k=E.props.shared?"axis":"item";return a.indexOf(k)>=0?k:o}return o}},{key:"getMouseInfo",value:function(E){if(!this.container)return null;var k=this.container,R=k.getBoundingClientRect(),F=ybe(R),N={chartX:Math.round(E.pageX-F.left),chartY:Math.round(E.pageY-F.top)},C=R.width/k.offsetWidth||1,T=this.inRange(N.chartX,N.chartY,C);if(!T)return null;var $=this.state,P=$.xAxisMap,D=$.yAxisMap,U=this.getTooltipEventType(),W=fL(this.state,this.props.data,this.props.layout,T);if(U!=="axis"&&P&&D){var re=$u(P).scale,le=$u(D).scale,ue=re&&re.invert?re.invert(N.chartX):null,Q=le&&le.invert?le.invert(N.chartY):null;return Re(Re({},N),{},{xValue:ue,yValue:Q},W)}return W?Re(Re({},N),W):null}},{key:"inRange",value:function(E,k){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,F=this.props.layout,N=E/R,C=k/R;if(F==="horizontal"||F==="vertical"){var T=this.state.offset,$=N>=T.left&&N<=T.left+T.width&&C>=T.top&&C<=T.top+T.height;return $?{x:N,y:C}:null}var P=this.state,D=P.angleAxisMap,U=P.radiusAxisMap;if(D&&U){var W=$u(D);return XO({x:N,y:C},W)}return null}},{key:"parseEventsOfWrapper",value:function(){var E=this.props.children,k=this.getTooltipEventType(),R=qo(E,Na),F={};R&&k==="axis"&&(R.props.trigger==="click"?F={onClick:this.handleClick}:F={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=k1(this.props,this.handleOuterEvent);return Re(Re({},N),F)}},{key:"addListener",value:function(){ix.on(ox,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){ix.removeListener(ox,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(E,k,R){for(var F=this.state.formattedGraphicalItems,N=0,C=F.length;N<C;N++){var T=F[N];if(T.item===E||T.props.key===E.key||k===Ll(T.item.type)&&R===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var E=this.clipPathId,k=this.state.offset,R=k.left,F=k.top,N=k.height,C=k.width;return Se.createElement("defs",null,Se.createElement("clipPath",{id:E},Se.createElement("rect",{x:R,y:F,height:N,width:C})))}},{key:"getXScales",value:function(){var E=this.state.xAxisMap;return E?Object.entries(E).reduce(function(k,R){var F=lL(R,2),N=F[0],C=F[1];return Re(Re({},k),{},Et({},N,C.scale))},{}):null}},{key:"getYScales",value:function(){var E=this.state.yAxisMap;return E?Object.entries(E).reduce(function(k,R){var F=lL(R,2),N=F[0],C=F[1];return Re(Re({},k),{},Et({},N,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(E){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[E])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(E){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[E])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(E){var k=this.state,R=k.formattedGraphicalItems,F=k.activeItem;if(R&&R.length)for(var N=0,C=R.length;N<C;N++){var T=R[N],$=T.props,P=T.item,D=P.type.defaultProps!==void 0?Re(Re({},P.type.defaultProps),P.props):P.props,U=Ll(P.type);if(U==="Bar"){var W=($.data||[]).find(function(Q){return iPe(E,Q)});if(W)return{graphicalItem:T,payload:W}}else if(U==="RadialBar"){var re=($.data||[]).find(function(Q){return XO(E,Q)});if(re)return{graphicalItem:T,payload:re}}else if(f2(T,F)||d2(T,F)||Jg(T,F)){var le=aCe({graphicalItem:T,activeTooltipItem:F,itemData:D.data}),ue=D.activeIndex===void 0?le:D.activeIndex;return{graphicalItem:Re(Re({},T),{},{childIndex:ue}),payload:Jg(T,F)?D.data[le]:T.props.data[le]}}}return null}},{key:"render",value:function(){var E=this;if(!V4(this))return null;var k=this.props,R=k.children,F=k.className,N=k.width,C=k.height,T=k.style,$=k.compact,P=k.title,D=k.desc,U=uL(k,r4e),W=hn(U,!1);if($)return Se.createElement(WM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Se.createElement(EE,qd({},W,{width:N,height:C,title:P,desc:D}),this.renderClipPath(),z4(R,this.renderMap)));if(this.props.accessibilityLayer){var re,le;W.tabIndex=(re=this.props.tabIndex)!==null&&re!==void 0?re:0,W.role=(le=this.props.role)!==null&&le!==void 0?le:"application",W.onKeyDown=function(Q){E.accessibilityManager.keyboardEvent(Q)},W.onFocus=function(){E.accessibilityManager.focus()}}var ue=this.parseEventsOfWrapper();return Se.createElement(WM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Se.createElement("div",qd({className:pn("recharts-wrapper",F),style:Re({position:"relative",cursor:"default",width:N,height:C},T)},ue,{ref:function(ae){E.container=ae}}),Se.createElement(EE,qd({},W,{width:N,height:C,title:P,desc:D,style:_4e}),this.renderClipPath(),z4(R,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(fe.Component);Et(y,"displayName",n),Et(y,"defaultProps",Re({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Et(y,"getDerivedStateFromProps",function(w,_){var S=w.dataKey,E=w.data,k=w.children,R=w.width,F=w.height,N=w.layout,C=w.stackOffset,T=w.margin,$=_.dataStartIndex,P=_.dataEndIndex;if(_.updateId===void 0){var D=dL(w);return Re(Re(Re({},D),{},{updateId:0},h(Re(Re({props:w},D),{},{updateId:0}),_)),{},{prevDataKey:S,prevData:E,prevWidth:R,prevHeight:F,prevLayout:N,prevStackOffset:C,prevMargin:T,prevChildren:k})}if(S!==_.prevDataKey||E!==_.prevData||R!==_.prevWidth||F!==_.prevHeight||N!==_.prevLayout||C!==_.prevStackOffset||!ih(T,_.prevMargin)){var U=dL(w),W={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},re=Re(Re({},fL(_,E,N)),{},{updateId:_.updateId+1}),le=Re(Re(Re({},U),W),re);return Re(Re(Re({},le),h(Re({props:w},le),_)),{},{prevDataKey:S,prevData:E,prevWidth:R,prevHeight:F,prevLayout:N,prevStackOffset:C,prevMargin:T,prevChildren:k})}if(!xE(k,_.prevChildren)){var ue,Q,ae,ye,ge=qo(k,$h),B=ge&&(ue=(Q=ge.props)===null||Q===void 0?void 0:Q.startIndex)!==null&&ue!==void 0?ue:$,G=ge&&(ae=(ye=ge.props)===null||ye===void 0?void 0:ye.endIndex)!==null&&ae!==void 0?ae:P,te=B!==$||G!==P,ce=!mn(E),pe=ce&&!te?_.updateId:_.updateId+1;return Re(Re({updateId:pe},h(Re(Re({props:w},_),{},{updateId:pe,dataStartIndex:B,dataEndIndex:G}),_)),{},{prevChildren:k,dataStartIndex:B,dataEndIndex:G})}return null}),Et(y,"renderActiveDot",function(w,_,S){var E;return fe.isValidElement(w)?E=fe.cloneElement(w,_):Ht(w)?E=w(_):E=Se.createElement(I9,_),Se.createElement(ci,{className:"recharts-active-dot",key:S},E)});var b=fe.forwardRef(function(_,S){return Se.createElement(y,qd({},_,{ref:S}))});return b.displayName=y.displayName,b},k4e=N4e({chartName:"BarChart",GraphicalChild:Kf,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:y2},{axisType:"yAxis",AxisComp:w2}],formatAxisMap:RNe});const R4e="modulepreload",O4e=function(t,e){return new URL(t,e).href},pL={},ax=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=O4e(u,r),u in pL)return;pL[u]=!0;const c=u.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(!!r)for(let y=s.length-1;y>=0;y--){const b=s[y];if(b.href===u&&(!c||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${f}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":R4e,c||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),c)return new Promise((y,b)=>{h.addEventListener("load",y),h.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};function An(t){"@babel/helpers - typeof";return An=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},An(t)}var sa=Uint8Array,Ko=Uint16Array,pP=Int32Array,mP=new sa([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),gP=new sa([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),mL=new sa([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),yV=function(t,e){for(var n=new Ko(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new pP(n[30]),r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return{b:n,r:i}},wV=yV(mP,2),M4e=wV.b,V5=wV.r;M4e[28]=258,V5[258]=28;var L4e=yV(gP,0),gL=L4e.r,q5=new Ko(32768);for(var Jn=0;Jn<32768;++Jn){var Iu=(Jn&43690)>>1|(Jn&21845)<<1;Iu=(Iu&52428)>>2|(Iu&13107)<<2,Iu=(Iu&61680)>>4|(Iu&3855)<<4,q5[Jn]=((Iu&65280)>>8|(Iu&255)<<8)>>1}var Gm=function(t,e,n){for(var r=t.length,i=0,o=new Ko(e);i<r;++i)t[i]&&++o[t[i]-1];var s=new Ko(e);for(i=1;i<e;++i)s[i]=s[i-1]+o[i-1]<<1;var a;if(n){a=new Ko(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],c=e-t[i],f=s[t[i]-1]++<<c,d=f|(1<<c)-1;f<=d;++f)a[q5[f]>>l]=u}else for(a=new Ko(r),i=0;i<r;++i)t[i]&&(a[i]=q5[s[t[i]-1]++]>>15-t[i]);return a},Rf=new sa(288);for(var Jn=0;Jn<144;++Jn)Rf[Jn]=8;for(var Jn=144;Jn<256;++Jn)Rf[Jn]=9;for(var Jn=256;Jn<280;++Jn)Rf[Jn]=7;for(var Jn=280;Jn<288;++Jn)Rf[Jn]=8;var Cw=new sa(32);for(var Jn=0;Jn<32;++Jn)Cw[Jn]=5;var D4e=Gm(Rf,9,0),F4e=Gm(Cw,5,0),_V=function(t){return(t+7)/8|0},U4e=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new sa(t.subarray(e,n))},gl=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},cm=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},lx=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,o=n.slice();if(!i)return{t:xV,l:0};if(i==1){var s=new sa(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(R,F){return R.f-F.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],u=0,c=1,f=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};c!=i-1;)a=n[n[u].f<n[f].f?u++:f++],l=n[u!=c&&n[u].f<n[f].f?u++:f++],n[c++]={s:-1,f:a.f+l.f,l:a,r:l};for(var d=o[0].s,r=1;r<i;++r)o[r].s>d&&(d=o[r].s);var h=new Ko(d+1),y=z5(n[c-1],h,0);if(y>e){var r=0,b=0,w=y-e,_=1<<w;for(o.sort(function(F,N){return h[N.s]-h[F.s]||F.f-N.f});r<i;++r){var S=o[r].s;if(h[S]>e)b+=_-(1<<y-h[S]),h[S]=e;else break}for(b>>=w;b>0;){var E=o[r].s;h[E]<e?b-=1<<e-h[E]++-1:++r}for(;r>=0&&b;--r){var k=o[r].s;h[k]==e&&(--h[k],++b)}y=e}return{t:new sa(h),l:y}},z5=function(t,e,n){return t.s==-1?Math.max(z5(t.l,e,n+1),z5(t.r,e,n+1)):e[t.s]=n},vL=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Ko(++e),r=0,i=t[0],o=1,s=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=t[a]}return{c:n.subarray(0,r),n:e}},fm=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},bV=function(t,e,n){var r=n.length,i=_V(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var o=0;o<r;++o)t[i+o+4]=n[o];return(i+4+r)*8},yL=function(t,e,n,r,i,o,s,a,l,u,c){gl(e,c++,n),++i[256];for(var f=lx(i,15),d=f.t,h=f.l,y=lx(o,15),b=y.t,w=y.l,_=vL(d),S=_.c,E=_.n,k=vL(b),R=k.c,F=k.n,N=new Ko(19),C=0;C<S.length;++C)++N[S[C]&31];for(var C=0;C<R.length;++C)++N[R[C]&31];for(var T=lx(N,7),$=T.t,P=T.l,D=19;D>4&&!$[mL[D-1]];--D);var U=u+5<<3,W=fm(i,Rf)+fm(o,Cw)+s,re=fm(i,d)+fm(o,b)+s+14+3*D+fm(N,$)+2*N[16]+3*N[17]+7*N[18];if(l>=0&&U<=W&&U<=re)return bV(e,c,t.subarray(l,l+u));var le,ue,Q,ae;if(gl(e,c,1+(re<W)),c+=2,re<W){le=Gm(d,h,0),ue=d,Q=Gm(b,w,0),ae=b;var ye=Gm($,P,0);gl(e,c,E-257),gl(e,c+5,F-1),gl(e,c+10,D-4),c+=14;for(var C=0;C<D;++C)gl(e,c+3*C,$[mL[C]]);c+=3*D;for(var ge=[S,R],B=0;B<2;++B)for(var G=ge[B],C=0;C<G.length;++C){var te=G[C]&31;gl(e,c,ye[te]),c+=$[te],te>15&&(gl(e,c,G[C]>>5&127),c+=G[C]>>12)}}else le=D4e,ue=Rf,Q=F4e,ae=Cw;for(var C=0;C<a;++C){var ce=r[C];if(ce>255){var te=ce>>18&31;cm(e,c,le[te+257]),c+=ue[te+257],te>7&&(gl(e,c,ce>>23&31),c+=mP[te]);var pe=ce&31;cm(e,c,Q[pe]),c+=ae[pe],pe>3&&(cm(e,c,ce>>5&8191),c+=gP[pe])}else cm(e,c,le[ce]),c+=ue[ce]}return cm(e,c,le[256]),c+ue[256]},$4e=new pP([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),xV=new sa(0),j4e=function(t,e,n,r,i,o){var s=o.z||t.length,a=new sa(r+s+5*(1+Math.ceil(s/7e3))+i),l=a.subarray(r,a.length-i),u=o.l,c=(o.r||0)&7;if(e){c&&(l[0]=o.r>>3);for(var f=$4e[e-1],d=f>>13,h=f&8191,y=(1<<n)-1,b=o.p||new Ko(32768),w=o.h||new Ko(y+1),_=Math.ceil(n/3),S=2*_,E=function(ke){return(t[ke]^t[ke+1]<<_^t[ke+2]<<S)&y},k=new pP(25e3),R=new Ko(288),F=new Ko(32),N=0,C=0,T=o.i||0,$=0,P=o.w||0,D=0;T+2<s;++T){var U=E(T),W=T&32767,re=w[U];if(b[W]=re,w[U]=W,P<=T){var le=s-T;if((N>7e3||$>24576)&&(le>423||!u)){c=yL(t,l,0,k,R,F,C,$,D,T-D,c),$=N=C=0,D=T;for(var ue=0;ue<286;++ue)R[ue]=0;for(var ue=0;ue<30;++ue)F[ue]=0}var Q=2,ae=0,ye=h,ge=W-re&32767;if(le>2&&U==E(T-ge))for(var B=Math.min(d,le)-1,G=Math.min(32767,T),te=Math.min(258,le);ge<=G&&--ye&&W!=re;){if(t[T+Q]==t[T+Q-ge]){for(var ce=0;ce<te&&t[T+ce]==t[T+ce-ge];++ce);if(ce>Q){if(Q=ce,ae=ge,ce>B)break;for(var pe=Math.min(ge,ce-2),_e=0,ue=0;ue<pe;++ue){var Te=T-ge+ue&32767,ee=b[Te],me=Te-ee&32767;me>_e&&(_e=me,re=Te)}}}W=re,re=b[W],ge+=W-re&32767}if(ae){k[$++]=268435456|V5[Q]<<18|gL[ae];var ne=V5[Q]&31,de=gL[ae]&31;C+=mP[ne]+gP[de],++R[257+ne],++F[de],P=T+Q,++N}else k[$++]=t[T],++R[t[T]]}}for(T=Math.max(T,P);T<s;++T)k[$++]=t[T],++R[t[T]];c=yL(t,l,u,k,R,F,C,$,D,T-D,c),u||(o.r=c&7|l[c/8|0]<<3,c-=7,o.h=w,o.p=b,o.i=T,o.w=P)}else{for(var T=o.w||0;T<s+u;T+=65535){var Ce=T+65535;Ce>=s&&(l[c/8|0]=u,Ce=s),c=bV(l,c+1,t.subarray(T,Ce))}o.i=s}return U4e(a,0,r+_V(c)+i)},SV=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,o=n.length|0,s=0;s!=o;){for(var a=Math.min(s+2655,o);s<a;++s)i+=r+=n[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},B4e=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),s=new sa(o.length+t.length);s.set(o),s.set(t,o.length),t=s,i.w=o.length}return j4e(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},EV=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},V4e=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=SV();i.p(e.dictionary),EV(t,2,i.d())}};function H5(t,e){e||(e={});var n=SV();n.p(t);var r=B4e(t,e,e.dictionary?6:2,4);return V4e(r,e),EV(r,r.length-4,n.d()),r}var q4e=typeof TextDecoder<"u"&&new TextDecoder,z4e=0;try{q4e.decode(xV,{stream:!0}),z4e=1}catch{}function H4e(t){if(Array.isArray(t))return t}function G4e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function wL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function W4e(t,e){if(t){if(typeof t=="string")return wL(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wL(t,e):void 0}}function K4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _L(t,e){return H4e(t)||G4e(t,e)||W4e(t,e)||K4e()}function bL(t,e="utf8"){return new TextDecoder(e).decode(t)}const Y4e=new TextEncoder;function J4e(t){return Y4e.encode(t)}const X4e=1024*8,Q4e=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),ux={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class vP{constructor(e=X4e,n={}){Sn(this,"buffer");Sn(this,"byteLength");Sn(this,"byteOffset");Sn(this,"length");Sn(this,"offset");Sn(this,"lastWrittenByte");Sn(this,"littleEndian");Sn(this,"_data");Sn(this,"_mark");Sn(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,o=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof vP)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=ux[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,o=this.buffer.slice(i,i+r);if(this.littleEndian===Q4e&&n!=="uint8"&&n!=="int8"){const a=new Uint8Array(this.buffer.slice(i,i+r));a.reverse();const l=new ux[n](a.buffer);return this.offset+=r,l.reverse(),l}const s=new ux[n](o);return this.offset+=r,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return bL(this.readBytes(e))}decodeText(e=1,n="utf8"){return bL(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(J4e(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function yp(t){let e=t.length;for(;--e>=0;)t[e]=0}const Z4e=3,e3e=258,AV=29,t3e=256,n3e=t3e+1+AV,TV=30,r3e=512,i3e=new Array((n3e+2)*2);yp(i3e);const o3e=new Array(TV*2);yp(o3e);const s3e=new Array(r3e);yp(s3e);const a3e=new Array(e3e-Z4e+1);yp(a3e);const l3e=new Array(AV);yp(l3e);const u3e=new Array(TV);yp(u3e);const c3e=(t,e,n,r)=>{let i=t&65535|0,o=t>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+e[r++]|0,o=o+i|0;while(--s);i%=65521,o%=65521}return i|o<<16|0};var G5=c3e;const f3e=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},d3e=new Uint32Array(f3e()),h3e=(t,e,n,r)=>{const i=d3e,o=r+n;t^=-1;for(let s=r;s<o;s++)t=t>>>8^i[(t^e[s])&255];return t^-1};var Ia=h3e,W5={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},IV={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const p3e=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var m3e=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)p3e(n,r)&&(t[r]=n[r])}}return t},g3e=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,o=t.length;r<o;r++){let s=t[r];n.set(s,i),i+=s.length}return n},PV={assign:m3e,flattenChunks:g3e};let CV=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{CV=!1}const rv=new Uint8Array(256);for(let t=0;t<256;t++)rv[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;rv[254]=rv[254]=1;var v3e=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,o,s=t.length,a=0;for(i=0;i<s;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),o=0,i=0;o<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|n&63):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|n&63):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|n&63);return e};const y3e=(t,e)=>{if(e<65534&&t.subarray&&CV)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var w3e=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const o=new Array(n*2);for(i=0,r=0;r<n;){let s=t[r++];if(s<128){o[i++]=s;continue}let a=rv[s];if(a>4){o[i++]=65533,r+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&r<n;)s=s<<6|t[r++]&63,a--;if(a>1){o[i++]=65533;continue}s<65536?o[i++]=s:(s-=65536,o[i++]=55296|s>>10&1023,o[i++]=56320|s&1023)}return y3e(o,i)},_3e=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+rv[t[n]]>e?n:e},K5={string2buf:v3e,buf2string:w3e,utf8border:_3e};function b3e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var x3e=b3e;const Yy=16209,S3e=16191;var E3e=function(e,n){let r,i,o,s,a,l,u,c,f,d,h,y,b,w,_,S,E,k,R,F,N,C,T,$;const P=e.state;r=e.next_in,T=e.input,i=r+(e.avail_in-5),o=e.next_out,$=e.output,s=o-(n-e.avail_out),a=o+(e.avail_out-257),l=P.dmax,u=P.wsize,c=P.whave,f=P.wnext,d=P.window,h=P.hold,y=P.bits,b=P.lencode,w=P.distcode,_=(1<<P.lenbits)-1,S=(1<<P.distbits)-1;e:do{y<15&&(h+=T[r++]<<y,y+=8,h+=T[r++]<<y,y+=8),E=b[h&_];t:for(;;){if(k=E>>>24,h>>>=k,y-=k,k=E>>>16&255,k===0)$[o++]=E&65535;else if(k&16){R=E&65535,k&=15,k&&(y<k&&(h+=T[r++]<<y,y+=8),R+=h&(1<<k)-1,h>>>=k,y-=k),y<15&&(h+=T[r++]<<y,y+=8,h+=T[r++]<<y,y+=8),E=w[h&S];n:for(;;){if(k=E>>>24,h>>>=k,y-=k,k=E>>>16&255,k&16){if(F=E&65535,k&=15,y<k&&(h+=T[r++]<<y,y+=8,y<k&&(h+=T[r++]<<y,y+=8)),F+=h&(1<<k)-1,F>l){e.msg="invalid distance too far back",P.mode=Yy;break e}if(h>>>=k,y-=k,k=o-s,F>k){if(k=F-k,k>c&&P.sane){e.msg="invalid distance too far back",P.mode=Yy;break e}if(N=0,C=d,f===0){if(N+=u-k,k<R){R-=k;do $[o++]=d[N++];while(--k);N=o-F,C=$}}else if(f<k){if(N+=u+f-k,k-=f,k<R){R-=k;do $[o++]=d[N++];while(--k);if(N=0,f<R){k=f,R-=k;do $[o++]=d[N++];while(--k);N=o-F,C=$}}}else if(N+=f-k,k<R){R-=k;do $[o++]=d[N++];while(--k);N=o-F,C=$}for(;R>2;)$[o++]=C[N++],$[o++]=C[N++],$[o++]=C[N++],R-=3;R&&($[o++]=C[N++],R>1&&($[o++]=C[N++]))}else{N=o-F;do $[o++]=$[N++],$[o++]=$[N++],$[o++]=$[N++],R-=3;while(R>2);R&&($[o++]=$[N++],R>1&&($[o++]=$[N++]))}}else if(k&64){e.msg="invalid distance code",P.mode=Yy;break e}else{E=w[(E&65535)+(h&(1<<k)-1)];continue n}break}}else if(k&64)if(k&32){P.mode=S3e;break e}else{e.msg="invalid literal/length code",P.mode=Yy;break e}else{E=b[(E&65535)+(h&(1<<k)-1)];continue t}break}}while(r<i&&o<a);R=y>>3,r-=R,y-=R<<3,h&=(1<<y)-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=o<a?257+(a-o):257-(o-a),P.hold=h,P.bits=y};const md=15,xL=852,SL=592,EL=0,cx=1,AL=2,A3e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),T3e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),I3e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),P3e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),C3e=(t,e,n,r,i,o,s,a)=>{const l=a.bits;let u=0,c=0,f=0,d=0,h=0,y=0,b=0,w=0,_=0,S=0,E,k,R,F,N,C=null,T;const $=new Uint16Array(md+1),P=new Uint16Array(md+1);let D=null,U,W,re;for(u=0;u<=md;u++)$[u]=0;for(c=0;c<r;c++)$[e[n+c]]++;for(h=l,d=md;d>=1&&$[d]===0;d--);if(h>d&&(h=d),d===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,a.bits=1,0;for(f=1;f<d&&$[f]===0;f++);for(h<f&&(h=f),w=1,u=1;u<=md;u++)if(w<<=1,w-=$[u],w<0)return-1;if(w>0&&(t===EL||d!==1))return-1;for(P[1]=0,u=1;u<md;u++)P[u+1]=P[u]+$[u];for(c=0;c<r;c++)e[n+c]!==0&&(s[P[e[n+c]]++]=c);if(t===EL?(C=D=s,T=20):t===cx?(C=A3e,D=T3e,T=257):(C=I3e,D=P3e,T=0),S=0,c=0,u=f,N=o,y=h,b=0,R=-1,_=1<<h,F=_-1,t===cx&&_>xL||t===AL&&_>SL)return 1;for(;;){U=u-b,s[c]+1<T?(W=0,re=s[c]):s[c]>=T?(W=D[s[c]-T],re=C[s[c]-T]):(W=96,re=0),E=1<<u-b,k=1<<y,f=k;do k-=E,i[N+(S>>b)+k]=U<<24|W<<16|re|0;while(k!==0);for(E=1<<u-1;S&E;)E>>=1;if(E!==0?(S&=E-1,S+=E):S=0,c++,--$[u]===0){if(u===d)break;u=e[n+s[c]]}if(u>h&&(S&F)!==R){for(b===0&&(b=h),N+=f,y=u-b,w=1<<y;y+b<d&&(w-=$[y+b],!(w<=0));)y++,w<<=1;if(_+=1<<y,t===cx&&_>xL||t===AL&&_>SL)return 1;R=S&F,i[R]=h<<24|y<<16|N-o|0}}return S!==0&&(i[N+S]=u-b<<24|64<<16|0),a.bits=h,0};var Wm=C3e;const N3e=0,NV=1,kV=2,{Z_FINISH:TL,Z_BLOCK:k3e,Z_TREES:Jy,Z_OK:Of,Z_STREAM_END:R3e,Z_NEED_DICT:O3e,Z_STREAM_ERROR:Ns,Z_DATA_ERROR:RV,Z_MEM_ERROR:OV,Z_BUF_ERROR:M3e,Z_DEFLATED:IL}=IV,b2=16180,PL=16181,CL=16182,NL=16183,kL=16184,RL=16185,OL=16186,ML=16187,LL=16188,DL=16189,Nw=16190,vl=16191,fx=16192,FL=16193,dx=16194,UL=16195,$L=16196,jL=16197,BL=16198,Xy=16199,Qy=16200,VL=16201,qL=16202,zL=16203,HL=16204,GL=16205,hx=16206,WL=16207,KL=16208,tr=16209,MV=16210,LV=16211,L3e=852,D3e=592,F3e=15,U3e=F3e,YL=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function $3e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Yf=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<b2||e.mode>LV?1:0},DV=t=>{if(Yf(t))return Ns;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=b2,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(L3e),e.distcode=e.distdyn=new Int32Array(D3e),e.sane=1,e.back=-1,Of},FV=t=>{if(Yf(t))return Ns;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,DV(t)},UV=(t,e)=>{let n;if(Yf(t))return Ns;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Ns:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,FV(t))},$V=(t,e)=>{if(!t)return Ns;const n=new $3e;t.state=n,n.strm=t,n.window=null,n.mode=b2;const r=UV(t,e);return r!==Of&&(t.state=null),r},j3e=t=>$V(t,U3e);let JL=!0,px,mx;const B3e=t=>{if(JL){px=new Int32Array(512),mx=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Wm(NV,t.lens,0,288,px,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Wm(kV,t.lens,0,32,mx,0,t.work,{bits:5}),JL=!1}t.lencode=px,t.lenbits=9,t.distcode=mx,t.distbits=5},jV=(t,e,n,r)=>{let i;const o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(e.subarray(n-r,n-r+i),o.wnext),r-=i,r?(o.window.set(e.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},V3e=(t,e)=>{let n,r,i,o,s,a,l,u,c,f,d,h,y,b,w=0,_,S,E,k,R,F,N,C;const T=new Uint8Array(4);let $,P;const D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Yf(t)||!t.output||!t.input&&t.avail_in!==0)return Ns;n=t.state,n.mode===vl&&(n.mode=fx),s=t.next_out,i=t.output,l=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,u=n.hold,c=n.bits,f=a,d=l,C=Of;e:for(;;)switch(n.mode){case b2:if(n.wrap===0){n.mode=fx;break}for(;c<16;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,T[0]=u&255,T[1]=u>>>8&255,n.check=Ia(n.check,T,2,0),u=0,c=0,n.mode=PL;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=tr;break}if((u&15)!==IL){t.msg="unknown compression method",n.mode=tr;break}if(u>>>=4,c-=4,N=(u&15)+8,n.wbits===0&&(n.wbits=N),N>15||N>n.wbits){t.msg="invalid window size",n.mode=tr;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?DL:vl,u=0,c=0;break;case PL:for(;c<16;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}if(n.flags=u,(n.flags&255)!==IL){t.msg="unknown compression method",n.mode=tr;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=tr;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,n.check=Ia(n.check,T,2,0)),u=0,c=0,n.mode=CL;case CL:for(;c<32;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,T[2]=u>>>16&255,T[3]=u>>>24&255,n.check=Ia(n.check,T,4,0)),u=0,c=0,n.mode=NL;case NL:for(;c<16;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,n.check=Ia(n.check,T,2,0)),u=0,c=0,n.mode=kL;case kL:if(n.flags&1024){for(;c<16;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,n.check=Ia(n.check,T,2,0)),u=0,c=0}else n.head&&(n.head.extra=null);n.mode=RL;case RL:if(n.flags&1024&&(h=n.length,h>a&&(h=a),h&&(n.head&&(N=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+h),N)),n.flags&512&&n.wrap&4&&(n.check=Ia(n.check,r,h,o)),a-=h,o+=h,n.length-=h),n.length))break e;n.length=0,n.mode=OL;case OL:if(n.flags&2048){if(a===0)break e;h=0;do N=r[o+h++],n.head&&N&&n.length<65536&&(n.head.name+=String.fromCharCode(N));while(N&&h<a);if(n.flags&512&&n.wrap&4&&(n.check=Ia(n.check,r,h,o)),a-=h,o+=h,N)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=ML;case ML:if(n.flags&4096){if(a===0)break e;h=0;do N=r[o+h++],n.head&&N&&n.length<65536&&(n.head.comment+=String.fromCharCode(N));while(N&&h<a);if(n.flags&512&&n.wrap&4&&(n.check=Ia(n.check,r,h,o)),a-=h,o+=h,N)break e}else n.head&&(n.head.comment=null);n.mode=LL;case LL:if(n.flags&512){for(;c<16;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=tr;break}u=0,c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=vl;break;case DL:for(;c<32;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}t.adler=n.check=YL(u),u=0,c=0,n.mode=Nw;case Nw:if(n.havedict===0)return t.next_out=s,t.avail_out=l,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=c,O3e;t.adler=n.check=1,n.mode=vl;case vl:if(e===k3e||e===Jy)break e;case fx:if(n.last){u>>>=c&7,c-=c&7,n.mode=hx;break}for(;c<3;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}switch(n.last=u&1,u>>>=1,c-=1,u&3){case 0:n.mode=FL;break;case 1:if(B3e(n),n.mode=Xy,e===Jy){u>>>=2,c-=2;break e}break;case 2:n.mode=$L;break;case 3:t.msg="invalid block type",n.mode=tr}u>>>=2,c-=2;break;case FL:for(u>>>=c&7,c-=c&7;c<32;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=tr;break}if(n.length=u&65535,u=0,c=0,n.mode=dx,e===Jy)break e;case dx:n.mode=UL;case UL:if(h=n.length,h){if(h>a&&(h=a),h>l&&(h=l),h===0)break e;i.set(r.subarray(o,o+h),s),a-=h,o+=h,l-=h,s+=h,n.length-=h;break}n.mode=vl;break;case $L:for(;c<14;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}if(n.nlen=(u&31)+257,u>>>=5,c-=5,n.ndist=(u&31)+1,u>>>=5,c-=5,n.ncode=(u&15)+4,u>>>=4,c-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=tr;break}n.have=0,n.mode=jL;case jL:for(;n.have<n.ncode;){for(;c<3;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}n.lens[D[n.have++]]=u&7,u>>>=3,c-=3}for(;n.have<19;)n.lens[D[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,$={bits:n.lenbits},C=Wm(N3e,n.lens,0,19,n.lencode,0,n.work,$),n.lenbits=$.bits,C){t.msg="invalid code lengths set",n.mode=tr;break}n.have=0,n.mode=BL;case BL:for(;n.have<n.nlen+n.ndist;){for(;w=n.lencode[u&(1<<n.lenbits)-1],_=w>>>24,S=w>>>16&255,E=w&65535,!(_<=c);){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}if(E<16)u>>>=_,c-=_,n.lens[n.have++]=E;else{if(E===16){for(P=_+2;c<P;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}if(u>>>=_,c-=_,n.have===0){t.msg="invalid bit length repeat",n.mode=tr;break}N=n.lens[n.have-1],h=3+(u&3),u>>>=2,c-=2}else if(E===17){for(P=_+3;c<P;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}u>>>=_,c-=_,N=0,h=3+(u&7),u>>>=3,c-=3}else{for(P=_+7;c<P;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}u>>>=_,c-=_,N=0,h=11+(u&127),u>>>=7,c-=7}if(n.have+h>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=tr;break}for(;h--;)n.lens[n.have++]=N}}if(n.mode===tr)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=tr;break}if(n.lenbits=9,$={bits:n.lenbits},C=Wm(NV,n.lens,0,n.nlen,n.lencode,0,n.work,$),n.lenbits=$.bits,C){t.msg="invalid literal/lengths set",n.mode=tr;break}if(n.distbits=6,n.distcode=n.distdyn,$={bits:n.distbits},C=Wm(kV,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,$),n.distbits=$.bits,C){t.msg="invalid distances set",n.mode=tr;break}if(n.mode=Xy,e===Jy)break e;case Xy:n.mode=Qy;case Qy:if(a>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=c,E3e(t,d),s=t.next_out,i=t.output,l=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,u=n.hold,c=n.bits,n.mode===vl&&(n.back=-1);break}for(n.back=0;w=n.lencode[u&(1<<n.lenbits)-1],_=w>>>24,S=w>>>16&255,E=w&65535,!(_<=c);){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}if(S&&!(S&240)){for(k=_,R=S,F=E;w=n.lencode[F+((u&(1<<k+R)-1)>>k)],_=w>>>24,S=w>>>16&255,E=w&65535,!(k+_<=c);){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}u>>>=k,c-=k,n.back+=k}if(u>>>=_,c-=_,n.back+=_,n.length=E,S===0){n.mode=GL;break}if(S&32){n.back=-1,n.mode=vl;break}if(S&64){t.msg="invalid literal/length code",n.mode=tr;break}n.extra=S&15,n.mode=VL;case VL:if(n.extra){for(P=n.extra;c<P;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=qL;case qL:for(;w=n.distcode[u&(1<<n.distbits)-1],_=w>>>24,S=w>>>16&255,E=w&65535,!(_<=c);){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}if(!(S&240)){for(k=_,R=S,F=E;w=n.distcode[F+((u&(1<<k+R)-1)>>k)],_=w>>>24,S=w>>>16&255,E=w&65535,!(k+_<=c);){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}u>>>=k,c-=k,n.back+=k}if(u>>>=_,c-=_,n.back+=_,S&64){t.msg="invalid distance code",n.mode=tr;break}n.offset=E,n.extra=S&15,n.mode=zL;case zL:if(n.extra){for(P=n.extra;c<P;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=tr;break}n.mode=HL;case HL:if(l===0)break e;if(h=d-l,n.offset>h){if(h=n.offset-h,h>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=tr;break}h>n.wnext?(h-=n.wnext,y=n.wsize-h):y=n.wnext-h,h>n.length&&(h=n.length),b=n.window}else b=i,y=s-n.offset,h=n.length;h>l&&(h=l),l-=h,n.length-=h;do i[s++]=b[y++];while(--h);n.length===0&&(n.mode=Qy);break;case GL:if(l===0)break e;i[s++]=n.length,l--,n.mode=Qy;break;case hx:if(n.wrap){for(;c<32;){if(a===0)break e;a--,u|=r[o++]<<c,c+=8}if(d-=l,t.total_out+=d,n.total+=d,n.wrap&4&&d&&(t.adler=n.check=n.flags?Ia(n.check,i,d,s-d):G5(n.check,i,d,s-d)),d=l,n.wrap&4&&(n.flags?u:YL(u))!==n.check){t.msg="incorrect data check",n.mode=tr;break}u=0,c=0}n.mode=WL;case WL:if(n.wrap&&n.flags){for(;c<32;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=tr;break}u=0,c=0}n.mode=KL;case KL:C=R3e;break e;case tr:C=RV;break e;case MV:return OV;case LV:default:return Ns}return t.next_out=s,t.avail_out=l,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=c,(n.wsize||d!==t.avail_out&&n.mode<tr&&(n.mode<hx||e!==TL))&&jV(t,t.output,t.next_out,d-t.avail_out),f-=t.avail_in,d-=t.avail_out,t.total_in+=f,t.total_out+=d,n.total+=d,n.wrap&4&&d&&(t.adler=n.check=n.flags?Ia(n.check,i,d,t.next_out-d):G5(n.check,i,d,t.next_out-d)),t.data_type=n.bits+(n.last?64:0)+(n.mode===vl?128:0)+(n.mode===Xy||n.mode===dx?256:0),(f===0&&d===0||e===TL)&&C===Of&&(C=M3e),C},q3e=t=>{if(Yf(t))return Ns;let e=t.state;return e.window&&(e.window=null),t.state=null,Of},z3e=(t,e)=>{if(Yf(t))return Ns;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,Of):Ns},H3e=(t,e)=>{const n=e.length;let r,i,o;return Yf(t)||(r=t.state,r.wrap!==0&&r.mode!==Nw)?Ns:r.mode===Nw&&(i=1,i=G5(i,e,n,0),i!==r.check)?RV:(o=jV(t,e,n,n),o?(r.mode=MV,OV):(r.havedict=1,Of))};var G3e=FV,W3e=UV,K3e=DV,Y3e=j3e,J3e=$V,X3e=V3e,Q3e=q3e,Z3e=z3e,eOe=H3e,tOe="pako inflate (from Nodeca project)",bl={inflateReset:G3e,inflateReset2:W3e,inflateResetKeep:K3e,inflateInit:Y3e,inflateInit2:J3e,inflate:X3e,inflateEnd:Q3e,inflateGetHeader:Z3e,inflateSetDictionary:eOe,inflateInfo:tOe};function nOe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var rOe=nOe;const BV=Object.prototype.toString,{Z_NO_FLUSH:iOe,Z_FINISH:oOe,Z_OK:iv,Z_STREAM_END:gx,Z_NEED_DICT:vx,Z_STREAM_ERROR:sOe,Z_DATA_ERROR:XL,Z_MEM_ERROR:aOe}=IV;function Lv(t){this.options=PV.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new x3e,this.strm.avail_out=0;let n=bl.inflateInit2(this.strm,e.windowBits);if(n!==iv)throw new Error(W5[n]);if(this.header=new rOe,bl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=K5.string2buf(e.dictionary):BV.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=bl.inflateSetDictionary(this.strm,e.dictionary),n!==iv)))throw new Error(W5[n])}Lv.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?oOe:iOe,BV.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=bl.inflate(n,s),o===vx&&i&&(o=bl.inflateSetDictionary(n,i),o===iv?o=bl.inflate(n,s):o===XL&&(o=vx));n.avail_in>0&&o===gx&&n.state.wrap>0&&t[n.next_in]!==0;)bl.inflateReset(n),o=bl.inflate(n,s);switch(o){case sOe:case XL:case vx:case aOe:return this.onEnd(o),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||o===gx))if(this.options.to==="string"){let l=K5.utf8border(n.output,n.next_out),u=n.next_out-l,c=K5.buf2string(n.output,l);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(l,l+u),0),this.onData(c)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(o===iv&&a===0)){if(o===gx)return o=bl.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Lv.prototype.onData=function(t){this.chunks.push(t)};Lv.prototype.onEnd=function(t){t===iv&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=PV.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function lOe(t,e){const n=new Lv(e);if(n.push(t),n.err)throw n.msg||W5[n.err];return n.result}var uOe=Lv,cOe=lOe,fOe={Inflate:uOe,inflate:cOe};const{Inflate:dOe,inflate:hOe}=fOe;var QL=dOe,pOe=hOe;const VV=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;VV[t]=e}const ZL=4294967295;function mOe(t,e,n){let r=t;for(let i=0;i<n;i++)r=VV[(r^e[i])&255]^r>>>8;return r}function gOe(t,e){return(mOe(ZL,t,e)^ZL)>>>0}function eD(t,e,n){const r=t.readUint32(),i=gOe(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function qV(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function zV(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function HV(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function GV(t,e,n,r,i){let o=0;if(n.length===0){for(;o<i;o++)e[o]=t[o];for(;o<r;o++)e[o]=t[o]+(e[o-i]>>1)&255}else{for(;o<i;o++)e[o]=t[o]+(n[o]>>1)&255;for(;o<r;o++)e[o]=t[o]+(e[o-i]+n[o]>>1)&255}}function WV(t,e,n,r,i){let o=0;if(n.length===0){for(;o<i;o++)e[o]=t[o];for(;o<r;o++)e[o]=t[o]+e[o-i]&255}else{for(;o<i;o++)e[o]=t[o]+n[o]&255;for(;o<r;o++)e[o]=t[o]+vOe(e[o-i],n[o],n[o-i])&255}}function vOe(t,e,n){const r=t+e-n,i=Math.abs(r-t),o=Math.abs(r-e),s=Math.abs(r-n);return i<=o&&i<=s?t:o<=s?e:n}function yOe(t,e,n,r,i,o){switch(t){case 0:qV(e,n,i);break;case 1:zV(e,n,i,o);break;case 2:HV(e,n,r,i);break;case 3:GV(e,n,r,i,o);break;case 4:WV(e,n,r,i,o);break;default:throw new Error(`Unsupported filter: ${t}`)}}const wOe=new Uint16Array([255]),_Oe=new Uint8Array(wOe.buffer),bOe=_Oe[0]===255;function xOe(t){const{data:e,width:n,height:r,channels:i,depth:o}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(o/8)*i,l=new Uint8Array(r*n*a);let u=0;for(let c=0;c<7;c++){const f=s[c],d=Math.ceil((n-f.x)/f.xStep),h=Math.ceil((r-f.y)/f.yStep);if(d<=0||h<=0)continue;const y=d*a,b=new Uint8Array(y);for(let w=0;w<h;w++){const _=e[u++],S=e.subarray(u,u+y);u+=y;const E=new Uint8Array(y);yOe(_,S,E,b,y,a),b.set(E);for(let k=0;k<d;k++){const R=f.x+k*f.xStep,F=f.y+w*f.yStep;if(!(R>=n||F>=r))for(let N=0;N<a;N++)l[(F*n+R)*a+N]=E[k*a+N]}}}if(o===16){const c=new Uint16Array(l.buffer);if(bOe)for(let f=0;f<c.length;f++)c[f]=SOe(c[f]);return c}else return l}function SOe(t){return(t&255)<<8|t>>8&255}const EOe=new Uint16Array([255]),AOe=new Uint8Array(EOe.buffer),TOe=AOe[0]===255,IOe=new Uint8Array(0);function tD(t){const{data:e,width:n,height:r,channels:i,depth:o}=t,s=Math.ceil(o/8)*i,a=Math.ceil(o/8*i*n),l=new Uint8Array(r*a);let u=IOe,c=0,f,d;for(let h=0;h<r;h++){switch(f=e.subarray(c+1,c+1+a),d=l.subarray(h*a,(h+1)*a),e[c]){case 0:qV(f,d,a);break;case 1:zV(f,d,a,s);break;case 2:HV(f,d,u,a);break;case 3:GV(f,d,u,a,s);break;case 4:WV(f,d,u,a,s);break;default:throw new Error(`Unsupported filter: ${e[c]}`)}u=d,c+=a+1}if(o===16){const h=new Uint16Array(l.buffer);if(TOe)for(let y=0;y<h.length;y++)h[y]=POe(h[y]);return h}else return l}function POe(t){return(t&255)<<8|t>>8&255}const P0=Uint8Array.of(137,80,78,71,13,10,26,10);function nD(t){if(!COe(t.readBytes(P0.length)))throw new Error("wrong PNG signature")}function COe(t){if(t.length<P0.length)return!1;for(let e=0;e<P0.length;e++)if(t[e]!==P0[e])return!1;return!0}const NOe="tEXt",kOe=0,KV=new TextDecoder("latin1");function ROe(t){if(MOe(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const OOe=/^[\u0000-\u00FF]*$/;function MOe(t){if(!OOe.test(t))throw new Error("invalid latin1 text")}function LOe(t,e,n){const r=YV(e);t[r]=DOe(e,n-r.length-1)}function YV(t){for(t.mark();t.readByte()!==kOe;);const e=t.offset;t.reset();const n=KV.decode(t.readBytes(e-t.offset-1));return t.skip(1),ROe(n),n}function DOe(t,e){return KV.decode(t.readBytes(e))}const jo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},yx={UNKNOWN:-1,DEFLATE:0},rD={UNKNOWN:-1,ADAPTIVE:0},wx={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Zy={NONE:0,BACKGROUND:1,PREVIOUS:2},_x={SOURCE:0,OVER:1};class FOe extends vP{constructor(n,r={}){super(n);Sn(this,"_checkCrc");Sn(this,"_inflator");Sn(this,"_png");Sn(this,"_apng");Sn(this,"_end");Sn(this,"_hasPalette");Sn(this,"_palette");Sn(this,"_hasTransparency");Sn(this,"_transparency");Sn(this,"_compressionMethod");Sn(this,"_filterMethod");Sn(this,"_interlaceMethod");Sn(this,"_colorType");Sn(this,"_isAnimated");Sn(this,"_numberOfFrames");Sn(this,"_numberOfPlays");Sn(this,"_frames");Sn(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new QL,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=yx.UNKNOWN,this._filterMethod=rD.UNKNOWN,this._interlaceMethod=wx.UNKNOWN,this._colorType=jo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(nD(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(nD(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case NOe:LOe(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?eD(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?eD(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=UOe(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case jo.GREYSCALE:i=1;break;case jo.TRUECOLOUR:i=3;break;case jo.INDEXED_COLOUR:i=1;break;case jo.GREYSCALE_ALPHA:i=2;break;case jo.TRUECOLOUR_ALPHA:i=4;break;case jo.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==yx.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let o=0;o<r;o++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case jo.GREYSCALE:case jo.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case jo.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case jo.UNKNOWN:case jo.GREYSCALE_ALPHA:case jo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=YV(this),i=this.readUint8();if(i!==yx.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const o=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:pOe(o)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=tD({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const o=this._apng.frames.at(n-1);this.disposeFrame(i,o,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case Zy.NONE:break;case Zy.BACKGROUND:for(let o=0;o<this._png.height;o++)for(let s=0;s<this._png.width;s++){const a=(o*n.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[a+l]=0}break;case Zy.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,o=(s,a)=>{const l=((s+r.yOffset)*this._png.width+r.xOffset+a)*this._png.channels,u=(s*r.width+a)*this._png.channels;return{index:l,frameIndex:u}};switch(r.blendOp){case _x.SOURCE:for(let s=0;s<r.height;s++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:u}=o(s,a);for(let c=0;c<this._png.channels;c++)n.data[l+c]=r.data[u+c]}break;case _x.OVER:for(let s=0;s<r.height;s++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:u}=o(s,a);for(let c=0;c<this._png.channels;c++){const f=r.data[u+this._png.channels-1]/i,d=c%(this._png.channels-1)===0?1:r.data[u+c],h=Math.floor(f*d+(1-f)*n.data[l+c]);n.data[l+c]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==rD.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===wx.NO_INTERLACE)this._png.data=tD({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===wx.ADAM7)this._png.data=xOe({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Zy.NONE,blendOp:_x.SOURCE,data:n}),this._inflator=new QL,this._writingDataChunks=!1}}function UOe(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var iD;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(iD||(iD={}));function $Oe(t,e){return new FOe(t,e).decode()}var Tt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function bx(){Tt.console&&typeof Tt.console.log=="function"&&Tt.console.log.apply(Tt.console,arguments)}var Ln={log:bx,warn:function(t){Tt.console&&(typeof Tt.console.warn=="function"?Tt.console.warn.apply(Tt.console,arguments):bx.call(null,arguments))},error:function(t){Tt.console&&(typeof Tt.console.error=="function"?Tt.console.error.apply(Tt.console,arguments):bx(t))}};function xx(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Wc(r.response,e,n)},r.onerror=function(){Ln.error("could not download file")},r.send()}function oD(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function e0(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Wc=Tt.saveAs||((typeof window>"u"?"undefined":An(window))!=="object"||window!==Tt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Tt.URL||Tt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?oD(i.href)?xx(t,e,n):e0(i,i.target="_blank"):e0(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){e0(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(oD(t))xx(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){e0(r)})}else navigator.msSaveOrOpenBlob(function(i,o){return o===void 0?o={autoBom:!1}:An(o)!=="object"&&(Ln.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return xx(t,e,n);var i=t.type==="application/octet-stream",o=/constructor/i.test(Tt.HTMLElement)||Tt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&o)&&(typeof FileReader>"u"?"undefined":An(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var c=a.result;c=s?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=c:location=c,r=null},a.readAsDataURL(t)}else{var l=Tt.URL||Tt.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function JV(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,o=n[r].process,s=i.exec(t);s&&(e=o(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+a+l+u}}var C0=Tt.atob.bind(Tt),sD=Tt.btoa.bind(Tt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Sx(t,e){var n=t[0],r=t[1],i=t[2],o=t[3];n=Di(n,r,i,o,e[0],7,-680876936),o=Di(o,n,r,i,e[1],12,-389564586),i=Di(i,o,n,r,e[2],17,606105819),r=Di(r,i,o,n,e[3],22,-1044525330),n=Di(n,r,i,o,e[4],7,-176418897),o=Di(o,n,r,i,e[5],12,1200080426),i=Di(i,o,n,r,e[6],17,-1473231341),r=Di(r,i,o,n,e[7],22,-45705983),n=Di(n,r,i,o,e[8],7,1770035416),o=Di(o,n,r,i,e[9],12,-1958414417),i=Di(i,o,n,r,e[10],17,-42063),r=Di(r,i,o,n,e[11],22,-1990404162),n=Di(n,r,i,o,e[12],7,1804603682),o=Di(o,n,r,i,e[13],12,-40341101),i=Di(i,o,n,r,e[14],17,-1502002290),n=Fi(n,r=Di(r,i,o,n,e[15],22,1236535329),i,o,e[1],5,-165796510),o=Fi(o,n,r,i,e[6],9,-1069501632),i=Fi(i,o,n,r,e[11],14,643717713),r=Fi(r,i,o,n,e[0],20,-373897302),n=Fi(n,r,i,o,e[5],5,-701558691),o=Fi(o,n,r,i,e[10],9,38016083),i=Fi(i,o,n,r,e[15],14,-660478335),r=Fi(r,i,o,n,e[4],20,-405537848),n=Fi(n,r,i,o,e[9],5,568446438),o=Fi(o,n,r,i,e[14],9,-1019803690),i=Fi(i,o,n,r,e[3],14,-187363961),r=Fi(r,i,o,n,e[8],20,1163531501),n=Fi(n,r,i,o,e[13],5,-1444681467),o=Fi(o,n,r,i,e[2],9,-51403784),i=Fi(i,o,n,r,e[7],14,1735328473),n=Ui(n,r=Fi(r,i,o,n,e[12],20,-1926607734),i,o,e[5],4,-378558),o=Ui(o,n,r,i,e[8],11,-2022574463),i=Ui(i,o,n,r,e[11],16,1839030562),r=Ui(r,i,o,n,e[14],23,-35309556),n=Ui(n,r,i,o,e[1],4,-1530992060),o=Ui(o,n,r,i,e[4],11,1272893353),i=Ui(i,o,n,r,e[7],16,-155497632),r=Ui(r,i,o,n,e[10],23,-1094730640),n=Ui(n,r,i,o,e[13],4,681279174),o=Ui(o,n,r,i,e[0],11,-358537222),i=Ui(i,o,n,r,e[3],16,-722521979),r=Ui(r,i,o,n,e[6],23,76029189),n=Ui(n,r,i,o,e[9],4,-640364487),o=Ui(o,n,r,i,e[12],11,-421815835),i=Ui(i,o,n,r,e[15],16,530742520),n=$i(n,r=Ui(r,i,o,n,e[2],23,-995338651),i,o,e[0],6,-198630844),o=$i(o,n,r,i,e[7],10,1126891415),i=$i(i,o,n,r,e[14],15,-1416354905),r=$i(r,i,o,n,e[5],21,-57434055),n=$i(n,r,i,o,e[12],6,1700485571),o=$i(o,n,r,i,e[3],10,-1894986606),i=$i(i,o,n,r,e[10],15,-1051523),r=$i(r,i,o,n,e[1],21,-2054922799),n=$i(n,r,i,o,e[8],6,1873313359),o=$i(o,n,r,i,e[15],10,-30611744),i=$i(i,o,n,r,e[6],15,-1560198380),r=$i(r,i,o,n,e[13],21,1309151649),n=$i(n,r,i,o,e[4],6,-145523070),o=$i(o,n,r,i,e[11],10,-1120210379),i=$i(i,o,n,r,e[2],15,718787259),r=$i(r,i,o,n,e[9],21,-343485551),t[0]=Gu(n,t[0]),t[1]=Gu(r,t[1]),t[2]=Gu(i,t[2]),t[3]=Gu(o,t[3])}function x2(t,e,n,r,i,o){return e=Gu(Gu(e,t),Gu(r,o)),Gu(e<<i|e>>>32-i,n)}function Di(t,e,n,r,i,o,s){return x2(e&n|~e&r,t,e,i,o,s)}function Fi(t,e,n,r,i,o,s){return x2(e&r|n&~r,t,e,i,o,s)}function Ui(t,e,n,r,i,o,s){return x2(e^n^r,t,e,i,o,s)}function $i(t,e,n,r,i,o,s){return x2(n^(e|~r),t,e,i,o,s)}function XV(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Sx(r,jOe(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Sx(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,Sx(r,i),r}function jOe(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var aD="0123456789abcdef".split("");function BOe(t){for(var e="",n=0;n<4;n++)e+=aD[t>>8*n+4&15]+aD[t>>8*n&15];return e}function VOe(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Y5(t){return XV(t).map(VOe).join("")}var qOe=function(t){for(var e=0;e<t.length;e++)t[e]=BOe(t[e]);return t.join("")}(XV("hello"))!="5d41402abc4b2a76b9719d911017c592";function Gu(t,e){if(qOe){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function J5(t,e){var n,r,i,o;if(t!==n){for(var s=(i=t,o=1+(256/t.length|0),new Array(o+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var u=0;for(l=0;l<256;l++){var c=a[l];u=(u+c+s.charCodeAt(l))%256,a[l]=a[u],a[u]=c}n=t,r=a}else a=r;var f=e.length,d=0,h=0,y="";for(l=0;l<f;l++)h=(h+(c=a[d=(d+1)%256]))%256,a[d]=a[h],a[h]=c,s=a[(a[d]+a[h])%256],y+=String.fromCharCode(e.charCodeAt(l)^s);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var lD={print:4,modify:8,copy:16,"annot-forms":32};function Ed(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(lD.perm!==void 0)throw new Error("Invalid permission: "+a);i+=lD[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^i)),this.encryptionKey=Y5(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=J5(this.encryptionKey,this.padding)}function Ad(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function uD(t){if(An(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var o=Math.random().toString(35);return e[n][o]=[r,!!i],o},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in e[n]){var s=e[n][o];try{s[0].apply(t,r)}catch(a){Tt.console&&Ln.error("jsPDF PubSub Error",a.message,a)}s[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function kw(t){if(!(this instanceof kw))return new kw(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function QV(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Jc(t,e,n,r,i){if(!(this instanceof Jc))return new Jc(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,QV.call(this,r,i)}function zd(t,e,n,r,i){if(!(this instanceof zd))return new zd(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,QV.call(this,r,i)}function pt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],o=arguments[3],s=[],a=1,l=16,u="S",c=null;An(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,o=t.compress||t.compressPdf||o,(c=t.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),s=t.filters||(o===!0?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,d={},h={internal:{},__private__:{}};h.__private__.PubSub=uD;var y="1.3",b=h.__private__.getPdfVersion=function(){return y};h.__private__.setPdfVersion=function(I){y=I};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return w};var _=h.__private__.getPageFormat=function(I){return w[I]};i=i||"a4";var S="compat",E="advanced",k=S;function R(){this.saveGraphicsState(),Y(new wt(Ct,0,0,-Ct,0,as()*Ct).toString()+" cm"),this.setFontSize(this.getFontSize()/Ct),u="n",k=E}function F(){this.restoreGraphicsState(),u="S",k=S}var N=h.__private__.combineFontStyleAndFontWeight=function(I,q){if(I=="bold"&&q=="normal"||I=="bold"&&q==400||I=="normal"&&q=="italic"||I=="bold"&&q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return q&&(I=q==400||q==="normal"?I==="italic"?"italic":"normal":q!=700&&q!=="bold"||I!=="normal"?(q==700?"bold":q)+""+I:"bold"),I};h.advancedAPI=function(I){var q=k===S;return q&&R.call(this),typeof I!="function"||(I(this),q&&F.call(this)),this},h.compatAPI=function(I){var q=k===E;return q&&F.call(this),typeof I!="function"||(I(this),q&&R.call(this)),this},h.isAdvancedAPI=function(){return k===E};var C,T=function(I){if(k!==E)throw new Error(I+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},$=h.roundToPrecision=h.__private__.roundToPrecision=function(I,q){var ie=e||q;if(isNaN(I)||isNaN(ie))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return I.toFixed(ie).replace(/0+$/,"")};C=h.hpf=h.__private__.hpf=typeof l=="number"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return $(I,l)}:l==="smart"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return $(I,I>-1&&I<1?16:5)}:function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return $(I,16)};var P=h.f2=h.__private__.f2=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f2");return $(I,2)},D=h.__private__.f3=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f3");return $(I,3)},U=h.scale=h.__private__.scale=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.scale");return k===S?I*Ct:k===E?I:void 0},W=function(I){return U(function(q){return k===S?as()-q:k===E?q:void 0}(I))};h.__private__.setPrecision=h.setPrecision=function(I){typeof parseInt(I,10)=="number"&&(e=parseInt(I,10))};var re,le="00000000000000000000000000000000",ue=h.__private__.getFileId=function(){return le},Q=h.__private__.setFileId=function(I){return le=I!==void 0&&/^[a-fA-F0-9]{32}$/.test(I)?I.toUpperCase():le.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(Rn=new Ed(c.userPermissions,c.userPassword,c.ownerPassword,le)),le};h.setFileId=function(I){return Q(I),this},h.getFileId=function(){return ue()};var ae=h.__private__.convertDateToPDFDate=function(I){var q=I.getTimezoneOffset(),ie=q<0?"+":"-",he=Math.floor(Math.abs(q/60)),be=Math.abs(q%60),Oe=[ie,te(he),"'",te(be),"'"].join("");return["D:",I.getFullYear(),te(I.getMonth()+1),te(I.getDate()),te(I.getHours()),te(I.getMinutes()),te(I.getSeconds()),Oe].join("")},ye=h.__private__.convertPDFDateToDate=function(I){var q=parseInt(I.substr(2,4),10),ie=parseInt(I.substr(6,2),10)-1,he=parseInt(I.substr(8,2),10),be=parseInt(I.substr(10,2),10),Oe=parseInt(I.substr(12,2),10),Fe=parseInt(I.substr(14,2),10);return new Date(q,ie,he,be,Oe,Fe,0)},ge=h.__private__.setCreationDate=function(I){var q;if(I===void 0&&(I=new Date),I instanceof Date)q=ae(I);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(I))throw new Error("Invalid argument passed to jsPDF.setCreationDate");q=I}return re=q},B=h.__private__.getCreationDate=function(I){var q=re;return I==="jsDate"&&(q=ye(re)),q};h.setCreationDate=function(I){return ge(I),this},h.getCreationDate=function(I){return B(I)};var G,te=h.__private__.padd2=function(I){return("0"+parseInt(I)).slice(-2)},ce=h.__private__.padd2Hex=function(I){return("00"+(I=I.toString())).substr(I.length)},pe=0,_e=[],Te=[],ee=0,me=[],ne=[],de=!1,Ce=Te;h.__private__.setCustomOutputDestination=function(I){de=!0,Ce=I};var ke=function(I){de||(Ce=I)};h.__private__.resetCustomOutputDestination=function(){de=!1,Ce=Te};var Y=h.__private__.out=function(I){return I=I.toString(),ee+=I.length+1,Ce.push(I),Ce},Ue=h.__private__.write=function(I){return Y(arguments.length===1?I.toString():Array.prototype.join.call(arguments," "))},et=h.__private__.getArrayBuffer=function(I){for(var q=I.length,ie=new ArrayBuffer(q),he=new Uint8Array(ie);q--;)he[q]=I.charCodeAt(q);return ie},Ye=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return Ye};var Le=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(I){return Le=k===E?I/Ct:I,this};var nt,We=h.__private__.getFontSize=h.getFontSize=function(){return k===S?Le:Le*Ct},it=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(I){return it=I,this},h.__private__.getR2L=h.getR2L=function(){return it};var ot,Gt=h.__private__.setZoomMode=function(I){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(I))nt=I;else if(isNaN(I)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(I)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+I+'" is not recognized.');nt=I}else nt=parseInt(I,10)};h.__private__.getZoomMode=function(){return nt};var Ft,ft=h.__private__.setPageMode=function(I){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(I)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+I+'" is not recognized.');ot=I};h.__private__.getPageMode=function(){return ot};var xt=h.__private__.setLayoutMode=function(I){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(I)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+I+'" is not recognized.');Ft=I};h.__private__.getLayoutMode=function(){return Ft},h.__private__.setDisplayMode=h.setDisplayMode=function(I,q,ie){return Gt(I),xt(q),ft(ie),this};var jt={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(I){if(Object.keys(jt).indexOf(I)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return jt[I]},h.__private__.getDocumentProperties=function(){return jt},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(I){for(var q in jt)jt.hasOwnProperty(q)&&I[q]&&(jt[q]=I[q]);return this},h.__private__.setDocumentProperty=function(I,q){if(Object.keys(jt).indexOf(I)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return jt[I]=q};var st,Ct,dt,kn,Kt,Ut={},Lt={},Un=[],gt={},gn={},_t={},It={},vn=null,$t=0,vt=[],qt=new uD(h),da=t.hotfixes||[],Sr={},Zo={},Pi=[],wt=function I(q,ie,he,be,Oe,Fe){if(!(this instanceof I))return new I(q,ie,he,be,Oe,Fe);isNaN(q)&&(q=1),isNaN(ie)&&(ie=0),isNaN(he)&&(he=0),isNaN(be)&&(be=1),isNaN(Oe)&&(Oe=0),isNaN(Fe)&&(Fe=0),this._matrix=[q,ie,he,be,Oe,Fe]};Object.defineProperty(wt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(wt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(wt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(wt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(wt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(wt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(wt.prototype,"a",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(wt.prototype,"b",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(wt.prototype,"c",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(wt.prototype,"d",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(wt.prototype,"e",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(wt.prototype,"f",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(wt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(wt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(wt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(wt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),wt.prototype.join=function(I){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(C).join(I)},wt.prototype.multiply=function(I){var q=I.sx*this.sx+I.shy*this.shx,ie=I.sx*this.shy+I.shy*this.sy,he=I.shx*this.sx+I.sy*this.shx,be=I.shx*this.shy+I.sy*this.sy,Oe=I.tx*this.sx+I.ty*this.shx+this.tx,Fe=I.tx*this.shy+I.ty*this.sy+this.ty;return new wt(q,ie,he,be,Oe,Fe)},wt.prototype.decompose=function(){var I=this.sx,q=this.shy,ie=this.shx,he=this.sy,be=this.tx,Oe=this.ty,Fe=Math.sqrt(I*I+q*q),Je=(I/=Fe)*ie+(q/=Fe)*he;ie-=I*Je,he-=q*Je;var at=Math.sqrt(ie*ie+he*he);return Je/=at,I*(he/=at)<q*(ie/=at)&&(I=-I,q=-q,Je=-Je,Fe=-Fe),{scale:new wt(Fe,0,0,at,0,0),translate:new wt(1,0,0,1,be,Oe),rotate:new wt(I,q,-q,I,0,0),skew:new wt(1,0,Je,1,0,0)}},wt.prototype.toString=function(I){return this.join(" ")},wt.prototype.inversed=function(){var I=this.sx,q=this.shy,ie=this.shx,he=this.sy,be=this.tx,Oe=this.ty,Fe=1/(I*he-q*ie),Je=he*Fe,at=-q*Fe,St=-ie*Fe,Nt=I*Fe;return new wt(Je,at,St,Nt,-Je*be-St*Oe,-at*be-Nt*Oe)},wt.prototype.applyToPoint=function(I){var q=I.x*this.sx+I.y*this.shx+this.tx,ie=I.x*this.shy+I.y*this.sy+this.ty;return new os(q,ie)},wt.prototype.applyToRectangle=function(I){var q=this.applyToPoint(I),ie=this.applyToPoint(new os(I.x+I.w,I.y+I.h));return new cu(q.x,q.y,ie.x-q.x,ie.y-q.y)},wt.prototype.clone=function(){var I=this.sx,q=this.shy,ie=this.shx,he=this.sy,be=this.tx,Oe=this.ty;return new wt(I,q,ie,he,be,Oe)},h.Matrix=wt;var zn=h.matrixMult=function(I,q){return q.multiply(I)},es=new wt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=es;var ni=function(I,q){if(!gn[I]){var ie=(q instanceof Jc?"Sh":"P")+(Object.keys(gt).length+1).toString(10);q.id=ie,gn[I]=ie,gt[ie]=q,qt.publish("addPattern",q)}};h.ShadingPattern=Jc,h.TilingPattern=zd,h.addShadingPattern=function(I,q){return T("addShadingPattern()"),ni(I,q),this},h.beginTilingPattern=function(I){T("beginTilingPattern()"),_a(I.boundingBox[0],I.boundingBox[1],I.boundingBox[2]-I.boundingBox[0],I.boundingBox[3]-I.boundingBox[1],I.matrix)},h.endTilingPattern=function(I,q){T("endTilingPattern()"),q.stream=ne[G].join(`
`),ni(I,q),qt.publish("endTilingPattern",q),Pi.pop().restore()};var ri,Zn=h.__private__.newObject=function(){var I=Lr();return er(I,!0),I},Lr=h.__private__.newObjectDeferred=function(){return pe++,_e[pe]=function(){return ee},pe},er=function(I,q){return q=typeof q=="boolean"&&q,_e[I]=ee,q&&Y(I+" 0 obj"),I},el=h.__private__.newAdditionalObject=function(){var I={objId:Lr(),content:""};return me.push(I),I},ha=Lr(),Ci=Lr(),Io=h.__private__.decodeColorString=function(I){var q=I.split(" ");if(q.length!==2||q[1]!=="g"&&q[1]!=="G")q.length!==5||q[4]!=="k"&&q[4]!=="K"||(q=[(1-q[0])*(1-q[3]),(1-q[1])*(1-q[3]),(1-q[2])*(1-q[3]),"r"]);else{var ie=parseFloat(q[0]);q=[ie,ie,ie,"r"]}for(var he="#",be=0;be<3;be++)he+=("0"+Math.floor(255*parseFloat(q[be])).toString(16)).slice(-2);return he},Yi=h.__private__.encodeColorString=function(I){var q;typeof I=="string"&&(I={ch1:I});var ie=I.ch1,he=I.ch2,be=I.ch3,Oe=I.ch4,Fe=I.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ie=="string"&&ie.charAt(0)!=="#"){var Je=new JV(ie);if(Je.ok)ie=Je.toHex();else if(!/^\d*\.?\d*$/.test(ie))throw new Error('Invalid color "'+ie+'" passed to jsPDF.encodeColorString.')}if(typeof ie=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ie)&&(ie="#"+ie[1]+ie[1]+ie[2]+ie[2]+ie[3]+ie[3]),typeof ie=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ie)){var at=parseInt(ie.substr(1),16);ie=at>>16&255,he=at>>8&255,be=255&at}if(he===void 0||Oe===void 0&&ie===he&&he===be)q=typeof ie=="string"?ie+" "+Fe[0]:I.precision===2?P(ie/255)+" "+Fe[0]:D(ie/255)+" "+Fe[0];else if(Oe===void 0||An(Oe)==="object"){if(Oe&&!isNaN(Oe.a)&&Oe.a===0)return["1.","1.","1.",Fe[1]].join(" ");q=typeof ie=="string"?[ie,he,be,Fe[1]].join(" "):I.precision===2?[P(ie/255),P(he/255),P(be/255),Fe[1]].join(" "):[D(ie/255),D(he/255),D(be/255),Fe[1]].join(" ")}else q=typeof ie=="string"?[ie,he,be,Oe,Fe[2]].join(" "):I.precision===2?[P(ie),P(he),P(be),P(Oe),Fe[2]].join(" "):[D(ie),D(he),D(be),D(Oe),Fe[2]].join(" ");return q},Ni=h.__private__.getFilters=function(){return s},Er=h.__private__.putStream=function(I){var q=(I=I||{}).data||"",ie=I.filters||Ni(),he=I.alreadyAppliedFilters||[],be=I.addLength1||!1,Oe=q.length,Fe=I.objectId,Je=function(pr){return pr};if(c!==null&&Fe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(Je=Rn.encryptor(Fe,0));var at={};ie===!0&&(ie=["FlateEncode"]);var St=I.additionalKeyValues||[],Nt=(at=pt.API.processDataByFilters!==void 0?pt.API.processDataByFilters(q,ie):{data:q,reverseChain:[]}).reverseChain+(Array.isArray(he)?he.join(" "):he.toString());if(at.data.length!==0&&(St.push({key:"Length",value:at.data.length}),be===!0&&St.push({key:"Length1",value:Oe})),Nt.length!=0)if(Nt.split("/").length-1==1)St.push({key:"Filter",value:Nt});else{St.push({key:"Filter",value:"["+Nt+"]"});for(var Jt=0;Jt<St.length;Jt+=1)if(St[Jt].key==="DecodeParms"){for(var dn=[],sr=0;sr<at.reverseChain.split("/").length-1;sr+=1)dn.push("null");dn.push(St[Jt].value),St[Jt].value="["+dn.join(" ")+"]"}}Y("<<");for(var _n=0;_n<St.length;_n++)Y("/"+St[_n].key+" "+St[_n].value);Y(">>"),at.data.length!==0&&(Y("stream"),Y(Je(at.data)),Y("endstream"))},pa=h.__private__.putPage=function(I){var q=I.number,ie=I.data,he=I.objId,be=I.contentsObjId;er(he,!0),Y("<</Type /Page"),Y("/Parent "+I.rootDictionaryObjId+" 0 R"),Y("/Resources "+I.resourceDictionaryObjId+" 0 R"),Y("/MediaBox ["+parseFloat(C(I.mediaBox.bottomLeftX))+" "+parseFloat(C(I.mediaBox.bottomLeftY))+" "+C(I.mediaBox.topRightX)+" "+C(I.mediaBox.topRightY)+"]"),I.cropBox!==null&&Y("/CropBox ["+C(I.cropBox.bottomLeftX)+" "+C(I.cropBox.bottomLeftY)+" "+C(I.cropBox.topRightX)+" "+C(I.cropBox.topRightY)+"]"),I.bleedBox!==null&&Y("/BleedBox ["+C(I.bleedBox.bottomLeftX)+" "+C(I.bleedBox.bottomLeftY)+" "+C(I.bleedBox.topRightX)+" "+C(I.bleedBox.topRightY)+"]"),I.trimBox!==null&&Y("/TrimBox ["+C(I.trimBox.bottomLeftX)+" "+C(I.trimBox.bottomLeftY)+" "+C(I.trimBox.topRightX)+" "+C(I.trimBox.topRightY)+"]"),I.artBox!==null&&Y("/ArtBox ["+C(I.artBox.bottomLeftX)+" "+C(I.artBox.bottomLeftY)+" "+C(I.artBox.topRightX)+" "+C(I.artBox.topRightY)+"]"),typeof I.userUnit=="number"&&I.userUnit!==1&&Y("/UserUnit "+I.userUnit),qt.publish("putPage",{objId:he,pageContext:vt[q],pageNumber:q,page:ie}),Y("/Contents "+be+" 0 R"),Y(">>"),Y("endobj");var Oe=ie.join(`
`);return k===E&&(Oe+=`
Q`),er(be,!0),Er({data:Oe,filters:Ni(),objectId:be}),Y("endobj"),he},Po=h.__private__.putPages=function(){var I,q,ie=[];for(I=1;I<=$t;I++)vt[I].objId=Lr(),vt[I].contentsObjId=Lr();for(I=1;I<=$t;I++)ie.push(pa({number:I,data:ne[I],objId:vt[I].objId,contentsObjId:vt[I].contentsObjId,mediaBox:vt[I].mediaBox,cropBox:vt[I].cropBox,bleedBox:vt[I].bleedBox,trimBox:vt[I].trimBox,artBox:vt[I].artBox,userUnit:vt[I].userUnit,rootDictionaryObjId:ha,resourceDictionaryObjId:Ci}));er(ha,!0),Y("<</Type /Pages");var he="/Kids [";for(q=0;q<$t;q++)he+=ie[q]+" 0 R ";Y(he+"]"),Y("/Count "+$t),Y(">>"),Y("endobj"),qt.publish("postPutPages")},Os=function(I){qt.publish("putFont",{font:I,out:Y,newObject:Zn,putStream:Er}),I.isAlreadyPutted!==!0&&(I.objectNumber=Zn(),Y("<<"),Y("/Type /Font"),Y("/BaseFont /"+Ad(I.postScriptName)),Y("/Subtype /Type1"),typeof I.encoding=="string"&&Y("/Encoding /"+I.encoding),Y("/FirstChar 32"),Y("/LastChar 255"),Y(">>"),Y("endobj"))},ma=function(I){I.objectNumber=Zn();var q=[];q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Form"}),q.push({key:"BBox",value:"["+[C(I.x),C(I.y),C(I.x+I.width),C(I.y+I.height)].join(" ")+"]"}),q.push({key:"Matrix",value:"["+I.matrix.toString()+"]"});var ie=I.pages[1].join(`
`);Er({data:ie,additionalKeyValues:q,objectId:I.objectNumber}),Y("endobj")},tl=function(I,q){q||(q=21);var ie=Zn(),he=function(Fe,Je){var at,St=[],Nt=1/(Je-1);for(at=0;at<1;at+=Nt)St.push(at);if(St.push(1),Fe[0].offset!=0){var Jt={offset:0,color:Fe[0].color};Fe.unshift(Jt)}if(Fe[Fe.length-1].offset!=1){var dn={offset:1,color:Fe[Fe.length-1].color};Fe.push(dn)}for(var sr="",_n=0,pr=0;pr<St.length;pr++){for(at=St[pr];at>Fe[_n+1].offset;)_n++;var ar=Fe[_n].offset,mr=(at-ar)/(Fe[_n+1].offset-ar),lr=Fe[_n].color,po=Fe[_n+1].color;sr+=ce(Math.round((1-mr)*lr[0]+mr*po[0]).toString(16))+ce(Math.round((1-mr)*lr[1]+mr*po[1]).toString(16))+ce(Math.round((1-mr)*lr[2]+mr*po[2]).toString(16))}return sr.trim()}(I.colors,q),be=[];be.push({key:"FunctionType",value:"0"}),be.push({key:"Domain",value:"[0.0 1.0]"}),be.push({key:"Size",value:"["+q+"]"}),be.push({key:"BitsPerSample",value:"8"}),be.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),be.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Er({data:he,additionalKeyValues:be,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ie}),Y("endobj"),I.objectNumber=Zn(),Y("<< /ShadingType "+I.type),Y("/ColorSpace /DeviceRGB");var Oe="/Coords ["+C(parseFloat(I.coords[0]))+" "+C(parseFloat(I.coords[1]))+" ";I.type===2?Oe+=C(parseFloat(I.coords[2]))+" "+C(parseFloat(I.coords[3])):Oe+=C(parseFloat(I.coords[2]))+" "+C(parseFloat(I.coords[3]))+" "+C(parseFloat(I.coords[4]))+" "+C(parseFloat(I.coords[5])),Y(Oe+="]"),I.matrix&&Y("/Matrix ["+I.matrix.toString()+"]"),Y("/Function "+ie+" 0 R"),Y("/Extend [true true]"),Y(">>"),Y("endobj")},nl=function(I,q){var ie=Lr(),he=Zn();q.push({resourcesOid:ie,objectOid:he}),I.objectNumber=he;var be=[];be.push({key:"Type",value:"/Pattern"}),be.push({key:"PatternType",value:"1"}),be.push({key:"PaintType",value:"1"}),be.push({key:"TilingType",value:"1"}),be.push({key:"BBox",value:"["+I.boundingBox.map(C).join(" ")+"]"}),be.push({key:"XStep",value:C(I.xStep)}),be.push({key:"YStep",value:C(I.yStep)}),be.push({key:"Resources",value:ie+" 0 R"}),I.matrix&&be.push({key:"Matrix",value:"["+I.matrix.toString()+"]"}),Er({data:I.stream,additionalKeyValues:be,objectId:I.objectNumber}),Y("endobj")},_p=function(I){for(var q in I.objectNumber=Zn(),Y("<<"),I)switch(q){case"opacity":Y("/ca "+P(I[q]));break;case"stroke-opacity":Y("/CA "+P(I[q]))}Y(">>"),Y("endobj")},ga=function(I){er(I.resourcesOid,!0),Y("<<"),Y("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var q in Y("/Font <<"),Ut)Ut.hasOwnProperty(q)&&(f===!1||f===!0&&d.hasOwnProperty(q))&&Y("/"+q+" "+Ut[q].objectNumber+" 0 R");Y(">>")}(),function(){if(Object.keys(gt).length>0){for(var q in Y("/Shading <<"),gt)gt.hasOwnProperty(q)&&gt[q]instanceof Jc&&gt[q].objectNumber>=0&&Y("/"+q+" "+gt[q].objectNumber+" 0 R");qt.publish("putShadingPatternDict"),Y(">>")}}(),function(q){if(Object.keys(gt).length>0){for(var ie in Y("/Pattern <<"),gt)gt.hasOwnProperty(ie)&&gt[ie]instanceof h.TilingPattern&&gt[ie].objectNumber>=0&&gt[ie].objectNumber<q&&Y("/"+ie+" "+gt[ie].objectNumber+" 0 R");qt.publish("putTilingPatternDict"),Y(">>")}}(I.objectOid),function(){if(Object.keys(_t).length>0){var q;for(q in Y("/ExtGState <<"),_t)_t.hasOwnProperty(q)&&_t[q].objectNumber>=0&&Y("/"+q+" "+_t[q].objectNumber+" 0 R");qt.publish("putGStateDict"),Y(">>")}}(),function(){for(var q in Y("/XObject <<"),Sr)Sr.hasOwnProperty(q)&&Sr[q].objectNumber>=0&&Y("/"+q+" "+Sr[q].objectNumber+" 0 R");qt.publish("putXobjectDict"),Y(">>")}(),Y(">>"),Y("endobj")},Ec=function(I){Lt[I.fontName]=Lt[I.fontName]||{},Lt[I.fontName][I.fontStyle]=I.id},iu=function(I,q,ie,he,be){var Oe={id:"F"+(Object.keys(Ut).length+1).toString(10),postScriptName:I,fontName:q,fontStyle:ie,encoding:he,isStandardFont:be||!1,metadata:{}};return qt.publish("addFont",{font:Oe,instance:this}),Ut[Oe.id]=Oe,Ec(Oe),Oe.id},ii=h.__private__.pdfEscape=h.pdfEscape=function(I,q){return function(ie,he){var be,Oe,Fe,Je,at,St,Nt,Jt,dn;if(Fe=(he=he||{}).sourceEncoding||"Unicode",at=he.outputEncoding,(he.autoencode||at)&&Ut[st].metadata&&Ut[st].metadata[Fe]&&Ut[st].metadata[Fe].encoding&&(Je=Ut[st].metadata[Fe].encoding,!at&&Ut[st].encoding&&(at=Ut[st].encoding),!at&&Je.codePages&&(at=Je.codePages[0]),typeof at=="string"&&(at=Je[at]),at)){for(Nt=!1,St=[],be=0,Oe=ie.length;be<Oe;be++)(Jt=at[ie.charCodeAt(be)])?St.push(String.fromCharCode(Jt)):St.push(ie[be]),St[be].charCodeAt(0)>>8&&(Nt=!0);ie=St.join("")}for(be=ie.length;Nt===void 0&&be!==0;)ie.charCodeAt(be-1)>>8&&(Nt=!0),be--;if(!Nt)return ie;for(St=he.noBOM?[]:[254,255],be=0,Oe=ie.length;be<Oe;be++){if((dn=(Jt=ie.charCodeAt(be))>>8)>>8)throw new Error("Character at position "+be+" of string '"+ie+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");St.push(dn),St.push(Jt-(dn<<8))}return String.fromCharCode.apply(void 0,St)}(I,q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Co=h.__private__.beginPage=function(I){ne[++$t]=[],vt[$t]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(I[0]),topRightY:Number(I[1])}},Tc($t),ke(ne[G])},ou=function(I,q){var ie,he,be;switch(n=q||n,typeof I=="string"&&(ie=_(I.toLowerCase()),Array.isArray(ie)&&(he=ie[0],be=ie[1])),Array.isArray(I)&&(he=I[0]*Ct,be=I[1]*Ct),isNaN(he)&&(he=i[0],be=i[1]),(he>14400||be>14400)&&(Ln.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),he=Math.min(14400,he),be=Math.min(14400,be)),i=[he,be],n.substr(0,1)){case"l":be>he&&(i=[be,he]);break;case"p":he>be&&(i=[be,he])}Co(i),bt(au),Y(Ls),Cn!==0&&Y(Cn+" J"),Rc!==0&&Y(Rc+" j"),qt.publish("addPage",{pageNumber:$t})},Ac=function(I){I>0&&I<=$t&&(ne.splice(I,1),vt.splice(I,1),$t--,G>$t&&(G=$t),this.setPage(G))},Tc=function(I){I>0&&I<=$t&&(G=I)},Ic=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return ne.length-1},Pc=function(I,q,ie){var he,be=void 0;return ie=ie||{},I=I!==void 0?I:Ut[st].fontName,q=q!==void 0?q:Ut[st].fontStyle,he=I.toLowerCase(),Lt[he]!==void 0&&Lt[he][q]!==void 0?be=Lt[he][q]:Lt[I]!==void 0&&Lt[I][q]!==void 0?be=Lt[I][q]:ie.disableWarning===!1&&Ln.warn("Unable to look up font label for font '"+I+"', '"+q+"'. Refer to getFontList() for available fonts."),be||ie.noFallback||(be=Lt.times[q])==null&&(be=Lt.times.normal),be},fo=h.__private__.putInfo=function(){var I=Zn(),q=function(he){return he};for(var ie in c!==null&&(q=Rn.encryptor(I,0)),Y("<<"),Y("/Producer ("+ii(q("jsPDF "+pt.version))+")"),jt)jt.hasOwnProperty(ie)&&jt[ie]&&Y("/"+ie.substr(0,1).toUpperCase()+ie.substr(1)+" ("+ii(q(jt[ie]))+")");Y("/CreationDate ("+ii(q(re))+")"),Y(">>"),Y("endobj")},va=h.__private__.putCatalog=function(I){var q=(I=I||{}).rootDictionaryObjId||ha;switch(Zn(),Y("<<"),Y("/Type /Catalog"),Y("/Pages "+q+" 0 R"),nt||(nt="fullwidth"),nt){case"fullwidth":Y("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Y("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Y("/OpenAction [3 0 R /Fit]");break;case"original":Y("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ie=""+nt;ie.substr(ie.length-1)==="%"&&(nt=parseInt(nt)/100),typeof nt=="number"&&Y("/OpenAction [3 0 R /XYZ null null "+P(nt)+"]")}switch(Ft||(Ft="continuous"),Ft){case"continuous":Y("/PageLayout /OneColumn");break;case"single":Y("/PageLayout /SinglePage");break;case"two":case"twoleft":Y("/PageLayout /TwoColumnLeft");break;case"tworight":Y("/PageLayout /TwoColumnRight")}ot&&Y("/PageMode /"+ot),qt.publish("putCatalog"),Y(">>"),Y("endobj")},Xf=h.__private__.putTrailer=function(){Y("trailer"),Y("<<"),Y("/Size "+(pe+1)),Y("/Root "+pe+" 0 R"),Y("/Info "+(pe-1)+" 0 R"),c!==null&&Y("/Encrypt "+Rn.oid+" 0 R"),Y("/ID [ <"+le+"> <"+le+"> ]"),Y(">>")},or=h.__private__.putHeader=function(){Y("%PDF-"+y),Y("%")},Qf=h.__private__.putXRef=function(){var I="0000000000";Y("xref"),Y("0 "+(pe+1)),Y("0000000000 65535 f ");for(var q=1;q<=pe;q++)typeof _e[q]=="function"?Y((I+_e[q]()).slice(-10)+" 00000 n "):_e[q]!==void 0?Y((I+_e[q]).slice(-10)+" 00000 n "):Y("0000000000 00000 n ")},ts=h.__private__.buildDocument=function(){var I;pe=0,ee=0,Te=[],_e=[],me=[],ha=Lr(),Ci=Lr(),ke(Te),qt.publish("buildDocument"),or(),Po(),function(){qt.publish("putAdditionalObjects");for(var ie=0;ie<me.length;ie++){var he=me[ie];er(he.objId,!0),Y(he.content),Y("endobj")}qt.publish("postPutAdditionalObjects")}(),I=[],function(){for(var ie in Ut)Ut.hasOwnProperty(ie)&&(f===!1||f===!0&&d.hasOwnProperty(ie))&&Os(Ut[ie])}(),function(){var ie;for(ie in _t)_t.hasOwnProperty(ie)&&_p(_t[ie])}(),function(){for(var ie in Sr)Sr.hasOwnProperty(ie)&&ma(Sr[ie])}(),function(ie){var he;for(he in gt)gt.hasOwnProperty(he)&&(gt[he]instanceof Jc?tl(gt[he]):gt[he]instanceof zd&&nl(gt[he],ie))}(I),qt.publish("putResources"),I.forEach(ga),ga({resourcesOid:Ci,objectOid:Number.MAX_SAFE_INTEGER}),qt.publish("postPutResources"),c!==null&&(Rn.oid=Zn(),Y("<<"),Y("/Filter /Standard"),Y("/V "+Rn.v),Y("/R "+Rn.r),Y("/U <"+Rn.toHexString(Rn.U)+">"),Y("/O <"+Rn.toHexString(Rn.O)+">"),Y("/P "+Rn.P),Y(">>"),Y("endobj")),fo(),va();var q=ee;return Qf(),Xf(),Y("startxref"),Y(""+q),Y("%%EOF"),ke(ne[G]),Te.join(`
`)},rl=h.__private__.getBlob=function(I){return new Blob([et(I)],{type:"application/pdf"})},Cc=h.output=h.__private__.output=(ri=function(I,q){switch(typeof(q=q||{})=="string"?q={filename:q}:q.filename=q.filename||"generated.pdf",I){case void 0:return ts();case"save":h.save(q.filename);break;case"arraybuffer":return et(ts());case"blob":return rl(ts());case"bloburi":case"bloburl":if(Tt.URL!==void 0&&typeof Tt.URL.createObjectURL=="function")return Tt.URL&&Tt.URL.createObjectURL(rl(ts()))||void 0;Ln.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ie="",he=ts();try{ie=sD(he)}catch{ie=sD(unescape(encodeURIComponent(he)))}return"data:application/pdf;filename="+q.filename+";base64,"+ie;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Tt)==="[object Window]"){var be="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Oe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';q.pdfObjectUrl&&(be=q.pdfObjectUrl,Oe="");var Fe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+be+'"'+Oe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(q)+");<\/script></body></html>",Je=Tt.open();return Je!==null&&Je.document.write(Fe),Je}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Tt)==="[object Window]"){var at='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+q.filename+'" width="500px" height="400px" /></body></html>',St=Tt.open();if(St!==null){St.document.write(at);var Nt=this;St.document.documentElement.querySelector("#pdfViewer").onload=function(){St.document.title=q.filename,St.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Nt.output("bloburl"))}}return St}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Tt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Jt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",q)+'"></iframe></body></html>',dn=Tt.open();if(dn!==null&&(dn.document.write(Jt),dn.document.title=q.filename),dn||typeof safari>"u")return dn;break;case"datauri":case"dataurl":return Tt.document.location.href=this.output("datauristring",q);default:return null}},ri.foo=function(){try{return ri.apply(this,arguments)}catch(ie){var I=ie.stack||"";~I.indexOf(" at ")&&(I=I.split(" at ")[1]);var q="Error in function "+I.split(`
`)[0].split("<")[0]+": "+ie.message;if(!Tt.console)throw new Error(q);Tt.console.error(q,ie),Tt.alert&&alert(q)}},ri.foo.bar=ri,ri.foo),ho=function(I){return Array.isArray(da)===!0&&da.indexOf(I)>-1};switch(r){case"pt":Ct=1;break;case"mm":Ct=72/25.4;break;case"cm":Ct=72/2.54;break;case"in":Ct=72;break;case"px":Ct=ho("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ct=12;break;case"ex":Ct=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ct=r}var Rn=null;ge(),Q();var zr=h.__private__.getPageInfo=h.getPageInfo=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:vt[I].objId,pageNumber:I,pageContext:vt[I]}},il=h.__private__.getPageInfoByObjId=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var q in vt)if(vt[q].objId===I)break;return zr(q)},su=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:vt[G].objId,pageNumber:G,pageContext:vt[G]}};h.addPage=function(){return ou.apply(this,arguments),this},h.setPage=function(){return Tc.apply(this,arguments),ke.call(this,ne[G]),this},h.insertPage=function(I){return this.addPage(),this.movePage(G,I),this},h.movePage=function(I,q){var ie,he;if(I>q){ie=ne[I],he=vt[I];for(var be=I;be>q;be--)ne[be]=ne[be-1],vt[be]=vt[be-1];ne[q]=ie,vt[q]=he,this.setPage(q)}else if(I<q){ie=ne[I],he=vt[I];for(var Oe=I;Oe<q;Oe++)ne[Oe]=ne[Oe+1],vt[Oe]=vt[Oe+1];ne[q]=ie,vt[q]=he,this.setPage(q)}return this},h.deletePage=function(){return Ac.apply(this,arguments),this},h.__private__.text=h.text=function(I,q,ie,he,be){var Oe,Fe,Je,at,St,Nt,Jt,dn,sr,_n=(he=he||{}).scope||this;if(typeof I=="number"&&typeof q=="number"&&(typeof ie=="string"||Array.isArray(ie))){var pr=ie;ie=q,q=I,I=pr}if(arguments[3]instanceof wt==0?(Je=arguments[4],at=arguments[5],An(Jt=arguments[3])==="object"&&Jt!==null||(typeof Je=="string"&&(at=Je,Je=null),typeof Jt=="string"&&(at=Jt,Jt=null),typeof Jt=="number"&&(Je=Jt,Jt=null),he={flags:Jt,angle:Je,align:at})):(T("The transform parameter of text() with a Matrix value"),sr=be),isNaN(q)||isNaN(ie)||I==null)throw new Error("Invalid arguments passed to jsPDF.text");if(I.length===0)return _n;var ar,mr="",lr=typeof he.lineHeightFactor=="number"?he.lineHeightFactor:wa,po=_n.internal.scaleFactor;function ls(yn){return yn=yn.split("	").join(Array(he.TabLen||9).join(" ")),ii(yn,Jt)}function us(yn){for(var On,Tr=yn.concat(),Hr=[],cl=Tr.length;cl--;)typeof(On=Tr.shift())=="string"?Hr.push(On):Array.isArray(yn)&&(On.length===1||On[1]===void 0&&On[2]===void 0)?Hr.push(On[0]):Hr.push([On[0],On[1],On[2]]);return Hr}function g(yn,On){var Tr;if(typeof yn=="string")Tr=On(yn)[0];else if(Array.isArray(yn)){for(var Hr,cl,Mp=yn.concat(),sd=[],Uv=Mp.length;Uv--;)typeof(Hr=Mp.shift())=="string"?sd.push(On(Hr)[0]):Array.isArray(Hr)&&typeof Hr[0]=="string"&&(cl=On(Hr[0],Hr[1],Hr[2]),sd.push([cl[0],cl[1],cl[2]]));Tr=sd}return Tr}var M=!1,V=!0;if(typeof I=="string")M=!0;else if(Array.isArray(I)){var X=I.concat();Fe=[];for(var xe,Pe=X.length;Pe--;)(typeof(xe=X.shift())!="string"||Array.isArray(xe)&&typeof xe[0]!="string")&&(V=!1);M=V}if(M===!1)throw new Error('Type of text must be string or Array. "'+I+'" is not recognized.');typeof I=="string"&&(I=I.match(/[\r?\n]/)?I.split(/\r\n|\r|\n/g):[I]);var ze=Le/_n.internal.scaleFactor,Qt=ze*(lr-1);switch(he.baseline){case"bottom":ie-=Qt;break;case"top":ie+=ze-Qt;break;case"hanging":ie+=ze-2*Qt;break;case"middle":ie+=ze/2-Qt}if((Nt=he.maxWidth||0)>0&&(typeof I=="string"?I=_n.splitTextToSize(I,Nt):Object.prototype.toString.call(I)==="[object Array]"&&(I=I.reduce(function(yn,On){return yn.concat(_n.splitTextToSize(On,Nt))},[]))),Oe={text:I,x:q,y:ie,options:he,mutex:{pdfEscape:ii,activeFontKey:st,fonts:Ut,activeFontSize:Le}},qt.publish("preProcessText",Oe),I=Oe.text,Je=(he=Oe.options).angle,sr instanceof wt==0&&Je&&typeof Je=="number"){Je*=Math.PI/180,he.rotationDirection===0&&(Je=-Je),k===E&&(Je=-Je);var ur=Math.cos(Je),zt=Math.sin(Je);sr=new wt(ur,zt,-zt,ur,0,0)}else Je&&Je instanceof wt&&(sr=Je);k!==E||sr||(sr=es),(St=he.charSpace||is)!==void 0&&(mr+=C(U(St))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(dn=he.horizontalScale)!==void 0&&(mr+=C(100*dn)+` Tz
`),he.lang;var an=-1,$n=he.renderingMode!==void 0?he.renderingMode:he.stroke,ko=_n.internal.getCurrentPageInfo().pageContext;switch($n){case 0:case!1:case"fill":an=0;break;case 1:case!0:case"stroke":an=1;break;case 2:case"fillThenStroke":an=2;break;case 3:case"invisible":an=3;break;case 4:case"fillAndAddForClipping":an=4;break;case 5:case"strokeAndAddPathForClipping":an=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":an=6;break;case 7:case"addToPathForClipping":an=7}var ki=ko.usedRenderingMode!==void 0?ko.usedRenderingMode:-1;an!==-1?mr+=an+` Tr
`:ki!==-1&&(mr+=`0 Tr
`),an!==-1&&(ko.usedRenderingMode=an),at=he.align||"left";var mi,Ds=Le*lr,Ip=_n.internal.pageSize.getWidth(),Pp=Ut[st];St=he.charSpace||is,Nt=he.maxWidth||0,Jt=Object.assign({autoencode:!0,noBOM:!0},he.flags);var du=[],Lc=function(yn){return _n.getStringUnitWidth(yn,{font:Pp,charSpace:St,fontSize:Le,doKerning:!1})*Le/po};if(Object.prototype.toString.call(I)==="[object Array]"){var Ro;Fe=us(I),at!=="left"&&(mi=Fe.map(Lc));var Oo,hu=0;if(at==="right"){q-=mi[0],I=[],Pe=Fe.length;for(var ul=0;ul<Pe;ul++)ul===0?(Oo=oi(q),Ro=Ms(ie)):(Oo=U(hu-mi[ul]),Ro=-Ds),I.push([Fe[ul],Oo,Ro]),hu=mi[ul]}else if(at==="center"){q-=mi[0]/2,I=[],Pe=Fe.length;for(var pu=0;pu<Pe;pu++)pu===0?(Oo=oi(q),Ro=Ms(ie)):(Oo=U((hu-mi[pu])/2),Ro=-Ds),I.push([Fe[pu],Oo,Ro]),hu=mi[pu]}else if(at==="left"){I=[],Pe=Fe.length;for(var Cp=0;Cp<Pe;Cp++)I.push(Fe[Cp])}else if(at==="justify"&&Pp.encoding==="Identity-H"){I=[],Pe=Fe.length,Nt=Nt!==0?Nt:Ip;for(var od=0,Ar=0;Ar<Pe;Ar++)if(Ro=Ar===0?Ms(ie):-Ds,Oo=Ar===0?oi(q):od,Ar<Pe-1){var Fv=U((Nt-mi[Ar])/(Fe[Ar].split(" ").length-1)),xa=Fe[Ar].split(" ");I.push([xa[0]+" ",Oo,Ro]),od=0;for(var Sa=1;Sa<xa.length;Sa++){var Np=(Lc(xa[Sa-1]+" "+xa[Sa])-Lc(xa[Sa]))*po+Fv;Sa==xa.length-1?I.push([xa[Sa],Np,0]):I.push([xa[Sa]+" ",Np,0]),od-=Np}}else I.push([Fe[Ar],Oo,Ro]);I.push(["",od,0])}else{if(at!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(I=[],Pe=Fe.length,Nt=Nt!==0?Nt:Ip,Ar=0;Ar<Pe;Ar++){Ro=Ar===0?Ms(ie):-Ds,Oo=Ar===0?oi(q):0;var kp=Fe[Ar].split(" ").length-1,Rp=kp>0?(Nt-mi[Ar])/kp:0;Ar<Pe-1?du.push(C(U(Rp))):du.push(0),I.push([Fe[Ar],Oo,Ro])}}}(typeof he.R2L=="boolean"?he.R2L:it)===!0&&(I=g(I,function(yn,On,Tr){return[yn.split("").reverse().join(""),On,Tr]})),Oe={text:I,x:q,y:ie,options:he,mutex:{pdfEscape:ii,activeFontKey:st,fonts:Ut,activeFontSize:Le}},qt.publish("postProcessText",Oe),I=Oe.text,ar=Oe.mutex.isHex||!1;var Op=Ut[st].encoding;Op!=="WinAnsiEncoding"&&Op!=="StandardEncoding"||(I=g(I,function(yn,On,Tr){return[ls(yn),On,Tr]})),Fe=us(I),I=[];for(var mu,gu,vu,Dc=Array.isArray(Fe[0])?1:0,yu="",Fc=function(yn,On,Tr){var Hr="";return Tr instanceof wt?(Tr=typeof he.angle=="number"?zn(Tr,new wt(1,0,0,1,yn,On)):zn(new wt(1,0,0,1,yn,On),Tr),k===E&&(Tr=zn(new wt(1,0,0,-1,0,0),Tr)),Hr=Tr.join(" ")+` Tm
`):Hr=C(yn)+" "+C(On)+` Td
`,Hr},cs=0;cs<Fe.length;cs++){switch(yu="",Dc){case 1:vu=(ar?"<":"(")+Fe[cs][0]+(ar?">":")"),mu=parseFloat(Fe[cs][1]),gu=parseFloat(Fe[cs][2]);break;case 0:vu=(ar?"<":"(")+Fe[cs]+(ar?">":")"),mu=oi(q),gu=Ms(ie)}du!==void 0&&du[cs]!==void 0&&(yu=du[cs]+` Tw
`),cs===0?I.push(yu+Fc(mu,gu,sr)+vu):Dc===0?I.push(yu+vu):Dc===1&&I.push(yu+Fc(mu,gu,sr)+vu)}I=Dc===0?I.join(` Tj
T* `):I.join(` Tj
`),I+=` Tj
`;var Ea=`BT
/`;return Ea+=st+" "+Le+` Tf
`,Ea+=C(Le*lr)+` TL
`,Ea+=No+`
`,Ea+=mr,Ea+=I,Y(Ea+="ET"),d[st]=!0,_n};var Zf=h.__private__.clip=h.clip=function(I){return Y(I==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return Zf("evenodd")},h.__private__.discardPath=h.discardPath=function(){return Y("n"),this};var Yt=h.__private__.isValidStyle=function(I){var q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(I)!==-1&&(q=!0),q};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(I){return Yt(I)&&(u=I),this};var ol=h.__private__.getStyle=h.getStyle=function(I){var q=u;switch(I){case"D":case"S":q="S";break;case"F":q="f";break;case"FD":case"DF":q="B";break;case"f":case"f*":case"B":case"B*":q=I}return q},ya=h.close=function(){return Y("h"),this};h.stroke=function(){return Y("S"),this},h.fill=function(I){return ns("f",I),this},h.fillEvenOdd=function(I){return ns("f*",I),this},h.fillStroke=function(I){return ns("B",I),this},h.fillStrokeEvenOdd=function(I){return ns("B*",I),this};var ns=function(I,q){An(q)==="object"?bp(q,I):Y(I)},sl=function(I){I===null||k===E&&I===void 0||(I=ol(I),Y(I))};function ed(I,q,ie,he,be){var Oe=new zd(q||this.boundingBox,ie||this.xStep,he||this.yStep,this.gState,be||this.matrix);Oe.stream=this.stream;var Fe=I+"$$"+this.cloneIndex+++"$$";return ni(Fe,Oe),Oe}var bp=function(I,q){var ie=gn[I.key],he=gt[ie];if(he instanceof Jc)Y("q"),Y(xp(q)),he.gState&&h.setGState(he.gState),Y(I.matrix.toString()+" cm"),Y("/"+ie+" sh"),Y("Q");else if(he instanceof zd){var be=new wt(1,0,0,-1,0,as());I.matrix&&(be=be.multiply(I.matrix||es),ie=ed.call(he,I.key,I.boundingBox,I.xStep,I.yStep,be).id),Y("q"),Y("/Pattern cs"),Y("/"+ie+" scn"),he.gState&&h.setGState(he.gState),Y(q),Y("Q")}},xp=function(I){switch(I){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Nc=h.moveTo=function(I,q){return Y(C(U(I))+" "+C(W(q))+" m"),this},td=h.lineTo=function(I,q){return Y(C(U(I))+" "+C(W(q))+" l"),this},pi=h.curveTo=function(I,q,ie,he,be,Oe){return Y([C(U(I)),C(W(q)),C(U(ie)),C(W(he)),C(U(be)),C(W(Oe)),"c"].join(" ")),this};h.__private__.line=h.line=function(I,q,ie,he,be){if(isNaN(I)||isNaN(q)||isNaN(ie)||isNaN(he)||!Yt(be))throw new Error("Invalid arguments passed to jsPDF.line");return k===S?this.lines([[ie-I,he-q]],I,q,[1,1],be||"S"):this.lines([[ie-I,he-q]],I,q,[1,1]).stroke()},h.__private__.lines=h.lines=function(I,q,ie,he,be,Oe){var Fe,Je,at,St,Nt,Jt,dn,sr,_n,pr,ar,mr;if(typeof I=="number"&&(mr=ie,ie=q,q=I,I=mr),he=he||[1,1],Oe=Oe||!1,isNaN(q)||isNaN(ie)||!Array.isArray(I)||!Array.isArray(he)||!Yt(be)||typeof Oe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Nc(q,ie),Fe=he[0],Je=he[1],St=I.length,pr=q,ar=ie,at=0;at<St;at++)(Nt=I[at]).length===2?(pr=Nt[0]*Fe+pr,ar=Nt[1]*Je+ar,td(pr,ar)):(Jt=Nt[0]*Fe+pr,dn=Nt[1]*Je+ar,sr=Nt[2]*Fe+pr,_n=Nt[3]*Je+ar,pr=Nt[4]*Fe+pr,ar=Nt[5]*Je+ar,pi(Jt,dn,sr,_n,pr,ar));return Oe&&ya(),sl(be),this},h.path=function(I){for(var q=0;q<I.length;q++){var ie=I[q],he=ie.c;switch(ie.op){case"m":Nc(he[0],he[1]);break;case"l":td(he[0],he[1]);break;case"c":pi.apply(this,he);break;case"h":ya()}}return this},h.__private__.rect=h.rect=function(I,q,ie,he,be){if(isNaN(I)||isNaN(q)||isNaN(ie)||isNaN(he)||!Yt(be))throw new Error("Invalid arguments passed to jsPDF.rect");return k===S&&(he=-he),Y([C(U(I)),C(W(q)),C(U(ie)),C(U(he)),"re"].join(" ")),sl(be),this},h.__private__.triangle=h.triangle=function(I,q,ie,he,be,Oe,Fe){if(isNaN(I)||isNaN(q)||isNaN(ie)||isNaN(he)||isNaN(be)||isNaN(Oe)||!Yt(Fe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ie-I,he-q],[be-ie,Oe-he],[I-be,q-Oe]],I,q,[1,1],Fe,!0),this},h.__private__.roundedRect=h.roundedRect=function(I,q,ie,he,be,Oe,Fe){if(isNaN(I)||isNaN(q)||isNaN(ie)||isNaN(he)||isNaN(be)||isNaN(Oe)||!Yt(Fe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Je=4/3*(Math.SQRT2-1);return be=Math.min(be,.5*ie),Oe=Math.min(Oe,.5*he),this.lines([[ie-2*be,0],[be*Je,0,be,Oe-Oe*Je,be,Oe],[0,he-2*Oe],[0,Oe*Je,-be*Je,Oe,-be,Oe],[2*be-ie,0],[-be*Je,0,-be,-Oe*Je,-be,-Oe],[0,2*Oe-he],[0,-Oe*Je,be*Je,-Oe,be,-Oe]],I+be,q,[1,1],Fe,!0),this},h.__private__.ellipse=h.ellipse=function(I,q,ie,he,be){if(isNaN(I)||isNaN(q)||isNaN(ie)||isNaN(he)||!Yt(be))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Oe=4/3*(Math.SQRT2-1)*ie,Fe=4/3*(Math.SQRT2-1)*he;return Nc(I+ie,q),pi(I+ie,q-Fe,I+Oe,q-he,I,q-he),pi(I-Oe,q-he,I-ie,q-Fe,I-ie,q),pi(I-ie,q+Fe,I-Oe,q+he,I,q+he),pi(I+Oe,q+he,I+ie,q+Fe,I+ie,q),sl(be),this},h.__private__.circle=h.circle=function(I,q,ie,he){if(isNaN(I)||isNaN(q)||isNaN(ie)||!Yt(he))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(I,q,ie,ie,he)},h.setFont=function(I,q,ie){return ie&&(q=N(q,ie)),st=Pc(I,q,{disableWarning:!1}),this};var rs=h.__private__.getFont=h.getFont=function(){return Ut[Pc.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var I,q,ie={};for(I in Lt)if(Lt.hasOwnProperty(I))for(q in ie[I]=[],Lt[I])Lt[I].hasOwnProperty(q)&&ie[I].push(q);return ie},h.addFont=function(I,q,ie,he,be){var Oe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Oe.indexOf(arguments[3])!==-1?be=arguments[3]:arguments[3]&&Oe.indexOf(arguments[3])==-1&&(ie=N(ie,he)),iu.call(this,I,q,ie,be=be||"Identity-H")};var wa,au=t.lineWidth||.200025,nd=h.__private__.getLineWidth=h.getLineWidth=function(){return au},bt=h.__private__.setLineWidth=h.setLineWidth=function(I){return au=I,Y(C(U(I))+" w"),this};h.__private__.setLineDash=pt.API.setLineDash=pt.API.setLineDashPattern=function(I,q){if(I=I||[],q=q||0,isNaN(q)||!Array.isArray(I))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return I=I.map(function(ie){return C(U(ie))}).join(" "),q=C(U(q)),Y("["+I+"] "+q+" d"),this};var Sp=h.__private__.getLineHeight=h.getLineHeight=function(){return Le*wa};h.__private__.getLineHeight=h.getLineHeight=function(){return Le*wa};var Ep=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(I){return typeof(I=I||1.15)=="number"&&(wa=I),this},Ap=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return wa};Ep(t.lineHeight);var oi=h.__private__.getHorizontalCoordinate=function(I){return U(I)},Ms=h.__private__.getVerticalCoordinate=function(I){return k===E?I:vt[G].mediaBox.topRightY-vt[G].mediaBox.bottomLeftY-U(I)},Tp=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(I){return C(oi(I))},lu=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(I){return C(Ms(I))},Ls=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Io(Ls)},h.__private__.setStrokeColor=h.setDrawColor=function(I,q,ie,he){return Ls=Yi({ch1:I,ch2:q,ch3:ie,ch4:he,pdfColorType:"draw",precision:2}),Y(Ls),this};var uu=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Io(uu)},h.__private__.setFillColor=h.setFillColor=function(I,q,ie,he){return uu=Yi({ch1:I,ch2:q,ch3:ie,ch4:he,pdfColorType:"fill",precision:2}),Y(uu),this};var No=t.textColor||"0 g",al=h.__private__.getTextColor=h.getTextColor=function(){return Io(No)};h.__private__.setTextColor=h.setTextColor=function(I,q,ie,he){return No=Yi({ch1:I,ch2:q,ch3:ie,ch4:he,pdfColorType:"text",precision:3}),this};var is=t.charSpace,kc=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(is||0)};h.__private__.setCharSpace=h.setCharSpace=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return is=I,this};var Cn=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(I){var q=h.CapJoinStyles[I];if(q===void 0)throw new Error("Line cap style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Cn=q,Y(q+" J"),this};var Rc=0;h.__private__.setLineJoin=h.setLineJoin=function(I){var q=h.CapJoinStyles[I];if(q===void 0)throw new Error("Line join style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Rc=q,Y(q+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(I){if(I=I||0,isNaN(I))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Y(C(U(I))+" M"),this},h.GState=kw,h.setGState=function(I){(I=typeof I=="string"?_t[It[I]]:rd(null,I)).equals(vn)||(Y("/"+I.id+" gs"),vn=I)};var rd=function(I,q){if(!I||!It[I]){var ie=!1;for(var he in _t)if(_t.hasOwnProperty(he)&&_t[he].equals(q)){ie=!0;break}if(ie)q=_t[he];else{var be="GS"+(Object.keys(_t).length+1).toString(10);_t[be]=q,q.id=be}return I&&(It[I]=q.id),qt.publish("addGState",q),q}};h.addGState=function(I,q){return rd(I,q),this},h.saveGraphicsState=function(){return Y("q"),Un.push({key:st,size:Le,color:No}),this},h.restoreGraphicsState=function(){Y("Q");var I=Un.pop();return st=I.key,Le=I.size,No=I.color,vn=null,this},h.setCurrentTransformationMatrix=function(I){return Y(I.toString()+" cm"),this},h.comment=function(I){return Y("#"+I),this};var os=function(I,q){var ie=I||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ie},set:function(Oe){isNaN(Oe)||(ie=parseFloat(Oe))}});var he=q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return he},set:function(Oe){isNaN(Oe)||(he=parseFloat(Oe))}});var be="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return be},set:function(Oe){be=Oe.toString()}}),this},cu=function(I,q,ie,he){os.call(this,I,q),this.type="rect";var be=ie||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return be},set:function(Fe){isNaN(Fe)||(be=parseFloat(Fe))}});var Oe=he||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Oe},set:function(Fe){isNaN(Fe)||(Oe=parseFloat(Fe))}}),this},ll=function(){this.page=$t,this.currentPage=G,this.pages=ne.slice(0),this.pagesContext=vt.slice(0),this.x=dt,this.y=kn,this.matrix=Kt,this.width=Ji(G),this.height=id(G),this.outputDestination=Ce,this.id="",this.objectNumber=-1};ll.prototype.restore=function(){$t=this.page,G=this.currentPage,vt=this.pagesContext,ne=this.pages,dt=this.x,kn=this.y,Kt=this.matrix,Oc(G,this.width),Xi(G,this.height),Ce=this.outputDestination};var _a=function(I,q,ie,he,be){Pi.push(new ll),$t=G=0,ne=[],dt=I,kn=q,Kt=be,Co([ie,he])};for(var ba in h.beginFormObject=function(I,q,ie,he,be){return _a(I,q,ie,he,be),this},h.endFormObject=function(I){return function(q){if(Zo[q])Pi.pop().restore();else{var ie=new ll,he="Xo"+(Object.keys(Sr).length+1).toString(10);ie.id=he,Zo[q]=he,Sr[he]=ie,qt.publish("addFormObject",ie),Pi.pop().restore()}}(I),this},h.doFormObject=function(I,q){var ie=Sr[Zo[I]];return Y("q"),Y(q.toString()+" cm"),Y("/"+ie.id+" Do"),Y("Q"),this},h.getFormObject=function(I){var q=Sr[Zo[I]];return{x:q.x,y:q.y,width:q.width,height:q.height,matrix:q.matrix}},h.save=function(I,q){return I=I||"generated.pdf",(q=q||{}).returnPromise=q.returnPromise||!1,q.returnPromise===!1?(Wc(rl(ts()),I),typeof Wc.unload=="function"&&Tt.setTimeout&&setTimeout(Wc.unload,911),this):new Promise(function(ie,he){try{var be=Wc(rl(ts()),I);typeof Wc.unload=="function"&&Tt.setTimeout&&setTimeout(Wc.unload,911),ie(be)}catch(Oe){he(Oe.message)}})},pt.API)pt.API.hasOwnProperty(ba)&&(ba==="events"&&pt.API.events.length?function(I,q){var ie,he,be;for(be=q.length-1;be!==-1;be--)ie=q[be][0],he=q[be][1],I.subscribe.apply(I,[ie].concat(typeof he=="function"?[he]:he))}(qt,pt.API.events):h[ba]=pt.API[ba]);function Ji(I){return vt[I].mediaBox.topRightX-vt[I].mediaBox.bottomLeftX}function Oc(I,q){vt[I].mediaBox.topRightX=q+vt[I].mediaBox.bottomLeftX}function id(I){return vt[I].mediaBox.topRightY-vt[I].mediaBox.bottomLeftY}function Xi(I,q){vt[I].mediaBox.topRightY=q+vt[I].mediaBox.bottomLeftY}var ss=h.getPageWidth=function(I){return Ji(I=I||G)/Ct},fu=h.setPageWidth=function(I,q){Oc(I,q*Ct)},as=h.getPageHeight=function(I){return id(I=I||G)/Ct},Mc=h.setPageHeight=function(I,q){Xi(I,q*Ct)};return h.internal={pdfEscape:ii,getStyle:ol,getFont:rs,getFontSize:We,getCharSpace:kc,getTextColor:al,getLineHeight:Sp,getLineHeightFactor:Ap,getLineWidth:nd,write:Ue,getHorizontalCoordinate:oi,getVerticalCoordinate:Ms,getCoordinateString:Tp,getVerticalCoordinateString:lu,collections:{},newObject:Zn,newAdditionalObject:el,newObjectDeferred:Lr,newObjectDeferredBegin:er,getFilters:Ni,putStream:Er,events:qt,scaleFactor:Ct,pageSize:{getWidth:function(){return ss(G)},setWidth:function(I){fu(G,I)},getHeight:function(){return as(G)},setHeight:function(I){Mc(G,I)}},encryptionOptions:c,encryption:Rn,getEncryptor:function(I){return c!==null?Rn.encryptor(I,0):function(q){return q}},output:Cc,getNumberOfPages:Ic,get pages(){return ne},out:Y,f2:P,f3:D,getPageInfo:zr,getPageInfoByObjId:il,getCurrentPageInfo:su,getPDFVersion:b,Point:os,Rectangle:cu,Matrix:wt,hasHotfix:ho},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return ss(G)},set:function(I){fu(G,I)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return as(G)},set:function(I){Mc(G,I)},enumerable:!0,configurable:!0}),(function(I){for(var q=0,ie=Ye.length;q<ie;q++){var he=iu.call(this,I[q][0],I[q][1],I[q][2],Ye[q][3],!0);f===!1&&(d[he]=!0);var be=I[q][0].split("-");Ec({id:he,fontName:be[0],fontStyle:be[1]||""})}qt.publish("addFonts",{fonts:Ut,dictionary:Lt})}).call(h,Ye),st="F1",ou(i,n),qt.publish("initialized"),h}Ed.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Ed.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ed.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Ed.prototype.processOwnerPassword=function(t,e){return J5(Y5(e).substr(0,5),t)},Ed.prototype.encryptor=function(t,e){var n=Y5(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return J5(n,r)}},kw.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||An(t)!==An(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},pt.API={events:[]},pt.version="3.0.4";var yr=pt.API,yP=1,Jf=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},gd=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Rt=function(t){return t.toFixed(2)},Pu=function(t){return t.toFixed(5)};yr.__acroform__={};var To=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},cD=function(t){return t*yP},Pa=function(t){var e=new eq,n=rt.internal.getHeight(t)||0,r=rt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Rt(r)),Number(Rt(n))],e},zOe=yr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},HOe=yr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},GOe=yr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Rr=yr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return GOe(t,e-1)},Or=yr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return zOe(t,e-1)},Mr=yr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return HOe(t,e-1)},WOe=yr.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],o=t[1],s=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(o+a)||0,l.upperRight_X=n(i+s)||0,l.upperRight_Y=r(o)||0,[Number(Rt(l.lowerLeft_X)),Number(Rt(l.lowerLeft_Y)),Number(Rt(l.upperRight_X)),Number(Rt(l.upperRight_Y))]},KOe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=X5(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Rt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Pa(t);return o.scope=t.scope,o.stream=e.join(`
`),o}},X5=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(P){return P.split(`
`)}):i.map(function(P){return[P]});var o=n,s=rt.internal.getHeight(t)||0;s=s<0?-s:s;var a=rt.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(P,D,U){if(P+1<i.length){var W=D+" "+i[P+1][0];return t0(W,t,U).width<=a-4}return!1};o++;e:for(;o>0;){e="",o--;var u,c,f=t0("3",t,o).height,d=t.multiline?s-o:(s-f)/2,h=d+=2,y=0,b=0,w=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+t0(e,t,o=12).width+", FieldWidth:"+a+`
`;break}for(var _="",S=0,E=0;E<i.length;E++)if(i.hasOwnProperty(E)){var k=!1;if(i[E].length!==1&&w!==i[E].length-1){if((f+2)*(S+2)+2>s)continue e;_+=i[E][w],k=!0,b=E,E--}else{_=(_+=i[E][w]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var R=parseInt(E),F=l(R,_,o),N=E>=i.length-1;if(F&&!N){_+=" ",w=0;continue}if(F||N){if(N)b=R;else if(t.multiline&&(f+2)*(S+2)+2>s)continue e}else{if(!t.multiline||(f+2)*(S+2)+2>s)continue e;b=R}}for(var C="",T=y;T<=b;T++){var $=i[T];if(t.multiline){if(T===b){C+=$[w]+" ",w=(w+1)%$.length;continue}if(T===y){C+=$[$.length-1]+" ";continue}}C+=$[0]+" "}switch(C=C.substr(C.length-1)==" "?C.substr(0,C.length-1):C,c=t0(C,t,o).width,t.textAlign){case"right":u=a-c-2;break;case"center":u=(a-c)/2;break;default:u=2}e+=Rt(u)+" "+Rt(h)+` Td
`,e+="("+Jf(C)+`) Tj
`,e+=-Rt(u)+` 0 Td
`,h=-(o+2),c=0,y=k?b:b+1,S++,_=""}break}return r.text=e,r.fontSize=o,r},t0=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},YOe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},JOe=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},XOe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(ca.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(YOe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");yP=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new tq,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];o.objId=void 0,o.hasAnnotation&&JOe(o,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var o=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var a=r[s],l=[],u=a.Rect;if(a.Rect&&(a.Rect=WOe(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=rt.createDefaultAppearanceStream(a),An(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=u,a.hasAppearanceStream&&!a.appearanceStreamContent){var c=KOe(a);l.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(a.appearanceStreamContent){var f="";for(var d in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(d)){var h=a.appearanceStreamContent[d];if(f+="/"+d+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var s in h)if(h.hasOwnProperty(s)){var y=h[s];typeof y=="function"&&(y=y.call(i,a)),f+="/"+s+" "+y+" ",i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y)}}else typeof(y=h)=="function"&&(y=y.call(i,a)),f+="/"+s+" "+y,i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}o&&function(b,w){for(var _ in b)if(b.hasOwnProperty(_)){var S=_,E=b[_];w.internal.newObjectDeferredBegin(E.objId,!0),An(E)==="object"&&typeof E.putStream=="function"&&E.putStream(),delete b[S]}}(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},ZV=yr.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(s){return s};if(Array.isArray(t)){for(var i="[",o=0;o<t.length;o++)switch(o!==0&&(i+=" "),An(t[o])){case"boolean":case"number":case"object":i+=t[o].toString();break;case"string":t[o].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Jf(r(t[o].toString()))+")"):i+=t[o].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ex=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+Jf(r(t))+")"},La=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};La.prototype.toString=function(){return this.objId+" 0 R"},La.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},La.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:ZV(i,this.objId,this.scope)}):i instanceof La?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var eq=function(){La.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};To(eq,La);var tq=function(){La.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Jf(n(t))+")"}},set:function(n){t=n}})};To(tq,La);var ca=function t(){La.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');e=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Rr(e,3)},set:function(_){_?this.F=Or(e,3):this.F=Mr(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');n=_}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(_){r=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(_){r[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(_){r[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(_){r[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(_){r[3]=_}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Rw)return;o="FieldObject"+t.FieldNum++}var _=function(S){return S};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+Jf(_(o))+")"},set:function(_){o=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(_){o=_}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(_){s=_}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(_){a=_}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(_){l=_}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/yP:u},set:function(_){u=_}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(_){c=_}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Rw||this instanceof pf))return Ex(f,this.objId,this.scope)},set:function(_){_=_.toString(),f=_}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof ui==0?Ex(d,this.objId,this.scope):d},set:function(_){_=_.toString(),d=this instanceof ui==0?_.substr(0,1)==="("?gd(_.substr(1,_.length-2)):gd(_):_}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ui==1?gd(d.substr(1,d.length-1)):d},set:function(_){_=_.toString(),d=this instanceof ui==1?"/"+_:_}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof ui==0?Ex(h,this.objId,this.scope):h},set:function(_){_=_.toString(),h=this instanceof ui==0?_.substr(0,1)==="("?gd(_.substr(1,_.length-2)):gd(_):_}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ui==1?gd(h.substr(1,h.length-1)):h},set:function(_){_=_.toString(),h=this instanceof ui==1?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(_){_=!!_,b=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(_){y=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,1)},set:function(_){_?this.Ff=Or(this.Ff,1):this.Ff=Mr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,2)},set:function(_){_?this.Ff=Or(this.Ff,2):this.Ff=Mr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,3)},set:function(_){_?this.Ff=Or(this.Ff,3):this.Ff=Mr(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');w=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(w){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:w=2;break;case"center":case 1:w=1;break;default:w=0}}})};To(ca,La);var lh=function(){ca.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ZV(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(o,s,a){a||(a=1);for(var l,u=[];l=s.exec(o);)u.push(l[a]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,18)},set:function(n){n?this.Ff=Or(this.Ff,18):this.Ff=Mr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Or(this.Ff,19):this.Ff=Mr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,20)},set:function(n){n?(this.Ff=Or(this.Ff,20),e.sort()):this.Ff=Mr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,22)},set:function(n){n?this.Ff=Or(this.Ff,22):this.Ff=Mr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,23)},set:function(n){n?this.Ff=Or(this.Ff,23):this.Ff=Mr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,27)},set:function(n){n?this.Ff=Or(this.Ff,27):this.Ff=Mr(this.Ff,27)}}),this.hasAppearanceStream=!1};To(lh,ca);var uh=function(){lh.call(this),this.fontName="helvetica",this.combo=!1};To(uh,lh);var ch=function(){uh.call(this),this.combo=!0};To(ch,uh);var N0=function(){ch.call(this),this.edit=!0};To(N0,ch);var ui=function(){ca.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,15)},set:function(n){n?this.Ff=Or(this.Ff,15):this.Ff=Mr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,16)},set:function(n){n?this.Ff=Or(this.Ff,16):this.Ff=Mr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,17)},set:function(n){n?this.Ff=Or(this.Ff,17):this.Ff=Mr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,26)},set:function(n){n?this.Ff=Or(this.Ff,26):this.Ff=Mr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Jf(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){An(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};To(ui,ca);var k0=function(){ui.call(this),this.pushButton=!0};To(k0,ui);var fh=function(){ui.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};To(fh,ui);var Rw=function(){var t,e;ca.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,s=[];for(o in s.push("<<"),r)s.push("/"+o+" ("+Jf(i(r[o]))+")");return s.push(">>"),s.join(`
`)},set:function(i){An(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=rt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};To(Rw,ca),fh.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},fh.prototype.createOption=function(t){var e=new Rw;return e.Parent=this,e.optionName=t,this.Kids.push(e),QOe.call(this.scope,e),e};var R0=function(){ui.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=rt.CheckBox.createAppearanceStream()};To(R0,ui);var pf=function(){ca.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,13)},set:function(e){e?this.Ff=Or(this.Ff,13):this.Ff=Mr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,21)},set:function(e){e?this.Ff=Or(this.Ff,21):this.Ff=Mr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,23)},set:function(e){e?this.Ff=Or(this.Ff,23):this.Ff=Mr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,24)},set:function(e){e?this.Ff=Or(this.Ff,24):this.Ff=Mr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,25)},set:function(e){e?this.Ff=Or(this.Ff,25):this.Ff=Mr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,26)},set:function(e){e?this.Ff=Or(this.Ff,26):this.Ff=Mr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};To(pf,ca);var O0=function(){pf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Rr(this.Ff,14)},set:function(t){t?this.Ff=Or(this.Ff,14):this.Ff=Mr(this.Ff,14)}}),this.password=!0};To(O0,pf);var rt={CheckBox:{createAppearanceStream:function(){return{N:{On:rt.CheckBox.YesNormal},D:{On:rt.CheckBox.YesPushDown,Off:rt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Pa(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),o=X5(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Rt(rt.internal.getWidth(t))+" "+Rt(rt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Rt(o.fontSize)+" Tf "+i),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Pa(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],o=rt.internal.getHeight(t),s=rt.internal.getWidth(t),a=X5(t,t.caption);return i.push("1 g"),i.push("0 0 "+Rt(s)+" "+Rt(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Rt(s-1)+" "+Rt(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Rt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Pa(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Rt(rt.internal.getWidth(t))+" "+Rt(rt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:rt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=rt.RadioButton.Circle.YesNormal,e.D[t]=rt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Pa(t);e.scope=t.scope;var n=[],r=rt.internal.getWidth(t)<=rt.internal.getHeight(t)?rt.internal.getWidth(t)/4:rt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=rt.internal.Bezier_C,o=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Pu(rt.internal.getWidth(t)/2)+" "+Pu(rt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Pa(t);e.scope=t.scope;var n=[],r=rt.internal.getWidth(t)<=rt.internal.getHeight(t)?rt.internal.getWidth(t)/4:rt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*rt.internal.Bezier_C).toFixed(5)),s=Number((r*rt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Pu(rt.internal.getWidth(t)/2)+" "+Pu(rt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Pu(rt.internal.getWidth(t)/2)+" "+Pu(rt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Pa(t);e.scope=t.scope;var n=[],r=rt.internal.getWidth(t)<=rt.internal.getHeight(t)?rt.internal.getWidth(t)/4:rt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*rt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Pu(rt.internal.getWidth(t)/2)+" "+Pu(rt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:rt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=rt.RadioButton.Cross.YesNormal,e.D[t]=rt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Pa(t);e.scope=t.scope;var n=[],r=rt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Rt(rt.internal.getWidth(t)-2)+" "+Rt(rt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Rt(r.x1.x)+" "+Rt(r.x1.y)+" m"),n.push(Rt(r.x2.x)+" "+Rt(r.x2.y)+" l"),n.push(Rt(r.x4.x)+" "+Rt(r.x4.y)+" m"),n.push(Rt(r.x3.x)+" "+Rt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Pa(t);e.scope=t.scope;var n=rt.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Rt(rt.internal.getWidth(t))+" "+Rt(rt.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Rt(rt.internal.getWidth(t)-2)+" "+Rt(rt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Rt(n.x1.x)+" "+Rt(n.x1.y)+" m"),r.push(Rt(n.x2.x)+" "+Rt(n.x2.y)+" l"),r.push(Rt(n.x4.x)+" "+Rt(n.x4.y)+" m"),r.push(Rt(n.x3.x)+" "+Rt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Pa(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Rt(rt.internal.getWidth(t))+" "+Rt(rt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};rt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=rt.internal.getWidth(t),n=rt.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},rt.internal.getWidth=function(t){var e=0;return An(t)==="object"&&(e=cD(t.Rect[2])),e},rt.internal.getHeight=function(t){var e=0;return An(t)==="object"&&(e=cD(t.Rect[3])),e};var QOe=yr.addField=function(t){if(XOe(this,t),!(t instanceof ca))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};yr.AcroFormChoiceField=lh,yr.AcroFormListBox=uh,yr.AcroFormComboBox=ch,yr.AcroFormEditBox=N0,yr.AcroFormButton=ui,yr.AcroFormPushButton=k0,yr.AcroFormRadioButton=fh,yr.AcroFormCheckBox=R0,yr.AcroFormTextField=pf,yr.AcroFormPasswordField=O0,yr.AcroFormAppearance=rt,yr.AcroForm={ChoiceField:lh,ListBox:uh,ComboBox:ch,EditBox:N0,Button:ui,PushButton:k0,RadioButton:fh,CheckBox:R0,TextField:pf,PasswordField:O0,Appearance:rt},pt.AcroForm={ChoiceField:lh,ListBox:uh,ComboBox:ch,EditBox:N0,Button:ui,PushButton:k0,RadioButton:fh,CheckBox:R0,TextField:pf,PasswordField:O0,Appearance:rt};pt.AcroForm;function nq(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(P,D){var U,W,re,le,ue,Q=n;if((D=D||n)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(F(P))for(ue in r)for(re=r[ue],U=0;U<re.length;U+=1){for(le=!0,W=0;W<re[U].length;W+=1)if(re[U][W]!==void 0&&re[U][W]!==P[W]){le=!1;break}if(le===!0){Q=ue;break}}else for(ue in r)for(re=r[ue],U=0;U<re.length;U+=1){for(le=!0,W=0;W<re[U].length;W+=1)if(re[U][W]!==void 0&&re[U][W]!==P.charCodeAt(W)){le=!1;break}if(le===!0){Q=ue;break}}return Q===n&&D!==n&&(Q=D),Q},o=function P(D){for(var U=this.internal.write,W=this.internal.putStream,re=(0,this.internal.getFilters)();re.indexOf("FlateEncode")!==-1;)re.splice(re.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var le=[];if(le.push({key:"Type",value:"/XObject"}),le.push({key:"Subtype",value:"/Image"}),le.push({key:"Width",value:D.width}),le.push({key:"Height",value:D.height}),D.colorSpace===_.INDEXED?le.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):(le.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===_.DEVICE_CMYK&&le.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),le.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&le.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)&&D.transparency.length>0){for(var ue="",Q=0,ae=D.transparency.length;Q<ae;Q++)ue+=D.transparency[Q]+" "+D.transparency[Q]+" ";le.push({key:"Mask",value:"["+ue+"]"})}D.sMask!==void 0&&le.push({key:"SMask",value:D.objectId+1+" 0 R"});var ye=D.filter!==void 0?["/"+D.filter]:void 0;if(W({data:D.data,additionalKeyValues:le,alreadyAppliedFilters:ye,objectId:D.objectId}),U("endobj"),"sMask"in D&&D.sMask!==void 0){var ge,B=(ge=D.sMaskBitsPerComponent)!==null&&ge!==void 0?ge:D.bitsPerComponent,G={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:B,data:D.sMask};"filter"in D&&(G.decodeParameters="/Predictor ".concat(D.predictor," /Colors 1 /BitsPerComponent ").concat(B," /Columns ").concat(D.width),G.filter=D.filter),P.call(this,G)}if(D.colorSpace===_.INDEXED){var te=this.internal.newObject();W({data:C(new Uint8Array(D.palette)),objectId:te}),U("endobj")}},s=function(){var P=this.internal.collections[e+"images"];for(var D in P)o.call(this,P[D])},a=function(){var P,D=this.internal.collections[e+"images"],U=this.internal.write;for(var W in D)U("/I"+(P=D[W]).index,P.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},u=function(){var P=this.internal.collections[e+"images"];return l.call(this),P},c=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(P){return typeof t["process"+P.toUpperCase()]=="function"},d=function(P){return An(P)==="object"&&P.nodeType===1},h=function(P,D){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var U=""+P.getAttribute("src");if(U.indexOf("data:image/")===0)return C0(unescape(U).split("base64,").pop());var W=t.loadFile(U,!0);if(W!==void 0)return W}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var re;switch(D){case"PNG":re="image/png";break;case"WEBP":re="image/webp";break;default:re="image/jpeg"}return C0(P.toDataURL(re,1).split("base64,").pop())}},y=function(P){var D=this.internal.collections[e+"images"];if(D){for(var U in D)if(P===D[U].alias)return D[U]}},b=function(P,D,U){return P||D||(P=-96,D=-96),P<0&&(P=-1*U.width*72/P/this.internal.scaleFactor),D<0&&(D=-1*U.height*72/D/this.internal.scaleFactor),P===0&&(P=D*U.width/U.height),D===0&&(D=P*U.height/U.width),[P,D]},w=function(P,D,U,W,re,le){var ue=b.call(this,U,W,re),Q=this.internal.getCoordinateString,ae=this.internal.getVerticalCoordinateString,ye=u.call(this);if(U=ue[0],W=ue[1],ye[re.index]=re,le){le*=Math.PI/180;var ge=Math.cos(le),B=Math.sin(le),G=function(ce){return ce.toFixed(4)},te=[G(ge),G(B),G(-1*B),G(ge),0,0,"cm"]}this.internal.write("q"),le?(this.internal.write([1,"0","0",1,Q(P),ae(D+W),"cm"].join(" ")),this.internal.write(te.join(" ")),this.internal.write([Q(U),"0","0",Q(W),"0","0","cm"].join(" "))):this.internal.write([Q(U),"0","0",Q(W),Q(P),ae(D+W),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+re.index+" Do"),this.internal.write("Q")},_=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},E=t.__addimage__.sHashCode=function(P){var D,U,W=0;if(typeof P=="string")for(U=P.length,D=0;D<U;D++)W=(W<<5)-W+P.charCodeAt(D),W|=0;else if(F(P))for(U=P.byteLength/2,D=0;D<U;D++)W=(W<<5)-W+P[D],W|=0;return W},k=t.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var D=!0;return P.length===0&&(D=!1),P.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(D=!1),D},R=t.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var D=P.indexOf(",");return D<0?null:P.substring(0,D).trim().endsWith("base64")?P.substring(D+1):null};t.__addimage__.isArrayBuffer=function(P){return P instanceof ArrayBuffer};var F=t.__addimage__.isArrayBufferView=function(P){return P instanceof Int8Array||P instanceof Uint8Array||P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array},N=t.__addimage__.binaryStringToUint8Array=function(P){for(var D=P.length,U=new Uint8Array(D),W=0;W<D;W++)U[W]=P.charCodeAt(W);return U},C=t.__addimage__.arrayBufferToBinaryString=function(P){for(var D="",U=F(P)?P:new Uint8Array(P),W=0;W<U.length;W+=8192)D+=String.fromCharCode.apply(null,U.subarray(W,W+8192));return D};t.addImage=function(){var P,D,U,W,re,le,ue,Q,ae;if(typeof arguments[1]=="number"?(D=n,U=arguments[1],W=arguments[2],re=arguments[3],le=arguments[4],ue=arguments[5],Q=arguments[6],ae=arguments[7]):(D=arguments[1],U=arguments[2],W=arguments[3],re=arguments[4],le=arguments[5],ue=arguments[6],Q=arguments[7],ae=arguments[8]),An(P=arguments[0])==="object"&&!d(P)&&"imageData"in P){var ye=P;P=ye.imageData,D=ye.format||D||n,U=ye.x||U||0,W=ye.y||W||0,re=ye.w||ye.width||re,le=ye.h||ye.height||le,ue=ye.alias||ue,Q=ye.compression||Q,ae=ye.rotation||ye.angle||ae}var ge=this.internal.getFilters();if(Q===void 0&&ge.indexOf("FlateEncode")!==-1&&(Q="SLOW"),isNaN(U)||isNaN(W))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var B=T.call(this,P,D,ue,Q);return w.call(this,U,W,re,le,B,ae),this};var T=function(P,D,U,W){var re,le,ue;if(typeof P=="string"&&i(P)===n){P=unescape(P);var Q=$(P,!1);(Q!==""||(Q=t.loadFile(P,!0))!==void 0)&&(P=Q)}if(d(P)&&(P=h(P,D)),D=i(P,D),!f(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(((ue=U)==null||ue.length===0)&&(U=function(ae){return typeof ae=="string"||F(ae)?E(ae):F(ae.data)?E(ae.data):null}(P)),(re=y.call(this,U))||(P instanceof Uint8Array||D==="RGBA"||(le=P,P=N(P)),re=this["process"+D.toUpperCase()](P,c.call(this),U,function(ae){return ae&&typeof ae=="string"&&(ae=ae.toUpperCase()),ae in t.image_compression?ae:S.NONE}(W),le)),!re)throw new Error("An unknown error occurred whilst processing the image.");return re},$=t.__addimage__.convertBase64ToBinaryString=function(P,D){D=typeof D!="boolean"||D;var U,W="";if(typeof P=="string"){var re;U=(re=R(P))!==null&&re!==void 0?re:P;try{W=C0(U)}catch(le){if(D)throw k(U)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+le.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return W};t.getImageProperties=function(P){var D,U,W="";if(d(P)&&(P=h(P)),typeof P=="string"&&i(P)===n&&((W=$(P,!1))===""&&(W=t.loadFile(P)||""),P=W),U=i(P),!f(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(P instanceof Uint8Array||(P=N(P)),!(D=this["process"+U.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=U,D}})(pt.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};pt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,o,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,c=!1,f=0;f<u.length&&!c;f++)switch((r=u[f]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var d=0;d<u.length;d++){r=u[d];var h=this.internal.pdfEscape,y=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(b.objId),S=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+h(_(r.contents))+")",o+=" /Popup "+w.objId+" 0 R",o+=" /P "+l.objId+" 0 R",o+=" /T ("+h(_(S))+") >>",b.content=o;var E=b.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+E,r.open&&(o+=" /Open true"),o+=" >>",w.content=o,this.internal.write(b.objId,"0 R",w.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var k=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(y(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var R=this.annotations._nameMap[r.options.name];r.options.pageNumber=R.page,r.options.top=R.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(y(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var F=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+F+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,o,s){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+o)},options:s,type:"link"})},t.textWithLink=function(n,r,i,o){var s,a,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){a=o.maxWidth;var c=this.splitTextToSize(n,a).length;s=Math.ceil(u*c)}else a=l,s=u;return this.text(n,r,i,o),i+=.2*u,o.align==="center"&&(r-=l/2),o.align==="right"&&(r-=l),this.link(r,i-u,a,s,o),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(pt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(b){return e[b.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},a=t.__arabicParser__.isArabicEndLetter=function(b){return s(b)&&o(b)&&e[b.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(b){return s(b)&&i.indexOf(b.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return s(b)&&o(b)&&e[b.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(b){return s(b)&&o(b)&&e[b.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(b){return s(b)&&o(b)&&e[b.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(b){return s(b)&&o(b)&&e[b.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(b){var w=0,_=n,S="",E=0;for(w=0;w<b.length;w+=1)_[b.charCodeAt(w)]!==void 0?(E++,typeof(_=_[b.charCodeAt(w)])=="number"&&(S+=String.fromCharCode(_),_=n,E=0),w===b.length-1&&(_=n,S+=b.charAt(w-(E-1)),w-=E-1,E=0)):(_=n,S+=b.charAt(w-E),w-=E,E=0);return S};t.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&r[b.charCodeAt(0)]!==void 0};var d=t.__arabicParser__.getCorrectForm=function(b,w,_){return s(b)?o(b)===!1?-1:!u(b)||!s(w)&&!s(_)||!s(_)&&a(w)||a(b)&&!s(w)||a(b)&&l(w)||a(b)&&a(w)?0:c(b)&&s(w)&&!a(w)&&s(_)&&u(_)?3:a(b)||!s(_)?1:2:-1},h=function(b){var w=0,_=0,S=0,E="",k="",R="",F=(b=b||"").split("\\s+"),N=[];for(w=0;w<F.length;w+=1){for(N.push(""),_=0;_<F[w].length;_+=1)E=F[w][_],k=F[w][_-1],R=F[w][_+1],s(E)?(S=d(E,k,R),N[w]+=S!==-1?String.fromCharCode(e[E.charCodeAt(0)][S]):E):N[w]+=E;N[w]=f(N[w])}return N.join(" ")},y=t.__arabicParser__.processArabic=t.processArabic=function(){var b,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(w)){var S=0;for(_=[],S=0;S<w.length;S+=1)Array.isArray(w[S])?_.push([h(w[S][0]),w[S][1],w[S][2]]):_.push([h(w[S])]);b=_}else b=h(w);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};t.events.push(["preProcessText",y])}(pt.API),pt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(a){o=a}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(pt.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(b){l=b}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(b){u=b}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(b){c=b}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(b){f=b}});var d=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return d},set:function(b){d=b}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(b){h=b}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(b){y=b}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){r.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),d=u.scaleFactor||this.internal.scaleFactor,h=0,y=0,b=0,w=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var _=u.maxWidth;_>0?typeof l=="string"?l=this.splitTextToSize(l,_):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(E,k){return E.concat(w.splitTextToSize(k,_))},[])):l=Array.isArray(l)?l:[l];for(var S=0;S<l.length;S++)h<(b=this.getStringUnitWidth(l[S],{font:f})*c)&&(h=b);return h!==0&&(y=l.length),{w:h/=d,h:Math.max((y*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/d,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var l;l=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,d=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,h&&d&&(this.printHeaderRow(l.lineNumber,!0),l.y+=d[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,c,f,d){if(r.call(this),!c)throw new Error("No data for PDF table.");var h,y,b,w,_=[],S=[],E=[],k={},R={},F=[],N=[],C=(d=d||{}).autoSize||!1,T=d.printHeaders!==!1,$=d.css&&d.css["font-size"]!==void 0?16*d.css["font-size"]:d.fontSize||12,P=d.margins||Object.assign({width:this.getPageWidth()},e),D=typeof d.padding=="number"?d.padding:3,U=d.headerBackgroundColor||"#c8c8c8",W=d.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=$,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=U,this.internal.__cell__.headerTextColor=W,this.setFontSize($),f==null)S=_=Object.keys(c[0]),E=_.map(function(){return"left"});else if(Array.isArray(f)&&An(f[0])==="object")for(_=f.map(function(ye){return ye.name}),S=f.map(function(ye){return ye.prompt||ye.name||""}),E=f.map(function(ye){return ye.align||"left"}),h=0;h<f.length;h+=1)R[f[h].name]=.7499990551181103*f[h].width;else Array.isArray(f)&&typeof f[0]=="string"&&(S=_=f,E=_.map(function(){return"left"}));if(C||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<_.length;h+=1){for(k[w=_[h]]=c.map(function(ye){return ye[w]}),this.setFont(void 0,"bold"),F.push(this.getTextDimensions(S[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=k[w],this.setFont(void 0,"normal"),b=0;b<y.length;b+=1)F.push(this.getTextDimensions(y[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);R[w]=Math.max.apply(null,F)+D+D,F=[]}if(T){var re={};for(h=0;h<_.length;h+=1)re[_[h]]={},re[_[h]].text=S[h],re[_[h]].align=E[h];var le=a.call(this,re,R);N=_.map(function(ye){return new o(l,u,R[ye],le,re[ye].text,void 0,re[ye].align)}),this.setTableHeaderRow(N),this.printHeaderRow(1,!1)}var ue=f.reduce(function(ye,ge){return ye[ge.name]=ge.align,ye},{});for(h=0;h<c.length;h+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:h,data:c[h]},this);var Q=a.call(this,c[h],R);for(b=0;b<_.length;b+=1){var ae=c[h][_[b]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:h,col:b,data:ae},this),s.call(this,new o(l,u,R[_[b]],Q,ae,h+2,ue[_[b]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var a=function(l,u){var c=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,d=this.internal.scaleFactor;return Object.keys(l).map(function(h){var y=l[h];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,u[h]-c-c)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/d+c+c},this).reduce(function(h,y){return Math.max(h,y)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var d=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){c=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,d.push(c)),c.lineNumber=l;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,c),this.setTextColor(y)}d.length>0&&this.setTableHeaderRow(d),this.setFont(void 0,"normal"),n=!1}}(pt.API);var rq={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},iq=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Q5=nq(iq),oq=[100,200,300,400,500,600,700,800,900],ZOe=nq(oq);function Ax(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(o){return rq[o=o||"normal"]?o:"normal"}(t.style),r=function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400}(t.weight),i=function(o){return typeof Q5[o=o||"normal"]=="number"?o:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function fD(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var eMe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},dD={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function hD(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function pD(t){return t.trimLeft()}function tMe(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function nMe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var n0,mD,gD,vd,r0,vD,yD,wD,Tx=["times"];function _D(t,e,n,r,i){var o=4,s=xD;switch(i){case pt.API.image_compression.FAST:o=1,s=bD;break;case pt.API.image_compression.MEDIUM:o=6,s=SD;break;case pt.API.image_compression.SLOW:o=9,s=ED}t=function(l,u,c,f){for(var d,h=l.length/u,y=new Uint8Array(l.length+h),b=[rMe,bD,xD,SD,ED],w=0;w<h;w+=1){var _=w*u,S=l.subarray(_,_+u);if(f)y.set(f(S,c,d),_+w);else{for(var E=b.length,k=[],R=0;R<E;R+=1)k[R]=b[R](S,c,d);var F=oMe(k.concat());y.set(k[F],_+w)}d=S}return y}(t,e,Math.ceil(n*r/8),s);var a=H5(t,{level:o});return pt.API.__addimage__.arrayBufferToBinaryString(a)}function rMe(t){var e=Array.apply([],t);return e.unshift(0),e}function bD(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var o=t[i-e]||0;r[i+1]=t[i]-o+256&255}return r}function xD(t,e,n){var r=t.length,i=[];i[0]=2;for(var o=0;o<r;o+=1){var s=n&&n[o]||0;i[o+1]=t[o]-s+256&255}return i}function SD(t,e,n){var r=t.length,i=[];i[0]=3;for(var o=0;o<r;o+=1){var s=t[o-e]||0,a=n&&n[o]||0;i[o+1]=t[o]+256-(s+a>>>1)&255}return i}function ED(t,e,n){var r=t.length,i=[];i[0]=4;for(var o=0;o<r;o+=1){var s=iMe(t[o-e]||0,n&&n[o]||0,n&&n[o-e]||0);i[o+1]=t[o]-s+256&255}return i}function iMe(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),o=Math.abs(t+e-n-n);return r<=i&&r<=o?t:i<=o?e:n}function oMe(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function Ix(t,e,n){var r=e*n,i=Math.floor(r/8),o=16-(r-8*i+n),s=(1<<n)-1;return sq(t,i)>>o&s}function AD(t,e,n,r){var i=n*r,o=Math.floor(i/8),s=16-(i-8*o+r),a=(1<<r)-1,l=(e&a)<<s;(function(u,c,f){if(c+1<u.byteLength)u.setUint16(c,f,!1);else{var d=f>>8&255;u.setUint8(c,d)}})(t,o,sq(t,o)&~(a<<s)&65535|l)}function sq(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function sMe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],o=i>>7,s=1<<1+(7&i);t[e++],t[e++];var a=null,l=null;o&&(a=e,l=s,e+=3*s);var u=!0,c=[],f=0,d=null,h=0,y=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,y=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var b=t[e++];f=t[e++]|t[e++]<<8,d=t[e++],1&b||(d=null),h=b>>2&7,e++;break;case 254:for(;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var w=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,E=t[e++]|t[e++]<<8,k=t[e++],R=k>>6&1,F=1<<1+(7&k),N=a,C=l,T=!1;k>>7&&(T=!0,N=e,C=F,e+=3*F);var $=e;for(e++;;){var P;if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}c.push({x:w,y:_,width:S,height:E,has_local_palette:T,palette_offset:N,palette_size:C,data_offset:$,data_length:e-$,transparent_index:d,interlaced:!!R,delay:f,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return y},this.frameInfo=function(D){if(D<0||D>=c.length)throw new Error("Frame index out of range.");return c[D]},this.decodeAndBlitFrameBGRA=function(D,U){var W=this.frameInfo(D),re=W.width*W.height,le=new Uint8Array(re);TD(t,W.data_offset,le,re);var ue=W.palette_offset,Q=W.transparent_index;Q===null&&(Q=256);var ae=W.width,ye=n-ae,ge=ae,B=4*(W.y*n+W.x),G=4*((W.y+W.height)*n+W.x),te=B,ce=4*ye;W.interlaced===!0&&(ce+=4*n*7);for(var pe=8,_e=0,Te=le.length;_e<Te;++_e){var ee=le[_e];if(ge===0&&(ge=ae,(te+=ce)>=G&&(ce=4*ye+4*n*(pe-1),te=B+(ae+ye)*(pe<<1),pe>>=1)),ee===Q)te+=4;else{var me=t[ue+3*ee],ne=t[ue+3*ee+1],de=t[ue+3*ee+2];U[te++]=de,U[te++]=ne,U[te++]=me,U[te++]=255}--ge}},this.decodeAndBlitFrameRGBA=function(D,U){var W=this.frameInfo(D),re=W.width*W.height,le=new Uint8Array(re);TD(t,W.data_offset,le,re);var ue=W.palette_offset,Q=W.transparent_index;Q===null&&(Q=256);var ae=W.width,ye=n-ae,ge=ae,B=4*(W.y*n+W.x),G=4*((W.y+W.height)*n+W.x),te=B,ce=4*ye;W.interlaced===!0&&(ce+=4*n*7);for(var pe=8,_e=0,Te=le.length;_e<Te;++_e){var ee=le[_e];if(ge===0&&(ge=ae,(te+=ce)>=G&&(ce=4*ye+4*n*(pe-1),te=B+(ae+ye)*(pe<<1),pe>>=1)),ee===Q)te+=4;else{var me=t[ue+3*ee],ne=t[ue+3*ee+1],de=t[ue+3*ee+2];U[te++]=me,U[te++]=ne,U[te++]=de,U[te++]=255}--ge}}}function TD(t,e,n,r){for(var i=t[e++],o=1<<i,s=o+1,a=s+1,l=i+1,u=(1<<l)-1,c=0,f=0,d=0,h=t[e++],y=new Int32Array(4096),b=null;;){for(;c<16&&h!==0;)f|=t[e++]<<c,c+=8,h===1?h=t[e++]:--h;if(c<l)break;var w=f&u;if(f>>=l,c-=l,w!==o){if(w===s)break;for(var _=w<a?w:b,S=0,E=_;E>o;)E=y[E]>>8,++S;var k=E;if(d+S+(_!==w?1:0)>r)return void Ln.log("Warning, gif stream longer than expected.");n[d++]=k;var R=d+=S;for(_!==w&&(n[d++]=k),E=_;S--;)E=y[E],n[--R]=255&E,E>>=8;b!==null&&a<4096&&(y[a++]=b<<8|k,a>=u+1&&l<12&&(++l,u=u<<1|1)),b=w}else a=s+1,u=(1<<(l=i+1))-1,b=null}return d!==r&&Ln.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Px(t){var e,n,r,i,o,s=Math.floor,a=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),f=new Array(65535),d=new Array(65535),h=new Array(64),y=new Array(64),b=[],w=0,_=7,S=new Array(64),E=new Array(64),k=new Array(64),R=new Array(256),F=new Array(2048),N=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],re=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function le(B,G){for(var te=0,ce=0,pe=new Array,_e=1;_e<=16;_e++){for(var Te=1;Te<=B[_e];Te++)pe[G[ce]]=[],pe[G[ce]][0]=te,pe[G[ce]][1]=_e,ce++,te++;te*=2}return pe}function ue(B){for(var G=B[0],te=B[1]-1;te>=0;)G&1<<te&&(w|=1<<_),te--,--_<0&&(w==255?(Q(255),Q(0)):Q(w),_=7,w=0)}function Q(B){b.push(B)}function ae(B){Q(B>>8&255),Q(255&B)}function ye(B,G,te,ce,pe){for(var _e,Te=pe[0],ee=pe[240],me=function(Le,nt){var We,it,ot,Gt,Ft,ft,xt,jt,st,Ct,dt=0;for(st=0;st<8;++st){We=Le[dt],it=Le[dt+1],ot=Le[dt+2],Gt=Le[dt+3],Ft=Le[dt+4],ft=Le[dt+5],xt=Le[dt+6];var kn=We+(jt=Le[dt+7]),Kt=We-jt,Ut=it+xt,Lt=it-xt,Un=ot+ft,gt=ot-ft,gn=Gt+Ft,_t=Gt-Ft,It=kn+gn,vn=kn-gn,$t=Ut+Un,vt=Ut-Un;Le[dt]=It+$t,Le[dt+4]=It-$t;var qt=.707106781*(vt+vn);Le[dt+2]=vn+qt,Le[dt+6]=vn-qt;var da=.382683433*((It=_t+gt)-(vt=Lt+Kt)),Sr=.5411961*It+da,Zo=1.306562965*vt+da,Pi=.707106781*($t=gt+Lt),wt=Kt+Pi,zn=Kt-Pi;Le[dt+5]=zn+Sr,Le[dt+3]=zn-Sr,Le[dt+1]=wt+Zo,Le[dt+7]=wt-Zo,dt+=8}for(dt=0,st=0;st<8;++st){We=Le[dt],it=Le[dt+8],ot=Le[dt+16],Gt=Le[dt+24],Ft=Le[dt+32],ft=Le[dt+40],xt=Le[dt+48];var es=We+(jt=Le[dt+56]),ni=We-jt,ri=it+xt,Zn=it-xt,Lr=ot+ft,er=ot-ft,el=Gt+Ft,ha=Gt-Ft,Ci=es+el,Io=es-el,Yi=ri+Lr,Ni=ri-Lr;Le[dt]=Ci+Yi,Le[dt+32]=Ci-Yi;var Er=.707106781*(Ni+Io);Le[dt+16]=Io+Er,Le[dt+48]=Io-Er;var pa=.382683433*((Ci=ha+er)-(Ni=Zn+ni)),Po=.5411961*Ci+pa,Os=1.306562965*Ni+pa,ma=.707106781*(Yi=er+Zn),tl=ni+ma,nl=ni-ma;Le[dt+40]=nl+Po,Le[dt+24]=nl-Po,Le[dt+8]=tl+Os,Le[dt+56]=tl-Os,dt++}for(st=0;st<64;++st)Ct=Le[st]*nt[st],h[st]=Ct>0?Ct+.5|0:Ct-.5|0;return h}(B,G),ne=0;ne<64;++ne)y[N[ne]]=me[ne];var de=y[0]-te;te=y[0],de==0?ue(ce[0]):(ue(ce[d[_e=32767+de]]),ue(f[_e]));for(var Ce=63;Ce>0&&y[Ce]==0;)Ce--;if(Ce==0)return ue(Te),te;for(var ke,Y=1;Y<=Ce;){for(var Ue=Y;y[Y]==0&&Y<=Ce;)++Y;var et=Y-Ue;if(et>=16){ke=et>>4;for(var Ye=1;Ye<=ke;++Ye)ue(ee);et&=15}_e=32767+y[Y],ue(pe[(et<<4)+d[_e]]),ue(f[_e]),Y++}return Ce!=63&&ue(Te),te}function ge(B){B=Math.min(Math.max(B,1),100),o!=B&&(function(G){for(var te=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ce=0;ce<64;ce++){var pe=s((te[ce]*G+50)/100);pe=Math.min(Math.max(pe,1),255),a[N[ce]]=pe}for(var _e=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Te=0;Te<64;Te++){var ee=s((_e[Te]*G+50)/100);ee=Math.min(Math.max(ee,1),255),l[N[Te]]=ee}for(var me=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ne=0,de=0;de<8;de++)for(var Ce=0;Ce<8;Ce++)u[ne]=1/(a[N[ne]]*me[de]*me[Ce]*8),c[ne]=1/(l[N[ne]]*me[de]*me[Ce]*8),ne++}(B<50?Math.floor(5e3/B):Math.floor(200-2*B)),o=B)}this.encode=function(B,G){G&&ge(G),b=new Array,w=0,_=7,ae(65496),ae(65504),ae(16),Q(74),Q(70),Q(73),Q(70),Q(0),Q(1),Q(1),Q(0),ae(1),ae(1),Q(0),Q(0),function(){ae(65499),ae(132),Q(0);for(var it=0;it<64;it++)Q(a[it]);Q(1);for(var ot=0;ot<64;ot++)Q(l[ot])}(),function(it,ot){ae(65472),ae(17),Q(8),ae(ot),ae(it),Q(3),Q(1),Q(17),Q(0),Q(2),Q(17),Q(1),Q(3),Q(17),Q(1)}(B.width,B.height),function(){ae(65476),ae(418),Q(0);for(var it=0;it<16;it++)Q(C[it+1]);for(var ot=0;ot<=11;ot++)Q(T[ot]);Q(16);for(var Gt=0;Gt<16;Gt++)Q($[Gt+1]);for(var Ft=0;Ft<=161;Ft++)Q(P[Ft]);Q(1);for(var ft=0;ft<16;ft++)Q(D[ft+1]);for(var xt=0;xt<=11;xt++)Q(U[xt]);Q(17);for(var jt=0;jt<16;jt++)Q(W[jt+1]);for(var st=0;st<=161;st++)Q(re[st])}(),ae(65498),ae(12),Q(3),Q(1),Q(0),Q(2),Q(17),Q(3),Q(17),Q(0),Q(63),Q(0);var te=0,ce=0,pe=0;w=0,_=7,this.encode.displayName="_encode_";for(var _e,Te,ee,me,ne,de,Ce,ke,Y,Ue=B.data,et=B.width,Ye=B.height,Le=4*et,nt=0;nt<Ye;){for(_e=0;_e<Le;){for(ne=Le*nt+_e,Ce=-1,ke=0,Y=0;Y<64;Y++)de=ne+(ke=Y>>3)*Le+(Ce=4*(7&Y)),nt+ke>=Ye&&(de-=Le*(nt+1+ke-Ye)),_e+Ce>=Le&&(de-=_e+Ce-Le+4),Te=Ue[de++],ee=Ue[de++],me=Ue[de++],S[Y]=(F[Te]+F[ee+256|0]+F[me+512|0]>>16)-128,E[Y]=(F[Te+768|0]+F[ee+1024|0]+F[me+1280|0]>>16)-128,k[Y]=(F[Te+1280|0]+F[ee+1536|0]+F[me+1792|0]>>16)-128;te=ye(S,u,te,e,r),ce=ye(E,c,ce,n,i),pe=ye(k,c,pe,n,i),_e+=32}nt+=8}if(_>=0){var We=[];We[1]=_+1,We[0]=(1<<_+1)-1,ue(We)}return ae(65497),new Uint8Array(b)},t=t||50,function(){for(var B=String.fromCharCode,G=0;G<256;G++)R[G]=B(G)}(),e=le(C,T),n=le(D,U),r=le($,P),i=le(W,re),function(){for(var B=1,G=2,te=1;te<=15;te++){for(var ce=B;ce<G;ce++)d[32767+ce]=te,f[32767+ce]=[],f[32767+ce][1]=te,f[32767+ce][0]=ce;for(var pe=-(G-1);pe<=-B;pe++)d[32767+pe]=te,f[32767+pe]=[],f[32767+pe][1]=te,f[32767+pe][0]=G-1+pe;B<<=1,G<<=1}}(),function(){for(var B=0;B<256;B++)F[B]=19595*B,F[B+256|0]=38470*B,F[B+512|0]=7471*B+32768,F[B+768|0]=-11059*B,F[B+1024|0]=-21709*B,F[B+1280|0]=32768*B+8421375,F[B+1536|0]=-27439*B,F[B+1792|0]=-5329*B}(),ge(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Vs(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ID(t){function e(T){if(!T)throw Error("assert :P")}function n(T,$,P){for(var D=0;4>D;D++)if(T[$+D]!=P.charCodeAt(D))return!0;return!1}function r(T,$,P,D,U){for(var W=0;W<U;W++)T[$+W]=P[D+W]}function i(T,$,P,D){for(var U=0;U<D;U++)T[$+U]=P}function o(T){return new Int32Array(T)}function s(T,$){for(var P=[],D=0;D<T;D++)P.push(new $);return P}function a(T,$){var P=[];return function D(U,W,re){for(var le=re[W],ue=0;ue<le&&(U.push(re.length>W+1?[]:new $),!(re.length<W+1));ue++)D(U[ue],W+1,re)}(P,0,T),P}var l=function(){var T=this;function $(m,x){for(var O=1<<x-1>>>0;m&O;)O>>>=1;return O?(m&O-1)+O:m}function P(m,x,O,j,z){e(!(j%O));do m[x+(j-=O)]=z;while(0<j)}function D(m,x,O,j,z){if(e(2328>=z),512>=z)var H=o(512);else if((H=o(z))==null)return 0;return function(K,J,Z,oe,ve,Ie){var se,we,Ee=J,Ne=1<<Z,Ae=o(16),Me=o(16);for(e(ve!=0),e(oe!=null),e(K!=null),e(0<Z),we=0;we<ve;++we){if(15<oe[we])return 0;++Ae[oe[we]]}if(Ae[0]==ve)return 0;for(Me[1]=0,se=1;15>se;++se){if(Ae[se]>1<<se)return 0;Me[se+1]=Me[se]+Ae[se]}for(we=0;we<ve;++we)se=oe[we],0<oe[we]&&(Ie[Me[se]++]=we);if(Me[15]==1)return(oe=new U).g=0,oe.value=Ie[0],P(K,Ee,1,Ne,oe),Ne;var De,Ve=-1,je=Ne-1,ht=0,tt=1,Bt=1,ut=1<<Z;for(we=0,se=1,ve=2;se<=Z;++se,ve<<=1){if(tt+=Bt<<=1,0>(Bt-=Ae[se]))return 0;for(;0<Ae[se];--Ae[se])(oe=new U).g=se,oe.value=Ie[we++],P(K,Ee+ht,ve,ut,oe),ht=$(ht,se)}for(se=Z+1,ve=2;15>=se;++se,ve<<=1){if(tt+=Bt<<=1,0>(Bt-=Ae[se]))return 0;for(;0<Ae[se];--Ae[se]){if(oe=new U,(ht&je)!=Ve){for(Ee+=ut,De=1<<(Ve=se)-Z;15>Ve&&!(0>=(De-=Ae[Ve]));)++Ve,De<<=1;Ne+=ut=1<<(De=Ve-Z),K[J+(Ve=ht&je)].g=De+Z,K[J+Ve].value=Ee-J-Ve}oe.g=se-Z,oe.value=Ie[we++],P(K,Ee+(ht>>Z),ve,ut,oe),ht=$(ht,se)}}return tt!=2*Me[15]-1?0:Ne}(m,x,O,j,z,H)}function U(){this.value=this.g=0}function W(){this.value=this.g=0}function re(){this.G=s(5,U),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Lc,W)}function le(m,x,O,j){e(m!=null),e(x!=null),e(2147483648>j),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=x,m.pa=O,m.Jd=x,m.Yc=O+j,m.Zc=4<=j?O+j-4+1:O,Te(m)}function ue(m,x){for(var O=0;0<x--;)O|=me(m,128)<<x;return O}function Q(m,x){var O=ue(m,x);return ee(m)?-O:O}function ae(m,x,O,j){var z,H=0;for(e(m!=null),e(x!=null),e(4294967288>j),m.Sb=j,m.Ra=0,m.u=0,m.h=0,4<j&&(j=4),z=0;z<j;++z)H+=x[O+z]<<8*z;m.Ra=H,m.bb=j,m.oa=x,m.pa=O}function ye(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<hu-8>>>0,++m.bb,m.u-=8;ce(m)&&(m.h=1,m.u=0)}function ge(m,x){if(e(0<=x),!m.h&&x<=Oo){var O=te(m)&Ro[x];return m.u+=x,ye(m),O}return m.h=1,m.u=0}function B(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function G(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function te(m){return m.Ra>>>(m.u&hu-1)>>>0}function ce(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>hu}function pe(m,x){m.u=x,m.h=ce(m)}function _e(m){m.u>=ul&&(e(m.u>=ul),ye(m))}function Te(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function ee(m){return ue(m,1)}function me(m,x){var O=m.Ca;0>m.b&&Te(m);var j=m.b,z=O*x>>>8,H=(m.I>>>j>z)+0;for(H?(O-=z,m.I-=z+1<<j>>>0):O=z+1,j=O,z=0;256<=j;)z+=8,j>>=8;return j=7^z+pu[j],m.b-=j,m.Ca=(O<<j)-1,H}function ne(m,x,O){m[x+0]=O>>24&255,m[x+1]=O>>16&255,m[x+2]=O>>8&255,m[x+3]=255&O}function de(m,x){return m[x+0]|m[x+1]<<8}function Ce(m,x){return de(m,x)|m[x+2]<<16}function ke(m,x){return de(m,x)|de(m,x+2)<<16}function Y(m,x){var O=1<<x;return e(m!=null),e(0<x),m.X=o(O),m.X==null?0:(m.Mb=32-x,m.Xa=x,1)}function Ue(m,x){e(m!=null),e(x!=null),e(m.Xa==x.Xa),r(x.X,0,m.X,0,1<<x.Xa)}function et(){this.X=[],this.Xa=this.Mb=0}function Ye(m,x,O,j){e(O!=null),e(j!=null);var z=O[0],H=j[0];return z==0&&(z=(m*H+x/2)/x),H==0&&(H=(x*z+m/2)/m),0>=z||0>=H?0:(O[0]=z,j[0]=H,1)}function Le(m,x){return m+(1<<x)-1>>>x}function nt(m,x){return((4278255360&m)+(4278255360&x)>>>0&4278255360)+((16711935&m)+(16711935&x)>>>0&16711935)>>>0}function We(m,x){T[x]=function(O,j,z,H,K,J,Z){var oe;for(oe=0;oe<K;++oe){var ve=T[m](J[Z+oe-1],z,H+oe);J[Z+oe]=nt(O[j+oe],ve)}}}function it(){this.ud=this.hd=this.jd=0}function ot(m,x){return((4278124286&(m^x))>>>1)+(m&x)>>>0}function Gt(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function Ft(m,x){return Gt(m+(m-x+.5>>1))}function ft(m,x,O){return Math.abs(x-O)-Math.abs(m-O)}function xt(m,x,O,j,z,H,K){for(j=H[K-1],O=0;O<z;++O)H[K+O]=j=nt(m[x+O],j)}function jt(m,x,O,j,z){var H;for(H=0;H<O;++H){var K=m[x+H],J=K>>8&255,Z=16711935&(Z=(Z=16711935&K)+((J<<16)+J));j[z+H]=(4278255360&K)+Z>>>0}}function st(m,x){x.jd=255&m,x.hd=m>>8&255,x.ud=m>>16&255}function Ct(m,x,O,j,z,H){var K;for(K=0;K<j;++K){var J=x[O+K],Z=J>>>8,oe=J,ve=255&(ve=(ve=J>>>16)+((m.jd<<24>>24)*(Z<<24>>24)>>>5));oe=255&(oe=(oe+=(m.hd<<24>>24)*(Z<<24>>24)>>>5)+((m.ud<<24>>24)*(ve<<24>>24)>>>5)),z[H+K]=(4278255360&J)+(ve<<16)+oe}}function dt(m,x,O,j,z){T[x]=function(H,K,J,Z,oe,ve,Ie,se,we){for(Z=Ie;Z<se;++Z)for(Ie=0;Ie<we;++Ie)oe[ve++]=z(J[j(H[K++])])},T[m]=function(H,K,J,Z,oe,ve,Ie){var se=8>>H.b,we=H.Ea,Ee=H.K[0],Ne=H.w;if(8>se)for(H=(1<<H.b)-1,Ne=(1<<se)-1;K<J;++K){var Ae,Me=0;for(Ae=0;Ae<we;++Ae)Ae&H||(Me=j(Z[oe++])),ve[Ie++]=z(Ee[Me&Ne]),Me>>=se}else T["VP8LMapColor"+O](Z,oe,Ee,Ne,ve,Ie,K,J,we)}}function kn(m,x,O,j,z){for(O=x+O;x<O;){var H=m[x++];j[z++]=H>>16&255,j[z++]=H>>8&255,j[z++]=255&H}}function Kt(m,x,O,j,z){for(O=x+O;x<O;){var H=m[x++];j[z++]=H>>16&255,j[z++]=H>>8&255,j[z++]=255&H,j[z++]=H>>24&255}}function Ut(m,x,O,j,z){for(O=x+O;x<O;){var H=(K=m[x++])>>16&240|K>>12&15,K=240&K|K>>28&15;j[z++]=H,j[z++]=K}}function Lt(m,x,O,j,z){for(O=x+O;x<O;){var H=(K=m[x++])>>16&248|K>>13&7,K=K>>5&224|K>>3&31;j[z++]=H,j[z++]=K}}function Un(m,x,O,j,z){for(O=x+O;x<O;){var H=m[x++];j[z++]=255&H,j[z++]=H>>8&255,j[z++]=H>>16&255}}function gt(m,x,O,j,z,H){if(H==0)for(O=x+O;x<O;)ne(j,((H=m[x++])[0]>>24|H[1]>>8&65280|H[2]<<8&16711680|H[3]<<24)>>>0),z+=32;else r(j,z,m,x,O)}function gn(m,x){T[x][0]=T[m+"0"],T[x][1]=T[m+"1"],T[x][2]=T[m+"2"],T[x][3]=T[m+"3"],T[x][4]=T[m+"4"],T[x][5]=T[m+"5"],T[x][6]=T[m+"6"],T[x][7]=T[m+"7"],T[x][8]=T[m+"8"],T[x][9]=T[m+"9"],T[x][10]=T[m+"10"],T[x][11]=T[m+"11"],T[x][12]=T[m+"12"],T[x][13]=T[m+"13"],T[x][14]=T[m+"0"],T[x][15]=T[m+"0"]}function _t(m){return m==T2||m==I2||m==zv||m==P2}function It(){this.eb=[],this.size=this.A=this.fb=0}function vn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function $t(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new It,this.f.kb=new vn,this.sd=null}function vt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function qt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function da(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function Sr(m,x){var O=m.T,j=x.ba.f.RGBA,z=j.eb,H=j.fb+m.ka*j.A,K=ds[x.ba.S],J=m.y,Z=m.O,oe=m.f,ve=m.N,Ie=m.ea,se=m.W,we=x.cc,Ee=x.dc,Ne=x.Mc,Ae=x.Nc,Me=m.ka,De=m.ka+m.T,Ve=m.U,je=Ve+1>>1;for(Me==0?K(J,Z,null,null,oe,ve,Ie,se,oe,ve,Ie,se,z,H,null,null,Ve):(K(x.ec,x.fc,J,Z,we,Ee,Ne,Ae,oe,ve,Ie,se,z,H-j.A,z,H,Ve),++O);Me+2<De;Me+=2)we=oe,Ee=ve,Ne=Ie,Ae=se,ve+=m.Rc,se+=m.Rc,H+=2*j.A,K(J,(Z+=2*m.fa)-m.fa,J,Z,we,Ee,Ne,Ae,oe,ve,Ie,se,z,H-j.A,z,H,Ve);return Z+=m.fa,m.j+De<m.o?(r(x.ec,x.fc,J,Z,Ve),r(x.cc,x.dc,oe,ve,je),r(x.Mc,x.Nc,Ie,se,je),O--):1&De||K(J,Z,null,null,oe,ve,Ie,se,oe,ve,Ie,se,z,H+j.A,null,null,Ve),O}function Zo(m,x,O){var j=m.F,z=[m.J];if(j!=null){var H=m.U,K=x.ba.S,J=K==qv||K==zv;x=x.ba.f.RGBA;var Z=[0],oe=m.ka;Z[0]=m.T,m.Kb&&(oe==0?--Z[0]:(--oe,z[0]-=m.width),m.j+m.ka+m.T==m.o&&(Z[0]=m.o-m.j-oe));var ve=x.eb;oe=x.fb+oe*x.A,m=TP(j,z[0],m.width,H,Z,ve,oe+(J?0:3),x.A),e(O==Z),m&&_t(K)&&Lp(ve,oe,J,H,Z,x.A)}return 0}function Pi(m){var x=m.ma,O=x.ba.S,j=11>O,z=O==Bv||O==Vv||O==qv||O==A2||O==12||_t(O);if(x.memory=null,x.Ib=null,x.Jb=null,x.Nd=null,!Ip(x.Oa,m,z?11:12))return 0;if(z&&_t(O)&&us(),m.da)alert("todo:use_scaling");else{if(j){if(x.Ib=da,m.Kb){if(O=m.U+1>>1,x.memory=o(m.U+2*O),x.memory==null)return 0;x.ec=x.memory,x.fc=0,x.cc=x.ec,x.dc=x.fc+m.U,x.Mc=x.cc,x.Nc=x.dc+O,x.Ib=Sr,us()}}else alert("todo:EmitYUV");z&&(x.Jb=Zo,j&&po())}if(j&&!VP){for(m=0;256>m;++m)Qq[m]=89858*(m-128)+Gv>>Hv,tz[m]=-22014*(m-128)+Gv,ez[m]=-45773*(m-128),Zq[m]=113618*(m-128)+Gv>>Hv;for(m=Fp;m<k2;++m)x=76283*(m-16)+Gv>>Hv,nz[m-Fp]=fo(x,255),rz[m-Fp]=fo(x+8>>4,15);VP=1}return 1}function wt(m){var x=m.ma,O=m.U,j=m.T;return e(!(1&m.ka)),0>=O||0>=j?0:(O=x.Ib(m,x),x.Jb!=null&&x.Jb(m,x,O),x.Dc+=O,1)}function zn(m){m.ma.memory=null}function es(m,x,O,j){return ge(m,8)!=47?0:(x[0]=ge(m,14)+1,O[0]=ge(m,14)+1,j[0]=ge(m,1),ge(m,3)!=0?0:!m.h)}function ni(m,x){if(4>m)return m+1;var O=m-2>>1;return(2+(1&m)<<O)+ge(x,O)+1}function ri(m,x){return 120<x?x-120:1<=(O=((O=Uq[x-1])>>4)*m+(8-(15&O)))?O:1;var O}function Zn(m,x,O){var j=te(O),z=m[x+=255&j].g-8;return 0<z&&(pe(O,O.u+8),j=te(O),x+=m[x].value,x+=j&(1<<z)-1),pe(O,O.u+m[x].g),m[x].value}function Lr(m,x,O){return O.g+=m.g,O.value+=m.value<<x>>>0,e(8>=O.g),m.g}function er(m,x,O){var j=m.xc;return e((x=j==0?0:m.vc[m.md*(O>>j)+(x>>j)])<m.Wb),m.Ya[x]}function el(m,x,O,j){var z=m.ab,H=m.c*x,K=m.C;x=K+x;var J=O,Z=j;for(j=m.Ta,O=m.Ua;0<z--;){var oe=m.gc[z],ve=K,Ie=x,se=J,we=Z,Ee=(Z=j,J=O,oe.Ea);switch(e(ve<Ie),e(Ie<=oe.nc),oe.hc){case 2:Ar(se,we,(Ie-ve)*Ee,Z,J);break;case 0:var Ne=ve,Ae=Ie,Me=Z,De=J,Ve=(ut=oe).Ea;Ne==0&&(Cp(se,we,null,null,1,Me,De),xt(se,we+1,0,0,Ve-1,Me,De+1),we+=Ve,De+=Ve,++Ne);for(var je=1<<ut.b,ht=je-1,tt=Le(Ve,ut.b),Bt=ut.K,ut=ut.w+(Ne>>ut.b)*tt;Ne<Ae;){var Zt=Bt,Gr=ut,Vt=1;for(od(se,we,Me,De-Ve,1,Me,De);Vt<Ve;){var ct=(Vt&~ht)+je;ct>Ve&&(ct=Ve),(0,kp[Zt[Gr++]>>8&15])(se,we+ +Vt,Me,De+Vt-Ve,ct-Vt,Me,De+Vt),Vt=ct}we+=Ve,De+=Ve,++Ne&ht||(ut+=tt)}Ie!=oe.nc&&r(Z,J-Ee,Z,J+(Ie-ve-1)*Ee,Ee);break;case 1:for(Ee=se,Ae=we,Ve=(se=oe.Ea)-(De=se&~(Me=(we=1<<oe.b)-1)),Ne=Le(se,oe.b),je=oe.K,oe=oe.w+(ve>>oe.b)*Ne;ve<Ie;){for(ht=je,tt=oe,Bt=new it,ut=Ae+De,Zt=Ae+se;Ae<ut;)st(ht[tt++],Bt),Rp(Bt,Ee,Ae,we,Z,J),Ae+=we,J+=we;Ae<Zt&&(st(ht[tt++],Bt),Rp(Bt,Ee,Ae,Ve,Z,J),Ae+=Ve,J+=Ve),++ve&Me||(oe+=Ne)}break;case 3:if(se==Z&&we==J&&0<oe.b){for(Ae=Z,se=Ee=J+(Ie-ve)*Ee-(De=(Ie-ve)*Le(oe.Ea,oe.b)),we=Z,Me=J,Ne=[],De=(Ve=De)-1;0<=De;--De)Ne[De]=we[Me+De];for(De=Ve-1;0<=De;--De)Ae[se+De]=Ne[De];Fv(oe,ve,Ie,Z,Ee,Z,J)}else Fv(oe,ve,Ie,se,we,Z,J)}J=j,Z=O}Z!=O&&r(j,O,J,Z,H)}function ha(m,x){var O=m.V,j=m.Ba+m.c*m.C,z=x-m.C;if(e(x<=m.l.o),e(16>=z),0<z){var H=m.l,K=m.Ta,J=m.Ua,Z=H.width;if(el(m,z,O,j),z=J=[J],e((O=m.C)<(j=x)),e(H.v<H.va),j>H.o&&(j=H.o),O<H.j){var oe=H.j-O;O=H.j,z[0]+=oe*Z}if(O>=j?O=0:(z[0]+=4*H.v,H.ka=O-H.j,H.U=H.va-H.v,H.T=j-O,O=1),O){if(J=J[0],11>(O=m.ca).S){var ve=O.f.RGBA,Ie=(j=O.S,z=H.U,H=H.T,oe=ve.eb,ve.A),se=H;for(ve=ve.fb+m.Ma*ve.A;0<se--;){var we=K,Ee=J,Ne=z,Ae=oe,Me=ve;switch(j){case jv:Op(we,Ee,Ne,Ae,Me);break;case Bv:mu(we,Ee,Ne,Ae,Me);break;case T2:mu(we,Ee,Ne,Ae,Me),Lp(Ae,Me,0,Ne,1,0);break;case OP:Dc(we,Ee,Ne,Ae,Me);break;case Vv:gt(we,Ee,Ne,Ae,Me,1);break;case I2:gt(we,Ee,Ne,Ae,Me,1),Lp(Ae,Me,0,Ne,1,0);break;case qv:gt(we,Ee,Ne,Ae,Me,0);break;case zv:gt(we,Ee,Ne,Ae,Me,0),Lp(Ae,Me,1,Ne,1,0);break;case A2:gu(we,Ee,Ne,Ae,Me);break;case P2:gu(we,Ee,Ne,Ae,Me),AP(Ae,Me,Ne,1,0);break;case MP:vu(we,Ee,Ne,Ae,Me);break;default:e(0)}J+=Z,ve+=Ie}m.Ma+=H}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=O.height)}}m.C=x,e(m.C<=m.i)}function Ci(m){var x;if(0<m.ua)return 0;for(x=0;x<m.Wb;++x){var O=m.Ya[x].G,j=m.Ya[x].H;if(0<O[1][j[1]+0].g||0<O[2][j[2]+0].g||0<O[3][j[3]+0].g)return 0}return 1}function Io(m,x,O,j,z,H){if(m.Z!=0){var K=m.qd,J=m.rd;for(e(_u[m.Z]!=null);x<O;++x)_u[m.Z](K,J,j,z,j,z,H),K=j,J=z,z+=H;m.qd=K,m.rd=J}}function Yi(m,x){var O=m.l.ma,j=O.Z==0||O.Z==1?m.l.j:m.C;if(j=m.C<j?j:m.C,e(x<=m.l.o),x>j){var z=m.l.width,H=O.ca,K=O.tb+z*j,J=m.V,Z=m.Ba+m.c*j,oe=m.gc;e(m.ab==1),e(oe[0].hc==3),Sa(oe[0],j,x,J,Z,H,K),Io(O,j,x,H,K,z)}m.C=m.Ma=x}function Ni(m,x,O,j,z,H,K){var J=m.$/j,Z=m.$%j,oe=m.m,ve=m.s,Ie=O+m.$,se=Ie;z=O+j*z;var we=O+j*H,Ee=280+ve.ua,Ne=m.Pb?J:16777216,Ae=0<ve.ua?ve.Wa:null,Me=ve.wc,De=Ie<we?er(ve,Z,J):null;e(m.C<H),e(we<=z);var Ve=!1;e:for(;;){for(;Ve||Ie<we;){var je=0;if(J>=Ne){var ht=Ie-O;e((Ne=m).Pb),Ne.wd=Ne.m,Ne.xd=ht,0<Ne.s.ua&&Ue(Ne.s.Wa,Ne.s.vb),Ne=J+jq}if(Z&Me||(De=er(ve,Z,J)),e(De!=null),De.Qb&&(x[Ie]=De.qb,Ve=!0),!Ve)if(_e(oe),De.jc){je=oe,ht=x;var tt=Ie,Bt=De.pd[te(je)&Lc-1];e(De.jc),256>Bt.g?(pe(je,je.u+Bt.g),ht[tt]=Bt.value,je=0):(pe(je,je.u+Bt.g-256),e(256<=Bt.value),je=Bt.value),je==0&&(Ve=!0)}else je=Zn(De.G[0],De.H[0],oe);if(oe.h)break;if(Ve||256>je){if(!Ve)if(De.nd)x[Ie]=(De.qb|je<<8)>>>0;else{if(_e(oe),Ve=Zn(De.G[1],De.H[1],oe),_e(oe),ht=Zn(De.G[2],De.H[2],oe),tt=Zn(De.G[3],De.H[3],oe),oe.h)break;x[Ie]=(tt<<24|Ve<<16|je<<8|ht)>>>0}if(Ve=!1,++Ie,++Z>=j&&(Z=0,++J,K!=null&&J<=H&&!(J%16)&&K(m,J),Ae!=null))for(;se<Ie;)je=x[se++],Ae.X[(506832829*je&4294967295)>>>Ae.Mb]=je}else if(280>je){if(je=ni(je-256,oe),ht=Zn(De.G[4],De.H[4],oe),_e(oe),ht=ri(j,ht=ni(ht,oe)),oe.h)break;if(Ie-O<ht||z-Ie<je)break e;for(tt=0;tt<je;++tt)x[Ie+tt]=x[Ie+tt-ht];for(Ie+=je,Z+=je;Z>=j;)Z-=j,++J,K!=null&&J<=H&&!(J%16)&&K(m,J);if(e(Ie<=z),Z&Me&&(De=er(ve,Z,J)),Ae!=null)for(;se<Ie;)je=x[se++],Ae.X[(506832829*je&4294967295)>>>Ae.Mb]=je}else{if(!(je<Ee))break e;for(Ve=je-280,e(Ae!=null);se<Ie;)je=x[se++],Ae.X[(506832829*je&4294967295)>>>Ae.Mb]=je;je=Ie,e(!(Ve>>>(ht=Ae).Xa)),x[je]=ht.X[Ve],Ve=!0}Ve||e(oe.h==ce(oe))}if(m.Pb&&oe.h&&Ie<z)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&Ue(m.s.vb,m.s.Wa);else{if(oe.h)break e;K!=null&&K(m,J>H?H:J),m.a=0,m.$=Ie-O}return 1}return m.a=3,0}function Er(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var x=m.Wa;x!=null&&(x.X=null),m.vb=null,e(m!=null)}function pa(){var m=new St;return m==null?null:(m.a=0,m.xb=FP,gn("Predictor","VP8LPredictors"),gn("Predictor","VP8LPredictors_C"),gn("PredictorAdd","VP8LPredictorsAdd"),gn("PredictorAdd","VP8LPredictorsAdd_C"),Ar=jt,Rp=Ct,Op=kn,mu=Kt,gu=Ut,vu=Lt,Dc=Un,T.VP8LMapColor32b=xa,T.VP8LMapColor8b=Np,m)}function Po(m,x,O,j,z){var H=1,K=[m],J=[x],Z=j.m,oe=j.s,ve=null,Ie=0;e:for(;;){if(O)for(;H&&ge(Z,1);){var se=K,we=J,Ee=j,Ne=1,Ae=Ee.m,Me=Ee.gc[Ee.ab],De=ge(Ae,2);if(Ee.Oc&1<<De)H=0;else{switch(Ee.Oc|=1<<De,Me.hc=De,Me.Ea=se[0],Me.nc=we[0],Me.K=[null],++Ee.ab,e(4>=Ee.ab),De){case 0:case 1:Me.b=ge(Ae,3)+2,Ne=Po(Le(Me.Ea,Me.b),Le(Me.nc,Me.b),0,Ee,Me.K),Me.K=Me.K[0];break;case 3:var Ve,je=ge(Ae,8)+1,ht=16<je?0:4<je?1:2<je?2:3;if(se[0]=Le(Me.Ea,ht),Me.b=ht,Ve=Ne=Po(je,1,0,Ee,Me.K)){var tt,Bt=je,ut=Me,Zt=1<<(8>>ut.b),Gr=o(Zt);if(Gr==null)Ve=0;else{var Vt=ut.K[0],ct=ut.w;for(Gr[0]=ut.K[0][0],tt=1;tt<1*Bt;++tt)Gr[tt]=nt(Vt[ct+tt],Gr[tt-1]);for(;tt<4*Zt;++tt)Gr[tt]=0;ut.K[0]=null,ut.K[0]=Gr,Ve=1}}Ne=Ve;break;case 2:break;default:e(0)}H=Ne}}if(K=K[0],J=J[0],H&&ge(Z,1)&&!(H=1<=(Ie=ge(Z,4))&&11>=Ie)){j.a=3;break e}var Ge;if(Ge=H)t:{var Ir,Dt,tn,Hn=j,gi=K,Qi=J,gr=Ie,Ri=O,Zi=Hn.m,Wr=Hn.s,on=[null],bn=1,vr=0,xn=$q[gr];n:for(;;){if(Ri&&ge(Zi,1)){var vi=ge(Zi,3)+2,Us=Le(gi,vi),Pr=Le(Qi,vi),mo=Us*Pr;if(!Po(Us,Pr,0,Hn,on))break n;for(on=on[0],Wr.xc=vi,Ir=0;Ir<mo;++Ir){var Mn=on[Ir]>>8&65535;on[Ir]=Mn,Mn>=bn&&(bn=Mn+1)}}if(Zi.h)break n;for(Dt=0;5>Dt;++Dt){var Kr=LP[Dt];!Dt&&0<gr&&(Kr+=1<<gr),vr<Kr&&(vr=Kr)}var Lo=s(bn*xn,U),eo=bn,Do=s(eo,re);if(Do==null)var Fo=null;else e(65536>=eo),Fo=Do;var go=o(vr);if(Fo==null||go==null||Lo==null){Hn.a=1;break n}var Uo=Lo;for(Ir=tn=0;Ir<bn;++Ir){var jn=Fo[Ir],$o=jn.G,$s=jn.H,Uc=0,dl=1,yi=0;for(Dt=0;5>Dt;++Dt){Kr=LP[Dt],$o[Dt]=Uo,$s[Dt]=tn,!Dt&&0<gr&&(Kr+=1<<gr);i:{var Kv,R2=Kr,Yv=Hn,Up=go,sz=Uo,az=tn,O2=0,bu=Yv.m,lz=ge(bu,1);if(i(Up,0,0,R2),lz){var uz=ge(bu,1)+1,cz=ge(bu,1),HP=ge(bu,cz==0?1:8);Up[HP]=1,uz==2&&(Up[HP=ge(bu,8)]=1);var Jv=1}else{var GP=o(19),WP=ge(bu,4)+4;if(19<WP){Yv.a=3;var Xv=0;break i}for(Kv=0;Kv<WP;++Kv)GP[Fq[Kv]]=ge(bu,3);var M2=void 0,$p=void 0,KP=Yv,fz=GP,Qv=R2,YP=Up,L2=0,xu=KP.m,JP=8,XP=s(128,U);r:for(;D(XP,0,7,fz,19);){if(ge(xu,1)){var dz=2+2*ge(xu,3);if((M2=2+ge(xu,dz))>Qv)break r}else M2=Qv;for($p=0;$p<Qv&&M2--;){_e(xu);var QP=XP[0+(127&te(xu))];pe(xu,xu.u+QP.g);var ad=QP.value;if(16>ad)YP[$p++]=ad,ad!=0&&(JP=ad);else{var hz=ad==16,ZP=ad-16,pz=Lq[ZP],eC=ge(xu,Mq[ZP])+pz;if($p+eC>Qv)break r;for(var mz=hz?JP:0;0<eC--;)YP[$p++]=mz}}L2=1;break r}L2||(KP.a=3),Jv=L2}(Jv=Jv&&!bu.h)&&(O2=D(sz,az,8,Up,R2)),Jv&&O2!=0?Xv=O2:(Yv.a=3,Xv=0)}if(Xv==0)break n;if(dl&&Dq[Dt]==1&&(dl=Uo[tn].g==0),Uc+=Uo[tn].g,tn+=Xv,3>=Dt){var jp,D2=go[0];for(jp=1;jp<Kr;++jp)go[jp]>D2&&(D2=go[jp]);yi+=D2}}if(jn.nd=dl,jn.Qb=0,dl&&(jn.qb=($o[3][$s[3]+0].value<<24|$o[1][$s[1]+0].value<<16|$o[2][$s[2]+0].value)>>>0,Uc==0&&256>$o[0][$s[0]+0].value&&(jn.Qb=1,jn.qb+=$o[0][$s[0]+0].value<<8)),jn.jc=!jn.Qb&&6>yi,jn.jc){var Zv,hl=jn;for(Zv=0;Zv<Lc;++Zv){var Su=Zv,Eu=hl.pd[Su],ey=hl.G[0][hl.H[0]+Su];256<=ey.value?(Eu.g=ey.g+256,Eu.value=ey.value):(Eu.g=0,Eu.value=0,Su>>=Lr(ey,8,Eu),Su>>=Lr(hl.G[1][hl.H[1]+Su],16,Eu),Su>>=Lr(hl.G[2][hl.H[2]+Su],0,Eu),Lr(hl.G[3][hl.H[3]+Su],24,Eu))}}}Wr.vc=on,Wr.Wb=bn,Wr.Ya=Fo,Wr.yc=Lo,Ge=1;break t}Ge=0}if(!(H=Ge)){j.a=3;break e}if(0<Ie){if(oe.ua=1<<Ie,!Y(oe.Wa,Ie)){j.a=1,H=0;break e}}else oe.ua=0;var F2=j,tC=K,gz=J,U2=F2.s,$2=U2.xc;if(F2.c=tC,F2.i=gz,U2.md=Le(tC,$2),U2.wc=$2==0?-1:(1<<$2)-1,O){j.xb=Wq;break e}if((ve=o(K*J))==null){j.a=1,H=0;break e}H=(H=Ni(j,ve,0,K,J,J,null))&&!Z.h;break e}return H?(z!=null?z[0]=ve:(e(ve==null),e(O)),j.$=0,O||Er(oe)):Er(oe),H}function Os(m,x){var O=m.c*m.i,j=O+x+16*x;return e(m.c<=x),m.V=o(j),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+O+x,1)}function ma(m,x){var O=m.C,j=x-O,z=m.V,H=m.Ba+m.c*O;for(e(x<=m.l.o);0<j;){var K=16<j?16:j,J=m.l.ma,Z=m.l.width,oe=Z*K,ve=J.ca,Ie=J.tb+Z*O,se=m.Ta,we=m.Ua;el(m,K,z,H),IP(se,we,ve,Ie,oe),Io(J,O,O+K,ve,Ie,Z),j-=K,z+=K*m.c,O+=K}e(O==x),m.C=m.Ma=x}function tl(){this.ub=this.yd=this.td=this.Rb=0}function nl(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function _p(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function ga(){this.Yb=function(){var m=[];return function x(O,j,z){for(var H=z[j],K=0;K<H&&(O.push(z.length>j+1?[]:0),!(z.length<j+1));K++)x(O[K],j+1,z)}(m,0,[3,11]),m}()}function Ec(){this.jb=o(3),this.Wc=a([4,8],ga),this.Xc=a([4,17],ga)}function iu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function ii(){this.ld=this.La=this.dd=this.tc=0}function Co(){this.Na=this.la=0}function ou(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ac(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Tc(){this.uc=this.M=this.Nb=0,this.wa=Array(new ii),this.Y=0,this.ya=Array(new Ac),this.aa=0,this.l=new va}function Ic(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Pc(){this.cb=this.a=0,this.sc="",this.m=new B,this.Od=new tl,this.Kc=new nl,this.ed=new iu,this.Qa=new _p,this.Ic=this.$c=this.Aa=0,this.D=new Tc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,B),this.ia=0,this.pb=s(4,ou),this.Pa=new Ec,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ic),this.Hd=0,this.rb=Array(new Co),this.sb=0,this.wa=Array(new ii),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ac),this.L=this.aa=0,this.gd=a([4,2],ii),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function fo(m,x){return 0>m?0:m>x?x:m}function va(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Xf(){var m=new Pc;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,Dp||(Dp=rl)),m}function or(m,x,O){return m.a==0&&(m.a=x,m.sc=O,m.cb=0),0}function Qf(m,x,O){return 3<=O&&m[x+0]==157&&m[x+1]==1&&m[x+2]==42}function ts(m,x){if(m==null)return 0;if(m.a=0,m.sc="OK",x==null)return or(m,2,"null VP8Io passed to VP8GetHeaders()");var O=x.data,j=x.w,z=x.ha;if(4>z)return or(m,7,"Truncated header.");var H=O[j+0]|O[j+1]<<8|O[j+2]<<16,K=m.Od;if(K.Rb=!(1&H),K.td=H>>1&7,K.yd=H>>4&1,K.ub=H>>5,3<K.td)return or(m,3,"Incorrect keyframe parameters.");if(!K.yd)return or(m,4,"Frame not displayable.");j+=3,z-=3;var J=m.Kc;if(K.Rb){if(7>z)return or(m,7,"cannot parse picture header");if(!Qf(O,j,z))return or(m,3,"Bad code word");J.c=16383&(O[j+4]<<8|O[j+3]),J.Td=O[j+4]>>6,J.i=16383&(O[j+6]<<8|O[j+5]),J.Ud=O[j+6]>>6,j+=7,z-=7,m.za=J.c+15>>4,m.Ub=J.i+15>>4,x.width=J.c,x.height=J.i,x.Da=0,x.j=0,x.v=0,x.va=x.width,x.o=x.height,x.da=0,x.ib=x.width,x.hb=x.height,x.U=x.width,x.T=x.height,i((H=m.Pa).jb,0,255,H.jb.length),e((H=m.Qa)!=null),H.Cb=0,H.Bb=0,H.Fb=1,i(H.Zb,0,0,H.Zb.length),i(H.Lb,0,0,H.Lb)}if(K.ub>z)return or(m,7,"bad partition length");le(H=m.m,O,j,K.ub),j+=K.ub,z-=K.ub,K.Rb&&(J.Ld=ee(H),J.Kd=ee(H)),J=m.Qa;var Z,oe=m.Pa;if(e(H!=null),e(J!=null),J.Cb=ee(H),J.Cb){if(J.Bb=ee(H),ee(H)){for(J.Fb=ee(H),Z=0;4>Z;++Z)J.Zb[Z]=ee(H)?Q(H,7):0;for(Z=0;4>Z;++Z)J.Lb[Z]=ee(H)?Q(H,6):0}if(J.Bb)for(Z=0;3>Z;++Z)oe.jb[Z]=ee(H)?ue(H,8):255}else J.Bb=0;if(H.Ka)return or(m,3,"cannot parse segment header");if((J=m.ed).zd=ee(H),J.Tb=ue(H,6),J.wb=ue(H,3),J.Pc=ee(H),J.Pc&&ee(H)){for(oe=0;4>oe;++oe)ee(H)&&(J.vd[oe]=Q(H,6));for(oe=0;4>oe;++oe)ee(H)&&(J.od[oe]=Q(H,6))}if(m.L=J.Tb==0?0:J.zd?1:2,H.Ka)return or(m,3,"cannot parse filter header");var ve=z;if(z=Z=j,j=Z+ve,J=ve,m.Xb=(1<<ue(m.m,2))-1,ve<3*(oe=m.Xb))O=7;else{for(Z+=3*oe,J-=3*oe,ve=0;ve<oe;++ve){var Ie=O[z+0]|O[z+1]<<8|O[z+2]<<16;Ie>J&&(Ie=J),le(m.Jc[+ve],O,Z,Ie),Z+=Ie,J-=Ie,z+=3}le(m.Jc[+oe],O,Z,J),O=Z<j?0:5}if(O!=0)return or(m,O,"cannot parse partitions");for(O=ue(Z=m.m,7),z=ee(Z)?Q(Z,4):0,j=ee(Z)?Q(Z,4):0,J=ee(Z)?Q(Z,4):0,oe=ee(Z)?Q(Z,4):0,Z=ee(Z)?Q(Z,4):0,ve=m.Qa,Ie=0;4>Ie;++Ie){if(ve.Cb){var se=ve.Zb[Ie];ve.Fb||(se+=O)}else{if(0<Ie){m.pb[Ie]=m.pb[0];continue}se=O}var we=m.pb[Ie];we.Sc[0]=C2[fo(se+z,127)],we.Sc[1]=N2[fo(se+0,127)],we.Eb[0]=2*C2[fo(se+j,127)],we.Eb[1]=101581*N2[fo(se+J,127)]>>16,8>we.Eb[1]&&(we.Eb[1]=8),we.Qc[0]=C2[fo(se+oe,117)],we.Qc[1]=N2[fo(se+Z,127)],we.lc=se+Z}if(!K.Rb)return or(m,4,"Not a key frame.");for(ee(H),K=m.Pa,O=0;4>O;++O){for(z=0;8>z;++z)for(j=0;3>j;++j)for(J=0;11>J;++J)oe=me(H,Hq[O][z][j][J])?ue(H,8):qq[O][z][j][J],K.Wc[O][z].Yb[j][J]=oe;for(z=0;17>z;++z)K.Xc[O][z]=K.Wc[O][Gq[z]]}return m.kc=ee(H),m.kc&&(m.Bd=ue(H,8)),m.cb=1}function rl(m,x,O,j,z,H,K){var J=x[z].Yb[O];for(O=0;16>z;++z){if(!me(m,J[O+0]))return z;for(;!me(m,J[O+1]);)if(J=x[++z].Yb[0],O=0,z==16)return 16;var Z=x[z+1].Yb;if(me(m,J[O+2])){var oe=m,ve=0;if(me(oe,(se=J)[(Ie=O)+3]))if(me(oe,se[Ie+6])){for(J=0,Ie=2*(ve=me(oe,se[Ie+8]))+(se=me(oe,se[Ie+9+ve])),ve=0,se=Bq[Ie];se[J];++J)ve+=ve+me(oe,se[J]);ve+=3+(8<<Ie)}else me(oe,se[Ie+7])?(ve=7+2*me(oe,165),ve+=me(oe,145)):ve=5+me(oe,159);else ve=me(oe,se[Ie+4])?3+me(oe,se[Ie+5]):2;J=Z[2]}else ve=1,J=Z[1];Z=K+Vq[z],0>(oe=m).b&&Te(oe);var Ie,se=oe.b,we=(Ie=oe.Ca>>1)-(oe.I>>se)>>31;--oe.b,oe.Ca+=we,oe.Ca|=1,oe.I-=(Ie+1&we)<<se,H[Z]=((ve^we)-we)*j[(0<z)+0]}return 16}function Cc(m){var x=m.rb[m.sb-1];x.la=0,x.Na=0,i(m.zc,0,0,m.zc.length),m.ja=0}function ho(m,x,O,j,z){z=m[x+O+32*j]+(z>>3),m[x+O+32*j]=-256&z?0>z?0:255:z}function Rn(m,x,O,j,z,H){ho(m,x,0,O,j+z),ho(m,x,1,O,j+H),ho(m,x,2,O,j-H),ho(m,x,3,O,j-z)}function zr(m){return(20091*m>>16)+m}function il(m,x,O,j){var z,H=0,K=o(16);for(z=0;4>z;++z){var J=m[x+0]+m[x+8],Z=m[x+0]-m[x+8],oe=(35468*m[x+4]>>16)-zr(m[x+12]),ve=zr(m[x+4])+(35468*m[x+12]>>16);K[H+0]=J+ve,K[H+1]=Z+oe,K[H+2]=Z-oe,K[H+3]=J-ve,H+=4,x++}for(z=H=0;4>z;++z)J=(m=K[H+0]+4)+K[H+8],Z=m-K[H+8],oe=(35468*K[H+4]>>16)-zr(K[H+12]),ho(O,j,0,0,J+(ve=zr(K[H+4])+(35468*K[H+12]>>16))),ho(O,j,1,0,Z+oe),ho(O,j,2,0,Z-oe),ho(O,j,3,0,J-ve),H++,j+=32}function su(m,x,O,j){var z=m[x+0]+4,H=35468*m[x+4]>>16,K=zr(m[x+4]),J=35468*m[x+1]>>16;Rn(O,j,0,z+K,m=zr(m[x+1]),J),Rn(O,j,1,z+H,m,J),Rn(O,j,2,z-H,m,J),Rn(O,j,3,z-K,m,J)}function Zf(m,x,O,j,z){il(m,x,O,j),z&&il(m,x+16,O,j+4)}function Yt(m,x,O,j){Fc(m,x+0,O,j,1),Fc(m,x+32,O,j+128,1)}function ol(m,x,O,j){var z;for(m=m[x+0]+4,z=0;4>z;++z)for(x=0;4>x;++x)ho(O,j,x,z,m)}function ya(m,x,O,j){m[x+0]&&yn(m,x+0,O,j),m[x+16]&&yn(m,x+16,O,j+4),m[x+32]&&yn(m,x+32,O,j+128),m[x+48]&&yn(m,x+48,O,j+128+4)}function ns(m,x,O,j){var z,H=o(16);for(z=0;4>z;++z){var K=m[x+0+z]+m[x+12+z],J=m[x+4+z]+m[x+8+z],Z=m[x+4+z]-m[x+8+z],oe=m[x+0+z]-m[x+12+z];H[0+z]=K+J,H[8+z]=K-J,H[4+z]=oe+Z,H[12+z]=oe-Z}for(z=0;4>z;++z)K=(m=H[0+4*z]+3)+H[3+4*z],J=H[1+4*z]+H[2+4*z],Z=H[1+4*z]-H[2+4*z],oe=m-H[3+4*z],O[j+0]=K+J>>3,O[j+16]=oe+Z>>3,O[j+32]=K-J>>3,O[j+48]=oe-Z>>3,j+=64}function sl(m,x,O){var j,z=x-32,H=Mo,K=255-m[z-1];for(j=0;j<O;++j){var J,Z=H,oe=K+m[x-1];for(J=0;J<O;++J)m[x+J]=Z[oe+m[z+J]];x+=32}}function ed(m,x){sl(m,x,4)}function bp(m,x){sl(m,x,8)}function xp(m,x){sl(m,x,16)}function Nc(m,x){var O;for(O=0;16>O;++O)r(m,x+32*O,m,x-32,16)}function td(m,x){var O;for(O=16;0<O;--O)i(m,x,m[x-1],16),x+=32}function pi(m,x,O){var j;for(j=0;16>j;++j)i(x,O+32*j,m,16)}function rs(m,x){var O,j=16;for(O=0;16>O;++O)j+=m[x-1+32*O]+m[x+O-32];pi(j>>5,m,x)}function wa(m,x){var O,j=8;for(O=0;16>O;++O)j+=m[x-1+32*O];pi(j>>4,m,x)}function au(m,x){var O,j=8;for(O=0;16>O;++O)j+=m[x+O-32];pi(j>>4,m,x)}function nd(m,x){pi(128,m,x)}function bt(m,x,O){return m+2*x+O+2>>2}function Sp(m,x){var O,j=x-32;for(j=new Uint8Array([bt(m[j-1],m[j+0],m[j+1]),bt(m[j+0],m[j+1],m[j+2]),bt(m[j+1],m[j+2],m[j+3]),bt(m[j+2],m[j+3],m[j+4])]),O=0;4>O;++O)r(m,x+32*O,j,0,j.length)}function Ep(m,x){var O=m[x-1],j=m[x-1+32],z=m[x-1+64],H=m[x-1+96];ne(m,x+0,16843009*bt(m[x-1-32],O,j)),ne(m,x+32,16843009*bt(O,j,z)),ne(m,x+64,16843009*bt(j,z,H)),ne(m,x+96,16843009*bt(z,H,H))}function Ap(m,x){var O,j=4;for(O=0;4>O;++O)j+=m[x+O-32]+m[x-1+32*O];for(j>>=3,O=0;4>O;++O)i(m,x+32*O,j,4)}function oi(m,x){var O=m[x-1+0],j=m[x-1+32],z=m[x-1+64],H=m[x-1-32],K=m[x+0-32],J=m[x+1-32],Z=m[x+2-32],oe=m[x+3-32];m[x+0+96]=bt(j,z,m[x-1+96]),m[x+1+96]=m[x+0+64]=bt(O,j,z),m[x+2+96]=m[x+1+64]=m[x+0+32]=bt(H,O,j),m[x+3+96]=m[x+2+64]=m[x+1+32]=m[x+0+0]=bt(K,H,O),m[x+3+64]=m[x+2+32]=m[x+1+0]=bt(J,K,H),m[x+3+32]=m[x+2+0]=bt(Z,J,K),m[x+3+0]=bt(oe,Z,J)}function Ms(m,x){var O=m[x+1-32],j=m[x+2-32],z=m[x+3-32],H=m[x+4-32],K=m[x+5-32],J=m[x+6-32],Z=m[x+7-32];m[x+0+0]=bt(m[x+0-32],O,j),m[x+1+0]=m[x+0+32]=bt(O,j,z),m[x+2+0]=m[x+1+32]=m[x+0+64]=bt(j,z,H),m[x+3+0]=m[x+2+32]=m[x+1+64]=m[x+0+96]=bt(z,H,K),m[x+3+32]=m[x+2+64]=m[x+1+96]=bt(H,K,J),m[x+3+64]=m[x+2+96]=bt(K,J,Z),m[x+3+96]=bt(J,Z,Z)}function Tp(m,x){var O=m[x-1+0],j=m[x-1+32],z=m[x-1+64],H=m[x-1-32],K=m[x+0-32],J=m[x+1-32],Z=m[x+2-32],oe=m[x+3-32];m[x+0+0]=m[x+1+64]=H+K+1>>1,m[x+1+0]=m[x+2+64]=K+J+1>>1,m[x+2+0]=m[x+3+64]=J+Z+1>>1,m[x+3+0]=Z+oe+1>>1,m[x+0+96]=bt(z,j,O),m[x+0+64]=bt(j,O,H),m[x+0+32]=m[x+1+96]=bt(O,H,K),m[x+1+32]=m[x+2+96]=bt(H,K,J),m[x+2+32]=m[x+3+96]=bt(K,J,Z),m[x+3+32]=bt(J,Z,oe)}function lu(m,x){var O=m[x+0-32],j=m[x+1-32],z=m[x+2-32],H=m[x+3-32],K=m[x+4-32],J=m[x+5-32],Z=m[x+6-32],oe=m[x+7-32];m[x+0+0]=O+j+1>>1,m[x+1+0]=m[x+0+64]=j+z+1>>1,m[x+2+0]=m[x+1+64]=z+H+1>>1,m[x+3+0]=m[x+2+64]=H+K+1>>1,m[x+0+32]=bt(O,j,z),m[x+1+32]=m[x+0+96]=bt(j,z,H),m[x+2+32]=m[x+1+96]=bt(z,H,K),m[x+3+32]=m[x+2+96]=bt(H,K,J),m[x+3+64]=bt(K,J,Z),m[x+3+96]=bt(J,Z,oe)}function Ls(m,x){var O=m[x-1+0],j=m[x-1+32],z=m[x-1+64],H=m[x-1+96];m[x+0+0]=O+j+1>>1,m[x+2+0]=m[x+0+32]=j+z+1>>1,m[x+2+32]=m[x+0+64]=z+H+1>>1,m[x+1+0]=bt(O,j,z),m[x+3+0]=m[x+1+32]=bt(j,z,H),m[x+3+32]=m[x+1+64]=bt(z,H,H),m[x+3+64]=m[x+2+64]=m[x+0+96]=m[x+1+96]=m[x+2+96]=m[x+3+96]=H}function uu(m,x){var O=m[x-1+0],j=m[x-1+32],z=m[x-1+64],H=m[x-1+96],K=m[x-1-32],J=m[x+0-32],Z=m[x+1-32],oe=m[x+2-32];m[x+0+0]=m[x+2+32]=O+K+1>>1,m[x+0+32]=m[x+2+64]=j+O+1>>1,m[x+0+64]=m[x+2+96]=z+j+1>>1,m[x+0+96]=H+z+1>>1,m[x+3+0]=bt(J,Z,oe),m[x+2+0]=bt(K,J,Z),m[x+1+0]=m[x+3+32]=bt(O,K,J),m[x+1+32]=m[x+3+64]=bt(j,O,K),m[x+1+64]=m[x+3+96]=bt(z,j,O),m[x+1+96]=bt(H,z,j)}function No(m,x){var O;for(O=0;8>O;++O)r(m,x+32*O,m,x-32,8)}function al(m,x){var O;for(O=0;8>O;++O)i(m,x,m[x-1],8),x+=32}function is(m,x,O){var j;for(j=0;8>j;++j)i(x,O+32*j,m,8)}function kc(m,x){var O,j=8;for(O=0;8>O;++O)j+=m[x+O-32]+m[x-1+32*O];is(j>>4,m,x)}function Cn(m,x){var O,j=4;for(O=0;8>O;++O)j+=m[x+O-32];is(j>>3,m,x)}function Rc(m,x){var O,j=4;for(O=0;8>O;++O)j+=m[x-1+32*O];is(j>>3,m,x)}function rd(m,x){is(128,m,x)}function os(m,x,O){var j=m[x-O],z=m[x+0],H=3*(z-j)+E2[1020+m[x-2*O]-m[x+O]],K=$v[112+(H+4>>3)];m[x-O]=Mo[255+j+$v[112+(H+3>>3)]],m[x+0]=Mo[255+z-K]}function cu(m,x,O,j){var z=m[x+0],H=m[x+O];return fs[255+m[x-2*O]-m[x-O]]>j||fs[255+H-z]>j}function ll(m,x,O,j){return 4*fs[255+m[x-O]-m[x+0]]+fs[255+m[x-2*O]-m[x+O]]<=j}function _a(m,x,O,j,z){var H=m[x-3*O],K=m[x-2*O],J=m[x-O],Z=m[x+0],oe=m[x+O],ve=m[x+2*O],Ie=m[x+3*O];return 4*fs[255+J-Z]+fs[255+K-oe]>j?0:fs[255+m[x-4*O]-H]<=z&&fs[255+H-K]<=z&&fs[255+K-J]<=z&&fs[255+Ie-ve]<=z&&fs[255+ve-oe]<=z&&fs[255+oe-Z]<=z}function ba(m,x,O,j){var z=2*j+1;for(j=0;16>j;++j)ll(m,x+j,O,z)&&os(m,x+j,O)}function Ji(m,x,O,j){var z=2*j+1;for(j=0;16>j;++j)ll(m,x+j*O,1,z)&&os(m,x+j*O,1)}function Oc(m,x,O,j){var z;for(z=3;0<z;--z)ba(m,x+=4*O,O,j)}function id(m,x,O,j){var z;for(z=3;0<z;--z)Ji(m,x+=4,O,j)}function Xi(m,x,O,j,z,H,K,J){for(H=2*H+1;0<z--;){if(_a(m,x,O,H,K))if(cu(m,x,O,J))os(m,x,O);else{var Z=m,oe=x,ve=O,Ie=Z[oe-2*ve],se=Z[oe-ve],we=Z[oe+0],Ee=Z[oe+ve],Ne=Z[oe+2*ve],Ae=27*(De=E2[1020+3*(we-se)+E2[1020+Ie-Ee]])+63>>7,Me=18*De+63>>7,De=9*De+63>>7;Z[oe-3*ve]=Mo[255+Z[oe-3*ve]+De],Z[oe-2*ve]=Mo[255+Ie+Me],Z[oe-ve]=Mo[255+se+Ae],Z[oe+0]=Mo[255+we-Ae],Z[oe+ve]=Mo[255+Ee-Me],Z[oe+2*ve]=Mo[255+Ne-De]}x+=j}}function ss(m,x,O,j,z,H,K,J){for(H=2*H+1;0<z--;){if(_a(m,x,O,H,K))if(cu(m,x,O,J))os(m,x,O);else{var Z=m,oe=x,ve=O,Ie=Z[oe-ve],se=Z[oe+0],we=Z[oe+ve],Ee=$v[112+(4+(Ne=3*(se-Ie))>>3)],Ne=$v[112+(Ne+3>>3)],Ae=Ee+1>>1;Z[oe-2*ve]=Mo[255+Z[oe-2*ve]+Ae],Z[oe-ve]=Mo[255+Ie+Ne],Z[oe+0]=Mo[255+se-Ee],Z[oe+ve]=Mo[255+we-Ae]}x+=j}}function fu(m,x,O,j,z,H){Xi(m,x,O,1,16,j,z,H)}function as(m,x,O,j,z,H){Xi(m,x,1,O,16,j,z,H)}function Mc(m,x,O,j,z,H){var K;for(K=3;0<K;--K)ss(m,x+=4*O,O,1,16,j,z,H)}function I(m,x,O,j,z,H){var K;for(K=3;0<K;--K)ss(m,x+=4,1,O,16,j,z,H)}function q(m,x,O,j,z,H,K,J){Xi(m,x,z,1,8,H,K,J),Xi(O,j,z,1,8,H,K,J)}function ie(m,x,O,j,z,H,K,J){Xi(m,x,1,z,8,H,K,J),Xi(O,j,1,z,8,H,K,J)}function he(m,x,O,j,z,H,K,J){ss(m,x+4*z,z,1,8,H,K,J),ss(O,j+4*z,z,1,8,H,K,J)}function be(m,x,O,j,z,H,K,J){ss(m,x+4,1,z,8,H,K,J),ss(O,j+4,1,z,8,H,K,J)}function Oe(){this.ba=new $t,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new qt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Fe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Je(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function at(){this.ua=0,this.Wa=new et,this.vb=new et,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new re,this.yc=new U}function St(){this.xb=this.a=0,this.l=new va,this.ca=new $t,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new G,this.Pb=0,this.wd=new G,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new at,this.ab=0,this.gc=s(4,Je),this.Oc=0}function Nt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new va,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Jt(m,x,O,j,z,H,K){for(m=m==null?0:m[x+0],x=0;x<K;++x)z[H+x]=m+O[j+x]&255,m=z[H+x]}function dn(m,x,O,j,z,H,K){var J;if(m==null)Jt(null,null,O,j,z,H,K);else for(J=0;J<K;++J)z[H+J]=m[x+J]+O[j+J]&255}function sr(m,x,O,j,z,H,K){if(m==null)Jt(null,null,O,j,z,H,K);else{var J,Z=m[x+0],oe=Z,ve=Z;for(J=0;J<K;++J)oe=ve+(Z=m[x+J])-oe,ve=O[j+J]+(-256&oe?0>oe?0:255:oe)&255,oe=Z,z[H+J]=ve}}function _n(m,x,O,j){var z=x.width,H=x.o;if(e(m!=null&&x!=null),0>O||0>=j||O+j>H)return null;if(!m.Cc){if(m.ga==null){var K;if(m.ga=new Nt,(K=m.ga==null)||(K=x.width*x.o,e(m.Gb.length==0),m.Gb=o(K),m.Uc=0,m.Gb==null?K=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,K=1),K=!K),!K){K=m.ga;var J=m.Fa,Z=m.P,oe=m.qc,ve=m.mb,Ie=m.nb,se=Z+1,we=oe-1,Ee=K.l;if(e(J!=null&&ve!=null&&x!=null),_u[0]=null,_u[1]=Jt,_u[2]=dn,_u[3]=sr,K.ca=ve,K.tb=Ie,K.c=x.width,K.i=x.height,e(0<K.c&&0<K.i),1>=oe)x=0;else if(K.$a=3&J[Z+0],K.Z=J[Z+0]>>2&3,K.Lc=J[Z+0]>>4&3,Z=J[Z+0]>>6&3,0>K.$a||1<K.$a||4<=K.Z||1<K.Lc||Z)x=0;else if(Ee.put=wt,Ee.ac=Pi,Ee.bc=zn,Ee.ma=K,Ee.width=x.width,Ee.height=x.height,Ee.Da=x.Da,Ee.v=x.v,Ee.va=x.va,Ee.j=x.j,Ee.o=x.o,K.$a)e:{e(K.$a==1),x=pa();t:for(;;){if(x==null){x=0;break e}if(e(K!=null),K.mc=x,x.c=K.c,x.i=K.i,x.l=K.l,x.l.ma=K,x.l.width=K.c,x.l.height=K.i,x.a=0,ae(x.m,J,se,we),!Po(K.c,K.i,1,x,null)||(x.ab==1&&x.gc[0].hc==3&&Ci(x.s)?(K.ic=1,J=x.c*x.i,x.Ta=null,x.Ua=0,x.V=o(J),x.Ba=0,x.V==null?(x.a=1,x=0):x=1):(K.ic=0,x=Os(x,K.c)),!x))break t;x=1;break e}K.mc=null,x=0}else x=we>=K.c*K.i;K=!x}if(K)return null;m.ga.Lc!=1?m.Ga=0:j=H-O}e(m.ga!=null),e(O+j<=H);e:{if(x=(J=m.ga).c,H=J.l.o,J.$a==0){if(se=m.rc,we=m.Vc,Ee=m.Fa,Z=m.P+1+O*x,oe=m.mb,ve=m.nb+O*x,e(Z<=m.P+m.qc),J.Z!=0)for(e(_u[J.Z]!=null),K=0;K<j;++K)_u[J.Z](se,we,Ee,Z,oe,ve,x),se=oe,we=ve,ve+=x,Z+=x;else for(K=0;K<j;++K)r(oe,ve,Ee,Z,x),se=oe,we=ve,ve+=x,Z+=x;m.rc=se,m.Vc=we}else{if(e(J.mc!=null),x=O+j,e((K=J.mc)!=null),e(x<=K.i),K.C>=x)x=1;else if(J.ic||po(),J.ic){J=K.V,se=K.Ba,we=K.c;var Ne=K.i,Ae=(Ee=1,Z=K.$/we,oe=K.$%we,ve=K.m,Ie=K.s,K.$),Me=we*Ne,De=we*x,Ve=Ie.wc,je=Ae<De?er(Ie,oe,Z):null;e(Ae<=Me),e(x<=Ne),e(Ci(Ie));t:for(;;){for(;!ve.h&&Ae<De;){if(oe&Ve||(je=er(Ie,oe,Z)),e(je!=null),_e(ve),256>(Ne=Zn(je.G[0],je.H[0],ve)))J[se+Ae]=Ne,++Ae,++oe>=we&&(oe=0,++Z<=x&&!(Z%16)&&Yi(K,Z));else{if(!(280>Ne)){Ee=0;break t}Ne=ni(Ne-256,ve);var ht,tt=Zn(je.G[4],je.H[4],ve);if(_e(ve),!(Ae>=(tt=ri(we,tt=ni(tt,ve)))&&Me-Ae>=Ne)){Ee=0;break t}for(ht=0;ht<Ne;++ht)J[se+Ae+ht]=J[se+Ae+ht-tt];for(Ae+=Ne,oe+=Ne;oe>=we;)oe-=we,++Z<=x&&!(Z%16)&&Yi(K,Z);Ae<De&&oe&Ve&&(je=er(Ie,oe,Z))}e(ve.h==ce(ve))}Yi(K,Z>x?x:Z);break t}!Ee||ve.h&&Ae<Me?(Ee=0,K.a=ve.h?5:3):K.$=Ae,x=Ee}else x=Ni(K,K.V,K.Ba,K.c,K.i,x,ma);if(!x){j=0;break e}}O+j>=H&&(m.Cc=1),j=1}if(!j)return null;if(m.Cc&&((j=m.ga)!=null&&(j.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+O*z}function pr(m,x,O,j,z,H){for(;0<z--;){var K,J=m,Z=x+(O?1:0),oe=m,ve=x+(O?0:3);for(K=0;K<j;++K){var Ie=oe[ve+4*K];Ie!=255&&(Ie*=32897,J[Z+4*K+0]=J[Z+4*K+0]*Ie>>23,J[Z+4*K+1]=J[Z+4*K+1]*Ie>>23,J[Z+4*K+2]=J[Z+4*K+2]*Ie>>23)}x+=H}}function ar(m,x,O,j,z){for(;0<j--;){var H;for(H=0;H<O;++H){var K=m[x+2*H+0],J=15&(oe=m[x+2*H+1]),Z=4369*J,oe=(240&oe|oe>>4)*Z>>16;m[x+2*H+0]=(240&K|K>>4)*Z>>16&240|(15&K|K<<4)*Z>>16>>4&15,m[x+2*H+1]=240&oe|J}x+=z}}function mr(m,x,O,j,z,H,K,J){var Z,oe,ve=255;for(oe=0;oe<z;++oe){for(Z=0;Z<j;++Z){var Ie=m[x+Z];H[K+4*Z]=Ie,ve&=Ie}x+=O,K+=J}return ve!=255}function lr(m,x,O,j,z){var H;for(H=0;H<z;++H)O[j+H]=m[x+H]>>8}function po(){Lp=pr,AP=ar,TP=mr,IP=lr}function ls(m,x,O){T[m]=function(j,z,H,K,J,Z,oe,ve,Ie,se,we,Ee,Ne,Ae,Me,De,Ve){var je,ht=Ve-1>>1,tt=J[Z+0]|oe[ve+0]<<16,Bt=Ie[se+0]|we[Ee+0]<<16;e(j!=null);var ut=3*tt+Bt+131074>>2;for(x(j[z+0],255&ut,ut>>16,Ne,Ae),H!=null&&(ut=3*Bt+tt+131074>>2,x(H[K+0],255&ut,ut>>16,Me,De)),je=1;je<=ht;++je){var Zt=J[Z+je]|oe[ve+je]<<16,Gr=Ie[se+je]|we[Ee+je]<<16,Vt=tt+Zt+Bt+Gr+524296,ct=Vt+2*(Zt+Bt)>>3;ut=ct+tt>>1,tt=(Vt=Vt+2*(tt+Gr)>>3)+Zt>>1,x(j[z+2*je-1],255&ut,ut>>16,Ne,Ae+(2*je-1)*O),x(j[z+2*je-0],255&tt,tt>>16,Ne,Ae+(2*je-0)*O),H!=null&&(ut=Vt+Bt>>1,tt=ct+Gr>>1,x(H[K+2*je-1],255&ut,ut>>16,Me,De+(2*je-1)*O),x(H[K+2*je+0],255&tt,tt>>16,Me,De+(2*je+0)*O)),tt=Zt,Bt=Gr}1&Ve||(ut=3*tt+Bt+131074>>2,x(j[z+Ve-1],255&ut,ut>>16,Ne,Ae+(Ve-1)*O),H!=null&&(ut=3*Bt+tt+131074>>2,x(H[K+Ve-1],255&ut,ut>>16,Me,De+(Ve-1)*O)))}}function us(){ds[jv]=Kq,ds[Bv]=UP,ds[OP]=Yq,ds[Vv]=$P,ds[qv]=jP,ds[A2]=BP,ds[MP]=Jq,ds[T2]=UP,ds[I2]=$P,ds[zv]=jP,ds[P2]=BP}function g(m){return m&-16384?0>m?0:255:m>>Xq}function M(m,x){return g((19077*m>>8)+(26149*x>>8)-14234)}function V(m,x,O){return g((19077*m>>8)-(6419*x>>8)-(13320*O>>8)+8708)}function X(m,x){return g((19077*m>>8)+(33050*x>>8)-17685)}function xe(m,x,O,j,z){j[z+0]=M(m,O),j[z+1]=V(m,x,O),j[z+2]=X(m,x)}function Pe(m,x,O,j,z){j[z+0]=X(m,x),j[z+1]=V(m,x,O),j[z+2]=M(m,O)}function ze(m,x,O,j,z){var H=V(m,x,O);x=H<<3&224|X(m,x)>>3,j[z+0]=248&M(m,O)|H>>5,j[z+1]=x}function Qt(m,x,O,j,z){var H=240&X(m,x)|15;j[z+0]=240&M(m,O)|V(m,x,O)>>4,j[z+1]=H}function ur(m,x,O,j,z){j[z+0]=255,xe(m,x,O,j,z+1)}function zt(m,x,O,j,z){Pe(m,x,O,j,z),j[z+3]=255}function an(m,x,O,j,z){xe(m,x,O,j,z),j[z+3]=255}function $n(m,x,O){T[m]=function(j,z,H,K,J,Z,oe,ve,Ie){for(var se=ve+(-2&Ie)*O;ve!=se;)x(j[z+0],H[K+0],J[Z+0],oe,ve),x(j[z+1],H[K+0],J[Z+0],oe,ve+O),z+=2,++K,++Z,ve+=2*O;1&Ie&&x(j[z+0],H[K+0],J[Z+0],oe,ve)}}function ko(m,x,O){return O==0?m==0?x==0?6:5:x==0?4:0:O}function ki(m,x,O,j,z){switch(m>>>30){case 3:Fc(x,O,j,z,0);break;case 2:cs(x,O,j,z);break;case 1:yn(x,O,j,z)}}function mi(m,x){var O,j,z=x.M,H=x.Nb,K=m.oc,J=m.pc+40,Z=m.oc,oe=m.pc+584,ve=m.oc,Ie=m.pc+600;for(O=0;16>O;++O)K[J+32*O-1]=129;for(O=0;8>O;++O)Z[oe+32*O-1]=129,ve[Ie+32*O-1]=129;for(0<z?K[J-1-32]=Z[oe-1-32]=ve[Ie-1-32]=129:(i(K,J-32-1,127,21),i(Z,oe-32-1,127,9),i(ve,Ie-32-1,127,9)),j=0;j<m.za;++j){var se=x.ya[x.aa+j];if(0<j){for(O=-1;16>O;++O)r(K,J+32*O-4,K,J+32*O+12,4);for(O=-1;8>O;++O)r(Z,oe+32*O-4,Z,oe+32*O+4,4),r(ve,Ie+32*O-4,ve,Ie+32*O+4,4)}var we=m.Gd,Ee=m.Hd+j,Ne=se.ad,Ae=se.Hc;if(0<z&&(r(K,J-32,we[Ee].y,0,16),r(Z,oe-32,we[Ee].f,0,8),r(ve,Ie-32,we[Ee].ea,0,8)),se.Za){var Me=K,De=J-32+16;for(0<z&&(j>=m.za-1?i(Me,De,we[Ee].y[15],4):r(Me,De,we[Ee+1].y,0,4)),O=0;4>O;O++)Me[De+128+O]=Me[De+256+O]=Me[De+384+O]=Me[De+0+O];for(O=0;16>O;++O,Ae<<=2)Me=K,De=J+qP[O],Fs[se.Ob[O]](Me,De),ki(Ae,Ne,16*+O,Me,De)}else if(Me=ko(j,z,se.Ob[0]),wu[Me](K,J),Ae!=0)for(O=0;16>O;++O,Ae<<=2)ki(Ae,Ne,16*+O,K,J+qP[O]);for(O=se.Gc,Me=ko(j,z,se.Dd),fl[Me](Z,oe),fl[Me](ve,Ie),Ae=Ne,Me=Z,De=oe,255&(se=0|O)&&(170&se?Ea(Ae,256,Me,De):On(Ae,256,Me,De)),se=ve,Ae=Ie,255&(O>>=8)&&(170&O?Ea(Ne,320,se,Ae):On(Ne,320,se,Ae)),z<m.Ub-1&&(r(we[Ee].y,0,K,J+480,16),r(we[Ee].f,0,Z,oe+224,8),r(we[Ee].ea,0,ve,Ie+224,8)),O=8*H*m.B,we=m.sa,Ee=m.ta+16*j+16*H*m.R,Ne=m.qa,se=m.ra+8*j+O,Ae=m.Ha,Me=m.Ia+8*j+O,O=0;16>O;++O)r(we,Ee+O*m.R,K,J+32*O,16);for(O=0;8>O;++O)r(Ne,se+O*m.B,Z,oe+32*O,8),r(Ae,Me+O*m.B,ve,Ie+32*O,8)}}function Ds(m,x,O,j,z,H,K,J,Z){var oe=[0],ve=[0],Ie=0,se=Z!=null?Z.kd:0,we=Z??new Fe;if(m==null||12>O)return 7;we.data=m,we.w=x,we.ha=O,x=[x],O=[O],we.gb=[we.gb];e:{var Ee=x,Ne=O,Ae=we.gb;if(e(m!=null),e(Ne!=null),e(Ae!=null),Ae[0]=0,12<=Ne[0]&&!n(m,Ee[0],"RIFF")){if(n(m,Ee[0]+8,"WEBP")){Ae=3;break e}var Me=ke(m,Ee[0]+4);if(12>Me||4294967286<Me){Ae=3;break e}if(se&&Me>Ne[0]-8){Ae=7;break e}Ae[0]=Me,Ee[0]+=12,Ne[0]-=12}Ae=0}if(Ae!=0)return Ae;for(Me=0<we.gb[0],O=O[0];;){e:{var De=m;Ne=x,Ae=O;var Ve=oe,je=ve,ht=Ee=[0];if((ut=Ie=[Ie])[0]=0,8>Ae[0])Ae=7;else{if(!n(De,Ne[0],"VP8X")){if(ke(De,Ne[0]+4)!=10){Ae=3;break e}if(18>Ae[0]){Ae=7;break e}var tt=ke(De,Ne[0]+8),Bt=1+Ce(De,Ne[0]+12);if(2147483648<=Bt*(De=1+Ce(De,Ne[0]+15))){Ae=3;break e}ht!=null&&(ht[0]=tt),Ve!=null&&(Ve[0]=Bt),je!=null&&(je[0]=De),Ne[0]+=18,Ae[0]-=18,ut[0]=1}Ae=0}}if(Ie=Ie[0],Ee=Ee[0],Ae!=0)return Ae;if(Ne=!!(2&Ee),!Me&&Ie)return 3;if(H!=null&&(H[0]=!!(16&Ee)),K!=null&&(K[0]=Ne),J!=null&&(J[0]=0),K=oe[0],Ee=ve[0],Ie&&Ne&&Z==null){Ae=0;break}if(4>O){Ae=7;break}if(Me&&Ie||!Me&&!Ie&&!n(m,x[0],"ALPH")){O=[O],we.na=[we.na],we.P=[we.P],we.Sa=[we.Sa];e:{tt=m,Ae=x,Me=O;var ut=we.gb;Ve=we.na,je=we.P,ht=we.Sa,Bt=22,e(tt!=null),e(Me!=null),De=Ae[0];var Zt=Me[0];for(e(Ve!=null),e(ht!=null),Ve[0]=null,je[0]=null,ht[0]=0;;){if(Ae[0]=De,Me[0]=Zt,8>Zt){Ae=7;break e}var Gr=ke(tt,De+4);if(4294967286<Gr){Ae=3;break e}var Vt=8+Gr+1&-2;if(Bt+=Vt,0<ut&&Bt>ut){Ae=3;break e}if(!n(tt,De,"VP8 ")||!n(tt,De,"VP8L")){Ae=0;break e}if(Zt[0]<Vt){Ae=7;break e}n(tt,De,"ALPH")||(Ve[0]=tt,je[0]=De+8,ht[0]=Gr),De+=Vt,Zt-=Vt}}if(O=O[0],we.na=we.na[0],we.P=we.P[0],we.Sa=we.Sa[0],Ae!=0)break}O=[O],we.Ja=[we.Ja],we.xa=[we.xa];e:if(ut=m,Ae=x,Me=O,Ve=we.gb[0],je=we.Ja,ht=we.xa,tt=Ae[0],De=!n(ut,tt,"VP8 "),Bt=!n(ut,tt,"VP8L"),e(ut!=null),e(Me!=null),e(je!=null),e(ht!=null),8>Me[0])Ae=7;else{if(De||Bt){if(ut=ke(ut,tt+4),12<=Ve&&ut>Ve-12){Ae=3;break e}if(se&&ut>Me[0]-8){Ae=7;break e}je[0]=ut,Ae[0]+=8,Me[0]-=8,ht[0]=Bt}else ht[0]=5<=Me[0]&&ut[tt+0]==47&&!(ut[tt+4]>>5),je[0]=Me[0];Ae=0}if(O=O[0],we.Ja=we.Ja[0],we.xa=we.xa[0],x=x[0],Ae!=0)break;if(4294967286<we.Ja)return 3;if(J==null||Ne||(J[0]=we.xa?2:1),K=[K],Ee=[Ee],we.xa){if(5>O){Ae=7;break}J=K,se=Ee,Ne=H,m==null||5>O?m=0:5<=O&&m[x+0]==47&&!(m[x+4]>>5)?(Me=[0],ut=[0],Ve=[0],ae(je=new G,m,x,O),es(je,Me,ut,Ve)?(J!=null&&(J[0]=Me[0]),se!=null&&(se[0]=ut[0]),Ne!=null&&(Ne[0]=Ve[0]),m=1):m=0):m=0}else{if(10>O){Ae=7;break}J=Ee,m==null||10>O||!Qf(m,x+3,O-3)?m=0:(se=m[x+0]|m[x+1]<<8|m[x+2]<<16,Ne=16383&(m[x+7]<<8|m[x+6]),m=16383&(m[x+9]<<8|m[x+8]),1&se||3<(se>>1&7)||!(se>>4&1)||se>>5>=we.Ja||!Ne||!m?m=0:(K&&(K[0]=Ne),J&&(J[0]=m),m=1))}if(!m||(K=K[0],Ee=Ee[0],Ie&&(oe[0]!=K||ve[0]!=Ee)))return 3;Z!=null&&(Z[0]=we,Z.offset=x-Z.w,e(4294967286>x-Z.w),e(Z.offset==Z.ha-O));break}return Ae==0||Ae==7&&Ie&&Z==null?(H!=null&&(H[0]|=we.na!=null&&0<we.na.length),j!=null&&(j[0]=K),z!=null&&(z[0]=Ee),0):Ae}function Ip(m,x,O){var j=x.width,z=x.height,H=0,K=0,J=j,Z=z;if(x.Da=m!=null&&0<m.Da,x.Da&&(J=m.cd,Z=m.bd,H=m.v,K=m.j,11>O||(H&=-2,K&=-2),0>H||0>K||0>=J||0>=Z||H+J>j||K+Z>z))return 0;if(x.v=H,x.j=K,x.va=H+J,x.o=K+Z,x.U=J,x.T=Z,x.da=m!=null&&0<m.da,x.da){if(!Ye(J,Z,O=[m.ib],H=[m.hb]))return 0;x.ib=O[0],x.hb=H[0]}return x.ob=m!=null&&m.ob,x.Kb=m==null||!m.Sd,x.da&&(x.ob=x.ib<3*j/4&&x.hb<3*z/4,x.Kb=0),1}function Pp(m){if(m==null)return 2;if(11>m.S){var x=m.f.RGBA;x.fb+=(m.height-1)*x.A,x.A=-x.A}else x=m.f.kb,m=m.height,x.O+=(m-1)*x.fa,x.fa=-x.fa,x.N+=(m-1>>1)*x.Ab,x.Ab=-x.Ab,x.W+=(m-1>>1)*x.Db,x.Db=-x.Db,x.F!=null&&(x.J+=(m-1)*x.lb,x.lb=-x.lb);return 0}function du(m,x,O,j){if(j==null||0>=m||0>=x)return 2;if(O!=null){if(O.Da){var z=O.cd,H=O.bd,K=-2&O.v,J=-2&O.j;if(0>K||0>J||0>=z||0>=H||K+z>m||J+H>x)return 2;m=z,x=H}if(O.da){if(!Ye(m,x,z=[O.ib],H=[O.hb]))return 2;m=z[0],x=H[0]}}j.width=m,j.height=x;e:{var Z=j.width,oe=j.height;if(m=j.S,0>=Z||0>=oe||!(m>=jv&&13>m))m=2;else{if(0>=j.Rd&&j.sd==null){K=H=z=x=0;var ve=(J=Z*zP[m])*oe;if(11>m||(H=(oe+1)/2*(x=(Z+1)/2),m==12&&(K=(z=Z)*oe)),(oe=o(ve+2*H+K))==null){m=1;break e}j.sd=oe,11>m?((Z=j.f.RGBA).eb=oe,Z.fb=0,Z.A=J,Z.size=ve):((Z=j.f.kb).y=oe,Z.O=0,Z.fa=J,Z.Fd=ve,Z.f=oe,Z.N=0+ve,Z.Ab=x,Z.Cd=H,Z.ea=oe,Z.W=0+ve+H,Z.Db=x,Z.Ed=H,m==12&&(Z.F=oe,Z.J=0+ve+2*H),Z.Tc=K,Z.lb=z)}if(x=1,z=j.S,H=j.width,K=j.height,z>=jv&&13>z)if(11>z)m=j.f.RGBA,x&=(J=Math.abs(m.A))*(K-1)+H<=m.size,x&=J>=H*zP[z],x&=m.eb!=null;else{m=j.f.kb,J=(H+1)/2,ve=(K+1)/2,Z=Math.abs(m.fa),oe=Math.abs(m.Ab);var Ie=Math.abs(m.Db),se=Math.abs(m.lb),we=se*(K-1)+H;x&=Z*(K-1)+H<=m.Fd,x&=oe*(ve-1)+J<=m.Cd,x=(x&=Ie*(ve-1)+J<=m.Ed)&Z>=H&oe>=J&Ie>=J,x&=m.y!=null,x&=m.f!=null,x&=m.ea!=null,z==12&&(x&=se>=H,x&=we<=m.Tc,x&=m.F!=null)}else x=0;m=x?0:2}}return m!=0||O!=null&&O.fd&&(m=Pp(j)),m}var Lc=64,Ro=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Oo=24,hu=32,ul=8,pu=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];We("Predictor0","PredictorAdd0"),T.Predictor0=function(){return 4278190080},T.Predictor1=function(m){return m},T.Predictor2=function(m,x,O){return x[O+0]},T.Predictor3=function(m,x,O){return x[O+1]},T.Predictor4=function(m,x,O){return x[O-1]},T.Predictor5=function(m,x,O){return ot(ot(m,x[O+1]),x[O+0])},T.Predictor6=function(m,x,O){return ot(m,x[O-1])},T.Predictor7=function(m,x,O){return ot(m,x[O+0])},T.Predictor8=function(m,x,O){return ot(x[O-1],x[O+0])},T.Predictor9=function(m,x,O){return ot(x[O+0],x[O+1])},T.Predictor10=function(m,x,O){return ot(ot(m,x[O-1]),ot(x[O+0],x[O+1]))},T.Predictor11=function(m,x,O){var j=x[O+0];return 0>=ft(j>>24&255,m>>24&255,(x=x[O-1])>>24&255)+ft(j>>16&255,m>>16&255,x>>16&255)+ft(j>>8&255,m>>8&255,x>>8&255)+ft(255&j,255&m,255&x)?j:m},T.Predictor12=function(m,x,O){var j=x[O+0];return(Gt((m>>24&255)+(j>>24&255)-((x=x[O-1])>>24&255))<<24|Gt((m>>16&255)+(j>>16&255)-(x>>16&255))<<16|Gt((m>>8&255)+(j>>8&255)-(x>>8&255))<<8|Gt((255&m)+(255&j)-(255&x)))>>>0},T.Predictor13=function(m,x,O){var j=x[O-1];return(Ft((m=ot(m,x[O+0]))>>24&255,j>>24&255)<<24|Ft(m>>16&255,j>>16&255)<<16|Ft(m>>8&255,j>>8&255)<<8|Ft(255&m,255&j))>>>0};var Cp=T.PredictorAdd0;T.PredictorAdd1=xt,We("Predictor2","PredictorAdd2"),We("Predictor3","PredictorAdd3"),We("Predictor4","PredictorAdd4"),We("Predictor5","PredictorAdd5"),We("Predictor6","PredictorAdd6"),We("Predictor7","PredictorAdd7"),We("Predictor8","PredictorAdd8"),We("Predictor9","PredictorAdd9"),We("Predictor10","PredictorAdd10"),We("Predictor11","PredictorAdd11"),We("Predictor12","PredictorAdd12"),We("Predictor13","PredictorAdd13");var od=T.PredictorAdd2;dt("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),dt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var Ar,Fv=T.ColorIndexInverseTransform,xa=T.MapARGB,Sa=T.VP8LColorIndexInverseTransformAlpha,Np=T.MapAlpha,kp=T.VP8LPredictorsAdd=[];kp.length=16,(T.VP8LPredictors=[]).length=16,(T.VP8LPredictorsAdd_C=[]).length=16,(T.VP8LPredictors_C=[]).length=16;var Rp,Op,mu,gu,vu,Dc,yu,Fc,cs,Ea,yn,On,Tr,Hr,cl,Mp,sd,Uv,wP,_P,bP,xP,SP,EP,Lp,AP,TP,IP,PP=o(511),CP=o(2041),NP=o(225),kP=o(767),RP=0,E2=CP,$v=NP,Mo=kP,fs=PP,jv=0,Bv=1,OP=2,Vv=3,qv=4,A2=5,MP=6,T2=7,I2=8,zv=9,P2=10,Mq=[2,3,7],Lq=[3,3,11],LP=[280,256,256,256,40],Dq=[0,1,1,1,0],Fq=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Uq=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],$q=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],jq=8,C2=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],N2=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Dp=null,Bq=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Vq=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],DP=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],qq=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],zq=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Hq=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Gq=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],wu=[],Fs=[],fl=[],Wq=1,FP=2,_u=[],ds=[];ls("UpsampleRgbLinePair",xe,3),ls("UpsampleBgrLinePair",Pe,3),ls("UpsampleRgbaLinePair",an,4),ls("UpsampleBgraLinePair",zt,4),ls("UpsampleArgbLinePair",ur,4),ls("UpsampleRgba4444LinePair",Qt,2),ls("UpsampleRgb565LinePair",ze,2);var Kq=T.UpsampleRgbLinePair,Yq=T.UpsampleBgrLinePair,UP=T.UpsampleRgbaLinePair,$P=T.UpsampleBgraLinePair,jP=T.UpsampleArgbLinePair,BP=T.UpsampleRgba4444LinePair,Jq=T.UpsampleRgb565LinePair,Hv=16,Gv=1<<Hv-1,Fp=-227,k2=482,Xq=6,VP=0,Qq=o(256),Zq=o(256),ez=o(256),tz=o(256),nz=o(k2-Fp),rz=o(k2-Fp);$n("YuvToRgbRow",xe,3),$n("YuvToBgrRow",Pe,3),$n("YuvToRgbaRow",an,4),$n("YuvToBgraRow",zt,4),$n("YuvToArgbRow",ur,4),$n("YuvToRgba4444Row",Qt,2),$n("YuvToRgb565Row",ze,2);var qP=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Wv=[0,2,8],iz=[8,7,6,4,4,2,2,2,1,1,1,1],oz=1;this.WebPDecodeRGBA=function(m,x,O,j,z){var H=Bv,K=new Oe,J=new $t;K.ba=J,J.S=H,J.width=[J.width],J.height=[J.height];var Z=J.width,oe=J.height,ve=new vt;if(ve==null||m==null)var Ie=2;else e(ve!=null),Ie=Ds(m,x,O,ve.width,ve.height,ve.Pd,ve.Qd,ve.format,null);if(Ie!=0?Z=0:(Z!=null&&(Z[0]=ve.width[0]),oe!=null&&(oe[0]=ve.height[0]),Z=1),Z){J.width=J.width[0],J.height=J.height[0],j!=null&&(j[0]=J.width),z!=null&&(z[0]=J.height);e:{if(j=new va,(z=new Fe).data=m,z.w=x,z.ha=O,z.kd=1,x=[0],e(z!=null),((m=Ds(z.data,z.w,z.ha,null,null,null,x,null,z))==0||m==7)&&x[0]&&(m=4),(x=m)==0){if(e(K!=null),j.data=z.data,j.w=z.w+z.offset,j.ha=z.ha-z.offset,j.put=wt,j.ac=Pi,j.bc=zn,j.ma=K,z.xa){if((m=pa())==null){K=1;break e}if(function(se,we){var Ee=[0],Ne=[0],Ae=[0];t:for(;;){if(se==null)return 0;if(we==null)return se.a=2,0;if(se.l=we,se.a=0,ae(se.m,we.data,we.w,we.ha),!es(se.m,Ee,Ne,Ae)){se.a=3;break t}if(se.xb=FP,we.width=Ee[0],we.height=Ne[0],!Po(Ee[0],Ne[0],1,se,null))break t;return 1}return e(se.a!=0),0}(m,j)){if(j=(x=du(j.width,j.height,K.Oa,K.ba))==0){t:{j=m;n:for(;;){if(j==null){j=0;break t}if(e(j.s.yc!=null),e(j.s.Ya!=null),e(0<j.s.Wb),e((O=j.l)!=null),e((z=O.ma)!=null),j.xb!=0){if(j.ca=z.ba,j.tb=z.tb,e(j.ca!=null),!Ip(z.Oa,O,Vv)){j.a=2;break n}if(!Os(j,O.width)||O.da)break n;if((O.da||_t(j.ca.S))&&po(),11>j.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),j.ca.f.kb.F!=null&&po()),j.Pb&&0<j.s.ua&&j.s.vb.X==null&&!Y(j.s.vb,j.s.Wa.Xa)){j.a=1;break n}j.xb=0}if(!Ni(j,j.V,j.Ba,j.c,j.i,O.o,ha))break n;z.Dc=j.Ma,j=1;break t}e(j.a!=0),j=0}j=!j}j&&(x=m.a)}else x=m.a}else{if((m=new Xf)==null){K=1;break e}if(m.Fa=z.na,m.P=z.P,m.qc=z.Sa,ts(m,j)){if((x=du(j.width,j.height,K.Oa,K.ba))==0){if(m.Aa=0,O=K.Oa,e((z=m)!=null),O!=null){if(0<(Z=0>(Z=O.Md)?0:100<Z?255:255*Z/100)){for(oe=ve=0;4>oe;++oe)12>(Ie=z.pb[oe]).lc&&(Ie.ia=Z*iz[0>Ie.lc?0:Ie.lc]>>3),ve|=Ie.ia;ve&&(alert("todo:VP8InitRandom"),z.ia=1)}z.Ga=O.Id,100<z.Ga?z.Ga=100:0>z.Ga&&(z.Ga=0)}(function(se,we){if(se==null)return 0;if(we==null)return or(se,2,"NULL VP8Io parameter in VP8Decode().");if(!se.cb&&!ts(se,we))return 0;if(e(se.cb),we.ac==null||we.ac(we)){we.ob&&(se.L=0);var Ee=Wv[se.L];if(se.L==2?(se.yb=0,se.zb=0):(se.yb=we.v-Ee>>4,se.zb=we.j-Ee>>4,0>se.yb&&(se.yb=0),0>se.zb&&(se.zb=0)),se.Va=we.o+15+Ee>>4,se.Hb=we.va+15+Ee>>4,se.Hb>se.za&&(se.Hb=se.za),se.Va>se.Ub&&(se.Va=se.Ub),0<se.L){var Ne=se.ed;for(Ee=0;4>Ee;++Ee){var Ae;if(se.Qa.Cb){var Me=se.Qa.Lb[Ee];se.Qa.Fb||(Me+=Ne.Tb)}else Me=Ne.Tb;for(Ae=0;1>=Ae;++Ae){var De=se.gd[Ee][Ae],Ve=Me;if(Ne.Pc&&(Ve+=Ne.vd[0],Ae&&(Ve+=Ne.od[0])),0<(Ve=0>Ve?0:63<Ve?63:Ve)){var je=Ve;0<Ne.wb&&(je=4<Ne.wb?je>>2:je>>1)>9-Ne.wb&&(je=9-Ne.wb),1>je&&(je=1),De.dd=je,De.tc=2*Ve+je,De.ld=40<=Ve?2:15<=Ve?1:0}else De.tc=0;De.La=Ae}}}Ee=0}else or(se,6,"Frame setup failed"),Ee=se.a;if(Ee=Ee==0){if(Ee){se.$c=0,0<se.Aa||(se.Ic=oz);t:{Ee=se.Ic,Ne=4*(je=se.za);var ht=32*je,tt=je+1,Bt=0<se.L?je*(0<se.Aa?2:1):0,ut=(se.Aa==2?2:1)*je;if((De=Ne+832+(Ae=3*(16*Ee+Wv[se.L])/2*ht)+(Me=se.Fa!=null&&0<se.Fa.length?se.Kc.c*se.Kc.i:0))!=De)Ee=0;else{if(De>se.Vb){if(se.Vb=0,se.Ec=o(De),se.Fc=0,se.Ec==null){Ee=or(se,1,"no memory during frame initialization.");break t}se.Vb=De}De=se.Ec,Ve=se.Fc,se.Ac=De,se.Bc=Ve,Ve+=Ne,se.Gd=s(ht,Ic),se.Hd=0,se.rb=s(tt+1,Co),se.sb=1,se.wa=Bt?s(Bt,ii):null,se.Y=0,se.D.Nb=0,se.D.wa=se.wa,se.D.Y=se.Y,0<se.Aa&&(se.D.Y+=je),e(!0),se.oc=De,se.pc=Ve,Ve+=832,se.ya=s(ut,Ac),se.aa=0,se.D.ya=se.ya,se.D.aa=se.aa,se.Aa==2&&(se.D.aa+=je),se.R=16*je,se.B=8*je,je=(ht=Wv[se.L])*se.R,ht=ht/2*se.B,se.sa=De,se.ta=Ve+je,se.qa=se.sa,se.ra=se.ta+16*Ee*se.R+ht,se.Ha=se.qa,se.Ia=se.ra+8*Ee*se.B+ht,se.$c=0,Ve+=Ae,se.mb=Me?De:null,se.nb=Me?Ve:null,e(Ve+Me<=se.Fc+se.Vb),Cc(se),i(se.Ac,se.Bc,0,Ne),Ee=1}}if(Ee){if(we.ka=0,we.y=se.sa,we.O=se.ta,we.f=se.qa,we.N=se.ra,we.ea=se.Ha,we.Vd=se.Ia,we.fa=se.R,we.Rc=se.B,we.F=null,we.J=0,!RP){for(Ee=-255;255>=Ee;++Ee)PP[255+Ee]=0>Ee?-Ee:Ee;for(Ee=-1020;1020>=Ee;++Ee)CP[1020+Ee]=-128>Ee?-128:127<Ee?127:Ee;for(Ee=-112;112>=Ee;++Ee)NP[112+Ee]=-16>Ee?-16:15<Ee?15:Ee;for(Ee=-255;510>=Ee;++Ee)kP[255+Ee]=0>Ee?0:255<Ee?255:Ee;RP=1}yu=ns,Fc=Zf,Ea=Yt,yn=ol,On=ya,cs=su,Tr=fu,Hr=as,cl=q,Mp=ie,sd=Mc,Uv=I,wP=he,_P=be,bP=ba,xP=Ji,SP=Oc,EP=id,Fs[0]=Ap,Fs[1]=ed,Fs[2]=Sp,Fs[3]=Ep,Fs[4]=oi,Fs[5]=Tp,Fs[6]=Ms,Fs[7]=lu,Fs[8]=uu,Fs[9]=Ls,wu[0]=rs,wu[1]=xp,wu[2]=Nc,wu[3]=td,wu[4]=wa,wu[5]=au,wu[6]=nd,fl[0]=kc,fl[1]=bp,fl[2]=No,fl[3]=al,fl[4]=Rc,fl[5]=Cn,fl[6]=rd,Ee=1}else Ee=0}Ee&&(Ee=function(Zt,Gr){for(Zt.M=0;Zt.M<Zt.Va;++Zt.M){var Vt,ct=Zt.Jc[Zt.M&Zt.Xb],Ge=Zt.m,Ir=Zt;for(Vt=0;Vt<Ir.za;++Vt){var Dt=Ge,tn=Ir,Hn=tn.Ac,gi=tn.Bc+4*Vt,Qi=tn.zc,gr=tn.ya[tn.aa+Vt];if(tn.Qa.Bb?gr.$b=me(Dt,tn.Pa.jb[0])?2+me(Dt,tn.Pa.jb[2]):me(Dt,tn.Pa.jb[1]):gr.$b=0,tn.kc&&(gr.Ad=me(Dt,tn.Bd)),gr.Za=!me(Dt,145)+0,gr.Za){var Ri=gr.Ob,Zi=0;for(tn=0;4>tn;++tn){var Wr,on=Qi[0+tn];for(Wr=0;4>Wr;++Wr){on=zq[Hn[gi+Wr]][on];for(var bn=DP[me(Dt,on[0])];0<bn;)bn=DP[2*bn+me(Dt,on[bn])];on=-bn,Hn[gi+Wr]=on}r(Ri,Zi,Hn,gi,4),Zi+=4,Qi[0+tn]=on}}else on=me(Dt,156)?me(Dt,128)?1:3:me(Dt,163)?2:0,gr.Ob[0]=on,i(Hn,gi,on,4),i(Qi,0,on,4);gr.Dd=me(Dt,142)?me(Dt,114)?me(Dt,183)?1:3:2:0}if(Ir.m.Ka)return or(Zt,7,"Premature end-of-partition0 encountered.");for(;Zt.ja<Zt.za;++Zt.ja){if(Ir=ct,Dt=(Ge=Zt).rb[Ge.sb-1],Hn=Ge.rb[Ge.sb+Ge.ja],Vt=Ge.ya[Ge.aa+Ge.ja],gi=Ge.kc?Vt.Ad:0)Dt.la=Hn.la=0,Vt.Za||(Dt.Na=Hn.Na=0),Vt.Hc=0,Vt.Gc=0,Vt.ia=0;else{var vr,xn;if(Dt=Hn,Hn=Ir,gi=Ge.Pa.Xc,Qi=Ge.ya[Ge.aa+Ge.ja],gr=Ge.pb[Qi.$b],tn=Qi.ad,Ri=0,Zi=Ge.rb[Ge.sb-1],on=Wr=0,i(tn,Ri,0,384),Qi.Za)var vi=0,Us=gi[3];else{bn=o(16);var Pr=Dt.Na+Zi.Na;if(Pr=Dp(Hn,gi[1],Pr,gr.Eb,0,bn,0),Dt.Na=Zi.Na=(0<Pr)+0,1<Pr)yu(bn,0,tn,Ri);else{var mo=bn[0]+3>>3;for(bn=0;256>bn;bn+=16)tn[Ri+bn]=mo}vi=1,Us=gi[0]}var Mn=15&Dt.la,Kr=15&Zi.la;for(bn=0;4>bn;++bn){var Lo=1&Kr;for(mo=xn=0;4>mo;++mo)Mn=Mn>>1|(Lo=(Pr=Dp(Hn,Us,Pr=Lo+(1&Mn),gr.Sc,vi,tn,Ri))>vi)<<7,xn=xn<<2|(3<Pr?3:1<Pr?2:tn[Ri+0]!=0),Ri+=16;Mn>>=4,Kr=Kr>>1|Lo<<7,Wr=(Wr<<8|xn)>>>0}for(Us=Mn,vi=Kr>>4,vr=0;4>vr;vr+=2){for(xn=0,Mn=Dt.la>>4+vr,Kr=Zi.la>>4+vr,bn=0;2>bn;++bn){for(Lo=1&Kr,mo=0;2>mo;++mo)Pr=Lo+(1&Mn),Mn=Mn>>1|(Lo=0<(Pr=Dp(Hn,gi[2],Pr,gr.Qc,0,tn,Ri)))<<3,xn=xn<<2|(3<Pr?3:1<Pr?2:tn[Ri+0]!=0),Ri+=16;Mn>>=2,Kr=Kr>>1|Lo<<5}on|=xn<<4*vr,Us|=Mn<<4<<vr,vi|=(240&Kr)<<vr}Dt.la=Us,Zi.la=vi,Qi.Hc=Wr,Qi.Gc=on,Qi.ia=43690&on?0:gr.ia,gi=!(Wr|on)}if(0<Ge.L&&(Ge.wa[Ge.Y+Ge.ja]=Ge.gd[Vt.$b][Vt.Za],Ge.wa[Ge.Y+Ge.ja].La|=!gi),Ir.Ka)return or(Zt,7,"Premature end-of-file encountered.")}if(Cc(Zt),Ge=Gr,Ir=1,Vt=(ct=Zt).D,Dt=0<ct.L&&ct.M>=ct.zb&&ct.M<=ct.Va,ct.Aa==0)t:{if(Vt.M=ct.M,Vt.uc=Dt,mi(ct,Vt),Ir=1,Vt=(xn=ct.D).Nb,Dt=(on=Wv[ct.L])*ct.R,Hn=on/2*ct.B,bn=16*Vt*ct.R,mo=8*Vt*ct.B,gi=ct.sa,Qi=ct.ta-Dt+bn,gr=ct.qa,tn=ct.ra-Hn+mo,Ri=ct.Ha,Zi=ct.Ia-Hn+mo,Kr=(Mn=xn.M)==0,Wr=Mn>=ct.Va-1,ct.Aa==2&&mi(ct,xn),xn.uc)for(Lo=(Pr=ct).D.M,e(Pr.D.uc),xn=Pr.yb;xn<Pr.Hb;++xn){vi=xn,Us=Lo;var eo=(Do=(yi=Pr).D).Nb;vr=yi.R;var Do=Do.wa[Do.Y+vi],Fo=yi.sa,go=yi.ta+16*eo*vr+16*vi,Uo=Do.dd,jn=Do.tc;if(jn!=0)if(e(3<=jn),yi.L==1)0<vi&&xP(Fo,go,vr,jn+4),Do.La&&EP(Fo,go,vr,jn),0<Us&&bP(Fo,go,vr,jn+4),Do.La&&SP(Fo,go,vr,jn);else{var $o=yi.B,$s=yi.qa,Uc=yi.ra+8*eo*$o+8*vi,dl=yi.Ha,yi=yi.Ia+8*eo*$o+8*vi;eo=Do.ld,0<vi&&(Hr(Fo,go,vr,jn+4,Uo,eo),Mp($s,Uc,dl,yi,$o,jn+4,Uo,eo)),Do.La&&(Uv(Fo,go,vr,jn,Uo,eo),_P($s,Uc,dl,yi,$o,jn,Uo,eo)),0<Us&&(Tr(Fo,go,vr,jn+4,Uo,eo),cl($s,Uc,dl,yi,$o,jn+4,Uo,eo)),Do.La&&(sd(Fo,go,vr,jn,Uo,eo),wP($s,Uc,dl,yi,$o,jn,Uo,eo))}}if(ct.ia&&alert("todo:DitherRow"),Ge.put!=null){if(xn=16*Mn,Mn=16*(Mn+1),Kr?(Ge.y=ct.sa,Ge.O=ct.ta+bn,Ge.f=ct.qa,Ge.N=ct.ra+mo,Ge.ea=ct.Ha,Ge.W=ct.Ia+mo):(xn-=on,Ge.y=gi,Ge.O=Qi,Ge.f=gr,Ge.N=tn,Ge.ea=Ri,Ge.W=Zi),Wr||(Mn-=on),Mn>Ge.o&&(Mn=Ge.o),Ge.F=null,Ge.J=null,ct.Fa!=null&&0<ct.Fa.length&&xn<Mn&&(Ge.J=_n(ct,Ge,xn,Mn-xn),Ge.F=ct.mb,Ge.F==null&&Ge.F.length==0)){Ir=or(ct,3,"Could not decode alpha data.");break t}xn<Ge.j&&(on=Ge.j-xn,xn=Ge.j,e(!(1&on)),Ge.O+=ct.R*on,Ge.N+=ct.B*(on>>1),Ge.W+=ct.B*(on>>1),Ge.F!=null&&(Ge.J+=Ge.width*on)),xn<Mn&&(Ge.O+=Ge.v,Ge.N+=Ge.v>>1,Ge.W+=Ge.v>>1,Ge.F!=null&&(Ge.J+=Ge.v),Ge.ka=xn-Ge.j,Ge.U=Ge.va-Ge.v,Ge.T=Mn-xn,Ir=Ge.put(Ge))}Vt+1!=ct.Ic||Wr||(r(ct.sa,ct.ta-Dt,gi,Qi+16*ct.R,Dt),r(ct.qa,ct.ra-Hn,gr,tn+8*ct.B,Hn),r(ct.Ha,ct.Ia-Hn,Ri,Zi+8*ct.B,Hn))}if(!Ir)return or(Zt,6,"Output aborted.")}return 1}(se,we)),we.bc!=null&&we.bc(we),Ee&=1}return Ee?(se.cb=0,Ee):0})(m,j)||(x=m.a)}}else x=m.a}x==0&&K.Oa!=null&&K.Oa.fd&&(x=Pp(K.ba))}K=x}H=K!=0?null:11>H?J.f.RGBA.eb:J.f.kb.y}else H=null;return H};var zP=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(T,$){for(var P="",D=0;D<4;D++)P+=String.fromCharCode(T[$++]);return P}function c(T,$){return T[$+0]|T[$+1]<<8}function f(T,$){return(T[$+0]|T[$+1]<<8|T[$+2]<<16)>>>0}function d(T,$){return(T[$+0]|T[$+1]<<8|T[$+2]<<16|T[$+3]<<24)>>>0}new l;var h=[0],y=[0],b=[],w=new l,_=t,S=function(T,$){var P={},D=0,U=!1,W=0,re=0;if(P.frames=[],!function(B,G){for(var te=0;te<4;te++)if(B[G+te]!="RIFF".charCodeAt(te))return!0;return!1}(T,$)){for(d(T,$+=4),$+=8;$<T.length;){var le=u(T,$),ue=d(T,$+=4);$+=4;var Q=ue+(1&ue);switch(le){case"VP8 ":case"VP8L":P.frames[D]===void 0&&(P.frames[D]={}),(ge=P.frames[D]).src_off=U?re:$-8,ge.src_size=W+ue+8,D++,U&&(U=!1,W=0,re=0);break;case"VP8X":(ge=P.header={}).feature_flags=T[$];var ae=$+4;ge.canvas_width=1+f(T,ae),ae+=3,ge.canvas_height=1+f(T,ae),ae+=3;break;case"ALPH":U=!0,W=Q+8,re=$-8;break;case"ANIM":(ge=P.header).bgcolor=d(T,$),ae=$+4,ge.loop_count=c(T,ae),ae+=2;break;case"ANMF":var ye,ge;(ge=P.frames[D]={}).offset_x=2*f(T,$),$+=3,ge.offset_y=2*f(T,$),$+=3,ge.width=1+f(T,$),$+=3,ge.height=1+f(T,$),$+=3,ge.duration=f(T,$),$+=3,ye=T[$++],ge.dispose=1&ye,ge.blend=ye>>1&1}le!="ANMF"&&($+=Q)}return P}}(_,0);S.response=_,S.rgbaoutput=!0,S.dataurl=!1;var E=S.header?S.header:null,k=S.frames?S.frames:null;if(E){E.loop_counter=E.loop_count,h=[E.canvas_height],y=[E.canvas_width];for(var R=0;R<k.length&&k[R].blend!=0;R++);}var F=k[0],N=w.WebPDecodeRGBA(_,F.src_off,F.src_size,y,h);F.rgba=N,F.imgwidth=y[0],F.imgheight=h[0];for(var C=0;C<y[0]*h[0]*4;C++)b[C]=N[C];return this.width=y,this.height=h,this.data=b,this}(function(t){var e,n,r,i,o,s,a,l,u,c=function(B){return B=B||{},this.isStrokeTransparent=B.isStrokeTransparent||!1,this.strokeOpacity=B.strokeOpacity||1,this.strokeStyle=B.strokeStyle||"#000000",this.fillStyle=B.fillStyle||"#000000",this.isFillTransparent=B.isFillTransparent||!1,this.fillOpacity=B.fillOpacity||1,this.font=B.font||"10px sans-serif",this.textBaseline=B.textBaseline||"alphabetic",this.textAlign=B.textAlign||"left",this.lineWidth=B.lineWidth||1,this.lineJoin=B.lineJoin||"miter",this.lineCap=B.lineCap||"butt",this.path=B.path||[],this.transform=B.transform!==void 0?B.transform.clone():new l,this.globalCompositeOperation=B.globalCompositeOperation||"normal",this.globalAlpha=B.globalAlpha||1,this.clip_path=B.clip_path||[],this.currentPoint=B.currentPoint||new s,this.miterLimit=B.miterLimit||10,this.lastPoint=B.lastPoint||new s,this.lineDashOffset=B.lineDashOffset||0,this.lineDash=B.lineDash||[],this.margin=B.margin||[0,0,0,0],this.prevPageLastElemOffset=B.prevPageLastElemOffset||0,this.ignoreClearRect=typeof B.ignoreClearRect!="boolean"||B.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var f=function(B){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=B;Object.defineProperty(this,"pdf",{get:function(){return G}});var te=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return te},set:function(Y){te=!!Y}});var ce=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ce},set:function(Y){ce=!!Y}});var pe=0;Object.defineProperty(this,"posX",{get:function(){return pe},set:function(Y){isNaN(Y)||(pe=Y)}});var _e=0;Object.defineProperty(this,"posY",{get:function(){return _e},set:function(Y){isNaN(Y)||(_e=Y)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Y){var Ue;typeof Y=="number"?Ue=[Y,Y,Y,Y]:((Ue=new Array(4))[0]=Y[0],Ue[1]=Y.length>=2?Y[1]:Ue[0],Ue[2]=Y.length>=3?Y[2]:Ue[0],Ue[3]=Y.length>=4?Y[3]:Ue[1]),u.margin=Ue}});var Te=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Te},set:function(Y){Te=Y}});var ee=0;Object.defineProperty(this,"lastBreak",{get:function(){return ee},set:function(Y){ee=Y}});var me=[];Object.defineProperty(this,"pageBreaks",{get:function(){return me},set:function(Y){me=Y}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Y){Y instanceof c&&(u=Y)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Y){u.path=Y}});var ne=[];Object.defineProperty(this,"ctxStack",{get:function(){return ne},set:function(Y){ne=Y}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Y){var Ue;Ue=d(Y),this.ctx.fillStyle=Ue.style,this.ctx.isFillTransparent=Ue.a===0,this.ctx.fillOpacity=Ue.a,this.pdf.setFillColor(Ue.r,Ue.g,Ue.b,{a:Ue.a}),this.pdf.setTextColor(Ue.r,Ue.g,Ue.b,{a:Ue.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Y){var Ue=d(Y);this.ctx.strokeStyle=Ue.style,this.ctx.isStrokeTransparent=Ue.a===0,this.ctx.strokeOpacity=Ue.a,Ue.a===0?this.pdf.setDrawColor(255,255,255):(Ue.a,this.pdf.setDrawColor(Ue.r,Ue.g,Ue.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Y){["butt","round","square"].indexOf(Y)!==-1&&(this.ctx.lineCap=Y,this.pdf.setLineCap(Y))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Y){isNaN(Y)||(this.ctx.lineWidth=Y,this.pdf.setLineWidth(Y))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Y){["bevel","round","miter"].indexOf(Y)!==-1&&(this.ctx.lineJoin=Y,this.pdf.setLineJoin(Y))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Y){isNaN(Y)||(this.ctx.miterLimit=Y,this.pdf.setMiterLimit(Y))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Y){this.ctx.textBaseline=Y}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Y){["right","end","center","left","start"].indexOf(Y)!==-1&&(this.ctx.textAlign=Y)}});var de=null,Ce=null,ke=null;Object.defineProperty(this,"fontFaces",{get:function(){return ke},set:function(Y){de=null,Ce=null,ke=Y}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Y){var Ue;if(this.ctx.font=Y,(Ue=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(Y))!==null){var et=Ue[1];Ue[2];var Ye=Ue[3],Le=Ue[4];Ue[5];var nt=Ue[6],We=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Le)[2];Le=Math.floor(We==="px"?parseFloat(Le)*this.pdf.internal.scaleFactor:We==="em"?parseFloat(Le)*this.pdf.getFontSize():parseFloat(Le)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Le);var it=function(dt){var kn,Kt,Ut=[],Lt=dt.trim();if(Lt==="")return Tx;if(Lt in dD)return[dD[Lt]];for(;Lt!=="";){switch(Kt=null,kn=(Lt=pD(Lt)).charAt(0)){case'"':case"'":Kt=tMe(Lt.substring(1),kn);break;default:Kt=nMe(Lt)}if(Kt===null||(Ut.push(Kt[0]),(Lt=pD(Kt[1]))!==""&&Lt.charAt(0)!==","))return Tx;Lt=Lt.replace(/^,/,"")}return Ut}(nt);if(this.fontFaces){var ot=function(dt,kn){var Kt=dt.getFontList(),Ut=JSON.stringify(Kt);if(de===null||Ce!==Ut){var Lt=function(Un){var gt=[];return Object.keys(Un).forEach(function(gn){Un[gn].forEach(function(_t){var It=null;switch(_t){case"bold":It={family:gn,weight:"bold"};break;case"italic":It={family:gn,style:"italic"};break;case"bolditalic":It={family:gn,weight:"bold",style:"italic"};break;case"":case"normal":It={family:gn}}It!==null&&(It.ref={name:gn,style:_t},gt.push(It))})}),gt}(Kt);de=function(Un){for(var gt={},gn=0;gn<Un.length;++gn){var _t=Ax(Un[gn]),It=_t.family,vn=_t.stretch,$t=_t.style,vt=_t.weight;gt[It]=gt[It]||{},gt[It][vn]=gt[It][vn]||{},gt[It][vn][$t]=gt[It][vn][$t]||{},gt[It][vn][$t][vt]=_t}return gt}(Lt.concat(kn)),Ce=Ut}return de}(this.pdf,this.fontFaces),Gt=it.map(function(dt){return{family:dt,stretch:"normal",weight:Ye,style:et}}),Ft=function(dt,kn,Kt){for(var Ut=(Kt=Kt||{}).defaultFontFamily||"times",Lt=Object.assign({},eMe,Kt.genericFontFamilies||{}),Un=null,gt=null,gn=0;gn<kn.length;++gn)if(Lt[(Un=Ax(kn[gn])).family]&&(Un.family=Lt[Un.family]),dt.hasOwnProperty(Un.family)){gt=dt[Un.family];break}if(!(gt=gt||dt[Ut]))throw new Error("Could not find a font-family for the rule '"+hD(Un)+"' and default family '"+Ut+"'.");if(gt=function(_t,It){if(It[_t])return It[_t];var vn=Q5[_t],$t=vn<=Q5.normal?-1:1,vt=fD(It,iq,vn,$t);if(!vt)throw new Error("Could not find a matching font-stretch value for "+_t);return vt}(Un.stretch,gt),gt=function(_t,It){if(It[_t])return It[_t];for(var vn=rq[_t],$t=0;$t<vn.length;++$t)if(It[vn[$t]])return It[vn[$t]];throw new Error("Could not find a matching font-style for "+_t)}(Un.style,gt),!(gt=function(_t,It){if(It[_t])return It[_t];if(_t===400&&It[500])return It[500];if(_t===500&&It[400])return It[400];var vn=ZOe[_t],$t=fD(It,oq,vn,_t<400?-1:1);if(!$t)throw new Error("Could not find a matching font-weight for value "+_t);return $t}(Un.weight,gt)))throw new Error("Failed to resolve a font for the rule '"+hD(Un)+"'.");return gt}(ot,Gt);this.pdf.setFont(Ft.ref.name,Ft.ref.style)}else{var ft="";(Ye==="bold"||parseInt(Ye,10)>=700||et==="bold")&&(ft="bold"),et==="italic"&&(ft+="italic"),ft.length===0&&(ft="normal");for(var xt="",jt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},st=0;st<it.length;st++){if(this.pdf.internal.getFont(it[st],ft,{noFallback:!0,disableWarning:!0})!==void 0){xt=it[st];break}if(ft==="bolditalic"&&this.pdf.internal.getFont(it[st],"bold",{noFallback:!0,disableWarning:!0})!==void 0)xt=it[st],ft="bold";else if(this.pdf.internal.getFont(it[st],"normal",{noFallback:!0,disableWarning:!0})!==void 0){xt=it[st],ft="normal";break}}if(xt===""){for(var Ct=0;Ct<it.length;Ct++)if(jt[it[Ct]]){xt=jt[it[Ct]];break}}xt=xt===""?"Times":xt,this.pdf.setFont(xt,ft)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Y){this.ctx.globalCompositeOperation=Y}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Y){this.ctx.globalAlpha=Y}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Y){this.ctx.lineDashOffset=Y,ge.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Y){this.ctx.lineDash=Y,ge.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Y){this.ctx.ignoreClearRect=!!Y}})};f.prototype.setLineDash=function(B){this.lineDash=B},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){k.call(this,"fill",!1)},f.prototype.stroke=function(){k.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(B,G){if(isNaN(B)||isNaN(G))throw Ln.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var te=this.ctx.transform.applyToPoint(new s(B,G));this.path.push({type:"mt",x:te.x,y:te.y}),this.ctx.lastPoint=new s(B,G)},f.prototype.closePath=function(){var B=new s(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&An(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){B=new s(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(B.x,B.y)},f.prototype.lineTo=function(B,G){if(isNaN(B)||isNaN(G))throw Ln.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var te=this.ctx.transform.applyToPoint(new s(B,G));this.path.push({type:"lt",x:te.x,y:te.y}),this.ctx.lastPoint=new s(te.x,te.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},f.prototype.quadraticCurveTo=function(B,G,te,ce){if(isNaN(te)||isNaN(ce)||isNaN(B)||isNaN(G))throw Ln.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var pe=this.ctx.transform.applyToPoint(new s(te,ce)),_e=this.ctx.transform.applyToPoint(new s(B,G));this.path.push({type:"qct",x1:_e.x,y1:_e.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new s(pe.x,pe.y)},f.prototype.bezierCurveTo=function(B,G,te,ce,pe,_e){if(isNaN(pe)||isNaN(_e)||isNaN(B)||isNaN(G)||isNaN(te)||isNaN(ce))throw Ln.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Te=this.ctx.transform.applyToPoint(new s(pe,_e)),ee=this.ctx.transform.applyToPoint(new s(B,G)),me=this.ctx.transform.applyToPoint(new s(te,ce));this.path.push({type:"bct",x1:ee.x,y1:ee.y,x2:me.x,y2:me.y,x:Te.x,y:Te.y}),this.ctx.lastPoint=new s(Te.x,Te.y)},f.prototype.arc=function(B,G,te,ce,pe,_e){if(isNaN(B)||isNaN(G)||isNaN(te)||isNaN(ce)||isNaN(pe))throw Ln.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(_e=!!_e,!this.ctx.transform.isIdentity){var Te=this.ctx.transform.applyToPoint(new s(B,G));B=Te.x,G=Te.y;var ee=this.ctx.transform.applyToPoint(new s(0,te)),me=this.ctx.transform.applyToPoint(new s(0,0));te=Math.sqrt(Math.pow(ee.x-me.x,2)+Math.pow(ee.y-me.y,2))}Math.abs(pe-ce)>=2*Math.PI&&(ce=0,pe=2*Math.PI),this.path.push({type:"arc",x:B,y:G,radius:te,startAngle:ce,endAngle:pe,counterclockwise:_e})},f.prototype.arcTo=function(B,G,te,ce,pe){throw new Error("arcTo not implemented.")},f.prototype.rect=function(B,G,te,ce){if(isNaN(B)||isNaN(G)||isNaN(te)||isNaN(ce))throw Ln.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(B,G),this.lineTo(B+te,G),this.lineTo(B+te,G+ce),this.lineTo(B,G+ce),this.lineTo(B,G),this.lineTo(B+te,G),this.lineTo(B,G)},f.prototype.fillRect=function(B,G,te,ce){if(isNaN(B)||isNaN(G)||isNaN(te)||isNaN(ce))throw Ln.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var pe={};this.lineCap!=="butt"&&(pe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(pe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(B,G,te,ce),this.fill(),pe.hasOwnProperty("lineCap")&&(this.lineCap=pe.lineCap),pe.hasOwnProperty("lineJoin")&&(this.lineJoin=pe.lineJoin)}},f.prototype.strokeRect=function(B,G,te,ce){if(isNaN(B)||isNaN(G)||isNaN(te)||isNaN(ce))throw Ln.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(B,G,te,ce),this.stroke())},f.prototype.clearRect=function(B,G,te,ce){if(isNaN(B)||isNaN(G)||isNaN(te)||isNaN(ce))throw Ln.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(B,G,te,ce))},f.prototype.save=function(B){B=typeof B!="boolean"||B;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),B){this.ctx.fontSize=this.pdf.internal.getFontSize();var ce=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ce}},f.prototype.restore=function(B){B=typeof B!="boolean"||B;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("Q");this.pdf.setPage(G),B&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(B){var G,te,ce,pe;if(B.isCanvasGradient===!0&&(B=B.getColor()),!B)return{r:0,g:0,b:0,a:0,style:B};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(B))G=0,te=0,ce=0,pe=0;else{var _e=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(B);if(_e!==null)G=parseInt(_e[1]),te=parseInt(_e[2]),ce=parseInt(_e[3]),pe=1;else if((_e=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(B))!==null)G=parseInt(_e[1]),te=parseInt(_e[2]),ce=parseInt(_e[3]),pe=parseFloat(_e[4]);else{if(pe=1,typeof B=="string"&&B.charAt(0)!=="#"){var Te=new JV(B);B=Te.ok?Te.toHex():"#000000"}B.length===4?(G=B.substring(1,2),G+=G,te=B.substring(2,3),te+=te,ce=B.substring(3,4),ce+=ce):(G=B.substring(1,3),te=B.substring(3,5),ce=B.substring(5,7)),G=parseInt(G,16),te=parseInt(te,16),ce=parseInt(ce,16)}}return{r:G,g:te,b:ce,a:pe,style:B}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(B,G,te,ce){if(isNaN(G)||isNaN(te)||typeof B!="string")throw Ln.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ce=isNaN(ce)?void 0:ce,!h.call(this)){var pe=Q(this.ctx.transform.rotation),_e=this.ctx.transform.scaleX;D.call(this,{text:B,x:G,y:te,scale:_e,angle:pe,align:this.textAlign,maxWidth:ce})}},f.prototype.strokeText=function(B,G,te,ce){if(isNaN(G)||isNaN(te)||typeof B!="string")throw Ln.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){ce=isNaN(ce)?void 0:ce;var pe=Q(this.ctx.transform.rotation),_e=this.ctx.transform.scaleX;D.call(this,{text:B,x:G,y:te,scale:_e,renderingMode:"stroke",angle:pe,align:this.textAlign,maxWidth:ce})}},f.prototype.measureText=function(B){if(typeof B!="string")throw Ln.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,te=this.pdf.internal.scaleFactor,ce=G.internal.getFontSize(),pe=G.getStringUnitWidth(B)*ce/G.internal.scaleFactor;return new function(_e){var Te=(_e=_e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Te}}),this}({width:pe*=Math.round(96*te/72*1e4)/1e4})},f.prototype.scale=function(B,G){if(isNaN(B)||isNaN(G))throw Ln.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var te=new l(B,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(te)},f.prototype.rotate=function(B){if(isNaN(B))throw Ln.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new l(Math.cos(B),Math.sin(B),-Math.sin(B),Math.cos(B),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},f.prototype.translate=function(B,G){if(isNaN(B)||isNaN(G))throw Ln.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var te=new l(1,0,0,1,B,G);this.ctx.transform=this.ctx.transform.multiply(te)},f.prototype.transform=function(B,G,te,ce,pe,_e){if(isNaN(B)||isNaN(G)||isNaN(te)||isNaN(ce)||isNaN(pe)||isNaN(_e))throw Ln.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Te=new l(B,G,te,ce,pe,_e);this.ctx.transform=this.ctx.transform.multiply(Te)},f.prototype.setTransform=function(B,G,te,ce,pe,_e){B=isNaN(B)?1:B,G=isNaN(G)?0:G,te=isNaN(te)?0:te,ce=isNaN(ce)?1:ce,pe=isNaN(pe)?0:pe,_e=isNaN(_e)?0:_e,this.ctx.transform=new l(B,G,te,ce,pe,_e)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(B,G,te,ce,pe,_e,Te,ee,me){var ne=this.pdf.getImageProperties(B),de=1,Ce=1,ke=1,Y=1;ce!==void 0&&ee!==void 0&&(ke=ee/ce,Y=me/pe,de=ne.width/ce*ee/ce,Ce=ne.height/pe*me/pe),_e===void 0&&(_e=G,Te=te,G=0,te=0),ce!==void 0&&ee===void 0&&(ee=ce,me=pe),ce===void 0&&ee===void 0&&(ee=ne.width,me=ne.height);var Ue=this.ctx.transform.decompose(),et=Q(Ue.rotate.shx),Ye=new l,Le=(Ye=(Ye=(Ye=Ye.multiply(Ue.translate)).multiply(Ue.skew)).multiply(Ue.scale)).applyToRectangle(new a(_e-G*ke,Te-te*Y,ce*de,pe*Ce));if(this.autoPaging){for(var nt,We=w.call(this,Le),it=[],ot=0;ot<We.length;ot+=1)it.indexOf(We[ot])===-1&&it.push(We[ot]);E(it);for(var Gt=it[0],Ft=it[it.length-1],ft=Gt;ft<Ft+1;ft++){this.pdf.setPage(ft);var xt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],jt=ft===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],dt=ft===1?0:st+(ft-2)*Ct;if(this.ctx.clip_path.length!==0){var kn=this.path;nt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(nt,this.posX+this.margin[3],-dt+jt+this.ctx.prevPageLastElemOffset),R.call(this,"fill",!0),this.path=kn}var Kt=JSON.parse(JSON.stringify(Le));Kt=S([Kt],this.posX+this.margin[3],-dt+jt+this.ctx.prevPageLastElemOffset)[0];var Ut=(ft>Gt||ft<Ft)&&b.call(this);Ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xt,Ct,null).clip().discardPath()),this.pdf.addImage(B,"JPEG",Kt.x,Kt.y,Kt.w,Kt.h,null,null,et),Ut&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(B,"JPEG",Le.x,Le.y,Le.w,Le.h,null,null,et)};var w=function(B,G,te){var ce=[];G=G||this.pdf.internal.pageSize.width,te=te||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var pe=this.posY+this.ctx.prevPageLastElemOffset;switch(B.type){default:case"mt":case"lt":ce.push(Math.floor((B.y+pe)/te)+1);break;case"arc":ce.push(Math.floor((B.y+pe-B.radius)/te)+1),ce.push(Math.floor((B.y+pe+B.radius)/te)+1);break;case"qct":var _e=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x,B.y);ce.push(Math.floor((_e.y+pe)/te)+1),ce.push(Math.floor((_e.y+_e.h+pe)/te)+1);break;case"bct":var Te=ye(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x2,B.y2,B.x,B.y);ce.push(Math.floor((Te.y+pe)/te)+1),ce.push(Math.floor((Te.y+Te.h+pe)/te)+1);break;case"rect":ce.push(Math.floor((B.y+pe)/te)+1),ce.push(Math.floor((B.y+B.h+pe)/te)+1)}for(var ee=0;ee<ce.length;ee+=1)for(;this.pdf.internal.getNumberOfPages()<ce[ee];)_.call(this);return ce},_=function(){var B=this.fillStyle,G=this.strokeStyle,te=this.font,ce=this.lineCap,pe=this.lineWidth,_e=this.lineJoin;this.pdf.addPage(),this.fillStyle=B,this.strokeStyle=G,this.font=te,this.lineCap=ce,this.lineWidth=pe,this.lineJoin=_e},S=function(B,G,te){for(var ce=0;ce<B.length;ce++)switch(B[ce].type){case"bct":B[ce].x2+=G,B[ce].y2+=te;case"qct":B[ce].x1+=G,B[ce].y1+=te;default:B[ce].x+=G,B[ce].y+=te}return B},E=function(B){return B.sort(function(G,te){return G-te})},k=function(B,G){var te=this.fillStyle,ce=this.strokeStyle,pe=this.lineCap,_e=this.lineWidth,Te=Math.abs(_e*this.ctx.transform.scaleX),ee=this.lineJoin;if(this.autoPaging){for(var me,ne,de=JSON.parse(JSON.stringify(this.path)),Ce=JSON.parse(JSON.stringify(this.path)),ke=[],Y=0;Y<Ce.length;Y++)if(Ce[Y].x!==void 0)for(var Ue=w.call(this,Ce[Y]),et=0;et<Ue.length;et+=1)ke.indexOf(Ue[et])===-1&&ke.push(Ue[et]);for(var Ye=0;Ye<ke.length;Ye++)for(;this.pdf.internal.getNumberOfPages()<ke[Ye];)_.call(this);E(ke);for(var Le=ke[0],nt=ke[ke.length-1],We=Le;We<nt+1;We++){this.pdf.setPage(We),this.fillStyle=te,this.strokeStyle=ce,this.lineCap=pe,this.lineWidth=Te,this.lineJoin=ee;var it=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ot=We===1?this.posY+this.margin[0]:this.margin[0],Gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ft=We===1?0:Gt+(We-2)*Ft;if(this.ctx.clip_path.length!==0){var xt=this.path;me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(me,this.posX+this.margin[3],-ft+ot+this.ctx.prevPageLastElemOffset),R.call(this,B,!0),this.path=xt}if(ne=JSON.parse(JSON.stringify(de)),this.path=S(ne,this.posX+this.margin[3],-ft+ot+this.ctx.prevPageLastElemOffset),G===!1||We===0){var jt=(We>Le||We<nt)&&b.call(this);jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],it,Ft,null).clip().discardPath()),R.call(this,B,G),jt&&this.pdf.restoreGraphicsState()}this.lineWidth=_e}this.path=de}else this.lineWidth=Te,R.call(this,B,G),this.lineWidth=_e},R=function(B,G){if((B!=="stroke"||G||!y.call(this))&&(B==="stroke"||G||!h.call(this))){for(var te,ce,pe=[],_e=this.path,Te=0;Te<_e.length;Te++){var ee=_e[Te];switch(ee.type){case"begin":pe.push({begin:!0});break;case"close":pe.push({close:!0});break;case"mt":pe.push({start:ee,deltas:[],abs:[]});break;case"lt":var me=pe.length;if(_e[Te-1]&&!isNaN(_e[Te-1].x)&&(te=[ee.x-_e[Te-1].x,ee.y-_e[Te-1].y],me>0)){for(;me>=0;me--)if(pe[me-1].close!==!0&&pe[me-1].begin!==!0){pe[me-1].deltas.push(te),pe[me-1].abs.push(ee);break}}break;case"bct":te=[ee.x1-_e[Te-1].x,ee.y1-_e[Te-1].y,ee.x2-_e[Te-1].x,ee.y2-_e[Te-1].y,ee.x-_e[Te-1].x,ee.y-_e[Te-1].y],pe[pe.length-1].deltas.push(te);break;case"qct":var ne=_e[Te-1].x+2/3*(ee.x1-_e[Te-1].x),de=_e[Te-1].y+2/3*(ee.y1-_e[Te-1].y),Ce=ee.x+2/3*(ee.x1-ee.x),ke=ee.y+2/3*(ee.y1-ee.y),Y=ee.x,Ue=ee.y;te=[ne-_e[Te-1].x,de-_e[Te-1].y,Ce-_e[Te-1].x,ke-_e[Te-1].y,Y-_e[Te-1].x,Ue-_e[Te-1].y],pe[pe.length-1].deltas.push(te);break;case"arc":pe.push({deltas:[],abs:[],arc:!0}),Array.isArray(pe[pe.length-1].abs)&&pe[pe.length-1].abs.push(ee)}}ce=G?null:B==="stroke"?"stroke":"fill";for(var et=!1,Ye=0;Ye<pe.length;Ye++)if(pe[Ye].arc)for(var Le=pe[Ye].abs,nt=0;nt<Le.length;nt++){var We=Le[nt];We.type==="arc"?C.call(this,We.x,We.y,We.radius,We.startAngle,We.endAngle,We.counterclockwise,void 0,G,!et):U.call(this,We.x,We.y),et=!0}else if(pe[Ye].close===!0)this.pdf.internal.out("h"),et=!1;else if(pe[Ye].begin!==!0){var it=pe[Ye].start.x,ot=pe[Ye].start.y;W.call(this,pe[Ye].deltas,it,ot),et=!0}ce&&T.call(this,ce),G&&$.call(this)}},F=function(B){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,te=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return B-te;case"top":return B+G-te;case"hanging":return B+G-2*te;case"middle":return B+G/2-te;default:return B}},N=function(B){return B+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var B=function(){};return B.colorStops=[],B.addColorStop=function(G,te){this.colorStops.push([G,te])},B.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},B.isCanvasGradient=!0,B},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var C=function(B,G,te,ce,pe,_e,Te,ee,me){for(var ne=le.call(this,te,ce,pe,_e),de=0;de<ne.length;de++){var Ce=ne[de];de===0&&(me?P.call(this,Ce.x1+B,Ce.y1+G):U.call(this,Ce.x1+B,Ce.y1+G)),re.call(this,B,G,Ce.x2,Ce.y2,Ce.x3,Ce.y3,Ce.x4,Ce.y4)}ee?$.call(this):T.call(this,Te)},T=function(B){switch(B){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},$=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(B,G){this.pdf.internal.out(n(B)+" "+r(G)+" m")},D=function(B){var G;switch(B.align){case"right":case"end":G="right";break;case"center":G="center";break;default:G="left"}var te,ce,pe,_e=this.pdf.getTextDimensions(B.text),Te=F.call(this,B.y),ee=N.call(this,Te)-_e.h,me=this.ctx.transform.applyToPoint(new s(B.x,Te));if(this.autoPaging){var ne=this.ctx.transform.decompose(),de=new l;de=(de=(de=de.multiply(ne.translate)).multiply(ne.skew)).multiply(ne.scale);for(var Ce=this.ctx.transform.applyToRectangle(new a(B.x,Te,_e.w,_e.h)),ke=de.applyToRectangle(new a(B.x,ee,_e.w,_e.h)),Y=w.call(this,ke),Ue=[],et=0;et<Y.length;et+=1)Ue.indexOf(Y[et])===-1&&Ue.push(Y[et]);E(Ue);for(var Ye=Ue[0],Le=Ue[Ue.length-1],nt=Ye;nt<Le+1;nt++){this.pdf.setPage(nt);var We=nt===1?this.posY+this.margin[0]:this.margin[0],it=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ot=this.pdf.internal.pageSize.height-this.margin[2],Gt=ot-this.margin[0],Ft=this.pdf.internal.pageSize.width-this.margin[1],ft=Ft-this.margin[3],xt=nt===1?0:it+(nt-2)*Gt;if(this.ctx.clip_path.length!==0){var jt=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(te,this.posX+this.margin[3],-1*xt+We),R.call(this,"fill",!0),this.path=jt}var st=S([JSON.parse(JSON.stringify(ke))],this.posX+this.margin[3],-xt+We+this.ctx.prevPageLastElemOffset)[0];B.scale>=.01&&(ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ce*B.scale),pe=this.lineWidth,this.lineWidth=pe*B.scale);var Ct=this.autoPaging!=="text";if(Ct||st.y+st.h<=ot){if(Ct||st.y>=We&&st.x<=Ft){var dt=Ct?B.text:this.pdf.splitTextToSize(B.text,B.maxWidth||Ft-st.x)[0],kn=S([JSON.parse(JSON.stringify(Ce))],this.posX+this.margin[3],-xt+We+this.ctx.prevPageLastElemOffset)[0],Kt=Ct&&(nt>Ye||nt<Le)&&b.call(this);Kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ft,Gt,null).clip().discardPath()),this.pdf.text(dt,kn.x,kn.y,{angle:B.angle,align:G,renderingMode:B.renderingMode}),Kt&&this.pdf.restoreGraphicsState()}}else st.y<ot&&(this.ctx.prevPageLastElemOffset+=ot-st.y);B.scale>=.01&&(this.pdf.setFontSize(ce),this.lineWidth=pe)}}else B.scale>=.01&&(ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ce*B.scale),pe=this.lineWidth,this.lineWidth=pe*B.scale),this.pdf.text(B.text,me.x+this.posX,me.y+this.posY,{angle:B.angle,align:G,renderingMode:B.renderingMode,maxWidth:B.maxWidth}),B.scale>=.01&&(this.pdf.setFontSize(ce),this.lineWidth=pe)},U=function(B,G,te,ce){te=te||0,ce=ce||0,this.pdf.internal.out(n(B+te)+" "+r(G+ce)+" l")},W=function(B,G,te){return this.pdf.lines(B,G,te,null,null)},re=function(B,G,te,ce,pe,_e,Te,ee){this.pdf.internal.out([e(i(te+B)),e(o(ce+G)),e(i(pe+B)),e(o(_e+G)),e(i(Te+B)),e(o(ee+G)),"c"].join(" "))},le=function(B,G,te,ce){for(var pe=2*Math.PI,_e=Math.PI/2;G>te;)G-=pe;var Te=Math.abs(te-G);Te<pe&&ce&&(Te=pe-Te);for(var ee=[],me=ce?-1:1,ne=G;Te>1e-5;){var de=ne+me*Math.min(Te,_e);ee.push(ue.call(this,B,ne,de)),Te-=Math.abs(de-ne),ne=de}return ee},ue=function(B,G,te){var ce=(te-G)/2,pe=B*Math.cos(ce),_e=B*Math.sin(ce),Te=pe,ee=-_e,me=Te*Te+ee*ee,ne=me+Te*pe+ee*_e,de=4/3*(Math.sqrt(2*me*ne)-ne)/(Te*_e-ee*pe),Ce=Te-de*ee,ke=ee+de*Te,Y=Ce,Ue=-ke,et=ce+G,Ye=Math.cos(et),Le=Math.sin(et);return{x1:B*Math.cos(G),y1:B*Math.sin(G),x2:Ce*Ye-ke*Le,y2:Ce*Le+ke*Ye,x3:Y*Ye-Ue*Le,y3:Y*Le+Ue*Ye,x4:B*Math.cos(te),y4:B*Math.sin(te)}},Q=function(B){return 180*B/Math.PI},ae=function(B,G,te,ce,pe,_e){var Te=B+.5*(te-B),ee=G+.5*(ce-G),me=pe+.5*(te-pe),ne=_e+.5*(ce-_e),de=Math.min(B,pe,Te,me),Ce=Math.max(B,pe,Te,me),ke=Math.min(G,_e,ee,ne),Y=Math.max(G,_e,ee,ne);return new a(de,ke,Ce-de,Y-ke)},ye=function(B,G,te,ce,pe,_e,Te,ee){var me,ne,de,Ce,ke,Y,Ue,et,Ye,Le,nt,We,it,ot,Gt=te-B,Ft=ce-G,ft=pe-te,xt=_e-ce,jt=Te-pe,st=ee-_e;for(ne=0;ne<41;ne++)Ye=(Ue=(de=B+(me=ne/40)*Gt)+me*((ke=te+me*ft)-de))+me*(ke+me*(pe+me*jt-ke)-Ue),Le=(et=(Ce=G+me*Ft)+me*((Y=ce+me*xt)-Ce))+me*(Y+me*(_e+me*st-Y)-et),ne==0?(nt=Ye,We=Le,it=Ye,ot=Le):(nt=Math.min(nt,Ye),We=Math.min(We,Le),it=Math.max(it,Ye),ot=Math.max(ot,Le));return new a(Math.round(nt),Math.round(We),Math.round(it-nt),Math.round(ot-We))},ge=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var B,G,te=(B=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:B,lineDashOffset:G}));this.prevLineDash!==te&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=te)}}})(pt.API),function(t){var e=function(s){var a,l,u,c,f,d,h,y,b,w;for(l=[],u=0,c=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;c>u;u+=4)(f=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(d=(f=((f=((f=((f=(f-(w=f%85))/85)-(b=f%85))/85)-(y=f%85))/85)-(h=f%85))/85)%85,l.push(d+33,h+33,y+33,b+33,w+33)):l.push(122);return function(_,S){for(var E=S;E>0;E--)_.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},n=function(s){var a,l,u,c,f,d=String,h="length",y=255,b="charCodeAt",w="slice",_="replace";for(s[w](-2),s=s[w](0,-2)[_](/\s/g,"")[_]("z","!!!!!"),u=[],c=0,f=(s+=a="uuuuu"[w](s[h]%5||5))[h];f>c;c+=5)l=52200625*(s[b](c)-33)+614125*(s[b](c+1)-33)+7225*(s[b](c+2)-33)+85*(s[b](c+3)-33)+(s[b](c+4)-33),u.push(y&l>>24,y&l>>16,y&l>>8,y&l);return function(S,E){for(var k=E;k>0;k--)S.pop()}(u,a[h]),d.fromCharCode.apply(d,u)},r=function(s){return s.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var l="",u=0;u<s.length;u+=2)l+=String.fromCharCode("0x"+(s[u]+s[u+1]));return l},o=function(s){for(var a=new Uint8Array(s.length),l=s.length;l--;)a[l]=s.charCodeAt(l);return(a=H5(a)).reduce(function(u,c){return u+String.fromCharCode(c)},"")};t.processDataByFilters=function(s,a){var l=0,u=s||"",c=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=o(u),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:u,reverseChain:c.reverse().join(" ")}}}(pt.API),function(t){t.loadFile=function(e,n,r){return function(i,o,s){o=o!==!1,s=typeof s=="function"?s:function(){};var a=void 0;try{a=function(l,u,c){var f=new XMLHttpRequest,d=0,h=function(y){var b=y.length,w=[],_=String.fromCharCode;for(d=0;d<b;d+=1)w.push(_(255&y.charCodeAt(d)));return w.join("")};if(f.open("GET",l,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?c(h(this.responseText)):c(void 0)}),f.send(null),u&&f.status===200)return h(f.responseText)}(i,o,s)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(pt.API),function(t){function e(){return(Tt.html2canvas?Promise.resolve(Tt.html2canvas):ax(()=>import("./html2canvas.esm-CBrSDip1.js"),[],import.meta.url)).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(Tt.DOMPurify?Promise.resolve(Tt.DOMPurify):ax(()=>import("./purify.es-B9ZVCkUG.js"),[],import.meta.url)).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=An(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var u=document.createElement(a);for(var c in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[c]=l.style[c];return u},o=function a(l,u){for(var c=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||c.appendChild(a(f,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(c.width=l.width,c.height=l.height,c.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(c.value=l.value),c.addEventListener("load",function(){c.scrollTop=l.scrollTop,c.scrollLeft=l.scrollLeft},!0)),c},s=function a(l){var u=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),c=a.convert(Promise.resolve(),u);return(c=c.setProgress(1,a,1,[a])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,l){return a.__proto__=l||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(n).then(function(u){return this.set({src:i("div",{innerHTML:a,dompurify:u})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=this.opt.jsPDF,c=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=c,c)for(var h=0;h<c.length;++h){var y=c[h],b=y.src.find(function(w){return w.format==="truetype"});b&&u.addFont(b.url,y.ref.name,y.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,u.context2d.save(!0),l(this.prop.container,d)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},s.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(r(a)!=="object")return this;var l=Object.keys(a||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=a[u]};switch(u){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[u]=a[u]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(a,l){return this.then(function(){var u=a in s.template.prop?this.prop[a]:this.opt[a];return l?l(u):u})},s.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function l(u,c){return Math.floor(u*c/72*96)}return this.then(function(){(a=a||pt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,l,u,c){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,l,u,c){return this.setProgress(a?this.progress.val+a:null,l||null,u?this.progress.n+u:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(a,l){var u=this;return this.thenCore(a,l,function(c,f){return u.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(d){return u.updateProgress(null,c),d}).then(c,f).then(function(d){return u.updateProgress(1),d})})},s.prototype.thenCore=function(a,l,u){u=u||Promise.prototype.then;var c=this;a&&(a=a.bind(c)),l&&(l=l.bind(c));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?c:s.convert(Object.assign({},c),Promise.prototype),d=u.call(f,a,l);return s.convert(d,c.__proto__)},s.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},s.prototype.thenList=function(a){var l=this;return a.forEach(function(u){l=l.thenCore(u)}),l},s.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return s.convert(l,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,pt.getPageSize=function(a,l,u){if(An(a)==="object"){var c=a;a=c.orientation,l=c.unit||l,u=c.format||u}l=l||"mm",u=u||"a4",a=(""+(a||"P")).toLowerCase();var f,d=(""+u).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var y,b=0,w=0;if(h.hasOwnProperty(d))b=h[d][1]/f,w=h[d][0]/f;else try{b=u[1],w=u[0]}catch{throw new Error("Invalid format: "+u)}if(a==="p"||a==="portrait")a="p",w>b&&(y=w,w=b,b=y);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",b>w&&(y=w,w=b,b=y)}return{width:w,height:b,unit:l,k:f,orientation:a}},t.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Ax):null;var u=new s(l);return l.worker?u:u.from(a).doCallback()}}(pt.API),pt.API.addJS=function(t){return gD=t,this.internal.events.subscribe("postPutResources",function(){n0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(n0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),mD=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+gD+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){n0!==void 0&&mD!==void 0&&this.internal.out("/Names <</JavaScript "+n0+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),o=0;o<i.length;o++){var s=i[o],a=r.exec(s);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(o=0;o<u;o++){var f=n.internal.newObject();c.push(f);var d=n.internal.getPageInfo(o+1);n.internal.write("<< /D["+d.objId+" 0 R /XYZ null null null]>> endobj")}var h=n.internal.newObject();for(n.internal.write("<< /Names [ "),o=0;o<c.length;o++)n.internal.write("(page_"+(o+1)+")"+c[o]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+h+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,o){var s={title:i,options:o,children:[]};return r==null&&(r=this.root),r.children.push(s),s},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var s=r.children[o];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var a=this.count=this.count_r({count:0},s);if(a>0&&this.line("/Count "+a),s.options&&s.options.pageNumber){var l=n.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var o=0;o<i.children.length;o++)r.count++,this.count_r(r,i.children[o]);return r.count}}])}(pt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,o,s,a){var l,u=this.decode.DCT_DECODE,c=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=s||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(f){for(var d,h=256*f.charCodeAt(4)+f.charCodeAt(5),y=f.length,b={width:0,height:0,numcomponents:1},w=4;w<y;w+=2){if(w+=h,e.indexOf(f.charCodeAt(w+1))!==-1){d=256*f.charCodeAt(w+5)+f.charCodeAt(w+6),b={width:256*f.charCodeAt(w+7)+f.charCodeAt(w+8),height:d,numcomponents:f.charCodeAt(w+9)};break}h=256*f.charCodeAt(w+2)+f.charCodeAt(w+3)}return b}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}c={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:u,index:r,alias:i}}return c}}(pt.API),pt.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,o=$Oe(t,{checkCrc:!0}),s=o.width,a=o.height,l=o.channels,u=o.palette,c=o.depth;i=u&&l===1?function(C){for(var T=C.width,$=C.height,P=C.data,D=C.palette,U=C.depth,W=!1,re=[],le=[],ue=void 0,Q=!1,ae=0,ye=0;ye<D.length;ye++){var ge=_L(D[ye],4),B=ge[0],G=ge[1],te=ge[2],ce=ge[3];re.push(B,G,te),ce!=null&&(ce===0?(ae++,le.length<1&&le.push(ye)):ce<255&&(Q=!0))}if(Q||ae>1){W=!0,le=void 0;var pe=T*$;ue=new Uint8Array(pe);for(var _e=new DataView(P.buffer),Te=0;Te<pe;Te++){var ee=Ix(_e,Te,U),me=_L(D[ee],4)[3];ue[Te]=me}}else ae===0&&(le=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:W?8:void 0,colorBytes:P,alphaBytes:ue,needSMask:W,palette:re,mask:le}}(o):l===2||l===4?function(C){for(var T=C.data,$=C.width,P=C.height,D=C.channels,U=C.depth,W=D===2?"DeviceGray":"DeviceRGB",re=D-1,le=$*P,ue=re,Q=le*ue,ae=1*le,ye=Math.ceil(Q*U/8),ge=Math.ceil(ae*U/8),B=new Uint8Array(ye),G=new Uint8Array(ge),te=new DataView(T.buffer),ce=new DataView(B.buffer),pe=new DataView(G.buffer),_e=!1,Te=0;Te<le;Te++){for(var ee=Te*D,me=0;me<ue;me++)AD(ce,Ix(te,ee+me,U),Te*ue+me,U);var ne=Ix(te,ee+ue,U);ne<(1<<U)-1&&(_e=!0),AD(pe,ne,1*Te,U)}return{colorSpace:W,colorsPerPixel:re,sMaskBitsPerComponent:_e?U:void 0,colorBytes:B,alphaBytes:G,needSMask:_e}}(o):function(C){var T=C.data,$=C.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:$,colorsPerPixel:$==="DeviceGray"?1:3,colorBytes:T instanceof Uint16Array?function(P){for(var D=P.length,U=new Uint8Array(2*D),W=new DataView(U.buffer,U.byteOffset,U.byteLength),re=0;re<D;re++)W.setUint16(2*re,P[re],!1);return U}(T):T,needSMask:!1}}(o);var f,d,h,y=i,b=y.colorSpace,w=y.colorsPerPixel,_=y.sMaskBitsPerComponent,S=y.colorBytes,E=y.alphaBytes,k=y.needSMask,R=y.palette,F=y.mask,N=null;return r!==pt.API.image_compression.NONE&&typeof H5=="function"?(N=function(C){var T;switch(C){case pt.API.image_compression.FAST:T=11;break;case pt.API.image_compression.MEDIUM:T=13;break;case pt.API.image_compression.SLOW:T=14;break;default:T=12}return T}(r),f=this.decode.FLATE_DECODE,d="/Predictor ".concat(N," /Colors ").concat(w," /BitsPerComponent ").concat(c," /Columns ").concat(s),t=_D(S,Math.ceil(s*w*c/8),w,c,r),k&&(h=_D(E,Math.ceil(s*_/8),1,_,r))):(f=void 0,d=void 0,t=S,k&&(h=E)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:n,data:t,index:e,filter:f,decodeParameters:d,transparency:F,palette:R,sMask:h,predictor:N,width:s,height:a,bitsPerComponent:c,sMaskBitsPerComponent:_,colorSpace:b}}},function(t){t.processGIF89A=function(e,n,r,i){var o=new sMe(e),s=o.width,a=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:s,height:a},c=new Px(100).encode(u,100);return t.processJPEG.call(this,c,n,r,i)},t.processGIF87A=t.processGIF89A}(pt.API),Vs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Vs.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Ln.log("bit decode error:"+n)}},Vs.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[o>>7-a&1];this.data[s+4*a]=l.blue,this.data[s+4*a+1]=l.green,this.data[s+4*a+2]=l.red,this.data[s+4*a+3]=255}n!==0&&(this.pos+=4-n)}},Vs.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,a=o>>4,l=15&o,u=this.palette[a];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},Vs.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}t!==0&&(this.pos+=4-t)}},Vs.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,a=(o>>5&e)/e*255|0,l=(o>>10&e)/e*255|0,u=o>>15?255:0,c=r*this.width*4+4*i;this.data[c]=l,this.data[c+1]=a,this.data[c+2]=s,this.data[c+3]=u}this.pos+=t}},Vs.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,l=(s>>5&n)/n*255|0,u=(s>>11)/e*255|0,c=i*this.width*4+4*o;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=a,this.data[c+3]=255}this.pos+=t}},Vs.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},Vs.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=s}},Vs.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var o=new Vs(e,!1),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},u=new Px(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(pt.API),ID.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var o=new ID(e),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},u=new Px(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(pt.API),pt.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,o=new Uint8Array(i/4*3),s=new Uint8Array(i/4),a=0,l=0,u=0;u<i;u+=4){var c=r[u],f=r[u+1],d=r[u+2],h=r[u+3];o[a++]=c,o[a++]=f,o[a++]=d,s[l++]=h}var y=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:y,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},pt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},vd=pt.API,r0=vd.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=u.fof?u.fof:1,f=e.doKerning!==!1,d=0,h=t.length,y=0,b=a[0]||l,w=[];for(n=0;n<h;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?w.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/o)||0)/1e3):(d=f&&An(u[r])==="object"&&!isNaN(parseInt(u[r][y],10))?u[r][y]/c:0,w.push((a[r]||b)/l+d)),y=r;return w},vD=vd.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return vd.processArabic&&(t=vd.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:r0.apply(this,arguments).reduce(function(o,s){return o+s},0)},yD=function(t,e,n,r){for(var i=[],o=0,s=t.length,a=0;o!==s&&a+e[o]<n;)a+=e[o],o++;i.push(t.slice(0,o));var l=o;for(a=0;o!==s;)a+e[o]>r&&(i.push(t.slice(l,o)),a=0,l=o),a+=e[o],o++;return l!==o&&i.push(t.slice(l,o)),i},wD=function(t,e,n){n||(n={});var r,i,o,s,a,l,u,c=[],f=[c],d=n.textIndent||0,h=0,y=0,b=t.split(" "),w=r0.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?b[0].length+2:n.lineIndent||0){var _=Array(l).join(" "),S=[];b.map(function(k){(k=k.split(/\s*\n/)).length>1?S=S.concat(k.map(function(R,F){return(F&&R.length?`
`:"")+R})):S.push(k[0])}),b=S,l=vD.apply(this,[_,n])}for(o=0,s=b.length;o<s;o++){var E=0;if(r=b[o],l&&r[0]==`
`&&(r=r.substr(1),E=1),d+h+(y=(i=r0.apply(this,[r,n])).reduce(function(k,R){return k+R},0))>e||E){if(y>e){for(a=yD.apply(this,[r,i,e-(d+h),e]),c.push(a.shift()),c=[a.pop()];a.length;)f.push([a.shift()]);y=i.slice(r.length-(c[0]?c[0].length:0)).reduce(function(k,R){return k+R},0)}else c=[r];f.push(c),d=y+l,h=w}else c.push(r),d+=h+y,h=w}return u=l?function(k,R){return(R?_:"")+k.join(" ")}:function(k){return k.join(" ")},f.map(u)},vd.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),o=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var f=this.internal.getFont(c.fontName,c.fontStyle),d="Unicode";return f.metadata[d]?{widths:f.metadata[d].widths||{0:1},kerning:f.metadata[d].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=n.lineIndent;var a,l,u=[];for(a=0,l=r.length;a<l;a++)u=u.concat(wD.apply(this,[r[a],s,o]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},o=0;o<16;o++)r[n[o]]=e[o],i[e[o]]=n[o];var s=function(d){return"0x"+parseInt(d,10).toString(16)},a=t.__fontmetrics__.compress=function(d){var h,y,b,w,_=["{"];for(var S in d){if(h=d[S],isNaN(parseInt(S,10))?y="'"+S+"'":(S=parseInt(S,10),y=(y=s(S).slice(2)).slice(0,-1)+i[y.slice(-1)]),typeof h=="number")h<0?(b=s(h).slice(3),w="-"):(b=s(h).slice(2),w=""),b=w+b.slice(0,-1)+i[b.slice(-1)];else{if(An(h)!=="object")throw new Error("Don't know what to do with value type "+An(h)+".");b=a(h)}_.push(y+b)}return _.push("}"),_.join("")},l=t.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,y,b,w,_={},S=1,E=_,k=[],R="",F="",N=d.length-1,C=1;C<N;C+=1)(w=d[C])=="'"?h?(b=h.join(""),h=void 0):h=[]:h?h.push(w):w=="{"?(k.push([E,b]),E={},b=void 0):w=="}"?((y=k.pop())[0][y[1]]=E,b=void 0,E=y[0]):w=="-"?S=-1:b===void 0?r.hasOwnProperty(w)?(R+=r[w],b=parseInt(R,16)*S,S=1,R=""):R+=w:r.hasOwnProperty(w)?(F+=r[w],E[b]=parseInt(F,16)*S,S=1,b=void 0,F=""):F+=w;return _},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(d){var h=d.font,y=f.Unicode[h.postScriptName];y&&(h.metadata.Unicode={},h.metadata.Unicode.widths=y.widths,h.metadata.Unicode.kerning=y.kerning);var b=c.Unicode[h.postScriptName];b&&(h.metadata.Unicode.encoding=b,h.encoding=b.codePages[0])}])}(pt.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),o=0;o<r;o++)i[o]=n.charCodeAt(o);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,o=n.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(C0(a)),s.metadata=t.API.TTFFont.open(a),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])}(pt),pt.API.addSvgAsImage=function(t,e,n,r,i,o,s,a){if(isNaN(e)||isNaN(n))throw Ln.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw Ln.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var c={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(Tt.canvg?Promise.resolve(Tt.canvg):ax(()=>import("./index.es-kTNL0OpK.js"),[],import.meta.url)).catch(function(d){return Promise.reject(new Error("Could not load canvg: "+d))}).then(function(d){return d.default?d.default:d}).then(function(d){return d.fromString(u,t,c)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(d){return d.render(c)}).then(function(){f.addImage(l.toDataURL("image/jpeg",1),e,n,r,i,s,a)})},pt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},pt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(s),l=[],u=0,c=0,f=0;function d(y,b){var w,_=!1;for(w=0;w<y.length;w+=1)y[w]===b&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=a.length;for(f=0;f<h;f+=1)n[a[f]].value=n[a[f]].defaultValue,n[a[f]].explicitSet=!1}if(An(t)==="object"){for(i in t)if(o=t[i],d(a,i)&&o!==void 0){if(n[i].type==="boolean"&&typeof o=="boolean")n[i].value=o;else if(n[i].type==="name"&&d(n[i].valueSet,o))n[i].value=o;else if(n[i].type==="integer"&&Number.isInteger(o))n[i].value=o;else if(n[i].type==="array"){for(u=0;u<o.length;u+=1)if(r=!0,o[u].length===1&&typeof o[u][0]=="number")l.push(String(o[u]-1));else if(o[u].length>1){for(c=0;c<o[u].length;c+=1)typeof o[u][c]!="number"&&(r=!1);r===!0&&l.push([o[u][0]-1,o[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,b=[];for(y in n)n[y].explicitSet===!0&&(n[y].type==="name"?b.push("/"+y+" /"+n[y].value):b.push("/"+y+" "+n[y].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=o.length+s.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+o+s+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(pt.API),function(t){var e=t.API,n=e.pdfEscape16=function(o,s){for(var a,l=s.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],f=0,d=o.length;f<d;++f){if(a=s.metadata.characterToGlyph(o.charCodeAt(f)),s.metadata.glyIdsUsed.push(a),s.metadata.toUnicode[a]=o.charCodeAt(f),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(s.metadata.widthOfGlyph(a),10)])),a=="0")return c.join("");a=a.toString(16),c.push(u[4-a.length],a)}return c.join("")},r=function(o){var s,a,l,u,c,f,d;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,d=(a=Object.keys(o).sort(function(h,y){return h-y})).length;f<d;f++)s=a[f],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),o[s]!==void 0&&o[s]!==null&&typeof o[s].toString=="function"&&(u=("0000"+o[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+u+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,u=s.newObject,c=s.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var f=a.metadata.Unicode.widths,d=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),h="",y=0;y<d.length;y++)h+=String.fromCharCode(d[y]);var b=u();c({data:h,addLength1:!0,objectId:b}),l("endobj");var w=u();c({data:r(a.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var _=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Ad(a.fontName)),l("/FontFile2 "+b+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var S=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Ad(a.fontName)),l("/FontDescriptor "+_+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+w+" 0 R"),l("/BaseFont /"+Ad(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+S+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,u=s.newObject,c=s.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var f=a.metadata.rawData,d="",h=0;h<f.length;h++)d+=String.fromCharCode(f[h]);var y=u();c({data:d,addLength1:!0,objectId:y}),l("endobj");var b=u();c({data:r(a.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var w=u();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+y+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Ad(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=u();for(var _=0;_<a.metadata.hmtx.widths.length;_++)a.metadata.hmtx.widths[_]=parseInt(a.metadata.hmtx.widths[_]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+Ad(a.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]);var i=function(o){var s,a=o.text||"",l=o.x,u=o.y,c=o.options||{},f=o.mutex||{},d=f.pdfEscape,h=f.activeFontKey,y=f.fonts,b=h,w="",_=0,S="",E=y[b].encoding;if(y[b].encoding!=="Identity-H")return{text:a,x:l,y:u,options:c,mutex:f};for(S=a,b=h,Array.isArray(a)&&(S=a[0]),_=0;_<S.length;_+=1)y[b].metadata.hasOwnProperty("cmap")&&(s=y[b].metadata.cmap.unicode.codeMap[S[_].charCodeAt(0)]),s||S[_].charCodeAt(0)<256&&y[b].metadata.hasOwnProperty("Unicode")?w+=S[_]:w+="";var k="";return parseInt(b.slice(1))<14||E==="WinAnsiEncoding"?k=d(w,b).split("").map(function(R){return R.charCodeAt(0).toString(16)}).join(""):E==="Identity-H"&&(k=n(w,y[b])),f.isHex=!0,{text:k,x:l,y:u,options:c,mutex:f}};e.events.push(["postProcessText",function(o){var s=o.text||"",a=[],l={text:s,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?a.push([i(Object.assign({},l,{text:s[u][0]})).text,s[u][1],s[u][2]]):a.push(i(Object.assign({},l,{text:s[u]})).text);o.text=a}else o.text=i(Object.assign({},l,{text:s})).text}])}(pt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(pt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,o,s,a,l,u,c,f=e,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),S=!1,E=0;this.__bidiEngine__={};var k=function(P){var D=P.charCodeAt(),U=D>>8,W=b[U];return W!==void 0?f[256*W+(255&D)]:U===252||U===253?"AL":_.test(U)?"L":U===8?"R":"N"},R=function(P){for(var D,U=0;U<P.length;U++){if((D=k(P.charAt(U)))==="L")return!1;if(D==="R")return!0}return!1},F=function(P,D,U,W){var re,le,ue,Q,ae=D[W];switch(ae){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":S=!1;break;case"N":case"AN":break;case"EN":S&&(ae="AN");break;case"AL":S=!0,ae="R";break;case"WS":case"BN":ae="N";break;case"CS":W<1||W+1>=D.length||(re=U[W-1])!=="EN"&&re!=="AN"||(le=D[W+1])!=="EN"&&le!=="AN"?ae="N":S&&(le="AN"),ae=le===re?le:"N";break;case"ES":ae=(re=W>0?U[W-1]:"B")==="EN"&&W+1<D.length&&D[W+1]==="EN"?"EN":"N";break;case"ET":if(W>0&&U[W-1]==="EN"){ae="EN";break}if(S){ae="N";break}for(ue=W+1,Q=D.length;ue<Q&&D[ue]==="ET";)ue++;ae=ue<Q&&D[ue]==="EN"?"EN":"N";break;case"NSM":if(s&&!a){for(Q=D.length,ue=W+1;ue<Q&&D[ue]==="NSM";)ue++;if(ue<Q){var ye=P[W],ge=ye>=1425&&ye<=2303||ye===64286;if(re=D[ue],ge&&(re==="R"||re==="AL")){ae="R";break}}}ae=W<1||(re=D[W-1])==="B"?"N":U[W-1];break;case"B":S=!1,i=!0,ae=E;break;case"S":o=!0,ae="N"}return ae},N=function(P,D,U){var W=P.split("");return U&&C(W,U,{hiLevel:E}),W.reverse(),D&&D.reverse(),W.join("")},C=function(P,D,U){var W,re,le,ue,Q,ae=-1,ye=P.length,ge=0,B=[],G=E?h:d,te=[];for(S=!1,i=!1,o=!1,re=0;re<ye;re++)te[re]=k(P[re]);for(le=0;le<ye;le++){if(Q=ge,B[le]=F(P,te,B,le),W=240&(ge=G[Q][y[B[le]]]),ge&=15,D[le]=ue=G[ge][5],W>0)if(W===16){for(re=ae;re<le;re++)D[re]=1;ae=-1}else ae=-1;if(G[ge][6])ae===-1&&(ae=le);else if(ae>-1){for(re=ae;re<le;re++)D[re]=ue;ae=-1}te[le]==="B"&&(D[le]=0),U.hiLevel|=ue}o&&function(ce,pe,_e){for(var Te=0;Te<_e;Te++)if(ce[Te]==="S"){pe[Te]=E;for(var ee=Te-1;ee>=0&&ce[ee]==="WS";ee--)pe[ee]=E}}(te,D,ye)},T=function(P,D,U,W,re){if(!(re.hiLevel<P)){if(P===1&&E===1&&!i)return D.reverse(),void(U&&U.reverse());for(var le,ue,Q,ae,ye=D.length,ge=0;ge<ye;){if(W[ge]>=P){for(Q=ge+1;Q<ye&&W[Q]>=P;)Q++;for(ae=ge,ue=Q-1;ae<ue;ae++,ue--)le=D[ae],D[ae]=D[ue],D[ue]=le,U&&(le=U[ae],U[ae]=U[ue],U[ue]=le);ge=Q}ge++}}},$=function(P,D,U){var W=P.split(""),re={hiLevel:E};return U||(U=[]),C(W,U,re),function(le,ue,Q){if(Q.hiLevel!==0&&c)for(var ae,ye=0;ye<le.length;ye++)ue[ye]===1&&(ae=w.indexOf(le[ye]))>=0&&(le[ye]=w[ae+1])}(W,U,re),T(2,W,D,U,re),T(1,W,D,U,re),W.join("")};return this.__bidiEngine__.doBidiReorder=function(P,D,U){if(function(re,le){if(le)for(var ue=0;ue<re.length;ue++)le[ue]=ue;a===void 0&&(a=R(re)),u===void 0&&(u=R(re))}(P,D),s||!l||u)if(s&&l&&a^u)E=a?1:0,P=N(P,D,U);else if(!s&&l&&u)E=a?1:0,P=$(P,D,U),P=N(P,D);else if(!s||a||l||u){if(s&&!l&&a^u)P=N(P,D),a?(E=0,P=$(P,D,U)):(E=1,P=$(P,D,U),P=N(P,D));else if(s&&a&&!l&&u)E=1,P=$(P,D,U),P=N(P,D);else if(!s&&!l&&a^u){var W=c;a?(E=1,P=$(P,D,U),E=0,c=!1,P=$(P,D,U),c=W):(E=0,P=$(P,D,U),P=N(P,D),E=1,c=!1,P=$(P,D,U),c=W,P=N(P,D))}}else E=0,P=$(P,D,U);else E=a?1:0,P=$(P,D,U);return P},this.__bidiEngine__.setOptions=function(P){P&&(s=P.isInputVisual,l=P.isOutputVisual,a=P.isInputRtl,u=P.isOutputRtl,c=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var s=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,n.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(s=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?s.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):s.push([n.doBidiReorder(i[a])]);r.text=s}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(pt),pt.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new dc(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new bMe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new aMe(this.contents),this.head=new uMe(this),this.name=new pMe(this),this.cmap=new aq(this),this.toUnicode={},this.hhea=new cMe(this),this.maxp=new mMe(this),this.hmtx=new gMe(this),this.post=new dMe(this),this.os2=new fMe(this),this.loca=new _Me(this),this.glyf=new vMe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,a,l,u;for(u=[],s=0,a=(l=this.bbox).length;s<a;s++)e=l[s],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,o,s,a;for(s=0,o=0,a=(e=""+e).length;0<=a?o<a:o>a;o=0<=a?++o:--o)i=e.charCodeAt(o),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return s*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var fa,dc=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,o,s,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^o)+65536*(255^s)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*o+65536*s+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,o;for(o=[],r=0,i=e.length;r<i;r++)n=e[r],o.push(this.writeByte(n));return o},t}(),aMe=function(){var t;function e(n){var r,i,o;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,o,s,a,l,u,c,f,d,h,y,b;for(b in h=Object.keys(n).length,l=Math.log(2),f=16*Math.floor(Math.log(h)/l),s=Math.floor(f/l),c=16*h-f,(i=new dc).writeInt(this.scalarType),i.writeShort(h),i.writeShort(f),i.writeShort(s),i.writeShort(c),o=16*h,u=i.pos+o,a=null,y=[],n)for(d=n[b],i.writeString(b),i.writeInt(t(d)),i.writeInt(u),i.writeInt(d.length),y=y.concat(d),b==="head"&&(a=u),u+=d.length;u%4;)y.push(0),u++;return i.write(y),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,o,s;for(n=lq.call(n);n.length%4;)n.push(0);for(o=new dc(n),i=0,r=0,s=n.length;r<s;r=r+=4)i+=o.readUInt32();return 4294967295&i},e}(),lMe={}.hasOwnProperty,Za=function(t,e){for(var n in e)lMe.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};fa=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var uMe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Za(t,fa),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new dc).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),PD=function(){function t(e,n){var r,i,o,s,a,l,u,c,f,d,h,y,b,w,_,S,E;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(h=e.readUInt16(),d=h/2,e.pos+=6,o=function(){var k,R;for(R=[],l=k=0;0<=d?k<d:k>d;l=0<=d?++k:--k)R.push(e.readUInt16());return R}(),e.pos+=2,b=function(){var k,R;for(R=[],l=k=0;0<=d?k<d:k>d;l=0<=d?++k:--k)R.push(e.readUInt16());return R}(),u=function(){var k,R;for(R=[],l=k=0;0<=d?k<d:k>d;l=0<=d?++k:--k)R.push(e.readUInt16());return R}(),c=function(){var k,R;for(R=[],l=k=0;0<=d?k<d:k>d;l=0<=d?++k:--k)R.push(e.readUInt16());return R}(),i=(this.length-e.pos+this.offset)/2,a=function(){var k,R;for(R=[],l=k=0;0<=i?k<i:k>i;l=0<=i?++k:--k)R.push(e.readUInt16());return R}(),l=_=0,E=o.length;_<E;l=++_)for(w=o[l],r=S=y=b[l];y<=w?S<=w:S>=w;r=y<=w?++S:--S)c[l]===0?s=r+u[l]:(s=a[c[l]/2+(r-y)-(d-l)]||0)!==0&&(s+=u[l]),this.codeMap[r]=65535&s}e.pos=f}return t.encode=function(e,n){var r,i,o,s,a,l,u,c,f,d,h,y,b,w,_,S,E,k,R,F,N,C,T,$,P,D,U,W,re,le,ue,Q,ae,ye,ge,B,G,te,ce,pe,_e,Te,ee,me,ne,de;switch(W=new dc,s=Object.keys(e).sort(function(Ce,ke){return Ce-ke}),n){case"macroman":for(b=0,w=function(){var Ce=[];for(y=0;y<256;++y)Ce.push(0);return Ce}(),S={0:0},o={},re=0,ae=s.length;re<ae;re++)S[ee=e[i=s[re]]]==null&&(S[ee]=++b),o[i]={old:e[i],new:S[e[i]]},w[i]=S[e[i]];return W.writeUInt16(1),W.writeUInt16(0),W.writeUInt32(12),W.writeUInt16(0),W.writeUInt16(262),W.writeUInt16(0),W.write(w),{charMap:o,subtable:W.data,maxGlyphID:b+1};case"unicode":for(D=[],f=[],E=0,S={},r={},_=u=null,le=0,ye=s.length;le<ye;le++)S[R=e[i=s[le]]]==null&&(S[R]=++E),r[i]={old:R,new:S[R]},a=S[R]-i,_!=null&&a===u||(_&&f.push(_),D.push(i),u=a),_=i;for(_&&f.push(_),f.push(65535),D.push(65535),$=2*(T=D.length),C=2*Math.pow(Math.log(T)/Math.LN2,2),d=Math.log(C/2)/Math.LN2,N=2*T-C,l=[],F=[],h=[],y=ue=0,ge=D.length;ue<ge;y=++ue){if(P=D[y],c=f[y],P===65535){l.push(0),F.push(0);break}if(P-(U=r[P].new)>=32768)for(l.push(0),F.push(2*(h.length+T-y)),i=Q=P;P<=c?Q<=c:Q>=c;i=P<=c?++Q:--Q)h.push(r[i].new);else l.push(U-P),F.push(0)}for(W.writeUInt16(3),W.writeUInt16(1),W.writeUInt32(12),W.writeUInt16(4),W.writeUInt16(16+8*T+2*h.length),W.writeUInt16(0),W.writeUInt16($),W.writeUInt16(C),W.writeUInt16(d),W.writeUInt16(N),_e=0,B=f.length;_e<B;_e++)i=f[_e],W.writeUInt16(i);for(W.writeUInt16(0),Te=0,G=D.length;Te<G;Te++)i=D[Te],W.writeUInt16(i);for(me=0,te=l.length;me<te;me++)a=l[me],W.writeUInt16(a);for(ne=0,ce=F.length;ne<ce;ne++)k=F[ne],W.writeUInt16(k);for(de=0,pe=h.length;de<pe;de++)b=h[de],W.writeUInt16(b);return{charMap:r,subtable:W.data,maxGlyphID:E+1}}},t}(),aq=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Za(t,fa),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new PD(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=PD.encode(e,n),(i=new dc).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t}(),cMe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Za(t,fa),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),fMe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Za(t,fa),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),dMe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Za(t,fa),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var s,a,l;for(l=[],o=s=0,a=this.file.maxp.numGlyphs;0<=a?s<a:s>a;o=0<=a?++s:--s)l.push(e.readUInt32());return l}).call(this)}},t}(),hMe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},pMe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Za(t,fa),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,o,s,a,l,u,c,f,d;for(e.pos=this.offset,e.readShort(),n=e.readShort(),a=e.readShort(),r=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(l={},o=c=0,f=r.length;c<f;o=++c)i=r[o],e.pos=i.offset,u=e.readString(i.length),s=new hMe(u,i),l[d=i.nameID]==null&&(l[d]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),mMe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Za(t,fa),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),gMe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Za(t,fa),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,o,s,a,l;for(e.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:n>a;n=0<=a?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,c;for(c=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)c.push(e.readInt16());return c}(),this.widths=(function(){var u,c,f,d;for(d=[],u=0,c=(f=this.metrics).length;u<c;u++)o=f[u],d.push(o.advance);return d}).call(this),r=this.widths[this.widths.length-1],l=[],n=s=0;0<=i?s<i:s>i;n=0<=i?++s:--s)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),lq=[].slice,vMe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Za(t,fa),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,o,s,a,l,u,c,f;return e in this.cache?this.cache[e]:(o=this.file.loca,n=this.file.contents,r=o.indexOf(e),(i=o.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,s=(a=new dc(n.read(i))).readShort(),u=a.readShort(),f=a.readShort(),l=a.readShort(),c=a.readShort(),this.cache[e]=s===-1?new wMe(a,u,f,l,c):new yMe(a,s,u,f,l,c),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,o,s,a,l;for(s=[],o=[],a=0,l=n.length;a<l;a++)i=e[n[a]],o.push(s.length),i&&(s=s.concat(i.encode(r)));return o.push(s.length),{table:s,offsets:o}},t}(),yMe=function(){function t(e,n,r,i,o,s){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=o,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),wMe=function(){function t(e,n,r,i,o){var s,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;a=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&a;)s.pos+=1&a?4:2,128&a?s.pos+=8:64&a?s.pos+=4:8&a&&(s.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new dc(lq.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),_Me=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Za(t,fa),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,o;for(o=[],r=0,i=this.length;r<i;r+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],r=0,i=this.length;r<i;r+=4)o.push(e.readUInt32());return o}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,o=0,s=0;s<r.length;++s)if(r[s]=i,o<n.length&&n[o]==s){++o,r[s]=i;var a=this.offsets[s],l=this.offsets[s+1]-a;l>0&&(i+=l)}for(var u=new Array(4*r.length),c=0;c<r.length;++c)u[4*c+3]=255&r[c],u[4*c+2]=(65280&r[c])>>8,u[4*c+1]=(16711680&r[c])>>16,u[4*c]=(4278190080&r[c])>>24;return u},t}(),bMe=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,o;for(n in i=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,o,s,a,l;for(i={},s=0,a=e.length;s<a;s++)i[o=e[s]]=this.font.glyf.glyphFor(o);for(o in n=[],i)(r=i[o])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(o in l=this.glyphsFor(n))r=l[o],i[o]=r;return i},t.prototype.encode=function(e,n){var r,i,o,s,a,l,u,c,f,d,h,y,b,w,_;for(i in r=aq.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),h={0:0},_=r.charMap)h[(l=_[i]).old]=l.new;for(y in d=r.maxGlyphID,s)y in h||(h[y]=d++);return c=function(S){var E,k;for(E in k={},S)k[S[E]]=E;return k}(h),f=Object.keys(c).sort(function(S,E){return S-E}),b=function(){var S,E,k;for(k=[],S=0,E=f.length;S<E;S++)a=f[S],k.push(c[a]);return k}(),o=this.font.glyf.encode(s,b,h),u=this.font.loca.encode(o.offsets,b),w={cmap:this.font.cmap.raw(),glyf:o.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},t}();pt.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,o,s;if(Array.isArray(n))return"["+function(){var a,l,u;for(u=[],a=0,l=n.length;a<l;a++)r=n[a],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in o=["<<"],n)s=n[i],o.push("/"+i+" "+e.convert(s));return o.push(">>"),o.join(`
`)}return""+n},e}();function uq(t,e,n,r,i){r=r||{};var o=1.15,s=i.internal.scaleFactor,a=i.internal.getFontSize()/s,l=i.getLineHeightFactor?i.getLineHeightFactor():o,u=a*l,c=/\r\n|\r|\n/g,f="",d=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(f=typeof t=="string"?t.split(c):t,d=f.length||1),n+=a*(2-o),r.valign==="middle"?n-=d/2*u:r.valign==="bottom"&&(n-=d*u),r.halign==="center"||r.halign==="right"){var h=a;if(r.halign==="center"&&(h*=.5),f&&d>=1){for(var y=0;y<f.length;y++)i.text(f[y],e-i.getStringUnitWidth(f[y])*h,n),n+=u;return i}e-=i.getStringUnitWidth(t)*h}return r.halign==="justify"?i.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(t,e,n),i}var CD={},dh=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:CD=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var r,i,o;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var s=this.jsPDFDocument.internal.getFont(),a=s.fontStyle,l=s.fontName;if(e.font&&(l=e.font),e.fontStyle){a=e.fontStyle;var u=this.getFontList()[l];u&&u.indexOf(a)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),a=u[0])}if(this.jsPDFDocument.setFont(l,a),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var c=t.unifyColor(e.fillColor);c&&(r=this.jsPDFDocument).setFillColor.apply(r,c),c=t.unifyColor(e.textColor),c&&(i=this.jsPDFDocument).setTextColor.apply(i,c),c=t.unifyColor(e.lineColor),c&&(o=this.jsPDFDocument).setDrawColor.apply(o,c),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,r){return this.jsPDFDocument.splitTextToSize(e,n,r)},t.prototype.rect=function(e,n,r,i,o){return this.jsPDFDocument.rect(e,n,r,i,o)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return CD||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),Z5=function(t,e){return Z5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Z5(t,e)};function cq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Z5(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var fq=function(t){cq(e,t);function e(n){var r=t.call(this)||this;return r._element=n,r}return e}(Array);function xMe(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function SMe(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function Ow(t,e,n){n.applyStyles(e,!0);var r=Array.isArray(t)?t:[t],i=r.map(function(o){return n.getTextWidth(o)}).reduce(function(o,s){return Math.max(o,s)},0);return i}function dq(t,e,n,r){var i=e.settings.tableLineWidth,o=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:o});var s=hq(i,!1);s&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),r.y-n.y,s)}function hq(t,e){var n=t>0,r=e||e===0;return n&&r?"DF":n?"S":r?"F":null}function S2(t,e){var n,r,i,o;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(r=t.top)!==null&&r!==void 0?r:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(o=t.bottom)!==null&&o!==void 0?o:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function pq(t,e){var n=S2(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function EMe(t,e,n,r,i){var o={},s=1.3333333333333333,a=Cx(e,function(E){return i.getComputedStyle(E).backgroundColor});a!=null&&(o.fillColor=a);var l=Cx(e,function(E){return i.getComputedStyle(E).color});l!=null&&(o.textColor=l);var u=TMe(r,n);u&&(o.cellPadding=u);var c="borderTopColor",f=s*n,d=r.borderTopWidth;if(r.borderBottomWidth===d&&r.borderRightWidth===d&&r.borderLeftWidth===d){var h=(parseFloat(d)||0)/f;h&&(o.lineWidth=h)}else o.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/f,right:(parseFloat(r.borderRightWidth)||0)/f,bottom:(parseFloat(r.borderBottomWidth)||0)/f,left:(parseFloat(r.borderLeftWidth)||0)/f},o.lineWidth.top||(o.lineWidth.right?c="borderRightColor":o.lineWidth.bottom?c="borderBottomColor":o.lineWidth.left&&(c="borderLeftColor"));var y=Cx(e,function(E){return i.getComputedStyle(E)[c]});y!=null&&(o.lineColor=y);var b=["left","right","center","justify"];b.indexOf(r.textAlign)!==-1&&(o.halign=r.textAlign),b=["middle","bottom","top"],b.indexOf(r.verticalAlign)!==-1&&(o.valign=r.verticalAlign);var w=parseInt(r.fontSize||"");isNaN(w)||(o.fontSize=w/s);var _=AMe(r);_&&(o.fontStyle=_);var S=(r.fontFamily||"").toLowerCase();return t.indexOf(S)!==-1&&(o.font=S),o}function AMe(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function Cx(t,e){var n=mq(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],o=parseInt(r[4]);return o===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function mq(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:mq(t.parentElement,e):n}function TMe(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],r=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,o=n.map(function(a){return parseInt(a||"0")/r}),s=S2(o,0);return i>s.top&&(s.top=i),i>s.bottom&&(s.bottom=i),s}function gq(t,e,n,r,i){var o,s;r===void 0&&(r=!1),i===void 0&&(i=!1);var a;typeof e=="string"?a=n.document.querySelector(e):a=e;var l=Object.keys(t.getFontList()),u=t.scaleFactor(),c=[],f=[],d=[];if(!a)return console.error("Html table could not be found with input: ",e),{head:c,body:f,foot:d};for(var h=0;h<a.rows.length;h++){var y=a.rows[h],b=(s=(o=y==null?void 0:y.parentElement)===null||o===void 0?void 0:o.tagName)===null||s===void 0?void 0:s.toLowerCase(),w=IMe(l,u,n,y,r,i);w&&(b==="thead"?c.push(w):b==="tfoot"?d.push(w):f.push(w))}return{head:c,body:f,foot:d}}function IMe(t,e,n,r,i,o){for(var s=new fq(r),a=0;a<r.cells.length;a++){var l=r.cells[a],u=n.getComputedStyle(l);if(i||u.display!=="none"){var c=void 0;o&&(c=EMe(t,l,e,u,n)),s.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:c,_element:l,content:PMe(l)})}}var f=n.getComputedStyle(r);if(s.length>0&&(i||f.display!=="none"))return s}function PMe(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function CMe(t,e,n){for(var r=0,i=[t,e,n];r<i.length;r++){var o=i[r];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function Rl(t,e,n,r,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),s=1;s<arguments.length;s++){var a=arguments[s];if(a!=null)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(o[l]=a[l])}return o}function vq(t,e){var n=new dh(t),r=n.getDocumentOptions(),i=n.getGlobalOptions();CMe(i,r,e);var o=Rl({},i,r,e),s;typeof window<"u"&&(s=window);var a=NMe(i,r,e),l=kMe(i,r,e),u=RMe(n,o),c=MMe(n,o,s);return{id:e.tableId,content:c,hooks:l,styles:a,settings:u}}function NMe(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var u=t[l],c=e[l],f=n[l];r.columnStyles=Rl({},u,c,f)}else{var d=[t,e,n],h=d.map(function(y){return y[l]||{}});r[l]=Rl({},h[0],h[1],h[2])}},o=0,s=Object.keys(r);o<s.length;o++){var a=s[o];i(a)}return r}function kMe(t,e,n){for(var r=[t,e,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,s=r;o<s.length;o++){var a=s[o];a.didParseCell&&i.didParseCell.push(a.didParseCell),a.willDrawCell&&i.willDrawCell.push(a.willDrawCell),a.didDrawCell&&i.didDrawCell.push(a.didDrawCell),a.willDrawPage&&i.willDrawPage.push(a.willDrawPage),a.didDrawPage&&i.didDrawPage.push(a.didDrawPage)}return i}function RMe(t,e){var n,r,i,o,s,a,l,u,c,f,d,h,y=S2(e.margin,40/t.scaleFactor()),b=(n=OMe(t,e.startY))!==null&&n!==void 0?n:y.top,w;e.showFoot===!0?w="everyPage":e.showFoot===!1?w="never":w=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var _;e.showHead===!0?_="everyPage":e.showHead===!1?_="never":_=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var S=(o=e.useCss)!==null&&o!==void 0?o:!1,E=e.theme||(S?"plain":"striped"),k=!!e.horizontalPageBreak,R=(s=e.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(a=e.includeHiddenHtml)!==null&&a!==void 0?a:!1,useCss:S,theme:E,startY:b,margin:y,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(c=e.tableWidth)!==null&&c!==void 0?c:"auto",showHead:_,showFoot:w,tableLineWidth:(f=e.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(d=e.tableLineColor)!==null&&d!==void 0?d:200,horizontalPageBreak:k,horizontalPageBreakRepeat:R,horizontalPageBreakBehaviour:(h=e.horizontalPageBreakBehaviour)!==null&&h!==void 0?h:"afterAllRows"}}function OMe(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),i=t.pageNumber(),o=!1;if(n&&n.startPageNumber){var s=n.startPageNumber+n.pageNumber-1;o=s===i}return typeof e=="number"?e:(e==null||e===!1)&&o&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function MMe(t,e,n){var r=e.head||[],i=e.body||[],o=e.foot||[];if(e.html){var s=e.includeHiddenHtml;if(n){var a=gq(t,e.html,n,s,e.useCss)||{};r=a.head||r,i=a.body||r,o=a.foot||r}else console.error("Cannot parse html in non browser environment")}var l=e.columns||LMe(r,i,o);return{columns:l,head:r,body:i,foot:o}}function LMe(t,e,n){var r=t[0]||e[0]||n[0]||[],i=[];return Object.keys(r).filter(function(o){return o!=="_element"}).forEach(function(o){var s=1,a;Array.isArray(r)?a=r[parseInt(o)]:a=r[o],typeof a=="object"&&!Array.isArray(a)&&(s=(a==null?void 0:a.colSpan)||1);for(var l=0;l<s;l++){var u=void 0;Array.isArray(r)?u=i.length:u=o+(l>0?"_".concat(l):"");var c={dataKey:u};i.push(c)}}),i}var eA=function(){function t(e,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=e.getDocument()}return t}(),DMe=function(t){cq(e,t);function e(n,r,i,o,s,a){var l=t.call(this,n,r,a)||this;return l.cell=i,l.row=o,l.column=s,l.section=o.section,l}return e}(eA),FMe=function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,r,i,o,s){for(var a=0,l=n;a<l.length;a++){var u=l[a],c=new DMe(e,this,r,i,o,s),f=u(c)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],f)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var o=i[r];o(new eA(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var o=i[r];o(new eA(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,o){return i+o.wrappedWidth},0);return n}else{var r=this.settings.margin;return e-r.left-r.right}},t}(),yq=function(){function t(e,n,r,i,o){o===void 0&&(o=!1),this.height=0,this.raw=e,e instanceof fq&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=o}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(r,i){var o;return Math.max(r,((o=n.cells[i.index])===null||o===void 0?void 0:o.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var r=this;return e.reduce(function(i,o){var s=r.cells[o.index];if(!s)return 0;var a=n.getLineHeight(s.styles.fontSize),l=s.padding("vertical"),u=l+a;return u>i?u:i},0)},t}(),wq=function(){function t(e,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=e;var o=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,o=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var s=o!=null?""+o:"",a=/\r\n|\r|\n/g;this.text=s.split(a)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*n,o=r*i+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=S2(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t}(),UMe=function(){function t(e,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=r}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,r=0,i=e.allRows();r<i.length;r++){var o=i[r],s=o.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(n=Math.max(n,s.styles.cellWidth))}return n},t}();function $Me(t,e){jMe(t,e);var n=[],r=0;e.columns.forEach(function(o){var s=o.getMaxCustomCellWidth(e);s?o.width=s:(o.width=o.wrappedWidth,n.push(o)),r+=o.width});var i=e.getWidth(t.pageSize().width)-r;i&&(i=tA(n,i,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),i&&(i=tA(n,i,function(o){return o.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),VMe(e),qMe(e,t),BMe(e)}function jMe(t,e){var n=t.scaleFactor(),r=e.settings.horizontalPageBreak,i=pq(t,e);e.allRows().forEach(function(o){for(var s=0,a=e.columns;s<a.length;s++){var l=a[s],u=o.cells[l.index];if(u){var c=e.hooks.didParseCell;e.callCellHooks(t,c,u,o,l,null);var f=u.padding("horizontal");u.contentWidth=Ow(u.text,u.styles,t)+f;var d=Ow(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=d+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||r===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var h=10/n;u.minWidth=u.styles.minCellWidth||h,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(o){for(var s=0,a=e.columns;s<a.length;s++){var l=a[s],u=o.cells[l.index];if(u&&u.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,u.wrappedWidth),l.minWidth=Math.max(l.minWidth,u.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,u.minReadableWidth);else{var c=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},f=c.cellWidth||c.minCellWidth;f&&typeof f=="number"&&(l.minWidth=f,l.wrappedWidth=f)}u&&(u.colSpan>1&&!l.minWidth&&(l.minWidth=u.minWidth),u.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=u.minWidth))}})}function tA(t,e,n){for(var r=e,i=t.reduce(function(h,y){return h+y.wrappedWidth},0),o=0;o<t.length;o++){var s=t[o],a=s.wrappedWidth/i,l=r*a,u=s.width+l,c=n(s),f=u<c?c:u;e-=f-s.width,s.width=f}if(e=Math.round(e*1e10)/1e10,e){var d=t.filter(function(h){return e<0?h.width>n(h):!0});d.length&&(e=tA(d,e,n))}return e}function BMe(t){for(var e={},n=1,r=t.allRows(),i=0;i<r.length;i++)for(var o=r[i],s=0,a=t.columns;s<a.length;s++){var l=a[s],u=e[l.index];if(n>1)n--,delete o.cells[l.index];else if(u)u.cell.height+=o.height,n=u.cell.colSpan,delete o.cells[l.index],u.left--,u.left<=1&&delete e[l.index];else{var c=o.cells[l.index];if(!c)continue;if(c.height=o.height,c.rowSpan>1){var f=r.length-i,d=c.rowSpan>f?f:c.rowSpan;e[l.index]={cell:c,left:d,row:o}}}}}function VMe(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],i=null,o=0,s=0,a=0;a<t.columns.length;a++){var l=t.columns[a];if(s-=1,s>1&&t.columns[a+1])o+=l.width,delete r.cells[l.index];else if(i){var u=i;delete r.cells[l.index],i=null,u.width=l.width+o}else{var u=r.cells[l.index];if(!u)continue;if(s=u.colSpan,o=0,u.colSpan>1){i=u,o+=l.width;continue}u.width=l.width+o}}}function qMe(t,e){for(var n={count:0,height:0},r=0,i=t.allRows();r<i.length;r++){for(var o=i[r],s=0,a=t.columns;s<a.length;s++){var l=a[s],u=o.cells[l.index];if(u){e.applyStyles(u.styles,!0);var c=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,c+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=ND(u.text,c,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=ND(u.text,c,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var f=u.styles.overflow(u.text,c);typeof f=="string"?u.text=[f]:u.text=f}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var d=u.contentHeight/u.rowSpan;u.rowSpan>1&&n.count*n.height<d*u.rowSpan?n={height:d,count:u.rowSpan}:n&&n.count>0&&n.height>d&&(d=n.height),d>o.height&&(o.height=d)}}n.count--}}function ND(t,e,n,r,i){return t.map(function(o){return zMe(o,e,n,r,i)})}function zMe(t,e,n,r,i){var o=1e4*r.scaleFactor();if(e=Math.ceil(e*o)/o,e>=Ow(t,n,r))return t;for(;e<Ow(t+i,n,r)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function _q(t,e){var n=new dh(t),r=HMe(e,n.scaleFactor()),i=new FMe(e,r);return $Me(n,i),n.applyStyles(n.userStyles),i}function HMe(t,e){var n=t.content,r=WMe(n.columns);if(n.head.length===0){var i=kD(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=kD(r,"foot");i&&n.foot.push(i)}var o=t.settings.theme,s=t.styles;return{columns:r,head:Nx("head",n.head,r,s,o,e),body:Nx("body",n.body,r,s,o,e),foot:Nx("foot",n.foot,r,s,o,e)}}function Nx(t,e,n,r,i,o){var s={},a=e.map(function(l,u){for(var c=0,f={},d=0,h=0,y=0,b=n;y<b.length;y++){var w=b[y];if(s[w.index]==null||s[w.index].left===0)if(h===0){var _=void 0;Array.isArray(l)?_=l[w.index-d-c]:_=l[w.dataKey];var S={};typeof _=="object"&&!Array.isArray(_)&&(S=(_==null?void 0:_.styles)||{});var E=KMe(t,w,u,i,r,o,S),k=new wq(_,E,t);f[w.dataKey]=k,f[w.index]=k,h=k.colSpan-1,s[w.index]={left:k.rowSpan-1,times:h}}else h--,d++;else s[w.index].left--,h=s[w.index].times,c++}return new yq(l,u,t,f)});return a}function kD(t,e){var n={};return t.forEach(function(r){if(r.raw!=null){var i=GMe(e,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function GMe(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function WMe(t){return t.map(function(e,n){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:n:i=n,new UMe(i,e,n)})}function KMe(t,e,n,r,i,o,s){var a=SMe(r),l;t==="head"?l=i.headStyles:t==="body"?l=i.bodyStyles:t==="foot"&&(l=i.footStyles);var u=Rl({},a.table,a[t],i.styles,l),c=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},f=t==="body"?c:{},d=t==="body"&&n%2===0?Rl({},a.alternateRow,i.alternateRowStyles):{},h=xMe(o),y=Rl({},h,u,d,f);return Rl(y,s)}function YMe(t,e,n){var r;n===void 0&&(n={});var i=pq(t,e),o=new Map,s=[],a=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(d){var h=e.columns.find(function(y){return y.dataKey===d||y.index===d});h&&!o.has(h.index)&&(o.set(h.index,!0),s.push(h.index),a.push(e.columns[h.index]),i-=h.wrappedWidth)});for(var u=!0,c=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;c<e.columns.length;){if(o.has(c)){c++;continue}var f=e.columns[c].wrappedWidth;if(u||i>=f)u=!1,s.push(c),a.push(e.columns[c]),i-=f;else break;c++}return{colIndexes:s,columns:a,lastIndex:c-1}}function JMe(t,e){for(var n=[],r=0;r<e.columns.length;r++){var i=YMe(t,e,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function bq(t,e){var n=e.settings,r=n.startY,i=n.margin,o={x:i.left,y:r},s=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),a=r+i.bottom+s;if(n.pageBreak==="avoid"){var l=e.body,u=l.reduce(function(d,h){return d+h.height},0);a+=u}var c=new dh(t);(n.pageBreak==="always"||n.startY!=null&&a>c.pageSize().height)&&(Sq(c),o.y=i.top),e.callWillDrawPageHooks(c,o);var f=Rl({},o);e.startPageNumber=c.pageNumber(),n.horizontalPageBreak?XMe(c,e,f,o):(c.applyStyles(c.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(d){return Jl(c,e,d,o,e.columns)}),c.applyStyles(c.userStyles),e.body.forEach(function(d,h){var y=h===e.body.length-1;Mw(c,e,d,y,f,o,e.columns)}),c.applyStyles(c.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(d){return Jl(c,e,d,o,e.columns)})),dq(c,e,f,o),e.callEndPageHooks(c,o),e.finalY=o.y,t.lastAutoTable=e,c.applyStyles(c.userStyles)}function XMe(t,e,n,r){var i=JMe(t,e),o=e.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,c){t.applyStyles(t.userStyles),c>0?Km(t,e,n,r,u.columns,!0):RD(t,e,r,u.columns),QMe(t,e,n,r,u.columns),kx(t,e,r,u.columns)});else for(var s=-1,a=i[0],l=function(){var u=s;if(a){t.applyStyles(t.userStyles);var c=a.columns;s>=0?Km(t,e,n,r,c,!0):RD(t,e,r,c),u=OD(t,e,s+1,r,c),kx(t,e,r,c)}var f=u-s;i.slice(1).forEach(function(d){t.applyStyles(t.userStyles),Km(t,e,n,r,d.columns,!0),OD(t,e,s+1,r,d.columns,f),kx(t,e,r,d.columns)}),s=u};s<e.body.length-1;)l()}function RD(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(o){return Jl(t,e,o,n,r)})}function QMe(t,e,n,r,i){t.applyStyles(t.userStyles),e.body.forEach(function(o,s){var a=s===e.body.length-1;Mw(t,e,o,a,n,r,i)})}function OD(t,e,n,r,i,o){t.applyStyles(t.userStyles),o=o??e.body.length;var s=Math.min(n+o,e.body.length),a=-1;return e.body.slice(n,s).forEach(function(l,u){var c=n+u===e.body.length-1,f=xq(t,e,c,r);l.canEntireRowFit(f,i)&&(Jl(t,e,l,r,i),a=n+u)}),a}function kx(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(o){return Jl(t,e,o,n,r)})}function ZMe(t,e,n){var r=n.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),o=Math.floor((e-i)/r);return Math.max(0,o)}function eLe(t,e,n,r){var i={};t.spansMultiplePages=!0,t.height=0;for(var o=0,s=0,a=n.columns;s<a.length;s++){var l=a[s],u=t.cells[l.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var c=new wq(u.raw,u.styles,u.section);c=Rl(c,u),c.text=[];var f=ZMe(u,e,r);u.text.length>f&&(c.text=u.text.splice(f,u.text.length));var d=r.scaleFactor(),h=r.getLineHeightFactor();u.contentHeight=u.getContentHeight(d,h),u.contentHeight>=e&&(u.contentHeight=e,c.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),c.contentHeight=c.getContentHeight(d,h),c.contentHeight>o&&(o=c.contentHeight),i[l.index]=c}}var y=new yq(t.raw,-1,t.section,i,!0);y.height=o;for(var b=0,w=n.columns;b<w.length;b++){var l=w[b],c=y.cells[l.index];c&&(c.height=y.height);var u=t.cells[l.index];u&&(u.height=t.height)}return y}function tLe(t,e,n,r){var i=t.pageSize().height,o=r.settings.margin,s=o.top+o.bottom,a=i-s;e.section==="body"&&(a-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var l=e.getMinimumRowHeight(r.columns,t),u=l<n;if(l>a)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var c=e.hasRowSpan(r.columns),f=e.getMaxCellHeight(r.columns)>a;return f?(c&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(c||r.settings.rowPageBreak==="avoid")}function Mw(t,e,n,r,i,o,s){var a=xq(t,e,r,o);if(n.canEntireRowFit(a,s))Jl(t,e,n,o,s);else if(tLe(t,n,a,e)){var l=eLe(n,a,e,t);Jl(t,e,n,o,s),Km(t,e,i,o,s),Mw(t,e,l,r,i,o,s)}else Km(t,e,i,o,s),Mw(t,e,n,r,i,o,s)}function Jl(t,e,n,r,i){r.x=e.settings.margin.left;for(var o=0,s=i;o<s.length;o++){var a=s[o],l=n.cells[a.index];if(!l){r.x+=a.width;continue}t.applyStyles(l.styles),l.x=r.x,l.y=r.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,l,n,a,r);if(u===!1){r.x+=a.width;continue}nLe(t,l,r);var c=l.getTextPos();uq(l.text,c.x,c.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,n,a,r),r.x+=a.width}r.y+=n.height}function nLe(t,e,n){var r=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=hq(r.lineWidth,r.fillColor);i&&t.rect(e.x,n.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),rLe(t,e,n,r.lineWidth))}function rLe(t,e,n,r){var i,o,s,a;r.top&&(i=n.x,o=n.y,s=n.x+e.width,a=n.y,r.right&&(s+=.5*r.right),r.left&&(i-=.5*r.left),l(r.top,i,o,s,a)),r.bottom&&(i=n.x,o=n.y+e.height,s=n.x+e.width,a=n.y+e.height,r.right&&(s+=.5*r.right),r.left&&(i-=.5*r.left),l(r.bottom,i,o,s,a)),r.left&&(i=n.x,o=n.y,s=n.x,a=n.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.left,i,o,s,a)),r.right&&(i=n.x+e.width,o=n.y,s=n.x+e.width,a=n.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.right,i,o,s,a));function l(u,c,f,d,h){t.getDocument().setLineWidth(u),t.getDocument().line(c,f,d,h,"S")}}function xq(t,e,n,r){var i=e.settings.margin.bottom,o=e.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&n)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-i}function Km(t,e,n,r,i,o){i===void 0&&(i=[]),o===void 0&&(o=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!o&&e.foot.forEach(function(a){return Jl(t,e,a,r,i)}),e.callEndPageHooks(t,r);var s=e.settings.margin;dq(t,e,n,r),Sq(t),e.pageNumber++,r.x=s.left,r.y=s.top,n.y=s.top,e.callWillDrawPageHooks(t,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(a){return Jl(t,e,a,r,i)}),t.applyStyles(t.userStyles))}function Sq(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function iLe(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=vq(this,r),o=_q(this,i);return bq(this,o),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,r,i){uq(e,n,r,i,this)},t.API.autoTableSetDefaults=function(e){return dh.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){dh.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new dh(this),o=gq(i,e,window,n,!1),s=o.head,a=o.body,l=((r=s[0])===null||r===void 0?void 0:r.map(function(u){return u.content}))||[];return{columns:l,rows:a,data:a}}}var Rx;function oLe(t,e){var n=vq(t,e),r=_q(t,n);bq(t,r)}try{if(typeof window<"u"&&window){var MD=window,LD=MD.jsPDF||((Rx=MD.jspdf)===null||Rx===void 0?void 0:Rx.jsPDF);LD&&iLe(LD)}}catch(t){console.error("Could not apply autoTable plugin",t)}const Eq=6048e5,sLe=864e5,Aq=6e4,Tq=36e5,DD=Symbol.for("constructDateFrom");function aa(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&DD in t?t[DD](e):t instanceof Date?new t.constructor(e):new Date(e)}function Qn(t,e){return aa(e||t,t)}function aLe(t,e,n){const r=Qn(t,n==null?void 0:n.in);return isNaN(e)?aa(t,NaN):(r.setDate(r.getDate()+e),r)}function FD(t,e,n){return aa(t,+Qn(t)+e)}let lLe={};function Dv(){return lLe}function Mf(t,e){var a,l,u,c;const n=Dv(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=Qn(t,e==null?void 0:e.in),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Lw(t,e){return Mf(t,{...e,weekStartsOn:1})}function Iq(t,e){const n=Qn(t,e==null?void 0:e.in),r=n.getFullYear(),i=aa(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const o=Lw(i),s=aa(n,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const a=Lw(s);return n.getTime()>=o.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function UD(t){const e=Qn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function uLe(t,...e){const n=aa.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function Dw(t,e){const n=Qn(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function cLe(t,e,n){const[r,i]=uLe(n==null?void 0:n.in,t,e),o=Dw(r),s=Dw(i),a=+o-UD(o),l=+s-UD(s);return Math.round((a-l)/sLe)}function fLe(t,e){const n=Iq(t,e),r=aa(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Lw(r)}function dLe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function hLe(t){return!(!dLe(t)&&typeof t!="number"||isNaN(+Qn(t)))}function $D(t,e){const n=Qn(t,e==null?void 0:e.in);return n.setHours(23,59,59,999),n}function pLe(t,e){const n=Qn(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function mLe(t,e){const n=Qn(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function gLe(t,e){const n=Qn(t,e==null?void 0:e.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function Pq(t,e){const n=Qn(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function jD(t,e){var a,l,u,c;const n=Dv(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=Qn(t,e==null?void 0:e.in),o=i.getDay(),s=(o<r?-7:0)+6-(o-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}const vLe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},yLe=(t,e,n)=>{let r;const i=vLe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Ox(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const wLe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_Le={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},bLe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},xLe={date:Ox({formats:wLe,defaultWidth:"full"}),time:Ox({formats:_Le,defaultWidth:"full"}),dateTime:Ox({formats:bLe,defaultWidth:"full"})},SLe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ELe=(t,e,n,r)=>SLe[t];function dm(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):s;i=t.formattingValues[a]||t.formattingValues[s]}else{const s=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[s]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const ALe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},TLe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ILe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},PLe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},CLe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},NLe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},kLe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},RLe={ordinalNumber:kLe,era:dm({values:ALe,defaultWidth:"wide"}),quarter:dm({values:TLe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:dm({values:ILe,defaultWidth:"wide"}),day:dm({values:PLe,defaultWidth:"wide"}),dayPeriod:dm({values:CLe,defaultWidth:"wide",formattingValues:NLe,defaultFormattingWidth:"wide"})};function hm(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const s=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?MLe(a,f=>f.test(s)):OLe(a,f=>f.test(s));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(s.length);return{value:u,rest:c}}}function OLe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function MLe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function LLe(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;const a=e.slice(i.length);return{value:s,rest:a}}}const DLe=/^(\d+)(th|st|nd|rd)?/i,FLe=/\d+/i,ULe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$Le={any:[/^b/i,/^(a|c)/i]},jLe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},BLe={any:[/1/i,/2/i,/3/i,/4/i]},VLe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},qLe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},zLe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},HLe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},GLe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},WLe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},KLe={ordinalNumber:LLe({matchPattern:DLe,parsePattern:FLe,valueCallback:t=>parseInt(t,10)}),era:hm({matchPatterns:ULe,defaultMatchWidth:"wide",parsePatterns:$Le,defaultParseWidth:"any"}),quarter:hm({matchPatterns:jLe,defaultMatchWidth:"wide",parsePatterns:BLe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:hm({matchPatterns:VLe,defaultMatchWidth:"wide",parsePatterns:qLe,defaultParseWidth:"any"}),day:hm({matchPatterns:zLe,defaultMatchWidth:"wide",parsePatterns:HLe,defaultParseWidth:"any"}),dayPeriod:hm({matchPatterns:GLe,defaultMatchWidth:"any",parsePatterns:WLe,defaultParseWidth:"any"})},YLe={code:"en-US",formatDistance:yLe,formatLong:xLe,formatRelative:ELe,localize:RLe,match:KLe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function JLe(t,e){const n=Qn(t,e==null?void 0:e.in);return cLe(n,Pq(n))+1}function XLe(t,e){const n=Qn(t,e==null?void 0:e.in),r=+Lw(n)-+fLe(n);return Math.round(r/Eq)+1}function Cq(t,e){var c,f,d,h;const n=Qn(t,e==null?void 0:e.in),r=n.getFullYear(),i=Dv(),o=(e==null?void 0:e.firstWeekContainsDate)??((f=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((h=(d=i.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,s=aa((e==null?void 0:e.in)||t,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);const a=Mf(s,e),l=aa((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const u=Mf(l,e);return+n>=+a?r+1:+n>=+u?r:r-1}function QLe(t,e){var a,l,u,c;const n=Dv(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,i=Cq(t,e),o=aa((e==null?void 0:e.in)||t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),Mf(o,e)}function ZLe(t,e){const n=Qn(t,e==null?void 0:e.in),r=+Mf(n,e)-+QLe(n,e);return Math.round(r/Eq)+1}function En(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Cu={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return En(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):En(n+1,2)},d(t,e){return En(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return En(t.getHours()%12||12,e.length)},H(t,e){return En(t.getHours(),e.length)},m(t,e){return En(t.getMinutes(),e.length)},s(t,e){return En(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return En(i,e.length)}},yd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},BD={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Cu.y(t,e)},Y:function(t,e,n,r){const i=Cq(t,r),o=i>0?i:1-i;if(e==="YY"){const s=o%100;return En(s,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):En(o,e.length)},R:function(t,e){const n=Iq(t);return En(n,e.length)},u:function(t,e){const n=t.getFullYear();return En(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return En(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return En(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Cu.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return En(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=ZLe(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):En(i,e.length)},I:function(t,e,n){const r=XLe(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):En(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Cu.d(t,e)},D:function(t,e,n){const r=JLe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):En(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return En(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return En(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return En(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=yd.noon:r===0?i=yd.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=yd.evening:r>=12?i=yd.afternoon:r>=4?i=yd.morning:i=yd.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Cu.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Cu.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):En(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):En(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Cu.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Cu.s(t,e)},S:function(t,e){return Cu.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return qD(r);case"XXXX":case"XX":return Kc(r);case"XXXXX":case"XXX":default:return Kc(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return qD(r);case"xxxx":case"xx":return Kc(r);case"xxxxx":case"xxx":default:return Kc(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+VD(r,":");case"OOOO":default:return"GMT"+Kc(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+VD(r,":");case"zzzz":default:return"GMT"+Kc(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return En(r,e.length)},T:function(t,e,n){return En(+t,e.length)}};function VD(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+En(o,2)}function qD(t,e){return t%60===0?(t>0?"-":"+")+En(Math.abs(t)/60,2):Kc(t,e)}function Kc(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=En(Math.trunc(r/60),2),o=En(r%60,2);return n+i+e+o}const zD=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Nq=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},eDe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return zD(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",zD(r,e)).replace("{{time}}",Nq(i,e))},tDe={p:Nq,P:eDe},nDe=/^D+$/,rDe=/^Y+$/,iDe=["D","DD","YY","YYYY"];function oDe(t){return nDe.test(t)}function sDe(t){return rDe.test(t)}function aDe(t,e,n){const r=lDe(t,e,n);if(console.warn(r),iDe.includes(t))throw new RangeError(r)}function lDe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const uDe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cDe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fDe=/^'([^]*?)'?$/,dDe=/''/g,hDe=/[a-zA-Z]/;function vo(t,e,n){var c,f,d,h;const r=Dv(),i=r.locale??YLe,o=r.firstWeekContainsDate??((f=(c=r.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??1,s=r.weekStartsOn??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,a=Qn(t,n==null?void 0:n.in);if(!hLe(a))throw new RangeError("Invalid time value");let l=e.match(cDe).map(y=>{const b=y[0];if(b==="p"||b==="P"){const w=tDe[b];return w(y,i.formatLong)}return y}).join("").match(uDe).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const b=y[0];if(b==="'")return{isToken:!1,value:pDe(y)};if(BD[b])return{isToken:!0,value:y};if(b.match(hDe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const u={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return l.map(y=>{if(!y.isToken)return y.value;const b=y.value;(sDe(b)||oDe(b))&&aDe(b,e,String(t));const w=BD[b[0]];return w(a,b,i.localize,u)}).join("")}function pDe(t){const e=t.match(fDe);return e?e[1].replace(dDe,"'"):t}function mDe(t,e,n){const r=+Qn(t,n==null?void 0:n.in),[i,o]=[+Qn(e.start,n==null?void 0:n.in),+Qn(e.end,n==null?void 0:n.in)].sort((s,a)=>s-a);return r>=i&&r<=o}function gDe(t,e,n){return aLe(t,-7,n)}function no(t,e){const n=()=>aa(e==null?void 0:e.in,NaN),i=_De(t);let o;if(i.date){const u=bDe(i.date,2);o=xDe(u.restDateString,u.year)}if(!o||isNaN(+o))return n();const s=+o;let a=0,l;if(i.time&&(a=SDe(i.time),isNaN(a)))return n();if(i.timezone){if(l=EDe(i.timezone),isNaN(l))return n()}else{const u=new Date(s+a),c=Qn(0,e==null?void 0:e.in);return c.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),c.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),c}return Qn(s+a+l,e==null?void 0:e.in)}const i0={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},vDe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,yDe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,wDe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function _De(t){const e={},n=t.split(i0.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],i0.timeZoneDelimiter.test(e.date)&&(e.date=t.split(i0.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=i0.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function bDe(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:t.slice((r[1]||r[2]).length)}}function xDe(t,e){if(e===null)return new Date(NaN);const n=t.match(vDe);if(!n)return new Date(NaN);const r=!!n[4],i=pm(n[1]),o=pm(n[2])-1,s=pm(n[3]),a=pm(n[4]),l=pm(n[5])-1;if(r)return CDe(e,a,l)?ADe(e,a,l):new Date(NaN);{const u=new Date(0);return!IDe(e,o,s)||!PDe(e,i)?new Date(NaN):(u.setUTCFullYear(e,o,Math.max(i,s)),u)}}function pm(t){return t?parseInt(t):1}function SDe(t){const e=t.match(yDe);if(!e)return NaN;const n=Mx(e[1]),r=Mx(e[2]),i=Mx(e[3]);return NDe(n,r,i)?n*Tq+r*Aq+i*1e3:NaN}function Mx(t){return t&&parseFloat(t.replace(",","."))||0}function EDe(t){if(t==="Z")return 0;const e=t.match(wDe);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return kDe(r,i)?n*(r*Tq+i*Aq):NaN}function ADe(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,o=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}const TDe=[31,null,31,30,31,30,31,31,30,31,30,31];function kq(t){return t%400===0||t%4===0&&t%100!==0}function IDe(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(TDe[e]||(kq(t)?29:28))}function PDe(t,e){return e>=1&&e<=(kq(t)?366:365)}function CDe(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function NDe(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function kDe(t,e){return e>=0&&e<=59}function RDe(t,e,n){const r=Qn(t,n==null?void 0:n.in);return r.setHours(e),r}function ODe(t,e,n){const r=Qn(t,n==null?void 0:n.in);return r.setMinutes(e),r}const MDe={knowJobSafety:"Job Safety",weatherCheck:"Weather",safePassInDate:"Safe Pass",hazardAwareness:"Hazards",floorConditions:"Floors",manualHandlingCert:"Manual Handling",liftingHelp:"Lifting Help",anchorPoints:"Anchor Points",ladderFooting:"Ladder Footing",safetyCones:"Cones",communication:"Communc.",laddersCheck:"Ladders",sharpEdges:"Sharp Edges",scraperCovers:"Scraper Covers",hotSurfaces:"Hot Surfaces",chemicalCourse:"Chem. Course",chemicalAwareness:"Chem. Awareness",tidyEquipment:"Tidy Equip.",laddersStored:"Ladders Stored",highVis:"PPE: High Vis",helmet:"PPE: Helmet",goggles:"PPE: Goggles",gloves:"PPE: Gloves",mask:"PPE: Mask",earMuffs:"PPE: Ear Muffs",faceGuard:"PPE: Face Guard",harness:"PPE: Harness",boots:"PPE: Boots"},LDe={knowJobSafety:!0,weatherCheck:!0,safePassInDate:!0,hazardAwareness:!0,floorConditions:!0,manualHandlingCert:!0,liftingHelp:!0,anchorPoints:!0,ladderFooting:!0,safetyCones:!0,communication:!0,laddersCheck:!0,sharpEdges:!0,scraperCovers:!0,hotSurfaces:!0,chemicalCourse:!0,chemicalAwareness:!0,tidyEquipment:!0,laddersStored:!0,highVis:!0,helmet:!0,goggles:!0,gloves:!0,mask:!0,earMuffs:!0,faceGuard:!0,harness:!0,boots:!0},DDe=()=>{const{user:t}=wp(),[e,n]=fe.useState([]),[r,i]=fe.useState([]),[o,s]=fe.useState([]),[a,l]=fe.useState((t==null?void 0:t.id)||"all"),[u,c]=fe.useState("weekly"),[f,d]=fe.useState(vo(gDe(new Date),"yyyy-MM-dd")),[h,y]=fe.useState(vo(new Date,"yyyy-MM-dd")),[b,w]=fe.useState(!0),[_,S]=fe.useState(!1),[E,k]=fe.useState(!1),[R,F]=fe.useState([]),[N,C]=fe.useState({userId:"",date:vo(new Date,"yyyy-MM-dd"),locationName:"",hours:4}),[T,$]=fe.useState(null),[P,D]=fe.useState(""),[U,W]=fe.useState(0),[re,le]=fe.useState(!1),ue=(t==null?void 0:t.role)===ln.ADMIN,Q=async()=>{if(t){w(!0);try{let ne=[];if(t.role===ln.ADMIN){const[de,Ce]=await Promise.all([rn.getAllRecords(),rn.getAllUsers()]);ne=de;const ke=Ce.filter(Y=>Y.role===ln.EMPLOYEE);s(ke),!N.userId&&ke.length>0&&C(Y=>({...Y,userId:ke[0].id}))}else ne=await rn.getRecordsByUser(t.id),s([t]),l(t.id);n(ne)}catch(ne){console.error("Error loading report data:",ne)}finally{w(!1)}}};fe.useEffect(()=>{Q()},[t]),fe.useEffect(()=>{(async()=>{if(_&&N.userId)try{const de=await rn.getSchedulesByUser(N.userId),Ce=Array.from(new Set(de.map(ke=>ke.locationName)));F(Ce),!E&&Ce.length>0&&!Ce.includes(N.locationName)?C(ke=>({...ke,locationName:Ce[0]})):Ce.length===0&&k(!0)}catch(de){console.error("Error fetching schedules for manual entry:",de)}})()},[N.userId,_]),fe.useEffect(()=>{let ne=[...e];(t==null?void 0:t.role)===ln.ADMIN&&a!=="all"?ne=ne.filter(Y=>Y.userId===a):(t==null?void 0:t.role)!==ln.ADMIN&&(ne=ne.filter(Y=>Y.userId===(t==null?void 0:t.id)));const de=new Date;let Ce,ke;switch(u){case"daily":Ce=Dw(de),ke=$D(de);break;case"weekly":Ce=Mf(de,{weekStartsOn:1}),ke=jD(de,{weekStartsOn:1});break;case"monthly":Ce=mLe(de),ke=pLe(de);break;case"yearly":Ce=Pq(de),ke=gLe(de);break;case"custom":Ce=Dw(no(f)),ke=$D(no(h));break;default:Ce=Mf(de,{weekStartsOn:1}),ke=jD(de,{weekStartsOn:1})}ne=ne.filter(Y=>{const Ue=no(Y.startTime);return mDe(Ue,{start:Ce,end:ke})}),i(ne)},[a,u,f,h,e,t]);const ae=ne=>{const de=Math.floor(ne/36e5),Ce=Math.floor(ne%36e5/6e4);return`${de}h ${Ce}min`},ye=()=>r.reduce((de,Ce)=>{if(!Ce.endTime)return de;const ke=new Date(Ce.startTime).getTime(),Y=new Date(Ce.endTime).getTime(),Ue=Ce.totalPausedMs||0;return de+(Y-ke-Ue)},0),ge=()=>{const ne={};return r.forEach(de=>{if(!de.endTime)return;const Ce=no(de.date),ke=vo(Ce,"dd/MM"),Y=no(de.startTime),Ue=no(de.endTime),et=de.totalPausedMs||0,Ye=(Ue.getTime()-Y.getTime()-et)/36e5;ne[ke]=(ne[ke]||0)+Ye}),Object.keys(ne).map(de=>({name:de,hours:Number(ne[de].toFixed(2)),formatted:ae(ne[de]*36e5)}))},B=ne=>ne?`${ne.lat.toFixed(4)}, ${ne.lng.toFixed(4)}`:"N/A",G=ne=>ne?`https://www.google.com/maps?q=${ne.lat},${ne.lng}`:null,te=ne=>ne?Object.entries(ne).filter(([de,Ce])=>Ce===!0).map(([de,Ce])=>MDe[de]||de):[],ce=ne=>{$(ne.id),D(ne.locationName);const de=new Date(ne.startTime).getTime(),Ce=ne.endTime?new Date(ne.endTime).getTime():Date.now(),ke=ne.totalPausedMs||0,Y=(Ce-de-ke)/36e5;W(Number(Y.toFixed(2)))},pe=async ne=>{le(!0);try{const de=U*36e5,Ce=new Date(ne.startTime),ke=ne.totalPausedMs||0,Y=FD(Ce,de+ke).toISOString();await rn.updateRecord(ne.id,{locationName:P,endTime:Y}),$(null),await Q()}catch(de){console.error(de),alert("Failed to update record.")}finally{le(!1)}},_e=async ne=>{if(window.confirm("Are you sure you want to delete this shift record? This action cannot be undone.")){le(!0);try{await rn.deleteRecord(ne),await Q()}catch(de){console.error(de),alert("Failed to delete record.")}finally{le(!1)}}},Te=async()=>{if(!N.locationName||!N.userId){alert("Please fill location and employee.");return}le(!0);try{const ne=no(N.date),de=RDe(ODe(ne,0),8),Ce=FD(de,N.hours*36e5),ke={userId:N.userId,locationName:N.locationName,date:N.date,startTime:de.toISOString(),endTime:Ce.toISOString(),safetyChecklist:{...LDe},totalPausedMs:0,isPaused:!1};await rn.addRecord(ke),await Q(),S(!1),C(Y=>({...Y,locationName:"",hours:4}))}catch(ne){console.error(ne),alert("Failed to add manual shift.")}finally{le(!1)}},ee=()=>{const ne=new pt("l","mm","a4"),de=o.find(ke=>ke.id===a)||t,Ce=new Image;Ce.src="logo.png",Ce.onload=()=>{ne.addImage(Ce,"PNG",14,8,25,25),me(ne,de)},Ce.onerror=()=>{me(ne,de)}},me=(ne,de)=>{ne.setFontSize(22),ne.setTextColor(0,84,139),ne.text("DOWNEY CLEANING SERVICES",42,18),ne.setFontSize(8),ne.setTextColor(255,194,14),ne.text("PROFESSIONAL HYGIENE SOLUTIONS",42,23),ne.setFontSize(10),ne.setTextColor(100),ne.text(`Official Service Report: ${(de==null?void 0:de.name)||"All Users"}`,42,30),ne.text(`Total Period Hours: ${ae(ye())}`,42,35),ne.text(`Generated: ${vo(new Date,"dd/MM/yyyy HH:mm")}`,280,15,{align:"right"});const Ce=r.sort((Y,Ue)=>new Date(Ue.startTime).getTime()-new Date(Y.startTime).getTime()).map(Y=>{const Ue=new Date(Y.startTime).getTime(),et=Y.endTime?new Date(Y.endTime).getTime():Date.now(),Ye=Y.totalPausedMs||0,Le=ae(et-Ue-Ye),nt=te(Y.safetyChecklist).join(", ");return[vo(no(Y.date),"dd/MM/yyyy"),Y.locationName,`${vo(no(Y.startTime),"HH:mm")} - ${Y.endTime?vo(no(Y.endTime),"HH:mm"):"Active"}`,Le,nt||"None",`GPS IN: ${B(Y.startLocation)}
GPS OUT: ${B(Y.endLocation)}`,Y.endTime?"COMPLETED":"IN PROGRESS"]});oLe(ne,{head:[["DATE","SITE LOCATION","SHIFT TIME","DURATION","SAFETY COMPLIANCE","GPS LOGS","STATUS"]],body:Ce,startY:42,styles:{fontSize:7,cellPadding:2,font:"helvetica",overflow:"linebreak"},columnStyles:{4:{cellWidth:50},5:{cellWidth:35}},headStyles:{fillColor:[0,84,139],textColor:[255,255,255],fontStyle:"bold"},alternateRowStyles:{fillColor:[240,247,255]}});const ke=ne.lastAutoTable.finalY||50;ne.setFontSize(12),ne.setTextColor(0,84,139),ne.text(`Grand Total Worked: ${ae(ye())}`,14,ke+15),ne.save(`Downey_Cleaning_Report_${vo(new Date,"yyyyMMdd")}.pdf`)};return b&&e.length===0?A.jsx("div",{className:"flex justify-center p-8",children:A.jsx(Br,{className:"animate-spin text-brand-600",size:32})}):A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("div",{className:"bg-white p-2 rounded-xl shadow-sm hidden md:block border border-gray-100",children:A.jsx("img",{src:"logo.png",alt:"Downey Logo",className:"w-12 h-auto",onError:ne=>ne.currentTarget.style.display="none"})}),A.jsxs("div",{children:[A.jsx("h2",{className:"text-2xl font-black text-brand-600 tracking-tight",children:"Activity Reports"}),A.jsx("p",{className:"text-xs text-gray-400 font-bold uppercase tracking-widest mt-1",children:"Official staff logs and compliance evidence"})]})]}),A.jsxs("div",{className:"flex gap-2",children:[ue&&A.jsxs(Vn,{onClick:()=>S(!_),variant:"outline",className:"border-brand-600 text-brand-600 hover:bg-brand-50 rounded-xl font-bold",children:[_?A.jsx(Sl,{size:18,className:"mr-2"}):A.jsx(T4,{size:18,className:"mr-2"}),_?"Cancel":"Manual Shift"]}),A.jsxs(Vn,{onClick:ee,className:"shadow-lg bg-brand-600 hover:bg-brand-900 font-bold rounded-xl",children:[A.jsx(Pue,{size:18,className:"mr-2"})," Export PDF"]})]})]}),_&&ue&&A.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-brand-100 animate-fade-in space-y-4",children:[A.jsxs("div",{className:"flex items-center gap-2 border-b border-gray-100 pb-3 mb-4",children:[A.jsx(T4,{className:"text-brand-600",size:20}),A.jsx("h3",{className:"font-black text-brand-900 text-sm uppercase tracking-widest",children:"Register Manual Operational Shift"})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[A.jsxs("div",{className:"flex flex-col",children:[A.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase mb-1 tracking-widest",children:"User"}),A.jsxs("div",{className:"relative",children:[A.jsx(N_,{className:"absolute left-3 top-3 text-gray-400",size:16}),A.jsx("select",{className:"w-full border p-2.5 pl-10 rounded-xl bg-gray-50 text-sm font-bold focus:ring-2 focus:ring-brand-500 transition-all outline-none",value:N.userId,onChange:ne=>C({...N,userId:ne.target.value}),children:o.map(ne=>A.jsx("option",{value:ne.id,children:ne.name},ne.id))})]})]}),A.jsxs("div",{className:"flex flex-col",children:[A.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase mb-1 tracking-widest",children:"Shift Date"}),A.jsxs("div",{className:"relative",children:[A.jsx(ka,{className:"absolute left-3 top-3 text-gray-400",size:16}),A.jsx("input",{type:"date",className:"w-full border p-2.5 pl-10 rounded-xl bg-gray-50 text-sm font-bold outline-none",value:N.date,onChange:ne=>C({...N,date:ne.target.value})})]})]}),A.jsxs("div",{className:"flex flex-col",children:[A.jsxs("div",{className:"flex justify-between items-center mb-1",children:[A.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Location Name"}),A.jsxs("button",{onClick:()=>k(!E),className:"text-[9px] font-black text-brand-600 uppercase flex items-center gap-1 hover:text-brand-800",children:[E?A.jsx(vE,{size:10}):A.jsx(Lue,{size:10}),E?"Select from Schedule":"Manual Entry"]})]}),A.jsxs("div",{className:"relative",children:[A.jsx(ws,{className:"absolute left-3 top-3 text-gray-400",size:16}),E||R.length===0?A.jsx("input",{type:"text",placeholder:"Type site name...",className:"w-full border p-2.5 pl-10 rounded-xl bg-gray-50 text-sm font-bold outline-none border-brand-200 focus:border-brand-500",value:N.locationName,onChange:ne=>C({...N,locationName:ne.target.value})}):A.jsx("select",{className:"w-full border p-2.5 pl-10 rounded-xl bg-gray-50 text-sm font-bold outline-none appearance-none",value:N.locationName,onChange:ne=>C({...N,locationName:ne.target.value}),children:R.map(ne=>A.jsx("option",{value:ne,children:ne},ne))}),!E&&R.length>0&&A.jsx(vE,{className:"absolute right-3 top-3 text-gray-400 pointer-events-none",size:16})]})]}),A.jsxs("div",{className:"flex flex-col",children:[A.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase mb-1 tracking-widest",children:"Duration (Hours)"}),A.jsxs("div",{className:"relative flex gap-2",children:[A.jsxs("div",{className:"relative flex-1",children:[A.jsx(rh,{className:"absolute left-3 top-3 text-gray-400",size:16}),A.jsx("input",{type:"number",step:"0.5",className:"w-full border p-2.5 pl-10 rounded-xl bg-gray-50 text-sm font-bold outline-none",value:N.hours,onChange:ne=>C({...N,hours:Number(ne.target.value)})})]}),A.jsx(Vn,{onClick:Te,disabled:re,className:"rounded-xl px-4 h-[45px]",children:re?A.jsx(Br,{className:"animate-spin"}):A.jsx(C1,{size:18})})]})]})]})]}),A.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-gray-100 flex flex-wrap gap-4 items-end",children:[ue&&A.jsxs("div",{className:"flex flex-col min-w-[180px]",children:[A.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase mb-1 tracking-widest",children:"User Filter"}),A.jsxs("select",{className:"border p-2.5 rounded-xl bg-gray-50 text-sm font-bold focus:ring-2 focus:ring-brand-500 transition-all",value:a,onChange:ne=>l(ne.target.value),children:[A.jsx("option",{value:"all",children:"All Users"}),o.map(ne=>A.jsx("option",{value:ne.id,children:ne.name},ne.id))]})]}),A.jsxs("div",{className:"flex flex-col min-w-[150px]",children:[A.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase mb-1 tracking-widest",children:"Timeframe"}),A.jsxs("select",{className:"border p-2.5 rounded-xl bg-gray-50 text-sm font-bold focus:ring-2 focus:ring-brand-500 transition-all",value:u,onChange:ne=>c(ne.target.value),children:[A.jsx("option",{value:"daily",children:"Today"}),A.jsx("option",{value:"weekly",children:"Weekly"}),A.jsx("option",{value:"monthly",children:"Monthly"}),A.jsx("option",{value:"yearly",children:"Yearly"}),A.jsx("option",{value:"custom",children:"Custom Range"})]})]}),u==="custom"&&A.jsxs("div",{className:"flex gap-2",children:[A.jsxs("div",{className:"flex flex-col",children:[A.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase mb-1 tracking-widest",children:"Start"}),A.jsx("input",{type:"date",className:"border p-2.5 rounded-xl text-sm font-bold bg-gray-50",value:f,onChange:ne=>d(ne.target.value)})]}),A.jsxs("div",{className:"flex flex-col",children:[A.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase mb-1 tracking-widest",children:"End"}),A.jsx("input",{type:"date",className:"border p-2.5 rounded-xl text-sm font-bold bg-gray-50",value:h,onChange:ne=>y(ne.target.value)})]})]}),A.jsx("div",{className:"flex-1"}),A.jsxs("div",{className:"bg-brand-accent p-6 rounded-2xl shadow-xl flex flex-col items-center justify-center min-w-[200px] border-b-4 border-yellow-600 scale-105 transform",children:[A.jsx("span",{className:"text-[10px] font-black text-brand-900 uppercase tracking-widest mb-1",children:"Period Total"}),A.jsxs("span",{className:"text-3xl font-black text-brand-900 flex items-center gap-2",children:[A.jsx(rh,{size:24})," ",ae(ye())]})]})]}),A.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 h-80 shadow-sm relative overflow-hidden",children:[A.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5",children:A.jsx("img",{src:"logo.png",className:"w-40 h-auto"})}),A.jsxs("h3",{className:"text-xs font-black text-gray-400 uppercase tracking-widest mb-6 flex items-center gap-2",children:[A.jsx(ka,{size:14,className:"text-brand-accent"})," Operational Hours Trend"]}),A.jsx(fbe,{width:"100%",height:"80%",children:A.jsxs(k4e,{data:ge(),children:[A.jsx(rV,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),A.jsx(y2,{dataKey:"name",tick:{fontSize:10,fill:"#94a3b8"},axisLine:!1,tickLine:!1}),A.jsx(w2,{tick:{fontSize:10,fill:"#94a3b8"},axisLine:!1,tickLine:!1}),A.jsx(Na,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"},cursor:{fill:"#f0f9ff"},formatter:(ne,de,Ce)=>[Ce.payload.formatted,"Duration"]}),A.jsx(Kf,{dataKey:"hours",fill:"#00548b",radius:[6,6,0,0],barSize:28})]})})]}),A.jsx("div",{className:"bg-white rounded-2xl border border-gray-100 overflow-hidden shadow-sm",children:A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full text-left text-sm",children:[A.jsx("thead",{className:"bg-gray-50 text-gray-400 font-black uppercase text-[10px] tracking-[0.2em]",children:A.jsxs("tr",{children:[A.jsx("th",{className:"p-4",children:"Date / User"}),A.jsx("th",{className:"p-4",children:"Location"}),A.jsx("th",{className:"p-4",children:"Duration"}),A.jsx("th",{className:"p-4",children:"Safety"}),A.jsx("th",{className:"p-4",children:"GPS Log"}),A.jsx("th",{className:"p-4",children:"Evidence"}),A.jsx("th",{className:"p-4 text-center",children:"Status"}),ue&&A.jsx("th",{className:"p-4 text-center",children:"Admin"})]})}),A.jsxs("tbody",{className:"divide-y divide-gray-100",children:[r.sort((ne,de)=>new Date(de.startTime).getTime()-new Date(ne.startTime).getTime()).map(ne=>{var Ye;const de=T===ne.id,Ce=new Date(ne.startTime).getTime(),ke=ne.endTime?new Date(ne.endTime).getTime():Date.now(),Y=ne.totalPausedMs||0,Ue=ke-Ce-Y,et=te(ne.safetyChecklist);return A.jsxs("tr",{className:`hover:bg-brand-50/30 transition-colors group ${de?"bg-brand-50":""}`,children:[A.jsxs("td",{className:"p-4",children:[A.jsx("div",{className:"font-bold text-gray-900",children:vo(no(ne.date),"dd/MM/yyyy")}),A.jsx("div",{className:"text-[10px] text-gray-400 font-bold uppercase mt-0.5 tracking-wider",children:((Ye=o.find(Le=>Le.id===ne.userId))==null?void 0:Ye.name)||"User"})]}),A.jsx("td",{className:"p-4",children:de?A.jsx("input",{type:"text",className:"border rounded px-2 py-1 text-sm font-bold w-full",value:P,onChange:Le=>D(Le.target.value)}):A.jsx("div",{className:"font-black text-brand-600",children:ne.locationName})}),A.jsx("td",{className:"p-4 font-black text-brand-900",children:de?A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx("input",{type:"number",step:"0.1",className:"border rounded px-2 py-1 text-sm font-bold w-16",value:U,onChange:Le=>W(Number(Le.target.value))}),A.jsx("span",{className:"text-xs",children:"h"})]}):A.jsxs(A.Fragment,{children:[ae(Ue),A.jsxs("div",{className:"text-[9px] text-gray-400 font-mono mt-0.5",children:[vo(no(ne.startTime),"HH:mm"),"  ",ne.endTime?vo(no(ne.endTime),"HH:mm"):"..."]})]})}),A.jsx("td",{className:"p-4",children:A.jsx("div",{className:"flex flex-wrap gap-1 max-w-[150px]",children:et.length>0?A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"flex items-center gap-1 bg-green-50 text-green-700 px-1.5 py-0.5 rounded text-[9px] font-black border border-green-100",children:[A.jsx(Yc,{size:10})," ",et.length," ITEMS"]}),A.jsxs("div",{className:"hidden group-hover:flex absolute z-50 bg-white p-3 rounded-xl shadow-2xl border border-gray-100 flex-col gap-1 min-w-[180px] -mt-2",children:[A.jsx("p",{className:"text-[10px] font-black text-brand-600 uppercase border-b pb-1 mb-1",children:"Safety Compliance List"}),et.map((Le,nt)=>A.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-gray-600",children:[A.jsx("div",{className:"w-1 h-1 bg-green-500 rounded-full"})," ",Le]},nt))]})]}):A.jsx("span",{className:"text-[9px] text-gray-400 font-bold italic",children:"No data"})})}),A.jsx("td",{className:"p-4",children:A.jsxs("div",{className:"flex flex-col gap-1 text-[9px] text-gray-400 font-mono",children:[ne.startLocation?A.jsxs("a",{href:G(ne.startLocation)||"#",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 hover:text-brand-600 hover:underline transition-colors",children:[A.jsx(ws,{size:10,className:"text-green-500"}),"IN: ",B(ne.startLocation),A.jsx(yE,{size:8,className:"opacity-50"})]}):A.jsxs("span",{className:"flex items-center gap-1",children:[A.jsx(ws,{size:10,className:"text-gray-300"})," IN: N/A"]}),ne.endLocation?A.jsxs("a",{href:G(ne.endLocation)||"#",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 hover:text-brand-600 hover:underline transition-colors",children:[A.jsx(ws,{size:10,className:"text-red-500"}),"OUT: ",B(ne.endLocation),A.jsx(yE,{size:8,className:"opacity-50"})]}):A.jsxs("span",{className:"flex items-center gap-1",children:[A.jsx(ws,{size:10,className:"text-gray-300"})," OUT: N/A"]})]})}),A.jsx("td",{className:"p-4",children:A.jsxs("div",{className:"flex gap-2",children:[ne.photoUrl&&A.jsx("a",{href:ne.photoUrl,target:"_blank",rel:"noreferrer",className:"relative hover:scale-110 transition-transform",children:A.jsx("img",{src:ne.photoUrl,className:"w-10 h-10 rounded-xl shadow-md object-cover border-2 border-white ring-1 ring-gray-100",alt:"IN"})}),ne.endPhotoUrl&&A.jsx("a",{href:ne.endPhotoUrl,target:"_blank",rel:"noreferrer",className:"relative hover:scale-110 transition-transform",children:A.jsx("img",{src:ne.endPhotoUrl,className:"w-10 h-10 rounded-xl shadow-md object-cover border-2 border-white ring-1 ring-gray-100",alt:"OUT"})}),!ne.photoUrl&&!ne.endPhotoUrl&&A.jsx("div",{className:"w-10 h-10 bg-gray-50 rounded-xl border border-dashed border-gray-200 flex items-center justify-center text-gray-300",children:A.jsx(Oue,{size:14})})]})}),A.jsx("td",{className:"p-4 text-center",children:A.jsx("span",{className:`inline-block px-3 py-1.5 rounded-xl text-[9px] font-black uppercase tracking-widest ${ne.endTime?"bg-green-100 text-green-700 border border-green-200":"bg-brand-accent text-brand-900 border border-brand-accent animate-pulse"}`,children:ne.endTime?"Verified":"Active"})}),ue&&A.jsx("td",{className:"p-4 text-center",children:A.jsx("div",{className:"flex justify-center gap-1",children:de?A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:()=>pe(ne),disabled:re,className:"p-1.5 bg-brand-600 text-white rounded-lg hover:bg-brand-700 transition-colors",children:re?A.jsx(Br,{size:14,className:"animate-spin"}):A.jsx(P1,{size:14})}),A.jsx("button",{onClick:()=>$(null),className:"p-1.5 bg-gray-200 text-gray-600 rounded-lg hover:bg-gray-300 transition-colors",children:A.jsx(Sl,{size:14})})]}):A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:()=>ce(ne),className:"p-2 text-brand-600 hover:bg-brand-50 rounded-lg transition-colors",title:"Edit Record",children:A.jsx(C_,{size:16})}),A.jsx("button",{onClick:()=>_e(ne.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Record",children:A.jsx(N1,{size:16})})]})})})]},ne.id)}),r.length===0&&A.jsx("tr",{children:A.jsx("td",{colSpan:ue?8:7,className:"p-20 text-center text-gray-400 italic font-bold",children:"No operational data found for this period."})})]})]})})})]})},FDe=()=>{const{user:t,logout:e}=wp(),[n,r]=fe.useState(!1),[i,o]=fe.useState(!1),[s,a]=fe.useState(!1),[l,u]=fe.useState(""),[c,f]=fe.useState({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||"",pps:(t==null?void 0:t.pps)||""}),[d,h]=fe.useState({newPass:"",confirmPass:""});if(!t)return null;const y=async()=>{a(!0),u("");try{c.email!==t.email&&await ine(c.email),await rn.updateUser(t.id,{name:c.name,email:c.email,phone:c.phone,pps:c.pps}),alert("Profile updated successfully!"),r(!1),window.location.reload()}catch(w){u(w.message||"Error updating profile. Email changes may require a recent login.")}finally{a(!1)}},b=async()=>{if(d.newPass!==d.confirmPass){u("Passwords do not match");return}if(d.newPass.length<6){u("Password must be at least 6 characters");return}a(!0),u("");try{await one(d.newPass),alert("Password updated successfully!"),o(!1),h({newPass:"",confirmPass:""})}catch(w){u(w.message||"Error updating password. You might need to log in again.")}finally{a(!1)}};return A.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:A.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100",children:[A.jsxs("div",{className:"bg-brand-900 h-32 relative",children:[A.jsx("div",{className:"absolute -bottom-16 left-8",children:A.jsx("div",{className:"w-32 h-32 bg-white rounded-full p-2 shadow-lg",children:A.jsx("div",{className:"w-full h-full bg-slate-100 rounded-full flex items-center justify-center text-slate-300",children:A.jsx(N_,{size:64})})})}),A.jsx("div",{className:"absolute bottom-4 right-8 flex gap-2",children:!n&&!i&&A.jsxs(A.Fragment,{children:[A.jsxs(Vn,{size:"sm",variant:"outline",className:"bg-white/10 text-white border-white/20 hover:bg-white/20",onClick:()=>r(!0),children:[A.jsx(C_,{size:16,className:"mr-2"})," Edit Profile"]}),A.jsxs(Vn,{size:"sm",variant:"outline",className:"bg-white/10 text-white border-white/20 hover:bg-white/20",onClick:()=>o(!0),children:[A.jsx(wE,{size:16,className:"mr-2"})," Security"]})]})})]}),A.jsxs("div",{className:"pt-20 pb-8 px-8",children:[A.jsx("div",{className:"flex justify-between items-start",children:A.jsxs("div",{children:[A.jsx("h1",{className:"text-3xl font-black text-gray-900 tracking-tight",children:t.name}),A.jsx("p",{className:"text-brand-600 font-bold mt-1 uppercase text-xs tracking-widest",children:t.role===ln.ADMIN?"System Administrator":"Cleaning Professional"})]})}),l&&A.jsx("div",{className:"mt-4 p-3 bg-red-50 text-red-600 rounded-lg text-xs font-bold border border-red-100",children:l}),n?A.jsxs("div",{className:"mt-8 space-y-4 animate-fade-in",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsx(Ur,{label:"Full Name",value:c.name,onChange:w=>f({...c,name:w.target.value})}),A.jsx(Ur,{label:"Email Address",value:c.email,onChange:w=>f({...c,email:w.target.value})}),A.jsx(Ur,{label:"Phone Number",value:c.phone,onChange:w=>f({...c,phone:w.target.value})}),A.jsx(Ur,{label:"PPS Number",value:c.pps,onChange:w=>f({...c,pps:w.target.value})})]}),A.jsxs("div",{className:"flex gap-3 pt-4",children:[A.jsx(Vn,{variant:"outline",fullWidth:!0,onClick:()=>r(!1),children:"Cancel"}),A.jsx(Vn,{fullWidth:!0,onClick:y,disabled:s,children:s?A.jsx(Br,{className:"animate-spin"}):A.jsxs(A.Fragment,{children:[A.jsx(C1,{size:18,className:"mr-2"})," Save Changes"]})})]})]}):i?A.jsxs("div",{className:"mt-8 space-y-4 animate-fade-in",children:[A.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2 mb-2",children:[A.jsx(wE,{size:18,className:"text-brand-600"})," Change Password"]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsx(Ur,{label:"New Password",type:"password",placeholder:"At least 6 chars",value:d.newPass,onChange:w=>h({...d,newPass:w.target.value})}),A.jsx(Ur,{label:"Confirm New Password",type:"password",value:d.confirmPass,onChange:w=>h({...d,confirmPass:w.target.value})})]}),A.jsxs("div",{className:"flex gap-3 pt-4",children:[A.jsx(Vn,{variant:"outline",fullWidth:!0,onClick:()=>o(!1),children:"Cancel"}),A.jsx(Vn,{fullWidth:!0,onClick:b,disabled:s,children:s?A.jsx(Br,{className:"animate-spin"}):"Update Password"})]})]}):A.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-6 animate-fade-in",children:[A.jsxs("div",{className:"flex items-center space-x-4 p-5 bg-gray-50 rounded-xl border border-gray-100",children:[A.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm text-brand-600",children:A.jsx(V$,{size:20})}),A.jsxs("div",{children:[A.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-black tracking-widest",children:"Official Email"}),A.jsx("p",{className:"font-bold text-gray-800",children:t.email})]})]}),A.jsxs("div",{className:"flex items-center space-x-4 p-5 bg-gray-50 rounded-xl border border-gray-100",children:[A.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm text-brand-600",children:A.jsx(que,{size:20})}),A.jsxs("div",{children:[A.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-black tracking-widest",children:"Contact Number"}),A.jsx("p",{className:"font-bold text-gray-800",children:t.phone||"Not set"})]})]}),A.jsxs("div",{className:"flex items-center space-x-4 p-5 bg-gray-50 rounded-xl border border-gray-100",children:[A.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm text-brand-600",children:A.jsx(Iue,{size:20})}),A.jsxs("div",{children:[A.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-black tracking-widest",children:"PPS Number"}),A.jsx("p",{className:"font-bold text-gray-800",children:t.pps||"Information pending"})]})]}),A.jsxs("div",{className:"flex items-center space-x-4 p-5 bg-gray-50 rounded-xl border border-gray-100",children:[A.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm text-brand-600",children:A.jsx(z$,{size:20})}),A.jsxs("div",{children:[A.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-black tracking-widest",children:"Account ID"}),A.jsx("p",{className:"font-mono text-xs font-bold text-gray-400 truncate w-40",children:t.id})]})]})]}),!n&&!i&&A.jsx("div",{className:"mt-8 border-t border-gray-100 pt-8 flex justify-center",children:A.jsx(Vn,{variant:"danger",onClick:e,className:"w-full max-w-xs h-12 text-lg font-bold shadow-md",children:"Secure Logout"})})]})]})})},UDe=()=>{const[t,e]=fe.useState([]),[n,r]=fe.useState(""),[i,o]=fe.useState(!0),[s,a]=fe.useState(!1),[l,u]=fe.useState(null),[c,f]=fe.useState(null),[d,h]=fe.useState({name:"",email:"",password:"",phone:"",pps:"",role:ln.EMPLOYEE}),[y,b]=fe.useState(""),[w,_]=fe.useState(!1);fe.useEffect(()=>{S()},[]);const S=async()=>{o(!0);try{const T=await rn.getAllUsers();e(T)}catch(T){console.error(T)}finally{o(!1)}},E=()=>{u(null),f(null),h({name:"",email:"",password:"",phone:"",pps:"",role:ln.EMPLOYEE}),b(""),a(!0)},k=T=>{u(T),f(null),h({name:T.name,email:T.email,password:"",phone:T.phone||"",pps:T.pps||"",role:T.role}),b(""),a(!0)},R=async T=>{T.preventDefault(),_(!0),b("");try{if(l)await rn.updateUser(l.id,{name:d.name,email:d.email,phone:d.phone,pps:d.pps,role:d.role}),alert("User updated successfully in the database."),a(!1),S();else{const $=await rne(d.email,d.password);await rn.syncUser($,{name:d.name,phone:d.phone,pps:d.pps,role:d.role}),alert("User created successfully!"),a(!1),S()}}catch($){b($.message||"Error processing request")}finally{_(!1)}},F=async T=>{_(!0);try{await sne(T),f(T),setTimeout(()=>f(null),5e3)}catch($){alert("Error sending reset email: "+$.message)}finally{_(!1)}},N=async T=>{if(window.confirm(`Are you sure you want to delete ${T.name}? This action cannot be undone.`))try{await rn.deleteUser(T.id),alert("User removed from database."),S()}catch($){console.error($),alert("Failed to delete user.")}},C=t.filter(T=>T.name.toLowerCase().includes(n.toLowerCase())||T.email.toLowerCase().includes(n.toLowerCase())||T.id.toLowerCase().includes(n.toLowerCase()));return A.jsxs("div",{className:"space-y-6",children:[A.jsxs("header",{className:"flex justify-between items-center",children:[A.jsxs("div",{children:[A.jsxs("h2",{className:"text-2xl font-black text-gray-800 flex items-center gap-2",children:[A.jsx(sI,{className:"text-brand-600"}),"Users Management"]}),A.jsx("p",{className:"text-sm text-gray-500",children:"Full control over user accounts and records"})]}),A.jsxs(Vn,{onClick:E,children:[A.jsx(Xue,{size:18,className:"mr-2"})," New User"]})]}),s&&A.jsx("div",{className:"fixed inset-0 bg-brand-900/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden animate-fade-in",children:[A.jsxs("div",{className:"bg-brand-900 p-6 flex justify-between items-center",children:[A.jsx("h3",{className:"text-white font-bold text-lg",children:l?`Edit User: ${l.name}`:"Add New User"}),A.jsx("button",{onClick:()=>a(!1),className:"text-white/60 hover:text-white",children:A.jsx(Sl,{size:24})})]}),A.jsxs("form",{onSubmit:R,className:"p-6 space-y-4",children:[A.jsx(Ur,{label:"Full Name",required:!0,value:d.name,onChange:T=>h({...d,name:T.target.value})}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsx(Ur,{label:"Email",type:"email",required:!0,value:d.email,onChange:T=>h({...d,email:T.target.value})}),l?A.jsxs("div",{className:"flex flex-col",children:[A.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase mb-1",children:"Security / Password"}),c===d.email?A.jsxs("div",{className:"p-3 bg-green-50 rounded-xl border border-green-200 text-[10px] text-green-700 font-bold flex items-center gap-2",children:[A.jsx(S4,{size:16})," Link sent to ",d.email,"!"]}):A.jsxs("button",{type:"button",onClick:()=>F(d.email),disabled:w,className:"flex items-center justify-center gap-2 p-3 bg-brand-50 hover:bg-brand-100 text-brand-700 rounded-xl border border-brand-200 text-xs font-bold transition-all disabled:opacity-50",children:[w?A.jsx(Br,{size:16,className:"animate-spin"}):A.jsx(A4,{size:16}),"Send Password Reset Link"]})]}):A.jsx(Ur,{label:"Initial Password",type:"password",required:!0,value:d.password,onChange:T=>h({...d,password:T.target.value}),placeholder:"Enter password"})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsx(Ur,{label:"Phone",value:d.phone,onChange:T=>h({...d,phone:T.target.value})}),A.jsx(Ur,{label:"PPS Number",value:d.pps,onChange:T=>h({...d,pps:T.target.value})})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"User Role"}),A.jsxs("select",{className:"w-full border p-2 rounded-md bg-white text-sm font-medium",value:d.role,onChange:T=>h({...d,role:T.target.value}),children:[A.jsx("option",{value:ln.EMPLOYEE,children:"Cleaning Professional"}),A.jsx("option",{value:ln.ADMIN,children:"Administrator"})]})]}),y&&A.jsx("p",{className:"text-red-500 text-xs font-bold bg-red-50 p-2 rounded",children:y}),A.jsxs("div",{className:"pt-4 flex gap-3",children:[A.jsx(Vn,{variant:"outline",fullWidth:!0,onClick:()=>a(!1),children:"Cancel"}),A.jsx(Vn,{type:"submit",fullWidth:!0,disabled:w,children:w?A.jsx(Br,{className:"animate-spin"}):l?"Save Changes":"Confirm Registration"})]})]})]})}),A.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm flex items-center gap-3",children:[A.jsx(q$,{className:"text-gray-400",size:20}),A.jsx("input",{type:"text",placeholder:"Search by name, email or Account ID...",className:"bg-transparent border-none focus:ring-0 text-sm w-full font-medium",value:n,onChange:T=>r(T.target.value)})]}),A.jsx("div",{className:"bg-white rounded-xl border border-gray-100 overflow-hidden shadow-sm",children:A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full text-left text-sm",children:[A.jsx("thead",{className:"bg-gray-50 text-gray-400 font-bold uppercase text-[10px] tracking-widest",children:A.jsxs("tr",{children:[A.jsx("th",{className:"p-4",children:"User"}),A.jsx("th",{className:"p-4",children:"Account ID"}),A.jsx("th",{className:"p-4",children:"Role"}),A.jsx("th",{className:"p-4 text-center",children:"Actions"})]})}),A.jsxs("tbody",{className:"divide-y divide-gray-100",children:[i?A.jsx("tr",{children:A.jsx("td",{colSpan:4,className:"p-10 text-center",children:A.jsx(Br,{className:"animate-spin mx-auto text-brand-600"})})}):C.map(T=>A.jsxs("tr",{className:"hover:bg-brand-50/20 transition-colors group",children:[A.jsx("td",{className:"p-4",children:A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("div",{className:"w-10 h-10 bg-brand-100 rounded-full flex items-center justify-center text-brand-600 font-bold shrink-0",children:T.name.charAt(0)}),A.jsxs("div",{className:"min-w-0",children:[A.jsx("div",{className:"font-bold text-gray-900 truncate",children:T.name}),A.jsxs("div",{className:"text-[10px] text-gray-400 flex items-center gap-1",children:[A.jsx(V$,{size:10})," ",T.email]})]})]})}),A.jsx("td",{className:"p-4 font-mono text-[10px] font-bold text-gray-400",children:T.id}),A.jsx("td",{className:"p-4",children:A.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-md text-[10px] font-bold uppercase ${T.role===ln.ADMIN?"bg-purple-50 text-purple-700 border border-purple-100":"bg-brand-50 text-brand-700 border border-brand-100"}`,children:[A.jsx(z$,{size:10})," ",T.role]})}),A.jsx("td",{className:"p-4",children:A.jsxs("div",{className:"flex justify-center gap-2",children:[A.jsx("button",{onClick:()=>F(T.email),className:`p-2 rounded-lg transition-all ${c===T.email?"text-green-600 bg-green-50":"text-orange-500 hover:bg-orange-50"}`,title:"Send Password Reset Link",disabled:w,children:c===T.email?A.jsx(S4,{size:16}):A.jsx(A4,{size:16})}),A.jsx("button",{onClick:()=>k(T),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit Record",children:A.jsx(Kue,{size:16})}),A.jsx("button",{onClick:()=>N(T),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete User",children:A.jsx(N1,{size:16})})]})})]},T.id)),!i&&C.length===0&&A.jsx("tr",{children:A.jsx("td",{colSpan:4,className:"p-10 text-center text-gray-400 italic",children:"No users found."})})]})]})})})]})},$De=()=>{const[t,e]=fe.useState([]),[n,r]=fe.useState(!0),[i,o]=fe.useState(!1),[s,a]=fe.useState({activeCount:0,totalToday:0}),l=fe.useRef(null),u=fe.useRef(null),c=fe.useRef([]),f=async()=>{try{const[y,b]=await Promise.all([rn.getAllRecords(),rn.getAllUsers()]),w=y.filter(S=>!S.endTime).map(S=>({...S,user:b.find(E=>E.id===S.userId)})),_=y.filter(S=>S.date===new Date().toISOString().split("T")[0]);e(w),a({activeCount:w.length,totalToday:_.length})}catch(y){console.error("Error loading dashboard data:",y)}finally{r(!1)}},d=y=>{if(!l.current||!i)return;c.current.forEach(_=>_.remove()),c.current=[];const b=L.latLngBounds([]);let w=!1;y.forEach(_=>{var E,k;const S=_.startLocation;if(S&&S.lat&&S.lng){w=!0;const R=[S.lat,S.lng],F=L.divIcon({className:"custom-div-icon",html:`
            <div class="flex flex-col items-center group">
              <div class="relative">
                <div class="bg-brand-600 p-2 rounded-full shadow-2xl border-2 border-white transform transition-all duration-300 scale-100 group-hover:scale-125 z-10 relative">
                  <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>
                </div>
                <div class="absolute -bottom-1 left-1/2 -translate-x-1/2 w-4 h-4 bg-brand-600 rotate-45 border-r-2 border-b-2 border-white shadow-lg"></div>
              </div>
              <div class="mt-3 bg-white px-3 py-1 rounded-full text-[10px] font-black border border-gray-100 shadow-2xl whitespace-nowrap text-brand-900 ring-2 ring-brand-100">
                ${((E=_.user)==null?void 0:E.name.split(" ")[0])||"Unit"}
              </div>
            </div>
          `,iconSize:[45,65],iconAnchor:[22.5,55]}),N=L.marker(R,{icon:F}).addTo(l.current).bindPopup(`
            <div class="font-sans p-1 min-w-[150px]">
              <p class="font-black text-brand-900 text-sm mb-1">${(k=_.user)==null?void 0:k.name}</p>
              <div class="flex items-center gap-1 text-[10px] text-gray-500 font-bold mb-2">
                 <svg width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>
                 ${_.locationName}
              </div>
              <div class="bg-brand-50 p-2 rounded-lg text-[9px] font-black text-brand-600 uppercase">
                Checked-in at ${vo(no(_.startTime),"HH:mm")}
              </div>
            </div>
          `);c.current.push(N),b.extend(R)}}),w&&l.current&&l.current.fitBounds(b,{padding:[80,80],maxZoom:16})};fe.useEffect(()=>{let y;const b=()=>{if(u.current&&!l.current&&typeof L<"u")try{l.current=L.map(u.current,{zoomControl:!1,scrollWheelZoom:!0,fadeAnimation:!0}).setView([-23.5505,-46.6333],12),L.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Downey Cleaning",maxZoom:19}).addTo(l.current),L.control.zoom({position:"topright"}).addTo(l.current),setTimeout(()=>{l.current&&(l.current.invalidateSize(),o(!0),clearInterval(y))},500)}catch(S){console.error("Error initializing map:",S)}};y=window.setInterval(()=>{typeof L<"u"&&b()},300),f();const w=setInterval(f,3e4),_=()=>{l.current&&l.current.invalidateSize()};return window.addEventListener("resize",_),()=>{clearInterval(y),clearInterval(w),window.removeEventListener("resize",_)}},[]),fe.useEffect(()=>{i&&l.current&&d(t)},[i,t]);const h=()=>{if(l.current&&c.current.length>0){const y=L.latLngBounds(c.current.map(b=>b.getLatLng()));l.current.fitBounds(y,{padding:[60,60]})}};return n&&t.length===0?A.jsxs("div",{className:"flex flex-col items-center justify-center p-20 space-y-4 text-center",children:[A.jsx(Br,{className:"animate-spin text-brand-600",size:48}),A.jsx("p",{className:"text-gray-500 font-black uppercase text-[10px] tracking-[0.2em]",children:"Connecting to Operations Center..."})]}):A.jsxs("div",{className:"space-y-6",children:[A.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-3xl font-black text-brand-900 tracking-tight",children:"Live Operations"}),A.jsx("p",{className:"text-xs text-brand-600 font-bold uppercase tracking-widest mt-1",children:"Global Team Status"})]}),A.jsxs("div",{className:"flex gap-4",children:[A.jsxs("div",{className:"bg-white px-6 py-3 rounded-2xl border border-gray-100 shadow-sm flex items-center gap-4",children:[A.jsx("div",{className:"bg-green-100 p-2 rounded-xl text-green-600",children:A.jsx(gE,{size:20})}),A.jsxs("div",{children:[A.jsx("p",{className:"text-2xl font-black text-gray-900 leading-none",children:s.activeCount}),A.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mt-1",children:"Online Now"})]})]}),A.jsxs("div",{className:"bg-white px-6 py-3 rounded-2xl border border-gray-100 shadow-sm flex items-center gap-4",children:[A.jsx("div",{className:"bg-brand-100 p-2 rounded-xl text-brand-600",children:A.jsx(ka,{size:20})}),A.jsxs("div",{children:[A.jsx("p",{className:"text-2xl font-black text-gray-900 leading-none",children:s.totalToday}),A.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mt-1",children:"Jobs Today"})]})]}),A.jsx("button",{onClick:f,className:"bg-white p-3 rounded-2xl border border-gray-100 shadow-sm text-gray-400 hover:text-brand-600 hover:border-brand-100 transition-all active:scale-95",title:"Refresh Data",children:A.jsx(Gue,{size:20,className:n?"animate-spin":""})})]})]}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[A.jsx("div",{className:"lg:col-span-2 space-y-4",children:A.jsxs("div",{className:"bg-white rounded-3xl p-1 shadow-2xl overflow-hidden relative h-[580px] border-[4px] border-white ring-1 ring-gray-100",children:[A.jsx("div",{ref:u,id:"dashboard-map",className:"z-0 w-full h-full bg-slate-100",style:{position:"relative",height:"100%",width:"100%"}}),!i&&A.jsxs("div",{className:"absolute inset-0 z-[2000] bg-white flex flex-col items-center justify-center text-center",children:[A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"w-16 h-16 border-4 border-brand-100 border-t-brand-600 rounded-full animate-spin"}),A.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:A.jsx(ws,{className:"text-brand-600",size:24})})]}),A.jsx("p",{className:"text-xs font-black text-gray-500 uppercase mt-4 tracking-widest",children:"Syncing GPS Satellites..."})]}),i&&A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"absolute top-4 left-4 z-[1000] flex flex-col gap-2",children:A.jsxs("button",{onClick:h,className:"bg-white p-3 rounded-2xl shadow-xl border border-gray-100 text-brand-600 hover:bg-brand-50 transition-colors flex items-center gap-2 font-black text-[10px] uppercase tracking-wider",children:[A.jsx(Fue,{size:18})," Center All"]})}),A.jsx("div",{className:"absolute top-4 right-16 z-[1000] pointer-events-none",children:A.jsxs("div",{className:"bg-white/90 backdrop-blur px-3 py-1.5 rounded-full text-[9px] font-black uppercase border border-gray-100 shadow-lg flex items-center gap-2",children:[A.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"}),"Real-time Monitoring"]})})]}),t.length===0&&i&&A.jsx("div",{className:"absolute inset-0 z-[1001] bg-gray-50/40 backdrop-blur-[2px] flex flex-col items-center justify-center pointer-events-none",children:A.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-2xl border border-gray-100 flex flex-col items-center text-center",children:[A.jsx(Bue,{size:48,className:"text-gray-300 mb-4"}),A.jsx("p",{className:"text-gray-900 font-black text-sm uppercase tracking-widest",children:"No units in field"}),A.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Awaiting employee check-ins."})]})})]})}),A.jsxs("div",{className:"space-y-4 flex flex-col h-[580px]",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("h3",{className:"font-black text-gray-900 uppercase text-xs tracking-widest",children:"Team Status"}),A.jsx("span",{className:"bg-brand-50 text-brand-600 px-2 py-1 rounded-md text-[9px] font-black uppercase",children:"Live"})]}),A.jsxs("div",{className:"flex-1 space-y-3 overflow-y-auto no-scrollbar pr-1 pb-10",children:[t.map(y=>{var b,w;return A.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-gray-100 group hover:shadow-md transition-all relative overflow-hidden cursor-pointer",onClick:()=>{var _;l.current&&y.startLocation&&(l.current.setView([y.startLocation.lat,y.startLocation.lng],18),(_=c.current.find(S=>{var E;return S.getLatLng().lat===((E=y.startLocation)==null?void 0:E.lat)}))==null||_.openPopup())},children:[A.jsx("div",{className:"absolute top-0 right-0 w-1 h-full bg-brand-500"}),A.jsxs("div",{className:"flex items-start gap-4",children:[A.jsx("div",{className:"w-12 h-12 bg-brand-50 rounded-2xl flex items-center justify-center text-brand-600 font-black text-lg border border-brand-100 group-hover:bg-brand-600 group-hover:text-white transition-colors",children:(b=y.user)==null?void 0:b.name.charAt(0)}),A.jsxs("div",{className:"flex-1 min-w-0",children:[A.jsxs("div",{className:"flex justify-between items-start",children:[A.jsx("h4",{className:"font-black text-gray-900 truncate leading-tight",children:(w=y.user)==null?void 0:w.name}),A.jsxs("span",{className:"text-[9px] font-black text-green-500 uppercase flex items-center gap-1 shrink-0",children:[A.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"})," Active"]})]}),A.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[A.jsx(ws,{size:12,className:"text-brand-500 shrink-0"}),A.jsx("span",{className:"text-xs font-bold text-gray-500 truncate",children:y.locationName})]}),!y.startLocation&&A.jsxs("div",{className:"flex items-center gap-1 mt-2 text-[9px] font-bold text-orange-500 uppercase bg-orange-50 px-2 py-1 rounded w-fit",children:[A.jsx(B$,{size:10})," GPS location unavailable"]}),A.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-gray-50",children:[A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx(rh,{size:12,className:"text-gray-400"}),A.jsxs("span",{className:"text-[9px] font-black text-gray-400 uppercase",children:["Started: ",vo(no(y.startTime),"HH:mm")]})]}),y.startLocation&&A.jsxs("a",{href:`https://www.google.com/maps?q=${y.startLocation.lat},${y.startLocation.lng}`,target:"_blank",rel:"noopener noreferrer",onClick:_=>_.stopPropagation(),className:"text-[9px] font-black text-brand-600 uppercase flex items-center gap-1 hover:underline bg-brand-50 px-2 py-1 rounded-lg",children:[A.jsx(yE,{size:10})," Google Maps"]})]})]})]})]},y.id)}),t.length===0&&A.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center bg-white rounded-3xl border-2 border-dashed border-gray-100 p-8 text-center",children:[A.jsx("div",{className:"bg-gray-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:A.jsx(sI,{size:24,className:"text-gray-300"})}),A.jsx("p",{className:"text-sm font-bold text-gray-400 italic",children:"No staff members currently active."})]})]})]})]})]})},Rq=fe.createContext(null),wp=()=>fe.useContext(Rq),wd=({children:t,allowedRoles:e})=>{const{isAuthenticated:n,user:r,isLoading:i}=wp(),o=dv();return i?A.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:A.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-600"})}):n?e&&r&&!e.includes(r.role)?A.jsx(CS,{to:"/",replace:!0}):A.jsx(Que,{children:t}):A.jsx(CS,{to:"/login",state:{from:o},replace:!0})},jDe=()=>{const[t,e]=fe.useState(null),[n,r]=fe.useState(!0);if(!Wa)return A.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-8 bg-gray-50 text-center",children:A.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-lg w-full border border-red-100",children:[A.jsx("div",{className:"mx-auto bg-red-100 w-16 h-16 rounded-full flex items-center justify-center mb-4",children:A.jsx(Wue,{className:"text-red-600 w-8 h-8"})}),A.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Configurao Pendente"}),A.jsx("p",{className:"text-gray-600 mb-6",children:"O aplicativo no encontrou as chaves de API do Firebase."})]})});fe.useEffect(()=>{const o=jee(Wa,async s=>{if(r(!0),s)try{const a=await rn.syncUser(s);e(a)}catch(a){console.error("Failed to sync user",a),e(null)}else e(null);r(!1)});return()=>o()},[]);const i=async()=>{await ane(),e(null)};return A.jsx(Rq.Provider,{value:{user:t,logout:i,isAuthenticated:!!t,isLoading:n},children:A.jsx(jW,{children:A.jsxs(FW,{children:[A.jsx(yl,{path:"/login",element:A.jsx(Zue,{})}),A.jsx(yl,{path:"/",element:A.jsx(wd,{children:(t==null?void 0:t.role)===ln.ADMIN?A.jsx($De,{}):A.jsx(P4,{})})}),A.jsx(yl,{path:"/agenda",element:A.jsx(wd,{children:A.jsx(P4,{})})}),A.jsx(yl,{path:"/check-in",element:A.jsx(wd,{allowedRoles:[ln.EMPLOYEE],children:A.jsx(ece,{})})}),A.jsx(yl,{path:"/reports",element:A.jsx(wd,{children:A.jsx(DDe,{})})}),A.jsx(yl,{path:"/users",element:A.jsx(wd,{allowedRoles:[ln.ADMIN],children:A.jsx(UDe,{})})}),A.jsx(yl,{path:"/profile",element:A.jsx(wd,{children:A.jsx(FDe,{})})}),A.jsx(yl,{path:"*",element:A.jsx(CS,{to:"/",replace:!0})})]})})})},Oq=document.getElementById("root");if(!Oq)throw new Error("Could not find root element to mount to");const BDe=Lx.createRoot(Oq);BDe.render(A.jsx(Se.StrictMode,{children:A.jsx(jDe,{})}));export{An as _,ty as c,Fn as g};
