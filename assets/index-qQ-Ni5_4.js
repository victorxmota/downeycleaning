var Pz=Object.defineProperty;var Cz=(t,e,n)=>e in t?Pz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var En=(t,e,n)=>Cz(t,typeof e!="symbol"?e+"":e,n);function Nz(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var fv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Un(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var n6={exports:{}},Vw={},r6={exports:{}},Kt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy=Symbol.for("react.element"),kz=Symbol.for("react.portal"),Rz=Symbol.for("react.fragment"),Oz=Symbol.for("react.strict_mode"),Mz=Symbol.for("react.profiler"),Lz=Symbol.for("react.provider"),Dz=Symbol.for("react.context"),Fz=Symbol.for("react.forward_ref"),Uz=Symbol.for("react.suspense"),jz=Symbol.for("react.memo"),$z=Symbol.for("react.lazy"),cC=Symbol.iterator;function Bz(t){return t===null||typeof t!="object"?null:(t=cC&&t[cC]||t["@@iterator"],typeof t=="function"?t:null)}var i6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},o6=Object.assign,s6={};function np(t,e,n){this.props=t,this.context=e,this.refs=s6,this.updater=n||i6}np.prototype.isReactComponent={};np.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};np.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function a6(){}a6.prototype=np.prototype;function uA(t,e,n){this.props=t,this.context=e,this.refs=s6,this.updater=n||i6}var cA=uA.prototype=new a6;cA.constructor=uA;o6(cA,np.prototype);cA.isPureReactComponent=!0;var fC=Array.isArray,l6=Object.prototype.hasOwnProperty,fA={current:null},u6={key:!0,ref:!0,__self:!0,__source:!0};function c6(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)l6.call(e,r)&&!u6.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:gy,type:t,key:o,ref:s,props:i,_owner:fA.current}}function Vz(t,e){return{$$typeof:gy,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function dA(t){return typeof t=="object"&&t!==null&&t.$$typeof===gy}function qz(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var dC=/\/+/g;function G2(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qz(""+t.key):e.toString(36)}function d0(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case gy:case kz:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+G2(s,0):r,fC(i)?(n="",t!=null&&(n=t.replace(dC,"$&/")+"/"),d0(i,e,n,"",function(u){return u})):i!=null&&(dA(i)&&(i=Vz(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(dC,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",fC(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+G2(o,a);s+=d0(o,e,n,l,i)}else if(l=Bz(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+G2(o,a++),s+=d0(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function dv(t,e,n){if(t==null)return t;var r=[],i=0;return d0(t,r,"","",function(o){return e.call(n,o,i++)}),r}function zz(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var uo={current:null},h0={transition:null},Hz={ReactCurrentDispatcher:uo,ReactCurrentBatchConfig:h0,ReactCurrentOwner:fA};function f6(){throw Error("act(...) is not supported in production builds of React.")}Kt.Children={map:dv,forEach:function(t,e,n){dv(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return dv(t,function(){e++}),e},toArray:function(t){return dv(t,function(e){return e})||[]},only:function(t){if(!dA(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Kt.Component=np;Kt.Fragment=Rz;Kt.Profiler=Mz;Kt.PureComponent=uA;Kt.StrictMode=Oz;Kt.Suspense=Uz;Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hz;Kt.act=f6;Kt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=o6({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=fA.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)l6.call(e,l)&&!u6.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:gy,type:t.type,key:i,ref:o,props:r,_owner:s}};Kt.createContext=function(t){return t={$$typeof:Dz,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Lz,_context:t},t.Consumer=t};Kt.createElement=c6;Kt.createFactory=function(t){var e=c6.bind(null,t);return e.type=t,e};Kt.createRef=function(){return{current:null}};Kt.forwardRef=function(t){return{$$typeof:Fz,render:t}};Kt.isValidElement=dA;Kt.lazy=function(t){return{$$typeof:$z,_payload:{_status:-1,_result:t},_init:zz}};Kt.memo=function(t,e){return{$$typeof:jz,type:t,compare:e===void 0?null:e}};Kt.startTransition=function(t){var e=h0.transition;h0.transition={};try{t()}finally{h0.transition=e}};Kt.unstable_act=f6;Kt.useCallback=function(t,e){return uo.current.useCallback(t,e)};Kt.useContext=function(t){return uo.current.useContext(t)};Kt.useDebugValue=function(){};Kt.useDeferredValue=function(t){return uo.current.useDeferredValue(t)};Kt.useEffect=function(t,e){return uo.current.useEffect(t,e)};Kt.useId=function(){return uo.current.useId()};Kt.useImperativeHandle=function(t,e,n){return uo.current.useImperativeHandle(t,e,n)};Kt.useInsertionEffect=function(t,e){return uo.current.useInsertionEffect(t,e)};Kt.useLayoutEffect=function(t,e){return uo.current.useLayoutEffect(t,e)};Kt.useMemo=function(t,e){return uo.current.useMemo(t,e)};Kt.useReducer=function(t,e,n){return uo.current.useReducer(t,e,n)};Kt.useRef=function(t){return uo.current.useRef(t)};Kt.useState=function(t){return uo.current.useState(t)};Kt.useSyncExternalStore=function(t,e,n){return uo.current.useSyncExternalStore(t,e,n)};Kt.useTransition=function(){return uo.current.useTransition()};Kt.version="18.3.1";r6.exports=Kt;var ce=r6.exports;const xe=Un(ce),Gz=Nz({__proto__:null,default:xe},[ce]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wz=ce,Kz=Symbol.for("react.element"),Yz=Symbol.for("react.fragment"),Jz=Object.prototype.hasOwnProperty,Xz=Wz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qz={key:!0,ref:!0,__self:!0,__source:!0};function d6(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)Jz.call(e,r)&&!Qz.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Kz,type:t,key:o,ref:s,props:i,_owner:Xz.current}}Vw.Fragment=Yz;Vw.jsx=d6;Vw.jsxs=d6;n6.exports=Vw;var S=n6.exports,Bx={},h6={exports:{}},Zo={},p6={exports:{}},m6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(X,ae){var ye=X.length;X.push(ae);e:for(;0<ye;){var me=ye-1>>>1,B=X[me];if(0<i(B,ae))X[me]=ae,X[ye]=B,ye=me;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ae=X[0],ye=X.pop();if(ye!==ae){X[0]=ye;e:for(var me=0,B=X.length,W=B>>>1;me<W;){var ne=2*(me+1)-1,fe=X[ne],he=ne+1,we=X[he];if(0>i(fe,ye))he<B&&0>i(we,fe)?(X[me]=we,X[he]=ye,me=he):(X[me]=fe,X[ne]=ye,me=ne);else if(he<B&&0>i(we,ye))X[me]=we,X[he]=ye,me=he;else break e}}return ae}function i(X,ae){var ye=X.sortIndex-ae.sortIndex;return ye!==0?ye:X.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,d=3,h=!1,v=!1,_=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(X){for(var ae=n(u);ae!==null;){if(ae.callback===null)r(u);else if(ae.startTime<=X)r(u),ae.sortIndex=ae.expirationTime,e(l,ae);else break;ae=n(u)}}function C(X){if(_=!1,A(X),!v)if(n(l)!==null)v=!0,le(R);else{var ae=n(u);ae!==null&&ue(C,ae.startTime-X)}}function R(X,ae){v=!1,_&&(_=!1,b(N),N=-1),h=!0;var ye=d;try{for(A(ae),f=n(l);f!==null&&(!(f.expirationTime>ae)||X&&!P());){var me=f.callback;if(typeof me=="function"){f.callback=null,d=f.priorityLevel;var B=me(f.expirationTime<=ae);ae=t.unstable_now(),typeof B=="function"?f.callback=B:f===n(l)&&r(l),A(ae)}else r(l);f=n(l)}if(f!==null)var W=!0;else{var ne=n(u);ne!==null&&ue(C,ne.startTime-ae),W=!1}return W}finally{f=null,d=ye,h=!1}}var F=!1,k=null,N=-1,T=5,j=-1;function P(){return!(t.unstable_now()-j<T)}function D(){if(k!==null){var X=t.unstable_now();j=X;var ae=!0;try{ae=k(!0,X)}finally{ae?U():(F=!1,k=null)}}else F=!1}var U;if(typeof E=="function")U=function(){E(D)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ee=z.port2;z.port1.onmessage=D,U=function(){ee.postMessage(null)}}else U=function(){w(D,0)};function le(X){k=X,F||(F=!0,U())}function ue(X,ae){N=w(function(){X(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){v||h||(v=!0,le(R))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(X){switch(d){case 1:case 2:case 3:var ae=3;break;default:ae=d}var ye=d;d=ae;try{return X()}finally{d=ye}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,ae){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ye=d;d=X;try{return ae()}finally{d=ye}},t.unstable_scheduleCallback=function(X,ae,ye){var me=t.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?me+ye:me):ye=me,X){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ye+B,X={id:c++,callback:ae,priorityLevel:X,startTime:ye,expirationTime:B,sortIndex:-1},ye>me?(X.sortIndex=ye,e(u,X),n(l)===null&&X===n(u)&&(_?(b(N),N=-1):_=!0,ue(C,ye-me))):(X.sortIndex=B,e(l,X),v||h||(v=!0,le(R))),X},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(X){var ae=d;return function(){var ye=d;d=ae;try{return X.apply(this,arguments)}finally{d=ye}}}})(m6);p6.exports=m6;var Zz=p6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eH=ce,Qo=Zz;function qe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g6=new Set,ig={};function jf(t,e){vh(t,e),vh(t+"Capture",e)}function vh(t,e){for(ig[t]=e,t=0;t<e.length;t++)g6.add(e[t])}var Ul=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vx=Object.prototype.hasOwnProperty,tH=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hC={},pC={};function nH(t){return Vx.call(pC,t)?!0:Vx.call(hC,t)?!1:tH.test(t)?pC[t]=!0:(hC[t]=!0,!1)}function rH(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function iH(t,e,n,r){if(e===null||typeof e>"u"||rH(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function co(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Ti={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ti[t]=new co(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ti[e]=new co(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ti[t]=new co(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ti[t]=new co(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ti[t]=new co(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ti[t]=new co(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ti[t]=new co(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ti[t]=new co(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ti[t]=new co(t,5,!1,t.toLowerCase(),null,!1,!1)});var hA=/[\-:]([a-z])/g;function pA(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(hA,pA);Ti[e]=new co(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(hA,pA);Ti[e]=new co(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(hA,pA);Ti[e]=new co(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ti[t]=new co(t,1,!1,t.toLowerCase(),null,!1,!1)});Ti.xlinkHref=new co("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ti[t]=new co(t,1,!1,t.toLowerCase(),null,!0,!0)});function mA(t,e,n,r){var i=Ti.hasOwnProperty(e)?Ti[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(iH(e,n,i,r)&&(n=null),r||i===null?nH(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Xl=eH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hv=Symbol.for("react.element"),Nd=Symbol.for("react.portal"),kd=Symbol.for("react.fragment"),gA=Symbol.for("react.strict_mode"),qx=Symbol.for("react.profiler"),y6=Symbol.for("react.provider"),v6=Symbol.for("react.context"),yA=Symbol.for("react.forward_ref"),zx=Symbol.for("react.suspense"),Hx=Symbol.for("react.suspense_list"),vA=Symbol.for("react.memo"),Ru=Symbol.for("react.lazy"),w6=Symbol.for("react.offscreen"),mC=Symbol.iterator;function Wp(t){return t===null||typeof t!="object"?null:(t=mC&&t[mC]||t["@@iterator"],typeof t=="function"?t:null)}var hr=Object.assign,W2;function Em(t){if(W2===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);W2=e&&e[1]||""}return`
`+W2+t}var K2=!1;function Y2(t,e){if(!t||K2)return"";K2=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{K2=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Em(t):""}function oH(t){switch(t.tag){case 5:return Em(t.type);case 16:return Em("Lazy");case 13:return Em("Suspense");case 19:return Em("SuspenseList");case 0:case 2:case 15:return t=Y2(t.type,!1),t;case 11:return t=Y2(t.type.render,!1),t;case 1:return t=Y2(t.type,!0),t;default:return""}}function Gx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case kd:return"Fragment";case Nd:return"Portal";case qx:return"Profiler";case gA:return"StrictMode";case zx:return"Suspense";case Hx:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case v6:return(t.displayName||"Context")+".Consumer";case y6:return(t._context.displayName||"Context")+".Provider";case yA:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vA:return e=t.displayName||null,e!==null?e:Gx(t.type)||"Memo";case Ru:e=t._payload,t=t._init;try{return Gx(t(e))}catch{}}return null}function sH(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gx(e);case 8:return e===gA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ac(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _6(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function aH(t){var e=_6(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function pv(t){t._valueTracker||(t._valueTracker=aH(t))}function b6(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=_6(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function B0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Wx(t,e){var n=e.checked;return hr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function gC(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ac(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function x6(t,e){e=e.checked,e!=null&&mA(t,"checked",e,!1)}function Kx(t,e){x6(t,e);var n=ac(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Yx(t,e.type,n):e.hasOwnProperty("defaultValue")&&Yx(t,e.type,ac(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function yC(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Yx(t,e,n){(e!=="number"||B0(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Am=Array.isArray;function Yd(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ac(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Jx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(qe(91));return hr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function vC(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(qe(92));if(Am(n)){if(1<n.length)throw Error(qe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ac(n)}}function S6(t,e){var n=ac(e.value),r=ac(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function wC(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function E6(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?E6(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var mv,A6=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(mv=mv||document.createElement("div"),mv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mv.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function og(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Dm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lH=["Webkit","ms","Moz","O"];Object.keys(Dm).forEach(function(t){lH.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Dm[e]=Dm[t]})});function T6(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Dm.hasOwnProperty(t)&&Dm[t]?(""+e).trim():e+"px"}function I6(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=T6(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var uH=hr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qx(t,e){if(e){if(uH[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(qe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(qe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(qe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(qe(62))}}function Zx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eS=null;function wA(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tS=null,Jd=null,Xd=null;function _C(t){if(t=wy(t)){if(typeof tS!="function")throw Error(qe(280));var e=t.stateNode;e&&(e=Ww(e),tS(t.stateNode,t.type,e))}}function P6(t){Jd?Xd?Xd.push(t):Xd=[t]:Jd=t}function C6(){if(Jd){var t=Jd,e=Xd;if(Xd=Jd=null,_C(t),e)for(t=0;t<e.length;t++)_C(e[t])}}function N6(t,e){return t(e)}function k6(){}var J2=!1;function R6(t,e,n){if(J2)return t(e,n);J2=!0;try{return N6(t,e,n)}finally{J2=!1,(Jd!==null||Xd!==null)&&(k6(),C6())}}function sg(t,e){var n=t.stateNode;if(n===null)return null;var r=Ww(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(qe(231,e,typeof n));return n}var nS=!1;if(Ul)try{var Kp={};Object.defineProperty(Kp,"passive",{get:function(){nS=!0}}),window.addEventListener("test",Kp,Kp),window.removeEventListener("test",Kp,Kp)}catch{nS=!1}function cH(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Fm=!1,V0=null,q0=!1,rS=null,fH={onError:function(t){Fm=!0,V0=t}};function dH(t,e,n,r,i,o,s,a,l){Fm=!1,V0=null,cH.apply(fH,arguments)}function hH(t,e,n,r,i,o,s,a,l){if(dH.apply(this,arguments),Fm){if(Fm){var u=V0;Fm=!1,V0=null}else throw Error(qe(198));q0||(q0=!0,rS=u)}}function $f(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function O6(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function bC(t){if($f(t)!==t)throw Error(qe(188))}function pH(t){var e=t.alternate;if(!e){if(e=$f(t),e===null)throw Error(qe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return bC(i),t;if(o===r)return bC(i),e;o=o.sibling}throw Error(qe(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(qe(189))}}if(n.alternate!==r)throw Error(qe(190))}if(n.tag!==3)throw Error(qe(188));return n.stateNode.current===n?t:e}function M6(t){return t=pH(t),t!==null?L6(t):null}function L6(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=L6(t);if(e!==null)return e;t=t.sibling}return null}var D6=Qo.unstable_scheduleCallback,xC=Qo.unstable_cancelCallback,mH=Qo.unstable_shouldYield,gH=Qo.unstable_requestPaint,Rr=Qo.unstable_now,yH=Qo.unstable_getCurrentPriorityLevel,_A=Qo.unstable_ImmediatePriority,F6=Qo.unstable_UserBlockingPriority,z0=Qo.unstable_NormalPriority,vH=Qo.unstable_LowPriority,U6=Qo.unstable_IdlePriority,qw=null,Fa=null;function wH(t){if(Fa&&typeof Fa.onCommitFiberRoot=="function")try{Fa.onCommitFiberRoot(qw,t,void 0,(t.current.flags&128)===128)}catch{}}var Xs=Math.clz32?Math.clz32:xH,_H=Math.log,bH=Math.LN2;function xH(t){return t>>>=0,t===0?32:31-(_H(t)/bH|0)|0}var gv=64,yv=4194304;function Tm(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function H0(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Tm(a):(o&=s,o!==0&&(r=Tm(o)))}else s=n&~i,s!==0?r=Tm(s):o!==0&&(r=Tm(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Xs(e),i=1<<n,r|=t[n],e&=~i;return r}function SH(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function EH(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Xs(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=SH(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function iS(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function j6(){var t=gv;return gv<<=1,!(gv&4194240)&&(gv=64),t}function X2(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yy(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xs(e),t[e]=n}function AH(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Xs(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function bA(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xs(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var In=0;function $6(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var B6,xA,V6,q6,z6,oS=!1,vv=[],Yu=null,Ju=null,Xu=null,ag=new Map,lg=new Map,Lu=[],TH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function SC(t,e){switch(t){case"focusin":case"focusout":Yu=null;break;case"dragenter":case"dragleave":Ju=null;break;case"mouseover":case"mouseout":Xu=null;break;case"pointerover":case"pointerout":ag.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":lg.delete(e.pointerId)}}function Yp(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=wy(e),e!==null&&xA(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function IH(t,e,n,r,i){switch(e){case"focusin":return Yu=Yp(Yu,t,e,n,r,i),!0;case"dragenter":return Ju=Yp(Ju,t,e,n,r,i),!0;case"mouseover":return Xu=Yp(Xu,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ag.set(o,Yp(ag.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,lg.set(o,Yp(lg.get(o)||null,t,e,n,r,i)),!0}return!1}function H6(t){var e=tf(t.target);if(e!==null){var n=$f(e);if(n!==null){if(e=n.tag,e===13){if(e=O6(n),e!==null){t.blockedOn=e,z6(t.priority,function(){V6(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function p0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=sS(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);eS=r,n.target.dispatchEvent(r),eS=null}else return e=wy(n),e!==null&&xA(e),t.blockedOn=n,!1;e.shift()}return!0}function EC(t,e,n){p0(t)&&n.delete(e)}function PH(){oS=!1,Yu!==null&&p0(Yu)&&(Yu=null),Ju!==null&&p0(Ju)&&(Ju=null),Xu!==null&&p0(Xu)&&(Xu=null),ag.forEach(EC),lg.forEach(EC)}function Jp(t,e){t.blockedOn===e&&(t.blockedOn=null,oS||(oS=!0,Qo.unstable_scheduleCallback(Qo.unstable_NormalPriority,PH)))}function ug(t){function e(i){return Jp(i,t)}if(0<vv.length){Jp(vv[0],t);for(var n=1;n<vv.length;n++){var r=vv[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Yu!==null&&Jp(Yu,t),Ju!==null&&Jp(Ju,t),Xu!==null&&Jp(Xu,t),ag.forEach(e),lg.forEach(e),n=0;n<Lu.length;n++)r=Lu[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Lu.length&&(n=Lu[0],n.blockedOn===null);)H6(n),n.blockedOn===null&&Lu.shift()}var Qd=Xl.ReactCurrentBatchConfig,G0=!0;function CH(t,e,n,r){var i=In,o=Qd.transition;Qd.transition=null;try{In=1,SA(t,e,n,r)}finally{In=i,Qd.transition=o}}function NH(t,e,n,r){var i=In,o=Qd.transition;Qd.transition=null;try{In=4,SA(t,e,n,r)}finally{In=i,Qd.transition=o}}function SA(t,e,n,r){if(G0){var i=sS(t,e,n,r);if(i===null)ab(t,e,r,W0,n),SC(t,r);else if(IH(i,t,e,n,r))r.stopPropagation();else if(SC(t,r),e&4&&-1<TH.indexOf(t)){for(;i!==null;){var o=wy(i);if(o!==null&&B6(o),o=sS(t,e,n,r),o===null&&ab(t,e,r,W0,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else ab(t,e,r,null,n)}}var W0=null;function sS(t,e,n,r){if(W0=null,t=wA(r),t=tf(t),t!==null)if(e=$f(t),e===null)t=null;else if(n=e.tag,n===13){if(t=O6(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return W0=t,null}function G6(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yH()){case _A:return 1;case F6:return 4;case z0:case vH:return 16;case U6:return 536870912;default:return 16}default:return 16}}var Vu=null,EA=null,m0=null;function W6(){if(m0)return m0;var t,e=EA,n=e.length,r,i="value"in Vu?Vu.value:Vu.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return m0=i.slice(t,1<r?1-r:void 0)}function g0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function wv(){return!0}function AC(){return!1}function es(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?wv:AC,this.isPropagationStopped=AC,this}return hr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wv)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wv)},persist:function(){},isPersistent:wv}),e}var rp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},AA=es(rp),vy=hr({},rp,{view:0,detail:0}),kH=es(vy),Q2,Z2,Xp,zw=hr({},vy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:TA,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xp&&(Xp&&t.type==="mousemove"?(Q2=t.screenX-Xp.screenX,Z2=t.screenY-Xp.screenY):Z2=Q2=0,Xp=t),Q2)},movementY:function(t){return"movementY"in t?t.movementY:Z2}}),TC=es(zw),RH=hr({},zw,{dataTransfer:0}),OH=es(RH),MH=hr({},vy,{relatedTarget:0}),eb=es(MH),LH=hr({},rp,{animationName:0,elapsedTime:0,pseudoElement:0}),DH=es(LH),FH=hr({},rp,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),UH=es(FH),jH=hr({},rp,{data:0}),IC=es(jH),$H={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qH(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=VH[t])?!!e[t]:!1}function TA(){return qH}var zH=hr({},vy,{key:function(t){if(t.key){var e=$H[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=g0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?BH[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:TA,charCode:function(t){return t.type==="keypress"?g0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?g0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),HH=es(zH),GH=hr({},zw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),PC=es(GH),WH=hr({},vy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:TA}),KH=es(WH),YH=hr({},rp,{propertyName:0,elapsedTime:0,pseudoElement:0}),JH=es(YH),XH=hr({},zw,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),QH=es(XH),ZH=[9,13,27,32],IA=Ul&&"CompositionEvent"in window,Um=null;Ul&&"documentMode"in document&&(Um=document.documentMode);var eG=Ul&&"TextEvent"in window&&!Um,K6=Ul&&(!IA||Um&&8<Um&&11>=Um),CC=" ",NC=!1;function Y6(t,e){switch(t){case"keyup":return ZH.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J6(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Rd=!1;function tG(t,e){switch(t){case"compositionend":return J6(e);case"keypress":return e.which!==32?null:(NC=!0,CC);case"textInput":return t=e.data,t===CC&&NC?null:t;default:return null}}function nG(t,e){if(Rd)return t==="compositionend"||!IA&&Y6(t,e)?(t=W6(),m0=EA=Vu=null,Rd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return K6&&e.locale!=="ko"?null:e.data;default:return null}}var rG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!rG[t.type]:e==="textarea"}function X6(t,e,n,r){P6(r),e=K0(e,"onChange"),0<e.length&&(n=new AA("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var jm=null,cg=null;function iG(t){l8(t,0)}function Hw(t){var e=Ld(t);if(b6(e))return t}function oG(t,e){if(t==="change")return e}var Q6=!1;if(Ul){var tb;if(Ul){var nb="oninput"in document;if(!nb){var RC=document.createElement("div");RC.setAttribute("oninput","return;"),nb=typeof RC.oninput=="function"}tb=nb}else tb=!1;Q6=tb&&(!document.documentMode||9<document.documentMode)}function OC(){jm&&(jm.detachEvent("onpropertychange",Z6),cg=jm=null)}function Z6(t){if(t.propertyName==="value"&&Hw(cg)){var e=[];X6(e,cg,t,wA(t)),R6(iG,e)}}function sG(t,e,n){t==="focusin"?(OC(),jm=e,cg=n,jm.attachEvent("onpropertychange",Z6)):t==="focusout"&&OC()}function aG(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hw(cg)}function lG(t,e){if(t==="click")return Hw(e)}function uG(t,e){if(t==="input"||t==="change")return Hw(e)}function cG(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var na=typeof Object.is=="function"?Object.is:cG;function fg(t,e){if(na(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Vx.call(e,i)||!na(t[i],e[i]))return!1}return!0}function MC(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function LC(t,e){var n=MC(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=MC(n)}}function e8(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?e8(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function t8(){for(var t=window,e=B0();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=B0(t.document)}return e}function PA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function fG(t){var e=t8(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&e8(n.ownerDocument.documentElement,n)){if(r!==null&&PA(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=LC(n,o);var s=LC(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var dG=Ul&&"documentMode"in document&&11>=document.documentMode,Od=null,aS=null,$m=null,lS=!1;function DC(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lS||Od==null||Od!==B0(r)||(r=Od,"selectionStart"in r&&PA(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$m&&fg($m,r)||($m=r,r=K0(aS,"onSelect"),0<r.length&&(e=new AA("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Od)))}function _v(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Md={animationend:_v("Animation","AnimationEnd"),animationiteration:_v("Animation","AnimationIteration"),animationstart:_v("Animation","AnimationStart"),transitionend:_v("Transition","TransitionEnd")},rb={},n8={};Ul&&(n8=document.createElement("div").style,"AnimationEvent"in window||(delete Md.animationend.animation,delete Md.animationiteration.animation,delete Md.animationstart.animation),"TransitionEvent"in window||delete Md.transitionend.transition);function Gw(t){if(rb[t])return rb[t];if(!Md[t])return t;var e=Md[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in n8)return rb[t]=e[n];return t}var r8=Gw("animationend"),i8=Gw("animationiteration"),o8=Gw("animationstart"),s8=Gw("transitionend"),a8=new Map,FC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mc(t,e){a8.set(t,e),jf(e,[t])}for(var ib=0;ib<FC.length;ib++){var ob=FC[ib],hG=ob.toLowerCase(),pG=ob[0].toUpperCase()+ob.slice(1);mc(hG,"on"+pG)}mc(r8,"onAnimationEnd");mc(i8,"onAnimationIteration");mc(o8,"onAnimationStart");mc("dblclick","onDoubleClick");mc("focusin","onFocus");mc("focusout","onBlur");mc(s8,"onTransitionEnd");vh("onMouseEnter",["mouseout","mouseover"]);vh("onMouseLeave",["mouseout","mouseover"]);vh("onPointerEnter",["pointerout","pointerover"]);vh("onPointerLeave",["pointerout","pointerover"]);jf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jf("onBeforeInput",["compositionend","keypress","textInput","paste"]);jf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Im="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mG=new Set("cancel close invalid load scroll toggle".split(" ").concat(Im));function UC(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,hH(r,e,void 0,t),t.currentTarget=null}function l8(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;UC(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;UC(i,a,u),o=l}}}if(q0)throw t=rS,q0=!1,rS=null,t}function Wn(t,e){var n=e[hS];n===void 0&&(n=e[hS]=new Set);var r=t+"__bubble";n.has(r)||(u8(e,t,2,!1),n.add(r))}function sb(t,e,n){var r=0;e&&(r|=4),u8(n,t,r,e)}var bv="_reactListening"+Math.random().toString(36).slice(2);function dg(t){if(!t[bv]){t[bv]=!0,g6.forEach(function(n){n!=="selectionchange"&&(mG.has(n)||sb(n,!1,t),sb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bv]||(e[bv]=!0,sb("selectionchange",!1,e))}}function u8(t,e,n,r){switch(G6(e)){case 1:var i=CH;break;case 4:i=NH;break;default:i=SA}n=i.bind(null,e,n,t),i=void 0,!nS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ab(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=tf(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}R6(function(){var u=o,c=wA(n),f=[];e:{var d=a8.get(t);if(d!==void 0){var h=AA,v=t;switch(t){case"keypress":if(g0(n)===0)break e;case"keydown":case"keyup":h=HH;break;case"focusin":v="focus",h=eb;break;case"focusout":v="blur",h=eb;break;case"beforeblur":case"afterblur":h=eb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=TC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=OH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=KH;break;case r8:case i8:case o8:h=DH;break;case s8:h=JH;break;case"scroll":h=kH;break;case"wheel":h=QH;break;case"copy":case"cut":case"paste":h=UH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=PC}var _=(e&4)!==0,w=!_&&t==="scroll",b=_?d!==null?d+"Capture":null:d;_=[];for(var E=u,A;E!==null;){A=E;var C=A.stateNode;if(A.tag===5&&C!==null&&(A=C,b!==null&&(C=sg(E,b),C!=null&&_.push(hg(E,C,A)))),w)break;E=E.return}0<_.length&&(d=new h(d,v,null,n,c),f.push({event:d,listeners:_}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&n!==eS&&(v=n.relatedTarget||n.fromElement)&&(tf(v)||v[jl]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(v=n.relatedTarget||n.toElement,h=u,v=v?tf(v):null,v!==null&&(w=$f(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(h=null,v=u),h!==v)){if(_=TC,C="onMouseLeave",b="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(_=PC,C="onPointerLeave",b="onPointerEnter",E="pointer"),w=h==null?d:Ld(h),A=v==null?d:Ld(v),d=new _(C,E+"leave",h,n,c),d.target=w,d.relatedTarget=A,C=null,tf(c)===u&&(_=new _(b,E+"enter",v,n,c),_.target=A,_.relatedTarget=w,C=_),w=C,h&&v)t:{for(_=h,b=v,E=0,A=_;A;A=pd(A))E++;for(A=0,C=b;C;C=pd(C))A++;for(;0<E-A;)_=pd(_),E--;for(;0<A-E;)b=pd(b),A--;for(;E--;){if(_===b||b!==null&&_===b.alternate)break t;_=pd(_),b=pd(b)}_=null}else _=null;h!==null&&jC(f,d,h,_,!1),v!==null&&w!==null&&jC(f,w,v,_,!0)}}e:{if(d=u?Ld(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var R=oG;else if(kC(d))if(Q6)R=uG;else{R=aG;var F=sG}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(R=lG);if(R&&(R=R(t,u))){X6(f,R,n,c);break e}F&&F(t,d,u),t==="focusout"&&(F=d._wrapperState)&&F.controlled&&d.type==="number"&&Yx(d,"number",d.value)}switch(F=u?Ld(u):window,t){case"focusin":(kC(F)||F.contentEditable==="true")&&(Od=F,aS=u,$m=null);break;case"focusout":$m=aS=Od=null;break;case"mousedown":lS=!0;break;case"contextmenu":case"mouseup":case"dragend":lS=!1,DC(f,n,c);break;case"selectionchange":if(dG)break;case"keydown":case"keyup":DC(f,n,c)}var k;if(IA)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Rd?Y6(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(K6&&n.locale!=="ko"&&(Rd||N!=="onCompositionStart"?N==="onCompositionEnd"&&Rd&&(k=W6()):(Vu=c,EA="value"in Vu?Vu.value:Vu.textContent,Rd=!0)),F=K0(u,N),0<F.length&&(N=new IC(N,t,null,n,c),f.push({event:N,listeners:F}),k?N.data=k:(k=J6(n),k!==null&&(N.data=k)))),(k=eG?tG(t,n):nG(t,n))&&(u=K0(u,"onBeforeInput"),0<u.length&&(c=new IC("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=k))}l8(f,e)})}function hg(t,e,n){return{instance:t,listener:e,currentTarget:n}}function K0(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=sg(t,n),o!=null&&r.unshift(hg(t,o,i)),o=sg(t,e),o!=null&&r.push(hg(t,o,i))),t=t.return}return r}function pd(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jC(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=sg(n,o),l!=null&&s.unshift(hg(n,l,a))):i||(l=sg(n,o),l!=null&&s.push(hg(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var gG=/\r\n?/g,yG=/\u0000|\uFFFD/g;function $C(t){return(typeof t=="string"?t:""+t).replace(gG,`
`).replace(yG,"")}function xv(t,e,n){if(e=$C(e),$C(t)!==e&&n)throw Error(qe(425))}function Y0(){}var uS=null,cS=null;function fS(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var dS=typeof setTimeout=="function"?setTimeout:void 0,vG=typeof clearTimeout=="function"?clearTimeout:void 0,BC=typeof Promise=="function"?Promise:void 0,wG=typeof queueMicrotask=="function"?queueMicrotask:typeof BC<"u"?function(t){return BC.resolve(null).then(t).catch(_G)}:dS;function _G(t){setTimeout(function(){throw t})}function lb(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ug(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ug(e)}function Qu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function VC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ip=Math.random().toString(36).slice(2),Oa="__reactFiber$"+ip,pg="__reactProps$"+ip,jl="__reactContainer$"+ip,hS="__reactEvents$"+ip,bG="__reactListeners$"+ip,xG="__reactHandles$"+ip;function tf(t){var e=t[Oa];if(e)return e;for(var n=t.parentNode;n;){if(e=n[jl]||n[Oa]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=VC(t);t!==null;){if(n=t[Oa])return n;t=VC(t)}return e}t=n,n=t.parentNode}return null}function wy(t){return t=t[Oa]||t[jl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ld(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(qe(33))}function Ww(t){return t[pg]||null}var pS=[],Dd=-1;function gc(t){return{current:t}}function Qn(t){0>Dd||(t.current=pS[Dd],pS[Dd]=null,Dd--)}function zn(t,e){Dd++,pS[Dd]=t.current,t.current=e}var lc={},Wi=gc(lc),So=gc(!1),wf=lc;function wh(t,e){var n=t.type.contextTypes;if(!n)return lc;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Eo(t){return t=t.childContextTypes,t!=null}function J0(){Qn(So),Qn(Wi)}function qC(t,e,n){if(Wi.current!==lc)throw Error(qe(168));zn(Wi,e),zn(So,n)}function c8(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(qe(108,sH(t)||"Unknown",i));return hr({},n,r)}function X0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||lc,wf=Wi.current,zn(Wi,t),zn(So,So.current),!0}function zC(t,e,n){var r=t.stateNode;if(!r)throw Error(qe(169));n?(t=c8(t,e,wf),r.__reactInternalMemoizedMergedChildContext=t,Qn(So),Qn(Wi),zn(Wi,t)):Qn(So),zn(So,n)}var _l=null,Kw=!1,ub=!1;function f8(t){_l===null?_l=[t]:_l.push(t)}function SG(t){Kw=!0,f8(t)}function yc(){if(!ub&&_l!==null){ub=!0;var t=0,e=In;try{var n=_l;for(In=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}_l=null,Kw=!1}catch(i){throw _l!==null&&(_l=_l.slice(t+1)),D6(_A,yc),i}finally{In=e,ub=!1}}return null}var Fd=[],Ud=0,Q0=null,Z0=0,vs=[],ws=0,_f=null,El=1,Al="";function zc(t,e){Fd[Ud++]=Z0,Fd[Ud++]=Q0,Q0=t,Z0=e}function d8(t,e,n){vs[ws++]=El,vs[ws++]=Al,vs[ws++]=_f,_f=t;var r=El;t=Al;var i=32-Xs(r)-1;r&=~(1<<i),n+=1;var o=32-Xs(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,El=1<<32-Xs(e)+i|n<<i|r,Al=o+t}else El=1<<o|n<<i|r,Al=t}function CA(t){t.return!==null&&(zc(t,1),d8(t,1,0))}function NA(t){for(;t===Q0;)Q0=Fd[--Ud],Fd[Ud]=null,Z0=Fd[--Ud],Fd[Ud]=null;for(;t===_f;)_f=vs[--ws],vs[ws]=null,Al=vs[--ws],vs[ws]=null,El=vs[--ws],vs[ws]=null}var Xo=null,Wo=null,rr=!1,Ws=null;function h8(t,e){var n=bs(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function HC(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Xo=t,Wo=Qu(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Xo=t,Wo=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=_f!==null?{id:El,overflow:Al}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=bs(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Xo=t,Wo=null,!0):!1;default:return!1}}function mS(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gS(t){if(rr){var e=Wo;if(e){var n=e;if(!HC(t,e)){if(mS(t))throw Error(qe(418));e=Qu(n.nextSibling);var r=Xo;e&&HC(t,e)?h8(r,n):(t.flags=t.flags&-4097|2,rr=!1,Xo=t)}}else{if(mS(t))throw Error(qe(418));t.flags=t.flags&-4097|2,rr=!1,Xo=t}}}function GC(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xo=t}function Sv(t){if(t!==Xo)return!1;if(!rr)return GC(t),rr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!fS(t.type,t.memoizedProps)),e&&(e=Wo)){if(mS(t))throw p8(),Error(qe(418));for(;e;)h8(t,e),e=Qu(e.nextSibling)}if(GC(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(qe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Wo=Qu(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Wo=null}}else Wo=Xo?Qu(t.stateNode.nextSibling):null;return!0}function p8(){for(var t=Wo;t;)t=Qu(t.nextSibling)}function _h(){Wo=Xo=null,rr=!1}function kA(t){Ws===null?Ws=[t]:Ws.push(t)}var EG=Xl.ReactCurrentBatchConfig;function Qp(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(qe(309));var r=n.stateNode}if(!r)throw Error(qe(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(qe(284));if(!n._owner)throw Error(qe(290,t))}return t}function Ev(t,e){throw t=Object.prototype.toString.call(e),Error(qe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function WC(t){var e=t._init;return e(t._payload)}function m8(t){function e(b,E){if(t){var A=b.deletions;A===null?(b.deletions=[E],b.flags|=16):A.push(E)}}function n(b,E){if(!t)return null;for(;E!==null;)e(b,E),E=E.sibling;return null}function r(b,E){for(b=new Map;E!==null;)E.key!==null?b.set(E.key,E):b.set(E.index,E),E=E.sibling;return b}function i(b,E){return b=nc(b,E),b.index=0,b.sibling=null,b}function o(b,E,A){return b.index=A,t?(A=b.alternate,A!==null?(A=A.index,A<E?(b.flags|=2,E):A):(b.flags|=2,E)):(b.flags|=1048576,E)}function s(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,E,A,C){return E===null||E.tag!==6?(E=gb(A,b.mode,C),E.return=b,E):(E=i(E,A),E.return=b,E)}function l(b,E,A,C){var R=A.type;return R===kd?c(b,E,A.props.children,C,A.key):E!==null&&(E.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Ru&&WC(R)===E.type)?(C=i(E,A.props),C.ref=Qp(b,E,A),C.return=b,C):(C=S0(A.type,A.key,A.props,null,b.mode,C),C.ref=Qp(b,E,A),C.return=b,C)}function u(b,E,A,C){return E===null||E.tag!==4||E.stateNode.containerInfo!==A.containerInfo||E.stateNode.implementation!==A.implementation?(E=yb(A,b.mode,C),E.return=b,E):(E=i(E,A.children||[]),E.return=b,E)}function c(b,E,A,C,R){return E===null||E.tag!==7?(E=ff(A,b.mode,C,R),E.return=b,E):(E=i(E,A),E.return=b,E)}function f(b,E,A){if(typeof E=="string"&&E!==""||typeof E=="number")return E=gb(""+E,b.mode,A),E.return=b,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case hv:return A=S0(E.type,E.key,E.props,null,b.mode,A),A.ref=Qp(b,null,E),A.return=b,A;case Nd:return E=yb(E,b.mode,A),E.return=b,E;case Ru:var C=E._init;return f(b,C(E._payload),A)}if(Am(E)||Wp(E))return E=ff(E,b.mode,A,null),E.return=b,E;Ev(b,E)}return null}function d(b,E,A,C){var R=E!==null?E.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return R!==null?null:a(b,E,""+A,C);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case hv:return A.key===R?l(b,E,A,C):null;case Nd:return A.key===R?u(b,E,A,C):null;case Ru:return R=A._init,d(b,E,R(A._payload),C)}if(Am(A)||Wp(A))return R!==null?null:c(b,E,A,C,null);Ev(b,A)}return null}function h(b,E,A,C,R){if(typeof C=="string"&&C!==""||typeof C=="number")return b=b.get(A)||null,a(E,b,""+C,R);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case hv:return b=b.get(C.key===null?A:C.key)||null,l(E,b,C,R);case Nd:return b=b.get(C.key===null?A:C.key)||null,u(E,b,C,R);case Ru:var F=C._init;return h(b,E,A,F(C._payload),R)}if(Am(C)||Wp(C))return b=b.get(A)||null,c(E,b,C,R,null);Ev(E,C)}return null}function v(b,E,A,C){for(var R=null,F=null,k=E,N=E=0,T=null;k!==null&&N<A.length;N++){k.index>N?(T=k,k=null):T=k.sibling;var j=d(b,k,A[N],C);if(j===null){k===null&&(k=T);break}t&&k&&j.alternate===null&&e(b,k),E=o(j,E,N),F===null?R=j:F.sibling=j,F=j,k=T}if(N===A.length)return n(b,k),rr&&zc(b,N),R;if(k===null){for(;N<A.length;N++)k=f(b,A[N],C),k!==null&&(E=o(k,E,N),F===null?R=k:F.sibling=k,F=k);return rr&&zc(b,N),R}for(k=r(b,k);N<A.length;N++)T=h(k,b,N,A[N],C),T!==null&&(t&&T.alternate!==null&&k.delete(T.key===null?N:T.key),E=o(T,E,N),F===null?R=T:F.sibling=T,F=T);return t&&k.forEach(function(P){return e(b,P)}),rr&&zc(b,N),R}function _(b,E,A,C){var R=Wp(A);if(typeof R!="function")throw Error(qe(150));if(A=R.call(A),A==null)throw Error(qe(151));for(var F=R=null,k=E,N=E=0,T=null,j=A.next();k!==null&&!j.done;N++,j=A.next()){k.index>N?(T=k,k=null):T=k.sibling;var P=d(b,k,j.value,C);if(P===null){k===null&&(k=T);break}t&&k&&P.alternate===null&&e(b,k),E=o(P,E,N),F===null?R=P:F.sibling=P,F=P,k=T}if(j.done)return n(b,k),rr&&zc(b,N),R;if(k===null){for(;!j.done;N++,j=A.next())j=f(b,j.value,C),j!==null&&(E=o(j,E,N),F===null?R=j:F.sibling=j,F=j);return rr&&zc(b,N),R}for(k=r(b,k);!j.done;N++,j=A.next())j=h(k,b,N,j.value,C),j!==null&&(t&&j.alternate!==null&&k.delete(j.key===null?N:j.key),E=o(j,E,N),F===null?R=j:F.sibling=j,F=j);return t&&k.forEach(function(D){return e(b,D)}),rr&&zc(b,N),R}function w(b,E,A,C){if(typeof A=="object"&&A!==null&&A.type===kd&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case hv:e:{for(var R=A.key,F=E;F!==null;){if(F.key===R){if(R=A.type,R===kd){if(F.tag===7){n(b,F.sibling),E=i(F,A.props.children),E.return=b,b=E;break e}}else if(F.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Ru&&WC(R)===F.type){n(b,F.sibling),E=i(F,A.props),E.ref=Qp(b,F,A),E.return=b,b=E;break e}n(b,F);break}else e(b,F);F=F.sibling}A.type===kd?(E=ff(A.props.children,b.mode,C,A.key),E.return=b,b=E):(C=S0(A.type,A.key,A.props,null,b.mode,C),C.ref=Qp(b,E,A),C.return=b,b=C)}return s(b);case Nd:e:{for(F=A.key;E!==null;){if(E.key===F)if(E.tag===4&&E.stateNode.containerInfo===A.containerInfo&&E.stateNode.implementation===A.implementation){n(b,E.sibling),E=i(E,A.children||[]),E.return=b,b=E;break e}else{n(b,E);break}else e(b,E);E=E.sibling}E=yb(A,b.mode,C),E.return=b,b=E}return s(b);case Ru:return F=A._init,w(b,E,F(A._payload),C)}if(Am(A))return v(b,E,A,C);if(Wp(A))return _(b,E,A,C);Ev(b,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,E!==null&&E.tag===6?(n(b,E.sibling),E=i(E,A),E.return=b,b=E):(n(b,E),E=gb(A,b.mode,C),E.return=b,b=E),s(b)):n(b,E)}return w}var bh=m8(!0),g8=m8(!1),e1=gc(null),t1=null,jd=null,RA=null;function OA(){RA=jd=t1=null}function MA(t){var e=e1.current;Qn(e1),t._currentValue=e}function yS(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Zd(t,e){t1=t,RA=jd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(bo=!0),t.firstContext=null)}function Is(t){var e=t._currentValue;if(RA!==t)if(t={context:t,memoizedValue:e,next:null},jd===null){if(t1===null)throw Error(qe(308));jd=t,t1.dependencies={lanes:0,firstContext:t}}else jd=jd.next=t;return e}var nf=null;function LA(t){nf===null?nf=[t]:nf.push(t)}function y8(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,LA(e)):(n.next=i.next,i.next=n),e.interleaved=n,$l(t,r)}function $l(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ou=!1;function DA(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function v8(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ol(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zu(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,sn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,$l(t,n)}return i=r.interleaved,i===null?(e.next=e,LA(r)):(e.next=i.next,i.next=e),r.interleaved=e,$l(t,n)}function y0(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,bA(t,n)}}function KC(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function n1(t,e,n,r){var i=t.updateQueue;Ou=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var d=a.lane,h=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,_=a;switch(d=e,h=n,_.tag){case 1:if(v=_.payload,typeof v=="function"){f=v.call(h,f,d);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=_.payload,d=typeof v=="function"?v.call(h,f,d):v,d==null)break e;f=hr({},f,d);break e;case 2:Ou=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);xf|=s,t.lanes=s,t.memoizedState=f}}function YC(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(qe(191,i));i.call(r)}}}var _y={},Ua=gc(_y),mg=gc(_y),gg=gc(_y);function rf(t){if(t===_y)throw Error(qe(174));return t}function FA(t,e){switch(zn(gg,e),zn(mg,t),zn(Ua,_y),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xx(e,t)}Qn(Ua),zn(Ua,e)}function xh(){Qn(Ua),Qn(mg),Qn(gg)}function w8(t){rf(gg.current);var e=rf(Ua.current),n=Xx(e,t.type);e!==n&&(zn(mg,t),zn(Ua,n))}function UA(t){mg.current===t&&(Qn(Ua),Qn(mg))}var fr=gc(0);function r1(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cb=[];function jA(){for(var t=0;t<cb.length;t++)cb[t]._workInProgressVersionPrimary=null;cb.length=0}var v0=Xl.ReactCurrentDispatcher,fb=Xl.ReactCurrentBatchConfig,bf=0,dr=null,Xr=null,li=null,i1=!1,Bm=!1,yg=0,AG=0;function Oi(){throw Error(qe(321))}function $A(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!na(t[n],e[n]))return!1;return!0}function BA(t,e,n,r,i,o){if(bf=o,dr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,v0.current=t===null||t.memoizedState===null?CG:NG,t=n(r,i),Bm){o=0;do{if(Bm=!1,yg=0,25<=o)throw Error(qe(301));o+=1,li=Xr=null,e.updateQueue=null,v0.current=kG,t=n(r,i)}while(Bm)}if(v0.current=o1,e=Xr!==null&&Xr.next!==null,bf=0,li=Xr=dr=null,i1=!1,e)throw Error(qe(300));return t}function VA(){var t=yg!==0;return yg=0,t}function Na(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return li===null?dr.memoizedState=li=t:li=li.next=t,li}function Ps(){if(Xr===null){var t=dr.alternate;t=t!==null?t.memoizedState:null}else t=Xr.next;var e=li===null?dr.memoizedState:li.next;if(e!==null)li=e,Xr=t;else{if(t===null)throw Error(qe(310));Xr=t,t={memoizedState:Xr.memoizedState,baseState:Xr.baseState,baseQueue:Xr.baseQueue,queue:Xr.queue,next:null},li===null?dr.memoizedState=li=t:li=li.next=t}return li}function vg(t,e){return typeof e=="function"?e(t):e}function db(t){var e=Ps(),n=e.queue;if(n===null)throw Error(qe(311));n.lastRenderedReducer=t;var r=Xr,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((bf&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,dr.lanes|=c,xf|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,na(r,e.memoizedState)||(bo=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,dr.lanes|=o,xf|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function hb(t){var e=Ps(),n=e.queue;if(n===null)throw Error(qe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);na(o,e.memoizedState)||(bo=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function _8(){}function b8(t,e){var n=dr,r=Ps(),i=e(),o=!na(r.memoizedState,i);if(o&&(r.memoizedState=i,bo=!0),r=r.queue,qA(E8.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||li!==null&&li.memoizedState.tag&1){if(n.flags|=2048,wg(9,S8.bind(null,n,r,i,e),void 0,null),fi===null)throw Error(qe(349));bf&30||x8(n,e,i)}return i}function x8(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=dr.updateQueue,e===null?(e={lastEffect:null,stores:null},dr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function S8(t,e,n,r){e.value=n,e.getSnapshot=r,A8(e)&&T8(t)}function E8(t,e,n){return n(function(){A8(e)&&T8(t)})}function A8(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!na(t,n)}catch{return!0}}function T8(t){var e=$l(t,1);e!==null&&Qs(e,t,1,-1)}function JC(t){var e=Na();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vg,lastRenderedState:t},e.queue=t,t=t.dispatch=PG.bind(null,dr,t),[e.memoizedState,t]}function wg(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=dr.updateQueue,e===null?(e={lastEffect:null,stores:null},dr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function I8(){return Ps().memoizedState}function w0(t,e,n,r){var i=Na();dr.flags|=t,i.memoizedState=wg(1|e,n,void 0,r===void 0?null:r)}function Yw(t,e,n,r){var i=Ps();r=r===void 0?null:r;var o=void 0;if(Xr!==null){var s=Xr.memoizedState;if(o=s.destroy,r!==null&&$A(r,s.deps)){i.memoizedState=wg(e,n,o,r);return}}dr.flags|=t,i.memoizedState=wg(1|e,n,o,r)}function XC(t,e){return w0(8390656,8,t,e)}function qA(t,e){return Yw(2048,8,t,e)}function P8(t,e){return Yw(4,2,t,e)}function C8(t,e){return Yw(4,4,t,e)}function N8(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function k8(t,e,n){return n=n!=null?n.concat([t]):null,Yw(4,4,N8.bind(null,e,t),n)}function zA(){}function R8(t,e){var n=Ps();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$A(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function O8(t,e){var n=Ps();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$A(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function M8(t,e,n){return bf&21?(na(n,e)||(n=j6(),dr.lanes|=n,xf|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,bo=!0),t.memoizedState=n)}function TG(t,e){var n=In;In=n!==0&&4>n?n:4,t(!0);var r=fb.transition;fb.transition={};try{t(!1),e()}finally{In=n,fb.transition=r}}function L8(){return Ps().memoizedState}function IG(t,e,n){var r=tc(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},D8(t))F8(e,n);else if(n=y8(t,e,n,r),n!==null){var i=so();Qs(n,t,r,i),U8(n,e,r)}}function PG(t,e,n){var r=tc(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(D8(t))F8(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,na(a,s)){var l=e.interleaved;l===null?(i.next=i,LA(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=y8(t,e,i,r),n!==null&&(i=so(),Qs(n,t,r,i),U8(n,e,r))}}function D8(t){var e=t.alternate;return t===dr||e!==null&&e===dr}function F8(t,e){Bm=i1=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function U8(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,bA(t,n)}}var o1={readContext:Is,useCallback:Oi,useContext:Oi,useEffect:Oi,useImperativeHandle:Oi,useInsertionEffect:Oi,useLayoutEffect:Oi,useMemo:Oi,useReducer:Oi,useRef:Oi,useState:Oi,useDebugValue:Oi,useDeferredValue:Oi,useTransition:Oi,useMutableSource:Oi,useSyncExternalStore:Oi,useId:Oi,unstable_isNewReconciler:!1},CG={readContext:Is,useCallback:function(t,e){return Na().memoizedState=[t,e===void 0?null:e],t},useContext:Is,useEffect:XC,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,w0(4194308,4,N8.bind(null,e,t),n)},useLayoutEffect:function(t,e){return w0(4194308,4,t,e)},useInsertionEffect:function(t,e){return w0(4,2,t,e)},useMemo:function(t,e){var n=Na();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Na();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=IG.bind(null,dr,t),[r.memoizedState,t]},useRef:function(t){var e=Na();return t={current:t},e.memoizedState=t},useState:JC,useDebugValue:zA,useDeferredValue:function(t){return Na().memoizedState=t},useTransition:function(){var t=JC(!1),e=t[0];return t=TG.bind(null,t[1]),Na().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=dr,i=Na();if(rr){if(n===void 0)throw Error(qe(407));n=n()}else{if(n=e(),fi===null)throw Error(qe(349));bf&30||x8(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,XC(E8.bind(null,r,o,t),[t]),r.flags|=2048,wg(9,S8.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Na(),e=fi.identifierPrefix;if(rr){var n=Al,r=El;n=(r&~(1<<32-Xs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=yg++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=AG++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},NG={readContext:Is,useCallback:R8,useContext:Is,useEffect:qA,useImperativeHandle:k8,useInsertionEffect:P8,useLayoutEffect:C8,useMemo:O8,useReducer:db,useRef:I8,useState:function(){return db(vg)},useDebugValue:zA,useDeferredValue:function(t){var e=Ps();return M8(e,Xr.memoizedState,t)},useTransition:function(){var t=db(vg)[0],e=Ps().memoizedState;return[t,e]},useMutableSource:_8,useSyncExternalStore:b8,useId:L8,unstable_isNewReconciler:!1},kG={readContext:Is,useCallback:R8,useContext:Is,useEffect:qA,useImperativeHandle:k8,useInsertionEffect:P8,useLayoutEffect:C8,useMemo:O8,useReducer:hb,useRef:I8,useState:function(){return hb(vg)},useDebugValue:zA,useDeferredValue:function(t){var e=Ps();return Xr===null?e.memoizedState=t:M8(e,Xr.memoizedState,t)},useTransition:function(){var t=hb(vg)[0],e=Ps().memoizedState;return[t,e]},useMutableSource:_8,useSyncExternalStore:b8,useId:L8,unstable_isNewReconciler:!1};function zs(t,e){if(t&&t.defaultProps){e=hr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function vS(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:hr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Jw={isMounted:function(t){return(t=t._reactInternals)?$f(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=so(),i=tc(t),o=Ol(r,i);o.payload=e,n!=null&&(o.callback=n),e=Zu(t,o,i),e!==null&&(Qs(e,t,i,r),y0(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=so(),i=tc(t),o=Ol(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Zu(t,o,i),e!==null&&(Qs(e,t,i,r),y0(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=so(),r=tc(t),i=Ol(n,r);i.tag=2,e!=null&&(i.callback=e),e=Zu(t,i,r),e!==null&&(Qs(e,t,r,n),y0(e,t,r))}};function QC(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!fg(n,r)||!fg(i,o):!0}function j8(t,e,n){var r=!1,i=lc,o=e.contextType;return typeof o=="object"&&o!==null?o=Is(o):(i=Eo(e)?wf:Wi.current,r=e.contextTypes,o=(r=r!=null)?wh(t,i):lc),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Jw,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function ZC(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Jw.enqueueReplaceState(e,e.state,null)}function wS(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},DA(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Is(o):(o=Eo(e)?wf:Wi.current,i.context=wh(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(vS(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Jw.enqueueReplaceState(i,i.state,null),n1(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Sh(t,e){try{var n="",r=e;do n+=oH(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function pb(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function _S(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var RG=typeof WeakMap=="function"?WeakMap:Map;function $8(t,e,n){n=Ol(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){a1||(a1=!0,NS=r),_S(t,e)},n}function B8(t,e,n){n=Ol(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){_S(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){_S(t,e),typeof r!="function"&&(ec===null?ec=new Set([this]):ec.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function eN(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new RG;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=GG.bind(null,t,e,n),e.then(t,t))}function tN(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function nN(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ol(-1,1),e.tag=2,Zu(n,e,1))),n.lanes|=1),t)}var OG=Xl.ReactCurrentOwner,bo=!1;function io(t,e,n,r){e.child=t===null?g8(e,null,n,r):bh(e,t.child,n,r)}function rN(t,e,n,r,i){n=n.render;var o=e.ref;return Zd(e,i),r=BA(t,e,n,r,o,i),n=VA(),t!==null&&!bo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bl(t,e,i)):(rr&&n&&CA(e),e.flags|=1,io(t,e,r,i),e.child)}function iN(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!QA(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,V8(t,e,o,r,i)):(t=S0(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:fg,n(s,r)&&t.ref===e.ref)return Bl(t,e,i)}return e.flags|=1,t=nc(o,r),t.ref=e.ref,t.return=e,e.child=t}function V8(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(fg(o,r)&&t.ref===e.ref)if(bo=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(bo=!0);else return e.lanes=t.lanes,Bl(t,e,i)}return bS(t,e,n,r,i)}function q8(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},zn(Bd,zo),zo|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,zn(Bd,zo),zo|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,zn(Bd,zo),zo|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,zn(Bd,zo),zo|=r;return io(t,e,i,n),e.child}function z8(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function bS(t,e,n,r,i){var o=Eo(n)?wf:Wi.current;return o=wh(e,o),Zd(e,i),n=BA(t,e,n,r,o,i),r=VA(),t!==null&&!bo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bl(t,e,i)):(rr&&r&&CA(e),e.flags|=1,io(t,e,n,i),e.child)}function oN(t,e,n,r,i){if(Eo(n)){var o=!0;X0(e)}else o=!1;if(Zd(e,i),e.stateNode===null)_0(t,e),j8(e,n,r),wS(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Is(u):(u=Eo(n)?wf:Wi.current,u=wh(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&ZC(e,s,r,u),Ou=!1;var d=e.memoizedState;s.state=d,n1(e,r,s,i),l=e.memoizedState,a!==r||d!==l||So.current||Ou?(typeof c=="function"&&(vS(e,n,c,r),l=e.memoizedState),(a=Ou||QC(e,n,a,r,d,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,v8(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:zs(e.type,a),s.props=u,f=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Is(l):(l=Eo(n)?wf:Wi.current,l=wh(e,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==l)&&ZC(e,s,r,l),Ou=!1,d=e.memoizedState,s.state=d,n1(e,r,s,i);var v=e.memoizedState;a!==f||d!==v||So.current||Ou?(typeof h=="function"&&(vS(e,n,h,r),v=e.memoizedState),(u=Ou||QC(e,n,u,r,d,v,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),s.props=r,s.state=v,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return xS(t,e,n,r,o,i)}function xS(t,e,n,r,i,o){z8(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&zC(e,n,!1),Bl(t,e,o);r=e.stateNode,OG.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=bh(e,t.child,null,o),e.child=bh(e,null,a,o)):io(t,e,a,o),e.memoizedState=r.state,i&&zC(e,n,!0),e.child}function H8(t){var e=t.stateNode;e.pendingContext?qC(t,e.pendingContext,e.pendingContext!==e.context):e.context&&qC(t,e.context,!1),FA(t,e.containerInfo)}function sN(t,e,n,r,i){return _h(),kA(i),e.flags|=256,io(t,e,n,r),e.child}var SS={dehydrated:null,treeContext:null,retryLane:0};function ES(t){return{baseLanes:t,cachePool:null,transitions:null}}function G8(t,e,n){var r=e.pendingProps,i=fr.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),zn(fr,i&1),t===null)return gS(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Zw(s,r,0,null),t=ff(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=ES(n),e.memoizedState=SS,t):HA(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return MG(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=nc(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=nc(a,o):(o=ff(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?ES(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=SS,r}return o=t.child,t=o.sibling,r=nc(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function HA(t,e){return e=Zw({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Av(t,e,n,r){return r!==null&&kA(r),bh(e,t.child,null,n),t=HA(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function MG(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=pb(Error(qe(422))),Av(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Zw({mode:"visible",children:r.children},i,0,null),o=ff(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&bh(e,t.child,null,s),e.child.memoizedState=ES(s),e.memoizedState=SS,o);if(!(e.mode&1))return Av(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(qe(419)),r=pb(o,r,void 0),Av(t,e,s,r)}if(a=(s&t.childLanes)!==0,bo||a){if(r=fi,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,$l(t,i),Qs(r,t,i,-1))}return XA(),r=pb(Error(qe(421))),Av(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=WG.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Wo=Qu(i.nextSibling),Xo=e,rr=!0,Ws=null,t!==null&&(vs[ws++]=El,vs[ws++]=Al,vs[ws++]=_f,El=t.id,Al=t.overflow,_f=e),e=HA(e,r.children),e.flags|=4096,e)}function aN(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),yS(t.return,e,n)}function mb(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function W8(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(io(t,e,r.children,n),r=fr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&aN(t,n,e);else if(t.tag===19)aN(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(zn(fr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&r1(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),mb(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&r1(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}mb(e,!0,n,null,o);break;case"together":mb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Bl(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),xf|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(qe(153));if(e.child!==null){for(t=e.child,n=nc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=nc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function LG(t,e,n){switch(e.tag){case 3:H8(e),_h();break;case 5:w8(e);break;case 1:Eo(e.type)&&X0(e);break;case 4:FA(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;zn(e1,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(zn(fr,fr.current&1),e.flags|=128,null):n&e.child.childLanes?G8(t,e,n):(zn(fr,fr.current&1),t=Bl(t,e,n),t!==null?t.sibling:null);zn(fr,fr.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return W8(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),zn(fr,fr.current),r)break;return null;case 22:case 23:return e.lanes=0,q8(t,e,n)}return Bl(t,e,n)}var K8,AS,Y8,J8;K8=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};AS=function(){};Y8=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,rf(Ua.current);var o=null;switch(n){case"input":i=Wx(t,i),r=Wx(t,r),o=[];break;case"select":i=hr({},i,{value:void 0}),r=hr({},r,{value:void 0}),o=[];break;case"textarea":i=Jx(t,i),r=Jx(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Y0)}Qx(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ig.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ig.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Wn("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};J8=function(t,e,n,r){n!==r&&(e.flags|=4)};function Zp(t,e){if(!rr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Mi(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function DG(t,e,n){var r=e.pendingProps;switch(NA(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mi(e),null;case 1:return Eo(e.type)&&J0(),Mi(e),null;case 3:return r=e.stateNode,xh(),Qn(So),Qn(Wi),jA(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Sv(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ws!==null&&(OS(Ws),Ws=null))),AS(t,e),Mi(e),null;case 5:UA(e);var i=rf(gg.current);if(n=e.type,t!==null&&e.stateNode!=null)Y8(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(qe(166));return Mi(e),null}if(t=rf(Ua.current),Sv(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Oa]=e,r[pg]=o,t=(e.mode&1)!==0,n){case"dialog":Wn("cancel",r),Wn("close",r);break;case"iframe":case"object":case"embed":Wn("load",r);break;case"video":case"audio":for(i=0;i<Im.length;i++)Wn(Im[i],r);break;case"source":Wn("error",r);break;case"img":case"image":case"link":Wn("error",r),Wn("load",r);break;case"details":Wn("toggle",r);break;case"input":gC(r,o),Wn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Wn("invalid",r);break;case"textarea":vC(r,o),Wn("invalid",r)}Qx(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&xv(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&xv(r.textContent,a,t),i=["children",""+a]):ig.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Wn("scroll",r)}switch(n){case"input":pv(r),yC(r,o,!0);break;case"textarea":pv(r),wC(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Y0)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=E6(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Oa]=e,t[pg]=r,K8(t,e,!1,!1),e.stateNode=t;e:{switch(s=Zx(n,r),n){case"dialog":Wn("cancel",t),Wn("close",t),i=r;break;case"iframe":case"object":case"embed":Wn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Im.length;i++)Wn(Im[i],t);i=r;break;case"source":Wn("error",t),i=r;break;case"img":case"image":case"link":Wn("error",t),Wn("load",t),i=r;break;case"details":Wn("toggle",t),i=r;break;case"input":gC(t,r),i=Wx(t,r),Wn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=hr({},r,{value:void 0}),Wn("invalid",t);break;case"textarea":vC(t,r),i=Jx(t,r),Wn("invalid",t);break;default:i=r}Qx(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?I6(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&A6(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&og(t,l):typeof l=="number"&&og(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ig.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Wn("scroll",t):l!=null&&mA(t,o,l,s))}switch(n){case"input":pv(t),yC(t,r,!1);break;case"textarea":pv(t),wC(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ac(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Yd(t,!!r.multiple,o,!1):r.defaultValue!=null&&Yd(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Y0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Mi(e),null;case 6:if(t&&e.stateNode!=null)J8(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(qe(166));if(n=rf(gg.current),rf(Ua.current),Sv(e)){if(r=e.stateNode,n=e.memoizedProps,r[Oa]=e,(o=r.nodeValue!==n)&&(t=Xo,t!==null))switch(t.tag){case 3:xv(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xv(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Oa]=e,e.stateNode=r}return Mi(e),null;case 13:if(Qn(fr),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(rr&&Wo!==null&&e.mode&1&&!(e.flags&128))p8(),_h(),e.flags|=98560,o=!1;else if(o=Sv(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(qe(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(qe(317));o[Oa]=e}else _h(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mi(e),o=!1}else Ws!==null&&(OS(Ws),Ws=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||fr.current&1?Qr===0&&(Qr=3):XA())),e.updateQueue!==null&&(e.flags|=4),Mi(e),null);case 4:return xh(),AS(t,e),t===null&&dg(e.stateNode.containerInfo),Mi(e),null;case 10:return MA(e.type._context),Mi(e),null;case 17:return Eo(e.type)&&J0(),Mi(e),null;case 19:if(Qn(fr),o=e.memoizedState,o===null)return Mi(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Zp(o,!1);else{if(Qr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=r1(t),s!==null){for(e.flags|=128,Zp(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return zn(fr,fr.current&1|2),e.child}t=t.sibling}o.tail!==null&&Rr()>Eh&&(e.flags|=128,r=!0,Zp(o,!1),e.lanes=4194304)}else{if(!r)if(t=r1(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Zp(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!rr)return Mi(e),null}else 2*Rr()-o.renderingStartTime>Eh&&n!==1073741824&&(e.flags|=128,r=!0,Zp(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Rr(),e.sibling=null,n=fr.current,zn(fr,r?n&1|2:n&1),e):(Mi(e),null);case 22:case 23:return JA(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?zo&1073741824&&(Mi(e),e.subtreeFlags&6&&(e.flags|=8192)):Mi(e),null;case 24:return null;case 25:return null}throw Error(qe(156,e.tag))}function FG(t,e){switch(NA(e),e.tag){case 1:return Eo(e.type)&&J0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xh(),Qn(So),Qn(Wi),jA(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return UA(e),null;case 13:if(Qn(fr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(qe(340));_h()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Qn(fr),null;case 4:return xh(),null;case 10:return MA(e.type._context),null;case 22:case 23:return JA(),null;case 24:return null;default:return null}}var Tv=!1,Vi=!1,UG=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function $d(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){_r(t,e,r)}else n.current=null}function TS(t,e,n){try{n()}catch(r){_r(t,e,r)}}var lN=!1;function jG(t,e){if(uS=G0,t=t8(),PA(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===t)break t;if(d===n&&++u===i&&(a=s),d===o&&++c===r&&(l=s),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(cS={focusedElem:t,selectionRange:n},G0=!1,Ze=e;Ze!==null;)if(e=Ze,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ze=t;else for(;Ze!==null;){e=Ze;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var _=v.memoizedProps,w=v.memoizedState,b=e.stateNode,E=b.getSnapshotBeforeUpdate(e.elementType===e.type?_:zs(e.type,_),w);b.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(qe(163))}}catch(C){_r(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,Ze=t;break}Ze=e.return}return v=lN,lN=!1,v}function Vm(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&TS(e,n,o)}i=i.next}while(i!==r)}}function Xw(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function IS(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function X8(t){var e=t.alternate;e!==null&&(t.alternate=null,X8(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Oa],delete e[pg],delete e[hS],delete e[bG],delete e[xG])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Q8(t){return t.tag===5||t.tag===3||t.tag===4}function uN(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Q8(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function PS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Y0));else if(r!==4&&(t=t.child,t!==null))for(PS(t,e,n),t=t.sibling;t!==null;)PS(t,e,n),t=t.sibling}function CS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(CS(t,e,n),t=t.sibling;t!==null;)CS(t,e,n),t=t.sibling}var _i=null,Hs=!1;function Au(t,e,n){for(n=n.child;n!==null;)Z8(t,e,n),n=n.sibling}function Z8(t,e,n){if(Fa&&typeof Fa.onCommitFiberUnmount=="function")try{Fa.onCommitFiberUnmount(qw,n)}catch{}switch(n.tag){case 5:Vi||$d(n,e);case 6:var r=_i,i=Hs;_i=null,Au(t,e,n),_i=r,Hs=i,_i!==null&&(Hs?(t=_i,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):_i.removeChild(n.stateNode));break;case 18:_i!==null&&(Hs?(t=_i,n=n.stateNode,t.nodeType===8?lb(t.parentNode,n):t.nodeType===1&&lb(t,n),ug(t)):lb(_i,n.stateNode));break;case 4:r=_i,i=Hs,_i=n.stateNode.containerInfo,Hs=!0,Au(t,e,n),_i=r,Hs=i;break;case 0:case 11:case 14:case 15:if(!Vi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&TS(n,e,s),i=i.next}while(i!==r)}Au(t,e,n);break;case 1:if(!Vi&&($d(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){_r(n,e,a)}Au(t,e,n);break;case 21:Au(t,e,n);break;case 22:n.mode&1?(Vi=(r=Vi)||n.memoizedState!==null,Au(t,e,n),Vi=r):Au(t,e,n);break;default:Au(t,e,n)}}function cN(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new UG),e.forEach(function(r){var i=KG.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Bs(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:_i=a.stateNode,Hs=!1;break e;case 3:_i=a.stateNode.containerInfo,Hs=!0;break e;case 4:_i=a.stateNode.containerInfo,Hs=!0;break e}a=a.return}if(_i===null)throw Error(qe(160));Z8(o,s,i),_i=null,Hs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){_r(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)eF(e,t),e=e.sibling}function eF(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Bs(e,t),Aa(t),r&4){try{Vm(3,t,t.return),Xw(3,t)}catch(_){_r(t,t.return,_)}try{Vm(5,t,t.return)}catch(_){_r(t,t.return,_)}}break;case 1:Bs(e,t),Aa(t),r&512&&n!==null&&$d(n,n.return);break;case 5:if(Bs(e,t),Aa(t),r&512&&n!==null&&$d(n,n.return),t.flags&32){var i=t.stateNode;try{og(i,"")}catch(_){_r(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&x6(i,o),Zx(a,s);var u=Zx(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?I6(i,f):c==="dangerouslySetInnerHTML"?A6(i,f):c==="children"?og(i,f):mA(i,c,f,u)}switch(a){case"input":Kx(i,o);break;case"textarea":S6(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?Yd(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?Yd(i,!!o.multiple,o.defaultValue,!0):Yd(i,!!o.multiple,o.multiple?[]:"",!1))}i[pg]=o}catch(_){_r(t,t.return,_)}}break;case 6:if(Bs(e,t),Aa(t),r&4){if(t.stateNode===null)throw Error(qe(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(_){_r(t,t.return,_)}}break;case 3:if(Bs(e,t),Aa(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ug(e.containerInfo)}catch(_){_r(t,t.return,_)}break;case 4:Bs(e,t),Aa(t);break;case 13:Bs(e,t),Aa(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(KA=Rr())),r&4&&cN(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Vi=(u=Vi)||c,Bs(e,t),Vi=u):Bs(e,t),Aa(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Ze=t,c=t.child;c!==null;){for(f=Ze=c;Ze!==null;){switch(d=Ze,h=d.child,d.tag){case 0:case 11:case 14:case 15:Vm(4,d,d.return);break;case 1:$d(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(_){_r(r,n,_)}}break;case 5:$d(d,d.return);break;case 22:if(d.memoizedState!==null){dN(f);continue}}h!==null?(h.return=d,Ze=h):dN(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=T6("display",s))}catch(_){_r(t,t.return,_)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(_){_r(t,t.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Bs(e,t),Aa(t),r&4&&cN(t);break;case 21:break;default:Bs(e,t),Aa(t)}}function Aa(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Q8(n)){var r=n;break e}n=n.return}throw Error(qe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(og(i,""),r.flags&=-33);var o=uN(t);CS(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=uN(t);PS(t,a,s);break;default:throw Error(qe(161))}}catch(l){_r(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $G(t,e,n){Ze=t,tF(t)}function tF(t,e,n){for(var r=(t.mode&1)!==0;Ze!==null;){var i=Ze,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Tv;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Vi;a=Tv;var u=Vi;if(Tv=s,(Vi=l)&&!u)for(Ze=i;Ze!==null;)s=Ze,l=s.child,s.tag===22&&s.memoizedState!==null?hN(i):l!==null?(l.return=s,Ze=l):hN(i);for(;o!==null;)Ze=o,tF(o),o=o.sibling;Ze=i,Tv=a,Vi=u}fN(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Ze=o):fN(t)}}function fN(t){for(;Ze!==null;){var e=Ze;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vi||Xw(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Vi)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:zs(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&YC(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}YC(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&ug(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(qe(163))}Vi||e.flags&512&&IS(e)}catch(d){_r(e,e.return,d)}}if(e===t){Ze=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ze=n;break}Ze=e.return}}function dN(t){for(;Ze!==null;){var e=Ze;if(e===t){Ze=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ze=n;break}Ze=e.return}}function hN(t){for(;Ze!==null;){var e=Ze;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Xw(4,e)}catch(l){_r(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){_r(e,i,l)}}var o=e.return;try{IS(e)}catch(l){_r(e,o,l)}break;case 5:var s=e.return;try{IS(e)}catch(l){_r(e,s,l)}}}catch(l){_r(e,e.return,l)}if(e===t){Ze=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ze=a;break}Ze=e.return}}var BG=Math.ceil,s1=Xl.ReactCurrentDispatcher,GA=Xl.ReactCurrentOwner,Ss=Xl.ReactCurrentBatchConfig,sn=0,fi=null,$r=null,Ei=0,zo=0,Bd=gc(0),Qr=0,_g=null,xf=0,Qw=0,WA=0,qm=null,wo=null,KA=0,Eh=1/0,wl=null,a1=!1,NS=null,ec=null,Iv=!1,qu=null,l1=0,zm=0,kS=null,b0=-1,x0=0;function so(){return sn&6?Rr():b0!==-1?b0:b0=Rr()}function tc(t){return t.mode&1?sn&2&&Ei!==0?Ei&-Ei:EG.transition!==null?(x0===0&&(x0=j6()),x0):(t=In,t!==0||(t=window.event,t=t===void 0?16:G6(t.type)),t):1}function Qs(t,e,n,r){if(50<zm)throw zm=0,kS=null,Error(qe(185));yy(t,n,r),(!(sn&2)||t!==fi)&&(t===fi&&(!(sn&2)&&(Qw|=n),Qr===4&&Du(t,Ei)),Ao(t,r),n===1&&sn===0&&!(e.mode&1)&&(Eh=Rr()+500,Kw&&yc()))}function Ao(t,e){var n=t.callbackNode;EH(t,e);var r=H0(t,t===fi?Ei:0);if(r===0)n!==null&&xC(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&xC(n),e===1)t.tag===0?SG(pN.bind(null,t)):f8(pN.bind(null,t)),wG(function(){!(sn&6)&&yc()}),n=null;else{switch($6(r)){case 1:n=_A;break;case 4:n=F6;break;case 16:n=z0;break;case 536870912:n=U6;break;default:n=z0}n=uF(n,nF.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function nF(t,e){if(b0=-1,x0=0,sn&6)throw Error(qe(327));var n=t.callbackNode;if(eh()&&t.callbackNode!==n)return null;var r=H0(t,t===fi?Ei:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=u1(t,r);else{e=r;var i=sn;sn|=2;var o=iF();(fi!==t||Ei!==e)&&(wl=null,Eh=Rr()+500,cf(t,e));do try{zG();break}catch(a){rF(t,a)}while(!0);OA(),s1.current=o,sn=i,$r!==null?e=0:(fi=null,Ei=0,e=Qr)}if(e!==0){if(e===2&&(i=iS(t),i!==0&&(r=i,e=RS(t,i))),e===1)throw n=_g,cf(t,0),Du(t,r),Ao(t,Rr()),n;if(e===6)Du(t,r);else{if(i=t.current.alternate,!(r&30)&&!VG(i)&&(e=u1(t,r),e===2&&(o=iS(t),o!==0&&(r=o,e=RS(t,o))),e===1))throw n=_g,cf(t,0),Du(t,r),Ao(t,Rr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(qe(345));case 2:Hc(t,wo,wl);break;case 3:if(Du(t,r),(r&130023424)===r&&(e=KA+500-Rr(),10<e)){if(H0(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){so(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=dS(Hc.bind(null,t,wo,wl),e);break}Hc(t,wo,wl);break;case 4:if(Du(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Xs(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Rr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*BG(r/1960))-r,10<r){t.timeoutHandle=dS(Hc.bind(null,t,wo,wl),r);break}Hc(t,wo,wl);break;case 5:Hc(t,wo,wl);break;default:throw Error(qe(329))}}}return Ao(t,Rr()),t.callbackNode===n?nF.bind(null,t):null}function RS(t,e){var n=qm;return t.current.memoizedState.isDehydrated&&(cf(t,e).flags|=256),t=u1(t,e),t!==2&&(e=wo,wo=n,e!==null&&OS(e)),t}function OS(t){wo===null?wo=t:wo.push.apply(wo,t)}function VG(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!na(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Du(t,e){for(e&=~WA,e&=~Qw,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xs(e),r=1<<n;t[n]=-1,e&=~r}}function pN(t){if(sn&6)throw Error(qe(327));eh();var e=H0(t,0);if(!(e&1))return Ao(t,Rr()),null;var n=u1(t,e);if(t.tag!==0&&n===2){var r=iS(t);r!==0&&(e=r,n=RS(t,r))}if(n===1)throw n=_g,cf(t,0),Du(t,e),Ao(t,Rr()),n;if(n===6)throw Error(qe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Hc(t,wo,wl),Ao(t,Rr()),null}function YA(t,e){var n=sn;sn|=1;try{return t(e)}finally{sn=n,sn===0&&(Eh=Rr()+500,Kw&&yc())}}function Sf(t){qu!==null&&qu.tag===0&&!(sn&6)&&eh();var e=sn;sn|=1;var n=Ss.transition,r=In;try{if(Ss.transition=null,In=1,t)return t()}finally{In=r,Ss.transition=n,sn=e,!(sn&6)&&yc()}}function JA(){zo=Bd.current,Qn(Bd)}function cf(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,vG(n)),$r!==null)for(n=$r.return;n!==null;){var r=n;switch(NA(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&J0();break;case 3:xh(),Qn(So),Qn(Wi),jA();break;case 5:UA(r);break;case 4:xh();break;case 13:Qn(fr);break;case 19:Qn(fr);break;case 10:MA(r.type._context);break;case 22:case 23:JA()}n=n.return}if(fi=t,$r=t=nc(t.current,null),Ei=zo=e,Qr=0,_g=null,WA=Qw=xf=0,wo=qm=null,nf!==null){for(e=0;e<nf.length;e++)if(n=nf[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}nf=null}return t}function rF(t,e){do{var n=$r;try{if(OA(),v0.current=o1,i1){for(var r=dr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}i1=!1}if(bf=0,li=Xr=dr=null,Bm=!1,yg=0,GA.current=null,n===null||n.return===null){Qr=1,_g=e,$r=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Ei,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=tN(s);if(h!==null){h.flags&=-257,nN(h,s,a,o,e),h.mode&1&&eN(o,u,e),e=h,l=u;var v=e.updateQueue;if(v===null){var _=new Set;_.add(l),e.updateQueue=_}else v.add(l);break e}else{if(!(e&1)){eN(o,u,e),XA();break e}l=Error(qe(426))}}else if(rr&&a.mode&1){var w=tN(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),nN(w,s,a,o,e),kA(Sh(l,a));break e}}o=l=Sh(l,a),Qr!==4&&(Qr=2),qm===null?qm=[o]:qm.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var b=$8(o,l,e);KC(o,b);break e;case 1:a=l;var E=o.type,A=o.stateNode;if(!(o.flags&128)&&(typeof E.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(ec===null||!ec.has(A)))){o.flags|=65536,e&=-e,o.lanes|=e;var C=B8(o,a,e);KC(o,C);break e}}o=o.return}while(o!==null)}sF(n)}catch(R){e=R,$r===n&&n!==null&&($r=n=n.return);continue}break}while(!0)}function iF(){var t=s1.current;return s1.current=o1,t===null?o1:t}function XA(){(Qr===0||Qr===3||Qr===2)&&(Qr=4),fi===null||!(xf&268435455)&&!(Qw&268435455)||Du(fi,Ei)}function u1(t,e){var n=sn;sn|=2;var r=iF();(fi!==t||Ei!==e)&&(wl=null,cf(t,e));do try{qG();break}catch(i){rF(t,i)}while(!0);if(OA(),sn=n,s1.current=r,$r!==null)throw Error(qe(261));return fi=null,Ei=0,Qr}function qG(){for(;$r!==null;)oF($r)}function zG(){for(;$r!==null&&!mH();)oF($r)}function oF(t){var e=lF(t.alternate,t,zo);t.memoizedProps=t.pendingProps,e===null?sF(t):$r=e,GA.current=null}function sF(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=FG(n,e),n!==null){n.flags&=32767,$r=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qr=6,$r=null;return}}else if(n=DG(n,e,zo),n!==null){$r=n;return}if(e=e.sibling,e!==null){$r=e;return}$r=e=t}while(e!==null);Qr===0&&(Qr=5)}function Hc(t,e,n){var r=In,i=Ss.transition;try{Ss.transition=null,In=1,HG(t,e,n,r)}finally{Ss.transition=i,In=r}return null}function HG(t,e,n,r){do eh();while(qu!==null);if(sn&6)throw Error(qe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(qe(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(AH(t,o),t===fi&&($r=fi=null,Ei=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Iv||(Iv=!0,uF(z0,function(){return eh(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ss.transition,Ss.transition=null;var s=In;In=1;var a=sn;sn|=4,GA.current=null,jG(t,n),eF(n,t),fG(cS),G0=!!uS,cS=uS=null,t.current=n,$G(n),gH(),sn=a,In=s,Ss.transition=o}else t.current=n;if(Iv&&(Iv=!1,qu=t,l1=i),o=t.pendingLanes,o===0&&(ec=null),wH(n.stateNode),Ao(t,Rr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(a1)throw a1=!1,t=NS,NS=null,t;return l1&1&&t.tag!==0&&eh(),o=t.pendingLanes,o&1?t===kS?zm++:(zm=0,kS=t):zm=0,yc(),null}function eh(){if(qu!==null){var t=$6(l1),e=Ss.transition,n=In;try{if(Ss.transition=null,In=16>t?16:t,qu===null)var r=!1;else{if(t=qu,qu=null,l1=0,sn&6)throw Error(qe(331));var i=sn;for(sn|=4,Ze=t.current;Ze!==null;){var o=Ze,s=o.child;if(Ze.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Ze=u;Ze!==null;){var c=Ze;switch(c.tag){case 0:case 11:case 15:Vm(8,c,o)}var f=c.child;if(f!==null)f.return=c,Ze=f;else for(;Ze!==null;){c=Ze;var d=c.sibling,h=c.return;if(X8(c),c===u){Ze=null;break}if(d!==null){d.return=h,Ze=d;break}Ze=h}}}var v=o.alternate;if(v!==null){var _=v.child;if(_!==null){v.child=null;do{var w=_.sibling;_.sibling=null,_=w}while(_!==null)}}Ze=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Ze=s;else e:for(;Ze!==null;){if(o=Ze,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Vm(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,Ze=b;break e}Ze=o.return}}var E=t.current;for(Ze=E;Ze!==null;){s=Ze;var A=s.child;if(s.subtreeFlags&2064&&A!==null)A.return=s,Ze=A;else e:for(s=E;Ze!==null;){if(a=Ze,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Xw(9,a)}}catch(R){_r(a,a.return,R)}if(a===s){Ze=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,Ze=C;break e}Ze=a.return}}if(sn=i,yc(),Fa&&typeof Fa.onPostCommitFiberRoot=="function")try{Fa.onPostCommitFiberRoot(qw,t)}catch{}r=!0}return r}finally{In=n,Ss.transition=e}}return!1}function mN(t,e,n){e=Sh(n,e),e=$8(t,e,1),t=Zu(t,e,1),e=so(),t!==null&&(yy(t,1,e),Ao(t,e))}function _r(t,e,n){if(t.tag===3)mN(t,t,n);else for(;e!==null;){if(e.tag===3){mN(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ec===null||!ec.has(r))){t=Sh(n,t),t=B8(e,t,1),e=Zu(e,t,1),t=so(),e!==null&&(yy(e,1,t),Ao(e,t));break}}e=e.return}}function GG(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=so(),t.pingedLanes|=t.suspendedLanes&n,fi===t&&(Ei&n)===n&&(Qr===4||Qr===3&&(Ei&130023424)===Ei&&500>Rr()-KA?cf(t,0):WA|=n),Ao(t,e)}function aF(t,e){e===0&&(t.mode&1?(e=yv,yv<<=1,!(yv&130023424)&&(yv=4194304)):e=1);var n=so();t=$l(t,e),t!==null&&(yy(t,e,n),Ao(t,n))}function WG(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),aF(t,n)}function KG(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(qe(314))}r!==null&&r.delete(e),aF(t,n)}var lF;lF=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||So.current)bo=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return bo=!1,LG(t,e,n);bo=!!(t.flags&131072)}else bo=!1,rr&&e.flags&1048576&&d8(e,Z0,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_0(t,e),t=e.pendingProps;var i=wh(e,Wi.current);Zd(e,n),i=BA(null,e,r,t,i,n);var o=VA();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Eo(r)?(o=!0,X0(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,DA(e),i.updater=Jw,e.stateNode=i,i._reactInternals=e,wS(e,r,t,n),e=xS(null,e,r,!0,o,n)):(e.tag=0,rr&&o&&CA(e),io(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(_0(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=JG(r),t=zs(r,t),i){case 0:e=bS(null,e,r,t,n);break e;case 1:e=oN(null,e,r,t,n);break e;case 11:e=rN(null,e,r,t,n);break e;case 14:e=iN(null,e,r,zs(r.type,t),n);break e}throw Error(qe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zs(r,i),bS(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zs(r,i),oN(t,e,r,i,n);case 3:e:{if(H8(e),t===null)throw Error(qe(387));r=e.pendingProps,o=e.memoizedState,i=o.element,v8(t,e),n1(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Sh(Error(qe(423)),e),e=sN(t,e,r,n,i);break e}else if(r!==i){i=Sh(Error(qe(424)),e),e=sN(t,e,r,n,i);break e}else for(Wo=Qu(e.stateNode.containerInfo.firstChild),Xo=e,rr=!0,Ws=null,n=g8(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_h(),r===i){e=Bl(t,e,n);break e}io(t,e,r,n)}e=e.child}return e;case 5:return w8(e),t===null&&gS(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,fS(r,i)?s=null:o!==null&&fS(r,o)&&(e.flags|=32),z8(t,e),io(t,e,s,n),e.child;case 6:return t===null&&gS(e),null;case 13:return G8(t,e,n);case 4:return FA(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=bh(e,null,r,n):io(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zs(r,i),rN(t,e,r,i,n);case 7:return io(t,e,e.pendingProps,n),e.child;case 8:return io(t,e,e.pendingProps.children,n),e.child;case 12:return io(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,zn(e1,r._currentValue),r._currentValue=s,o!==null)if(na(o.value,s)){if(o.children===i.children&&!So.current){e=Bl(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Ol(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),yS(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(qe(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),yS(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}io(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Zd(e,n),i=Is(i),r=r(i),e.flags|=1,io(t,e,r,n),e.child;case 14:return r=e.type,i=zs(r,e.pendingProps),i=zs(r.type,i),iN(t,e,r,i,n);case 15:return V8(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zs(r,i),_0(t,e),e.tag=1,Eo(r)?(t=!0,X0(e)):t=!1,Zd(e,n),j8(e,r,i),wS(e,r,i,n),xS(null,e,r,!0,t,n);case 19:return W8(t,e,n);case 22:return q8(t,e,n)}throw Error(qe(156,e.tag))};function uF(t,e){return D6(t,e)}function YG(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bs(t,e,n,r){return new YG(t,e,n,r)}function QA(t){return t=t.prototype,!(!t||!t.isReactComponent)}function JG(t){if(typeof t=="function")return QA(t)?1:0;if(t!=null){if(t=t.$$typeof,t===yA)return 11;if(t===vA)return 14}return 2}function nc(t,e){var n=t.alternate;return n===null?(n=bs(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function S0(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")QA(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case kd:return ff(n.children,i,o,e);case gA:s=8,i|=8;break;case qx:return t=bs(12,n,e,i|2),t.elementType=qx,t.lanes=o,t;case zx:return t=bs(13,n,e,i),t.elementType=zx,t.lanes=o,t;case Hx:return t=bs(19,n,e,i),t.elementType=Hx,t.lanes=o,t;case w6:return Zw(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case y6:s=10;break e;case v6:s=9;break e;case yA:s=11;break e;case vA:s=14;break e;case Ru:s=16,r=null;break e}throw Error(qe(130,t==null?t:typeof t,""))}return e=bs(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ff(t,e,n,r){return t=bs(7,t,r,e),t.lanes=n,t}function Zw(t,e,n,r){return t=bs(22,t,r,e),t.elementType=w6,t.lanes=n,t.stateNode={isHidden:!1},t}function gb(t,e,n){return t=bs(6,t,null,e),t.lanes=n,t}function yb(t,e,n){return e=bs(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function XG(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=X2(0),this.expirationTimes=X2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=X2(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ZA(t,e,n,r,i,o,s,a,l){return t=new XG(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=bs(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},DA(o),t}function QG(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nd,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function cF(t){if(!t)return lc;t=t._reactInternals;e:{if($f(t)!==t||t.tag!==1)throw Error(qe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Eo(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(qe(171))}if(t.tag===1){var n=t.type;if(Eo(n))return c8(t,n,e)}return e}function fF(t,e,n,r,i,o,s,a,l){return t=ZA(n,r,!0,t,i,o,s,a,l),t.context=cF(null),n=t.current,r=so(),i=tc(n),o=Ol(r,i),o.callback=e??null,Zu(n,o,i),t.current.lanes=i,yy(t,i,r),Ao(t,r),t}function e_(t,e,n,r){var i=e.current,o=so(),s=tc(i);return n=cF(n),e.context===null?e.context=n:e.pendingContext=n,e=Ol(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Zu(i,e,s),t!==null&&(Qs(t,i,s,o),y0(t,i,s)),s}function c1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function gN(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function eT(t,e){gN(t,e),(t=t.alternate)&&gN(t,e)}function ZG(){return null}var dF=typeof reportError=="function"?reportError:function(t){console.error(t)};function tT(t){this._internalRoot=t}t_.prototype.render=tT.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(qe(409));e_(t,e,null,null)};t_.prototype.unmount=tT.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Sf(function(){e_(null,t,null,null)}),e[jl]=null}};function t_(t){this._internalRoot=t}t_.prototype.unstable_scheduleHydration=function(t){if(t){var e=q6();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Lu.length&&e!==0&&e<Lu[n].priority;n++);Lu.splice(n,0,t),n===0&&H6(t)}};function nT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function n_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function yN(){}function eW(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=c1(s);o.call(u)}}var s=fF(e,r,t,0,null,!1,!1,"",yN);return t._reactRootContainer=s,t[jl]=s.current,dg(t.nodeType===8?t.parentNode:t),Sf(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=c1(l);a.call(u)}}var l=ZA(t,0,!1,null,null,!1,!1,"",yN);return t._reactRootContainer=l,t[jl]=l.current,dg(t.nodeType===8?t.parentNode:t),Sf(function(){e_(e,l,n,r)}),l}function r_(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=c1(s);a.call(l)}}e_(e,s,t,i)}else s=eW(n,e,t,i,r);return c1(s)}B6=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Tm(e.pendingLanes);n!==0&&(bA(e,n|1),Ao(e,Rr()),!(sn&6)&&(Eh=Rr()+500,yc()))}break;case 13:Sf(function(){var r=$l(t,1);if(r!==null){var i=so();Qs(r,t,1,i)}}),eT(t,1)}};xA=function(t){if(t.tag===13){var e=$l(t,134217728);if(e!==null){var n=so();Qs(e,t,134217728,n)}eT(t,134217728)}};V6=function(t){if(t.tag===13){var e=tc(t),n=$l(t,e);if(n!==null){var r=so();Qs(n,t,e,r)}eT(t,e)}};q6=function(){return In};z6=function(t,e){var n=In;try{return In=t,e()}finally{In=n}};tS=function(t,e,n){switch(e){case"input":if(Kx(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ww(r);if(!i)throw Error(qe(90));b6(r),Kx(r,i)}}}break;case"textarea":S6(t,n);break;case"select":e=n.value,e!=null&&Yd(t,!!n.multiple,e,!1)}};N6=YA;k6=Sf;var tW={usingClientEntryPoint:!1,Events:[wy,Ld,Ww,P6,C6,YA]},em={findFiberByHostInstance:tf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nW={bundleType:em.bundleType,version:em.version,rendererPackageName:em.rendererPackageName,rendererConfig:em.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=M6(t),t===null?null:t.stateNode},findFiberByHostInstance:em.findFiberByHostInstance||ZG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pv.isDisabled&&Pv.supportsFiber)try{qw=Pv.inject(nW),Fa=Pv}catch{}}Zo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tW;Zo.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nT(e))throw Error(qe(200));return QG(t,e,null,n)};Zo.createRoot=function(t,e){if(!nT(t))throw Error(qe(299));var n=!1,r="",i=dF;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ZA(t,1,!1,null,null,n,!1,r,i),t[jl]=e.current,dg(t.nodeType===8?t.parentNode:t),new tT(e)};Zo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(qe(188)):(t=Object.keys(t).join(","),Error(qe(268,t)));return t=M6(e),t=t===null?null:t.stateNode,t};Zo.flushSync=function(t){return Sf(t)};Zo.hydrate=function(t,e,n){if(!n_(e))throw Error(qe(200));return r_(null,t,e,!0,n)};Zo.hydrateRoot=function(t,e,n){if(!nT(t))throw Error(qe(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=dF;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=fF(e,null,t,1,n??null,i,!1,o,s),t[jl]=e.current,dg(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new t_(e)};Zo.render=function(t,e,n){if(!n_(e))throw Error(qe(200));return r_(null,t,e,!1,n)};Zo.unmountComponentAtNode=function(t){if(!n_(t))throw Error(qe(40));return t._reactRootContainer?(Sf(function(){r_(null,null,t,!1,function(){t._reactRootContainer=null,t[jl]=null})}),!0):!1};Zo.unstable_batchedUpdates=YA;Zo.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!n_(n))throw Error(qe(200));if(t==null||t._reactInternals===void 0)throw Error(qe(38));return r_(t,e,n,!1,r)};Zo.version="18.3.1-next-f1338f8080-20240426";function hF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hF)}catch(t){console.error(t)}}hF(),h6.exports=Zo;var rW=h6.exports,vN=rW;Bx.createRoot=vN.createRoot,Bx.hydrateRoot=vN.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bg(){return bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bg.apply(this,arguments)}var zu;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(zu||(zu={}));const wN="popstate";function iW(t){t===void 0&&(t={});function e(i,o){let{pathname:s="/",search:a="",hash:l=""}=Bf(i.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),MS("",{pathname:s,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof o=="string"?o:pF(o))}function r(i,o){i_(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return sW(e,n,r,t)}function Vr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function i_(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oW(){return Math.random().toString(36).substr(2,8)}function _N(t,e){return{usr:t.state,key:t.key,idx:e}}function MS(t,e,n,r){return n===void 0&&(n=null),bg({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Bf(e):e,{state:n,key:e&&e.key||r||oW()})}function pF(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Bf(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function sW(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=zu.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(bg({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function f(){a=zu.Pop;let w=c(),b=w==null?null:w-u;u=w,l&&l({action:a,location:_.location,delta:b})}function d(w,b){a=zu.Push;let E=MS(_.location,w,b);n&&n(E,w),u=c()+1;let A=_N(E,u),C=_.createHref(E);try{s.pushState(A,"",C)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(C)}o&&l&&l({action:a,location:_.location,delta:1})}function h(w,b){a=zu.Replace;let E=MS(_.location,w,b);n&&n(E,w),u=c();let A=_N(E,u),C=_.createHref(E);s.replaceState(A,"",C),o&&l&&l({action:a,location:_.location,delta:0})}function v(w){let b=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof w=="string"?w:pF(w);return E=E.replace(/ $/,"%20"),Vr(b,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,b)}let _={get action(){return a},get location(){return t(i,s)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(wN,f),l=w,()=>{i.removeEventListener(wN,f),l=null}},createHref(w){return e(i,w)},createURL:v,encodeLocation(w){let b=v(w);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:d,replace:h,go(w){return s.go(w)}};return _}var bN;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(bN||(bN={}));function aW(t,e,n){return n===void 0&&(n="/"),lW(t,e,n)}function lW(t,e,n,r){let i=typeof e=="string"?Bf(e):e,o=yF(i.pathname||"/",n);if(o==null)return null;let s=mF(t);uW(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=bW(o);a=vW(s[l],u)}return a}function mF(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Vr(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=df([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(Vr(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),mF(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:gW(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of gF(o.path))i(o,s,l)}),e}function gF(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=gF(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function uW(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yW(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const cW=/^:[\w-]+$/,fW=3,dW=2,hW=1,pW=10,mW=-2,xN=t=>t==="*";function gW(t,e){let n=t.split("/"),r=n.length;return n.some(xN)&&(r+=mW),e&&(r+=dW),n.filter(i=>!xN(i)).reduce((i,o)=>i+(cW.test(o)?fW:o===""?hW:pW),r)}function yW(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function vW(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",f=wW({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:df([o,f.pathname]),pathnameBase:TW(df([o,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(o=df([o,f.pathnameBase]))}return s}function wW(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=_W(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:d,isOptional:h}=c;if(d==="*"){let _=a[f]||"";s=o.slice(0,o.length-_.length).replace(/(.)\/+$/,"$1")}const v=a[f];return h&&!v?u[d]=void 0:u[d]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function _W(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),i_(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function bW(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return i_(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function yF(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const xW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,SW=t=>xW.test(t);function EW(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Bf(t):t,o;if(n)if(SW(n))o=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),i_(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+n))}n.startsWith("/")?o=SN(n.substring(1),"/"):o=SN(n,e)}else o=e;return{pathname:o,search:IW(r),hash:PW(i)}}function SN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function vb(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function AW(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vF(t,e){let n=AW(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function wF(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Bf(t):(i=bg({},t),Vr(!i.pathname||!i.pathname.includes("?"),vb("?","pathname","search",i)),Vr(!i.pathname||!i.pathname.includes("#"),vb("#","pathname","hash",i)),Vr(!i.search||!i.search.includes("#"),vb("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?e[f]:"/"}let l=EW(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const df=t=>t.join("/").replace(/\/\/+/g,"/"),TW=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),IW=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,PW=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function CW(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const _F=["post","put","patch","delete"];new Set(_F);const NW=["get",..._F];new Set(NW);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xg(){return xg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xg.apply(this,arguments)}const rT=ce.createContext(null),kW=ce.createContext(null),by=ce.createContext(null),o_=ce.createContext(null),Vf=ce.createContext({outlet:null,matches:[],isDataRoute:!1}),bF=ce.createContext(null);function xy(){return ce.useContext(o_)!=null}function Sy(){return xy()||Vr(!1),ce.useContext(o_).location}function xF(t){ce.useContext(by).static||ce.useLayoutEffect(t)}function iT(){let{isDataRoute:t}=ce.useContext(Vf);return t?zW():RW()}function RW(){xy()||Vr(!1);let t=ce.useContext(rT),{basename:e,future:n,navigator:r}=ce.useContext(by),{matches:i}=ce.useContext(Vf),{pathname:o}=Sy(),s=JSON.stringify(vF(i,n.v7_relativeSplatPath)),a=ce.useRef(!1);return xF(()=>{a.current=!0}),ce.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=wF(u,JSON.parse(s),o,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:df([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,s,o,t])}function OW(t,e){return MW(t,e)}function MW(t,e,n,r){xy()||Vr(!1);let{navigator:i}=ce.useContext(by),{matches:o}=ce.useContext(Vf),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=Sy(),c;if(e){var f;let w=typeof e=="string"?Bf(e):e;l==="/"||(f=w.pathname)!=null&&f.startsWith(l)||Vr(!1),c=w}else c=u;let d=c.pathname||"/",h=d;if(l!=="/"){let w=l.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=aW(t,{pathname:h}),_=jW(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:df([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:df([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return e&&_?ce.createElement(o_.Provider,{value:{location:xg({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:zu.Pop}},_):_}function LW(){let t=qW(),e=CW(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ce.createElement(ce.Fragment,null,ce.createElement("h2",null,"Unexpected Application Error!"),ce.createElement("h3",{style:{fontStyle:"italic"}},e),n?ce.createElement("pre",{style:i},n):null,null)}const DW=ce.createElement(LW,null);class FW extends ce.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?ce.createElement(Vf.Provider,{value:this.props.routeContext},ce.createElement(bF.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function UW(t){let{routeContext:e,match:n,children:r}=t,i=ce.useContext(rT);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),ce.createElement(Vf.Provider,{value:e},r)}function jW(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);c>=0||Vr(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let f=s[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:d,errors:h}=n,v=f.route.loader&&d[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||v){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,f,d)=>{let h,v=!1,_=null,w=null;n&&(h=a&&f.route.id?a[f.route.id]:void 0,_=f.route.errorElement||DW,l&&(u<0&&d===0?(HW("route-fallback"),v=!0,w=null):u===d&&(v=!0,w=f.route.hydrateFallbackElement||null)));let b=e.concat(s.slice(0,d+1)),E=()=>{let A;return h?A=_:v?A=w:f.route.Component?A=ce.createElement(f.route.Component,null):f.route.element?A=f.route.element:A=c,ce.createElement(UW,{match:f,routeContext:{outlet:c,matches:b,isDataRoute:n!=null},children:A})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?ce.createElement(FW,{location:n.location,revalidation:n.revalidation,component:_,error:h,children:E(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):E()},null)}var SF=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(SF||{}),EF=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(EF||{});function $W(t){let e=ce.useContext(rT);return e||Vr(!1),e}function BW(t){let e=ce.useContext(kW);return e||Vr(!1),e}function VW(t){let e=ce.useContext(Vf);return e||Vr(!1),e}function AF(t){let e=VW(),n=e.matches[e.matches.length-1];return n.route.id||Vr(!1),n.route.id}function qW(){var t;let e=ce.useContext(bF),n=BW(),r=AF();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function zW(){let{router:t}=$W(SF.UseNavigateStable),e=AF(EF.UseNavigateStable),n=ce.useRef(!1);return xF(()=>{n.current=!0}),ce.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,xg({fromRouteId:e},o)))},[t,e])}const EN={};function HW(t,e,n){EN[t]||(EN[t]=!0)}function GW(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function LS(t){let{to:e,replace:n,state:r,relative:i}=t;xy()||Vr(!1);let{future:o,static:s}=ce.useContext(by),{matches:a}=ce.useContext(Vf),{pathname:l}=Sy(),u=iT(),c=wF(e,vF(a,o.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(c);return ce.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function Ia(t){Vr(!1)}function WW(t){let{basename:e="/",children:n=null,location:r,navigationType:i=zu.Pop,navigator:o,static:s=!1,future:a}=t;xy()&&Vr(!1);let l=e.replace(/^\/*/,"/"),u=ce.useMemo(()=>({basename:l,navigator:o,static:s,future:xg({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=Bf(r));let{pathname:c="/",search:f="",hash:d="",state:h=null,key:v="default"}=r,_=ce.useMemo(()=>{let w=yF(c,l);return w==null?null:{location:{pathname:w,search:f,hash:d,state:h,key:v},navigationType:i}},[l,c,f,d,h,v,i]);return _==null?null:ce.createElement(by.Provider,{value:u},ce.createElement(o_.Provider,{children:n,value:_}))}function KW(t){let{children:e,location:n}=t;return OW(DS(e),n)}new Promise(()=>{});function DS(t,e){e===void 0&&(e=[]);let n=[];return ce.Children.forEach(t,(r,i)=>{if(!ce.isValidElement(r))return;let o=[...e,i];if(r.type===ce.Fragment){n.push.apply(n,DS(r.props.children,o));return}r.type!==Ia&&Vr(!1),!r.props.index||!r.props.children||Vr(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=DS(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const YW="6";try{window.__reactRouterVersion=YW}catch{}const JW="startTransition",AN=Gz[JW];function XW(t){let{basename:e,children:n,future:r,window:i}=t,o=ce.useRef();o.current==null&&(o.current=iW({window:i,v5Compat:!0}));let s=o.current,[a,l]=ce.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},c=ce.useCallback(f=>{u&&AN?AN(()=>l(f)):l(f)},[l,u]);return ce.useLayoutEffect(()=>s.listen(c),[s,c]),ce.useEffect(()=>GW(r),[r]),ce.createElement(WW,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}var TN;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(TN||(TN={}));var IN;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(IN||(IN={}));var ln=(t=>(t.ADMIN="ADMIN",t.EMPLOYEE="EMPLOYEE",t))(ln||{}),PN={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},QW=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},IF={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,f=(o&3)<<4|a>>4;let d=(a&15)<<2|u>>6,h=u&63;l||(h=64,s||(d=64)),r.push(n[c],n[f],n[d],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(TF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):QW(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new ZW;const d=o<<2|a>>4;if(r.push(d),u!==64){const h=a<<4&240|u>>2;if(r.push(h),f!==64){const v=u<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ZW extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eK=function(t){const e=TF(t);return IF.encodeByteArray(e,!0)},f1=function(t){return eK(t).replace(/\./g,"")},PF=function(t){try{return IF.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tK(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nK=()=>tK().__FIREBASE_DEFAULTS__,rK=()=>{if(typeof process>"u"||typeof PN>"u")return;const t=PN.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},iK=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&PF(t[1]);return e&&JSON.parse(e)},s_=()=>{try{return nK()||rK()||iK()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},CF=t=>{var e,n;return(n=(e=s_())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},NF=t=>{const e=CF(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},kF=()=>{var t;return(t=s_())===null||t===void 0?void 0:t.config},RF=t=>{var e;return(e=s_())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[f1(JSON.stringify(n)),f1(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sK(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ki())}function aK(){var t;const e=(t=s_())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lK(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uK(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cK(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fK(){const t=Ki();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function dK(){return!aK()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hK(){try{return typeof indexedDB=="object"}catch{return!1}}function pK(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mK="FirebaseError";class Xa extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=mK,Object.setPrototypeOf(this,Xa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ey.prototype.create)}}class Ey{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?gK(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Xa(i,a,r)}}function gK(t,e){return t.replace(yK,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const yK=/\{\$([^}]+)}/g;function vK(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Sg(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(CN(o)&&CN(s)){if(!Sg(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function CN(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Pm(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Cm(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function wK(t,e){const n=new _K(t,e);return n.subscribe.bind(n)}class _K{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");bK(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=wb),i.error===void 0&&(i.error=wb),i.complete===void 0&&(i.complete=wb);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bK(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function wb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(t){return t&&t._delegate?t._delegate:t}class uc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xK{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new oK;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(EK(e))try{this.getOrInitializeService({instanceIdentifier:Gc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Gc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gc){return this.instances.has(e)}getOptions(e=Gc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:SK(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gc){return this.component?this.component.multipleInstances?e:Gc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SK(t){return t===Gc?void 0:t}function EK(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new xK(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(tn||(tn={}));const TK={debug:tn.DEBUG,verbose:tn.VERBOSE,info:tn.INFO,warn:tn.WARN,error:tn.ERROR,silent:tn.SILENT},IK=tn.INFO,PK={[tn.DEBUG]:"log",[tn.VERBOSE]:"log",[tn.INFO]:"info",[tn.WARN]:"warn",[tn.ERROR]:"error"},CK=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=PK[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class oT{constructor(e){this.name=e,this._logLevel=IK,this._logHandler=CK,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TK[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tn.DEBUG,...e),this._logHandler(this,tn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tn.VERBOSE,...e),this._logHandler(this,tn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tn.INFO,...e),this._logHandler(this,tn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tn.WARN,...e),this._logHandler(this,tn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tn.ERROR,...e),this._logHandler(this,tn.ERROR,...e)}}const NK=(t,e)=>e.some(n=>t instanceof n);let NN,kN;function kK(){return NN||(NN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RK(){return kN||(kN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const MF=new WeakMap,FS=new WeakMap,LF=new WeakMap,_b=new WeakMap,sT=new WeakMap;function OK(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(rc(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&MF.set(n,t)}).catch(()=>{}),sT.set(e,t),e}function MK(t){if(FS.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});FS.set(t,e)}let US={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return FS.get(t);if(e==="objectStoreNames")return t.objectStoreNames||LF.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rc(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function LK(t){US=t(US)}function DK(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(bb(this),e,...n);return LF.set(r,e.sort?e.sort():[e]),rc(r)}:RK().includes(t)?function(...e){return t.apply(bb(this),e),rc(MF.get(this))}:function(...e){return rc(t.apply(bb(this),e))}}function FK(t){return typeof t=="function"?DK(t):(t instanceof IDBTransaction&&MK(t),NK(t,kK())?new Proxy(t,US):t)}function rc(t){if(t instanceof IDBRequest)return OK(t);if(_b.has(t))return _b.get(t);const e=FK(t);return e!==t&&(_b.set(t,e),sT.set(e,t)),e}const bb=t=>sT.get(t);function UK(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=rc(s);return r&&s.addEventListener("upgradeneeded",l=>{r(rc(s.result),l.oldVersion,l.newVersion,rc(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const jK=["get","getKey","getAll","getAllKeys","count"],$K=["put","add","delete","clear"],xb=new Map;function RN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xb.get(e))return xb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=$K.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||jK.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return xb.set(e,o),o}LK(t=>({...t,get:(e,n,r)=>RN(e,n)||t.get(e,n,r),has:(e,n)=>!!RN(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VK(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function VK(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jS="@firebase/app",ON="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=new oT("@firebase/app"),qK="@firebase/app-compat",zK="@firebase/analytics-compat",HK="@firebase/analytics",GK="@firebase/app-check-compat",WK="@firebase/app-check",KK="@firebase/auth",YK="@firebase/auth-compat",JK="@firebase/database",XK="@firebase/data-connect",QK="@firebase/database-compat",ZK="@firebase/functions",eY="@firebase/functions-compat",tY="@firebase/installations",nY="@firebase/installations-compat",rY="@firebase/messaging",iY="@firebase/messaging-compat",oY="@firebase/performance",sY="@firebase/performance-compat",aY="@firebase/remote-config",lY="@firebase/remote-config-compat",uY="@firebase/storage",cY="@firebase/storage-compat",fY="@firebase/firestore",dY="@firebase/vertexai-preview",hY="@firebase/firestore-compat",pY="firebase",mY="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="[DEFAULT]",gY={[jS]:"fire-core",[qK]:"fire-core-compat",[HK]:"fire-analytics",[zK]:"fire-analytics-compat",[WK]:"fire-app-check",[GK]:"fire-app-check-compat",[KK]:"fire-auth",[YK]:"fire-auth-compat",[JK]:"fire-rtdb",[XK]:"fire-data-connect",[QK]:"fire-rtdb-compat",[ZK]:"fire-fn",[eY]:"fire-fn-compat",[tY]:"fire-iid",[nY]:"fire-iid-compat",[rY]:"fire-fcm",[iY]:"fire-fcm-compat",[oY]:"fire-perf",[sY]:"fire-perf-compat",[aY]:"fire-rc",[lY]:"fire-rc-compat",[uY]:"fire-gcs",[cY]:"fire-gcs-compat",[fY]:"fire-fst",[hY]:"fire-fst-compat",[dY]:"fire-vertex","fire-js":"fire-js",[pY]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=new Map,yY=new Map,BS=new Map;function MN(t,e){try{t.container.addComponent(e)}catch(n){Vl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ef(t){const e=t.name;if(BS.has(e))return Vl.debug(`There were multiple attempts to register component ${e}.`),!1;BS.set(e,t);for(const n of d1.values())MN(n,t);for(const n of yY.values())MN(n,t);return!0}function a_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ys(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vY={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ic=new Ey("app","Firebase",vY);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wY{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new uc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ic.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf=mY;function DF(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:$S,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ic.create("bad-app-name",{appName:String(i)});if(n||(n=kF()),!n)throw ic.create("no-options");const o=d1.get(i);if(o){if(Sg(n,o.options)&&Sg(r,o.config))return o;throw ic.create("duplicate-app",{appName:i})}const s=new AK(i);for(const l of BS.values())s.addComponent(l);const a=new wY(n,r,s);return d1.set(i,a),a}function aT(t=$S){const e=d1.get(t);if(!e&&t===$S&&kF())return DF();if(!e)throw ic.create("no-app",{appName:t});return e}function ja(t,e,n){var r;let i=(r=gY[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vl.warn(a.join(" "));return}Ef(new uc(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Y="firebase-heartbeat-database",bY=1,Eg="firebase-heartbeat-store";let Sb=null;function FF(){return Sb||(Sb=UK(_Y,bY,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Eg)}catch(n){console.warn(n)}}}}).catch(t=>{throw ic.create("idb-open",{originalErrorMessage:t.message})})),Sb}async function xY(t){try{const n=(await FF()).transaction(Eg),r=await n.objectStore(Eg).get(UF(t));return await n.done,r}catch(e){if(e instanceof Xa)Vl.warn(e.message);else{const n=ic.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vl.warn(n.message)}}}async function LN(t,e){try{const r=(await FF()).transaction(Eg,"readwrite");await r.objectStore(Eg).put(e,UF(t)),await r.done}catch(n){if(n instanceof Xa)Vl.warn(n.message);else{const r=ic.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vl.warn(r.message)}}}function UF(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SY=1024,EY=30*24*60*60*1e3;class AY{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new IY(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=DN();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=EY}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Vl.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=DN(),{heartbeatsToSend:r,unsentEntries:i}=TY(this._heartbeatsCache.heartbeats),o=f1(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Vl.warn(n),""}}}function DN(){return new Date().toISOString().substring(0,10)}function TY(t,e=SY){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),FN(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),FN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class IY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hK()?pK().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xY(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return LN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return LN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function FN(t){return f1(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PY(t){Ef(new uc("platform-logger",e=>new BK(e),"PRIVATE")),Ef(new uc("heartbeat",e=>new AY(e),"PRIVATE")),ja(jS,ON,t),ja(jS,ON,"esm2017"),ja("fire-js","")}PY("");var UN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hf,jF;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,N){function T(){}T.prototype=N.prototype,k.D=N.prototype,k.prototype=new T,k.prototype.constructor=k,k.C=function(j,P,D){for(var U=Array(arguments.length-2),z=2;z<arguments.length;z++)U[z-2]=arguments[z];return N.prototype[P].apply(j,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,N,T){T||(T=0);var j=Array(16);if(typeof N=="string")for(var P=0;16>P;++P)j[P]=N.charCodeAt(T++)|N.charCodeAt(T++)<<8|N.charCodeAt(T++)<<16|N.charCodeAt(T++)<<24;else for(P=0;16>P;++P)j[P]=N[T++]|N[T++]<<8|N[T++]<<16|N[T++]<<24;N=k.g[0],T=k.g[1],P=k.g[2];var D=k.g[3],U=N+(D^T&(P^D))+j[0]+3614090360&4294967295;N=T+(U<<7&4294967295|U>>>25),U=D+(P^N&(T^P))+j[1]+3905402710&4294967295,D=N+(U<<12&4294967295|U>>>20),U=P+(T^D&(N^T))+j[2]+606105819&4294967295,P=D+(U<<17&4294967295|U>>>15),U=T+(N^P&(D^N))+j[3]+3250441966&4294967295,T=P+(U<<22&4294967295|U>>>10),U=N+(D^T&(P^D))+j[4]+4118548399&4294967295,N=T+(U<<7&4294967295|U>>>25),U=D+(P^N&(T^P))+j[5]+1200080426&4294967295,D=N+(U<<12&4294967295|U>>>20),U=P+(T^D&(N^T))+j[6]+2821735955&4294967295,P=D+(U<<17&4294967295|U>>>15),U=T+(N^P&(D^N))+j[7]+4249261313&4294967295,T=P+(U<<22&4294967295|U>>>10),U=N+(D^T&(P^D))+j[8]+1770035416&4294967295,N=T+(U<<7&4294967295|U>>>25),U=D+(P^N&(T^P))+j[9]+2336552879&4294967295,D=N+(U<<12&4294967295|U>>>20),U=P+(T^D&(N^T))+j[10]+4294925233&4294967295,P=D+(U<<17&4294967295|U>>>15),U=T+(N^P&(D^N))+j[11]+2304563134&4294967295,T=P+(U<<22&4294967295|U>>>10),U=N+(D^T&(P^D))+j[12]+1804603682&4294967295,N=T+(U<<7&4294967295|U>>>25),U=D+(P^N&(T^P))+j[13]+4254626195&4294967295,D=N+(U<<12&4294967295|U>>>20),U=P+(T^D&(N^T))+j[14]+2792965006&4294967295,P=D+(U<<17&4294967295|U>>>15),U=T+(N^P&(D^N))+j[15]+1236535329&4294967295,T=P+(U<<22&4294967295|U>>>10),U=N+(P^D&(T^P))+j[1]+4129170786&4294967295,N=T+(U<<5&4294967295|U>>>27),U=D+(T^P&(N^T))+j[6]+3225465664&4294967295,D=N+(U<<9&4294967295|U>>>23),U=P+(N^T&(D^N))+j[11]+643717713&4294967295,P=D+(U<<14&4294967295|U>>>18),U=T+(D^N&(P^D))+j[0]+3921069994&4294967295,T=P+(U<<20&4294967295|U>>>12),U=N+(P^D&(T^P))+j[5]+3593408605&4294967295,N=T+(U<<5&4294967295|U>>>27),U=D+(T^P&(N^T))+j[10]+38016083&4294967295,D=N+(U<<9&4294967295|U>>>23),U=P+(N^T&(D^N))+j[15]+3634488961&4294967295,P=D+(U<<14&4294967295|U>>>18),U=T+(D^N&(P^D))+j[4]+3889429448&4294967295,T=P+(U<<20&4294967295|U>>>12),U=N+(P^D&(T^P))+j[9]+568446438&4294967295,N=T+(U<<5&4294967295|U>>>27),U=D+(T^P&(N^T))+j[14]+3275163606&4294967295,D=N+(U<<9&4294967295|U>>>23),U=P+(N^T&(D^N))+j[3]+4107603335&4294967295,P=D+(U<<14&4294967295|U>>>18),U=T+(D^N&(P^D))+j[8]+1163531501&4294967295,T=P+(U<<20&4294967295|U>>>12),U=N+(P^D&(T^P))+j[13]+2850285829&4294967295,N=T+(U<<5&4294967295|U>>>27),U=D+(T^P&(N^T))+j[2]+4243563512&4294967295,D=N+(U<<9&4294967295|U>>>23),U=P+(N^T&(D^N))+j[7]+1735328473&4294967295,P=D+(U<<14&4294967295|U>>>18),U=T+(D^N&(P^D))+j[12]+2368359562&4294967295,T=P+(U<<20&4294967295|U>>>12),U=N+(T^P^D)+j[5]+4294588738&4294967295,N=T+(U<<4&4294967295|U>>>28),U=D+(N^T^P)+j[8]+2272392833&4294967295,D=N+(U<<11&4294967295|U>>>21),U=P+(D^N^T)+j[11]+1839030562&4294967295,P=D+(U<<16&4294967295|U>>>16),U=T+(P^D^N)+j[14]+4259657740&4294967295,T=P+(U<<23&4294967295|U>>>9),U=N+(T^P^D)+j[1]+2763975236&4294967295,N=T+(U<<4&4294967295|U>>>28),U=D+(N^T^P)+j[4]+1272893353&4294967295,D=N+(U<<11&4294967295|U>>>21),U=P+(D^N^T)+j[7]+4139469664&4294967295,P=D+(U<<16&4294967295|U>>>16),U=T+(P^D^N)+j[10]+3200236656&4294967295,T=P+(U<<23&4294967295|U>>>9),U=N+(T^P^D)+j[13]+681279174&4294967295,N=T+(U<<4&4294967295|U>>>28),U=D+(N^T^P)+j[0]+3936430074&4294967295,D=N+(U<<11&4294967295|U>>>21),U=P+(D^N^T)+j[3]+3572445317&4294967295,P=D+(U<<16&4294967295|U>>>16),U=T+(P^D^N)+j[6]+76029189&4294967295,T=P+(U<<23&4294967295|U>>>9),U=N+(T^P^D)+j[9]+3654602809&4294967295,N=T+(U<<4&4294967295|U>>>28),U=D+(N^T^P)+j[12]+3873151461&4294967295,D=N+(U<<11&4294967295|U>>>21),U=P+(D^N^T)+j[15]+530742520&4294967295,P=D+(U<<16&4294967295|U>>>16),U=T+(P^D^N)+j[2]+3299628645&4294967295,T=P+(U<<23&4294967295|U>>>9),U=N+(P^(T|~D))+j[0]+4096336452&4294967295,N=T+(U<<6&4294967295|U>>>26),U=D+(T^(N|~P))+j[7]+1126891415&4294967295,D=N+(U<<10&4294967295|U>>>22),U=P+(N^(D|~T))+j[14]+2878612391&4294967295,P=D+(U<<15&4294967295|U>>>17),U=T+(D^(P|~N))+j[5]+4237533241&4294967295,T=P+(U<<21&4294967295|U>>>11),U=N+(P^(T|~D))+j[12]+1700485571&4294967295,N=T+(U<<6&4294967295|U>>>26),U=D+(T^(N|~P))+j[3]+2399980690&4294967295,D=N+(U<<10&4294967295|U>>>22),U=P+(N^(D|~T))+j[10]+4293915773&4294967295,P=D+(U<<15&4294967295|U>>>17),U=T+(D^(P|~N))+j[1]+2240044497&4294967295,T=P+(U<<21&4294967295|U>>>11),U=N+(P^(T|~D))+j[8]+1873313359&4294967295,N=T+(U<<6&4294967295|U>>>26),U=D+(T^(N|~P))+j[15]+4264355552&4294967295,D=N+(U<<10&4294967295|U>>>22),U=P+(N^(D|~T))+j[6]+2734768916&4294967295,P=D+(U<<15&4294967295|U>>>17),U=T+(D^(P|~N))+j[13]+1309151649&4294967295,T=P+(U<<21&4294967295|U>>>11),U=N+(P^(T|~D))+j[4]+4149444226&4294967295,N=T+(U<<6&4294967295|U>>>26),U=D+(T^(N|~P))+j[11]+3174756917&4294967295,D=N+(U<<10&4294967295|U>>>22),U=P+(N^(D|~T))+j[2]+718787259&4294967295,P=D+(U<<15&4294967295|U>>>17),U=T+(D^(P|~N))+j[9]+3951481745&4294967295,k.g[0]=k.g[0]+N&4294967295,k.g[1]=k.g[1]+(P+(U<<21&4294967295|U>>>11))&4294967295,k.g[2]=k.g[2]+P&4294967295,k.g[3]=k.g[3]+D&4294967295}r.prototype.u=function(k,N){N===void 0&&(N=k.length);for(var T=N-this.blockSize,j=this.B,P=this.h,D=0;D<N;){if(P==0)for(;D<=T;)i(this,k,D),D+=this.blockSize;if(typeof k=="string"){for(;D<N;)if(j[P++]=k.charCodeAt(D++),P==this.blockSize){i(this,j),P=0;break}}else for(;D<N;)if(j[P++]=k[D++],P==this.blockSize){i(this,j),P=0;break}}this.h=P,this.o+=N},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var N=1;N<k.length-8;++N)k[N]=0;var T=8*this.o;for(N=k.length-8;N<k.length;++N)k[N]=T&255,T/=256;for(this.u(k),k=Array(16),N=T=0;4>N;++N)for(var j=0;32>j;j+=8)k[T++]=this.g[N]>>>j&255;return k};function o(k,N){var T=a;return Object.prototype.hasOwnProperty.call(T,k)?T[k]:T[k]=N(k)}function s(k,N){this.h=N;for(var T=[],j=!0,P=k.length-1;0<=P;P--){var D=k[P]|0;j&&D==N||(T[P]=D,j=!1)}this.g=T}var a={};function l(k){return-128<=k&&128>k?o(k,function(N){return new s([N|0],0>N?-1:0)}):new s([k|0],0>k?-1:0)}function u(k){if(isNaN(k)||!isFinite(k))return f;if(0>k)return w(u(-k));for(var N=[],T=1,j=0;k>=T;j++)N[j]=k/T|0,T*=4294967296;return new s(N,0)}function c(k,N){if(k.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(k.charAt(0)=="-")return w(c(k.substring(1),N));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=u(Math.pow(N,8)),j=f,P=0;P<k.length;P+=8){var D=Math.min(8,k.length-P),U=parseInt(k.substring(P,P+D),N);8>D?(D=u(Math.pow(N,D)),j=j.j(D).add(u(U))):(j=j.j(T),j=j.add(u(U)))}return j}var f=l(0),d=l(1),h=l(16777216);t=s.prototype,t.m=function(){if(_(this))return-w(this).m();for(var k=0,N=1,T=0;T<this.g.length;T++){var j=this.i(T);k+=(0<=j?j:4294967296+j)*N,N*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(v(this))return"0";if(_(this))return"-"+w(this).toString(k);for(var N=u(Math.pow(k,6)),T=this,j="";;){var P=C(T,N).g;T=b(T,P.j(N));var D=((0<T.g.length?T.g[0]:T.h)>>>0).toString(k);if(T=P,v(T))return D+j;for(;6>D.length;)D="0"+D;j=D+j}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function v(k){if(k.h!=0)return!1;for(var N=0;N<k.g.length;N++)if(k.g[N]!=0)return!1;return!0}function _(k){return k.h==-1}t.l=function(k){return k=b(this,k),_(k)?-1:v(k)?0:1};function w(k){for(var N=k.g.length,T=[],j=0;j<N;j++)T[j]=~k.g[j];return new s(T,~k.h).add(d)}t.abs=function(){return _(this)?w(this):this},t.add=function(k){for(var N=Math.max(this.g.length,k.g.length),T=[],j=0,P=0;P<=N;P++){var D=j+(this.i(P)&65535)+(k.i(P)&65535),U=(D>>>16)+(this.i(P)>>>16)+(k.i(P)>>>16);j=U>>>16,D&=65535,U&=65535,T[P]=U<<16|D}return new s(T,T[T.length-1]&-2147483648?-1:0)};function b(k,N){return k.add(w(N))}t.j=function(k){if(v(this)||v(k))return f;if(_(this))return _(k)?w(this).j(w(k)):w(w(this).j(k));if(_(k))return w(this.j(w(k)));if(0>this.l(h)&&0>k.l(h))return u(this.m()*k.m());for(var N=this.g.length+k.g.length,T=[],j=0;j<2*N;j++)T[j]=0;for(j=0;j<this.g.length;j++)for(var P=0;P<k.g.length;P++){var D=this.i(j)>>>16,U=this.i(j)&65535,z=k.i(P)>>>16,ee=k.i(P)&65535;T[2*j+2*P]+=U*ee,E(T,2*j+2*P),T[2*j+2*P+1]+=D*ee,E(T,2*j+2*P+1),T[2*j+2*P+1]+=U*z,E(T,2*j+2*P+1),T[2*j+2*P+2]+=D*z,E(T,2*j+2*P+2)}for(j=0;j<N;j++)T[j]=T[2*j+1]<<16|T[2*j];for(j=N;j<2*N;j++)T[j]=0;return new s(T,0)};function E(k,N){for(;(k[N]&65535)!=k[N];)k[N+1]+=k[N]>>>16,k[N]&=65535,N++}function A(k,N){this.g=k,this.h=N}function C(k,N){if(v(N))throw Error("division by zero");if(v(k))return new A(f,f);if(_(k))return N=C(w(k),N),new A(w(N.g),w(N.h));if(_(N))return N=C(k,w(N)),new A(w(N.g),N.h);if(30<k.g.length){if(_(k)||_(N))throw Error("slowDivide_ only works with positive integers.");for(var T=d,j=N;0>=j.l(k);)T=R(T),j=R(j);var P=F(T,1),D=F(j,1);for(j=F(j,2),T=F(T,2);!v(j);){var U=D.add(j);0>=U.l(k)&&(P=P.add(T),D=U),j=F(j,1),T=F(T,1)}return N=b(k,P.j(N)),new A(P,N)}for(P=f;0<=k.l(N);){for(T=Math.max(1,Math.floor(k.m()/N.m())),j=Math.ceil(Math.log(T)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),D=u(T),U=D.j(N);_(U)||0<U.l(k);)T-=j,D=u(T),U=D.j(N);v(D)&&(D=d),P=P.add(D),k=b(k,U)}return new A(P,k)}t.A=function(k){return C(this,k).h},t.and=function(k){for(var N=Math.max(this.g.length,k.g.length),T=[],j=0;j<N;j++)T[j]=this.i(j)&k.i(j);return new s(T,this.h&k.h)},t.or=function(k){for(var N=Math.max(this.g.length,k.g.length),T=[],j=0;j<N;j++)T[j]=this.i(j)|k.i(j);return new s(T,this.h|k.h)},t.xor=function(k){for(var N=Math.max(this.g.length,k.g.length),T=[],j=0;j<N;j++)T[j]=this.i(j)^k.i(j);return new s(T,this.h^k.h)};function R(k){for(var N=k.g.length+1,T=[],j=0;j<N;j++)T[j]=k.i(j)<<1|k.i(j-1)>>>31;return new s(T,k.h)}function F(k,N){var T=N>>5;N%=32;for(var j=k.g.length-T,P=[],D=0;D<j;D++)P[D]=0<N?k.i(D+T)>>>N|k.i(D+T+1)<<32-N:k.i(D+T);return new s(P,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,jF=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,hf=s}).apply(typeof UN<"u"?UN:typeof self<"u"?self:typeof window<"u"?window:{});var Cv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $F,Nm,BF,E0,VS,VF,qF,zF;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,M,V){return g==Array.prototype||g==Object.prototype||(g[M]=V.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cv=="object"&&Cv];for(var M=0;M<g.length;++M){var V=g[M];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var r=n(this);function i(g,M){if(M)e:{var V=r;g=g.split(".");for(var Q=0;Q<g.length-1;Q++){var be=g[Q];if(!(be in V))break e;V=V[be]}g=g[g.length-1],Q=V[g],M=M(Q),M!=Q&&M!=null&&e(V,g,{configurable:!0,writable:!0,value:M})}}function o(g,M){g instanceof String&&(g+="");var V=0,Q=!1,be={next:function(){if(!Q&&V<g.length){var Pe=V++;return{value:M(Pe,g[Pe]),done:!1}}return Q=!0,{done:!0,value:void 0}}};return be[Symbol.iterator]=function(){return be},be}i("Array.prototype.values",function(g){return g||function(){return o(this,function(M,V){return V})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(g){var M=typeof g;return M=M!="object"?M:g?Array.isArray(g)?"array":M:"null",M=="array"||M=="object"&&typeof g.length=="number"}function u(g){var M=typeof g;return M=="object"&&g!=null||M=="function"}function c(g,M,V){return g.call.apply(g.bind,arguments)}function f(g,M,V){if(!g)throw Error();if(2<arguments.length){var Q=Array.prototype.slice.call(arguments,2);return function(){var be=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(be,Q),g.apply(M,be)}}return function(){return g.apply(M,arguments)}}function d(g,M,V){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,d.apply(null,arguments)}function h(g,M){var V=Array.prototype.slice.call(arguments,1);return function(){var Q=V.slice();return Q.push.apply(Q,arguments),g.apply(this,Q)}}function v(g,M){function V(){}V.prototype=M.prototype,g.aa=M.prototype,g.prototype=new V,g.prototype.constructor=g,g.Qb=function(Q,be,Pe){for(var ze=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)ze[Zt-2]=arguments[Zt];return M.prototype[be].apply(Q,ze)}}function _(g){const M=g.length;if(0<M){const V=Array(M);for(let Q=0;Q<M;Q++)V[Q]=g[Q];return V}return[]}function w(g,M){for(let V=1;V<arguments.length;V++){const Q=arguments[V];if(l(Q)){const be=g.length||0,Pe=Q.length||0;g.length=be+Pe;for(let ze=0;ze<Pe;ze++)g[be+ze]=Q[ze]}else g.push(Q)}}class b{constructor(M,V){this.i=M,this.j=V,this.h=0,this.g=null}get(){let M;return 0<this.h?(this.h--,M=this.g,this.g=M.next,M.next=null):M=this.i(),M}}function E(g){return/^[\s\xa0]*$/.test(g)}function A(){var g=a.navigator;return g&&(g=g.userAgent)?g:""}function C(g){return C[" "](g),g}C[" "]=function(){};var R=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function F(g,M,V){for(const Q in g)M.call(V,g[Q],Q,g)}function k(g,M){for(const V in g)M.call(void 0,g[V],V,g)}function N(g){const M={};for(const V in g)M[V]=g[V];return M}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(g,M){let V,Q;for(let be=1;be<arguments.length;be++){Q=arguments[be];for(V in Q)g[V]=Q[V];for(let Pe=0;Pe<T.length;Pe++)V=T[Pe],Object.prototype.hasOwnProperty.call(Q,V)&&(g[V]=Q[V])}}function P(g){var M=1;g=g.split(":");const V=[];for(;0<M&&g.length;)V.push(g.shift()),M--;return g.length&&V.push(g.join(":")),V}function D(g){a.setTimeout(()=>{throw g},0)}function U(){var g=ae;let M=null;return g.g&&(M=g.g,g.g=g.g.next,g.g||(g.h=null),M.next=null),M}class z{constructor(){this.h=this.g=null}add(M,V){const Q=ee.get();Q.set(M,V),this.h?this.h.next=Q:this.g=Q,this.h=Q}}var ee=new b(()=>new le,g=>g.reset());class le{constructor(){this.next=this.g=this.h=null}set(M,V){this.h=M,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,X=!1,ae=new z,ye=()=>{const g=a.Promise.resolve(void 0);ue=()=>{g.then(me)}};var me=()=>{for(var g;g=U();){try{g.h.call(g.g)}catch(V){D(V)}var M=ee;M.j(g),100>M.h&&(M.h++,g.next=M.g,M.g=g)}X=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(g,M){this.type=g,this.g=this.target=M,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ne=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var g=!1,M=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const V=()=>{};a.addEventListener("test",V,M),a.removeEventListener("test",V,M)}catch{}return g}();function fe(g,M){if(W.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var V=this.type=g.type,Q=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=M,M=g.relatedTarget){if(R){e:{try{C(M.nodeName);var be=!0;break e}catch{}be=!1}be||(M=null)}}else V=="mouseover"?M=g.fromElement:V=="mouseout"&&(M=g.toElement);this.relatedTarget=M,Q?(this.clientX=Q.clientX!==void 0?Q.clientX:Q.pageX,this.clientY=Q.clientY!==void 0?Q.clientY:Q.pageY,this.screenX=Q.screenX||0,this.screenY=Q.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:he[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&fe.aa.h.call(this)}}v(fe,W);var he={2:"touch",3:"pen",4:"mouse"};fe.prototype.h=function(){fe.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),Te=0;function re(g,M,V,Q,be){this.listener=g,this.proxy=null,this.src=M,this.type=V,this.capture=!!Q,this.ha=be,this.key=++Te,this.da=this.fa=!1}function pe(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Ce(g){this.src=g,this.g={},this.h=0}Ce.prototype.add=function(g,M,V,Q,be){var Pe=g.toString();g=this.g[Pe],g||(g=this.g[Pe]=[],this.h++);var ze=Ee(g,M,Q,be);return-1<ze?(M=g[ze],V||(M.fa=!1)):(M=new re(M,this.src,Pe,!!Q,be),M.fa=V,g.push(M)),M};function Z(g,M){var V=M.type;if(V in g.g){var Q=g.g[V],be=Array.prototype.indexOf.call(Q,M,void 0),Pe;(Pe=0<=be)&&Array.prototype.splice.call(Q,be,1),Pe&&(pe(M),g.g[V].length==0&&(delete g.g[V],g.h--))}}function Ee(g,M,V,Q){for(var be=0;be<g.length;++be){var Pe=g[be];if(!Pe.da&&Pe.listener==M&&Pe.capture==!!V&&Pe.ha==Q)return be}return-1}var Ne="closure_lm_"+(1e6*Math.random()|0),Y={};function ke(g,M,V,Q,be){if(Array.isArray(M)){for(var Pe=0;Pe<M.length;Pe++)ke(g,M[Pe],V,Q,be);return null}return V=Ft(V),g&&g[we]?g.K(M,V,u(Q)?!!Q.capture:!1,be):Ye(g,M,V,!1,Q,be)}function Ye(g,M,V,Q,be,Pe){if(!M)throw Error("Invalid event type");var ze=u(be)?!!be.capture:!!be,Zt=ot(g);if(Zt||(g[Ne]=Zt=new Ce(g)),V=Zt.add(M,V,Q,ze,Pe),V.proxy)return V;if(Q=Xe(),V.proxy=Q,Q.src=g,Q.listener=V,g.addEventListener)ne||(be=ze),be===void 0&&(be=!1),g.addEventListener(M.toString(),Q,be);else if(g.attachEvent)g.attachEvent(We(M.toString()),Q);else if(g.addListener&&g.removeListener)g.addListener(Q);else throw Error("addEventListener and attachEvent are unavailable.");return V}function Xe(){function g(V){return M.call(g.src,g.listener,V)}const M=it;return g}function Fe(g,M,V,Q,be){if(Array.isArray(M))for(var Pe=0;Pe<M.length;Pe++)Fe(g,M[Pe],V,Q,be);else Q=u(Q)?!!Q.capture:!!Q,V=Ft(V),g&&g[we]?(g=g.i,M=String(M).toString(),M in g.g&&(Pe=g.g[M],V=Ee(Pe,V,Q,be),-1<V&&(pe(Pe[V]),Array.prototype.splice.call(Pe,V,1),Pe.length==0&&(delete g.g[M],g.h--)))):g&&(g=ot(g))&&(M=g.g[M.toString()],g=-1,M&&(g=Ee(M,V,Q,be)),(V=-1<g?M[g]:null)&&Je(V))}function Je(g){if(typeof g!="number"&&g&&!g.da){var M=g.src;if(M&&M[we])Z(M.i,g);else{var V=g.type,Q=g.proxy;M.removeEventListener?M.removeEventListener(V,Q,g.capture):M.detachEvent?M.detachEvent(We(V),Q):M.addListener&&M.removeListener&&M.removeListener(Q),(V=ot(M))?(Z(V,g),V.h==0&&(V.src=null,M[Ne]=null)):pe(g)}}}function We(g){return g in Y?Y[g]:Y[g]="on"+g}function it(g,M){if(g.da)g=!0;else{M=new fe(M,this);var V=g.listener,Q=g.ha||g.src;g.fa&&Je(g),g=V.call(Q,M)}return g}function ot(g){return g=g[Ne],g instanceof Ce?g:null}var Wt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ft(g){return typeof g=="function"?g:(g[Wt]||(g[Wt]=function(M){return g.handleEvent(M)}),g[Wt])}function dt(){B.call(this),this.i=new Ce(this),this.M=this,this.F=null}v(dt,B),dt.prototype[we]=!0,dt.prototype.removeEventListener=function(g,M,V,Q){Fe(this,g,M,V,Q)};function xt(g,M){var V,Q=g.F;if(Q)for(V=[];Q;Q=Q.F)V.push(Q);if(g=g.M,Q=M.type||M,typeof M=="string")M=new W(M,g);else if(M instanceof W)M.target=M.target||g;else{var be=M;M=new W(Q,g),j(M,be)}if(be=!0,V)for(var Pe=V.length-1;0<=Pe;Pe--){var ze=M.g=V[Pe];be=$t(ze,Q,!0,M)&&be}if(ze=M.g=g,be=$t(ze,Q,!0,M)&&be,be=$t(ze,Q,!1,M)&&be,V)for(Pe=0;Pe<V.length;Pe++)ze=M.g=V[Pe],be=$t(ze,Q,!1,M)&&be}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var g=this.i,M;for(M in g.g){for(var V=g.g[M],Q=0;Q<V.length;Q++)pe(V[Q]);delete g.g[M],g.h--}}this.F=null},dt.prototype.K=function(g,M,V,Q){return this.i.add(String(g),M,!1,V,Q)},dt.prototype.L=function(g,M,V,Q){return this.i.add(String(g),M,!0,V,Q)};function $t(g,M,V,Q){if(M=g.i.g[String(M)],!M)return!0;M=M.concat();for(var be=!0,Pe=0;Pe<M.length;++Pe){var ze=M[Pe];if(ze&&!ze.da&&ze.capture==V){var Zt=ze.listener,cr=ze.ha||ze.src;ze.fa&&Z(g.i,ze),be=Zt.call(cr,Q)!==!1&&be}}return be&&!Q.defaultPrevented}function st(g,M,V){if(typeof g=="function")V&&(g=d(g,V));else if(g&&typeof g.handleEvent=="function")g=d(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(M)?-1:a.setTimeout(g,M||0)}function Ct(g){g.g=st(()=>{g.g=null,g.i&&(g.i=!1,Ct(g))},g.l);const M=g.h;g.h=null,g.m.apply(null,M)}class ht extends B{constructor(M,V){super(),this.m=M,this.l=V,this.h=null,this.i=!1,this.g=null}j(M){this.h=arguments,this.g?this.i=!0:Ct(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rn(g){B.call(this),this.h=g,this.g={}}v(Rn,B);var Yt=[];function Ut(g){F(g.g,function(M,V){this.g.hasOwnProperty(V)&&Je(M)},g),g.g={}}Rn.prototype.N=function(){Rn.aa.N.call(this),Ut(this)},Rn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Lt=a.JSON.stringify,jn=a.JSON.parse,gt=class{stringify(g){return a.JSON.stringify(g,void 0)}parse(g){return a.JSON.parse(g,void 0)}};function yn(){}yn.prototype.h=null;function _t(g){return g.h||(g.h=g.i())}function It(){}var vn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jt(){W.call(this,"d")}v(jt,W);function yt(){W.call(this,"c")}v(yt,W);var qt={},da=null;function Ar(){return da=da||new dt}qt.La="serverreachability";function ts(g){W.call(this,qt.La,g)}v(ts,W);function Pi(g){const M=Ar();xt(M,new ts(M))}qt.STAT_EVENT="statevent";function wt(g,M){W.call(this,qt.STAT_EVENT,g),this.stat=M}v(wt,W);function Hn(g){const M=Ar();xt(M,new wt(M,g))}qt.Ma="timingevent";function ns(g,M){W.call(this,qt.Ma,g),this.size=M}v(ns,W);function ni(g,M){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){g()},M)}function ri(){this.g=!0}ri.prototype.xa=function(){this.g=!1};function er(g,M,V,Q,be,Pe){g.info(function(){if(g.g)if(Pe)for(var ze="",Zt=Pe.split("&"),cr=0;cr<Zt.length;cr++){var zt=Zt[cr].split("=");if(1<zt.length){var an=zt[0];zt=zt[1];var $n=an.split("_");ze=2<=$n.length&&$n[1]=="type"?ze+(an+"="+zt+"&"):ze+(an+"=redacted&")}}else ze=null;else ze=Pe;return"XMLHTTP REQ ("+Q+") [attempt "+be+"]: "+M+`
`+V+`
`+ze})}function Dr(g,M,V,Q,be,Pe,ze){g.info(function(){return"XMLHTTP RESP ("+Q+") [ attempt "+be+"]: "+M+`
`+V+`
`+Pe+" "+ze})}function tr(g,M,V,Q){g.info(function(){return"XMLHTTP TEXT ("+M+"): "+ha(g,V)+(Q?" "+Q:"")})}function tl(g,M){g.info(function(){return"TIMEOUT: "+M})}ri.prototype.info=function(){};function ha(g,M){if(!g.g)return M;if(!M)return null;try{var V=JSON.parse(M);if(V){for(g=0;g<V.length;g++)if(Array.isArray(V[g])){var Q=V[g];if(!(2>Q.length)){var be=Q[1];if(Array.isArray(be)&&!(1>be.length)){var Pe=be[0];if(Pe!="noop"&&Pe!="stop"&&Pe!="close")for(var ze=1;ze<be.length;ze++)be[ze]=""}}}}return Lt(V)}catch{return M}}var Ci={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Po={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yi;function Ni(){}v(Ni,yn),Ni.prototype.g=function(){return new XMLHttpRequest},Ni.prototype.i=function(){return{}},Yi=new Ni;function Tr(g,M,V,Q){this.j=g,this.i=M,this.l=V,this.R=Q||1,this.U=new Rn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pa}function pa(){this.i=null,this.g="",this.h=!1}var Co={},Ms={};function ma(g,M,V){g.L=1,g.v=sl(zr(M)),g.m=V,g.P=!0,nl(g,null)}function nl(g,M){g.F=Date.now(),ga(g),g.A=zr(g.v);var V=g.A,Q=g.R;Array.isArray(Q)||(Q=[String(Q)]),ld(V.i,"t",Q),g.C=0,V=g.j.J,g.h=new pa,g.g=mr(g.j,V?M:null,!g.m),0<g.O&&(g.M=new ht(d(g.Y,g,g.g),g.O)),M=g.U,V=g.g,Q=g.ca;var be="readystatechange";Array.isArray(be)||(be&&(Yt[0]=be.toString()),be=Yt);for(var Pe=0;Pe<be.length;Pe++){var ze=ke(V,be[Pe],Q||M.handleEvent,!1,M.h||M);if(!ze)break;M.g[ze.key]=ze}M=g.H?N(g.H):{},g.m?(g.u||(g.u="POST"),M["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,M)):(g.u="GET",g.g.ea(g.A,g.u,null,M)),Pi(),er(g.i,g.u,g.A,g.l,g.R,g.m)}Tr.prototype.ca=function(g){g=g.target;const M=this.M;M&&Ji(g)==3?M.j():this.Y(g)},Tr.prototype.Y=function(g){try{if(g==this.g)e:{const $n=Ji(this.g);var M=this.g.Ba();const Ro=this.g.Z();if(!(3>$n)&&($n!=3||this.g&&(this.h.h||this.g.oa()||Lc(this.g)))){this.J||$n!=4||M==7||(M==8||0>=Ro?Pi(3):Pi(2)),iu(this);var V=this.g.Z();this.X=V;t:if(rl(this)){var Q=Lc(this.g);g="";var be=Q.length,Pe=Ji(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){No(this),ii(this);var ze="";break t}this.h.i=new a.TextDecoder}for(M=0;M<be;M++)this.h.h=!0,g+=this.h.i.decode(Q[M],{stream:!(Pe&&M==be-1)});Q.length=0,this.h.g+=g,this.C=0,ze=this.h.g}else ze=this.g.oa();if(this.o=V==200,Dr(this.i,this.u,this.A,this.l,this.R,$n,V),this.o){if(this.T&&!this.K){t:{if(this.g){var Zt,cr=this.g;if((Zt=cr.g?cr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(Zt)){var zt=Zt;break t}}zt=null}if(V=zt)tr(this.i,this.l,V,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ou(this,V);else{this.o=!1,this.s=3,Hn(12),No(this),ii(this);break e}}if(this.P){V=!0;let ki;for(;!this.J&&this.C<ze.length;)if(ki=Tp(this,ze),ki==Ms){$n==4&&(this.s=4,Hn(14),V=!1),tr(this.i,this.l,null,"[Incomplete Response]");break}else if(ki==Co){this.s=4,Hn(15),tr(this.i,this.l,ze,"[Invalid Chunk]"),V=!1;break}else tr(this.i,this.l,ki,null),ou(this,ki);if(rl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$n!=4||ze.length!=0||this.h.h||(this.s=1,Hn(16),V=!1),this.o=this.o&&V,!V)tr(this.i,this.l,ze,"[Invalid Chunked Response]"),No(this),ii(this);else if(0<ze.length&&!this.W){this.W=!0;var an=this.j;an.g==this&&an.ba&&!an.M&&(an.j.info("Great, no buffering proxy detected. Bytes received: "+ze.length),Qe(an),an.M=!0,Hn(11))}}else tr(this.i,this.l,ze,null),ou(this,ze);$n==4&&No(this),this.o&&!this.J&&($n==4?Nt(this.j,this):(this.o=!1,ga(this)))}else cd(this.g),V==400&&0<ze.indexOf("Unknown SID")?(this.s=3,Hn(12)):(this.s=0,Hn(13)),No(this),ii(this)}}}catch{}finally{}};function rl(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Tp(g,M){var V=g.C,Q=M.indexOf(`
`,V);return Q==-1?Ms:(V=Number(M.substring(V,Q)),isNaN(V)?Co:(Q+=1,Q+V>M.length?Ms:(M=M.slice(Q,Q+V),g.C=Q+V,M)))}Tr.prototype.cancel=function(){this.J=!0,No(this)};function ga(g){g.S=Date.now()+g.I,Tc(g,g.I)}function Tc(g,M){if(g.B!=null)throw Error("WatchDog timer not null");g.B=ni(d(g.ba,g),M)}function iu(g){g.B&&(a.clearTimeout(g.B),g.B=null)}Tr.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(tl(this.i,this.A),this.L!=2&&(Pi(),Hn(17)),No(this),this.s=2,ii(this)):Tc(this,this.S-g)};function ii(g){g.j.G==0||g.J||Nt(g.j,g)}function No(g){iu(g);var M=g.M;M&&typeof M.ma=="function"&&M.ma(),g.M=null,Ut(g.U),g.g&&(M=g.g,g.g=null,M.abort(),M.ma())}function ou(g,M){try{var V=g.j;if(V.G!=0&&(V.g==g||fo(V.h,g))){if(!g.K&&fo(V.h,g)&&V.G==3){try{var Q=V.Da.g.parse(M)}catch{Q=null}if(Array.isArray(Q)&&Q.length==3){var be=Q;if(be[0]==0){e:if(!V.u){if(V.g)if(V.g.F+3e3<g.F)St(V),us(V);else break e;Ue(V),Hn(18)}}else V.za=be[1],0<V.za-V.T&&37500>be[2]&&V.F&&V.v==0&&!V.C&&(V.C=ni(d(V.Za,V),6e3));if(1>=Nc(V.h)&&V.ca){try{V.ca()}catch{}V.ca=void 0}}else hn(V,11)}else if((g.K||V.g==g)&&St(V),!E(M))for(be=V.Da.g.parse(M),M=0;M<be.length;M++){let zt=be[M];if(V.T=zt[0],zt=zt[1],V.G==2)if(zt[0]=="c"){V.K=zt[1],V.ia=zt[2];const an=zt[3];an!=null&&(V.la=an,V.j.info("VER="+V.la));const $n=zt[4];$n!=null&&(V.Aa=$n,V.j.info("SVER="+V.Aa));const Ro=zt[5];Ro!=null&&typeof Ro=="number"&&0<Ro&&(Q=1.5*Ro,V.L=Q,V.j.info("backChannelRequestTimeoutMs_="+Q)),Q=V;const ki=g.g;if(ki){const mi=ki.g?ki.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mi){var Pe=Q.h;Pe.g||mi.indexOf("spdy")==-1&&mi.indexOf("quic")==-1&&mi.indexOf("h2")==-1||(Pe.j=Pe.l,Pe.g=new Set,Pe.h&&(ya(Pe,Pe.h),Pe.h=null))}if(Q.D){const Fs=ki.g?ki.g.getResponseHeader("X-HTTP-Session-Id"):null;Fs&&(Q.ya=Fs,Jt(Q.I,Q.D,Fs))}}V.G=3,V.l&&V.l.ua(),V.ba&&(V.R=Date.now()-g.F,V.j.info("Handshake RTT: "+V.R+"ms")),Q=V;var ze=g;if(Q.qa=bn(Q,Q.J?Q.ia:null,Q.W),ze.K){rd(Q.h,ze);var Zt=ze,cr=Q.L;cr&&(Zt.I=cr),Zt.B&&(iu(Zt),ga(Zt)),Q.g=ze}else Me(Q);0<V.i.length&&I(V)}else zt[0]!="stop"&&zt[0]!="close"||hn(V,7);else V.G==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?hn(V,7):fu(V):zt[0]!="noop"&&V.l&&V.l.ta(zt),V.v=0)}}Pi(4)}catch{}}var Ic=class{constructor(g,M){this.g=g,this.map=M}};function Pc(g){this.l=g||10,a.PerformanceNavigationTiming?(g=a.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Cc(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Nc(g){return g.h?1:g.g?g.g.size:0}function fo(g,M){return g.h?g.h==M:g.g?g.g.has(M):!1}function ya(g,M){g.g?g.g.add(M):g.h=M}function rd(g,M){g.h&&g.h==M?g.h=null:g.g&&g.g.has(M)&&g.g.delete(M)}Pc.prototype.cancel=function(){if(this.i=sr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function sr(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let M=g.i;for(const V of g.g.values())M=M.concat(V.D);return M}return _(g.i)}function id(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(l(g)){for(var M=[],V=g.length,Q=0;Q<V;Q++)M.push(g[Q]);return M}M=[],V=0;for(Q in g)M[V++]=g[Q];return M}function rs(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(l(g)||typeof g=="string"){var M=[];g=g.length;for(var V=0;V<g;V++)M.push(V);return M}M=[],V=0;for(const Q in g)M[V++]=Q;return M}}}function il(g,M){if(g.forEach&&typeof g.forEach=="function")g.forEach(M,void 0);else if(l(g)||typeof g=="string")Array.prototype.forEach.call(g,M,void 0);else for(var V=rs(g),Q=id(g),be=Q.length,Pe=0;Pe<be;Pe++)M.call(void 0,Q[Pe],V&&V[Pe],g)}var kc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ho(g,M){if(g){g=g.split("&");for(var V=0;V<g.length;V++){var Q=g[V].indexOf("="),be=null;if(0<=Q){var Pe=g[V].substring(0,Q);be=g[V].substring(Q+1)}else Pe=g[V];M(Pe,be?decodeURIComponent(be.replace(/\+/g," ")):"")}}}function On(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof On){this.h=g.h,ol(this,g.j),this.o=g.o,this.g=g.g,su(this,g.s),this.l=g.l;var M=g.i,V=new pi;V.i=M.i,M.g&&(V.g=new Map(M.g),V.h=M.h),od(this,V),this.m=g.m}else g&&(M=String(g).match(kc))?(this.h=!1,ol(this,M[1]||"",!0),this.o=va(M[2]||""),this.g=va(M[3]||"",!0),su(this,M[4]),this.l=va(M[5]||"",!0),od(this,M[6]||"",!0),this.m=va(M[7]||"")):(this.h=!1,this.i=new pi(null,this.h))}On.prototype.toString=function(){var g=[],M=this.j;M&&g.push(is(M,sd,!0),":");var V=this.g;return(V||M=="file")&&(g.push("//"),(M=this.o)&&g.push(is(M,sd,!0),"@"),g.push(encodeURIComponent(String(V)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.s,V!=null&&g.push(":",String(V))),(V=this.l)&&(this.g&&V.charAt(0)!="/"&&g.push("/"),g.push(is(V,V.charAt(0)=="/"?Pp:Ip,!0))),(V=this.i.toString())&&g.push("?",V),(V=this.m)&&g.push("#",is(V,ad)),g.join("")};function zr(g){return new On(g)}function ol(g,M,V){g.j=V?va(M,!0):M,g.j&&(g.j=g.j.replace(/:$/,""))}function su(g,M){if(M){if(M=Number(M),isNaN(M)||0>M)throw Error("Bad port number "+M);g.s=M}else g.s=null}function od(g,M,V){M instanceof pi?(g.i=M,Cp(g.i,g.h)):(V||(M=is(M,Rc)),g.i=new pi(M,g.h))}function Jt(g,M,V){g.i.set(M,V)}function sl(g){return Jt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function va(g,M){return g?M?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function is(g,M,V){return typeof g=="string"?(g=encodeURI(g).replace(M,al),V&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function al(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var sd=/[#\/\?@]/g,Ip=/[#\?:]/g,Pp=/[#\?]/g,Rc=/[#\?@]/g,ad=/#/g;function pi(g,M){this.h=this.g=null,this.i=g||null,this.j=!!M}function os(g){g.g||(g.g=new Map,g.h=0,g.i&&ho(g.i,function(M,V){g.add(decodeURIComponent(M.replace(/\+/g," ")),V)}))}t=pi.prototype,t.add=function(g,M){os(this),this.i=null,g=bt(this,g);var V=this.g.get(g);return V||this.g.set(g,V=[]),V.push(M),this.h+=1,this};function wa(g,M){os(g),M=bt(g,M),g.g.has(M)&&(g.i=null,g.h-=g.g.get(M).length,g.g.delete(M))}function au(g,M){return os(g),M=bt(g,M),g.g.has(M)}t.forEach=function(g,M){os(this),this.g.forEach(function(V,Q){V.forEach(function(be){g.call(M,be,Q,this)},this)},this)},t.na=function(){os(this);const g=Array.from(this.g.values()),M=Array.from(this.g.keys()),V=[];for(let Q=0;Q<M.length;Q++){const be=g[Q];for(let Pe=0;Pe<be.length;Pe++)V.push(M[Q])}return V},t.V=function(g){os(this);let M=[];if(typeof g=="string")au(this,g)&&(M=M.concat(this.g.get(bt(this,g))));else{g=Array.from(this.g.values());for(let V=0;V<g.length;V++)M=M.concat(g[V])}return M},t.set=function(g,M){return os(this),this.i=null,g=bt(this,g),au(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[M]),this.h+=1,this},t.get=function(g,M){return g?(g=this.V(g),0<g.length?String(g[0]):M):M};function ld(g,M,V){wa(g,M),0<V.length&&(g.i=null,g.g.set(bt(g,M),_(V)),g.h+=V.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],M=Array.from(this.g.keys());for(var V=0;V<M.length;V++){var Q=M[V];const Pe=encodeURIComponent(String(Q)),ze=this.V(Q);for(Q=0;Q<ze.length;Q++){var be=Pe;ze[Q]!==""&&(be+="="+encodeURIComponent(String(ze[Q]))),g.push(be)}}return this.i=g.join("&")};function bt(g,M){return M=String(M),g.j&&(M=M.toLowerCase()),M}function Cp(g,M){M&&!g.j&&(os(g),g.i=null,g.g.forEach(function(V,Q){var be=Q.toLowerCase();Q!=be&&(wa(this,Q),ld(this,be,V))},g)),g.j=M}function Np(g,M){const V=new ri;if(a.Image){const Q=new Image;Q.onload=h(oi,V,"TestLoadImage: loaded",!0,M,Q),Q.onerror=h(oi,V,"TestLoadImage: error",!1,M,Q),Q.onabort=h(oi,V,"TestLoadImage: abort",!1,M,Q),Q.ontimeout=h(oi,V,"TestLoadImage: timeout",!1,M,Q),a.setTimeout(function(){Q.ontimeout&&Q.ontimeout()},1e4),Q.src=g}else M(!1)}function kp(g,M){const V=new ri,Q=new AbortController,be=setTimeout(()=>{Q.abort(),oi(V,"TestPingServer: timeout",!1,M)},1e4);fetch(g,{signal:Q.signal}).then(Pe=>{clearTimeout(be),Pe.ok?oi(V,"TestPingServer: ok",!0,M):oi(V,"TestPingServer: server error",!1,M)}).catch(()=>{clearTimeout(be),oi(V,"TestPingServer: error",!1,M)})}function oi(g,M,V,Q,be){try{be&&(be.onload=null,be.onerror=null,be.onabort=null,be.ontimeout=null),Q(V)}catch{}}function Ls(){this.g=new gt}function Rp(g,M,V){const Q=V||"";try{il(g,function(be,Pe){let ze=be;u(be)&&(ze=Lt(be)),M.push(Q+Pe+"="+encodeURIComponent(ze))})}catch(be){throw M.push(Q+"type="+encodeURIComponent("_badmap")),be}}function lu(g){this.l=g.Ub||null,this.j=g.eb||!1}v(lu,yn),lu.prototype.g=function(){return new Ds(this.l,this.j)},lu.prototype.i=function(g){return function(){return g}}({});function Ds(g,M){dt.call(this),this.D=g,this.o=M,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Ds,dt),t=Ds.prototype,t.open=function(g,M){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=M,this.readyState=1,ll(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const M={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(M.body=g),(this.D||a).fetch(new Request(this.A,M)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ko(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,ll(this)),this.g&&(this.readyState=3,ll(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;uu(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function uu(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var M=g.value?g.value:new Uint8Array(0);(M=this.v.decode(M,{stream:!g.done}))&&(this.response=this.responseText+=M)}g.done?ko(this):ll(this),this.readyState==3&&uu(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,ko(this))},t.Qa=function(g){this.g&&(this.response=g,ko(this))},t.ga=function(){this.g&&ko(this)};function ko(g){g.readyState=4,g.l=null,g.j=null,g.v=null,ll(g)}t.setRequestHeader=function(g,M){this.u.append(g,M)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],M=this.h.entries();for(var V=M.next();!V.done;)V=V.value,g.push(V[0]+": "+V[1]),V=M.next();return g.join(`\r
`)};function ll(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Ds.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function ss(g){let M="";return F(g,function(V,Q){M+=Q,M+=":",M+=V,M+=`\r
`}),M}function Oc(g,M,V){e:{for(Q in V){var Q=!1;break e}Q=!0}Q||(V=ss(V),typeof g=="string"?V!=null&&encodeURIComponent(String(V)):Jt(g,M,V))}function Nn(g){dt.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Nn,dt);var Mc=/^https?$/i,ud=["POST","PUT"];t=Nn.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,M,V,Q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);M=M?M.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yi.g(),this.v=this.o?_t(this.o):_t(Yi),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(M,String(g),!0),this.B=!1}catch(Pe){as(this,Pe);return}if(g=V||"",V=new Map(this.headers),Q)if(Object.getPrototypeOf(Q)===Object.prototype)for(var be in Q)V.set(be,Q[be]);else if(typeof Q.keys=="function"&&typeof Q.get=="function")for(const Pe of Q.keys())V.set(Pe,Q.get(Pe));else throw Error("Unknown input type for opt_headers: "+String(Q));Q=Array.from(V.keys()).find(Pe=>Pe.toLowerCase()=="content-type"),be=a.FormData&&g instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ud,M,void 0))||Q||be||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Pe,ze]of V)this.g.setRequestHeader(Pe,ze);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ba(this),this.u=!0,this.g.send(g),this.u=!1}catch(Pe){as(this,Pe)}};function as(g,M){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=M,g.m=5,cu(g),_a(g)}function cu(g){g.A||(g.A=!0,xt(g,"complete"),xt(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,xt(this,"complete"),xt(this,"abort"),_a(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_a(this,!0)),Nn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ul(this):this.bb())},t.bb=function(){ul(this)};function ul(g){if(g.h&&typeof s<"u"&&(!g.v[1]||Ji(g)!=4||g.Z()!=2)){if(g.u&&Ji(g)==4)st(g.Ea,0,g);else if(xt(g,"readystatechange"),Ji(g)==4){g.h=!1;try{const ze=g.Z();e:switch(ze){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var M=!0;break e;default:M=!1}var V;if(!(V=M)){var Q;if(Q=ze===0){var be=String(g.D).match(kc)[1]||null;!be&&a.self&&a.self.location&&(be=a.self.location.protocol.slice(0,-1)),Q=!Mc.test(be?be.toLowerCase():"")}V=Q}if(V)xt(g,"complete"),xt(g,"success");else{g.m=6;try{var Pe=2<Ji(g)?g.g.statusText:""}catch{Pe=""}g.l=Pe+" ["+g.Z()+"]",cu(g)}}finally{_a(g)}}}}function _a(g,M){if(g.g){ba(g);const V=g.g,Q=g.v[0]?()=>{}:null;g.g=null,g.v=null,M||xt(g,"ready");try{V.onreadystatechange=Q}catch{}}}function ba(g){g.I&&(a.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function Ji(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<Ji(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var M=this.g.responseText;return g&&M.indexOf(g)==0&&(M=M.substring(g.length)),jn(M)}};function Lc(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function cd(g){const M={};g=(g.g&&2<=Ji(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let Q=0;Q<g.length;Q++){if(E(g[Q]))continue;var V=P(g[Q]);const be=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const Pe=M[be]||[];M[be]=Pe,Pe.push(V)}k(M,function(Q){return Q.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xi(g,M,V){return V&&V.internalChannelParams&&V.internalChannelParams[g]||M}function ls(g){this.Aa=0,this.i=[],this.j=new ri,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xi("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xi("baseRetryDelayMs",5e3,g),this.cb=Xi("retryDelaySeedMs",1e4,g),this.Wa=Xi("forwardChannelMaxRetries",2,g),this.wa=Xi("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Pc(g&&g.concurrentRequestLimit),this.Da=new Ls,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ls.prototype,t.la=8,t.G=1,t.connect=function(g,M,V,Q){Hn(0),this.W=g,this.H=M||{},V&&Q!==void 0&&(this.H.OSID=V,this.H.OAID=Q),this.F=this.X,this.I=bn(this,null,this.W),I(this)};function fu(g){if(Dc(g),g.G==3){var M=g.U++,V=zr(g.I);if(Jt(V,"SID",g.K),Jt(V,"RID",M),Jt(V,"TYPE","terminate"),de(g,V),M=new Tr(g,g.j,M),M.L=2,M.v=sl(zr(V)),V=!1,a.navigator&&a.navigator.sendBeacon)try{V=a.navigator.sendBeacon(M.v.toString(),"")}catch{}!V&&a.Image&&(new Image().src=M.v,V=!0),V||(M.g=mr(M.j,null),M.g.ea(M.v)),M.F=Date.now(),ga(M)}ar(g)}function us(g){g.g&&(Qe(g),g.g.cancel(),g.g=null)}function Dc(g){us(g),g.u&&(a.clearTimeout(g.u),g.u=null),St(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&a.clearTimeout(g.s),g.s=null)}function I(g){if(!Cc(g.h)&&!g.s){g.s=!0;var M=g.Ga;ue||ye(),X||(ue(),X=!0),ae.add(M,g),g.B=0}}function q(g,M){return Nc(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=M.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=ni(d(g.Ga,g,M),Xt(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const be=new Tr(this,this.j,g);let Pe=this.o;if(this.S&&(Pe?(Pe=N(Pe),j(Pe,this.S)):Pe=this.S),this.m!==null||this.O||(be.H=Pe,Pe=null),this.P)e:{for(var M=0,V=0;V<this.i.length;V++){t:{var Q=this.i[V];if("__data__"in Q.map&&(Q=Q.map.__data__,typeof Q=="string")){Q=Q.length;break t}Q=void 0}if(Q===void 0)break;if(M+=Q,4096<M){M=V;break e}if(M===4096||V===this.i.length-1){M=V+1;break e}}M=1e3}else M=1e3;M=_e(this,be,M),V=zr(this.I),Jt(V,"RID",g),Jt(V,"CVER",22),this.D&&Jt(V,"X-HTTP-Session-Id",this.D),de(this,V),Pe&&(this.O?M="headers="+encodeURIComponent(String(ss(Pe)))+"&"+M:this.m&&Oc(V,this.m,Pe)),ya(this.h,be),this.Ua&&Jt(V,"TYPE","init"),this.P?(Jt(V,"$req",M),Jt(V,"SID","null"),be.T=!0,ma(be,V,null)):ma(be,V,M),this.G=2}}else this.G==3&&(g?ie(this,g):this.i.length==0||Cc(this.h)||ie(this))};function ie(g,M){var V;M?V=M.l:V=g.U++;const Q=zr(g.I);Jt(Q,"SID",g.K),Jt(Q,"RID",V),Jt(Q,"AID",g.T),de(g,Q),g.m&&g.o&&Oc(Q,g.m,g.o),V=new Tr(g,g.j,V,g.B+1),g.m===null&&(V.H=g.o),M&&(g.i=M.D.concat(g.i)),M=_e(g,V,1e3),V.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),ya(g.h,V),ma(V,Q,M)}function de(g,M){g.H&&F(g.H,function(V,Q){Jt(M,Q,V)}),g.l&&il({},function(V,Q){Jt(M,Q,V)})}function _e(g,M,V){V=Math.min(g.i.length,V);var Q=g.l?d(g.l.Na,g.l,g):null;e:{var be=g.i;let Pe=-1;for(;;){const ze=["count="+V];Pe==-1?0<V?(Pe=be[0].g,ze.push("ofs="+Pe)):Pe=0:ze.push("ofs="+Pe);let Zt=!0;for(let cr=0;cr<V;cr++){let zt=be[cr].g;const an=be[cr].map;if(zt-=Pe,0>zt)Pe=Math.max(0,be[cr].g-100),Zt=!1;else try{Rp(an,ze,"req"+zt+"_")}catch{Q&&Q(an)}}if(Zt){Q=ze.join("&");break e}}}return g=g.i.splice(0,V),M.D=g,Q}function Me(g){if(!g.g&&!g.u){g.Y=1;var M=g.Fa;ue||ye(),X||(ue(),X=!0),ae.add(M,g),g.v=0}}function Ue(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=ni(d(g.Fa,g),Xt(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,at(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=ni(d(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Hn(10),us(this),at(this))};function Qe(g){g.A!=null&&(a.clearTimeout(g.A),g.A=null)}function at(g){g.g=new Tr(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var M=zr(g.qa);Jt(M,"RID","rpc"),Jt(M,"SID",g.K),Jt(M,"AID",g.T),Jt(M,"CI",g.F?"0":"1"),!g.F&&g.ja&&Jt(M,"TO",g.ja),Jt(M,"TYPE","xmlhttp"),de(g,M),g.m&&g.o&&Oc(M,g.m,g.o),g.L&&(g.g.I=g.L);var V=g.g;g=g.ia,V.L=1,V.v=sl(zr(M)),V.m=null,V.P=!0,nl(V,g)}t.Za=function(){this.C!=null&&(this.C=null,us(this),Ue(this),Hn(19))};function St(g){g.C!=null&&(a.clearTimeout(g.C),g.C=null)}function Nt(g,M){var V=null;if(g.g==M){St(g),Qe(g),g.g=null;var Q=2}else if(fo(g.h,M))V=M.D,rd(g.h,M),Q=1;else return;if(g.G!=0){if(M.o)if(Q==1){V=M.m?M.m.length:0,M=Date.now()-M.F;var be=g.B;Q=Ar(),xt(Q,new ns(Q,V)),I(g)}else Me(g);else if(be=M.s,be==3||be==0&&0<M.X||!(Q==1&&q(g,M)||Q==2&&Ue(g)))switch(V&&0<V.length&&(M=g.h,M.i=M.i.concat(V)),be){case 1:hn(g,5);break;case 4:hn(g,10);break;case 3:hn(g,6);break;default:hn(g,2)}}}function Xt(g,M){let V=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(V*=2),V*M}function hn(g,M){if(g.j.info("Error code "+M),M==2){var V=d(g.fb,g),Q=g.Xa;const be=!Q;Q=new On(Q||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ol(Q,"https"),sl(Q),be?Np(Q.toString(),V):kp(Q.toString(),V)}else Hn(2);g.G=0,g.l&&g.l.sa(M),ar(g),Dc(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Hn(2)):(this.j.info("Failed to ping google.com"),Hn(1))};function ar(g){if(g.G=0,g.ka=[],g.l){const M=sr(g.h);(M.length!=0||g.i.length!=0)&&(w(g.ka,M),w(g.ka,g.i),g.h.i.length=0,_(g.i),g.i.length=0),g.l.ra()}}function bn(g,M,V){var Q=V instanceof On?zr(V):new On(V);if(Q.g!="")M&&(Q.g=M+"."+Q.g),su(Q,Q.s);else{var be=a.location;Q=be.protocol,M=M?M+"."+be.hostname:be.hostname,be=+be.port;var Pe=new On(null);Q&&ol(Pe,Q),M&&(Pe.g=M),be&&su(Pe,be),V&&(Pe.l=V),Q=Pe}return V=g.D,M=g.ya,V&&M&&Jt(Q,V,M),Jt(Q,"VER",g.la),de(g,Q),Q}function mr(g,M,V){if(M&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return M=g.Ca&&!g.pa?new Nn(new lu({eb:V})):new Nn(g.pa),M.Ha(g.J),M}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function lr(){}t=lr.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function gr(){}gr.prototype.g=function(g,M){return new ur(g,M)};function ur(g,M){dt.call(this),this.g=new ls(M),this.l=g,this.h=M&&M.messageUrlParams||null,g=M&&M.messageHeaders||null,M&&M.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=M&&M.initMessageHeaders||null,M&&M.messageContentType&&(g?g["X-WebChannel-Content-Type"]=M.messageContentType:g={"X-WebChannel-Content-Type":M.messageContentType}),M&&M.va&&(g?g["X-WebChannel-Client-Profile"]=M.va:g={"X-WebChannel-Client-Profile":M.va}),this.g.S=g,(g=M&&M.Sb)&&!E(g)&&(this.g.m=g),this.v=M&&M.supportsCrossDomainXhr||!1,this.u=M&&M.sendRawJson||!1,(M=M&&M.httpSessionIdParam)&&!E(M)&&(this.g.D=M,g=this.h,g!==null&&M in g&&(g=this.h,M in g&&delete g[M])),this.j=new fs(this)}v(ur,dt),ur.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ur.prototype.close=function(){fu(this.g)},ur.prototype.o=function(g){var M=this.g;if(typeof g=="string"){var V={};V.__data__=g,g=V}else this.u&&(V={},V.__data__=Lt(g),g=V);M.i.push(new Ic(M.Ya++,g)),M.G==3&&I(M)},ur.prototype.N=function(){this.g.l=null,delete this.j,fu(this.g),delete this.g,ur.aa.N.call(this)};function po(g){jt.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var M=g.__sm__;if(M){e:{for(const V in M){g=V;break e}g=void 0}(this.i=g)&&(g=this.i,M=M!==null&&g in M?M[g]:void 0),this.data=M}else this.data=g}v(po,jt);function cs(){yt.call(this),this.status=1}v(cs,yt);function fs(g){this.g=g}v(fs,lr),fs.prototype.ua=function(){xt(this.g,"a")},fs.prototype.ta=function(g){xt(this.g,new po(g))},fs.prototype.sa=function(g){xt(this.g,new cs)},fs.prototype.ra=function(){xt(this.g,"b")},gr.prototype.createWebChannel=gr.prototype.g,ur.prototype.send=ur.prototype.o,ur.prototype.open=ur.prototype.m,ur.prototype.close=ur.prototype.close,zF=function(){return new gr},qF=function(){return Ar()},VF=qt,VS={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ci.NO_ERROR=0,Ci.TIMEOUT=8,Ci.HTTP_ERROR=6,E0=Ci,Po.COMPLETE="complete",BF=Po,It.EventType=vn,vn.OPEN="a",vn.CLOSE="b",vn.ERROR="c",vn.MESSAGE="d",dt.prototype.listen=dt.prototype.K,Nm=It,Nn.prototype.listenOnce=Nn.prototype.L,Nn.prototype.getLastError=Nn.prototype.Ka,Nn.prototype.getLastErrorCode=Nn.prototype.Ba,Nn.prototype.getStatus=Nn.prototype.Z,Nn.prototype.getResponseJson=Nn.prototype.Oa,Nn.prototype.getResponseText=Nn.prototype.oa,Nn.prototype.send=Nn.prototype.ea,Nn.prototype.setWithCredentials=Nn.prototype.Ha,$F=Nn}).apply(typeof Cv<"u"?Cv:typeof self<"u"?self:typeof window<"u"?window:{});const jN="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bi=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Bi.UNAUTHENTICATED=new Bi(null),Bi.GOOGLE_CREDENTIALS=new Bi("google-credentials-uid"),Bi.FIRST_PARTY=new Bi("first-party-uid"),Bi.MOCK_USER=new Bi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let op="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af=new oT("@firebase/firestore");function tm(){return Af.logLevel}function lt(t,...e){if(Af.logLevel<=tn.DEBUG){const n=e.map(lT);Af.debug(`Firestore (${op}): ${t}`,...n)}}function ql(t,...e){if(Af.logLevel<=tn.ERROR){const n=e.map(lT);Af.error(`Firestore (${op}): ${t}`,...n)}}function Ah(t,...e){if(Af.logLevel<=tn.WARN){const n=e.map(lT);Af.warn(`Firestore (${op}): ${t}`,...n)}}function lT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t="Unexpected state"){const e=`FIRESTORE (${op}) INTERNAL ASSERTION FAILED: `+t;throw ql(e),new Error(e)}function Pn(t,e){t||Pt()}function Mt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const je={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class et extends Xa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bi.UNAUTHENTICATED))}shutdown(){}}class NY{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class kY{constructor(e){this.t=e,this.currentUser=Bi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Pn(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Ml;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ml,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ml)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pn(typeof r.accessToken=="string"),new HF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pn(e===null||typeof e=="string"),new Bi(e)}}class RY{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Bi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class OY{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new RY(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Bi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class MY{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LY{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Pn(this.o===void 0);const r=o=>{o.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,lt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Pn(typeof n.token=="string"),this.R=n.token,new MY(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DY(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=DY(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function un(t,e){return t<e?-1:t>e?1:0}function Th(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new et(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new et(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new et(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new et(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ei.fromMillis(Date.now())}static fromDate(e){return ei.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ei(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?un(this.nanoseconds,e.nanoseconds):un(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ot(e)}static min(){return new Ot(new ei(0,0))}static max(){return new Ot(new ei(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n,r){n===void 0?n=0:n>e.length&&Pt(),r===void 0?r=e.length-n:r>e.length-n&&Pt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ag.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ag?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Jn extends Ag{construct(e,n,r){return new Jn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new et(je.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Jn(n)}static emptyPath(){return new Jn([])}}const FY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xi extends Ag{construct(e,n,r){return new xi(e,n,r)}static isValidIdentifier(e){return FY.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new xi(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new et(je.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new et(je.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new et(je.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new et(je.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xi(n)}static emptyPath(){return new xi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.path=e}static fromPath(e){return new vt(Jn.fromString(e))}static fromName(e){return new vt(Jn.fromString(e).popFirst(5))}static empty(){return new vt(Jn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Jn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new vt(new Jn(e.slice()))}}function UY(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ot.fromTimestamp(r===1e9?new ei(n+1,0):new ei(n,r));return new cc(i,vt.empty(),e)}function jY(t){return new cc(t.readTime,t.key,-1)}class cc{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new cc(Ot.min(),vt.empty(),-1)}static max(){return new cc(Ot.max(),vt.empty(),-1)}}function $Y(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=vt.comparator(t.documentKey,e.documentKey),n!==0?n:un(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BY="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VY{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ty(t){if(t.code!==je.FAILED_PRECONDITION||t.message!==BY)throw t;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Be((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Be?n:Be.resolve(n)}catch(n){return Be.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Be.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Be.reject(n)}static resolve(e){return new Be((n,r)=>{n(e)})}static reject(e){return new Be((n,r)=>{r(e)})}static waitFor(e){return new Be((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=Be.resolve(!1);for(const r of e)n=n.next(i=>i?Be.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Be((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new Be((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function qY(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Iy(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}uT.oe=-1;function l_(t){return t==null}function h1(t){return t===0&&1/t==-1/0}function zY(t){return typeof t=="number"&&Number.isInteger(t)&&!h1(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zf(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function WF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,n){this.comparator=e,this.root=n||bi.EMPTY}insert(e,n){return new pr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bi.BLACK,null,null))}remove(e){return new pr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nv(this.root,e,this.comparator,!0)}}class Nv{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bi{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??bi.RED,this.left=i??bi.EMPTY,this.right=o??bi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new bi(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return bi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return bi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pt();const e=this.left.check();if(e!==this.right.check())throw Pt();return e+(this.isRed()?0:1)}}bi.EMPTY=null,bi.RED=!0,bi.BLACK=!1;bi.EMPTY=new class{constructor(){this.size=0}get key(){throw Pt()}get value(){throw Pt()}get color(){throw Pt()}get left(){throw Pt()}get right(){throw Pt()}copy(e,n,r,i,o){return this}insert(e,n,r){return new bi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this.comparator=e,this.data=new pr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new BN(this.data.getIterator())}getIteratorFrom(e){return new BN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ai)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ai(this.comparator);return n.data=e,n}}class BN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this.fields=e,e.sort(xi.comparator)}static empty(){return new Ko([])}unionWith(e){let n=new Ai(xi.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ko(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Th(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new KF("Invalid base64 string: "+o):o}}(e);return new Ii(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Ii(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return un(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ii.EMPTY_BYTE_STRING=new Ii("");const HY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fc(t){if(Pn(!!t),typeof t=="string"){let e=0;const n=HY.exec(t);if(Pn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:kr(t.seconds),nanos:kr(t.nanos)}}function kr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Tf(t){return typeof t=="string"?Ii.fromBase64String(t):Ii.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function fT(t){const e=t.mapValue.fields.__previous_value__;return cT(e)?fT(e):e}function Tg(t){const e=fc(t.mapValue.fields.__local_write_time__.timestampValue);return new ei(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GY{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Ig{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ig("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ig&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv={mapValue:{}};function If(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cT(t)?4:KY(t)?9007199254740991:WY(t)?10:11:Pt()}function Wa(t,e){if(t===e)return!0;const n=If(t);if(n!==If(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tg(t).isEqual(Tg(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=fc(i.timestampValue),a=fc(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Tf(i.bytesValue).isEqual(Tf(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return kr(i.geoPointValue.latitude)===kr(o.geoPointValue.latitude)&&kr(i.geoPointValue.longitude)===kr(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return kr(i.integerValue)===kr(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=kr(i.doubleValue),a=kr(o.doubleValue);return s===a?h1(s)===h1(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Th(t.arrayValue.values||[],e.arrayValue.values||[],Wa);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if($N(s)!==$N(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Wa(s[l],a[l])))return!1;return!0}(t,e);default:return Pt()}}function Pg(t,e){return(t.values||[]).find(n=>Wa(n,e))!==void 0}function Ih(t,e){if(t===e)return 0;const n=If(t),r=If(e);if(n!==r)return un(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return un(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=kr(o.integerValue||o.doubleValue),l=kr(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return VN(t.timestampValue,e.timestampValue);case 4:return VN(Tg(t),Tg(e));case 5:return un(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Tf(o),l=Tf(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=un(a[u],l[u]);if(c!==0)return c}return un(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=un(kr(o.latitude),kr(s.latitude));return a!==0?a:un(kr(o.longitude),kr(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return qN(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,c;const f=o.fields||{},d=s.fields||{},h=(a=f.value)===null||a===void 0?void 0:a.arrayValue,v=(l=d.value)===null||l===void 0?void 0:l.arrayValue,_=un(((u=h==null?void 0:h.values)===null||u===void 0?void 0:u.length)||0,((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0);return _!==0?_:qN(h,v)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===kv.mapValue&&s===kv.mapValue)return 0;if(o===kv.mapValue)return 1;if(s===kv.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const d=un(l[f],c[f]);if(d!==0)return d;const h=Ih(a[l[f]],u[c[f]]);if(h!==0)return h}return un(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Pt()}}function VN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return un(t,e);const n=fc(t),r=fc(e),i=un(n.seconds,r.seconds);return i!==0?i:un(n.nanos,r.nanos)}function qN(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Ih(n[i],r[i]);if(o)return o}return un(n.length,r.length)}function Ph(t){return qS(t)}function qS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=fc(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Tf(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return vt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=qS(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${qS(n.fields[s])}`;return i+"}"}(t.mapValue):Pt()}function zN(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function zS(t){return!!t&&"integerValue"in t}function dT(t){return!!t&&"arrayValue"in t}function HN(t){return!!t&&"nullValue"in t}function GN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function A0(t){return!!t&&"mapValue"in t}function WY(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Hm(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return zf(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Hm(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hm(t.arrayValue.values[n]);return e}return Object.assign({},t)}function KY(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.value=e}static empty(){return new _o({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!A0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hm(n)}setAll(e){let n=xi.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Hm(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());A0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];A0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){zf(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new _o(Hm(this.value))}}function YF(t){const e=[];return zf(t.fields,(n,r)=>{const i=new xi([n]);if(A0(r)){const o=YF(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Ko(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new qi(e,0,Ot.min(),Ot.min(),Ot.min(),_o.empty(),0)}static newFoundDocument(e,n,r,i){return new qi(e,1,n,Ot.min(),r,i,0)}static newNoDocument(e,n){return new qi(e,2,n,Ot.min(),Ot.min(),_o.empty(),0)}static newUnknownDocument(e,n){return new qi(e,3,n,Ot.min(),Ot.min(),_o.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_o.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_o.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ot.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,n){this.position=e,this.inclusive=n}}function WN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=vt.comparator(vt.fromName(s.referenceValue),n.key):r=Ih(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function KN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wa(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,n="asc"){this.field=e,this.dir=n}}function YY(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let JF=class{};class Br extends JF{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new XY(e,n,r):n==="array-contains"?new eJ(e,r):n==="in"?new tJ(e,r):n==="not-in"?new nJ(e,r):n==="array-contains-any"?new rJ(e,r):new Br(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new QY(e,r):new ZY(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ih(n,this.value)):n!==null&&If(this.value)===If(n)&&this.matchesComparison(Ih(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ra extends JF{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ra(e,n)}matches(e){return XF(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function XF(t){return t.op==="and"}function QF(t){return JY(t)&&XF(t)}function JY(t){for(const e of t.filters)if(e instanceof ra)return!1;return!0}function HS(t){if(t instanceof Br)return t.field.canonicalString()+t.op.toString()+Ph(t.value);if(QF(t))return t.filters.map(e=>HS(e)).join(",");{const e=t.filters.map(n=>HS(n)).join(",");return`${t.op}(${e})`}}function ZF(t,e){return t instanceof Br?function(r,i){return i instanceof Br&&r.op===i.op&&r.field.isEqual(i.field)&&Wa(r.value,i.value)}(t,e):t instanceof ra?function(r,i){return i instanceof ra&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&ZF(s,i.filters[a]),!0):!1}(t,e):void Pt()}function eU(t){return t instanceof Br?function(n){return`${n.field.canonicalString()} ${n.op} ${Ph(n.value)}`}(t):t instanceof ra?function(n){return n.op.toString()+" {"+n.getFilters().map(eU).join(" ,")+"}"}(t):"Filter"}class XY extends Br{constructor(e,n,r){super(e,n,r),this.key=vt.fromName(r.referenceValue)}matches(e){const n=vt.comparator(e.key,this.key);return this.matchesComparison(n)}}class QY extends Br{constructor(e,n){super(e,"in",n),this.keys=tU("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ZY extends Br{constructor(e,n){super(e,"not-in",n),this.keys=tU("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function tU(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>vt.fromName(r.referenceValue))}class eJ extends Br{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return dT(n)&&Pg(n.arrayValue,this.value)}}class tJ extends Br{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Pg(this.value.arrayValue,n)}}class nJ extends Br{constructor(e,n){super(e,"not-in",n)}matches(e){if(Pg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Pg(this.value.arrayValue,n)}}class rJ extends Br{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!dT(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Pg(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iJ{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function YN(t,e=null,n=[],r=[],i=null,o=null,s=null){return new iJ(t,e,n,r,i,o,s)}function hT(t){const e=Mt(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>HS(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),l_(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ph(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ph(r)).join(",")),e.ue=n}return e.ue}function pT(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!YY(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ZF(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!KN(t.startAt,e.startAt)&&KN(t.endAt,e.endAt)}function GS(t){return vt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function oJ(t,e,n,r,i,o,s,a){return new Py(t,e,n,r,i,o,s,a)}function mT(t){return new Py(t)}function JN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nU(t){return t.collectionGroup!==null}function Gm(t){const e=Mt(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ai(xi.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new m1(o,r))}),n.has(xi.keyField().canonicalString())||e.ce.push(new m1(xi.keyField(),r))}return e.ce}function $a(t){const e=Mt(t);return e.le||(e.le=sJ(e,Gm(t))),e.le}function sJ(t,e){if(t.limitType==="F")return YN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new m1(i.field,o)});const n=t.endAt?new p1(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new p1(t.startAt.position,t.startAt.inclusive):null;return YN(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function WS(t,e){const n=t.filters.concat([e]);return new Py(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function g1(t,e,n){return new Py(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function u_(t,e){return pT($a(t),$a(e))&&t.limitType===e.limitType}function rU(t){return`${hT($a(t))}|lt:${t.limitType}`}function Ed(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>eU(i)).join(", ")}]`),l_(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ph(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ph(i)).join(",")),`Target(${r})`}($a(t))}; limitType=${t.limitType})`}function c_(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):vt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Gm(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=WN(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Gm(r),i)||r.endAt&&!function(s,a,l){const u=WN(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Gm(r),i))}(t,e)}function aJ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function iU(t){return(e,n)=>{let r=!1;for(const i of Gm(t)){const o=lJ(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function lJ(t,e,n){const r=t.field.isKeyField()?vt.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Ih(l,u):Pt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Pt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){zf(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return WF(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uJ=new pr(vt.comparator);function zl(){return uJ}const oU=new pr(vt.comparator);function km(...t){let e=oU;for(const n of t)e=e.insert(n.key,n);return e}function sU(t){let e=oU;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function of(){return Wm()}function aU(){return Wm()}function Wm(){return new sp(t=>t.toString(),(t,e)=>t.isEqual(e))}const cJ=new pr(vt.comparator),fJ=new Ai(vt.comparator);function Qt(...t){let e=fJ;for(const n of t)e=e.add(n);return e}const dJ=new Ai(un);function hJ(){return dJ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:h1(e)?"-0":e}}function lU(t){return{integerValue:""+t}}function pJ(t,e){return zY(e)?lU(e):gT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(){this._=void 0}}function mJ(t,e,n){return t instanceof y1?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&cT(o)&&(o=fT(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Ch?cU(t,e):t instanceof Cg?fU(t,e):function(i,o){const s=uU(i,o),a=XN(s)+XN(i.Pe);return zS(s)&&zS(i.Pe)?lU(a):gT(i.serializer,a)}(t,e)}function gJ(t,e,n){return t instanceof Ch?cU(t,e):t instanceof Cg?fU(t,e):n}function uU(t,e){return t instanceof v1?function(r){return zS(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class y1 extends f_{}class Ch extends f_{constructor(e){super(),this.elements=e}}function cU(t,e){const n=dU(e);for(const r of t.elements)n.some(i=>Wa(i,r))||n.push(r);return{arrayValue:{values:n}}}class Cg extends f_{constructor(e){super(),this.elements=e}}function fU(t,e){let n=dU(e);for(const r of t.elements)n=n.filter(i=>!Wa(i,r));return{arrayValue:{values:n}}}class v1 extends f_{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function XN(t){return kr(t.integerValue||t.doubleValue)}function dU(t){return dT(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yJ{constructor(e,n){this.field=e,this.transform=n}}function vJ(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ch&&i instanceof Ch||r instanceof Cg&&i instanceof Cg?Th(r.elements,i.elements,Wa):r instanceof v1&&i instanceof v1?Wa(r.Pe,i.Pe):r instanceof y1&&i instanceof y1}(t.transform,e.transform)}class wJ{constructor(e,n){this.version=e,this.transformResults=n}}class Es{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Es}static exists(e){return new Es(void 0,e)}static updateTime(e){return new Es(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function T0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class d_{}function hU(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new yT(t.key,Es.none()):new Cy(t.key,t.data,Es.none());{const n=t.data,r=_o.empty();let i=new Ai(xi.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new vc(t.key,r,new Ko(i.toArray()),Es.none())}}function _J(t,e,n){t instanceof Cy?function(i,o,s){const a=i.value.clone(),l=ZN(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof vc?function(i,o,s){if(!T0(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=ZN(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(pU(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Km(t,e,n,r){return t instanceof Cy?function(o,s,a,l){if(!T0(o.precondition,s))return a;const u=o.value.clone(),c=ek(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof vc?function(o,s,a,l){if(!T0(o.precondition,s))return a;const u=ek(o.fieldTransforms,l,s),c=s.data;return c.setAll(pU(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return T0(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function bJ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=uU(r.transform,i||null);o!=null&&(n===null&&(n=_o.empty()),n.set(r.field,o))}return n||null}function QN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Th(r,i,(o,s)=>vJ(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cy extends d_{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class vc extends d_{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function pU(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ZN(t,e,n){const r=new Map;Pn(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,gJ(s,a,n[i]))}return r}function ek(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,mJ(o,s,e))}return r}class yT extends d_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xJ extends d_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SJ{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&_J(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Km(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Km(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=aU();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=hU(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Ot.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Qt())}isEqual(e){return this.batchId===e.batchId&&Th(this.mutations,e.mutations,(n,r)=>QN(n,r))&&Th(this.baseMutations,e.baseMutations,(n,r)=>QN(n,r))}}class vT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Pn(e.mutations.length===r.length);let i=function(){return cJ}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new vT(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EJ{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AJ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fr,rn;function TJ(t){switch(t){default:return Pt();case je.CANCELLED:case je.UNKNOWN:case je.DEADLINE_EXCEEDED:case je.RESOURCE_EXHAUSTED:case je.INTERNAL:case je.UNAVAILABLE:case je.UNAUTHENTICATED:return!1;case je.INVALID_ARGUMENT:case je.NOT_FOUND:case je.ALREADY_EXISTS:case je.PERMISSION_DENIED:case je.FAILED_PRECONDITION:case je.ABORTED:case je.OUT_OF_RANGE:case je.UNIMPLEMENTED:case je.DATA_LOSS:return!0}}function mU(t){if(t===void 0)return ql("GRPC error has no .code"),je.UNKNOWN;switch(t){case Fr.OK:return je.OK;case Fr.CANCELLED:return je.CANCELLED;case Fr.UNKNOWN:return je.UNKNOWN;case Fr.DEADLINE_EXCEEDED:return je.DEADLINE_EXCEEDED;case Fr.RESOURCE_EXHAUSTED:return je.RESOURCE_EXHAUSTED;case Fr.INTERNAL:return je.INTERNAL;case Fr.UNAVAILABLE:return je.UNAVAILABLE;case Fr.UNAUTHENTICATED:return je.UNAUTHENTICATED;case Fr.INVALID_ARGUMENT:return je.INVALID_ARGUMENT;case Fr.NOT_FOUND:return je.NOT_FOUND;case Fr.ALREADY_EXISTS:return je.ALREADY_EXISTS;case Fr.PERMISSION_DENIED:return je.PERMISSION_DENIED;case Fr.FAILED_PRECONDITION:return je.FAILED_PRECONDITION;case Fr.ABORTED:return je.ABORTED;case Fr.OUT_OF_RANGE:return je.OUT_OF_RANGE;case Fr.UNIMPLEMENTED:return je.UNIMPLEMENTED;case Fr.DATA_LOSS:return je.DATA_LOSS;default:return Pt()}}(rn=Fr||(Fr={}))[rn.OK=0]="OK",rn[rn.CANCELLED=1]="CANCELLED",rn[rn.UNKNOWN=2]="UNKNOWN",rn[rn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rn[rn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rn[rn.NOT_FOUND=5]="NOT_FOUND",rn[rn.ALREADY_EXISTS=6]="ALREADY_EXISTS",rn[rn.PERMISSION_DENIED=7]="PERMISSION_DENIED",rn[rn.UNAUTHENTICATED=16]="UNAUTHENTICATED",rn[rn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rn[rn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rn[rn.ABORTED=10]="ABORTED",rn[rn.OUT_OF_RANGE=11]="OUT_OF_RANGE",rn[rn.UNIMPLEMENTED=12]="UNIMPLEMENTED",rn[rn.INTERNAL=13]="INTERNAL",rn[rn.UNAVAILABLE=14]="UNAVAILABLE",rn[rn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IJ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PJ=new hf([4294967295,4294967295],0);function tk(t){const e=IJ().encode(t),n=new jF;return n.update(e),new Uint8Array(n.digest())}function nk(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new hf([n,r],0),new hf([i,o],0)]}class wT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Rm(`Invalid padding: ${n}`);if(r<0)throw new Rm(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Rm(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Rm(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=hf.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(hf.fromNumber(r)));return i.compare(PJ)===1&&(i=new hf([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=tk(e),[r,i]=nk(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new wT(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=tk(e),[r,i]=nk(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Rm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ny.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new h_(Ot.min(),i,new pr(un),zl(),Qt())}}class Ny{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ny(r,n,Qt(),Qt(),Qt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class gU{constructor(e,n){this.targetId=e,this.me=n}}class yU{constructor(e,n,r=Ii.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class rk{constructor(){this.fe=0,this.ge=ok(),this.pe=Ii.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Qt(),n=Qt(),r=Qt();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Pt()}}),new Ny(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=ok()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Pn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class CJ{constructor(e){this.Le=e,this.Be=new Map,this.ke=zl(),this.qe=ik(),this.Qe=new pr(un)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Pt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(GS(o))if(r===0){const s=new vt(o.path);this.Ue(n,s,qi.newNoDocument(s,Ot.min()))}else Pn(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Tf(r).toUint8Array()}catch(l){if(l instanceof KF)return Ah("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new wT(s,i,o)}catch(l){return Ah(l instanceof Rm?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&GS(a.target)){const l=new vt(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,qi.newNoDocument(l,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=Qt();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new h_(e,n,this.Qe,this.ke,r);return this.ke=zl(),this.qe=ik(),this.Qe=new pr(un),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new rk,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ai(un),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||lt("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new rk),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function ik(){return new pr(vt.comparator)}function ok(){return new pr(vt.comparator)}const NJ={asc:"ASCENDING",desc:"DESCENDING"},kJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RJ={and:"AND",or:"OR"};class OJ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function KS(t,e){return t.useProto3Json||l_(e)?e:{value:e}}function w1(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vU(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function MJ(t,e){return w1(t,e.toTimestamp())}function Ba(t){return Pn(!!t),Ot.fromTimestamp(function(n){const r=fc(n);return new ei(r.seconds,r.nanos)}(t))}function _T(t,e){return YS(t,e).canonicalString()}function YS(t,e){const n=function(i){return new Jn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function wU(t){const e=Jn.fromString(t);return Pn(EU(e)),e}function JS(t,e){return _T(t.databaseId,e.path)}function Eb(t,e){const n=wU(e);if(n.get(1)!==t.databaseId.projectId)throw new et(je.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new et(je.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new vt(bU(n))}function _U(t,e){return _T(t.databaseId,e)}function LJ(t){const e=wU(t);return e.length===4?Jn.emptyPath():bU(e)}function XS(t){return new Jn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bU(t){return Pn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function sk(t,e,n){return{name:JS(t,e),fields:n.value.mapValue.fields}}function DJ(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Pt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Pn(c===void 0||typeof c=="string"),Ii.fromBase64String(c||"")):(Pn(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Ii.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?je.UNKNOWN:mU(u.code);return new et(c,u.message||"")}(s);n=new yU(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Eb(t,r.document.name),o=Ba(r.document.updateTime),s=r.document.createTime?Ba(r.document.createTime):Ot.min(),a=new _o({mapValue:{fields:r.document.fields}}),l=qi.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new I0(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Eb(t,r.document),o=r.readTime?Ba(r.readTime):Ot.min(),s=qi.newNoDocument(i,o),a=r.removedTargetIds||[];n=new I0([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Eb(t,r.document),o=r.removedTargetIds||[];n=new I0([],o,i,null)}else{if(!("filter"in e))return Pt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new AJ(i,o),a=r.targetId;n=new gU(a,s)}}return n}function FJ(t,e){let n;if(e instanceof Cy)n={update:sk(t,e.key,e.value)};else if(e instanceof yT)n={delete:JS(t,e.key)};else if(e instanceof vc)n={update:sk(t,e.key,e.data),updateMask:GJ(e.fieldMask)};else{if(!(e instanceof xJ))return Pt();n={verify:JS(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof y1)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ch)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Cg)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof v1)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Pt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:MJ(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Pt()}(t,e.precondition)),n}function UJ(t,e){return t&&t.length>0?(Pn(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Ba(i.updateTime):Ba(o);return s.isEqual(Ot.min())&&(s=Ba(o)),new wJ(s,i.transformResults||[])}(n,e))):[]}function jJ(t,e){return{documents:[_U(t,e.path)]}}function $J(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=_U(t,i);const o=function(u){if(u.length!==0)return SU(ra.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:Ad(d.field),direction:qJ(d.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=KS(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function BJ(t){let e=LJ(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Pn(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(f){const d=xU(f);return d instanceof ra&&QF(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(d=>function(v){return new m1(Td(v.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,l_(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,h=f.values||[];return new p1(h,d)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const d=!f.before,h=f.values||[];return new p1(h,d)}(n.endAt)),oJ(e,i,s,o,a,"F",l,u)}function VJ(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function xU(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Td(n.unaryFilter.field);return Br.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Td(n.unaryFilter.field);return Br.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Td(n.unaryFilter.field);return Br.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Td(n.unaryFilter.field);return Br.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Pt()}}(t):t.fieldFilter!==void 0?function(n){return Br.create(Td(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ra.create(n.compositeFilter.filters.map(r=>xU(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Pt()}}(n.compositeFilter.op))}(t):Pt()}function qJ(t){return NJ[t]}function zJ(t){return kJ[t]}function HJ(t){return RJ[t]}function Ad(t){return{fieldPath:t.canonicalString()}}function Td(t){return xi.fromServerFormat(t.fieldPath)}function SU(t){return t instanceof Br?function(n){if(n.op==="=="){if(GN(n.value))return{unaryFilter:{field:Ad(n.field),op:"IS_NAN"}};if(HN(n.value))return{unaryFilter:{field:Ad(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(GN(n.value))return{unaryFilter:{field:Ad(n.field),op:"IS_NOT_NAN"}};if(HN(n.value))return{unaryFilter:{field:Ad(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ad(n.field),op:zJ(n.op),value:n.value}}}(t):t instanceof ra?function(n){const r=n.getFilters().map(i=>SU(i));return r.length===1?r[0]:{compositeFilter:{op:HJ(n.op),filters:r}}}(t):Pt()}function GJ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function EU(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n,r,i,o=Ot.min(),s=Ot.min(),a=Ii.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Hu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Hu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WJ{constructor(e){this.ct=e}}function KJ(t){const e=BJ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?g1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YJ{constructor(){this.un=new JJ}addToCollectionParentIndex(e,n){return this.un.add(n),Be.resolve()}getCollectionParents(e,n){return Be.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Be.resolve()}deleteFieldIndex(e,n){return Be.resolve()}deleteAllFieldIndexes(e){return Be.resolve()}createTargetIndexes(e,n){return Be.resolve()}getDocumentsMatchingTarget(e,n){return Be.resolve(null)}getIndexType(e,n){return Be.resolve(0)}getFieldIndexes(e,n){return Be.resolve([])}getNextCollectionGroupToUpdate(e){return Be.resolve(null)}getMinOffset(e,n){return Be.resolve(cc.min())}getMinOffsetFromCollectionGroup(e,n){return Be.resolve(cc.min())}updateCollectionGroup(e,n,r){return Be.resolve()}updateIndexEntries(e,n){return Be.resolve()}}class JJ{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ai(Jn.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ai(Jn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Nh(0)}static kn(){return new Nh(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XJ{constructor(){this.changes=new sp(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Be.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QJ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZJ{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Km(r.mutation,i,Ko.empty(),ei.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Qt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Qt()){const i=of();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=km();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=of();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Qt()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=zl();const s=Wm(),a=function(){return Wm()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof vc)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Km(c.mutation,u,c.mutation.getFieldMask(),ei.now())):s.set(u.key,Ko.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var f;return a.set(u,new QJ(c,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Wm();let i=new pr((s,a)=>s-a),o=Qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Ko.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||Qt()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=aU();c.forEach(d=>{if(!o.has(d)){const h=hU(n.get(d),r.get(d));h!==null&&f.set(d,h),o=o.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return Be.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return vt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nU(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Be.resolve(of());let a=-1,l=o;return s.next(u=>Be.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(c)?Be.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Qt())).next(c=>({batchId:a,changes:sU(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new vt(n)).next(r=>{let i=km();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=km();return this.indexManager.getCollectionParents(e,o).next(a=>Be.forEach(a,l=>{const u=function(f,d){return new Py(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,d)=>{s=s.insert(f,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,qi.newInvalidDocument(c)))});let a=km();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&Km(c.mutation,u,Ko.empty(),ei.now()),c_(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eX{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Be.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ba(i.createTime)}}(n)),Be.resolve()}getNamedQuery(e,n){return Be.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:KJ(i.bundledQuery),readTime:Ba(i.readTime)}}(n)),Be.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tX{constructor(){this.overlays=new pr(vt.comparator),this.Ir=new Map}getOverlay(e,n){return Be.resolve(this.overlays.get(n))}getOverlays(e,n){const r=of();return Be.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),Be.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),Be.resolve()}getOverlaysForCollection(e,n,r){const i=of(),o=n.length+1,s=new vt(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Be.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new pr((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=of(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=of(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return Be.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new EJ(n,r));let o=this.Ir.get(n);o===void 0&&(o=Qt(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nX{constructor(){this.sessionToken=Ii.EMPTY_BYTE_STRING}getSessionToken(e){return Be.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Be.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(){this.Tr=new Ai(si.Er),this.dr=new Ai(si.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new si(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new si(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new vt(new Jn([])),r=new si(n,e),i=new si(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new vt(new Jn([])),r=new si(n,e),i=new si(n,e+1);let o=Qt();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new si(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class si{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return vt.comparator(e.key,n.key)||un(e.wr,n.wr)}static Ar(e,n){return un(e.wr,n.wr)||vt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rX{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ai(si.Er)}checkEmpty(e){return Be.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new SJ(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new si(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Be.resolve(s)}lookupMutationBatch(e,n){return Be.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return Be.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Be.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new si(n,0),i=new si(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),Be.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ai(un);return n.forEach(i=>{const o=new si(i,0),s=new si(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),Be.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;vt.isDocumentKey(o)||(o=o.child(""));const s=new si(new vt(o),0);let a=new Ai(un);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},s),Be.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Pn(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Be.forEach(n.mutations,i=>{const o=new si(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new si(n,0),i=this.br.firstAfterOrEqual(r);return Be.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Be.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iX{constructor(e){this.Mr=e,this.docs=function(){return new pr(vt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Be.resolve(r?r.document.mutableCopy():qi.newInvalidDocument(n))}getEntries(e,n){let r=zl();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():qi.newInvalidDocument(i))}),Be.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=zl();const s=n.path,a=new vt(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||$Y(jY(c),r)<=0||(i.has(c.key)||c_(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return Be.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Pt()}Or(e,n){return Be.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new oX(this)}getSize(e){return Be.resolve(this.size)}}class oX extends XJ{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Be.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sX{constructor(e){this.persistence=e,this.Nr=new sp(n=>hT(n),pT),this.lastRemoteSnapshotVersion=Ot.min(),this.highestTargetId=0,this.Lr=0,this.Br=new bT,this.targetCount=0,this.kr=Nh.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Be.resolve()}getLastRemoteSnapshotVersion(e){return Be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Be.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Be.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Be.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Nh(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Be.resolve()}updateTargetData(e,n){return this.Kn(n),Be.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Be.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Be.waitFor(o).next(()=>i)}getTargetCount(e){return Be.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Be.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Be.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),Be.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Be.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Be.resolve(r)}containsKey(e,n){return Be.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aX{constructor(e,n){this.qr={},this.overlays={},this.Qr=new uT(0),this.Kr=!1,this.Kr=!0,this.$r=new nX,this.referenceDelegate=e(this),this.Ur=new sX(this),this.indexManager=new YJ,this.remoteDocumentCache=function(i){return new iX(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new WJ(n),this.Gr=new eX(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new tX,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new rX(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){lt("MemoryPersistence","Starting transaction:",e);const i=new lX(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return Be.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class lX extends VY{constructor(e){super(),this.currentSequenceNumber=e}}class xT{constructor(e){this.persistence=e,this.Jr=new bT,this.Yr=null}static Zr(e){return new xT(e)}get Xr(){if(this.Yr)return this.Yr;throw Pt()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Be.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Be.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Be.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Be.forEach(this.Xr,r=>{const i=vt.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,Ot.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Be.or([()=>Be.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Qt(),i=Qt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new ST(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uX{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cX{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return dK()?8:qY(Ki())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new uX;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(tm()<=tn.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Ed(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Be.resolve()):(tm()<=tn.DEBUG&&lt("QueryEngine","Query:",Ed(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(tm()<=tn.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Ed(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$a(n))):Be.resolve())}Yi(e,n){if(JN(n))return Be.resolve(null);let r=$a(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=g1(n,null,"F"),r=$a(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Qt(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,s,l.readTime)?this.Yi(e,g1(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return JN(n)||i.isEqual(Ot.min())?Be.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?Be.resolve(null):(tm()<=tn.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ed(n)),this.rs(e,s,n,UY(i,-1)).next(a=>a))})}ts(e,n){let r=new Ai(iU(e));return n.forEach((i,o)=>{c_(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return tm()<=tn.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Ed(n)),this.Ji.getDocumentsMatchingQuery(e,n,cc.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fX{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new pr(un),this._s=new sp(o=>hT(o),pT),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZJ(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function dX(t,e,n,r){return new fX(t,e,n,r)}async function AU(t,e){const n=Mt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Qt();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})}function hX(t,e){const n=Mt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const f=u.batch,d=f.keys();let h=Be.resolve();return d.forEach(v=>{h=h.next(()=>c.getEntry(l,v)).next(_=>{const w=u.docVersions.get(v);Pn(w!==null),_.version.compareTo(w)<0&&(f.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),c.addEntry(_)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Qt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function TU(t){const e=Mt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function pX(t,e){const n=Mt(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;a.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,f)));let h=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?h=h.withResumeToken(Ii.EMPTY_BYTE_STRING,Ot.min()).withLastLimboFreeSnapshotVersion(Ot.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(f,h),function(_,w,b){return _.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(d,h,c)&&a.push(n.Ur.updateTargetData(o,h))});let l=zl(),u=Qt();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(mX(o,s,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(Ot.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return Be.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function mX(t,e,n){let r=Qt(),i=Qt();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=zl();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ot.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):lt("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function gX(t,e){const n=Mt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function yX(t,e){const n=Mt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,Be.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Hu(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function QS(t,e,n){const r=Mt(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Iy(s))throw s;lt("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function ak(t,e,n){const r=Mt(t);let i=Ot.min(),o=Qt();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const f=Mt(l),d=f._s.get(c);return d!==void 0?Be.resolve(f.os.get(d)):f.Ur.getTargetData(u,c)}(r,s,$a(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:Ot.min(),n?o:Qt())).next(a=>(vX(r,aJ(e),a),{documents:a,Ts:o})))}function vX(t,e,n){let r=t.us.get(e)||Ot.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class lk{constructor(){this.activeTargetIds=hJ()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wX{constructor(){this.so=new lk,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new lk,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _X{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){lt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){lt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rv=null;function Ab(){return Rv===null?Rv=function(){return 268435456+Math.round(2147483648*Math.random())}():Rv++,"0x"+Rv.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xX{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li="WebChannelConnection";class SX extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=Ab(),l=this.xo(n,r.toUriEncodedString());lt("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(n,l,u,i).then(c=>(lt("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Ah("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+op}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=bX[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=Ab();return new Promise((s,a)=>{const l=new $F;l.setWithCredentials(!0),l.listenOnce(BF.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case E0.NO_ERROR:const c=l.getResponseJson();lt(Li,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case E0.TIMEOUT:lt(Li,`RPC '${e}' ${o} timed out`),a(new et(je.DEADLINE_EXCEEDED,"Request time out"));break;case E0.HTTP_ERROR:const f=l.getStatus();if(lt(Li,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d==null?void 0:d.error;if(h&&h.status&&h.message){const v=function(w){const b=w.toLowerCase().replace(/_/g,"-");return Object.values(je).indexOf(b)>=0?b:je.UNKNOWN}(h.status);a(new et(v,h.message))}else a(new et(je.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new et(je.UNAVAILABLE,"Connection failed."));break;default:Pt()}}finally{lt(Li,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);lt(Li,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Ab(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=zF(),a=qF(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");lt(Li,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=s.createWebChannel(c,l);let d=!1,h=!1;const v=new xX({Io:w=>{h?lt(Li,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(d||(lt(Li,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),lt(Li,`RPC '${e}' stream ${i} sending:`,w),f.send(w))},To:()=>f.close()}),_=(w,b,E)=>{w.listen(b,A=>{try{E(A)}catch(C){setTimeout(()=>{throw C},0)}})};return _(f,Nm.EventType.OPEN,()=>{h||(lt(Li,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),_(f,Nm.EventType.CLOSE,()=>{h||(h=!0,lt(Li,`RPC '${e}' stream ${i} transport closed`),v.So())}),_(f,Nm.EventType.ERROR,w=>{h||(h=!0,Ah(Li,`RPC '${e}' stream ${i} transport errored:`,w),v.So(new et(je.UNAVAILABLE,"The operation could not be completed")))}),_(f,Nm.EventType.MESSAGE,w=>{var b;if(!h){const E=w.data[0];Pn(!!E);const A=E,C=A.error||((b=A[0])===null||b===void 0?void 0:b.error);if(C){lt(Li,`RPC '${e}' stream ${i} received error:`,C);const R=C.status;let F=function(T){const j=Fr[T];if(j!==void 0)return mU(j)}(R),k=C.message;F===void 0&&(F=je.INTERNAL,k="Unknown error status: "+R+" with message "+C.message),h=!0,v.So(new et(F,k)),f.close()}else lt(Li,`RPC '${e}' stream ${i} received:`,E),v.bo(E)}}),_(a,VF.STAT_EVENT,w=>{w.stat===VS.PROXY?lt(Li,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===VS.NOPROXY&&lt(Li,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function Tb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(t){return new OJ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&lt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e,n,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new IU(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===je.RESOURCE_EXHAUSTED?(ql(n.toString()),ql("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===je.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new et(je.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return lt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(lt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class EX extends PU{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=DJ(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ot.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Ot.min():s.readTime?Ba(s.readTime):Ot.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=XS(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=GS(l)?{documents:jJ(o,l)}:{query:$J(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=vU(o,s.resumeToken);const u=KS(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Ot.min())>0){a.readTime=w1(o,s.snapshotVersion.toTimestamp());const u=KS(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=VJ(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=XS(this.serializer),n.removeTarget=e,this.a_(n)}}class AX extends PU{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Pn(!!e.streamToken),this.lastStreamToken=e.streamToken,Pn(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Pn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=UJ(e.writeResults,e.commitTime),r=Ba(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=XS(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>FJ(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TX extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new et(je.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,YS(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new et(je.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,YS(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new et(je.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class IX{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ql(n),this.D_=!1):lt("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PX{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{Hf(this)&&(lt("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Mt(l);u.L_.add(4),await ky(u),u.q_.set("Unknown"),u.L_.delete(4),await m_(u)}(this))})}),this.q_=new IX(r,i)}}async function m_(t){if(Hf(t))for(const e of t.B_)await e(!0)}async function ky(t){for(const e of t.B_)await e(!1)}function CU(t,e){const n=Mt(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),IT(n)?TT(n):ap(n).r_()&&AT(n,e))}function ET(t,e){const n=Mt(t),r=ap(n);n.N_.delete(e),r.r_()&&NU(n,e),n.N_.size===0&&(r.r_()?r.o_():Hf(n)&&n.q_.set("Unknown"))}function AT(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ot.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ap(t).A_(e)}function NU(t,e){t.Q_.xe(e),ap(t).R_(e)}function TT(t){t.Q_=new CJ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ap(t).start(),t.q_.v_()}function IT(t){return Hf(t)&&!ap(t).n_()&&t.N_.size>0}function Hf(t){return Mt(t).L_.size===0}function kU(t){t.Q_=void 0}async function CX(t){t.q_.set("Online")}async function NX(t){t.N_.forEach((e,n)=>{AT(t,e)})}async function kX(t,e){kU(t),IT(t)?(t.q_.M_(e),TT(t)):t.q_.set("Unknown")}async function RX(t,e,n){if(t.q_.set("Online"),e instanceof yU&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){lt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _1(t,r)}else if(e instanceof I0?t.Q_.Ke(e):e instanceof gU?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ot.min()))try{const r=await TU(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(Ii.EMPTY_BYTE_STRING,c.snapshotVersion)),NU(o,l);const f=new Hu(c.target,l,u,c.sequenceNumber);AT(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){lt("RemoteStore","Failed to raise snapshot:",r),await _1(t,r)}}async function _1(t,e,n){if(!Iy(e))throw e;t.L_.add(1),await ky(t),t.q_.set("Offline"),n||(n=()=>TU(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{lt("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await m_(t)})}function RU(t,e){return e().catch(n=>_1(t,n,e))}async function g_(t){const e=Mt(t),n=dc(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;OX(e);)try{const i=await gX(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,MX(e,i)}catch(i){await _1(e,i)}OU(e)&&MU(e)}function OX(t){return Hf(t)&&t.O_.length<10}function MX(t,e){t.O_.push(e);const n=dc(t);n.r_()&&n.V_&&n.m_(e.mutations)}function OU(t){return Hf(t)&&!dc(t).n_()&&t.O_.length>0}function MU(t){dc(t).start()}async function LX(t){dc(t).p_()}async function DX(t){const e=dc(t);for(const n of t.O_)e.m_(n.mutations)}async function FX(t,e,n){const r=t.O_.shift(),i=vT.from(r,e,n);await RU(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await g_(t)}async function UX(t,e){e&&dc(t).V_&&await async function(r,i){if(function(s){return TJ(s)&&s!==je.ABORTED}(i.code)){const o=r.O_.shift();dc(r).s_(),await RU(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await g_(r)}}(t,e),OU(t)&&MU(t)}async function ck(t,e){const n=Mt(t);n.asyncQueue.verifyOperationInProgress(),lt("RemoteStore","RemoteStore received new credentials");const r=Hf(n);n.L_.add(3),await ky(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await m_(n)}async function jX(t,e){const n=Mt(t);e?(n.L_.delete(2),await m_(n)):e||(n.L_.add(2),await ky(n),n.q_.set("Unknown"))}function ap(t){return t.K_||(t.K_=function(n,r,i){const o=Mt(n);return o.w_(),new EX(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:CX.bind(null,t),Ro:NX.bind(null,t),mo:kX.bind(null,t),d_:RX.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),IT(t)?TT(t):t.q_.set("Unknown")):(await t.K_.stop(),kU(t))})),t.K_}function dc(t){return t.U_||(t.U_=function(n,r,i){const o=Mt(n);return o.w_(),new AX(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:LX.bind(null,t),mo:UX.bind(null,t),f_:DX.bind(null,t),g_:FX.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await g_(t)):(await t.U_.stop(),t.O_.length>0&&(lt("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ml,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new PT(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new et(je.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function CT(t,e){if(ql("AsyncQueue",`${e}: ${t}`),Iy(t))return new et(je.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e){this.comparator=e?(n,r)=>e(n,r)||vt.comparator(n.key,r.key):(n,r)=>vt.comparator(n.key,r.key),this.keyedMap=km(),this.sortedSet=new pr(this.comparator)}static emptySet(e){return new th(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof th)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new th;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(){this.W_=new pr(vt.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Pt():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class kh{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new kh(e,n,th.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&u_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $X{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class BX{constructor(){this.queries=dk(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Mt(n),o=i.queries;i.queries=dk(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(r)})})(this,new et(je.ABORTED,"Firestore shutting down"))}}function dk(){return new sp(t=>rU(t),u_)}async function LU(t,e){const n=Mt(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new $X,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=CT(s,`Initialization of query '${Ed(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&NT(n)}async function DU(t,e){const n=Mt(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function VX(t,e){const n=Mt(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&NT(n)}function qX(t,e,n){const r=Mt(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function NT(t){t.Y_.forEach(e=>{e.next()})}var ZS,hk;(hk=ZS||(ZS={})).ea="default",hk.Cache="cache";class FU{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new kh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=kh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ZS.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e){this.key=e}}class jU{constructor(e){this.key=e}}class zX{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Qt(),this.mutatedKeys=Qt(),this.Aa=iU(e),this.Ra=new th(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new fk,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const d=i.get(c),h=c_(this.query,f)?f:null,v=!!d&&this.mutatedKeys.has(d.key),_=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let w=!1;d&&h?d.data.isEqual(h.data)?v!==_&&(r.track({type:3,doc:h}),w=!0):this.ga(d,h)||(r.track({type:2,doc:h}),w=!0,(l&&this.Aa(h,l)>0||u&&this.Aa(h,u)<0)&&(a=!0)):!d&&h?(r.track({type:0,doc:h}),w=!0):d&&!h&&(r.track({type:1,doc:d}),w=!0,(l||u)&&(a=!0)),w&&(h?(s=s.add(h),o=_?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((c,f)=>function(h,v){const _=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pt()}};return _(h)-_(v)}(c.type,f.type)||this.Aa(c.doc,f.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new kh(this.query,e.Ra,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new fk,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Qt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new jU(r))}),this.da.forEach(r=>{e.has(r)||n.push(new UU(r))}),n}ba(e){this.Ta=e.Ts,this.da=Qt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return kh.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class HX{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class GX{constructor(e){this.key=e,this.va=!1}}class WX{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new sp(a=>rU(a),u_),this.Ma=new Map,this.xa=new Set,this.Oa=new pr(vt.comparator),this.Na=new Map,this.La=new bT,this.Ba={},this.ka=new Map,this.qa=Nh.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function KX(t,e,n=!0){const r=HU(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await $U(r,e,n,!0),i}async function YX(t,e){const n=HU(t);await $U(n,e,!0,!1)}async function $U(t,e,n,r){const i=await yX(t.localStore,$a(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await JX(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&CU(t.remoteStore,i),a}async function JX(t,e,n,r,i){t.Ka=(f,d,h)=>async function(_,w,b,E){let A=w.view.ma(b);A.ns&&(A=await ak(_.localStore,w.query,!1).then(({documents:k})=>w.view.ma(k,A)));const C=E&&E.targetChanges.get(w.targetId),R=E&&E.targetMismatches.get(w.targetId)!=null,F=w.view.applyChanges(A,_.isPrimaryClient,C,R);return mk(_,w.targetId,F.wa),F.snapshot}(t,f,d,h);const o=await ak(t.localStore,e,!0),s=new zX(e,o.Ts),a=s.ma(o.documents),l=Ny.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);mk(t,n,u.wa);const c=new HX(e,n,s);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function XX(t,e,n){const r=Mt(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!u_(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await QS(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ET(r.remoteStore,i.targetId),eE(r,i.targetId)}).catch(Ty)):(eE(r,i.targetId),await QS(r.localStore,i.targetId,!0))}async function QX(t,e){const n=Mt(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ET(n.remoteStore,r.targetId))}async function ZX(t,e,n){const r=sQ(t);try{const i=await function(s,a){const l=Mt(s),u=ei.now(),c=a.reduce((h,v)=>h.add(v.key),Qt());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let v=zl(),_=Qt();return l.cs.getEntries(h,c).next(w=>{v=w,v.forEach((b,E)=>{E.isValidDocument()||(_=_.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,v)).next(w=>{f=w;const b=[];for(const E of a){const A=bJ(E,f.get(E.key).overlayedDocument);A!=null&&b.push(new vc(E.key,A,YF(A.value.mapValue),Es.exists(!0)))}return l.mutationQueue.addMutationBatch(h,u,b,a)}).next(w=>{d=w;const b=w.applyToLocalDocumentSet(f,_);return l.documentOverlayCache.saveOverlays(h,w.batchId,b)})}).then(()=>({batchId:d.batchId,changes:sU(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new pr(un)),u=u.insert(a,l),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,n),await Ry(r,i.changes),await g_(r.remoteStore)}catch(i){const o=CT(i,"Failed to persist write");n.reject(o)}}async function BU(t,e){const n=Mt(t);try{const r=await pX(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(Pn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Pn(s.va):i.removedDocuments.size>0&&(Pn(s.va),s.va=!1))}),await Ry(n,r,e)}catch(r){await Ty(r)}}function pk(t,e,n){const r=Mt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Mt(s);l.onlineState=a;let u=!1;l.queries.forEach((c,f)=>{for(const d of f.j_)d.Z_(a)&&(u=!0)}),u&&NT(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function eQ(t,e,n){const r=Mt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new pr(vt.comparator);s=s.insert(o,qi.newNoDocument(o,Ot.min()));const a=Qt().add(o),l=new h_(Ot.min(),new Map,new pr(un),s,a);await BU(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),kT(r)}else await QS(r.localStore,e,!1).then(()=>eE(r,e,n)).catch(Ty)}async function tQ(t,e){const n=Mt(t),r=e.batch.batchId;try{const i=await hX(n.localStore,e);qU(n,r,null),VU(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ry(n,i)}catch(i){await Ty(i)}}async function nQ(t,e,n){const r=Mt(t);try{const i=await function(s,a){const l=Mt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(Pn(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);qU(r,e,n),VU(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ry(r,i)}catch(i){await Ty(i)}}function VU(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function qU(t,e,n){const r=Mt(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function eE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||zU(t,r)})}function zU(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(ET(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),kT(t))}function mk(t,e,n){for(const r of n)r instanceof UU?(t.La.addReference(r.key,e),rQ(t,r)):r instanceof jU?(lt("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||zU(t,r.key)):Pt()}function rQ(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(lt("SyncEngine","New document in limbo: "+n),t.xa.add(r),kT(t))}function kT(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new vt(Jn.fromString(e)),r=t.qa.next();t.Na.set(r,new GX(n)),t.Oa=t.Oa.insert(n,r),CU(t.remoteStore,new Hu($a(mT(n.path)),r,"TargetPurposeLimboResolution",uT.oe))}}async function Ry(t,e,n){const r=Mt(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=ST.Wi(l.targetId,u);o.push(f)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,u){const c=Mt(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Be.forEach(u,d=>Be.forEach(d.$i,h=>c.persistence.referenceDelegate.addReference(f,d.targetId,h)).next(()=>Be.forEach(d.Ui,h=>c.persistence.referenceDelegate.removeReference(f,d.targetId,h)))))}catch(f){if(!Iy(f))throw f;lt("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const d=f.targetId;if(!f.fromCache){const h=c.os.get(d),v=h.snapshotVersion,_=h.withLastLimboFreeSnapshotVersion(v);c.os=c.os.insert(d,_)}}}(r.localStore,o))}async function iQ(t,e){const n=Mt(t);if(!n.currentUser.isEqual(e)){lt("SyncEngine","User change. New user:",e.toKey());const r=await AU(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new et(je.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ry(n,r.hs)}}function oQ(t,e){const n=Mt(t),r=n.Na.get(e);if(r&&r.va)return Qt().add(r.key);{let i=Qt();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function HU(t){const e=Mt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oQ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eQ.bind(null,e),e.Ca.d_=VX.bind(null,e.eventManager),e.Ca.$a=qX.bind(null,e.eventManager),e}function sQ(t){const e=Mt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tQ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nQ.bind(null,e),e}class b1{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=p_(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return dX(this.persistence,new cX,e.initialUser,this.serializer)}Ga(e){return new aX(xT.Zr,this.serializer)}Wa(e){return new wX}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}b1.provider={build:()=>new b1};class tE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>pk(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=iQ.bind(null,this.syncEngine),await jX(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new BX}()}createDatastore(e){const n=p_(e.databaseInfo.databaseId),r=function(o){return new SX(o)}(e.databaseInfo);return function(o,s,a,l){return new TX(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new PX(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>pk(this.syncEngine,n,0),function(){return uk.D()?new uk:new _X}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const f=new WX(i,o,s,a,l,u);return c&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Mt(i);lt("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await ky(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}tE.provider={build:()=>new tE};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ql("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aQ{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Bi.UNAUTHENTICATED,this.clientId=GF.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{lt("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(lt("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ml;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=CT(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ib(t,e){t.asyncQueue.verifyOperationInProgress(),lt("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await AU(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function gk(t,e){t.asyncQueue.verifyOperationInProgress();const n=await lQ(t);lt("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ck(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>ck(e.remoteStore,i)),t._onlineComponents=e}async function lQ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){lt("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ib(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===je.FAILED_PRECONDITION||i.code===je.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ah("Error using user provided cache. Falling back to memory cache: "+n),await Ib(t,new b1)}}else lt("FirestoreClient","Using default OfflineComponentProvider"),await Ib(t,new b1);return t._offlineComponents}async function WU(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(lt("FirestoreClient","Using user provided OnlineComponentProvider"),await gk(t,t._uninitializedComponentsProvider._online)):(lt("FirestoreClient","Using default OnlineComponentProvider"),await gk(t,new tE))),t._onlineComponents}function uQ(t){return WU(t).then(e=>e.syncEngine)}async function KU(t){const e=await WU(t),n=e.eventManager;return n.onListen=KX.bind(null,e.syncEngine),n.onUnlisten=XX.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=YX.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=QX.bind(null,e.syncEngine),n}function cQ(t,e,n={}){const r=new Ml;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new GU({next:d=>{c.Za(),s.enqueueAndForget(()=>DU(o,f));const h=d.docs.has(a);!h&&d.fromCache?u.reject(new et(je.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&l&&l.source==="server"?u.reject(new et(je.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new FU(mT(a.path),c,{includeMetadataChanges:!0,_a:!0});return LU(o,f)}(await KU(t),t.asyncQueue,e,n,r)),r.promise}function fQ(t,e,n={}){const r=new Ml;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new GU({next:d=>{c.Za(),s.enqueueAndForget(()=>DU(o,f)),d.fromCache&&l.source==="server"?u.reject(new et(je.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new FU(a,c,{includeMetadataChanges:!0,_a:!0});return LU(o,f)}(await KU(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JU(t,e,n){if(!n)throw new et(je.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function dQ(t,e,n,r){if(e===!0&&r===!0)throw new et(je.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function vk(t){if(!vt.isDocumentKey(t))throw new et(je.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function wk(t){if(vt.isDocumentKey(t))throw new et(je.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function y_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Pt()}function ia(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new et(je.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=y_(t);throw new et(je.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new et(je.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new et(je.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dQ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YU((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new et(je.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new et(je.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new et(je.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class v_{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _k({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new et(je.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new et(je.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _k(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new CY;switch(r.type){case"firstParty":return new OY(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new et(je.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=yk.get(n);r&&(lt("ComponentProvider","Removing Datastore"),yk.delete(n),r.terminate())}(this),Promise.resolve()}}function hQ(t,e,n,r={}){var i;const o=(t=ia(t,v_))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Ah("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Bi.MOCK_USER;else{a=OF(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new et(je.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Bi(u)}t._authCredentials=new NY(new HF(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gf(this.firestore,e,this._query)}}class ao{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ao(this.firestore,e,this._key)}}class oc extends Gf{constructor(e,n,r){super(e,n,mT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ao(this.firestore,null,new vt(e))}withConverter(e){return new oc(this.firestore,e,this._path)}}function Bo(t,e,...n){if(t=or(t),JU("collection","path",e),t instanceof v_){const r=Jn.fromString(e,...n);return wk(r),new oc(t,null,r)}{if(!(t instanceof ao||t instanceof oc))throw new et(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Jn.fromString(e,...n));return wk(r),new oc(t.firestore,null,r)}}function yo(t,e,...n){if(t=or(t),arguments.length===1&&(e=GF.newId()),JU("doc","path",e),t instanceof v_){const r=Jn.fromString(e,...n);return vk(r),new ao(t,null,new vt(r))}{if(!(t instanceof ao||t instanceof oc))throw new et(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Jn.fromString(e,...n));return vk(r),new ao(t.firestore,t instanceof oc?t.converter:null,new vt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new IU(this,"async_queue_retry"),this.Vu=()=>{const r=Tb();r&&lt("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Tb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Tb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ml;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Iy(e))throw e;lt("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw ql("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=PT.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&Pt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Wf extends v_{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new bk,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bk(e),this._firestoreClient=void 0,await e}}}function pQ(t,e){const n=typeof t=="object"?t:aT(),r=typeof t=="string"?t:"(default)",i=a_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=NF("firestore");o&&hQ(i,...o)}return i}function RT(t){if(t._terminated)throw new et(je.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||mQ(t),t._firestoreClient}function mQ(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new GY(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,YU(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new aQ(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rh(Ii.fromBase64String(e))}catch(n){throw new et(je.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Rh(Ii.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new et(je.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new et(je.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new et(je.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return un(this._lat,e._lat)||un(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gQ=/^__.*__$/;class yQ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new vc(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cy(e,this.data,n,this.fieldTransforms)}}class XU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new vc(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function QU(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pt()}}class b_{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new b_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return x1(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(QU(this.Cu)&&gQ.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class vQ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||p_(e)}Qu(e,n,r,i=!1){return new b_({Cu:e,methodName:n,qu:r,path:xi.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function x_(t){const e=t._freezeSettings(),n=p_(t._databaseId);return new vQ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ZU(t,e,n,r,i,o={}){const s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);DT("Data must be an object, but it was:",s,r);const a=e7(r,s);let l,u;if(o.merge)l=new Ko(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const d=nE(e,f,n);if(!s.contains(d))throw new et(je.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);n7(c,d)||c.push(d)}l=new Ko(c),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new yQ(new _o(a),l,u)}class S_ extends __{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof S_}}function wQ(t,e,n){return new b_({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class LT extends __{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=wQ(this,e,!0),r=this.Ku.map(o=>lp(o,n)),i=new Ch(r);return new yJ(e.path,i)}isEqual(e){return e instanceof LT&&Sg(this.Ku,e.Ku)}}function _Q(t,e,n,r){const i=t.Qu(1,e,n);DT("Data must be an object, but it was:",i,r);const o=[],s=_o.empty();zf(r,(l,u)=>{const c=FT(e,l,n);u=or(u);const f=i.Nu(c);if(u instanceof S_)o.push(c);else{const d=lp(u,f);d!=null&&(o.push(c),s.set(c,d))}});const a=new Ko(o);return new XU(s,a,i.fieldTransforms)}function bQ(t,e,n,r,i,o){const s=t.Qu(1,e,n),a=[nE(e,r,n)],l=[i];if(o.length%2!=0)throw new et(je.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)a.push(nE(e,o[d])),l.push(o[d+1]);const u=[],c=_o.empty();for(let d=a.length-1;d>=0;--d)if(!n7(u,a[d])){const h=a[d];let v=l[d];v=or(v);const _=s.Nu(h);if(v instanceof S_)u.push(h);else{const w=lp(v,_);w!=null&&(u.push(h),c.set(h,w))}}const f=new Ko(u);return new XU(c,f,s.fieldTransforms)}function xQ(t,e,n,r=!1){return lp(n,t.Qu(r?4:3,e))}function lp(t,e){if(t7(t=or(t)))return DT("Unsupported field value:",e,t),e7(t,e);if(t instanceof __)return function(r,i){if(!QU(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=lp(a,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=or(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pJ(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=ei.fromDate(r);return{timestampValue:w1(i.serializer,o)}}if(r instanceof ei){const o=new ei(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:w1(i.serializer,o)}}if(r instanceof OT)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Rh)return{bytesValue:vU(i.serializer,r._byteString)};if(r instanceof ao){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:_T(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof MT)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return gT(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${y_(r)}`)}(t,e)}function e7(t,e){const n={};return WF(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zf(t,(r,i)=>{const o=lp(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function t7(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ei||t instanceof OT||t instanceof Rh||t instanceof ao||t instanceof __||t instanceof MT)}function DT(t,e,n){if(!t7(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=y_(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function nE(t,e,n){if((e=or(e))instanceof w_)return e._internalPath;if(typeof e=="string")return FT(t,e);throw x1("Field path arguments must be of type string or ",t,!1,void 0,n)}const SQ=new RegExp("[~\\*/\\[\\]]");function FT(t,e,n){if(e.search(SQ)>=0)throw x1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new w_(...e.split("."))._internalPath}catch{throw x1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function x1(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new et(je.INVALID_ARGUMENT,a+t+l)}function n7(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ao(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new EQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(UT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class EQ extends r7{data(){return super.data()}}function UT(t,e){return typeof e=="string"?FT(t,e):e instanceof w_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AQ(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new et(je.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jT{}class i7 extends jT{}function Tu(t,e,...n){let r=[];e instanceof jT&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof $T).length,a=o.filter(l=>l instanceof E_).length;if(s>1||s>0&&a>0)throw new et(je.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class E_ extends i7{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new E_(e,n,r)}_apply(e){const n=this._parse(e);return o7(e._query,n),new Gf(e.firestore,e.converter,WS(e._query,n))}_parse(e){const n=x_(e.firestore);return function(o,s,a,l,u,c,f){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new et(je.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){Ek(f,c);const h=[];for(const v of f)h.push(Sk(l,o,v));d={arrayValue:{values:h}}}else d=Sk(l,o,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||Ek(f,c),d=xQ(a,s,f,c==="in"||c==="not-in");return Br.create(u,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function md(t,e,n){const r=e,i=UT("where",t);return E_._create(i,r,n)}class $T extends jT{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $T(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ra.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)o7(s,l),s=WS(s,l)}(e._query,n),new Gf(e.firestore,e.converter,WS(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class BT extends i7{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new BT(e,n,r)}_apply(e){return new Gf(e.firestore,e.converter,g1(e._query,this._limit,this._limitType))}}function xk(t){return BT._create("limit",t,"F")}function Sk(t,e,n){if(typeof(n=or(n))=="string"){if(n==="")throw new et(je.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nU(e)&&n.indexOf("/")!==-1)throw new et(je.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Jn.fromString(n));if(!vt.isDocumentKey(r))throw new et(je.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zN(t,new vt(r))}if(n instanceof ao)return zN(t,n._key);throw new et(je.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${y_(n)}.`)}function Ek(t,e){if(!Array.isArray(t)||t.length===0)throw new et(je.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function o7(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new et(je.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new et(je.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class TQ{convertValue(e,n="none"){switch(If(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Tf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Pt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return zf(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>kr(s.doubleValue));return new MT(o)}convertGeoPoint(e){return new OT(kr(e.latitude),kr(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=fT(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Tg(e));default:return null}}convertTimestamp(e){const n=fc(e);return new ei(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Jn.fromString(e);Pn(EU(r));const i=new Ig(r.get(1),r.get(3)),o=new vt(r.popFirst(5));return i.isEqual(n)||ql(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s7(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class a7 extends r7{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new P0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(UT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class P0 extends a7{data(e={}){return super.data(e)}}class IQ{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Om(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new P0(this._firestore,this._userDataWriter,r.key,r,new Om(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new et(je.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new P0(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Om(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new P0(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Om(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:PQ(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function PQ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(t){t=ia(t,ao);const e=ia(t.firestore,Wf);return cQ(RT(e),t._key).then(n=>NQ(e,t,n))}class l7 extends TQ{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rh(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ao(this.firestore,null,n)}}function Iu(t){t=ia(t,Gf);const e=ia(t.firestore,Wf),n=RT(e),r=new l7(e);return AQ(t._query),fQ(n,t._query).then(i=>new IQ(e,r,t,i))}function CQ(t,e,n){t=ia(t,ao);const r=ia(t.firestore,Wf),i=s7(t.converter,e);return A_(r,[ZU(x_(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Es.none())])}function Bc(t,e,n,...r){t=ia(t,ao);const i=ia(t.firestore,Wf),o=x_(i);let s;return s=typeof(e=or(e))=="string"||e instanceof w_?bQ(o,"updateDoc",t._key,e,n,r):_Q(o,"updateDoc",t._key,e),A_(i,[s.toMutation(t._key,Es.exists(!0))])}function nm(t){return A_(ia(t.firestore,Wf),[new yT(t._key,Es.none())])}function rm(t,e){const n=ia(t.firestore,Wf),r=yo(t),i=s7(t.converter,e);return A_(n,[ZU(x_(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Es.exists(!1))]).then(()=>r)}function A_(t,e){return function(r,i){const o=new Ml;return r.asyncQueue.enqueueAndForget(async()=>ZX(await uQ(r),i,o)),o.promise}(RT(t),e)}function NQ(t,e,n){const r=n.docs.get(e._key),i=new l7(t);return new a7(t,i,e._key,r,new Om(n.hasPendingWrites,n.fromCache),e.converter)}function kQ(...t){return new LT("arrayUnion",t)}(function(e,n=!0){(function(i){op=i})(qf),Ef(new uc("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Wf(new kY(r.getProvider("auth-internal")),new LY(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new et(je.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ig(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),ja(jN,"4.7.3",e),ja(jN,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u7="firebasestorage.googleapis.com",c7="storageBucket",RQ=2*60*1e3,OQ=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends Xa{constructor(e,n,r=0){super(Pb(e),`Firebase Storage: ${n} (${Pb(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Er.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Pb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Sr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Sr||(Sr={}));function Pb(t){return"storage/"+t}function VT(){const t="An unknown error occurred, please check the error payload for server response.";return new Er(Sr.UNKNOWN,t)}function MQ(t){return new Er(Sr.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function LQ(t){return new Er(Sr.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function DQ(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Er(Sr.UNAUTHENTICATED,t)}function FQ(){return new Er(Sr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function UQ(t){return new Er(Sr.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function jQ(){return new Er(Sr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function $Q(){return new Er(Sr.CANCELED,"User canceled the upload/download.")}function BQ(t){return new Er(Sr.INVALID_URL,"Invalid URL '"+t+"'.")}function VQ(t){return new Er(Sr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function qQ(){return new Er(Sr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+c7+"' property when initializing the app?")}function zQ(){return new Er(Sr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function HQ(){return new Er(Sr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function GQ(t){return new Er(Sr.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function rE(t){return new Er(Sr.INVALID_ARGUMENT,t)}function f7(){return new Er(Sr.APP_DELETED,"The Firebase app was deleted.")}function WQ(t){return new Er(Sr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ym(t,e){return new Er(Sr.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function im(t){throw new Er(Sr.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Yo.makeFromUrl(e,n)}catch{return new Yo(e,"")}if(r.path==="")return r;throw VQ(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(C){C.path_=decodeURIComponent(C.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",h=new RegExp(`^https?://${f}/${c}/b/${i}/o${d}`,"i"),v={bucket:1,path:3},_=n===u7?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",b=new RegExp(`^https?://${_}/${i}/${w}`,"i"),A=[{regex:a,indices:l,postModify:o},{regex:h,indices:v,postModify:u},{regex:b,indices:{bucket:1,path:2},postModify:u}];for(let C=0;C<A.length;C++){const R=A[C],F=R.regex.exec(e);if(F){const k=F[R.indices.bucket];let N=F[R.indices.path];N||(N=""),r=new Yo(k,N),R.postModify(r);break}}if(r==null)throw BQ(e);return r}}class KQ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YQ(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let u=!1;function c(...w){u||(u=!0,e.apply(null,w))}function f(w){i=setTimeout(()=>{i=null,t(h,l())},w)}function d(){o&&clearTimeout(o)}function h(w,...b){if(u){d();return}if(w){d(),c.call(null,w,...b);return}if(l()||s){d(),c.call(null,w,...b);return}r<64&&(r*=2);let A;a===1?(a=2,A=0):A=(r+Math.random())*1e3,f(A)}let v=!1;function _(w){v||(v=!0,d(),!u&&(i!==null?(w||(a=2),clearTimeout(i),f(0)):w||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,_(!0)},n),_}function JQ(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XQ(t){return t!==void 0}function QQ(t){return typeof t=="object"&&!Array.isArray(t)}function qT(t){return typeof t=="string"||t instanceof String}function Tk(t){return zT()&&t instanceof Blob}function zT(){return typeof Blob<"u"}function Ik(t,e,n,r){if(r<e)throw rE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw rE(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function d7(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var pf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(pf||(pf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZQ(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eZ{constructor(e,n,r,i,o,s,a,l,u,c,f,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,v)=>{this.resolve_=h,this.reject_=v,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Ov(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===pf.NO_ERROR,l=o.getStatus();if(!a||ZQ(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===pf.ABORT;r(!1,new Ov(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Ov(u,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());XQ(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=VT();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?f7():$Q();s(l)}else{const l=jQ();s(l)}};this.canceled_?n(!1,new Ov(!1,null,!0)):this.backoffId_=YQ(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&JQ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ov{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function tZ(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function nZ(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function rZ(t,e){e&&(t["X-Firebase-GMPID"]=e)}function iZ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function oZ(t,e,n,r,i,o,s=!0){const a=d7(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return rZ(u,e),tZ(u,n),nZ(u,o),iZ(u,r),new eZ(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sZ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function aZ(...t){const e=sZ();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(zT())return new Blob(t);throw new Er(Sr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function lZ(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uZ(t){if(typeof atob>"u")throw GQ("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Cb{constructor(e,n){this.data=e,this.contentType=n||null}}function cZ(t,e){switch(t){case Ma.RAW:return new Cb(h7(e));case Ma.BASE64:case Ma.BASE64URL:return new Cb(p7(t,e));case Ma.DATA_URL:return new Cb(dZ(e),hZ(e))}throw VT()}function h7(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function fZ(t){let e;try{e=decodeURIComponent(t)}catch{throw Ym(Ma.DATA_URL,"Malformed data URL.")}return h7(e)}function p7(t,e){switch(t){case Ma.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Ym(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ma.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Ym(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=uZ(e)}catch(i){throw i.message.includes("polyfill")?i:Ym(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class m7{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ym(Ma.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=pZ(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function dZ(t){const e=new m7(t);return e.base64?p7(Ma.BASE64,e.rest):fZ(e.rest)}function hZ(t){return new m7(t).contentType}function pZ(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n){let r=0,i="";Tk(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Tk(this.data_)){const r=this.data_,i=lZ(r,e,n);return i===null?null:new Fu(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Fu(r,!0)}}static getBlob(...e){if(zT()){const n=e.map(r=>r instanceof Fu?r.data_:r);return new Fu(aZ.apply(null,n))}else{const n=e.map(s=>qT(s)?cZ(Ma.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new Fu(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g7(t){let e;try{e=JSON.parse(t)}catch{return null}return QQ(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mZ(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function gZ(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function y7(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yZ(t,e){return e}class to{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||yZ}}let Mv=null;function vZ(t){return!qT(t)||t.length<2?t:y7(t)}function v7(){if(Mv)return Mv;const t=[];t.push(new to("bucket")),t.push(new to("generation")),t.push(new to("metageneration")),t.push(new to("name","fullPath",!0));function e(o,s){return vZ(s)}const n=new to("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new to("size");return i.xform=r,t.push(i),t.push(new to("timeCreated")),t.push(new to("updated")),t.push(new to("md5Hash",null,!0)),t.push(new to("cacheControl",null,!0)),t.push(new to("contentDisposition",null,!0)),t.push(new to("contentEncoding",null,!0)),t.push(new to("contentLanguage",null,!0)),t.push(new to("contentType",null,!0)),t.push(new to("metadata","customMetadata",!0)),Mv=t,Mv}function wZ(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new Yo(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function _Z(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return wZ(r,t),r}function w7(t,e,n){const r=g7(e);return r===null?null:_Z(t,r,n)}function bZ(t,e,n,r){const i=g7(e);if(i===null||!qT(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(u=>{const c=t.bucket,f=t.fullPath,d="/b/"+s(c)+"/o/"+s(f),h=HT(d,n,r),v=d7({alt:"media",token:u});return h+v})[0]}function xZ(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class _7{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b7(t){if(!t)throw VT()}function SZ(t,e){function n(r,i){const o=w7(t,i,e);return b7(o!==null),o}return n}function EZ(t,e){function n(r,i){const o=w7(t,i,e);return b7(o!==null),bZ(o,i,t.host,t._protocol)}return n}function x7(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=FQ():i=DQ():n.getStatus()===402?i=LQ(t.bucket):n.getStatus()===403?i=UQ(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function AZ(t){const e=x7(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=MQ(t.path)),o.serverResponse=i.serverResponse,o}return n}function TZ(t,e,n){const r=e.fullServerUrl(),i=HT(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new _7(i,o,EZ(t,n),s);return a.errorHandler=AZ(e),a}function IZ(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function PZ(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=IZ(null,e)),r}function CZ(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let A="";for(let C=0;C<2;C++)A=A+Math.random().toString().slice(2);return A}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const u=PZ(e,r,i),c=xZ(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,d=`\r
--`+l+"--",h=Fu.getBlob(f,r,d);if(h===null)throw zQ();const v={name:u.fullPath},_=HT(o,t.host,t._protocol),w="POST",b=t.maxUploadRetryTime,E=new _7(_,w,SZ(t,n),b);return E.urlParams=v,E.headers=s,E.body=h.uploadData(),E.errorHandler=x7(e),E}class NZ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=pf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=pf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=pf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw im("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw im("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw im("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw im("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw im("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class kZ extends NZ{initXhr(){this.xhr_.responseType="text"}}function S7(){return new kZ}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n){this._service=e,n instanceof Yo?this._location=n:this._location=Yo.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Pf(e,n)}get root(){const e=new Yo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return y7(this._location.path)}get storage(){return this._service}get parent(){const e=mZ(this._location.path);if(e===null)return null;const n=new Yo(this._location.bucket,e);return new Pf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw WQ(e)}}function RZ(t,e,n){t._throwIfRoot("uploadBytes");const r=CZ(t.storage,t._location,v7(),new Fu(e,!0),n);return t.storage.makeRequestWithTokens(r,S7).then(i=>({metadata:i,ref:t}))}function OZ(t){t._throwIfRoot("getDownloadURL");const e=TZ(t.storage,t._location,v7());return t.storage.makeRequestWithTokens(e,S7).then(n=>{if(n===null)throw HQ();return n})}function MZ(t,e){const n=gZ(t._location.path,e),r=new Yo(t._location.bucket,n);return new Pf(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LZ(t){return/^[A-Za-z]+:\/\//.test(t)}function DZ(t,e){return new Pf(t,e)}function E7(t,e){if(t instanceof GT){const n=t;if(n._bucket==null)throw qQ();const r=new Pf(n,n._bucket);return e!=null?E7(r,e):r}else return e!==void 0?MZ(t,e):t}function FZ(t,e){if(e&&LZ(e)){if(t instanceof GT)return DZ(t,e);throw rE("To use ref(service, url), the first argument must be a Storage instance.")}else return E7(t,e)}function Pk(t,e){const n=e==null?void 0:e[c7];return n==null?null:Yo.makeFromBucketSpec(n,t)}function UZ(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:OF(i,t.app.options.projectId))}class GT{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=u7,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=RQ,this._maxUploadRetryTime=OQ,this._requests=new Set,i!=null?this._bucket=Yo.makeFromBucketSpec(i,this._host):this._bucket=Pk(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Yo.makeFromBucketSpec(this._url,e):this._bucket=Pk(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ik("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ik("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Pf(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new KQ(f7());{const s=oZ(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Ck="@firebase/storage",Nk="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A7="storage";function kk(t,e,n){return t=or(t),RZ(t,e,n)}function Rk(t){return t=or(t),OZ(t)}function Ok(t,e){return t=or(t),FZ(t,e)}function jZ(t=aT(),e){t=or(t);const r=a_(t,A7).getImmediate({identifier:e}),i=NF("storage");return i&&$Z(r,...i),r}function $Z(t,e,n,r={}){UZ(t,e,n,r)}function BZ(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new GT(n,r,i,e,qf)}function VZ(){Ef(new uc(A7,BZ,"PUBLIC").setMultipleInstances(!0)),ja(Ck,Nk,""),ja(Ck,Nk,"esm2017")}VZ();var qZ="firebase",zZ="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ja(qZ,zZ,"app");function WT(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function T7(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HZ=T7,I7=new Ey("auth","Firebase",T7());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1=new oT("@firebase/auth");function GZ(t,...e){S1.logLevel<=tn.WARN&&S1.warn(`Auth (${qf}): ${t}`,...e)}function C0(t,...e){S1.logLevel<=tn.ERROR&&S1.error(`Auth (${qf}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(t,...e){throw KT(t,...e)}function Va(t,...e){return KT(t,...e)}function P7(t,e,n){const r=Object.assign(Object.assign({},HZ()),{[e]:n});return new Ey("auth","Firebase",r).create(e,{appName:t.name})}function qa(t){return P7(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function KT(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return I7.create(t,...e)}function At(t,e,...n){if(!t)throw KT(e,...n)}function Tl(t){const e="INTERNAL ASSERTION FAILED: "+t;throw C0(e),new Error(e)}function Hl(t,e){t||Tl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function WZ(){return Mk()==="http:"||Mk()==="https:"}function Mk(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KZ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WZ()||uK()||"connection"in navigator)?navigator.onLine:!0}function YZ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hl(n>e,"Short delay should be less than long delay!"),this.isMobile=sK()||cK()}get(){return KZ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(t,e){Hl(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Tl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Tl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Tl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XZ=new Oy(3e4,6e4);function Ql(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Qa(t,e,n,r,i={}){return N7(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Ay(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return lK()||(u.referrerPolicy="no-referrer"),C7.fetch()(k7(t,t.config.apiHost,n,a),u)})}async function N7(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},JZ),e);try{const i=new ZZ(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Lv(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lv(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Lv(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Lv(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw P7(t,c,u);oa(t,c)}}catch(i){if(i instanceof Xa)throw i;oa(t,"network-request-failed",{message:String(i)})}}async function My(t,e,n,r,i={}){const o=await Qa(t,e,n,r,i);return"mfaPendingCredential"in o&&oa(t,"multi-factor-auth-required",{_serverResponse:o}),o}function k7(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?YT(t.config,i):`${t.config.apiScheme}://${i}`}function QZ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ZZ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Va(this.auth,"network-request-failed")),XZ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Lv(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Va(t,e,r);return i.customData._tokenResponse=n,i}function Lk(t){return t!==void 0&&t.enterprise!==void 0}class eee{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return QZ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function tee(t,e){return Qa(t,"GET","/v2/recaptchaConfig",Ql(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nee(t,e){return Qa(t,"POST","/v1/accounts:delete",e)}async function R7(t,e){return Qa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ree(t,e=!1){const n=or(t),r=await n.getIdToken(e),i=JT(r);At(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Jm(Nb(i.auth_time)),issuedAtTime:Jm(Nb(i.iat)),expirationTime:Jm(Nb(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Nb(t){return Number(t)*1e3}function JT(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return C0("JWT malformed, contained fewer than 3 sections"),null;try{const i=PF(n);return i?JSON.parse(i):(C0("Failed to decode base64 JWT payload"),null)}catch(i){return C0("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Dk(t){const e=JT(t);return At(e,"internal-error"),At(typeof e.exp<"u","internal-error"),At(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Xa&&iee(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function iee({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oee{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jm(this.lastLoginAt),this.creationTime=Jm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E1(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Oh(t,R7(n,{idToken:r}));At(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?O7(o.providerUserInfo):[],a=aee(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new oE(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function see(t){const e=or(t);await E1(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aee(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function O7(t){return t.map(e=>{var{providerId:n}=e,r=WT(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lee(t,e){const n=await N7(t,{},async()=>{const r=Ay({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=k7(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",C7.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uee(t,e){return Qa(t,"POST","/v2/accounts:revokeToken",Ql(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){At(e.idToken,"internal-error"),At(typeof e.idToken<"u","internal-error"),At(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Dk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){At(e.length!==0,"internal-error");const n=Dk(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await lee(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new nh;return r&&(At(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(At(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(At(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nh,this.toJSON())}_performRefresh(){return Tl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(t,e){At(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Il{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=WT(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new oE(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Oh(this,this.stsTokenManager.getToken(this.auth,e));return At(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ree(this,e)}reload(){return see(this)}_assign(e){this!==e&&(At(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Il(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await E1(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ys(this.auth.app))return Promise.reject(qa(this.auth));const e=await this.getIdToken();return await Oh(this,nee(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,v=(s=n.photoURL)!==null&&s!==void 0?s:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(u=n.createdAt)!==null&&u!==void 0?u:void 0,E=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:A,emailVerified:C,isAnonymous:R,providerData:F,stsTokenManager:k}=n;At(A&&k,e,"internal-error");const N=nh.fromJSON(this.name,k);At(typeof A=="string",e,"internal-error"),Pu(f,e.name),Pu(d,e.name),At(typeof C=="boolean",e,"internal-error"),At(typeof R=="boolean",e,"internal-error"),Pu(h,e.name),Pu(v,e.name),Pu(_,e.name),Pu(w,e.name),Pu(b,e.name),Pu(E,e.name);const T=new Il({uid:A,auth:e,email:d,emailVerified:C,displayName:f,isAnonymous:R,photoURL:v,phoneNumber:h,tenantId:_,stsTokenManager:N,createdAt:b,lastLoginAt:E});return F&&Array.isArray(F)&&(T.providerData=F.map(j=>Object.assign({},j))),w&&(T._redirectEventId=w),T}static async _fromIdTokenResponse(e,n,r=!1){const i=new nh;i.updateFromServerResponse(n);const o=new Il({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await E1(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];At(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?O7(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new nh;a.updateFromIdToken(r);const l=new Il({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new oE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk=new Map;function Pl(t){Hl(t instanceof Function,"Expected a class definition");let e=Fk.get(t);return e?(Hl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Fk.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}M7.type="NONE";const Uk=M7;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(t,e,n){return`firebase:${t}:${e}:${n}`}class rh{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=N0(this.userKey,i.apiKey,o),this.fullPersistenceKey=N0("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Il._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new rh(Pl(Uk),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Pl(Uk);const s=N0(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const f=Il._fromJSON(e,c);u!==o&&(a=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new rh(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new rh(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(U7(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(L7(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($7(e))return"Blackberry";if(B7(e))return"Webos";if(D7(e))return"Safari";if((e.includes("chrome/")||F7(e))&&!e.includes("edge/"))return"Chrome";if(j7(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function L7(t=Ki()){return/firefox\//i.test(t)}function D7(t=Ki()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function F7(t=Ki()){return/crios\//i.test(t)}function U7(t=Ki()){return/iemobile/i.test(t)}function j7(t=Ki()){return/android/i.test(t)}function $7(t=Ki()){return/blackberry/i.test(t)}function B7(t=Ki()){return/webos/i.test(t)}function XT(t=Ki()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function cee(t=Ki()){var e;return XT(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fee(){return fK()&&document.documentMode===10}function V7(t=Ki()){return XT(t)||j7(t)||B7(t)||$7(t)||/windows phone/i.test(t)||U7(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q7(t,e=[]){let n;switch(t){case"Browser":n=jk(Ki());break;case"Worker":n=`${jk(Ki())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qf}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dee{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hee(t,e={}){return Qa(t,"GET","/v2/passwordPolicy",Ql(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pee=6;class mee{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:pee,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gee{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $k(this),this.idTokenSubscription=new $k(this),this.beforeStateQueue=new dee(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=I7,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Pl(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await rh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await R7(this,{idToken:e}),r=await Il._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ys(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await E1(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YZ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ys(this.app))return Promise.reject(qa(this));const n=e?or(e):null;return n&&At(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&At(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ys(this.app)?Promise.reject(qa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ys(this.app)?Promise.reject(qa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hee(this),n=new mee(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ey("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await uee(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Pl(e)||this._popupRedirectResolver;At(n,this,"argument-error"),this.redirectPersistenceManager=await rh.create(this,[Pl(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=q7(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&GZ(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function wc(t){return or(t)}class $k{constructor(e){this.auth=e,this.observer=null,this.addObserver=wK(n=>this.observer=n)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let T_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yee(t){T_=t}function z7(t){return T_.loadJS(t)}function vee(){return T_.recaptchaEnterpriseScript}function wee(){return T_.gapiScript}function _ee(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const bee="recaptcha-enterprise",xee="NO_RECAPTCHA";class See{constructor(e){this.type=bee,this.auth=wc(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{tee(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new eee(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;Lk(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(xee)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&Lk(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=vee();l.length!==0&&(l+=a),z7(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function Bk(t,e,n,r=!1){const i=new See(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function A1(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Bk(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await Bk(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eee(t,e){const n=a_(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Sg(o,e??{}))return i;oa(i,"already-initialized")}return n.initialize({options:e})}function Aee(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Pl);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Tee(t,e,n){const r=wc(t);At(r._canInitEmulator,r,"emulator-config-failed"),At(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=H7(e),{host:s,port:a}=Iee(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),Pee()}function H7(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Iee(t){const e=H7(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Vk(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:Vk(s)}}}function Vk(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Pee(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Tl("not implemented")}_getIdTokenResponse(e){return Tl("not implemented")}_linkToIdToken(e,n){return Tl("not implemented")}_getReauthenticationResolver(e){return Tl("not implemented")}}async function Cee(t,e){return Qa(t,"POST","/v1/accounts:update",e)}async function Nee(t,e){return Qa(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kee(t,e){return My(t,"POST","/v1/accounts:signInWithPassword",Ql(t,e))}async function Ree(t,e){return Qa(t,"POST","/v1/accounts:sendOobCode",Ql(t,e))}async function Oee(t,e){return Ree(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mee(t,e){return My(t,"POST","/v1/accounts:signInWithEmailLink",Ql(t,e))}async function Lee(t,e){return My(t,"POST","/v1/accounts:signInWithEmailLink",Ql(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng extends QT{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ng(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ng(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return A1(e,n,"signInWithPassword",kee);case"emailLink":return Mee(e,{email:this._email,oobCode:this._password});default:oa(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return A1(e,r,"signUpPassword",Nee);case"emailLink":return Lee(e,{idToken:n,email:this._email,oobCode:this._password});default:oa(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ih(t,e){return My(t,"POST","/v1/accounts:signInWithIdp",Ql(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dee="http://localhost";class Cf extends QT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Cf(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):oa("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=WT(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Cf(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return ih(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ih(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ih(e,n)}buildRequest(){const e={requestUri:Dee,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ay(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fee(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Uee(t){const e=Pm(Cm(t)).link,n=e?Pm(Cm(e)).deep_link_id:null,r=Pm(Cm(t)).deep_link_id;return(r?Pm(Cm(r)).link:null)||r||n||e||t}class ZT{constructor(e){var n,r,i,o,s,a;const l=Pm(Cm(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,f=Fee((i=l.mode)!==null&&i!==void 0?i:null);At(u&&c&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Uee(e);try{return new ZT(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(){this.providerId=up.PROVIDER_ID}static credential(e,n){return Ng._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ZT.parseLink(n);return At(r,"argument-error"),Ng._fromEmailAndCode(e,r.code,r.tenantId)}}up.PROVIDER_ID="password";up.EMAIL_PASSWORD_SIGN_IN_METHOD="password";up.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly extends G7{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends Ly{constructor(){super("facebook.com")}static credential(e){return Cf._fromParams({providerId:Uu.PROVIDER_ID,signInMethod:Uu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Uu.credentialFromTaggedObject(e)}static credentialFromError(e){return Uu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Uu.credential(e.oauthAccessToken)}catch{return null}}}Uu.FACEBOOK_SIGN_IN_METHOD="facebook.com";Uu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl extends Ly{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Cf._fromParams({providerId:xl.PROVIDER_ID,signInMethod:xl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xl.credentialFromTaggedObject(e)}static credentialFromError(e){return xl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return xl.credential(n,r)}catch{return null}}}xl.GOOGLE_SIGN_IN_METHOD="google.com";xl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju extends Ly{constructor(){super("github.com")}static credential(e){return Cf._fromParams({providerId:ju.PROVIDER_ID,signInMethod:ju.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ju.credentialFromTaggedObject(e)}static credentialFromError(e){return ju.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ju.credential(e.oauthAccessToken)}catch{return null}}}ju.GITHUB_SIGN_IN_METHOD="github.com";ju.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u extends Ly{constructor(){super("twitter.com")}static credential(e,n){return Cf._fromParams({providerId:$u.PROVIDER_ID,signInMethod:$u.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $u.credentialFromTaggedObject(e)}static credentialFromError(e){return $u.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $u.credential(n,r)}catch{return null}}}$u.TWITTER_SIGN_IN_METHOD="twitter.com";$u.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jee(t,e){return My(t,"POST","/v1/accounts:signUp",Ql(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Il._fromIdTokenResponse(e,r,i),s=qk(r);return new Nf({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=qk(r);return new Nf({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function qk(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1 extends Xa{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,T1.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new T1(e,n,r,i)}}function W7(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?T1._fromErrorAndOperation(t,o,e,r):o})}async function $ee(t,e,n=!1){const r=await Oh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Nf._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bee(t,e,n=!1){const{auth:r}=t;if(Ys(r.app))return Promise.reject(qa(r));const i="reauthenticate";try{const o=await Oh(t,W7(r,i,e,t),n);At(o.idToken,r,"internal-error");const s=JT(o.idToken);At(s,r,"internal-error");const{sub:a}=s;return At(t.uid===a,r,"user-mismatch"),Nf._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&oa(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K7(t,e,n=!1){if(Ys(t.app))return Promise.reject(qa(t));const r="signIn",i=await W7(t,r,e),o=await Nf._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function Vee(t,e){return K7(wc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y7(t){const e=wc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function qee(t,e,n){const r=wc(t);await A1(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Oee)}async function zee(t,e,n){if(Ys(t.app))return Promise.reject(qa(t));const r=wc(t),s=await A1(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jee).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Y7(t),l}),a=await Nf._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function Hee(t,e,n){return Ys(t.app)?Promise.reject(qa(t)):Vee(or(t),up.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Y7(t),r})}function Gee(t,e){const n=or(t);return Ys(n.auth.app)?Promise.reject(qa(n.auth)):J7(n,e,null)}function Wee(t,e){return J7(or(t),null,e)}async function J7(t,e,n){const{auth:r}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);const s=await Oh(t,Cee(r,o));await t._updateTokensIfNecessary(s,!0)}function Kee(t,e,n,r){return or(t).onIdTokenChanged(e,n,r)}function Yee(t,e,n){return or(t).beforeAuthStateChanged(e,n)}function Jee(t,e,n,r){return or(t).onAuthStateChanged(e,n,r)}function Xee(t){return or(t).signOut()}const I1="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(I1,"1"),this.storage.removeItem(I1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qee=1e3,Zee=10;class Q7 extends X7{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=V7(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);fee()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Zee):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Qee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Q7.type="LOCAL";const ete=Q7;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7 extends X7{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Z7.type="SESSION";const ej=Z7;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tte(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new I_(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await tte(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}I_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nte{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=eI("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(d.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(){return window}function rte(t){za().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(){return typeof za().WorkerGlobalScope<"u"&&typeof za().importScripts=="function"}async function ite(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ote(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ste(){return tj()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj="firebaseLocalStorageDb",ate=1,P1="firebaseLocalStorage",rj="fbase_key";class Dy{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function P_(t,e){return t.transaction([P1],e?"readwrite":"readonly").objectStore(P1)}function lte(){const t=indexedDB.deleteDatabase(nj);return new Dy(t).toPromise()}function sE(){const t=indexedDB.open(nj,ate);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(P1,{keyPath:rj})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(P1)?e(r):(r.close(),await lte(),e(await sE()))})})}async function zk(t,e,n){const r=P_(t,!0).put({[rj]:e,value:n});return new Dy(r).toPromise()}async function ute(t,e){const n=P_(t,!1).get(e),r=await new Dy(n).toPromise();return r===void 0?null:r.value}function Hk(t,e){const n=P_(t,!0).delete(e);return new Dy(n).toPromise()}const cte=800,fte=3;class ij{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sE(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>fte)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tj()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=I_._getInstance(ste()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await ite(),!this.activeServiceWorker)return;this.sender=new nte(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ote()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sE();return await zk(e,I1,"1"),await Hk(e,I1),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>zk(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>ute(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Hk(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=P_(i,!1).getAll();return new Dy(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cte)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ij.type="LOCAL";const dte=ij;new Oy(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hte(t,e){return e?Pl(e):(At(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI extends QT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ih(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ih(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ih(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pte(t){return K7(t.auth,new tI(t),t.bypassAuthState)}function mte(t){const{auth:e,user:n}=t;return At(n,e,"internal-error"),Bee(n,new tI(t),t.bypassAuthState)}async function gte(t){const{auth:e,user:n}=t;return At(n,e,"internal-error"),$ee(n,new tI(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pte;case"linkViaPopup":case"linkViaRedirect":return gte;case"reauthViaPopup":case"reauthViaRedirect":return mte;default:oa(this.auth,"internal-error")}}resolve(e){Hl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yte=new Oy(2e3,1e4);class Vd extends oj{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Vd.currentPopupAction&&Vd.currentPopupAction.cancel(),Vd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return At(e,this.auth,"internal-error"),e}async onExecution(){Hl(this.filter.length===1,"Popup operations only handle one event");const e=eI();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Va(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Va(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Va(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yte.get())};e()}}Vd.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vte="pendingRedirect",k0=new Map;class wte extends oj{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=k0.get(this.auth._key());if(!e){try{const r=await _te(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}k0.set(this.auth._key(),e)}return this.bypassAuthState||k0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _te(t,e){const n=Ste(e),r=xte(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function bte(t,e){k0.set(t._key(),e)}function xte(t){return Pl(t._redirectPersistence)}function Ste(t){return N0(vte,t.config.apiKey,t.name)}async function Ete(t,e,n=!1){if(Ys(t.app))return Promise.reject(qa(t));const r=wc(t),i=hte(r,e),s=await new wte(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ate=10*60*1e3;class Tte{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ite(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!sj(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Va(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ate&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gk(e))}saveEventToCache(e){this.cachedEventUids.add(Gk(e)),this.lastProcessedEventTime=Date.now()}}function Gk(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function sj({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Ite(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sj(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pte(t,e={}){return Qa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cte=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Nte=/^https?/;async function kte(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Pte(t);for(const n of e)try{if(Rte(n))return}catch{}oa(t,"unauthorized-domain")}function Rte(t){const e=iE(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!Nte.test(n))return!1;if(Cte.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ote=new Oy(3e4,6e4);function Wk(){const t=za().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Mte(t){return new Promise((e,n)=>{var r,i,o;function s(){Wk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Wk(),n(Va(t,"network-request-failed"))},timeout:Ote.get()})}if(!((i=(r=za().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=za().gapi)===null||o===void 0)&&o.load)s();else{const a=_ee("iframefcb");return za()[a]=()=>{gapi.load?s():n(Va(t,"network-request-failed"))},z7(`${wee()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw R0=null,e})}let R0=null;function Lte(t){return R0=R0||Mte(t),R0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dte=new Oy(5e3,15e3),Fte="__/auth/iframe",Ute="emulator/auth/iframe",jte={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$te=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bte(t){const e=t.config;At(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?YT(e,Ute):`https://${t.config.authDomain}/${Fte}`,r={apiKey:e.apiKey,appName:t.name,v:qf},i=$te.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Ay(r).slice(1)}`}async function Vte(t){const e=await Lte(t),n=za().gapi;return At(n,t,"internal-error"),e.open({where:document.body,url:Bte(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jte,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Va(t,"network-request-failed"),a=za().setTimeout(()=>{o(s)},Dte.get());function l(){za().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qte={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zte=500,Hte=600,Gte="_blank",Wte="http://localhost";class Kk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Kte(t,e,n,r=zte,i=Hte){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},qte),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Ki().toLowerCase();n&&(a=F7(u)?Gte:n),L7(u)&&(e=e||Wte,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[h,v])=>`${d}${h}=${v},`,"");if(cee(u)&&a!=="_self")return Yte(e||"",a),new Kk(null);const f=window.open(e||"",a,c);At(f,t,"popup-blocked");try{f.focus()}catch{}return new Kk(f)}function Yte(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jte="__/auth/handler",Xte="emulator/auth/handler",Qte=encodeURIComponent("fac");async function Yk(t,e,n,r,i,o){At(t.config.authDomain,t,"auth-domain-config-required"),At(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:qf,eventId:i};if(e instanceof G7){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",vK(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))s[c]=f}if(e instanceof Ly){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${Qte}=${encodeURIComponent(l)}`:"";return`${Zte(t)}?${Ay(a).slice(1)}${u}`}function Zte({config:t}){return t.emulator?YT(t,Xte):`https://${t.authDomain}/${Jte}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="webStorageSupport";class ene{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ej,this._completeRedirectFn=Ete,this._overrideRedirectResult=bte}async _openPopup(e,n,r,i){var o;Hl((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await Yk(e,n,r,iE(),i);return Kte(e,s,eI())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await Yk(e,n,r,iE(),i);return rte(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Hl(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Vte(e),r=new Tte(e);return n.register("authEvent",i=>(At(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(kb,{type:kb},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[kb];s!==void 0&&n(!!s),oa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kte(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return V7()||D7()||XT()}}const tne=ene;var Jk="@firebase/auth",Xk="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nne{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rne(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ine(t){Ef(new uc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;At(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:q7(t)},u=new gee(r,i,o,l);return Aee(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ef(new uc("auth-internal",e=>{const n=wc(e.getProvider("auth").getImmediate());return(r=>new nne(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ja(Jk,Xk,rne(t)),ja(Jk,Xk,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const one=5*60,sne=RF("authIdTokenMaxAge")||one;let Qk=null;const ane=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>sne)return;const i=n==null?void 0:n.token;Qk!==i&&(Qk=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function lne(t=aT()){const e=a_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Eee(t,{popupRedirectResolver:tne,persistence:[dte,ete,ej]}),r=RF("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=ane(o.toString());Yee(n,s,()=>s(n.currentUser)),Kee(n,a=>s(a))}}const i=CF("auth");return i&&Tee(n,`http://${i}`),n}function une(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}yee({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Va("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",une().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ine("Browser");const cne={apiKey:"AIzaSyCs1NAMdvtuiWzbYMohY0aZa2AiS9z8uNw",authDomain:"downey-cleaning.firebaseapp.com",projectId:"downey-cleaning",storageBucket:"downey-cleaning.firebasestorage.app",messagingSenderId:"1001041748354",appId:"1:1001041748354:web:6f6ea1b637b8be84e2ef9b",measurementId:"G-MMZD70R02H"},nI=DF(cne),Ka=lne(nI),Vn=pQ(nI),Zk=jZ(nI);new xl;const fne=async(t,e)=>(await Hee(Ka,t,e)).user,dne=async(t,e)=>(await zee(Ka,t,e)).user,hne=async t=>{if(!Ka.currentUser)throw new Error("No user logged in");await Gee(Ka.currentUser,t)},pne=async t=>{if(!Ka.currentUser)throw new Error("No user logged in");await Wee(Ka.currentUser,t)},mne=async t=>{await qee(Ka,t)},gne=async()=>{try{await Xee(Ka)}catch(t){console.error("Logout error:",t)}},om="users",Dv="schedules",Rb="offices",ml="records",sm="notifications",yne="adminreports@downeycleaning.ie",Ob=()=>{window.dispatchEvent(new CustomEvent("downey:notifications-updated"))},Pa=t=>{const e={};return Object.keys(t).forEach(n=>{t[n]===void 0||(t[n]===null?n==="readBy"?e[n]=[]:n==="recipientId"?e[n]="all":e[n]=null:typeof t[n]=="object"&&t[n]!==null&&!Array.isArray(t[n])?e[n]=Pa(t[n]):e[n]=t[n])}),e},Ht={syncUser:async(t,e)=>{const n=yo(Vn,om,t.uid),r=await Ak(n),i=t.email===yne;if(r.exists()){const o=r.data();return i&&o.role!==ln.ADMIN?(await Bc(n,{role:ln.ADMIN}),{...o,role:ln.ADMIN,id:t.uid}):{...o,id:t.uid}}else{const o={id:t.uid,name:(e==null?void 0:e.name)||t.displayName||(i?"System Admin":"New User"),email:t.email||"",role:i?ln.ADMIN:(e==null?void 0:e.role)||ln.EMPLOYEE,pps:(e==null?void 0:e.pps)||"",phone:(e==null?void 0:e.phone)||""};return await CQ(n,Pa(o)),o}},updateUser:async(t,e)=>{const n=yo(Vn,om,t);await Bc(n,Pa(e))},deleteUser:async t=>{const e=yo(Vn,om,t);await nm(e)},getUserByAccountId:async t=>{const e=yo(Vn,om,t),n=await Ak(e);return n.exists()?{...n.data(),id:n.id}:null},getAllUsers:async()=>{const t=Tu(Bo(Vn,om));return(await Iu(t)).docs.map(n=>({...n.data(),id:n.id}))},sendNotification:async t=>{try{const e={senderId:t.senderId,senderName:t.senderName,recipientId:t.recipientId||"all",title:t.title.trim(),message:t.message.trim(),createdAt:t.createdAt||new Date().toISOString(),readBy:[]},n=await rm(Bo(Vn,sm),e);return Ob(),n}catch(e){throw console.error("Database Error:",e),e}},getNotificationsForUser:async t=>{if(!t)return[];try{const e=Tu(Bo(Vn,sm),md("recipientId","in",[t,"all"]),xk(50));return(await Iu(e)).docs.map(r=>({...r.data(),id:r.id})).sort((r,i)=>new Date(i.createdAt).getTime()-new Date(r.createdAt).getTime())}catch{return[]}},getSentNotifications:async t=>{try{const e=Tu(Bo(Vn,sm),md("senderId","==",t),xk(50));return(await Iu(e)).docs.map(r=>({...r.data(),id:r.id})).sort((r,i)=>new Date(i.createdAt).getTime()-new Date(r.createdAt).getTime())}catch{return[]}},markNotificationAsRead:async(t,e)=>{if(!(!e||!t))try{const n=yo(Vn,sm,t);await Bc(n,{readBy:kQ(e)}),Ob()}catch{}},deleteNotification:async t=>{await nm(yo(Vn,sm,t)),Ob()},getOffices:async()=>{const t=Tu(Bo(Vn,Rb));return(await Iu(t)).docs.map(n=>({...n.data(),id:n.id}))},addOffice:async t=>{await rm(Bo(Vn,Rb),Pa(t))},deleteOffice:async t=>{await nm(yo(Vn,Rb,t))},getSchedulesByUser:async t=>{const e=Tu(Bo(Vn,Dv),md("userId","==",t));return(await Iu(e)).docs.map(r=>({...r.data(),id:r.id}))},addSchedule:async t=>{await rm(Bo(Vn,Dv),Pa(t))},updateSchedule:async(t,e)=>{await Bc(yo(Vn,Dv,t),Pa(e))},deleteSchedule:async t=>{await nm(yo(Vn,Dv,t))},getActiveSession:async t=>{const e=Tu(Bo(Vn,ml),md("userId","==",t),md("endTime","==",null)),n=await Iu(e);return n.empty?null:{...n.docs[0].data(),id:n.docs[0].id}},startShift:async(t,e)=>{let n="";if(e){const o=Ok(Zk,`shifts/${Date.now()}_${e.name}`);await kk(o,e),n=await Rk(o)}const r={...t,photoUrl:n,endTime:null,totalPausedMs:0,isPaused:!1},i=await rm(Bo(Vn,ml),Pa(r));return{...r,id:i.id}},togglePause:async t=>{const e=new Date().toISOString();let n={};if(t.isPaused){const r=new Date(t.pausedAt).getTime(),i=Date.now()-r;n={isPaused:!1,pausedAt:null,totalPausedMs:(t.totalPausedMs||0)+i}}else n={isPaused:!0,pausedAt:e};return await Bc(yo(Vn,ml,t.id),n),{...t,...n}},endShift:async(t,e,n)=>{let r="";if(n){const o=Ok(Zk,`shifts/end_${Date.now()}_${n.name}`);await kk(o,n),r=await Rk(o)}const i={...e,endPhotoUrl:r,isPaused:!1};await Bc(yo(Vn,ml,t),Pa(i))},getAllRecords:async()=>{const t=Tu(Bo(Vn,ml));return(await Iu(t)).docs.map(n=>({...n.data(),id:n.id})).sort((n,r)=>new Date(r.startTime).getTime()-new Date(n.startTime).getTime())},getRecordsByUser:async t=>{const e=Tu(Bo(Vn,ml),md("userId","==",t));return(await Iu(e)).docs.map(r=>({...r.data(),id:r.id})).sort((r,i)=>new Date(i.startTime).getTime()-new Date(r.startTime).getTime())},updateRecord:async(t,e)=>{await Bc(yo(Vn,ml,t),Pa(e))},deleteRecord:async t=>{await nm(yo(Vn,ml,t))},addRecord:async t=>{await rm(Bo(Vn,ml),Pa(t))}};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vne={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wne=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ut=(t,e)=>{const n=ce.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:l,...u},c)=>ce.createElement("svg",{ref:c,...vne,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${wne(t)}`,a].join(" "),...u},[...e.map(([f,d])=>ce.createElement(f,d)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=ut("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=ut("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=ut("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ne=ut("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=ut("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bne=ut("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=ut("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=ut("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=ut("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=ut("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xne=ut("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=ut("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sne=ut("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ene=ut("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ane=ut("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=ut("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=ut("Construction",[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tne=ut("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=ut("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ine=ut("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pne=ut("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cne=ut("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nne=ut("Glasses",[["circle",{cx:"6",cy:"15",r:"4",key:"vux9w4"}],["circle",{cx:"18",cy:"15",r:"4",key:"18o8ve"}],["path",{d:"M14 15a2 2 0 0 0-2-2 2 2 0 0 0-2 2",key:"1ag4bs"}],["path",{d:"M2.5 13 5 7c.7-1.3 1.4-2 3-2",key:"1hm1gs"}],["path",{d:"M21.5 13 19 7c-.7-1.3-1.5-2-3-2",key:"1r31ai"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kne=ut("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v0",key:"aigmz7"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v2",key:"1n6bmn"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v8",key:"a9iiix"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rne=ut("HardHat",[["path",{d:"M2 18a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v2z",key:"1dej2m"}],["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6h0",key:"1uc279"}],["path",{d:"M14 6h0a6 6 0 0 1 6 6v3",key:"1j9mnm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const One=ut("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mne=ut("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=ut("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lne=ut("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=ut("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dne=ut("LocateFixed",[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=ut("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fne=ut("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Une=ut("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=ut("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=ut("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jne=ut("MapPinned",[["path",{d:"M18 8c0 4.5-6 9-6 9s-6-4.5-6-9a6 6 0 0 1 12 0",key:"yrbn30"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.835 14H5a1 1 0 0 0-.9.7l-2 6c-.1.1-.1.2-.1.3 0 .6.4 1 1 1h18c.6 0 1-.4 1-1 0-.1 0-.2-.1-.3l-2-6a1 1 0 0 0-.9-.7h-3.835",key:"112zkj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ne=ut("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bne=ut("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vne=ut("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qne=ut("PauseCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=ut("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zne=ut("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hne=ut("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gne=ut("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=ut("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=ut("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=ut("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=ut("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=ut("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wne=ut("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kne=ut("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=ut("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=ut("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yne=ut("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jne=ut("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xne=ut("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=ut("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qne=ut("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=ut("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=ut("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=ut("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Zne=({children:t})=>{const[e,n]=ce.useState(!1),[r,i]=ce.useState(0),{user:o,logout:s}=nd(),a=iT(),l=Sy(),u=()=>n(!e),c=async()=>{if(o)try{const w=(await Ht.getNotificationsForUser(o.id)).filter(b=>!b.readBy.includes(o.id));i(w.length)}catch(_){console.error(_)}};ce.useEffect(()=>{if(o){c(),window.addEventListener("downey:notifications-updated",c);const _=setInterval(c,6e4);return()=>{clearInterval(_),window.removeEventListener("downey:notifications-updated",c)}}},[o]);const f=_=>{a(_),n(!1)},d=()=>{s(),a("/login")},h=_=>l.pathname===_,v=[{name:"Dashboard",path:"/",icon:Lne,roles:[ln.ADMIN]},{name:"Schedule",path:(o==null?void 0:o.role)===ln.ADMIN?"/agenda":"/",icon:Ra,roles:[ln.ADMIN,ln.EMPLOYEE]},{name:"Check-In/Out",path:"/check-in",icon:Ane,roles:[ln.EMPLOYEE]},{name:"Notifications",path:"/notifications",icon:lE,roles:[ln.ADMIN,ln.EMPLOYEE],badge:r},{name:"Users",path:"/users",icon:sh,roles:[ln.ADMIN]},{name:"Reports",path:"/reports",icon:_ne,roles:[ln.ADMIN,ln.EMPLOYEE]},{name:"Profile",path:"/profile",icon:Mh,roles:[ln.ADMIN,ln.EMPLOYEE]}];return S.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col md:flex-row",children:[S.jsxs("div",{className:"bg-white shadow-sm p-4 flex justify-between items-center md:hidden sticky top-0 z-20",children:[S.jsx("h1",{className:"text-xl font-bold text-brand-600",children:"Downey Cleaning"}),S.jsxs("div",{className:"flex items-center gap-2",children:[r>0&&S.jsx("div",{className:"bg-red-500 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full animate-bounce",children:r}),S.jsx("button",{onClick:u,className:"p-2 text-gray-600",children:e?S.jsx(Sl,{size:24}):S.jsx(Bne,{size:24})})]})]}),S.jsxs("aside",{className:`
          fixed inset-y-0 left-0 transform ${e?"translate-x-0":"-translate-x-full"}
          md:relative md:translate-x-0 transition-transform duration-200 ease-in-out
          w-64 bg-brand-900 text-white shadow-xl z-30 flex flex-col
        `,children:[S.jsxs("div",{className:"p-6 border-b border-brand-700 hidden md:block",children:[S.jsx("h1",{className:"text-2xl font-black tracking-tight text-white",children:"Downey"}),S.jsx("p",{className:"text-brand-300 text-[10px] font-bold uppercase tracking-widest mt-0.5",children:"Cleaning Services"})]}),S.jsx("nav",{className:"flex-1 px-4 py-6 space-y-1",children:v.filter(_=>_.roles.includes(o==null?void 0:o.role)).map(_=>S.jsxs("button",{onClick:()=>f(_.path),className:`w-full flex items-center justify-between px-4 py-3 rounded-lg transition-all ${h(_.path)?"bg-brand-600 text-white shadow-lg":"text-brand-100 hover:bg-brand-800"}`,children:[S.jsxs("div",{className:"flex items-center space-x-3",children:[S.jsx(_.icon,{size:20,className:h(_.path)?"text-white":"text-brand-400"}),S.jsx("span",{className:"font-bold text-sm",children:_.name})]}),_.badge!==void 0&&_.badge>0&&S.jsx("span",{className:"bg-red-500 text-white text-[10px] font-black px-2 py-0.5 rounded-full",children:_.badge})]},_.path))}),S.jsxs("div",{className:"p-4 border-t border-brand-700",children:[S.jsxs("div",{className:"mb-4 px-4",children:[S.jsx("p",{className:"text-[10px] font-black uppercase text-brand-400 tracking-widest",children:"Logged as"}),S.jsx("p",{className:"text-xs font-bold truncate text-white",children:o==null?void 0:o.name})]}),S.jsxs("button",{onClick:d,className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-red-200 hover:bg-red-900/40 hover:text-red-100 transition-colors",children:[S.jsx(Une,{size:20}),S.jsx("span",{className:"font-bold text-sm",children:"Logout"})]})]})]}),e&&S.jsx("div",{className:"fixed inset-0 bg-brand-900/60 backdrop-blur-sm z-20 md:hidden",onClick:()=>n(!1)}),S.jsx("main",{className:"flex-1 p-4 md:p-8 overflow-y-auto h-[calc(100vh-64px)] md:h-screen",children:S.jsx("div",{className:"max-w-6xl mx-auto animate-fade-in",children:t})})]})},jr=xe.forwardRef(({label:t,error:e,className:n="",labelClassName:r="",...i},o)=>{const a=n.includes("bg-black")||n.includes("bg-slate-900")||n.includes("bg-slate-800")||n.includes("bg-gray-900")||n.includes("bg-gray-800")||n.includes("bg-brand-900")?"text-white placeholder:text-gray-400":"text-gray-900 placeholder:text-gray-500";return S.jsxs("div",{className:"w-full",children:[t&&S.jsx("label",{className:`block text-sm font-medium mb-1 ${r||"text-gray-700"}`,children:t}),S.jsx("input",{ref:o,className:`
          w-full rounded-md shadow-sm border p-2 transition-all
          focus:ring-2 focus:ring-brand-500 focus:border-brand-500
          disabled:opacity-50 disabled:cursor-not-allowed
          ${e?"border-red-500":"border-gray-300"}
          ${a}
          ${n}
        `,...i}),e&&S.jsx("p",{className:"mt-1 text-sm text-red-600 font-medium",children:e})]})});jr.displayName="Input";const cn=({children:t,variant:e="primary",size:n="md",fullWidth:r=!1,className:i="",...o})=>{const s="inline-flex items-center justify-center rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",a={primary:"bg-brand-600 text-white hover:bg-brand-700 focus:ring-brand-500",secondary:"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-brand-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",outline:"bg-transparent border border-brand-600 text-brand-600 hover:bg-brand-50"},l={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return S.jsx("button",{className:`${s} ${a[e]} ${l[n]} ${r?"w-full":""} ${i}`,...o,children:t})},ere=()=>{const[t,e]=ce.useState(""),[n,r]=ce.useState(""),[i,o]=ce.useState(""),[s,a]=ce.useState(!1),l=iT(),u=async c=>{if(c.preventDefault(),!t||!n){o("Please provide Email/ID and Password.");return}a(!0),o("");try{let f=t;if(!t.includes("@")){const d=await Ht.getUserByAccountId(t);if(d&&d.email)f=d.email;else throw new Error("Account ID not found.")}await fne(f,n),l("/")}catch(f){console.error(f),o(f.message==="Account ID not found."?"Account ID not found.":"Invalid credentials. Please check your data.")}finally{a(!1)}};return S.jsx("div",{className:"min-h-screen bg-brand-50 flex items-center justify-center p-4",children:S.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-brand-100",children:[S.jsxs("div",{className:"text-center mb-10",children:[S.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-brand-100 rounded-full mb-4",children:S.jsx(Zc,{className:"text-brand-600 w-8 h-8"})}),S.jsx("h1",{className:"text-3xl font-black text-brand-900 tracking-tight",children:"Downey Cleaning"}),S.jsx("p",{className:"text-gray-400 mt-2 font-medium",children:"Professional Access Portal"})]}),S.jsxs("form",{onSubmit:u,className:"space-y-5",children:[S.jsxs("div",{className:"relative",children:[S.jsx(jr,{label:"Email or Account ID",placeholder:"name@downeycleaning.ie",value:t,onChange:c=>e(c.target.value),required:!0,className:"pl-10"}),S.jsx(Mh,{className:"absolute left-3 top-9 text-gray-400",size:18})]}),S.jsxs("div",{className:"relative",children:[S.jsx(jr,{label:"Password",type:"password",placeholder:"",value:n,onChange:c=>r(c.target.value),required:!0,className:"pl-10"}),S.jsx(fE,{className:"absolute left-3 top-9 text-gray-400",size:18})]}),i&&S.jsxs("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-xs font-bold border border-red-100 animate-shake flex items-center gap-2",children:[S.jsx("span",{className:"w-1.5 h-1.5 bg-red-600 rounded-full"}),i]}),S.jsx(cn,{type:"submit",fullWidth:!0,disabled:s,className:"h-14 text-lg font-bold shadow-lg",children:s?S.jsx(xr,{className:"animate-spin"}):S.jsxs(S.Fragment,{children:[S.jsx(Fne,{size:20,className:"mr-2"})," Secure Login"]})})]}),S.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-100 text-center",children:[S.jsx("p",{className:"text-xs text-gray-400 font-bold uppercase tracking-widest",children:"Internal Use Only"}),S.jsx("p",{className:"text-[10px] text-gray-300 mt-2 italic",children:"Access to this system is restricted to authorized personnel. All activities are monitored and logged."})]})]})})};var tre={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let nre,rre;function ire(){return{geminiUrl:nre,vertexUrl:rre}}function ore(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const s=ire();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(o=s.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zl{}function Ke(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function y(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const a=s.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[a])){const l=t[a];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];y(c,e.slice(o+1),n[u])}else for(const u of l)y(u,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const a=s.slice(0,-3);a in t||(t[a]=[{}]);const l=t[a];y(l[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function p(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const s=t[o];return Array.isArray(s)?s.map(a=>p(a,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function sre(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),s=new Set;let a=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){a=l;break}if(a!==-1&&o.length>a)for(let l=a;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&s.add(u)}dE(t,i,o,0,s)}}function dE(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const s=o.slice(0,-2),a=t;if(s in a&&Array.isArray(a[s]))for(const l of a[s])dE(l,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,a=Object.keys(s).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of a)l[u]=s[u];for(const[u,c]of Object.entries(l)){const f=[];for(const d of n.slice(r))d==="*"?f.push(u):f.push(d);y(s,f,c)}for(const u of a)delete s[u]}}else{const s=t;o in s&&dE(s[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oI(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function are(t){const e={},n=p(t,["operationName"]);n!=null&&y(e,["operationName"],n);const r=p(t,["resourceName"]);return r!=null&&y(e,["_url","resourceName"],r),e}function lre(t){const e={},n=p(t,["name"]);n!=null&&y(e,["name"],n);const r=p(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=p(t,["done"]);i!=null&&y(e,["done"],i);const o=p(t,["error"]);o!=null&&y(e,["error"],o);const s=p(t,["response","generateVideoResponse"]);return s!=null&&y(e,["response"],cre(s)),e}function ure(t){const e={},n=p(t,["name"]);n!=null&&y(e,["name"],n);const r=p(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=p(t,["done"]);i!=null&&y(e,["done"],i);const o=p(t,["error"]);o!=null&&y(e,["error"],o);const s=p(t,["response"]);return s!=null&&y(e,["response"],fre(s)),e}function cre(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>dre(s))),y(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function fre(t){const e={},n=p(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>hre(s))),y(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function dre(t){const e={},n=p(t,["video"]);return n!=null&&y(e,["video"],wre(n)),e}function hre(t){const e={},n=p(t,["_self"]);return n!=null&&y(e,["video"],_re(n)),e}function pre(t){const e={},n=p(t,["operationName"]);return n!=null&&y(e,["_url","operationName"],n),e}function mre(t){const e={},n=p(t,["operationName"]);return n!=null&&y(e,["_url","operationName"],n),e}function gre(t){const e={},n=p(t,["name"]);n!=null&&y(e,["name"],n);const r=p(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=p(t,["done"]);i!=null&&y(e,["done"],i);const o=p(t,["error"]);o!=null&&y(e,["error"],o);const s=p(t,["response"]);return s!=null&&y(e,["response"],yre(s)),e}function yre(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&y(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&y(e,["documentName"],i),e}function cj(t){const e={},n=p(t,["name"]);n!=null&&y(e,["name"],n);const r=p(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=p(t,["done"]);i!=null&&y(e,["done"],i);const o=p(t,["error"]);o!=null&&y(e,["error"],o);const s=p(t,["response"]);return s!=null&&y(e,["response"],vre(s)),e}function vre(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&y(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&y(e,["documentName"],i),e}function wre(t){const e={},n=p(t,["uri"]);n!=null&&y(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&y(e,["videoBytes"],oI(r));const i=p(t,["encoding"]);return i!=null&&y(e,["mimeType"],i),e}function _re(t){const e={},n=p(t,["gcsUri"]);n!=null&&y(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&y(e,["videoBytes"],oI(r));const i=p(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var aR;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(aR||(aR={}));var lR;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(lR||(lR={}));var uR;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(uR||(uR={}));var Gu;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Gu||(Gu={}));var cR;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(cR||(cR={}));var fR;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(fR||(fR={}));var dR;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(dR||(dR={}));var hR;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(hR||(hR={}));var pR;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(pR||(pR={}));var mR;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(mR||(mR={}));var gR;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(gR||(gR={}));var yR;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(yR||(yR={}));var vR;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(vR||(vR={}));var wR;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(wR||(wR={}));var _R;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(_R||(_R={}));var bR;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(bR||(bR={}));var xR;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(xR||(xR={}));var SR;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(SR||(SR={}));var ER;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(ER||(ER={}));var N1;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(N1||(N1={}));var AR;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(AR||(AR={}));var TR;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(TR||(TR={}));var IR;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(IR||(IR={}));var hE;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(hE||(hE={}));var PR;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(PR||(PR={}));var CR;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(CR||(CR={}));var NR;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(NR||(NR={}));var kR;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(kR||(kR={}));var RR;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(RR||(RR={}));var OR;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(OR||(OR={}));var MR;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(MR||(MR={}));var LR;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(LR||(LR={}));var DR;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(DR||(DR={}));var FR;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(FR||(FR={}));var UR;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(UR||(UR={}));var jR;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(jR||(jR={}));var $R;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})($R||($R={}));var BR;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(BR||(BR={}));var VR;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(VR||(VR={}));var qR;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(qR||(qR={}));var zR;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(zR||(zR={}));var HR;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(HR||(HR={}));var GR;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(GR||(GR={}));var WR;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(WR||(WR={}));var KR;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(KR||(KR={}));var YR;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(YR||(YR={}));var JR;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(JR||(JR={}));var XR;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(XR||(XR={}));var QR;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(QR||(QR={}));var ZR;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(ZR||(ZR={}));var e4;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(e4||(e4={}));var t4;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(t4||(t4={}));var n4;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(n4||(n4={}));var r4;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(r4||(r4={}));var i4;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(i4||(i4={}));var qd;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(qd||(qd={}));class pE{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class am{get text(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const f=[];for(const d of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[h,v]of Object.entries(d))h!=="text"&&h!=="thought"&&h!=="thoughtSignature"&&(v!==null||v!==void 0)&&f.push(h);if(typeof d.text=="string"){if(typeof d.thought=="boolean"&&d.thought)continue;c=!0,u+=d.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const f of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[d,h]of Object.entries(f))d!=="inlineData"&&(h!==null||h!==void 0)&&c.push(d);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class o4{}class s4{}class bre{}class xre{}class Sre{}class Ere{}class a4{}class l4{}class u4{}class Are{}class k1{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new k1;let i;const o=e;return n?i=ure(o):i=lre(o),Object.assign(r,i),r}}class c4{}class f4{}class d4{}class h4{}class Tre{}class Ire{}class Pre{}class sI{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new sI,o=gre(e);return Object.assign(r,o),r}}class Cre{}class Nre{}class kre{}class p4{}class Rre{get text(){var e,n,r;let i="",o=!1;const s=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(a))l!=="text"&&l!=="thought"&&u!==null&&s.push(l);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;o=!0,i+=a.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[a,l]of Object.entries(s))a!=="inlineData"&&l!==null&&o.push(a);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Ore{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class aI{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new aI,o=cj(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fn(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function fj(t,e){const n=fn(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function dj(t){return Array.isArray(t)?t.map(e=>R1(e)):[R1(t)]}function R1(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function hj(t){const e=R1(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function pj(t){const e=R1(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function m4(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function mj(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>m4(e)):[m4(t)]}function mE(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function g4(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function y4(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Gi(t){if(t==null)throw new Error("ContentUnion is required");return mE(t)?t:{role:"user",parts:mj(t)}}function lI(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Gi(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Gi(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Gi(n)):[Gi(e)]}function As(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(g4(t)||y4(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Gi(t)]}const e=[],n=[],r=mE(t[0]);for(const i of t){const o=mE(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(g4(i)||y4(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:mj(n)}),e}function Mre(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Gu).includes(n[0].toUpperCase())?n[0].toUpperCase():Gu.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Gu).includes(r.toUpperCase())?r.toUpperCase():Gu.TYPE_UNSPECIFIED})}}function ah(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&Mre(t.type,e);for(const[s,a]of Object.entries(t))if(a!=null)if(s=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(Gu).includes(a.toUpperCase())?a.toUpperCase():Gu.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=ah(a);else if(r.includes(s)){const l=[];for(const u of a){if(u.type=="null"){e.nullable=!0;continue}l.push(ah(u))}e[s]=l}else if(i.includes(s)){const l={};for(const[u,c]of Object.entries(a))l[u]=ah(c);e[s]=l}else{if(s==="additionalProperties")continue;e[s]=a}return e}function uI(t){return ah(t)}function cI(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function fI(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function cp(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ah(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ah(e.response));return t}function fp(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Lre(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function eu(t,e){if(typeof e!="string")throw new Error("name must be a string");return Lre(t,e,"cachedContents")}function gj(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function _c(t){return oI(t)}function Dre(t){return t!=null&&typeof t=="object"&&"name"in t}function Fre(t){return t!=null&&typeof t=="object"&&"video"in t}function Ure(t){return t!=null&&typeof t=="object"&&"uri"in t}function yj(t){var e;let n;if(Dre(t)&&(n=t.name),!(Ure(t)&&(n=t.uri,n===void 0))&&!(Fre(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function vj(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function wj(t){for(const e of["models","tunedModels","publisherModels"])if(jre(t,e))return t[e];return[]}function jre(t,e){return t!==null&&typeof t=="object"&&e in t}function $re(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Bre(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const s=$re(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function _j(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Vre(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function bj(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const l=s.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function dp(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function xj(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qre(t){const e={},n=p(t,["responsesFile"]);n!=null&&y(e,["fileName"],n);const r=p(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Sie(s))),y(e,["inlinedResponses"],o)}const i=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),y(e,["inlinedEmbedContentResponses"],o)}return e}function zre(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&y(e,["format"],n);const r=p(t,["gcsDestination","outputUriPrefix"]);r!=null&&y(e,["gcsUri"],r);const i=p(t,["bigqueryDestination","outputUri"]);return i!=null&&y(e,["bigqueryUri"],i),e}function Hre(t){const e={},n=p(t,["format"]);n!=null&&y(e,["predictionsFormat"],n);const r=p(t,["gcsUri"]);r!=null&&y(e,["gcsDestination","outputUriPrefix"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&y(e,["bigqueryDestination","outputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function O0(t){const e={},n=p(t,["name"]);n!=null&&y(e,["name"],n);const r=p(t,["metadata","displayName"]);r!=null&&y(e,["displayName"],r);const i=p(t,["metadata","state"]);i!=null&&y(e,["state"],xj(i));const o=p(t,["metadata","createTime"]);o!=null&&y(e,["createTime"],o);const s=p(t,["metadata","endTime"]);s!=null&&y(e,["endTime"],s);const a=p(t,["metadata","updateTime"]);a!=null&&y(e,["updateTime"],a);const l=p(t,["metadata","model"]);l!=null&&y(e,["model"],l);const u=p(t,["metadata","output"]);return u!=null&&y(e,["dest"],qre(bj(u))),e}function gE(t){const e={},n=p(t,["name"]);n!=null&&y(e,["name"],n);const r=p(t,["displayName"]);r!=null&&y(e,["displayName"],r);const i=p(t,["state"]);i!=null&&y(e,["state"],xj(i));const o=p(t,["error"]);o!=null&&y(e,["error"],o);const s=p(t,["createTime"]);s!=null&&y(e,["createTime"],s);const a=p(t,["startTime"]);a!=null&&y(e,["startTime"],a);const l=p(t,["endTime"]);l!=null&&y(e,["endTime"],l);const u=p(t,["updateTime"]);u!=null&&y(e,["updateTime"],u);const c=p(t,["model"]);c!=null&&y(e,["model"],c);const f=p(t,["inputConfig"]);f!=null&&y(e,["src"],Gre(f));const d=p(t,["outputConfig"]);d!=null&&y(e,["dest"],zre(bj(d)));const h=p(t,["completionStats"]);return h!=null&&y(e,["completionStats"],h),e}function Gre(t){const e={},n=p(t,["instancesFormat"]);n!=null&&y(e,["format"],n);const r=p(t,["gcsSource","uris"]);r!=null&&y(e,["gcsUri"],r);const i=p(t,["bigquerySource","inputUri"]);return i!=null&&y(e,["bigqueryUri"],i),e}function Wre(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=p(e,["fileName"]);r!=null&&y(n,["fileName"],r);const i=p(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>xie(t,s))),y(n,["requests","requests"],o)}return n}function Kre(t){const e={},n=p(t,["format"]);n!=null&&y(e,["instancesFormat"],n);const r=p(t,["gcsUri"]);r!=null&&y(e,["gcsSource","uris"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&y(e,["bigquerySource","inputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Yre(t){const e={},n=p(t,["data"]);if(n!=null&&y(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Jre(t,e){const n={},r=p(e,["name"]);return r!=null&&y(n,["_url","name"],dp(t,r)),n}function Xre(t,e){const n={},r=p(e,["name"]);return r!=null&&y(n,["_url","name"],dp(t,r)),n}function Qre(t){const e={},n=p(t,["content"]);n!=null&&y(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&y(e,["citationMetadata"],Zre(r));const i=p(t,["tokenCount"]);i!=null&&y(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&y(e,["finishReason"],o);const s=p(t,["avgLogprobs"]);s!=null&&y(e,["avgLogprobs"],s);const a=p(t,["groundingMetadata"]);a!=null&&y(e,["groundingMetadata"],a);const l=p(t,["index"]);l!=null&&y(e,["index"],l);const u=p(t,["logprobsResult"]);u!=null&&y(e,["logprobsResult"],u);const c=p(t,["safetyRatings"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>h)),y(e,["safetyRatings"],d)}const f=p(t,["urlContextMetadata"]);return f!=null&&y(e,["urlContextMetadata"],f),e}function Zre(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(e,["citations"],r)}return e}function Sj(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Nie(o))),y(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&y(e,["role"],r),e}function eie(t,e){const n={},r=p(t,["displayName"]);if(e!==void 0&&r!=null&&y(e,["batch","displayName"],r),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function tie(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const i=p(t,["dest"]);return e!==void 0&&i!=null&&y(e,["outputConfig"],Hre(Vre(i))),n}function v4(t,e){const n={},r=p(e,["model"]);r!=null&&y(n,["_url","model"],fn(t,r));const i=p(e,["src"]);i!=null&&y(n,["batch","inputConfig"],Wre(t,_j(t,i)));const o=p(e,["config"]);return o!=null&&eie(o,n),n}function nie(t,e){const n={},r=p(e,["model"]);r!=null&&y(n,["model"],fn(t,r));const i=p(e,["src"]);i!=null&&y(n,["inputConfig"],Kre(_j(t,i)));const o=p(e,["config"]);return o!=null&&tie(o,n),n}function rie(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&y(e,["batch","displayName"],r),n}function iie(t,e){const n={},r=p(e,["model"]);r!=null&&y(n,["_url","model"],fn(t,r));const i=p(e,["src"]);i!=null&&y(n,["batch","inputConfig"],fie(t,i));const o=p(e,["config"]);return o!=null&&rie(o,n),n}function oie(t,e){const n={},r=p(e,["name"]);return r!=null&&y(n,["_url","name"],dp(t,r)),n}function sie(t,e){const n={},r=p(e,["name"]);return r!=null&&y(n,["_url","name"],dp(t,r)),n}function aie(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&y(e,["name"],r);const i=p(t,["done"]);i!=null&&y(e,["done"],i);const o=p(t,["error"]);return o!=null&&y(e,["error"],o),e}function lie(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&y(e,["name"],r);const i=p(t,["done"]);i!=null&&y(e,["done"],i);const o=p(t,["error"]);return o!=null&&y(e,["error"],o),e}function uie(t,e){const n={},r=p(e,["contents"]);if(r!=null){let o=lI(t,r);Array.isArray(o)&&(o=o.map(s=>s)),y(n,["requests[]","request","content"],o)}const i=p(e,["config"]);return i!=null&&(y(n,["_self"],cie(i,n)),sre(n,{"requests[].*":"requests[].request.*"})),n}function cie(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&y(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&y(e,["requests[]","title"],i);const o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&y(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function fie(t,e){const n={},r=p(e,["fileName"]);r!=null&&y(n,["file_name"],r);const i=p(e,["inlinedRequests"]);return i!=null&&y(n,["requests"],uie(t,i)),n}function die(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function hie(t){const e={},n=p(t,["id"]);n!=null&&y(e,["id"],n);const r=p(t,["args"]);r!=null&&y(e,["args"],r);const i=p(t,["name"]);if(i!=null&&y(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function pie(t){const e={},n=p(t,["mode"]);n!=null&&y(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);if(r!=null&&y(e,["allowedFunctionNames"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function mie(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],Sj(Gi(i)));const o=p(e,["temperature"]);o!=null&&y(r,["temperature"],o);const s=p(e,["topP"]);s!=null&&y(r,["topP"],s);const a=p(e,["topK"]);a!=null&&y(r,["topK"],a);const l=p(e,["candidateCount"]);l!=null&&y(r,["candidateCount"],l);const u=p(e,["maxOutputTokens"]);u!=null&&y(r,["maxOutputTokens"],u);const c=p(e,["stopSequences"]);c!=null&&y(r,["stopSequences"],c);const f=p(e,["responseLogprobs"]);f!=null&&y(r,["responseLogprobs"],f);const d=p(e,["logprobs"]);d!=null&&y(r,["logprobs"],d);const h=p(e,["presencePenalty"]);h!=null&&y(r,["presencePenalty"],h);const v=p(e,["frequencyPenalty"]);v!=null&&y(r,["frequencyPenalty"],v);const _=p(e,["seed"]);_!=null&&y(r,["seed"],_);const w=p(e,["responseMimeType"]);w!=null&&y(r,["responseMimeType"],w);const b=p(e,["responseSchema"]);b!=null&&y(r,["responseSchema"],uI(b));const E=p(e,["responseJsonSchema"]);if(E!=null&&y(r,["responseJsonSchema"],E),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const A=p(e,["safetySettings"]);if(n!==void 0&&A!=null){let U=A;Array.isArray(U)&&(U=U.map(z=>kie(z))),y(n,["safetySettings"],U)}const C=p(e,["tools"]);if(n!==void 0&&C!=null){let U=fp(C);Array.isArray(U)&&(U=U.map(z=>Oie(cp(z)))),y(n,["tools"],U)}const R=p(e,["toolConfig"]);if(n!==void 0&&R!=null&&y(n,["toolConfig"],Rie(R)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const F=p(e,["cachedContent"]);n!==void 0&&F!=null&&y(n,["cachedContent"],eu(t,F));const k=p(e,["responseModalities"]);k!=null&&y(r,["responseModalities"],k);const N=p(e,["mediaResolution"]);N!=null&&y(r,["mediaResolution"],N);const T=p(e,["speechConfig"]);if(T!=null&&y(r,["speechConfig"],cI(T)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const j=p(e,["thinkingConfig"]);j!=null&&y(r,["thinkingConfig"],j);const P=p(e,["imageConfig"]);P!=null&&y(r,["imageConfig"],bie(P));const D=p(e,["enableEnhancedCivicAnswers"]);return D!=null&&y(r,["enableEnhancedCivicAnswers"],D),r}function gie(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Qre(u))),y(e,["candidates"],l)}const i=p(t,["modelVersion"]);i!=null&&y(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&y(e,["promptFeedback"],o);const s=p(t,["responseId"]);s!=null&&y(e,["responseId"],s);const a=p(t,["usageMetadata"]);return a!=null&&y(e,["usageMetadata"],a),e}function yie(t,e){const n={},r=p(e,["name"]);return r!=null&&y(n,["_url","name"],dp(t,r)),n}function vie(t,e){const n={},r=p(e,["name"]);return r!=null&&y(n,["_url","name"],dp(t,r)),n}function wie(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function _ie(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function bie(t){const e={},n=p(t,["aspectRatio"]);n!=null&&y(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&y(e,["imageSize"],r),p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function xie(t,e){const n={},r=p(e,["model"]);r!=null&&y(n,["request","model"],fn(t,r));const i=p(e,["contents"]);if(i!=null){let a=As(i);Array.isArray(a)&&(a=a.map(l=>Sj(l))),y(n,["request","contents"],a)}const o=p(e,["metadata"]);o!=null&&y(n,["metadata"],o);const s=p(e,["config"]);return s!=null&&y(n,["request","generationConfig"],mie(t,s,p(n,["request"],{}))),n}function Sie(t){const e={},n=p(t,["response"]);n!=null&&y(e,["response"],gie(n));const r=p(t,["error"]);return r!=null&&y(e,["error"],r),e}function Eie(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);if(e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Aie(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&y(e,["_query","pageToken"],i);const o=p(t,["filter"]);return e!==void 0&&o!=null&&y(e,["_query","filter"],o),n}function Tie(t){const e={},n=p(t,["config"]);return n!=null&&Eie(n,e),e}function Iie(t){const e={},n=p(t,["config"]);return n!=null&&Aie(n,e),e}function Pie(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=p(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>O0(s))),y(e,["batchJobs"],o)}return e}function Cie(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=p(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>gE(s))),y(e,["batchJobs"],o)}return e}function Nie(t){const e={},n=p(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&y(e,["fileData"],die(o));const s=p(t,["functionCall"]);s!=null&&y(e,["functionCall"],hie(s));const a=p(t,["functionResponse"]);a!=null&&y(e,["functionResponse"],a);const l=p(t,["inlineData"]);l!=null&&y(e,["inlineData"],Yre(l));const u=p(t,["text"]);u!=null&&y(e,["text"],u);const c=p(t,["thought"]);c!=null&&y(e,["thought"],c);const f=p(t,["thoughtSignature"]);f!=null&&y(e,["thoughtSignature"],f);const d=p(t,["videoMetadata"]);return d!=null&&y(e,["videoMetadata"],d),e}function kie(t){const e={},n=p(t,["category"]);if(n!=null&&y(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&y(e,["threshold"],r),e}function Rie(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&y(e,["functionCallingConfig"],pie(n));const r=p(t,["retrievalConfig"]);return r!=null&&y(e,["retrievalConfig"],r),e}function Oie(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>f)),y(e,["functionDeclarations"],c)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&y(e,["fileSearch"],o);const s=p(t,["codeExecution"]);if(s!=null&&y(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=p(t,["googleMaps"]);a!=null&&y(e,["googleMaps"],wie(a));const l=p(t,["googleSearch"]);l!=null&&y(e,["googleSearch"],_ie(l));const u=p(t,["urlContext"]);return u!=null&&y(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Gl;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Gl||(Gl={}));class Kf{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mie extends Zl{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Kf(Gl.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=v4(this.apiClient,e),r=n._url,i=Ke("{model}:batchGenerateContent",r),a=n.batch.inputConfig.requests,l=a.requests,u=[];for(const c of l){const f=Object.assign({},c);if(f.systemInstruction){const d=f.systemInstruction;delete f.systemInstruction;const h=f.request;h.systemInstruction=d,f.request=h}u.push(f)}return a.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),s=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=nie(this.apiClient,e);return a=Ke("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>gE(c))}else{const u=v4(this.apiClient,e);return a=Ke("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>O0(c))}}async createEmbeddingsInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=iie(this.apiClient,e);return o=Ke("{model}:asyncBatchEmbedContent",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>O0(l))}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=vie(this.apiClient,e);return a=Ke("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>gE(c))}else{const u=yie(this.apiClient,e);return a=Ke("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>O0(c))}}async cancel(e){var n,r,i,o;let s="",a={};if(this.apiClient.isVertexAI()){const l=Xre(this.apiClient,e);s=Ke("batchPredictionJobs/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=Jre(this.apiClient,e);s=Ke("batches/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Iie(e);return a=Ke("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=Cie(c),d=new p4;return Object.assign(d,f),d})}else{const u=Tie(e);return a=Ke("batches",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=Pie(c),d=new p4;return Object.assign(d,f),d})}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=sie(this.apiClient,e);return a=Ke("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>lie(c))}else{const u=oie(this.apiClient,e);return a=Ke("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>aie(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lie(t){const e={},n=p(t,["data"]);if(n!=null&&y(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function w4(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ioe(o))),y(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&y(e,["role"],r),e}function Die(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&y(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&y(e,["displayName"],o);const s=p(t,["contents"]);if(e!==void 0&&s!=null){let c=As(s);Array.isArray(c)&&(c=c.map(f=>w4(f))),y(e,["contents"],c)}const a=p(t,["systemInstruction"]);e!==void 0&&a!=null&&y(e,["systemInstruction"],w4(Gi(a)));const l=p(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>soe(f))),y(e,["tools"],c)}const u=p(t,["toolConfig"]);if(e!==void 0&&u!=null&&y(e,["toolConfig"],ooe(u)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Fie(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&y(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&y(e,["displayName"],o);const s=p(t,["contents"]);if(e!==void 0&&s!=null){let f=As(s);Array.isArray(f)&&(f=f.map(d=>d)),y(e,["contents"],f)}const a=p(t,["systemInstruction"]);e!==void 0&&a!=null&&y(e,["systemInstruction"],Gi(a));const l=p(t,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(d=>aoe(d))),y(e,["tools"],f)}const u=p(t,["toolConfig"]);e!==void 0&&u!=null&&y(e,["toolConfig"],u);const c=p(t,["kmsKeyName"]);return e!==void 0&&c!=null&&y(e,["encryption_spec","kmsKeyName"],c),n}function Uie(t,e){const n={},r=p(e,["model"]);r!=null&&y(n,["model"],fj(t,r));const i=p(e,["config"]);return i!=null&&Die(i,n),n}function jie(t,e){const n={},r=p(e,["model"]);r!=null&&y(n,["model"],fj(t,r));const i=p(e,["config"]);return i!=null&&Fie(i,n),n}function $ie(t,e){const n={},r=p(e,["name"]);return r!=null&&y(n,["_url","name"],eu(t,r)),n}function Bie(t,e){const n={},r=p(e,["name"]);return r!=null&&y(n,["_url","name"],eu(t,r)),n}function Vie(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function qie(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function zie(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Hie(t){const e={},n=p(t,["id"]);n!=null&&y(e,["id"],n);const r=p(t,["args"]);r!=null&&y(e,["args"],r);const i=p(t,["name"]);if(i!=null&&y(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Gie(t){const e={},n=p(t,["mode"]);n!=null&&y(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);if(r!=null&&y(e,["allowedFunctionNames"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Wie(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&y(e,["description"],n);const r=p(t,["name"]);r!=null&&y(e,["name"],r);const i=p(t,["parameters"]);i!=null&&y(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&y(e,["parametersJsonSchema"],o);const s=p(t,["response"]);s!=null&&y(e,["response"],s);const a=p(t,["responseJsonSchema"]);return a!=null&&y(e,["responseJsonSchema"],a),e}function Kie(t,e){const n={},r=p(e,["name"]);return r!=null&&y(n,["_url","name"],eu(t,r)),n}function Yie(t,e){const n={},r=p(e,["name"]);return r!=null&&y(n,["_url","name"],eu(t,r)),n}function Jie(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function Xie(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function Qie(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function Zie(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function eoe(t){const e={},n=p(t,["config"]);return n!=null&&Qie(n,e),e}function toe(t){const e={},n=p(t,["config"]);return n!=null&&Zie(n,e),e}function noe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),y(e,["cachedContents"],o)}return e}function roe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),y(e,["cachedContents"],o)}return e}function ioe(t){const e={},n=p(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&y(e,["fileData"],zie(o));const s=p(t,["functionCall"]);s!=null&&y(e,["functionCall"],Hie(s));const a=p(t,["functionResponse"]);a!=null&&y(e,["functionResponse"],a);const l=p(t,["inlineData"]);l!=null&&y(e,["inlineData"],Lie(l));const u=p(t,["text"]);u!=null&&y(e,["text"],u);const c=p(t,["thought"]);c!=null&&y(e,["thought"],c);const f=p(t,["thoughtSignature"]);f!=null&&y(e,["thoughtSignature"],f);const d=p(t,["videoMetadata"]);return d!=null&&y(e,["videoMetadata"],d),e}function ooe(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&y(e,["functionCallingConfig"],Gie(n));const r=p(t,["retrievalConfig"]);return r!=null&&y(e,["retrievalConfig"],r),e}function soe(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>f)),y(e,["functionDeclarations"],c)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&y(e,["fileSearch"],o);const s=p(t,["codeExecution"]);if(s!=null&&y(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=p(t,["googleMaps"]);a!=null&&y(e,["googleMaps"],Jie(a));const l=p(t,["googleSearch"]);l!=null&&y(e,["googleSearch"],Xie(l));const u=p(t,["urlContext"]);return u!=null&&y(e,["urlContext"],u),e}function aoe(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(d=>Wie(d))),y(e,["functionDeclarations"],f)}const r=p(t,["retrieval"]);r!=null&&y(e,["retrieval"],r);const i=p(t,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);if(o!=null&&y(e,["computerUse"],o),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=p(t,["codeExecution"]);s!=null&&y(e,["codeExecution"],s);const a=p(t,["enterpriseWebSearch"]);a!=null&&y(e,["enterpriseWebSearch"],a);const l=p(t,["googleMaps"]);l!=null&&y(e,["googleMaps"],l);const u=p(t,["googleSearch"]);u!=null&&y(e,["googleSearch"],u);const c=p(t,["urlContext"]);return c!=null&&y(e,["urlContext"],c),e}function loe(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&y(e,["expireTime"],i),n}function uoe(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&y(e,["expireTime"],i),n}function coe(t,e){const n={},r=p(e,["name"]);r!=null&&y(n,["_url","name"],eu(t,r));const i=p(e,["config"]);return i!=null&&loe(i,n),n}function foe(t,e){const n={},r=p(e,["name"]);r!=null&&y(n,["_url","name"],eu(t,r));const i=p(e,["config"]);return i!=null&&uoe(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class doe extends Zl{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Kf(Gl.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=jie(this.apiClient,e);return a=Ke("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=Uie(this.apiClient,e);return a=Ke("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Yie(this.apiClient,e);return a=Ke("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=Kie(this.apiClient,e);return a=Ke("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Bie(this.apiClient,e);return a=Ke("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=qie(c),d=new d4;return Object.assign(d,f),d})}else{const u=$ie(this.apiClient,e);return a=Ke("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=Vie(c),d=new d4;return Object.assign(d,f),d})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=foe(this.apiClient,e);return a=Ke("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=coe(this.apiClient,e);return a=Ke("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=toe(e);return a=Ke("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=roe(c),d=new h4;return Object.assign(d,f),d})}else{const u=eoe(e);return a=Ke("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=noe(c),d=new h4;return Object.assign(d,f),d})}}}function O1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function _4(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function kt(t){return this instanceof kt?(this.v=t,this):new kt(t)}function Zs(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(v){return Promise.resolve(v).then(h,f)}}function a(h,v){r[h]&&(i[h]=function(_){return new Promise(function(w,b){o.push([h,_,w,b])>1||l(h,_)})},v&&(i[h]=v(i[h])))}function l(h,v){try{u(r[h](v))}catch(_){d(o[0][3],_)}}function u(h){h.value instanceof kt?Promise.resolve(h.value.v).then(c,f):d(o[0][2],h)}function c(h){l("next",h)}function f(h){l("throw",h)}function d(h,v){h(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function ea(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof _4=="function"?_4(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hoe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Ej(n)}function Ej(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function poe(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function b4(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!Ej(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class moe{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new goe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class goe{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),poe(o)}async sendMessage(e){var n;await this.sendPromise;const r=Gi(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,a;const l=await i,u=(s=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,c=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let d=[];c!=null&&(d=(a=c.slice(f))!==null&&a!==void 0?a:[]);const h=u?[u]:[];this.recordHistory(r,h,d)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Gi(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?b4(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Zs(this,arguments,function*(){var i,o,s,a,l,u;const c=[];try{for(var f=!0,d=ea(e),h;h=yield kt(d.next()),i=h.done,!i;f=!0){a=h.value,f=!1;const v=a;if(hoe(v)){const _=(u=(l=v.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;_!==void 0&&c.push(_)}yield yield kt(v)}}catch(v){o={error:v}}finally{try{!f&&!i&&(s=d.return)&&(yield kt(s.call(d)))}finally{if(o)throw o.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...b4(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class N_ extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,N_.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yoe(t){const e={},n=p(t,["file"]);return n!=null&&y(e,["file"],n),e}function voe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function woe(t){const e={},n=p(t,["name"]);return n!=null&&y(e,["_url","file"],yj(n)),e}function _oe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function boe(t){const e={},n=p(t,["name"]);return n!=null&&y(e,["_url","file"],yj(n)),e}function xoe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function Soe(t){const e={},n=p(t,["config"]);return n!=null&&xoe(n,e),e}function Eoe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=p(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),y(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Aoe extends Zl{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Kf(Gl.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Soe(e);return o=Ke("files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Eoe(l),c=new Cre;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=yoe(e);return o=Ke("upload/v1beta/files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=voe(l),c=new Nre;return Object.assign(c,u),c})}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=boe(e);return o=Ke("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=woe(e);return o=Ke("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=_oe(l),c=new kre;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function M0(t){const e={},n=p(t,["data"]);if(n!=null&&y(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Toe(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Voe(o))),y(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&y(e,["role"],r),e}function Ioe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Poe(t){const e={},n=p(t,["id"]);n!=null&&y(e,["id"],n);const r=p(t,["args"]);r!=null&&y(e,["args"],r);const i=p(t,["name"]);if(i!=null&&y(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Coe(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&y(e,["description"],n);const r=p(t,["name"]);r!=null&&y(e,["name"],r);const i=p(t,["parameters"]);i!=null&&y(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&y(e,["parametersJsonSchema"],o);const s=p(t,["response"]);s!=null&&y(e,["response"],s);const a=p(t,["responseJsonSchema"]);return a!=null&&y(e,["responseJsonSchema"],a),e}function Noe(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&y(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&y(e,["responseJsonSchema"],r);const i=p(t,["audioTimestamp"]);i!=null&&y(e,["audioTimestamp"],i);const o=p(t,["candidateCount"]);o!=null&&y(e,["candidateCount"],o);const s=p(t,["enableAffectiveDialog"]);s!=null&&y(e,["enableAffectiveDialog"],s);const a=p(t,["frequencyPenalty"]);a!=null&&y(e,["frequencyPenalty"],a);const l=p(t,["logprobs"]);l!=null&&y(e,["logprobs"],l);const u=p(t,["maxOutputTokens"]);u!=null&&y(e,["maxOutputTokens"],u);const c=p(t,["mediaResolution"]);c!=null&&y(e,["mediaResolution"],c);const f=p(t,["presencePenalty"]);f!=null&&y(e,["presencePenalty"],f);const d=p(t,["responseLogprobs"]);d!=null&&y(e,["responseLogprobs"],d);const h=p(t,["responseMimeType"]);h!=null&&y(e,["responseMimeType"],h);const v=p(t,["responseModalities"]);v!=null&&y(e,["responseModalities"],v);const _=p(t,["responseSchema"]);_!=null&&y(e,["responseSchema"],_);const w=p(t,["routingConfig"]);w!=null&&y(e,["routingConfig"],w);const b=p(t,["seed"]);b!=null&&y(e,["seed"],b);const E=p(t,["speechConfig"]);E!=null&&y(e,["speechConfig"],E);const A=p(t,["stopSequences"]);A!=null&&y(e,["stopSequences"],A);const C=p(t,["temperature"]);C!=null&&y(e,["temperature"],C);const R=p(t,["thinkingConfig"]);R!=null&&y(e,["thinkingConfig"],R);const F=p(t,["topK"]);F!=null&&y(e,["topK"],F);const k=p(t,["topP"]);if(k!=null&&y(e,["topP"],k),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function koe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function Roe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function Ooe(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&y(e,["setup","generationConfig","temperature"],o);const s=p(t,["topP"]);e!==void 0&&s!=null&&y(e,["setup","generationConfig","topP"],s);const a=p(t,["topK"]);e!==void 0&&a!=null&&y(e,["setup","generationConfig","topK"],a);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&y(e,["setup","generationConfig","maxOutputTokens"],l);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&y(e,["setup","generationConfig","mediaResolution"],u);const c=p(t,["seed"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","seed"],c);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","speechConfig"],fI(f));const d=p(t,["thinkingConfig"]);e!==void 0&&d!=null&&y(e,["setup","generationConfig","thinkingConfig"],d);const h=p(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],h);const v=p(t,["systemInstruction"]);e!==void 0&&v!=null&&y(e,["setup","systemInstruction"],Toe(Gi(v)));const _=p(t,["tools"]);if(e!==void 0&&_!=null){let F=fp(_);Array.isArray(F)&&(F=F.map(k=>zoe(cp(k)))),y(e,["setup","tools"],F)}const w=p(t,["sessionResumption"]);e!==void 0&&w!=null&&y(e,["setup","sessionResumption"],qoe(w));const b=p(t,["inputAudioTranscription"]);e!==void 0&&b!=null&&y(e,["setup","inputAudioTranscription"],b);const E=p(t,["outputAudioTranscription"]);e!==void 0&&E!=null&&y(e,["setup","outputAudioTranscription"],E);const A=p(t,["realtimeInputConfig"]);e!==void 0&&A!=null&&y(e,["setup","realtimeInputConfig"],A);const C=p(t,["contextWindowCompression"]);e!==void 0&&C!=null&&y(e,["setup","contextWindowCompression"],C);const R=p(t,["proactivity"]);if(e!==void 0&&R!=null&&y(e,["setup","proactivity"],R),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Moe(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],Noe(r));const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&y(e,["setup","generationConfig","temperature"],o);const s=p(t,["topP"]);e!==void 0&&s!=null&&y(e,["setup","generationConfig","topP"],s);const a=p(t,["topK"]);e!==void 0&&a!=null&&y(e,["setup","generationConfig","topK"],a);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&y(e,["setup","generationConfig","maxOutputTokens"],l);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&y(e,["setup","generationConfig","mediaResolution"],u);const c=p(t,["seed"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","seed"],c);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","speechConfig"],fI(f));const d=p(t,["thinkingConfig"]);e!==void 0&&d!=null&&y(e,["setup","generationConfig","thinkingConfig"],d);const h=p(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],h);const v=p(t,["systemInstruction"]);e!==void 0&&v!=null&&y(e,["setup","systemInstruction"],Gi(v));const _=p(t,["tools"]);if(e!==void 0&&_!=null){let k=fp(_);Array.isArray(k)&&(k=k.map(N=>Hoe(cp(N)))),y(e,["setup","tools"],k)}const w=p(t,["sessionResumption"]);e!==void 0&&w!=null&&y(e,["setup","sessionResumption"],w);const b=p(t,["inputAudioTranscription"]);e!==void 0&&b!=null&&y(e,["setup","inputAudioTranscription"],b);const E=p(t,["outputAudioTranscription"]);e!==void 0&&E!=null&&y(e,["setup","outputAudioTranscription"],E);const A=p(t,["realtimeInputConfig"]);e!==void 0&&A!=null&&y(e,["setup","realtimeInputConfig"],A);const C=p(t,["contextWindowCompression"]);e!==void 0&&C!=null&&y(e,["setup","contextWindowCompression"],C);const R=p(t,["proactivity"]);e!==void 0&&R!=null&&y(e,["setup","proactivity"],R);const F=p(t,["explicitVadSignal"]);return e!==void 0&&F!=null&&y(e,["setup","explicitVadSignal"],F),n}function Loe(t,e){const n={},r=p(e,["model"]);r!=null&&y(n,["setup","model"],fn(t,r));const i=p(e,["config"]);return i!=null&&y(n,["config"],Ooe(i,n)),n}function Doe(t,e){const n={},r=p(e,["model"]);r!=null&&y(n,["setup","model"],fn(t,r));const i=p(e,["config"]);return i!=null&&y(n,["config"],Moe(i,n)),n}function Foe(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&y(e,["musicGenerationConfig"],n),e}function Uoe(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(e,["weightedPrompts"],r)}return e}function joe(t){const e={},n=p(t,["media"]);if(n!=null){let u=dj(n);Array.isArray(u)&&(u=u.map(c=>M0(c))),y(e,["mediaChunks"],u)}const r=p(t,["audio"]);r!=null&&y(e,["audio"],M0(pj(r)));const i=p(t,["audioStreamEnd"]);i!=null&&y(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&y(e,["video"],M0(hj(o)));const s=p(t,["text"]);s!=null&&y(e,["text"],s);const a=p(t,["activityStart"]);a!=null&&y(e,["activityStart"],a);const l=p(t,["activityEnd"]);return l!=null&&y(e,["activityEnd"],l),e}function $oe(t){const e={},n=p(t,["media"]);if(n!=null){let u=dj(n);Array.isArray(u)&&(u=u.map(c=>c)),y(e,["mediaChunks"],u)}const r=p(t,["audio"]);r!=null&&y(e,["audio"],pj(r));const i=p(t,["audioStreamEnd"]);i!=null&&y(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&y(e,["video"],hj(o));const s=p(t,["text"]);s!=null&&y(e,["text"],s);const a=p(t,["activityStart"]);a!=null&&y(e,["activityStart"],a);const l=p(t,["activityEnd"]);return l!=null&&y(e,["activityEnd"],l),e}function Boe(t){const e={},n=p(t,["setupComplete"]);n!=null&&y(e,["setupComplete"],n);const r=p(t,["serverContent"]);r!=null&&y(e,["serverContent"],r);const i=p(t,["toolCall"]);i!=null&&y(e,["toolCall"],i);const o=p(t,["toolCallCancellation"]);o!=null&&y(e,["toolCallCancellation"],o);const s=p(t,["usageMetadata"]);s!=null&&y(e,["usageMetadata"],Goe(s));const a=p(t,["goAway"]);a!=null&&y(e,["goAway"],a);const l=p(t,["sessionResumptionUpdate"]);l!=null&&y(e,["sessionResumptionUpdate"],l);const u=p(t,["voiceActivityDetectionSignal"]);return u!=null&&y(e,["voiceActivityDetectionSignal"],u),e}function Voe(t){const e={},n=p(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&y(e,["fileData"],Ioe(o));const s=p(t,["functionCall"]);s!=null&&y(e,["functionCall"],Poe(s));const a=p(t,["functionResponse"]);a!=null&&y(e,["functionResponse"],a);const l=p(t,["inlineData"]);l!=null&&y(e,["inlineData"],M0(l));const u=p(t,["text"]);u!=null&&y(e,["text"],u);const c=p(t,["thought"]);c!=null&&y(e,["thought"],c);const f=p(t,["thoughtSignature"]);f!=null&&y(e,["thoughtSignature"],f);const d=p(t,["videoMetadata"]);return d!=null&&y(e,["videoMetadata"],d),e}function qoe(t){const e={},n=p(t,["handle"]);if(n!=null&&y(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function zoe(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>f)),y(e,["functionDeclarations"],c)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&y(e,["fileSearch"],o);const s=p(t,["codeExecution"]);if(s!=null&&y(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=p(t,["googleMaps"]);a!=null&&y(e,["googleMaps"],koe(a));const l=p(t,["googleSearch"]);l!=null&&y(e,["googleSearch"],Roe(l));const u=p(t,["urlContext"]);return u!=null&&y(e,["urlContext"],u),e}function Hoe(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(d=>Coe(d))),y(e,["functionDeclarations"],f)}const r=p(t,["retrieval"]);r!=null&&y(e,["retrieval"],r);const i=p(t,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);if(o!=null&&y(e,["computerUse"],o),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=p(t,["codeExecution"]);s!=null&&y(e,["codeExecution"],s);const a=p(t,["enterpriseWebSearch"]);a!=null&&y(e,["enterpriseWebSearch"],a);const l=p(t,["googleMaps"]);l!=null&&y(e,["googleMaps"],l);const u=p(t,["googleSearch"]);u!=null&&y(e,["googleSearch"],u);const c=p(t,["urlContext"]);return c!=null&&y(e,["urlContext"],c),e}function Goe(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&y(e,["promptTokenCount"],n);const r=p(t,["cachedContentTokenCount"]);r!=null&&y(e,["cachedContentTokenCount"],r);const i=p(t,["candidatesTokenCount"]);i!=null&&y(e,["responseTokenCount"],i);const o=p(t,["toolUsePromptTokenCount"]);o!=null&&y(e,["toolUsePromptTokenCount"],o);const s=p(t,["thoughtsTokenCount"]);s!=null&&y(e,["thoughtsTokenCount"],s);const a=p(t,["totalTokenCount"]);a!=null&&y(e,["totalTokenCount"],a);const l=p(t,["promptTokensDetails"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(v=>v)),y(e,["promptTokensDetails"],h)}const u=p(t,["cacheTokensDetails"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(v=>v)),y(e,["cacheTokensDetails"],h)}const c=p(t,["candidatesTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(v=>v)),y(e,["responseTokensDetails"],h)}const f=p(t,["toolUsePromptTokensDetails"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(v=>v)),y(e,["toolUsePromptTokensDetails"],h)}const d=p(t,["trafficType"]);return d!=null&&y(e,["trafficType"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Woe(t){const e={},n=p(t,["data"]);if(n!=null&&y(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Koe(t){const e={},n=p(t,["content"]);n!=null&&y(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&y(e,["citationMetadata"],Yoe(r));const i=p(t,["tokenCount"]);i!=null&&y(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&y(e,["finishReason"],o);const s=p(t,["avgLogprobs"]);s!=null&&y(e,["avgLogprobs"],s);const a=p(t,["groundingMetadata"]);a!=null&&y(e,["groundingMetadata"],a);const l=p(t,["index"]);l!=null&&y(e,["index"],l);const u=p(t,["logprobsResult"]);u!=null&&y(e,["logprobsResult"],u);const c=p(t,["safetyRatings"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>h)),y(e,["safetyRatings"],d)}const f=p(t,["urlContextMetadata"]);return f!=null&&y(e,["urlContextMetadata"],f),e}function Yoe(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(e,["citations"],r)}return e}function Joe(t,e){const n={},r=p(e,["model"]);r!=null&&y(n,["_url","model"],fn(t,r));const i=p(e,["contents"]);if(i!=null){let o=As(i);Array.isArray(o)&&(o=o.map(s=>s)),y(n,["contents"],o)}return n}function Xoe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=p(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),y(e,["tokensInfo"],i)}return e}function Qoe(t){const e={},n=p(t,["values"]);n!=null&&y(e,["values"],n);const r=p(t,["statistics"]);return r!=null&&y(e,["statistics"],Zoe(r)),e}function Zoe(t){const e={},n=p(t,["truncated"]);n!=null&&y(e,["truncated"],n);const r=p(t,["token_count"]);return r!=null&&y(e,["tokenCount"],r),e}function k_(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>lae(o))),y(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&y(e,["role"],r),e}function ese(t){const e={},n=p(t,["controlType"]);n!=null&&y(e,["controlType"],n);const r=p(t,["enableControlImageComputation"]);return r!=null&&y(e,["computeControl"],r),e}function tse(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function nse(t,e){const n={},r=p(t,["systemInstruction"]);e!==void 0&&r!=null&&y(e,["systemInstruction"],Gi(r));const i=p(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Pj(a))),y(e,["tools"],s)}const o=p(t,["generationConfig"]);return e!==void 0&&o!=null&&y(e,["generationConfig"],Wse(o)),n}function rse(t,e){const n={},r=p(e,["model"]);r!=null&&y(n,["_url","model"],fn(t,r));const i=p(e,["contents"]);if(i!=null){let s=As(i);Array.isArray(s)&&(s=s.map(a=>k_(a))),y(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&tse(o),n}function ise(t,e){const n={},r=p(e,["model"]);r!=null&&y(n,["_url","model"],fn(t,r));const i=p(e,["contents"]);if(i!=null){let s=As(i);Array.isArray(s)&&(s=s.map(a=>a)),y(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&nse(o,n),n}function ose(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);r!=null&&y(e,["totalTokens"],r);const i=p(t,["cachedContentTokenCount"]);return i!=null&&y(e,["cachedContentTokenCount"],i),e}function sse(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);return r!=null&&y(e,["totalTokens"],r),e}function ase(t,e){const n={},r=p(e,["model"]);return r!=null&&y(n,["_url","name"],fn(t,r)),n}function lse(t,e){const n={},r=p(e,["model"]);return r!=null&&y(n,["_url","name"],fn(t,r)),n}function use(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function cse(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function fse(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&y(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&y(e,["parameters","sampleCount"],o);const s=p(t,["aspectRatio"]);e!==void 0&&s!=null&&y(e,["parameters","aspectRatio"],s);const a=p(t,["guidanceScale"]);e!==void 0&&a!=null&&y(e,["parameters","guidanceScale"],a);const l=p(t,["seed"]);e!==void 0&&l!=null&&y(e,["parameters","seed"],l);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&y(e,["parameters","safetySetting"],u);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&y(e,["parameters","personGeneration"],c);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&y(e,["parameters","includeSafetyAttributes"],f);const d=p(t,["includeRaiReason"]);e!==void 0&&d!=null&&y(e,["parameters","includeRaiReason"],d);const h=p(t,["language"]);e!==void 0&&h!=null&&y(e,["parameters","language"],h);const v=p(t,["outputMimeType"]);e!==void 0&&v!=null&&y(e,["parameters","outputOptions","mimeType"],v);const _=p(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&y(e,["parameters","outputOptions","compressionQuality"],_);const w=p(t,["addWatermark"]);e!==void 0&&w!=null&&y(e,["parameters","addWatermark"],w);const b=p(t,["labels"]);e!==void 0&&b!=null&&y(e,["labels"],b);const E=p(t,["editMode"]);e!==void 0&&E!=null&&y(e,["parameters","editMode"],E);const A=p(t,["baseSteps"]);return e!==void 0&&A!=null&&y(e,["parameters","editConfig","baseSteps"],A),n}function dse(t,e){const n={},r=p(e,["model"]);r!=null&&y(n,["_url","model"],fn(t,r));const i=p(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=p(e,["referenceImages"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>pae(l))),y(n,["instances[0]","referenceImages"],a)}const s=p(e,["config"]);return s!=null&&fse(s,n),n}function hse(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>R_(o))),y(e,["generatedImages"],i)}return e}function pse(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&y(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&y(e,["requests[]","title"],i);const o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&y(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function mse(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&y(e,["instances[]","task_type"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&y(e,["instances[]","title"],i);const o=p(t,["outputDimensionality"]);e!==void 0&&o!=null&&y(e,["parameters","outputDimensionality"],o);const s=p(t,["mimeType"]);e!==void 0&&s!=null&&y(e,["instances[]","mimeType"],s);const a=p(t,["autoTruncate"]);return e!==void 0&&a!=null&&y(e,["parameters","autoTruncate"],a),n}function gse(t,e){const n={},r=p(e,["model"]);r!=null&&y(n,["_url","model"],fn(t,r));const i=p(e,["contents"]);if(i!=null){let a=lI(t,i);Array.isArray(a)&&(a=a.map(l=>l)),y(n,["requests[]","content"],a)}const o=p(e,["config"]);o!=null&&pse(o,n);const s=p(e,["model"]);return s!==void 0&&y(n,["requests[]","model"],fn(t,s)),n}function yse(t,e){const n={},r=p(e,["model"]);r!=null&&y(n,["_url","model"],fn(t,r));const i=p(e,["contents"]);if(i!=null){let s=lI(t,i);Array.isArray(s)&&(s=s.map(a=>a)),y(n,["instances[]","content"],s)}const o=p(e,["config"]);return o!=null&&mse(o,n),n}function vse(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=p(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),y(e,["embeddings"],o)}const i=p(t,["metadata"]);return i!=null&&y(e,["metadata"],i),e}function wse(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=p(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Qoe(s))),y(e,["embeddings"],o)}const i=p(t,["metadata"]);return i!=null&&y(e,["metadata"],i),e}function _se(t){const e={},n=p(t,["endpoint"]);n!=null&&y(e,["name"],n);const r=p(t,["deployedModelId"]);return r!=null&&y(e,["deployedModelId"],r),e}function bse(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function xse(t){const e={},n=p(t,["id"]);n!=null&&y(e,["id"],n);const r=p(t,["args"]);r!=null&&y(e,["args"],r);const i=p(t,["name"]);if(i!=null&&y(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Sse(t){const e={},n=p(t,["mode"]);n!=null&&y(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);if(r!=null&&y(e,["allowedFunctionNames"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Ese(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&y(e,["description"],n);const r=p(t,["name"]);r!=null&&y(e,["name"],r);const i=p(t,["parameters"]);i!=null&&y(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&y(e,["parametersJsonSchema"],o);const s=p(t,["response"]);s!=null&&y(e,["response"],s);const a=p(t,["responseJsonSchema"]);return a!=null&&y(e,["responseJsonSchema"],a),e}function Ase(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],k_(Gi(i)));const o=p(e,["temperature"]);o!=null&&y(r,["temperature"],o);const s=p(e,["topP"]);s!=null&&y(r,["topP"],s);const a=p(e,["topK"]);a!=null&&y(r,["topK"],a);const l=p(e,["candidateCount"]);l!=null&&y(r,["candidateCount"],l);const u=p(e,["maxOutputTokens"]);u!=null&&y(r,["maxOutputTokens"],u);const c=p(e,["stopSequences"]);c!=null&&y(r,["stopSequences"],c);const f=p(e,["responseLogprobs"]);f!=null&&y(r,["responseLogprobs"],f);const d=p(e,["logprobs"]);d!=null&&y(r,["logprobs"],d);const h=p(e,["presencePenalty"]);h!=null&&y(r,["presencePenalty"],h);const v=p(e,["frequencyPenalty"]);v!=null&&y(r,["frequencyPenalty"],v);const _=p(e,["seed"]);_!=null&&y(r,["seed"],_);const w=p(e,["responseMimeType"]);w!=null&&y(r,["responseMimeType"],w);const b=p(e,["responseSchema"]);b!=null&&y(r,["responseSchema"],uI(b));const E=p(e,["responseJsonSchema"]);if(E!=null&&y(r,["responseJsonSchema"],E),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const A=p(e,["safetySettings"]);if(n!==void 0&&A!=null){let U=A;Array.isArray(U)&&(U=U.map(z=>mae(z))),y(n,["safetySettings"],U)}const C=p(e,["tools"]);if(n!==void 0&&C!=null){let U=fp(C);Array.isArray(U)&&(U=U.map(z=>xae(cp(z)))),y(n,["tools"],U)}const R=p(e,["toolConfig"]);if(n!==void 0&&R!=null&&y(n,["toolConfig"],bae(R)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const F=p(e,["cachedContent"]);n!==void 0&&F!=null&&y(n,["cachedContent"],eu(t,F));const k=p(e,["responseModalities"]);k!=null&&y(r,["responseModalities"],k);const N=p(e,["mediaResolution"]);N!=null&&y(r,["mediaResolution"],N);const T=p(e,["speechConfig"]);if(T!=null&&y(r,["speechConfig"],cI(T)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const j=p(e,["thinkingConfig"]);j!=null&&y(r,["thinkingConfig"],j);const P=p(e,["imageConfig"]);P!=null&&y(r,["imageConfig"],Qse(P));const D=p(e,["enableEnhancedCivicAnswers"]);return D!=null&&y(r,["enableEnhancedCivicAnswers"],D),r}function Tse(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],Gi(i));const o=p(e,["temperature"]);o!=null&&y(r,["temperature"],o);const s=p(e,["topP"]);s!=null&&y(r,["topP"],s);const a=p(e,["topK"]);a!=null&&y(r,["topK"],a);const l=p(e,["candidateCount"]);l!=null&&y(r,["candidateCount"],l);const u=p(e,["maxOutputTokens"]);u!=null&&y(r,["maxOutputTokens"],u);const c=p(e,["stopSequences"]);c!=null&&y(r,["stopSequences"],c);const f=p(e,["responseLogprobs"]);f!=null&&y(r,["responseLogprobs"],f);const d=p(e,["logprobs"]);d!=null&&y(r,["logprobs"],d);const h=p(e,["presencePenalty"]);h!=null&&y(r,["presencePenalty"],h);const v=p(e,["frequencyPenalty"]);v!=null&&y(r,["frequencyPenalty"],v);const _=p(e,["seed"]);_!=null&&y(r,["seed"],_);const w=p(e,["responseMimeType"]);w!=null&&y(r,["responseMimeType"],w);const b=p(e,["responseSchema"]);b!=null&&y(r,["responseSchema"],uI(b));const E=p(e,["responseJsonSchema"]);E!=null&&y(r,["responseJsonSchema"],E);const A=p(e,["routingConfig"]);A!=null&&y(r,["routingConfig"],A);const C=p(e,["modelSelectionConfig"]);C!=null&&y(r,["modelConfig"],C);const R=p(e,["safetySettings"]);if(n!==void 0&&R!=null){let le=R;Array.isArray(le)&&(le=le.map(ue=>ue)),y(n,["safetySettings"],le)}const F=p(e,["tools"]);if(n!==void 0&&F!=null){let le=fp(F);Array.isArray(le)&&(le=le.map(ue=>Pj(cp(ue)))),y(n,["tools"],le)}const k=p(e,["toolConfig"]);n!==void 0&&k!=null&&y(n,["toolConfig"],k);const N=p(e,["labels"]);n!==void 0&&N!=null&&y(n,["labels"],N);const T=p(e,["cachedContent"]);n!==void 0&&T!=null&&y(n,["cachedContent"],eu(t,T));const j=p(e,["responseModalities"]);j!=null&&y(r,["responseModalities"],j);const P=p(e,["mediaResolution"]);P!=null&&y(r,["mediaResolution"],P);const D=p(e,["speechConfig"]);D!=null&&y(r,["speechConfig"],cI(D));const U=p(e,["audioTimestamp"]);U!=null&&y(r,["audioTimestamp"],U);const z=p(e,["thinkingConfig"]);z!=null&&y(r,["thinkingConfig"],z);const ee=p(e,["imageConfig"]);if(ee!=null&&y(r,["imageConfig"],Zse(ee)),p(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function x4(t,e){const n={},r=p(e,["model"]);r!=null&&y(n,["_url","model"],fn(t,r));const i=p(e,["contents"]);if(i!=null){let s=As(i);Array.isArray(s)&&(s=s.map(a=>k_(a))),y(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&y(n,["generationConfig"],Ase(t,o,n)),n}function S4(t,e){const n={},r=p(e,["model"]);r!=null&&y(n,["_url","model"],fn(t,r));const i=p(e,["contents"]);if(i!=null){let s=As(i);Array.isArray(s)&&(s=s.map(a=>a)),y(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&y(n,["generationConfig"],Tse(t,o,n)),n}function E4(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Koe(u))),y(e,["candidates"],l)}const i=p(t,["modelVersion"]);i!=null&&y(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&y(e,["promptFeedback"],o);const s=p(t,["responseId"]);s!=null&&y(e,["responseId"],s);const a=p(t,["usageMetadata"]);return a!=null&&y(e,["usageMetadata"],a),e}function A4(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),y(e,["candidates"],u)}const i=p(t,["createTime"]);i!=null&&y(e,["createTime"],i);const o=p(t,["modelVersion"]);o!=null&&y(e,["modelVersion"],o);const s=p(t,["promptFeedback"]);s!=null&&y(e,["promptFeedback"],s);const a=p(t,["responseId"]);a!=null&&y(e,["responseId"],a);const l=p(t,["usageMetadata"]);return l!=null&&y(e,["usageMetadata"],l),e}function Ise(t,e){const n={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r);const i=p(t,["aspectRatio"]);e!==void 0&&i!=null&&y(e,["parameters","aspectRatio"],i);const o=p(t,["guidanceScale"]);if(e!==void 0&&o!=null&&y(e,["parameters","guidanceScale"],o),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=p(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&y(e,["parameters","safetySetting"],s);const a=p(t,["personGeneration"]);e!==void 0&&a!=null&&y(e,["parameters","personGeneration"],a);const l=p(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&y(e,["parameters","includeSafetyAttributes"],l);const u=p(t,["includeRaiReason"]);e!==void 0&&u!=null&&y(e,["parameters","includeRaiReason"],u);const c=p(t,["language"]);e!==void 0&&c!=null&&y(e,["parameters","language"],c);const f=p(t,["outputMimeType"]);e!==void 0&&f!=null&&y(e,["parameters","outputOptions","mimeType"],f);const d=p(t,["outputCompressionQuality"]);if(e!==void 0&&d!=null&&y(e,["parameters","outputOptions","compressionQuality"],d),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const h=p(t,["imageSize"]);if(e!==void 0&&h!=null&&y(e,["parameters","sampleImageSize"],h),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Pse(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&y(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&y(e,["parameters","sampleCount"],o);const s=p(t,["aspectRatio"]);e!==void 0&&s!=null&&y(e,["parameters","aspectRatio"],s);const a=p(t,["guidanceScale"]);e!==void 0&&a!=null&&y(e,["parameters","guidanceScale"],a);const l=p(t,["seed"]);e!==void 0&&l!=null&&y(e,["parameters","seed"],l);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&y(e,["parameters","safetySetting"],u);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&y(e,["parameters","personGeneration"],c);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&y(e,["parameters","includeSafetyAttributes"],f);const d=p(t,["includeRaiReason"]);e!==void 0&&d!=null&&y(e,["parameters","includeRaiReason"],d);const h=p(t,["language"]);e!==void 0&&h!=null&&y(e,["parameters","language"],h);const v=p(t,["outputMimeType"]);e!==void 0&&v!=null&&y(e,["parameters","outputOptions","mimeType"],v);const _=p(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&y(e,["parameters","outputOptions","compressionQuality"],_);const w=p(t,["addWatermark"]);e!==void 0&&w!=null&&y(e,["parameters","addWatermark"],w);const b=p(t,["labels"]);e!==void 0&&b!=null&&y(e,["labels"],b);const E=p(t,["imageSize"]);e!==void 0&&E!=null&&y(e,["parameters","sampleImageSize"],E);const A=p(t,["enhancePrompt"]);return e!==void 0&&A!=null&&y(e,["parameters","enhancePrompt"],A),n}function Cse(t,e){const n={},r=p(e,["model"]);r!=null&&y(n,["_url","model"],fn(t,r));const i=p(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&Ise(o,n),n}function Nse(t,e){const n={},r=p(e,["model"]);r!=null&&y(n,["_url","model"],fn(t,r));const i=p(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&Pse(o,n),n}function kse(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>qse(s))),y(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&y(e,["positivePromptSafetyAttributes"],Tj(i)),e}function Rse(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>R_(s))),y(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&y(e,["positivePromptSafetyAttributes"],Ij(i)),e}function Ose(t,e){const n={},r=p(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=p(t,["durationSeconds"]);if(e!==void 0&&i!=null&&y(e,["parameters","durationSeconds"],i),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&y(e,["parameters","aspectRatio"],o);const s=p(t,["resolution"]);e!==void 0&&s!=null&&y(e,["parameters","resolution"],s);const a=p(t,["personGeneration"]);if(e!==void 0&&a!=null&&y(e,["parameters","personGeneration"],a),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=p(t,["negativePrompt"]);e!==void 0&&l!=null&&y(e,["parameters","negativePrompt"],l);const u=p(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&y(e,["parameters","enhancePrompt"],u),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const c=p(t,["lastFrame"]);e!==void 0&&c!=null&&y(e,["instances[0]","lastFrame"],O_(c));const f=p(t,["referenceImages"]);if(e!==void 0&&f!=null){let d=f;Array.isArray(d)&&(d=d.map(h=>Lae(h))),y(e,["instances[0]","referenceImages"],d)}if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Mse(t,e){const n={},r=p(t,["numberOfVideos"]);e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r);const i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&y(e,["parameters","storageUri"],i);const o=p(t,["fps"]);e!==void 0&&o!=null&&y(e,["parameters","fps"],o);const s=p(t,["durationSeconds"]);e!==void 0&&s!=null&&y(e,["parameters","durationSeconds"],s);const a=p(t,["seed"]);e!==void 0&&a!=null&&y(e,["parameters","seed"],a);const l=p(t,["aspectRatio"]);e!==void 0&&l!=null&&y(e,["parameters","aspectRatio"],l);const u=p(t,["resolution"]);e!==void 0&&u!=null&&y(e,["parameters","resolution"],u);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&y(e,["parameters","personGeneration"],c);const f=p(t,["pubsubTopic"]);e!==void 0&&f!=null&&y(e,["parameters","pubsubTopic"],f);const d=p(t,["negativePrompt"]);e!==void 0&&d!=null&&y(e,["parameters","negativePrompt"],d);const h=p(t,["enhancePrompt"]);e!==void 0&&h!=null&&y(e,["parameters","enhancePrompt"],h);const v=p(t,["generateAudio"]);e!==void 0&&v!=null&&y(e,["parameters","generateAudio"],v);const _=p(t,["lastFrame"]);e!==void 0&&_!=null&&y(e,["instances[0]","lastFrame"],la(_));const w=p(t,["referenceImages"]);if(e!==void 0&&w!=null){let A=w;Array.isArray(A)&&(A=A.map(C=>Dae(C))),y(e,["instances[0]","referenceImages"],A)}const b=p(t,["mask"]);e!==void 0&&b!=null&&y(e,["instances[0]","mask"],Mae(b));const E=p(t,["compressionQuality"]);return e!==void 0&&E!=null&&y(e,["parameters","compressionQuality"],E),n}function Lse(t){const e={},n=p(t,["name"]);n!=null&&y(e,["name"],n);const r=p(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=p(t,["done"]);i!=null&&y(e,["done"],i);const o=p(t,["error"]);o!=null&&y(e,["error"],o);const s=p(t,["response","generateVideoResponse"]);return s!=null&&y(e,["response"],jse(s)),e}function Dse(t){const e={},n=p(t,["name"]);n!=null&&y(e,["name"],n);const r=p(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=p(t,["done"]);i!=null&&y(e,["done"],i);const o=p(t,["error"]);o!=null&&y(e,["error"],o);const s=p(t,["response"]);return s!=null&&y(e,["response"],$se(s)),e}function Fse(t,e){const n={},r=p(e,["model"]);r!=null&&y(n,["_url","model"],fn(t,r));const i=p(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=p(e,["image"]);o!=null&&y(n,["instances[0]","image"],O_(o));const s=p(e,["video"]);s!=null&&y(n,["instances[0]","video"],Cj(s));const a=p(e,["source"]);a!=null&&Bse(a,n);const l=p(e,["config"]);return l!=null&&Ose(l,n),n}function Use(t,e){const n={},r=p(e,["model"]);r!=null&&y(n,["_url","model"],fn(t,r));const i=p(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=p(e,["image"]);o!=null&&y(n,["instances[0]","image"],la(o));const s=p(e,["video"]);s!=null&&y(n,["instances[0]","video"],Nj(s));const a=p(e,["source"]);a!=null&&Vse(a,n);const l=p(e,["config"]);return l!=null&&Mse(l,n),n}function jse(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Hse(s))),y(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function $se(t){const e={},n=p(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Gse(s))),y(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function Bse(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&y(e,["instances[0]","image"],O_(i));const o=p(t,["video"]);return e!==void 0&&o!=null&&y(e,["instances[0]","video"],Cj(o)),n}function Vse(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&y(e,["instances[0]","image"],la(i));const o=p(t,["video"]);return e!==void 0&&o!=null&&y(e,["instances[0]","video"],Nj(o)),n}function qse(t){const e={},n=p(t,["_self"]);n!=null&&y(e,["image"],eae(n));const r=p(t,["raiFilteredReason"]);r!=null&&y(e,["raiFilteredReason"],r);const i=p(t,["_self"]);return i!=null&&y(e,["safetyAttributes"],Tj(i)),e}function R_(t){const e={},n=p(t,["_self"]);n!=null&&y(e,["image"],Aj(n));const r=p(t,["raiFilteredReason"]);r!=null&&y(e,["raiFilteredReason"],r);const i=p(t,["_self"]);i!=null&&y(e,["safetyAttributes"],Ij(i));const o=p(t,["prompt"]);return o!=null&&y(e,["enhancedPrompt"],o),e}function zse(t){const e={},n=p(t,["_self"]);n!=null&&y(e,["mask"],Aj(n));const r=p(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),y(e,["labels"],i)}return e}function Hse(t){const e={},n=p(t,["video"]);return n!=null&&y(e,["video"],Rae(n)),e}function Gse(t){const e={},n=p(t,["_self"]);return n!=null&&y(e,["video"],Oae(n)),e}function Wse(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&y(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&y(e,["responseJsonSchema"],r);const i=p(t,["audioTimestamp"]);i!=null&&y(e,["audioTimestamp"],i);const o=p(t,["candidateCount"]);o!=null&&y(e,["candidateCount"],o);const s=p(t,["enableAffectiveDialog"]);s!=null&&y(e,["enableAffectiveDialog"],s);const a=p(t,["frequencyPenalty"]);a!=null&&y(e,["frequencyPenalty"],a);const l=p(t,["logprobs"]);l!=null&&y(e,["logprobs"],l);const u=p(t,["maxOutputTokens"]);u!=null&&y(e,["maxOutputTokens"],u);const c=p(t,["mediaResolution"]);c!=null&&y(e,["mediaResolution"],c);const f=p(t,["presencePenalty"]);f!=null&&y(e,["presencePenalty"],f);const d=p(t,["responseLogprobs"]);d!=null&&y(e,["responseLogprobs"],d);const h=p(t,["responseMimeType"]);h!=null&&y(e,["responseMimeType"],h);const v=p(t,["responseModalities"]);v!=null&&y(e,["responseModalities"],v);const _=p(t,["responseSchema"]);_!=null&&y(e,["responseSchema"],_);const w=p(t,["routingConfig"]);w!=null&&y(e,["routingConfig"],w);const b=p(t,["seed"]);b!=null&&y(e,["seed"],b);const E=p(t,["speechConfig"]);E!=null&&y(e,["speechConfig"],E);const A=p(t,["stopSequences"]);A!=null&&y(e,["stopSequences"],A);const C=p(t,["temperature"]);C!=null&&y(e,["temperature"],C);const R=p(t,["thinkingConfig"]);R!=null&&y(e,["thinkingConfig"],R);const F=p(t,["topK"]);F!=null&&y(e,["topK"],F);const k=p(t,["topP"]);if(k!=null&&y(e,["topP"],k),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Kse(t,e){const n={},r=p(e,["model"]);return r!=null&&y(n,["_url","name"],fn(t,r)),n}function Yse(t,e){const n={},r=p(e,["model"]);return r!=null&&y(n,["_url","name"],fn(t,r)),n}function Jse(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function Xse(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function Qse(t){const e={},n=p(t,["aspectRatio"]);n!=null&&y(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&y(e,["imageSize"],r),p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Zse(t){const e={},n=p(t,["aspectRatio"]);n!=null&&y(e,["aspectRatio"],n);const r=p(t,["imageSize"]);r!=null&&y(e,["imageSize"],r);const i=p(t,["outputMimeType"]);i!=null&&y(e,["imageOutputOptions","mimeType"],i);const o=p(t,["outputCompressionQuality"]);return o!=null&&y(e,["imageOutputOptions","compressionQuality"],o),e}function eae(t){const e={},n=p(t,["bytesBase64Encoded"]);n!=null&&y(e,["imageBytes"],_c(n));const r=p(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Aj(t){const e={},n=p(t,["gcsUri"]);n!=null&&y(e,["gcsUri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&y(e,["imageBytes"],_c(r));const i=p(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function O_(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=p(t,["imageBytes"]);n!=null&&y(e,["bytesBase64Encoded"],_c(n));const r=p(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function la(t){const e={},n=p(t,["gcsUri"]);n!=null&&y(e,["gcsUri"],n);const r=p(t,["imageBytes"]);r!=null&&y(e,["bytesBase64Encoded"],_c(r));const i=p(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function tae(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&y(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&y(n,["_query","pageToken"],o);const s=p(e,["filter"]);n!==void 0&&s!=null&&y(n,["_query","filter"],s);const a=p(e,["queryBase"]);return n!==void 0&&a!=null&&y(n,["_url","models_url"],vj(t,a)),r}function nae(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&y(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&y(n,["_query","pageToken"],o);const s=p(e,["filter"]);n!==void 0&&s!=null&&y(n,["_query","filter"],s);const a=p(e,["queryBase"]);return n!==void 0&&a!=null&&y(n,["_url","models_url"],vj(t,a)),r}function rae(t,e){const n={},r=p(e,["config"]);return r!=null&&tae(t,r,n),n}function iae(t,e){const n={},r=p(e,["config"]);return r!=null&&nae(t,r,n),n}function oae(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let o=wj(i);Array.isArray(o)&&(o=o.map(s=>yE(s))),y(e,["models"],o)}return e}function sae(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let o=wj(i);Array.isArray(o)&&(o=o.map(s=>vE(s))),y(e,["models"],o)}return e}function aae(t){const e={},n=p(t,["maskMode"]);n!=null&&y(e,["maskMode"],n);const r=p(t,["segmentationClasses"]);r!=null&&y(e,["maskClasses"],r);const i=p(t,["maskDilation"]);return i!=null&&y(e,["dilation"],i),e}function yE(t){const e={},n=p(t,["name"]);n!=null&&y(e,["name"],n);const r=p(t,["displayName"]);r!=null&&y(e,["displayName"],r);const i=p(t,["description"]);i!=null&&y(e,["description"],i);const o=p(t,["version"]);o!=null&&y(e,["version"],o);const s=p(t,["_self"]);s!=null&&y(e,["tunedModelInfo"],Sae(s));const a=p(t,["inputTokenLimit"]);a!=null&&y(e,["inputTokenLimit"],a);const l=p(t,["outputTokenLimit"]);l!=null&&y(e,["outputTokenLimit"],l);const u=p(t,["supportedGenerationMethods"]);u!=null&&y(e,["supportedActions"],u);const c=p(t,["temperature"]);c!=null&&y(e,["temperature"],c);const f=p(t,["maxTemperature"]);f!=null&&y(e,["maxTemperature"],f);const d=p(t,["topP"]);d!=null&&y(e,["topP"],d);const h=p(t,["topK"]);h!=null&&y(e,["topK"],h);const v=p(t,["thinking"]);return v!=null&&y(e,["thinking"],v),e}function vE(t){const e={},n=p(t,["name"]);n!=null&&y(e,["name"],n);const r=p(t,["displayName"]);r!=null&&y(e,["displayName"],r);const i=p(t,["description"]);i!=null&&y(e,["description"],i);const o=p(t,["versionId"]);o!=null&&y(e,["version"],o);const s=p(t,["deployedModels"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(d=>_se(d))),y(e,["endpoints"],f)}const a=p(t,["labels"]);a!=null&&y(e,["labels"],a);const l=p(t,["_self"]);l!=null&&y(e,["tunedModelInfo"],Eae(l));const u=p(t,["defaultCheckpointId"]);u!=null&&y(e,["defaultCheckpointId"],u);const c=p(t,["checkpoints"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(d=>d)),y(e,["checkpoints"],f)}return e}function lae(t){const e={},n=p(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&y(e,["fileData"],bse(o));const s=p(t,["functionCall"]);s!=null&&y(e,["functionCall"],xse(s));const a=p(t,["functionResponse"]);a!=null&&y(e,["functionResponse"],a);const l=p(t,["inlineData"]);l!=null&&y(e,["inlineData"],Woe(l));const u=p(t,["text"]);u!=null&&y(e,["text"],u);const c=p(t,["thought"]);c!=null&&y(e,["thought"],c);const f=p(t,["thoughtSignature"]);f!=null&&y(e,["thoughtSignature"],f);const d=p(t,["videoMetadata"]);return d!=null&&y(e,["videoMetadata"],d),e}function uae(t){const e={},n=p(t,["productImage"]);return n!=null&&y(e,["image"],la(n)),e}function cae(t,e){const n={},r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r);const i=p(t,["baseSteps"]);e!==void 0&&i!=null&&y(e,["parameters","baseSteps"],i);const o=p(t,["outputGcsUri"]);e!==void 0&&o!=null&&y(e,["parameters","storageUri"],o);const s=p(t,["seed"]);e!==void 0&&s!=null&&y(e,["parameters","seed"],s);const a=p(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&y(e,["parameters","safetySetting"],a);const l=p(t,["personGeneration"]);e!==void 0&&l!=null&&y(e,["parameters","personGeneration"],l);const u=p(t,["addWatermark"]);e!==void 0&&u!=null&&y(e,["parameters","addWatermark"],u);const c=p(t,["outputMimeType"]);e!==void 0&&c!=null&&y(e,["parameters","outputOptions","mimeType"],c);const f=p(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&y(e,["parameters","outputOptions","compressionQuality"],f);const d=p(t,["enhancePrompt"]);e!==void 0&&d!=null&&y(e,["parameters","enhancePrompt"],d);const h=p(t,["labels"]);return e!==void 0&&h!=null&&y(e,["labels"],h),n}function fae(t,e){const n={},r=p(e,["model"]);r!=null&&y(n,["_url","model"],fn(t,r));const i=p(e,["source"]);i!=null&&hae(i,n);const o=p(e,["config"]);return o!=null&&cae(o,n),n}function dae(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>R_(i))),y(e,["generatedImages"],r)}return e}function hae(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=p(t,["personImage"]);e!==void 0&&i!=null&&y(e,["instances[0]","personImage","image"],la(i));const o=p(t,["productImages"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>uae(a))),y(e,["instances[0]","productImages"],s)}return n}function pae(t){const e={},n=p(t,["referenceImage"]);n!=null&&y(e,["referenceImage"],la(n));const r=p(t,["referenceId"]);r!=null&&y(e,["referenceId"],r);const i=p(t,["referenceType"]);i!=null&&y(e,["referenceType"],i);const o=p(t,["maskImageConfig"]);o!=null&&y(e,["maskImageConfig"],aae(o));const s=p(t,["controlImageConfig"]);s!=null&&y(e,["controlImageConfig"],ese(s));const a=p(t,["styleImageConfig"]);a!=null&&y(e,["styleImageConfig"],a);const l=p(t,["subjectImageConfig"]);return l!=null&&y(e,["subjectImageConfig"],l),e}function Tj(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&y(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&y(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&y(e,["contentType"],i),e}function Ij(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&y(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&y(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&y(e,["contentType"],i),e}function mae(t){const e={},n=p(t,["category"]);if(n!=null&&y(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&y(e,["threshold"],r),e}function gae(t){const e={},n=p(t,["image"]);return n!=null&&y(e,["image"],la(n)),e}function yae(t,e){const n={},r=p(t,["mode"]);e!==void 0&&r!=null&&y(e,["parameters","mode"],r);const i=p(t,["maxPredictions"]);e!==void 0&&i!=null&&y(e,["parameters","maxPredictions"],i);const o=p(t,["confidenceThreshold"]);e!==void 0&&o!=null&&y(e,["parameters","confidenceThreshold"],o);const s=p(t,["maskDilation"]);e!==void 0&&s!=null&&y(e,["parameters","maskDilation"],s);const a=p(t,["binaryColorThreshold"]);e!==void 0&&a!=null&&y(e,["parameters","binaryColorThreshold"],a);const l=p(t,["labels"]);return e!==void 0&&l!=null&&y(e,["labels"],l),n}function vae(t,e){const n={},r=p(e,["model"]);r!=null&&y(n,["_url","model"],fn(t,r));const i=p(e,["source"]);i!=null&&_ae(i,n);const o=p(e,["config"]);return o!=null&&yae(o,n),n}function wae(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>zse(i))),y(e,["generatedMasks"],r)}return e}function _ae(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&y(e,["instances[0]","image"],la(i));const o=p(t,["scribbleImage"]);return e!==void 0&&o!=null&&y(e,["instances[0]","scribble"],gae(o)),n}function bae(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&y(e,["functionCallingConfig"],Sse(n));const r=p(t,["retrievalConfig"]);return r!=null&&y(e,["retrievalConfig"],r),e}function xae(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>f)),y(e,["functionDeclarations"],c)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&y(e,["fileSearch"],o);const s=p(t,["codeExecution"]);if(s!=null&&y(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=p(t,["googleMaps"]);a!=null&&y(e,["googleMaps"],Jse(a));const l=p(t,["googleSearch"]);l!=null&&y(e,["googleSearch"],Xse(l));const u=p(t,["urlContext"]);return u!=null&&y(e,["urlContext"],u),e}function Pj(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(d=>Ese(d))),y(e,["functionDeclarations"],f)}const r=p(t,["retrieval"]);r!=null&&y(e,["retrieval"],r);const i=p(t,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);if(o!=null&&y(e,["computerUse"],o),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=p(t,["codeExecution"]);s!=null&&y(e,["codeExecution"],s);const a=p(t,["enterpriseWebSearch"]);a!=null&&y(e,["enterpriseWebSearch"],a);const l=p(t,["googleMaps"]);l!=null&&y(e,["googleMaps"],l);const u=p(t,["googleSearch"]);u!=null&&y(e,["googleSearch"],u);const c=p(t,["urlContext"]);return c!=null&&y(e,["urlContext"],c),e}function Sae(t){const e={},n=p(t,["baseModel"]);n!=null&&y(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&y(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&y(e,["updateTime"],i),e}function Eae(t){const e={},n=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&y(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&y(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&y(e,["updateTime"],i),e}function Aae(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&y(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&y(e,["defaultCheckpointId"],o),n}function Tae(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&y(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&y(e,["defaultCheckpointId"],o),n}function Iae(t,e){const n={},r=p(e,["model"]);r!=null&&y(n,["_url","name"],fn(t,r));const i=p(e,["config"]);return i!=null&&Aae(i,n),n}function Pae(t,e){const n={},r=p(e,["model"]);r!=null&&y(n,["_url","model"],fn(t,r));const i=p(e,["config"]);return i!=null&&Tae(i,n),n}function Cae(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const i=p(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&y(e,["parameters","safetySetting"],i);const o=p(t,["personGeneration"]);e!==void 0&&o!=null&&y(e,["parameters","personGeneration"],o);const s=p(t,["includeRaiReason"]);e!==void 0&&s!=null&&y(e,["parameters","includeRaiReason"],s);const a=p(t,["outputMimeType"]);e!==void 0&&a!=null&&y(e,["parameters","outputOptions","mimeType"],a);const l=p(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&y(e,["parameters","outputOptions","compressionQuality"],l);const u=p(t,["enhanceInputImage"]);e!==void 0&&u!=null&&y(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=p(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&y(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const f=p(t,["labels"]);e!==void 0&&f!=null&&y(e,["labels"],f);const d=p(t,["numberOfImages"]);e!==void 0&&d!=null&&y(e,["parameters","sampleCount"],d);const h=p(t,["mode"]);return e!==void 0&&h!=null&&y(e,["parameters","mode"],h),n}function Nae(t,e){const n={},r=p(e,["model"]);r!=null&&y(n,["_url","model"],fn(t,r));const i=p(e,["image"]);i!=null&&y(n,["instances[0]","image"],la(i));const o=p(e,["upscaleFactor"]);o!=null&&y(n,["parameters","upscaleConfig","upscaleFactor"],o);const s=p(e,["config"]);return s!=null&&Cae(s,n),n}function kae(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>R_(o))),y(e,["generatedImages"],i)}return e}function Rae(t){const e={},n=p(t,["uri"]);n!=null&&y(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&y(e,["videoBytes"],_c(r));const i=p(t,["encoding"]);return i!=null&&y(e,["mimeType"],i),e}function Oae(t){const e={},n=p(t,["gcsUri"]);n!=null&&y(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&y(e,["videoBytes"],_c(r));const i=p(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function Mae(t){const e={},n=p(t,["image"]);n!=null&&y(e,["_self"],la(n));const r=p(t,["maskMode"]);return r!=null&&y(e,["maskMode"],r),e}function Lae(t){const e={},n=p(t,["image"]);n!=null&&y(e,["image"],O_(n));const r=p(t,["referenceType"]);return r!=null&&y(e,["referenceType"],r),e}function Dae(t){const e={},n=p(t,["image"]);n!=null&&y(e,["image"],la(n));const r=p(t,["referenceType"]);return r!=null&&y(e,["referenceType"],r),e}function Cj(t){const e={},n=p(t,["uri"]);n!=null&&y(e,["uri"],n);const r=p(t,["videoBytes"]);r!=null&&y(e,["encodedVideo"],_c(r));const i=p(t,["mimeType"]);return i!=null&&y(e,["encoding"],i),e}function Nj(t){const e={},n=p(t,["uri"]);n!=null&&y(e,["gcsUri"],n);const r=p(t,["videoBytes"]);r!=null&&y(e,["bytesBase64Encoded"],_c(r));const i=p(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fae(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&y(e,["displayName"],r),n}function Uae(t){const e={},n=p(t,["config"]);return n!=null&&Fae(n,e),e}function jae(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&y(e,["_query","force"],r),n}function $ae(t){const e={},n=p(t,["name"]);n!=null&&y(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&jae(r,e),e}function Bae(t){const e={},n=p(t,["name"]);return n!=null&&y(e,["_url","name"],n),e}function Vae(t,e){const n={},r=p(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),y(e,["customMetadata"],o)}const i=p(t,["chunkingConfig"]);return e!==void 0&&i!=null&&y(e,["chunkingConfig"],i),n}function qae(t){const e={},n=p(t,["name"]);n!=null&&y(e,["name"],n);const r=p(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=p(t,["done"]);i!=null&&y(e,["done"],i);const o=p(t,["error"]);o!=null&&y(e,["error"],o);const s=p(t,["response"]);return s!=null&&y(e,["response"],Hae(s)),e}function zae(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&y(e,["_url","file_search_store_name"],n);const r=p(t,["fileName"]);r!=null&&y(e,["fileName"],r);const i=p(t,["config"]);return i!=null&&Vae(i,e),e}function Hae(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&y(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&y(e,["documentName"],i),e}function Gae(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function Wae(t){const e={},n=p(t,["config"]);return n!=null&&Gae(n,e),e}function Kae(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=p(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),y(e,["fileSearchStores"],o)}return e}function kj(t,e){const n={},r=p(t,["mimeType"]);e!==void 0&&r!=null&&y(e,["mimeType"],r);const i=p(t,["displayName"]);e!==void 0&&i!=null&&y(e,["displayName"],i);const o=p(t,["customMetadata"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),y(e,["customMetadata"],a)}const s=p(t,["chunkingConfig"]);return e!==void 0&&s!=null&&y(e,["chunkingConfig"],s),n}function Yae(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&y(e,["_url","file_search_store_name"],n);const r=p(t,["config"]);return r!=null&&kj(r,e),e}function Jae(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xae="Content-Type",Qae="X-Server-Timeout",Zae="User-Agent",wE="x-goog-api-client",ele="1.34.0",tle=`google-genai-sdk/${ele}`,nle="v1beta1",rle="v1beta";class ile{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:nle,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:rle,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,a]of Object.entries(e.queryParams))i.searchParams.append(s,String(a));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,s=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>o.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=s}return n&&n.extraBody!==null&&ole(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await T4(i),new pE(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await T4(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return Zs(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const a="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:c}=yield kt(i.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(c,{stream:!0});try{const v=JSON.parse(f);if("error"in v){const _=JSON.parse(JSON.stringify(v.error)),w=_.status,b=_.code,E=`got status: ${w}. ${JSON.stringify(v)}`;if(b>=400&&b<600)throw new N_({message:E,status:b})}}catch(v){if(v.name==="ApiError")throw v}s+=f;let d=-1,h=0;for(;;){d=-1,h=0;for(const w of l){const b=s.indexOf(w);b!==-1&&(d===-1||b<d)&&(d=b,h=w.length)}if(d===-1)break;const v=s.substring(0,d);s=s.substring(d+h);const _=v.trim();if(_.startsWith(a)){const w=_.substring(a.length).trim();try{const b=new Response(w,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield kt(new pE(b))}catch(b){throw new Error(`exception parsing stream chunk ${w}. ${b}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=tle+" "+this.clientOptions.userAgentExtra;return e[Zae]=n,e[wE]=n,e[Xae]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(Qae,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);i.sizeBytes=String(s.size);const a=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=a;const l={file:i},u=this.getFileName(e),c=Ke("upload/v1beta/files",l._url),f=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(e,f,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,s=await o.stat(n),a=String(s.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(n),f={};r!=null&&kj(r,f);const d=await this.fetchUploadUrl(u,a,l,c,f,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,d,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,s){var a;let l={};s?l=s:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(a=u==null?void 0:u.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function T4(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new N_({message:i,status:n}):new Error(i)}}function ole(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,s){const a=Object.assign({},o);for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const u=s[l],c=a[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?a[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),a[l]=u)}return a}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sle="mcp_used/unknown";let ale=!1;function Rj(t){for(const e of t)if(lle(e)||typeof e=="object"&&"inputSchema"in e)return!0;return ale}function Oj(t){var e;const n=(e=t[wE])!==null&&e!==void 0?e:"";t[wE]=(n+` ${sle}`).trimStart()}function lle(t){return t!==null&&typeof t=="object"&&t instanceof dI}function ule(t){return Zs(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const s=yield kt(n.listTools({cursor:i}));for(const a of s.tools)yield yield kt(a),o++;if(!s.nextCursor)break;i=s.nextCursor}})}class dI{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new dI(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},s=[];for(const c of this.mcpClients)try{for(var a=!0,l=(n=void 0,ea(ule(c))),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;const f=i;s.push(f);const d=f.name;if(o[d])throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);o[d]=c}}catch(f){n={error:f}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),Bre(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function cle(t,e,n){const r=new Ore;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class fle{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=ple(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${a}`;let u=()=>{};const c=new Promise(A=>{u=A}),f=e.callbacks,d=function(){u({})},h=this.apiClient,v={onopen:d,onmessage:A=>{cle(h,f.onmessage,A)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(A){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(A){}},_=this.webSocketFactory.create(l,hle(s),v);_.connect(),await c;const E={setup:{model:fn(this.apiClient,e.model)}};return _.send(JSON.stringify(E)),new dle(_,this.apiClient)}}class dle{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Uoe(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Foe(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(qd.PLAY)}pause(){this.sendPlaybackControl(qd.PAUSE)}stop(){this.sendPlaybackControl(qd.STOP)}resetContext(){this.sendPlaybackControl(qd.RESET_CONTEXT)}close(){this.conn.close()}}function hle(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function ple(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mle="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function gle(t,e,n){const r=new Rre;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const s=Boe(o);Object.assign(r,s)}else Object.assign(r,o);e(r)}class yle{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new fle(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,s,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&Rj(e.config.tools)&&Oj(f);const d=ble(f);if(this.apiClient.isVertexAI())c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(d,c);else{const T=this.apiClient.getApiKey();let j="BidiGenerateContent",P="key";T!=null&&T.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),j="BidiGenerateContentConstrained",P="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${j}?${P}=${T}`}let h=()=>{};const v=new Promise(T=>{h=T}),_=e.callbacks,w=function(){var T;(T=_==null?void 0:_.onopen)===null||T===void 0||T.call(_),h({})},b=this.apiClient,E={onopen:w,onmessage:T=>{gle(b,_.onmessage,T)},onerror:(n=_==null?void 0:_.onerror)!==null&&n!==void 0?n:function(T){},onclose:(r=_==null?void 0:_.onclose)!==null&&r!==void 0?r:function(T){}},A=this.webSocketFactory.create(c,_le(d),E);A.connect(),await v;let C=fn(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const T=this.apiClient.getProject(),j=this.apiClient.getLocation();C=`projects/${T}/locations/${j}/`+C}let R={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[N1.AUDIO]}:e.config.responseModalities=[N1.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const F=(a=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[],k=[];for(const T of F)if(this.isCallableTool(T)){const j=T;k.push(await j.tool())}else k.push(T);k.length>0&&(e.config.tools=k);const N={model:C,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?R=Doe(this.apiClient,N):R=Loe(this.apiClient,N),delete R.config,A.send(JSON.stringify(R)),new wle(A,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const vle={turnComplete:!0};class wle{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=As(n.turns),e.isVertexAI()||(r=r.map(i=>k_(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(mle)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},vle),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:$oe(e)}:n={realtimeInput:joe(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function _le(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function ble(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const I4=10;function P4(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(lh(s)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function lh(t){return"callTool"in t&&typeof t.callTool=="function"}function xle(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>lh(i)))!==null&&r!==void 0?r:!1}function C4(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(lh(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function N4(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sle extends Zl{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,s,a;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!xle(n)||P4(n.config))return await this.generateContentInternal(l);const u=C4(n);if(u.length>0){const _=u.map(w=>`tools[${w}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${_}.`)}let c,f;const d=As(l.contents),h=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:I4;let v=0;for(;v<h&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const _=c.candidates[0].content,w=[];for(const b of(a=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[])if(lh(b)){const A=await b.callTool(c.functionCalls);w.push(...A)}v++,f={role:"user",parts:w},l.contents=As(l.contents),l.contents.push(_),l.contents.push(f),N4(l.config)&&(d.push(_),d.push(f))}return N4(l.config)&&(c.automaticFunctionCallingHistory=d),c},this.generateContentStream=async n=>{var r,i,o,s,a;if(this.maybeMoveToResponseJsonSchem(n),P4(n.config)){const f=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(f)}const l=C4(n);if(l.length>0){const f=l.map(d=>`tools[${d}]`).join(", ");throw new Error(`Incompatible tools found at ${f}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,c=(a=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:s.push(l);let a;return o?a={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:a={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},a}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Kf(Gl.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,s,a,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(o=n.source)===null||o===void 0?void 0:o.video)===null||s===void 0)&&s.uri&&(!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async l=>lh(l)?await l.tool():l)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(a.config.tools=s,e.config&&e.config.tools&&Rj(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),Oj(u),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return a}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(lh(s)){const a=s,l=await a.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,a)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:I4;let s=!1,a=0;const l=await this.initAfcToolsMap(e);return function(u,c,f){return Zs(this,arguments,function*(){for(var d,h,v,_,w,b;a<o;){s&&(a++,s=!1);const R=yield kt(u.processParamsMaybeAddMcpUsage(f)),F=yield kt(u.generateContentStreamInternal(R)),k=[],N=[];try{for(var E=!0,A=(h=void 0,ea(F)),C;C=yield kt(A.next()),d=C.done,!d;E=!0){_=C.value,E=!1;const T=_;if(yield yield kt(T),T.candidates&&(!((w=T.candidates[0])===null||w===void 0)&&w.content)){N.push(T.candidates[0].content);for(const j of(b=T.candidates[0].content.parts)!==null&&b!==void 0?b:[])if(a<o&&j.functionCall){if(!j.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(j.functionCall.name)){const P=yield kt(c.get(j.functionCall.name).callTool([j.functionCall]));k.push(...P)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${j.functionCall.name}`)}}}}catch(T){h={error:T}}finally{try{!E&&!d&&(v=A.return)&&(yield kt(v.call(A)))}finally{if(h)throw h.error}}if(k.length>0){s=!0;const T=new am;T.candidates=[{content:{role:"user",parts:k}}],yield yield kt(T);const j=[];j.push(...N),j.push({role:"user",parts:k});const P=As(f.contents).concat(j);f.contents=P}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=S4(this.apiClient,e);return a=Ke("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=A4(c),d=new am;return Object.assign(d,f),d})}else{const u=x4(this.apiClient,e);return a=Ke("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=E4(c),d=new am;return Object.assign(d,f),d})}}async generateContentStreamInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=S4(this.apiClient,e);return a=Ke("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(f){return Zs(this,arguments,function*(){var d,h,v,_;try{for(var w=!0,b=ea(f),E;E=yield kt(b.next()),d=E.done,!d;w=!0){_=E.value,w=!1;const A=_,C=A4(yield kt(A.json()));C.sdkHttpResponse={headers:A.headers};const R=new am;Object.assign(R,C),yield yield kt(R)}}catch(A){h={error:A}}finally{try{!w&&!d&&(v=b.return)&&(yield kt(v.call(b)))}finally{if(h)throw h.error}}})})}else{const u=x4(this.apiClient,e);return a=Ke("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(f){return Zs(this,arguments,function*(){var d,h,v,_;try{for(var w=!0,b=ea(f),E;E=yield kt(b.next()),d=E.done,!d;w=!0){_=E.value,w=!1;const A=_,C=E4(yield kt(A.json()));C.sdkHttpResponse={headers:A.headers};const R=new am;Object.assign(R,C),yield yield kt(R)}}catch(A){h={error:A}}finally{try{!w&&!d&&(v=b.return)&&(yield kt(v.call(b)))}finally{if(h)throw h.error}}})})}}async embedContent(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=yse(this.apiClient,e);return a=Ke("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=wse(c),d=new o4;return Object.assign(d,f),d})}else{const u=gse(this.apiClient,e);return a=Ke("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=vse(c),d=new o4;return Object.assign(d,f),d})}}async generateImagesInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Nse(this.apiClient,e);return a=Ke("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=Rse(c),d=new s4;return Object.assign(d,f),d})}else{const u=Cse(this.apiClient,e);return a=Ke("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=kse(c),d=new s4;return Object.assign(d,f),d})}}async editImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=dse(this.apiClient,e);return o=Ke("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=hse(l),c=new bre;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=Nae(this.apiClient,e);return o=Ke("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=kae(l),c=new xre;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=fae(this.apiClient,e);return o=Ke("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=dae(l),c=new Sre;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=vae(this.apiClient,e);return o=Ke("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=wae(l),c=new Ere;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Yse(this.apiClient,e);return a=Ke("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>vE(c))}else{const u=Kse(this.apiClient,e);return a=Ke("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>yE(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=iae(this.apiClient,e);return a=Ke("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=sae(c),d=new a4;return Object.assign(d,f),d})}else{const u=rae(this.apiClient,e);return a=Ke("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=oae(c),d=new a4;return Object.assign(d,f),d})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Pae(this.apiClient,e);return a=Ke("{model}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>vE(c))}else{const u=Iae(this.apiClient,e);return a=Ke("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>yE(c))}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=lse(this.apiClient,e);return a=Ke("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=cse(c),d=new l4;return Object.assign(d,f),d})}else{const u=ase(this.apiClient,e);return a=Ke("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=use(c),d=new l4;return Object.assign(d,f),d})}}async countTokens(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=ise(this.apiClient,e);return a=Ke("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=sse(c),d=new u4;return Object.assign(d,f),d})}else{const u=rse(this.apiClient,e);return a=Ke("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=ose(c),d=new u4;return Object.assign(d,f),d})}}async computeTokens(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=Joe(this.apiClient,e);return o=Ke("{model}:computeTokens",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Xoe(l),c=new Are;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Use(this.apiClient,e);return a=Ke("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const f=Dse(c),d=new k1;return Object.assign(d,f),d})}else{const u=Fse(this.apiClient,e);return a=Ke("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const f=Lse(c),d=new k1;return Object.assign(d,f),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ele extends Zl{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=mre(e);return a=Ke("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s}else{const u=pre(e);return a=Ke("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=are(e);return o=Ke("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ale(t){const e={},n=p(t,["data"]);if(n!=null&&y(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Tle(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Lle(o))),y(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&y(e,["role"],r),e}function Ile(t,e,n){const r={},i=p(e,["expireTime"]);n!==void 0&&i!=null&&y(n,["expireTime"],i);const o=p(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&y(n,["newSessionExpireTime"],o);const s=p(e,["uses"]);n!==void 0&&s!=null&&y(n,["uses"],s);const a=p(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&y(n,["bidiGenerateContentSetup"],Mle(t,a));const l=p(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&y(n,["fieldMask"],l),r}function Ple(t,e){const n={},r=p(e,["config"]);return r!=null&&y(n,["config"],Ile(t,r,n)),n}function Cle(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Nle(t){const e={},n=p(t,["id"]);n!=null&&y(e,["id"],n);const r=p(t,["args"]);r!=null&&y(e,["args"],r);const i=p(t,["name"]);if(i!=null&&y(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function kle(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function Rle(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function Ole(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&y(e,["setup","generationConfig","temperature"],o);const s=p(t,["topP"]);e!==void 0&&s!=null&&y(e,["setup","generationConfig","topP"],s);const a=p(t,["topK"]);e!==void 0&&a!=null&&y(e,["setup","generationConfig","topK"],a);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&y(e,["setup","generationConfig","maxOutputTokens"],l);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&y(e,["setup","generationConfig","mediaResolution"],u);const c=p(t,["seed"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","seed"],c);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","speechConfig"],fI(f));const d=p(t,["thinkingConfig"]);e!==void 0&&d!=null&&y(e,["setup","generationConfig","thinkingConfig"],d);const h=p(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],h);const v=p(t,["systemInstruction"]);e!==void 0&&v!=null&&y(e,["setup","systemInstruction"],Tle(Gi(v)));const _=p(t,["tools"]);if(e!==void 0&&_!=null){let F=fp(_);Array.isArray(F)&&(F=F.map(k=>Fle(cp(k)))),y(e,["setup","tools"],F)}const w=p(t,["sessionResumption"]);e!==void 0&&w!=null&&y(e,["setup","sessionResumption"],Dle(w));const b=p(t,["inputAudioTranscription"]);e!==void 0&&b!=null&&y(e,["setup","inputAudioTranscription"],b);const E=p(t,["outputAudioTranscription"]);e!==void 0&&E!=null&&y(e,["setup","outputAudioTranscription"],E);const A=p(t,["realtimeInputConfig"]);e!==void 0&&A!=null&&y(e,["setup","realtimeInputConfig"],A);const C=p(t,["contextWindowCompression"]);e!==void 0&&C!=null&&y(e,["setup","contextWindowCompression"],C);const R=p(t,["proactivity"]);if(e!==void 0&&R!=null&&y(e,["setup","proactivity"],R),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Mle(t,e){const n={},r=p(e,["model"]);r!=null&&y(n,["setup","model"],fn(t,r));const i=p(e,["config"]);return i!=null&&y(n,["config"],Ole(i,n)),n}function Lle(t){const e={},n=p(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&y(e,["fileData"],Cle(o));const s=p(t,["functionCall"]);s!=null&&y(e,["functionCall"],Nle(s));const a=p(t,["functionResponse"]);a!=null&&y(e,["functionResponse"],a);const l=p(t,["inlineData"]);l!=null&&y(e,["inlineData"],Ale(l));const u=p(t,["text"]);u!=null&&y(e,["text"],u);const c=p(t,["thought"]);c!=null&&y(e,["thought"],c);const f=p(t,["thoughtSignature"]);f!=null&&y(e,["thoughtSignature"],f);const d=p(t,["videoMetadata"]);return d!=null&&y(e,["videoMetadata"],d),e}function Dle(t){const e={},n=p(t,["handle"]);if(n!=null&&y(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Fle(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>f)),y(e,["functionDeclarations"],c)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&y(e,["fileSearch"],o);const s=p(t,["codeExecution"]);if(s!=null&&y(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=p(t,["googleMaps"]);a!=null&&y(e,["googleMaps"],kle(a));const l=p(t,["googleSearch"]);l!=null&&y(e,["googleSearch"],Rle(l));const u=p(t,["urlContext"]);return u!=null&&y(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ule(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function jle(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=Ule(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];i.length>0&&(a=i.map(u=>s.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),a.length>0&&l.push(...a),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class $le extends Zl{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=Ple(this.apiClient,e);o=Ke("auth_tokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query;const l=jle(a,e.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ble(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&y(e,["_query","force"],r),n}function Vle(t){const e={},n=p(t,["name"]);n!=null&&y(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&Ble(r,e),e}function qle(t){const e={},n=p(t,["name"]);return n!=null&&y(e,["_url","name"],n),e}function zle(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function Hle(t){const e={},n=p(t,["parent"]);n!=null&&y(e,["_url","parent"],n);const r=p(t,["config"]);return r!=null&&zle(r,e),e}function Gle(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=p(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),y(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wle extends Zl{constructor(e){super(),this.apiClient=e,this.list=async n=>new Kf(Gl.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=qle(e);return o=Ke("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Vle(e);i=Ke("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Hle(e);return o=Ke("{parent}/documents",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Gle(l),c=new Tre;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kle extends Zl{constructor(e,n=new Wle(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Kf(Gl.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Uae(e);return o=Ke("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Bae(e);return o=Ke("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=$ae(e);i=Ke("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Wae(e);return o=Ke("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Kae(l),c=new Ire;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Yae(e);return o=Ke("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Jae(l),c=new Pre;return Object.assign(c,u),c})}}async importFile(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=zae(e);return o=Ke("{file_search_store_name}:importFile",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=qae(l),c=new sI;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Mj=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return Mj=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const Yle=()=>Mj();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _E(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const bE=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cs extends Error{}class lo extends Cs{constructor(e,n,r,i){super(`${lo.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new M_({message:r,cause:bE(n)});const o=n;return e===400?new Dj(e,o,r,i):e===401?new Fj(e,o,r,i):e===403?new Uj(e,o,r,i):e===404?new jj(e,o,r,i):e===409?new $j(e,o,r,i):e===422?new Bj(e,o,r,i):e===429?new Vj(e,o,r,i):e>=500?new qj(e,o,r,i):new lo(e,o,r,i)}}class xE extends lo{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class M_ extends lo{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class Lj extends M_{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Dj extends lo{}class Fj extends lo{}class Uj extends lo{}class jj extends lo{}class $j extends lo{}class Bj extends lo{}class Vj extends lo{}class qj extends lo{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jle=/^[a-z][a-z0-9+.-]*:/i,Xle=t=>Jle.test(t);let SE=t=>(SE=Array.isArray,SE(t));const Qle=SE;let Zle=Qle;const k4=Zle;function eue(t){if(!t)return!0;for(const e in t)return!1;return!0}function tue(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const nue=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Cs(`${t} must be an integer`);if(e<0)throw new Cs(`${t} must be a positive integer`);return e},rue=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iue=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Id="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oue(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const sue=()=>{var t,e,n,r,i;const o=oue();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Id,"X-Stainless-OS":O4(Deno.build.os),"X-Stainless-Arch":R4(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Id,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Id,"X-Stainless-OS":O4((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":R4((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=aue();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Id,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Id,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function aue(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${o}.${s}`}}}return null}const R4=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",O4=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Fv;const lue=()=>Fv??(Fv=sue());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uue(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function zj(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function cue(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return zj({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function Hj(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function fue(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const due=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gj=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Mb(t,e,n){return Gj(),new File(t,e??"unknown_file",n)}function hue(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const pue=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wj=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",mue=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Wj(t),gue=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function yue(t,e,n){if(Gj(),t=await t,mue(t))return t instanceof File?t:Mb([await t.arrayBuffer()],t.name);if(gue(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Mb(await EE(i),e,n)}const r=await EE(t);if(e||(e=hue(t)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return Mb(r,e,n)}async function EE(t){var e,n,r,i,o;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(Wj(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(pue(t))try{for(var a=!0,l=ea(t),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;const c=i;s.push(...await EE(c))}}catch(c){n={error:c}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{const c=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${c?`; constructor: ${c}`:""}${vue(t)}`)}return s}function vue(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kj{constructor(e){this._client=e}}Kj._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yj(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const M4=Object.freeze(Object.create(null)),wue=(t=Yj)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],s=n.reduce((c,f,d)=>{var h,v,_;/[?#]/.test(f)&&(i=!0);const w=r[d];let b=(i?encodeURIComponent:t)(""+w);return d!==r.length&&(w==null||typeof w=="object"&&w.toString===((_=Object.getPrototypeOf((v=Object.getPrototypeOf((h=w.hasOwnProperty)!==null&&h!==void 0?h:M4))!==null&&v!==void 0?v:M4))===null||_===void 0?void 0:_.toString))&&(b=w+"",o.push({start:c.length+f.length,length:b.length,error:`Value of type ${Object.prototype.toString.call(w).slice(8,-1)} is not a valid path parameter`})),c+f+(d===r.length?"":b)},""),a=s.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(a))!==null;)o.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(o.sort((c,f)=>c.start-f.start),o.length>0){let c=0;const f=o.reduce((d,h)=>{const v=" ".repeat(h.start-c),_="^".repeat(h.length);return c=h.start+h.length,d+v+_},"");throw new Cs(`Path parameters result in path with invalid segments:
${o.map(d=>d.error).join(`
`)}
${s}
${f}`)}return s},Uv=wue(Yj);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jj extends Kj{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,o=O1(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new Cs("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new Cs("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Uv`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(Uv`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(Uv`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const o=n??{},{api_version:s=this._client.apiVersion}=o,a=O1(o,["api_version"]);return this._client.get(Uv`/${s}/interactions/${e}`,Object.assign(Object.assign({query:a},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}Jj._key=Object.freeze(["interactions"]);class Xj extends Jj{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _ue(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let jv;function hI(t){let e;return(jv??(e=new globalThis.TextEncoder,jv=e.encode.bind(e)))(t)}let $v;function L4(t){let e;return($v??(e=new globalThis.TextDecoder,$v=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class L_{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?hI(e):e;this.buffer=_ue([this.buffer,n]);const r=[];let i;for(;(i=bue(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(L4(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=L4(this.buffer.subarray(0,o));r.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}L_.NEWLINE_CHARS=new Set([`
`,"\r"]);L_.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function bue(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function xue(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const M1={off:0,error:200,warn:300,info:400,debug:500},D4=(t,e,n)=>{if(t){if(tue(M1,t))return t;ro(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(M1))}`)}};function Mm(){}function Bv(t,e,n){return!e||M1[t]>M1[n]?Mm:e[t].bind(e)}const Sue={error:Mm,warn:Mm,info:Mm,debug:Mm};let F4=new WeakMap;function ro(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return Sue;const i=F4.get(n);if(i&&i[0]===r)return i[1];const o={error:Bv("error",n,r),warn:Bv("warn",n,r),info:Bv("info",n,r),debug:Bv("debug",n,r)};return F4.set(n,[r,o]),o}const Wc=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zd{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const o=r?ro(r):console;function s(){return Zs(this,arguments,function*(){var l,u,c,f;if(i)throw new Cs("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let d=!1;try{try{for(var h=!0,v=ea(Eue(e,n)),_;_=yield kt(v.next()),l=_.done,!l;h=!0){f=_.value,h=!1;const w=f;if(!d)if(w.data.startsWith("[DONE]")){d=!0;continue}else try{yield yield kt(JSON.parse(w.data))}catch(b){throw o.error("Could not parse message into JSON:",w.data),o.error("From chunk:",w.raw),b}}}catch(w){u={error:w}}finally{try{!h&&!l&&(c=v.return)&&(yield kt(c.call(v)))}finally{if(u)throw u.error}}d=!0}catch(w){if(_E(w))return yield kt(void 0);throw w}finally{d||n.abort()}})}return new zd(s,n,r)}static fromReadableStream(e,n,r){let i=!1;function o(){return Zs(this,arguments,function*(){var l,u,c,f;const d=new L_,h=Hj(e);try{for(var v=!0,_=ea(h),w;w=yield kt(_.next()),l=w.done,!l;v=!0){f=w.value,v=!1;const b=f;for(const E of d.decode(b))yield yield kt(E)}}catch(b){u={error:b}}finally{try{!v&&!l&&(c=_.return)&&(yield kt(c.call(_)))}finally{if(u)throw u.error}}for(const b of d.flush())yield yield kt(b)})}function s(){return Zs(this,arguments,function*(){var l,u,c,f;if(i)throw new Cs("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let d=!1;try{try{for(var h=!0,v=ea(o()),_;_=yield kt(v.next()),l=_.done,!l;h=!0){f=_.value,h=!1;const w=f;d||w&&(yield yield kt(JSON.parse(w)))}}catch(w){u={error:w}}finally{try{!h&&!l&&(c=v.return)&&(yield kt(c.call(v)))}finally{if(u)throw u.error}}d=!0}catch(w){if(_E(w))return yield kt(void 0);throw w}finally{d||n.abort()}})}return new zd(s,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const s=r.next();e.push(s),n.push(s)}return o.shift()}});return[new zd(()=>i(e),this.controller,this.client),new zd(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return zj({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const s=hI(JSON.stringify(i)+`
`);r.enqueue(s)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function Eue(t,e){return Zs(this,arguments,function*(){var r,i,o,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Cs("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Cs("Attempted to iterate over a response with no body");const a=new Tue,l=new L_,u=Hj(t.body);try{for(var c=!0,f=ea(Aue(u)),d;d=yield kt(f.next()),r=d.done,!r;c=!0){s=d.value,c=!1;const h=s;for(const v of l.decode(h)){const _=a.decode(v);_&&(yield yield kt(_))}}}catch(h){i={error:h}}finally{try{!c&&!r&&(o=f.return)&&(yield kt(o.call(f)))}finally{if(i)throw i.error}}for(const h of l.flush()){const v=a.decode(h);v&&(yield yield kt(v))}})}function Aue(t){return Zs(this,arguments,function*(){var n,r,i,o;let s=new Uint8Array;try{for(var a=!0,l=ea(t),u;u=yield kt(l.next()),n=u.done,!n;a=!0){o=u.value,a=!1;const c=o;if(c==null)continue;const f=c instanceof ArrayBuffer?new Uint8Array(c):typeof c=="string"?hI(c):c;let d=new Uint8Array(s.length+f.length);d.set(s),d.set(f,s.length),s=d;let h;for(;(h=xue(s))!==-1;)yield yield kt(s.slice(0,h)),s=s.slice(h)}}catch(c){r={error:c}}finally{try{!a&&!n&&(i=l.return)&&(yield kt(i.call(l)))}finally{if(r)throw r.error}}s.length>0&&(yield yield kt(s))})}class Tue{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=Iue(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function Iue(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Pue(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,s=await(async()=>{var a;if(e.options.stream)return ro(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):zd.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const l=n.headers.get("content-type"),u=(a=l==null?void 0:l.split(";")[0])===null||a===void 0?void 0:a.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return ro(t).debug(`[${r}] response parsed`,Wc({retryOfRequestLogID:i,url:n.url,status:n.status,body:s,durationMs:Date.now()-o})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pI extends Promise{constructor(e,n,r=Pue){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new pI(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qj=Symbol("brand.privateNullableHeaders");function*Cue(t){if(!t)return;if(Qj in t){const{values:r,nulls:i}=t;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():k4(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=k4(r[1])?r[1]:[r[1]];let s=!1;for(const a of o)a!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,a])}}const lm=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[o,s]of Cue(r)){const a=o.toLowerCase();i.has(a)||(e.delete(o),i.add(a)),s===null?(e.delete(o),n.add(a)):(e.append(o,s),n.delete(a))}}return{[Qj]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lb=t=>{var e,n,r,i,o,s;if(typeof globalThis.process<"u")return(r=(n=(e=tre)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(s=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Zj;class D_{constructor(e){var n,r,i,o,s,a,l,{baseURL:u=Lb("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:c=(n=Lb("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:f="v1beta"}=e,d=O1(e,["baseURL","apiKey","apiVersion"]);const h=Object.assign(Object.assign({apiKey:c,apiVersion:f},d),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=h.baseURL,this.timeout=(r=h.timeout)!==null&&r!==void 0?r:D_.DEFAULT_TIMEOUT,this.logger=(i=h.logger)!==null&&i!==void 0?i:console;const v="warn";this.logLevel=v,this.logLevel=(s=(o=D4(h.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:D4(Lb("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:v,this.fetchOptions=h.fetchOptions,this.maxRetries=(a=h.maxRetries)!==null&&a!==void 0?a:2,this.fetch=(l=h.fetch)!==null&&l!==void 0?l:uue(),this.encoder=due,this._options=h,this.apiKey=c,this.apiVersion=f,this.clientAdapter=h.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=lm([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return lm([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return lm([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Cs(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Id}`}defaultIdempotencyKey(){return`stainless-node-retry-${Yle()}`}makeStatusError(e,n,r,i){return lo.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=Xle(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return eue(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new pI(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,o,s;const a=await e,l=(i=a.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(a);const{req:u,url:c,timeout:f}=await this.buildRequest(a,{retryCount:l-n});await this.prepareRequest(u,{url:c,options:a});const d="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),h=r===void 0?"":`, retryOf: ${r}`,v=Date.now();if(ro(this).debug(`[${d}] sending request`,Wc({retryOfRequestLogID:r,method:a.method,url:c,options:a,headers:u.headers})),!((o=a.signal)===null||o===void 0)&&o.aborted)throw new xE;const _=new AbortController,w=await this.fetchWithTimeout(c,u,f,_).catch(bE),b=Date.now();if(w instanceof globalThis.Error){const A=`retrying, ${n} attempts remaining`;if(!((s=a.signal)===null||s===void 0)&&s.aborted)throw new xE;const C=_E(w)||/timed? ?out/i.test(String(w)+("cause"in w?String(w.cause):""));if(n)return ro(this).info(`[${d}] connection ${C?"timed out":"failed"} - ${A}`),ro(this).debug(`[${d}] connection ${C?"timed out":"failed"} (${A})`,Wc({retryOfRequestLogID:r,url:c,durationMs:b-v,message:w.message})),this.retryRequest(a,n,r??d);throw ro(this).info(`[${d}] connection ${C?"timed out":"failed"} - error; no more retries left`),ro(this).debug(`[${d}] connection ${C?"timed out":"failed"} (error; no more retries left)`,Wc({retryOfRequestLogID:r,url:c,durationMs:b-v,message:w.message})),C?new Lj:new M_({cause:w})}const E=`[${d}${h}] ${u.method} ${c} ${w.ok?"succeeded":"failed"} with status ${w.status} in ${b-v}ms`;if(!w.ok){const A=await this.shouldRetry(w);if(n&&A){const T=`retrying, ${n} attempts remaining`;return await fue(w.body),ro(this).info(`${E} - ${T}`),ro(this).debug(`[${d}] response error (${T})`,Wc({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,durationMs:b-v})),this.retryRequest(a,n,r??d,w.headers)}const C=A?"error; no more retries left":"error; not retryable";ro(this).info(`${E} - ${C}`);const R=await w.text().catch(T=>bE(T).message),F=rue(R),k=F?void 0:R;throw ro(this).debug(`[${d}] response error (${C})`,Wc({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,message:k,durationMs:Date.now()-v})),this.makeStatusError(w.status,F,k,w.headers)}return ro(this).info(E),ro(this).debug(`[${d}] response start`,Wc({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,durationMs:b-v})),{response:w,options:a,controller:_,requestLogID:d,retryOfRequestLogID:r,startTime:v}}async fetchWithTimeout(e,n,r,i){const o=n||{},{signal:s,method:a}=o,l=O1(o,["signal","method"]);s&&s.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),r),c=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,f=Object.assign(Object.assign(Object.assign({signal:i.signal},c?{duplex:"half"}:{}),{method:"GET"}),l);a&&(f.method=a.toUpperCase());try{return await this.fetch.call(void 0,e,f)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var o;let s;const a=i==null?void 0:i.get("retry-after-ms");if(a){const u=parseFloat(a);Number.isNaN(u)||(s=u)}const l=i==null?void 0:i.get("retry-after");if(l&&!s){const u=parseFloat(l);Number.isNaN(u)?s=Date.parse(l)-Date.now():s=u*1e3}if(!(s&&0<=s&&s<60*1e3)){const u=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,u)}return await iue(s),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,s=Math.min(.5*Math.pow(2,o),8),a=1-Math.random()*.25;return s*a*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,o;const s=Object.assign({},e),{method:a,path:l,query:u,defaultBaseURL:c}=s,f=this.buildURL(l,u,c);"timeout"in s&&nue("timeout",s.timeout),s.timeout=(r=s.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:d,body:h}=this.buildBody({options:s}),v=await this.buildHeaders({options:e,method:a,bodyHeaders:d,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:a,headers:v},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&h instanceof globalThis.ReadableStream&&{duplex:"half"}),h&&{body:h}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=s.fetchOptions)!==null&&o!==void 0?o:{}),url:f,timeout:s.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const s=await this.authHeaders(e);let a=lm([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),lue()),this._options.defaultHeaders,r,e.headers,s]);return this.validateHeaders(a),a.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=lm([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:cue(e)}:this.encoder({body:e,headers:r})}}D_.DEFAULT_TIMEOUT=6e4;class di extends D_{constructor(){super(...arguments),this.interactions=new Xj(this)}}Zj=di;di.GeminiNextGenAPIClient=Zj;di.GeminiNextGenAPIClientError=Cs;di.APIError=lo;di.APIConnectionError=M_;di.APIConnectionTimeoutError=Lj;di.APIUserAbortError=xE;di.NotFoundError=jj;di.ConflictError=$j;di.RateLimitError=Vj;di.BadRequestError=Dj;di.AuthenticationError=Fj;di.InternalServerError=qj;di.PermissionDeniedError=Uj;di.UnprocessableEntityError=Bj;di.toFile=yue;di.Interactions=Xj;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nue(t,e){const n={},r=p(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function kue(t,e){const n={},r=p(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function Rue(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function Oue(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function Mue(t,e,n){const r={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=p(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&y(e,["displayName"],i),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=p(t,["epochCount"]);e!==void 0&&o!=null&&y(e,["tuningTask","hyperparameters","epochCount"],o);const s=p(t,["learningRateMultiplier"]);if(s!=null&&y(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=p(t,["batchSize"]);e!==void 0&&a!=null&&y(e,["tuningTask","hyperparameters","batchSize"],a);const l=p(t,["learningRate"]);if(e!==void 0&&l!=null&&y(e,["tuningTask","hyperparameters","learningRate"],l),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function Lue(t,e,n){const r={};let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const h=p(t,["validationDataset"]);e!==void 0&&h!=null&&y(e,["supervisedTuningSpec"],U4(h))}else if(i==="PREFERENCE_TUNING"){const h=p(t,["validationDataset"]);e!==void 0&&h!=null&&y(e,["preferenceOptimizationSpec"],U4(h))}const o=p(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&y(e,["tunedModelDisplayName"],o);const s=p(t,["description"]);e!==void 0&&s!=null&&y(e,["description"],s);let a=p(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const h=p(t,["epochCount"]);e!==void 0&&h!=null&&y(e,["supervisedTuningSpec","hyperParameters","epochCount"],h)}else if(a==="PREFERENCE_TUNING"){const h=p(t,["epochCount"]);e!==void 0&&h!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],h)}let l=p(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const h=p(t,["learningRateMultiplier"]);e!==void 0&&h!=null&&y(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h)}else if(l==="PREFERENCE_TUNING"){const h=p(t,["learningRateMultiplier"]);e!==void 0&&h!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],h)}let u=p(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const h=p(t,["exportLastCheckpointOnly"]);e!==void 0&&h!=null&&y(e,["supervisedTuningSpec","exportLastCheckpointOnly"],h)}else if(u==="PREFERENCE_TUNING"){const h=p(t,["exportLastCheckpointOnly"]);e!==void 0&&h!=null&&y(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],h)}let c=p(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const h=p(t,["adapterSize"]);e!==void 0&&h!=null&&y(e,["supervisedTuningSpec","hyperParameters","adapterSize"],h)}else if(c==="PREFERENCE_TUNING"){const h=p(t,["adapterSize"]);e!==void 0&&h!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],h)}if(p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=p(t,["labels"]);e!==void 0&&f!=null&&y(e,["labels"],f);const d=p(t,["beta"]);return e!==void 0&&d!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","beta"],d),r}function Due(t,e){const n={},r=p(t,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=p(t,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const o=p(t,["trainingDataset"]);o!=null&&Wue(o);const s=p(t,["config"]);return s!=null&&Mue(s,n),n}function Fue(t,e){const n={},r=p(t,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=p(t,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const o=p(t,["trainingDataset"]);o!=null&&Kue(o,n,e);const s=p(t,["config"]);return s!=null&&Lue(s,n,e),n}function Uue(t,e){const n={},r=p(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function jue(t,e){const n={},r=p(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function $ue(t,e,n){const r={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);e!==void 0&&o!=null&&y(e,["_query","pageToken"],o);const s=p(t,["filter"]);return e!==void 0&&s!=null&&y(e,["_query","filter"],s),r}function Bue(t,e,n){const r={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);e!==void 0&&o!=null&&y(e,["_query","pageToken"],o);const s=p(t,["filter"]);return e!==void 0&&s!=null&&y(e,["_query","filter"],s),r}function Vue(t,e){const n={},r=p(t,["config"]);return r!=null&&$ue(r,n),n}function que(t,e){const n={},r=p(t,["config"]);return r!=null&&Bue(r,n),n}function zue(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=p(t,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const o=p(t,["tunedModels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>e$(a))),y(n,["tuningJobs"],s)}return n}function Hue(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=p(t,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const o=p(t,["tuningJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>AE(a))),y(n,["tuningJobs"],s)}return n}function Gue(t,e){const n={},r=p(t,["name"]);r!=null&&y(n,["model"],r);const i=p(t,["name"]);return i!=null&&y(n,["endpoint"],i),n}function Wue(t,e){const n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=p(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),y(n,["examples","examples"],i)}return n}function Kue(t,e,n){const r={};let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=p(t,["gcsUri"]);e!==void 0&&s!=null&&y(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=p(t,["gcsUri"]);e!==void 0&&s!=null&&y(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let o=p(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const s=p(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&y(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){const s=p(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&y(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function e$(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&y(n,["name"],i);const o=p(t,["state"]);o!=null&&y(n,["state"],gj(o));const s=p(t,["createTime"]);s!=null&&y(n,["createTime"],s);const a=p(t,["tuningTask","startTime"]);a!=null&&y(n,["startTime"],a);const l=p(t,["tuningTask","completeTime"]);l!=null&&y(n,["endTime"],l);const u=p(t,["updateTime"]);u!=null&&y(n,["updateTime"],u);const c=p(t,["description"]);c!=null&&y(n,["description"],c);const f=p(t,["baseModel"]);f!=null&&y(n,["baseModel"],f);const d=p(t,["_self"]);return d!=null&&y(n,["tunedModel"],Gue(d)),n}function AE(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&y(n,["name"],i);const o=p(t,["state"]);o!=null&&y(n,["state"],gj(o));const s=p(t,["createTime"]);s!=null&&y(n,["createTime"],s);const a=p(t,["startTime"]);a!=null&&y(n,["startTime"],a);const l=p(t,["endTime"]);l!=null&&y(n,["endTime"],l);const u=p(t,["updateTime"]);u!=null&&y(n,["updateTime"],u);const c=p(t,["error"]);c!=null&&y(n,["error"],c);const f=p(t,["description"]);f!=null&&y(n,["description"],f);const d=p(t,["baseModel"]);d!=null&&y(n,["baseModel"],d);const h=p(t,["tunedModel"]);h!=null&&y(n,["tunedModel"],h);const v=p(t,["preTunedModel"]);v!=null&&y(n,["preTunedModel"],v);const _=p(t,["supervisedTuningSpec"]);_!=null&&y(n,["supervisedTuningSpec"],_);const w=p(t,["preferenceOptimizationSpec"]);w!=null&&y(n,["preferenceOptimizationSpec"],w);const b=p(t,["tuningDataStats"]);b!=null&&y(n,["tuningDataStats"],b);const E=p(t,["encryptionSpec"]);E!=null&&y(n,["encryptionSpec"],E);const A=p(t,["partnerModelTuningSpec"]);A!=null&&y(n,["partnerModelTuningSpec"],A);const C=p(t,["customBaseModel"]);C!=null&&y(n,["customBaseModel"],C);const R=p(t,["experiment"]);R!=null&&y(n,["experiment"],R);const F=p(t,["labels"]);F!=null&&y(n,["labels"],F);const k=p(t,["outputUri"]);k!=null&&y(n,["outputUri"],k);const N=p(t,["pipelineJob"]);N!=null&&y(n,["pipelineJob"],N);const T=p(t,["serviceAccount"]);T!=null&&y(n,["serviceAccount"],T);const j=p(t,["tunedModelDisplayName"]);j!=null&&y(n,["tunedModelDisplayName"],j);const P=p(t,["veoTuningSpec"]);return P!=null&&y(n,["veoTuningSpec"],P),n}function Yue(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&y(n,["name"],i);const o=p(t,["metadata"]);o!=null&&y(n,["metadata"],o);const s=p(t,["done"]);s!=null&&y(n,["done"],s);const a=p(t,["error"]);return a!=null&&y(n,["error"],a),n}function U4(t,e){const n={},r=p(t,["gcsUri"]);r!=null&&y(n,["validationDatasetUri"],r);const i=p(t,["vertexDatasetResource"]);return i!=null&&y(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jue extends Zl{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Kf(Gl.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let s="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?s=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(s=o.name.split("/operations/")[0]),{name:s,state:hE.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=jue(e);return a=Ke("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>AE(c))}else{const u=Uue(e);return a=Ke("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>e$(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=que(e);return a=Ke("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=Hue(c),d=new c4;return Object.assign(d,f),d})}else{const u=Vue(e);return a=Ke("tunedModels",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=zue(c),d=new c4;return Object.assign(d,f),d})}}async cancel(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=kue(e);return a=Ke("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=Oue(c),d=new f4;return Object.assign(d,f),d})}else{const u=Nue(e);return a=Ke("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=Rue(c),d=new f4;return Object.assign(d,f),d})}}async tuneInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=Fue(e,e);return o=Ke("tuningJobs",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>AE(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Due(e);return o=Ke("tunedModels",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>Yue(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xue{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Que=1024*1024*8,Zue=3,ece=1e3,tce=2,L1="x-goog-upload-status";async function nce(t,e,n){var r;const i=await t$(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[L1])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function rce(t,e,n){var r;const i=await t$(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[L1])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=cj(o),a=new aI;return Object.assign(a,s),a}async function t$(t,e,n){var r,i;let o=0,s=0,a=new pE(new Response),l="upload";for(o=t.size;s<o;){const u=Math.min(Que,o-s),c=t.slice(s,s+u);s+u>=o&&(l+=", finalize");let f=0,d=ece;for(;f<Zue&&(a=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(s),"Content-Length":String(u)}}}),!(!((r=a==null?void 0:a.headers)===null||r===void 0)&&r[L1]));)f++,await oce(d),d=d*tce;if(s+=u,((i=a==null?void 0:a.headers)===null||i===void 0?void 0:i[L1])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function ice(t){return{size:t.size,type:t.type}}function oce(t){return new Promise(e=>setTimeout(e,t))}class sce{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await nce(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await rce(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ice(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ace{create(e,n,r){return new lce(e,n,r)}}class lce{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const j4="x-goog-api-key";class uce{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(j4)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(j4,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cce="gl-node/";class fce{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new di({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=ore(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new uce(this.apiKey);this.apiClient=new ile({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:cce+"web",uploader:new sce,downloader:new Xue}),this.models=new Sle(this.apiClient),this.live=new yle(this.apiClient,i,new ace),this.batches=new Mie(this.apiClient),this.chats=new moe(this.models,this.apiClient),this.caches=new doe(this.apiClient),this.files=new Aoe(this.apiClient),this.operations=new Ele(this.apiClient),this.authTokens=new $le(this.apiClient),this.tunings=new Jue(this.apiClient),this.fileSearchStores=new Kle(this.apiClient)}}var dce={};const Db=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],$4=()=>{const{user:t}=nd(),[e,n]=ce.useState("agenda"),[r,i]=ce.useState([]),[o,s]=ce.useState([]),[a,l]=ce.useState([]),[u,c]=ce.useState((t==null?void 0:t.id)||""),[f,d]=ce.useState(!1),[h,v]=ce.useState(!1),[_,w]=ce.useState(!1),[b,E]=ce.useState(!1),[A,C]=ce.useState(null),[R,F]=ce.useState(null),[k,N]=ce.useState(0),[T,j]=ce.useState(""),[P,D]=ce.useState({name:"",eircode:"",address:""}),[U,z]=ce.useState({hoursPerDay:4,locationName:"",address:"",notes:""}),[ee,le]=ce.useState([]),ue=(t==null?void 0:t.role)===ln.ADMIN;ce.useEffect(()=>{(async()=>{d(!0);try{if(ue){const Ce=await Ht.getAllUsers();l(Ce.filter(Z=>Z.role===ln.EMPLOYEE))}const pe=await Ht.getOffices();s(pe)}catch(pe){console.error("Error initializing agenda data:",pe)}finally{d(!1)}})()},[ue]),ce.useEffect(()=>{u?X(u):t&&(c(t.id),X(t.id))},[u,t]);const X=async re=>{d(!0);try{const pe=await Ht.getSchedulesByUser(re);i(pe)}catch(pe){console.error(pe)}d(!1)},ae=()=>r.reduce((re,pe)=>re+pe.hoursPerDay,0),ye=re=>{le(pe=>pe.includes(re)?pe.filter(Ce=>Ce!==re):[...pe,re])},me=async()=>{var re;if(!P.eircode||P.eircode.trim().length<3){alert("Please enter a valid Eircode first.");return}v(!0);try{const Z=(re=(await new fce({apiKey:dce.API_KEY}).models.generateContent({model:"gemini-2.5-flash",contents:`Find the full, standard physical address for the Irish Eircode: ${P.eircode}. Return only the address string.`,config:{tools:[{googleMaps:{}}]}})).text)==null?void 0:re.trim();Z?D(Ee=>({...Ee,address:Z})):alert("Could not find an address for this Eircode. Please enter manually.")}catch(pe){console.error("Eircode search error:",pe),alert("Service temporarily unavailable. Please enter the address manually.")}finally{v(!1)}},B=async()=>{if(!U.locationName||!U.address){alert("Location and Address are required");return}if(ee.length===0){alert("Please select at least one day of the week.");return}const re=ue?u:t==null?void 0:t.id;if(!re){alert("Target user not identified.");return}d(!0);try{for(const pe of ee){const Ce={userId:re,locationName:U.locationName,address:U.address,dayOfWeek:pe,hoursPerDay:Number(U.hoursPerDay),notes:U.notes||""};await Ht.addSchedule(Ce)}await X(re),w(!1),z({hoursPerDay:4,locationName:"",address:"",notes:""}),le([])}catch(pe){console.error(pe),alert("Error adding schedule.")}finally{d(!1)}},W=async()=>{if(!P.name||!P.address){alert("Name and Address are required");return}d(!0);try{await Ht.addOffice({name:P.name,eircode:P.eircode||"",address:P.address,defaultSchedule:[]});const re=await Ht.getOffices();s(re),E(!1),D({name:"",eircode:"",address:""})}catch(re){console.error(re),alert("Error adding office.")}finally{d(!1)}},ne=async re=>{if(window.confirm("Delete this site location?")){d(!0),await Ht.deleteOffice(re);const pe=await Ht.getOffices();s(pe),d(!1)}},fe=async re=>{d(!0);try{await Ht.updateSchedule(re,{hoursPerDay:k,notes:T});const pe=ue?u:t==null?void 0:t.id;pe&&await X(pe),F(null)}catch(pe){console.error(pe),alert("Failed to update schedule.")}finally{d(!1)}},he=async re=>{if(window.confirm("Are you sure you want to remove this schedule?")){d(!0),await Ht.deleteSchedule(re);const pe=ue?u:t==null?void 0:t.id;pe&&await X(pe),d(!1)}},we=re=>{F(re.id),N(re.hoursPerDay),j(re.notes||"")},Te=re=>{const pe=o.find(Ce=>Ce.id===re);pe&&z({...U,locationName:pe.name,address:pe.address})};return f&&r.length===0&&e==="agenda"?S.jsx("div",{className:"flex justify-center p-8",children:S.jsx(xr,{className:"animate-spin text-brand-500",size:32})}):S.jsxs("div",{className:"space-y-6",children:[S.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:e==="agenda"?"Work Schedule":"Manage Locations"}),S.jsx("p",{className:"text-gray-500",children:e==="agenda"?"Plan and manage operational cleaning shifts":"Configure official service sites"})]}),S.jsx("div",{className:"flex flex-wrap gap-2 items-center",children:ue&&S.jsxs(S.Fragment,{children:[S.jsxs(cn,{variant:"outline",onClick:()=>n(e==="agenda"?"offices":"agenda"),className:"rounded-xl font-bold border-brand-600 text-brand-600",children:[e==="agenda"?S.jsx(eR,{size:18,className:"mr-2"}):S.jsx(Ra,{size:18,className:"mr-2"}),e==="agenda"?"Manage Sites":"View Schedule"]}),e==="agenda"&&S.jsxs("div",{className:"flex flex-col mr-2",children:[S.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Employee View"}),S.jsxs("select",{className:"border rounded-xl px-3 py-2 bg-white text-sm font-bold border-gray-200 outline-none focus:ring-2 focus:ring-brand-500",value:u,onChange:re=>c(re.target.value),children:[S.jsx("option",{value:t==null?void 0:t.id,children:"My Own Agenda"}),a.map(re=>S.jsx("option",{value:re.id,children:re.name},re.id))]})]}),e==="agenda"?S.jsxs(cn,{onClick:()=>w(!_),className:`${_?"bg-gray-100 text-gray-600":"bg-brand-600"} rounded-xl font-bold`,children:[_?S.jsx(Sl,{size:18,className:"mr-2"}):S.jsx(sR,{size:18,className:"mr-2"}),_?"Cancel":"Add Shift"]}):S.jsxs(cn,{onClick:()=>E(!b),className:`${b?"bg-gray-100 text-gray-600":"bg-brand-600"} rounded-xl font-bold`,children:[b?S.jsx(Sl,{size:18,className:"mr-2"}):S.jsx(sR,{size:18,className:"mr-2"}),b?"Cancel":"New Site"]})]})})]}),e==="agenda"?S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Total Weekly Hours"}),S.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-black tracking-widest",children:"Accumulated Forecast"})]}),S.jsxs("div",{className:"text-4xl font-black text-brand-600 tracking-tighter",children:[ae(),"h"]})]}),_&&ue&&S.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl border border-slate-700 space-y-4 animate-fade-in text-white shadow-2xl relative overflow-hidden",children:[S.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5",children:S.jsx(Ra,{size:120})}),S.jsxs("div",{className:"flex justify-between items-center border-b border-slate-700 pb-4 relative z-10",children:[S.jsx("h3",{className:"font-black text-xl tracking-tight uppercase",children:"Assign New Shift"}),S.jsx("button",{onClick:()=>w(!1),className:"text-slate-400 hover:text-white transition-colors",children:S.jsx(Sl,{size:24})})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 relative z-10",children:[S.jsxs("div",{className:"md:col-span-2",children:[S.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Assign To Employee"}),S.jsxs("select",{className:"w-full rounded-xl border-slate-700 bg-slate-800 text-white p-3 focus:ring-2 focus:ring-brand-500 outline-none font-bold",value:u,onChange:re=>c(re.target.value),children:[S.jsx("option",{value:t==null?void 0:t.id,children:"Assign to myself"}),a.map(re=>S.jsx("option",{value:re.id,children:re.name},re.id))]})]}),o.length>0&&S.jsxs("div",{className:"md:col-span-2",children:[S.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Quick Select Location"}),S.jsxs("select",{className:"w-full rounded-xl border-slate-700 bg-slate-800 text-white p-3 focus:ring-2 focus:ring-brand-500 outline-none font-bold",onChange:re=>Te(re.target.value),children:[S.jsx("option",{value:"",children:"-- Select Registered Site --"}),o.map(re=>S.jsx("option",{value:re.id,children:re.name},re.id))]})]}),S.jsx(jr,{label:"Site Name",placeholder:"e.g. Downey Tech Hub",labelClassName:"text-slate-400 font-black uppercase text-[10px] tracking-widest",value:U.locationName||"",onChange:re=>z({...U,locationName:re.target.value}),className:"bg-slate-800 border-slate-700 placeholder:text-slate-500 font-bold rounded-xl"}),S.jsx(jr,{label:"Address Detail",placeholder:"123 Street Ave, D02",labelClassName:"text-slate-400 font-black uppercase text-[10px] tracking-widest",value:U.address||"",onChange:re=>z({...U,address:re.target.value}),className:"bg-slate-800 border-slate-700 placeholder:text-slate-500 font-bold rounded-xl"}),S.jsxs("div",{className:"md:col-span-2",children:[S.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Service Description / Notes"}),S.jsx("textarea",{className:"w-full rounded-xl border-slate-700 bg-slate-800 text-white p-3 focus:ring-2 focus:ring-brand-500 outline-none font-bold min-h-[100px]",placeholder:"Describe specific tasks for this shift...",value:U.notes||"",onChange:re=>z({...U,notes:re.target.value})})]})]}),S.jsxs("div",{className:"relative z-10",children:[S.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Days of Week (Multiple selection)"}),S.jsx("div",{className:"flex flex-wrap gap-2",children:Db.map((re,pe)=>S.jsxs("button",{type:"button",onClick:()=>ye(pe),className:`flex items-center space-x-2 px-4 py-2.5 rounded-xl border text-[10px] font-black transition-all ${ee.includes(pe)?"bg-brand-500 border-brand-500 text-white shadow-lg":"bg-slate-800 border-slate-700 text-slate-400 hover:border-slate-500"}`,children:[ee.includes(pe)?S.jsx(xne,{size:14}):S.jsx(Jne,{size:14}),S.jsx("span",{children:re.substring(0,3).toUpperCase()})]},pe))})]}),S.jsx("div",{className:"w-1/3 relative z-10",children:S.jsx(jr,{label:"Shift Duration (Hours)",type:"number",min:"0.5",step:"0.5",labelClassName:"text-slate-400 font-black uppercase text-[10px] tracking-widest",value:U.hoursPerDay,onChange:re=>z({...U,hoursPerDay:Number(re.target.value)}),className:"bg-slate-800 border-slate-700 font-bold text-white rounded-xl"})}),S.jsxs(cn,{onClick:B,fullWidth:!0,disabled:f,className:"rounded-xl h-14 text-lg font-black shadow-xl relative z-10",children:[f?S.jsx(xr,{className:"animate-spin mr-2"}):S.jsx(kg,{size:20,className:"mr-2"}),"CONFIRM SHIFT"]})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.sort((re,pe)=>re.dayOfWeek-pe.dayOfWeek).map(re=>S.jsxs("div",{onClick:()=>C(re),className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5 relative group hover:shadow-md transition-all border-b-4 border-b-brand-100 cursor-pointer",children:[ue&&S.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",onClick:pe=>pe.stopPropagation(),children:[R!==re.id&&S.jsx("button",{onClick:()=>we(re),className:"text-gray-300 hover:text-brand-600 transition-colors p-1",title:"Edit Schedule",children:S.jsx(C_,{size:16})}),S.jsx("button",{onClick:()=>he(re.id),className:"text-gray-300 hover:text-red-500 transition-colors p-1",children:S.jsx(Rg,{size:18})})]}),S.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[S.jsx("div",{className:"bg-brand-50 p-2 rounded-lg text-brand-600",children:S.jsx(Ra,{size:18})}),S.jsx("span",{className:"font-black text-gray-900 uppercase text-xs tracking-widest",children:Db[re.dayOfWeek]})]}),S.jsxs("div",{className:"space-y-4 text-gray-600",children:[S.jsxs("div",{className:"flex items-start space-x-3",children:[S.jsx(_s,{size:18,className:"mt-1 flex-shrink-0 text-brand-400"}),S.jsxs("div",{className:"min-w-0",children:[S.jsx("p",{className:"font-black text-gray-900 tracking-tight leading-tight truncate",children:re.locationName}),S.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase mt-0.5 truncate",children:re.address})]})]}),R===re.id?S.jsxs("div",{className:"space-y-3 bg-brand-50 p-4 rounded-xl border border-brand-200 animate-fade-in shadow-inner",onClick:pe=>pe.stopPropagation(),children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(oh,{size:16,className:"text-brand-600"}),S.jsx("input",{type:"number",min:"0.5",step:"0.5",className:"w-20 p-1.5 text-sm border border-brand-300 rounded-lg focus:ring-2 focus:ring-brand-500 outline-none font-bold",value:k,onChange:pe=>N(Number(pe.target.value))}),S.jsx("span",{className:"text-xs font-black text-brand-600 uppercase",children:"h"})]}),S.jsxs("div",{className:"space-y-1",children:[S.jsx("label",{className:"text-[9px] font-black text-brand-600 uppercase tracking-widest",children:"Update Service Description"}),S.jsx("textarea",{className:"w-full p-2 text-xs border border-brand-300 rounded-lg focus:ring-2 focus:ring-brand-500 outline-none font-medium min-h-[70px] bg-white",value:T,onChange:pe=>j(pe.target.value),placeholder:"Update shift instructions..."})]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsxs(cn,{size:"sm",onClick:()=>fe(re.id),className:"flex-1 rounded-lg text-[10px] font-black shadow-sm",children:[f?S.jsx(xr,{className:"animate-spin",size:14}):S.jsx(uE,{size:14,className:"mr-1"})," SAVE"]}),S.jsxs(cn,{size:"sm",variant:"secondary",onClick:()=>F(null),className:"flex-1 rounded-lg text-[10px] font-black border-gray-200",children:[S.jsx(Sl,{size:14,className:"mr-1"})," CANCEL"]})]})]}):S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center space-x-2 font-black bg-gray-50 px-3 py-1.5 rounded-xl w-fit text-brand-600 text-[10px] uppercase tracking-widest border border-gray-100",children:[S.jsx(oh,{size:14}),S.jsxs("span",{children:[re.hoursPerDay," hours"]})]}),S.jsxs("div",{className:"flex items-center gap-1 text-[9px] font-black text-gray-300 uppercase opacity-0 group-hover:opacity-100 transition-opacity",children:[S.jsx(Mne,{size:12})," View details"]})]})]})]},re.id)),r.length===0&&!_&&S.jsxs("div",{className:"col-span-full py-20 text-center text-gray-400 bg-white border-2 border-dashed border-gray-100 rounded-2xl flex flex-col items-center justify-center gap-3",children:[S.jsx(Ra,{size:48,className:"text-gray-200"}),S.jsx("p",{className:"italic font-bold text-sm uppercase tracking-widest",children:"No operational shifts scheduled for this period."})]})]})]}):S.jsxs("div",{className:"space-y-6",children:[b&&ue&&S.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-brand-100 shadow-xl space-y-6 animate-fade-in relative overflow-hidden",children:[S.jsx("div",{className:"absolute top-0 left-0 w-2 h-full bg-brand-600"}),S.jsxs("div",{className:"flex items-center gap-3 border-b border-gray-100 pb-4",children:[S.jsx("div",{className:"bg-brand-50 p-2 rounded-xl text-brand-600",children:S.jsx(jne,{size:20})}),S.jsx("h3",{className:"font-black text-brand-900 uppercase tracking-widest text-sm",children:"Add New Service Site"})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[S.jsx("div",{className:"md:col-span-1",children:S.jsx(jr,{label:"Site Nickname",placeholder:"e.g. Headquarters",value:P.name,onChange:re=>D({...P,name:re.target.value}),className:"rounded-xl font-bold"})}),S.jsx("div",{className:"md:col-span-1",children:S.jsxs("div",{className:"flex flex-col",children:[S.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:"Eircode (Search)"}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("input",{className:"flex-1 rounded-xl shadow-sm border border-gray-300 p-2.5 transition-all focus:ring-2 focus:ring-brand-500 outline-none font-bold text-gray-900",placeholder:"e.g. D02 XH22",value:P.eircode,onChange:re=>D({...P,eircode:re.target.value.toUpperCase()})}),S.jsx(cn,{onClick:me,disabled:h||!P.eircode,className:"rounded-xl w-12 h-11 p-0 shrink-0 shadow-md",title:"Search Address by Eircode",children:h?S.jsx(xr,{className:"animate-spin",size:20}):S.jsx(iI,{size:20})})]}),S.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase mt-1 tracking-wider",children:"Fast-fill using Google Maps"})]})}),S.jsx("div",{className:"md:col-span-1",children:S.jsx(jr,{label:"Full Address (Manual or Auto)",placeholder:"123 Street Name, Town...",value:P.address,onChange:re=>D({...P,address:re.target.value}),className:"rounded-xl font-bold"})})]}),S.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-50",children:[S.jsxs(cn,{onClick:W,disabled:f,className:"font-bold rounded-xl h-12 px-8 shadow-lg",children:[f?S.jsx(xr,{className:"animate-spin mr-2"}):S.jsx(kg,{size:18,className:"mr-2"})," Confirm Site Registration"]}),S.jsx(cn,{variant:"outline",onClick:()=>E(!1),className:"font-bold rounded-xl h-12 px-6 border-gray-200",children:"Cancel"})]})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.map(re=>S.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5 group hover:shadow-md transition-all",children:[S.jsxs("div",{className:"flex justify-between items-start mb-4",children:[S.jsx("div",{className:"bg-brand-50 p-3 rounded-xl text-brand-600",children:S.jsx(eR,{size:24})}),ue&&S.jsx("button",{onClick:()=>ne(re.id),className:"text-gray-300 hover:text-red-500 p-1",children:S.jsx(Rg,{size:20})})]}),S.jsx("h3",{className:"font-black text-gray-900 text-lg leading-tight mb-1",children:re.name}),S.jsx("p",{className:"text-[10px] font-black text-brand-500 uppercase tracking-widest mb-4",children:re.eircode||"No Eircode"}),S.jsxs("div",{className:"flex items-start gap-2 text-gray-500",children:[S.jsx(_s,{size:16,className:"mt-1 shrink-0"}),S.jsx("p",{className:"text-sm font-medium",children:re.address})]})]},re.id)),o.length===0&&!b&&S.jsx("div",{className:"col-span-full py-20 text-center text-gray-400 bg-white border-2 border-dashed border-gray-100 rounded-2xl",children:S.jsx("p",{className:"font-bold italic",children:"No site locations registered yet."})})]})]}),A&&S.jsx("div",{className:"fixed inset-0 bg-brand-900/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>C(null),children:S.jsxs("div",{className:"bg-white w-full max-w-lg rounded-3xl shadow-2xl overflow-hidden animate-fade-in relative",onClick:re=>re.stopPropagation(),children:[S.jsxs("div",{className:"bg-brand-900 p-8 text-white",children:[S.jsxs("div",{className:"flex justify-between items-start",children:[S.jsx("div",{className:"bg-white/10 p-3 rounded-2xl backdrop-blur-md mb-4",children:S.jsx(Ra,{size:28,className:"text-white"})}),S.jsx("button",{onClick:()=>C(null),className:"text-white/60 hover:text-white transition-colors",children:S.jsx(Sl,{size:28})})]}),S.jsx("h3",{className:"text-2xl font-black uppercase tracking-tight leading-tight",children:A.locationName}),S.jsxs("p",{className:"text-brand-300 font-bold uppercase text-[10px] tracking-[0.2em] mt-1",children:[Db[A.dayOfWeek]," Operations"]})]}),S.jsxs("div",{className:"p-8 space-y-6",children:[S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{className:"bg-gray-50 p-4 rounded-2xl border border-gray-100",children:[S.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Time Assigned"}),S.jsxs("div",{className:"flex items-center gap-2 text-brand-600 font-black",children:[S.jsx(oh,{size:16})," ",A.hoursPerDay," Hours"]})]}),S.jsxs("div",{className:"bg-gray-50 p-4 rounded-2xl border border-gray-100",children:[S.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Frequency"}),S.jsxs("div",{className:"flex items-center gap-2 text-brand-600 font-black",children:[S.jsx(Ra,{size:16})," Weekly"]})]})]}),S.jsxs("div",{className:"space-y-1",children:[S.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Service Location"}),S.jsxs("div",{className:"flex items-start gap-2",children:[S.jsx(_s,{className:"text-brand-500 shrink-0 mt-1",size:18}),S.jsx("p",{className:"font-bold text-gray-700 leading-tight",children:A.address})]})]}),S.jsxs("div",{className:"space-y-3 bg-brand-50 p-6 rounded-3xl border border-brand-100",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(Pne,{className:"text-brand-600",size:18}),S.jsx("p",{className:"text-[10px] font-black text-brand-900 uppercase tracking-widest",children:"Service Instructions / Notes"})]}),S.jsx("p",{className:"text-sm font-medium text-brand-800 leading-relaxed italic whitespace-pre-wrap",children:A.notes||"No specific instructions provided for this site."})]}),S.jsx(cn,{fullWidth:!0,onClick:()=>C(null),className:"h-14 rounded-2xl font-black tracking-tight text-lg shadow-xl",children:"Got it, thanks!"})]})]})})]})},Fb={knowJobSafety:!1,weatherCheck:!1,safePassInDate:!1,hazardAwareness:!1,floorConditions:!1,manualHandlingCert:!1,liftingHelp:!1,anchorPoints:!1,ladderFooting:!1,safetyCones:!1,communication:!1,laddersCheck:!1,sharpEdges:!1,scraperCovers:!1,hotSurfaces:!1,chemicalCourse:!1,chemicalAwareness:!1,tidyEquipment:!1,laddersStored:!1,highVis:!1,helmet:!1,goggles:!1,gloves:!1,mask:!1,earMuffs:!1,faceGuard:!1,harness:!1,boots:!1},hce=()=>{const{user:t}=nd(),[e,n]=ce.useState(null),[r,i]=ce.useState(""),[o,s]=ce.useState(!1),[a,l]=ce.useState([]),[u,c]=ce.useState(!1),[f,d]=ce.useState(!0),[h,v]=ce.useState("checking"),[_,w]=ce.useState(null),[b,E]=ce.useState(null),[A,C]=ce.useState(null),[R,F]=ce.useState(null),[k,N]=ce.useState(Fb),[T,j]=ce.useState(0),P=ce.useRef(null);ce.useEffect(()=>{(async()=>{if(t)try{const W=await Ht.getActiveSession(t.id);W&&(n(W),i(W.locationName),W.safetyChecklist&&N({...Fb,...W.safetyChecklist}),w(W.photoUrl||null));const ne=await Ht.getSchedulesByUser(t.id),fe=new Map;ne.forEach(we=>{fe.has(we.locationName)||fe.set(we.locationName,we.address)});const he=Array.from(fe.entries()).map(([we,Te])=>({name:we,address:Te}));l(he),he.length===0&&s(!0),D()}catch(W){console.error("Error initializing check-in",W)}finally{d(!1)}})()},[t]);const D=()=>{if(!navigator.geolocation){v("error");return}navigator.geolocation.getCurrentPosition(()=>v("acquired"),B=>{B.code===1?v("denied"):v("error")},{timeout:5e3,enableHighAccuracy:!0})};ce.useEffect(()=>{if(e){const B=new Date(e.startTime).getTime(),W=e.totalPausedMs||0;P.current=window.setInterval(()=>{let ne=Date.now(),fe=ne-B-W;if(e.isPaused&&e.pausedAt){const he=new Date(e.pausedAt).getTime();fe-=ne-he}j(Math.floor(fe/1e3))},1e3)}else P.current&&clearInterval(P.current),j(0);return()=>{P.current&&clearInterval(P.current)}},[e]);const U=B=>{const W=Math.floor(B/3600),ne=Math.floor(B%3600/60),fe=B%60;return`${W.toString().padStart(2,"0")}:${ne.toString().padStart(2,"0")}:${fe.toString().padStart(2,"0")}`},z=(B,W)=>{var fe;const ne=(fe=B.target.files)==null?void 0:fe[0];if(ne){const he=new FileReader;he.onloadend=()=>{W?(C(he.result),F(ne)):(w(he.result),E(ne))},he.readAsDataURL(ne)}},ee=()=>new Promise((B,W)=>{if(!navigator.geolocation){W(new Error("Seu navegador no suporta geolocalizao. O GPS  obrigatrio para check-in/out."));return}navigator.geolocation.getCurrentPosition(ne=>{v("acquired"),B({lat:ne.coords.latitude,lng:ne.coords.longitude})},ne=>{ne.code===1?(v("denied"),W(new Error("Permisso de GPS negada.  obrigatrio autorizar o acesso  localizao para continuar."))):(v("error"),W(new Error("No foi possvel obter sua localizao. Certifique-se de que o GPS do dispositivo est ligado.")))},{enableHighAccuracy:!0,timeout:1e4})}),le=async()=>{if(!t||!r.trim()){alert("Por favor, selecione ou digite um local.");return}if(!(Object.values(k).filter(W=>W===!0).length<5&&!confirm("Voc marcou poucos itens de segurana. Deseja prosseguir mesmo assim?"))){c(!0);try{const W=await ee(),ne={userId:t.id,locationName:r.trim(),startTime:new Date().toISOString(),date:new Date().toISOString().split("T")[0],safetyChecklist:{...k},startLocation:W},fe=await Ht.startShift(ne,b||void 0);n(fe),E(null)}catch(W){console.error("Falha ao iniciar turno:",W),alert(W.message||"No foi possvel iniciar o turno. O GPS  obrigatrio.")}finally{c(!1)}}},ue=async()=>{if(e){c(!0);try{const B=await Ht.togglePause(e);n(B)}catch(B){console.error(B),alert("Falha ao atualizar pausa.")}finally{c(!1)}}},X=async()=>{if(e){c(!0);try{const B=await ee();await Ht.endShift(e.id,{endTime:new Date().toISOString(),endLocation:B,isPaused:!1},R||void 0),n(null),w(null),E(null),C(null),F(null),i(""),N(Fb)}catch(B){console.error(B),alert(B.message||"No foi possvel encerrar o turno. A localizao GPS  obrigatria para verificao.")}finally{c(!1)}}},ae=B=>{e||N(W=>({...W,[B]:!W[B]}))},ye=({title:B,icon:W,children:ne})=>S.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm space-y-4",children:[S.jsxs("div",{className:"flex items-center gap-2 border-b pb-2",children:[S.jsx(W,{className:"text-brand-600",size:20}),S.jsx("h3",{className:"font-bold text-gray-800 uppercase text-sm tracking-wide",children:B})]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:ne})]}),me=({id:B,label:W})=>S.jsxs("button",{onClick:()=>ae(B),disabled:!!e,className:`
        flex items-center justify-between p-3 rounded-lg border text-left transition-all
        ${k[B]?"border-brand-500 bg-brand-50 text-brand-700":"border-gray-200 text-gray-500 hover:bg-gray-50"}
      `,children:[S.jsx("span",{className:"text-xs font-medium",children:W}),S.jsx("div",{className:`w-5 h-5 rounded border flex items-center justify-center ${k[B]?"bg-brand-500 border-brand-500":"bg-white border-gray-300"}`,children:k[B]&&S.jsx(uE,{size:14,className:"text-white"})})]});return f?S.jsxs("div",{className:"flex flex-col items-center justify-center p-20 space-y-4",children:[S.jsx(xr,{className:"animate-spin text-brand-600",size:48}),S.jsx("p",{className:"text-gray-500 font-medium",children:"Iniciando protocolos de segurana..."})]}):S.jsxs("div",{className:"max-w-3xl mx-auto space-y-6 pb-20",children:[S.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[S.jsxs("div",{children:[S.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[S.jsx(Zc,{className:"text-brand-600"}),"Plano de Segurana Ativo"]}),S.jsx("p",{className:"text-gray-500 text-sm italic mt-1",children:"O GPS  obrigatrio para registrar seu servio."})]}),S.jsx("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full border text-[10px] font-black uppercase tracking-widest ${h==="acquired"?"bg-green-50 text-green-700 border-green-200":h==="denied"?"bg-red-50 text-red-700 border-red-200 animate-pulse":"bg-gray-50 text-gray-500 border-gray-200"}`,children:h==="acquired"?S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"})," GPS ATIVO"]}):h==="denied"?S.jsxs(S.Fragment,{children:[S.jsx(aj,{size:12})," GPS BLOQUEADO"]}):S.jsxs(S.Fragment,{children:[S.jsx(xr,{size:12,className:"animate-spin"})," VERIFICANDO GPS"]})}),e&&S.jsx("div",{className:`px-4 py-2 rounded-full font-mono font-bold transition-colors ${e.isPaused?"bg-orange-500 text-white":"bg-brand-900 text-white animate-pulse"}`,children:U(T)})]}),h==="denied"&&S.jsxs("div",{className:"bg-red-50 p-4 rounded-xl border border-red-100 flex items-start gap-3 animate-shake",children:[S.jsx(C1,{className:"text-red-600 shrink-0",size:24}),S.jsxs("div",{children:[S.jsx("p",{className:"text-red-900 font-black uppercase text-xs tracking-widest",children:"Ao Bloqueada: GPS Negado"}),S.jsx("p",{className:"text-red-700 text-xs mt-1",children:"A Downey Cleaning exige verificao GPS. Por favor, autorize a localizao nas configuraes do navegador e atualize a pgina."})]})]}),S.jsxs(ye,{title:"Plano de Ao",icon:Zc,children:[S.jsx(me,{id:"knowJobSafety",label:"Sabe completar o trabalho com segurana?"}),S.jsx(me,{id:"weatherCheck",label:"Condies climticas apropriadas?"}),S.jsx(me,{id:"safePassInDate",label:"Safe Pass em dia?"}),S.jsx(me,{id:"hazardAwareness",label:"Ciente de riscos de tropeo/queda?"}),S.jsx(me,{id:"floorConditions",label:"Pisos molhados identificados?"})]}),S.jsxs(ye,{title:"Levantamento de Peso",icon:bne,children:[S.jsx(me,{id:"manualHandlingCert",label:"Certificado de Manual Handling completo?"}),S.jsx(me,{id:"liftingHelp",label:"Peso excessivo (precisa de ajuda)?"})]}),S.jsxs(ye,{title:"Trabalho em Altura",icon:rR,children:[S.jsx(me,{id:"anchorPoints",label:"Pontos de ancoragem identificados?"}),S.jsx(me,{id:"ladderFooting",label:"Uma pessoa segurando a escada?"}),S.jsx(me,{id:"safetyCones",label:"Cones/sinalizao de piso molhado?"}),S.jsx(me,{id:"communication",label:"Comunicao com colegas ativa?"})]}),S.jsxs(ye,{title:"Equipamento Verificado",icon:aE,children:[S.jsx(me,{id:"laddersCheck",label:"Escadas verificadas?"}),S.jsx(me,{id:"sharpEdges",label:"Verificou bordas afiadas?"}),S.jsx(me,{id:"scraperCovers",label:"Protetores nas lminas?"}),S.jsx(me,{id:"hotSurfaces",label:"Cuidado com superfcies quentes?"}),S.jsx(me,{id:"chemicalCourse",label:"Treinamento de qumicos completo?"}),S.jsx(me,{id:"chemicalAwareness",label:"Ciente das diluies/segurana?"}),S.jsx(me,{id:"tidyEquipment",label:"Equipamento organizado?"}),S.jsx(me,{id:"laddersStored",label:"Escadas guardadas com segurana?"})]}),S.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[S.jsxs("div",{className:"flex items-center gap-2 border-b pb-2 mb-4",children:[S.jsx(C1,{className:"text-brand-600",size:20}),S.jsx("h3",{className:"font-bold text-gray-800 uppercase text-sm tracking-wide",children:"EPIs Necessrios"})]}),S.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-5 gap-4",children:[{id:"highVis",label:"Colete",icon:rR},{id:"helmet",label:"Capacete",icon:Rne},{id:"goggles",label:"culos",icon:Nne},{id:"gloves",label:"Luvas",icon:kne},{id:"mask",label:"Mscara",icon:Zc},{id:"earMuffs",label:"Protetor Auricular",icon:aE},{id:"faceGuard",label:"Protetor Facial",icon:Zc},{id:"harness",label:"Cinto",icon:Zc},{id:"boots",label:"Botas",icon:_s}].map(B=>S.jsxs("button",{onClick:()=>ae(B.id),disabled:!!e,className:`
                flex flex-col items-center justify-center p-2 rounded-lg border-2 transition-all
                ${k[B.id]?"border-brand-500 bg-brand-50 shadow-inner":"border-gray-100 bg-gray-50 opacity-60"}
              `,children:[S.jsx(B.icon,{size:24,className:k[B.id]?"text-brand-600":"text-gray-400"}),S.jsx("span",{className:"text-[10px] mt-1 font-bold text-gray-600 uppercase text-center",children:B.label}),S.jsx("div",{className:`mt-1 w-4 h-4 rounded-sm border ${k[B.id]?"bg-brand-500 border-brand-500":"bg-white border-gray-300"}`,children:k[B.id]&&S.jsx(uE,{size:12,className:"text-white mx-auto"})})]},B.id))})]}),!e&&S.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 space-y-4",children:[S.jsxs("div",{children:[S.jsxs("div",{className:"flex justify-between items-end mb-1",children:[S.jsx("label",{className:"block text-sm font-bold text-gray-700 uppercase tracking-tight",children:"Local de Trabalho"}),S.jsxs("button",{onClick:()=>s(!o),className:"text-xs text-brand-600 font-bold flex items-center gap-1 hover:underline",children:[o?S.jsx(Sne,{size:14}):S.jsx(C_,{size:14}),o?"Selecionar da lista":"Digitar manualmente"]})]}),S.jsxs("div",{className:"relative",children:[o?S.jsx("input",{type:"text",placeholder:"Nome do local ou endereo...",className:"w-full rounded-md border-gray-300 p-3 bg-white border font-medium",value:r,onChange:B=>i(B.target.value)}):S.jsxs("select",{className:"w-full rounded-md border-gray-300 p-3 appearance-none bg-white border font-medium",value:r,onChange:B=>i(B.target.value),children:[S.jsx("option",{value:"",children:"Selecione o local..."}),a.map((B,W)=>S.jsxs("option",{value:B.name,children:[B.name," - ",B.address]},W))]}),S.jsx(_s,{className:"absolute right-3 top-3.5 text-gray-400 pointer-events-none",size:20})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2 uppercase tracking-tight",children:"Foto Incio (Opcional)"}),S.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",children:[S.jsx("div",{className:"flex flex-col items-center justify-center pt-5 pb-6 text-center",children:_?S.jsx("img",{src:_,alt:"Preview",className:"h-28 object-contain rounded shadow-sm"}):S.jsxs(S.Fragment,{children:[S.jsx(tR,{className:"w-8 h-8 text-gray-400"}),S.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Clique para tirar foto"})]})}),S.jsx("input",{type:"file",className:"hidden",accept:"image/*",capture:"environment",onChange:B=>z(B,!1)})]})]})]}),S.jsx("div",{className:`p-8 rounded-xl text-center transition-all shadow-lg ${e?e.isPaused?"bg-orange-600 text-white":"bg-brand-900 text-white":"bg-brand-100"}`,children:e?S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:e.isPaused?"":"animate-pulse",children:[S.jsx("p",{className:"text-white/70 font-bold uppercase tracking-widest text-[10px] mb-1",children:e.isPaused?"Turno em Pausa / Break":"Turno em Andamento"}),S.jsx("div",{className:"text-5xl font-mono font-bold tracking-tighter",children:U(T)}),S.jsx("p",{className:"text-white/60 text-sm mt-2 font-medium",children:e.locationName})]}),S.jsxs("div",{className:"bg-white/10 p-4 rounded-lg text-left border border-white/5",children:[S.jsx("label",{className:"block text-xs font-bold text-white/70 mb-2 uppercase tracking-widest",children:"Foto Final (Opcional)"}),S.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-white/20 border-dashed rounded-lg cursor-pointer hover:bg-white/5 transition-colors",children:[S.jsx("div",{className:"flex flex-col items-center justify-center pt-5 pb-6 text-center",children:A?S.jsx("img",{src:A,alt:"Preview",className:"h-28 object-contain rounded shadow-sm"}):S.jsx(tR,{className:"w-8 h-8 text-white/40"})}),S.jsx("input",{type:"file",className:"hidden",accept:"image/*",capture:"environment",onChange:B=>z(B,!0)})]})]}),S.jsxs("div",{className:"flex gap-4",children:[S.jsxs(cn,{onClick:ue,variant:"secondary",className:`flex-1 font-bold ${e.isPaused?"bg-green-500 text-white border-none hover:bg-green-600":"bg-white text-orange-600 border-none"}`,disabled:u,children:[u?S.jsx(xr,{className:"animate-spin mr-2"}):e.isPaused?S.jsx(Gne,{size:20,className:"mr-2"}):S.jsx(qne,{size:20,className:"mr-2"}),e.isPaused?"Retomar":"Pausar"]}),S.jsxs(cn,{onClick:X,variant:"danger",className:"flex-1 shadow-xl font-bold bg-red-500 hover:bg-red-600 border-none",disabled:u,children:[u?S.jsx(xr,{className:"animate-spin mr-2"}):S.jsx(Xne,{size:20,className:"mr-2"}),"Finalizar"]})]})]}):S.jsxs("div",{className:"space-y-4",children:[S.jsxs(cn,{onClick:le,size:"lg",className:"w-full shadow-md py-4 text-xl",disabled:u,children:[u?S.jsx(xr,{className:"animate-spin mr-2"}):S.jsx(Hne,{className:"mr-2"}),u?"Verificando GPS...":"Submeter e Iniciar"]}),S.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-widest font-bold",children:"O GPS  obrigatrio para iniciar."})]})})]})};function n$(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=n$(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function mn(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=n$(t))&&(r&&(r+=" "),r+=e);return r}var pce=Array.isArray,To=pce,mce=typeof fv=="object"&&fv&&fv.Object===Object&&fv,r$=mce,gce=r$,yce=typeof self=="object"&&self&&self.Object===Object&&self,vce=gce||yce||Function("return this")(),Za=vce,wce=Za,_ce=wce.Symbol,Fy=_ce,B4=Fy,i$=Object.prototype,bce=i$.hasOwnProperty,xce=i$.toString,um=B4?B4.toStringTag:void 0;function Sce(t){var e=bce.call(t,um),n=t[um];try{t[um]=void 0;var r=!0}catch{}var i=xce.call(t);return r&&(e?t[um]=n:delete t[um]),i}var Ece=Sce,Ace=Object.prototype,Tce=Ace.toString;function Ice(t){return Tce.call(t)}var Pce=Ice,V4=Fy,Cce=Ece,Nce=Pce,kce="[object Null]",Rce="[object Undefined]",q4=V4?V4.toStringTag:void 0;function Oce(t){return t==null?t===void 0?Rce:kce:q4&&q4 in Object(t)?Cce(t):Nce(t)}var tu=Oce;function Mce(t){return t!=null&&typeof t=="object"}var nu=Mce,Lce=tu,Dce=nu,Fce="[object Symbol]";function Uce(t){return typeof t=="symbol"||Dce(t)&&Lce(t)==Fce}var hp=Uce,jce=To,$ce=hp,Bce=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Vce=/^\w*$/;function qce(t,e){if(jce(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||$ce(t)?!0:Vce.test(t)||!Bce.test(t)||e!=null&&t in Object(e)}var mI=qce;function zce(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var bc=zce;const pp=Un(bc);var Hce=tu,Gce=bc,Wce="[object AsyncFunction]",Kce="[object Function]",Yce="[object GeneratorFunction]",Jce="[object Proxy]";function Xce(t){if(!Gce(t))return!1;var e=Hce(t);return e==Kce||e==Yce||e==Wce||e==Jce}var gI=Xce;const Gt=Un(gI);var Qce=Za,Zce=Qce["__core-js_shared__"],efe=Zce,Ub=efe,z4=function(){var t=/[^.]+$/.exec(Ub&&Ub.keys&&Ub.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function tfe(t){return!!z4&&z4 in t}var nfe=tfe,rfe=Function.prototype,ife=rfe.toString;function ofe(t){if(t!=null){try{return ife.call(t)}catch{}try{return t+""}catch{}}return""}var o$=ofe,sfe=gI,afe=nfe,lfe=bc,ufe=o$,cfe=/[\\^$.*+?()[\]{}|]/g,ffe=/^\[object .+?Constructor\]$/,dfe=Function.prototype,hfe=Object.prototype,pfe=dfe.toString,mfe=hfe.hasOwnProperty,gfe=RegExp("^"+pfe.call(mfe).replace(cfe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function yfe(t){if(!lfe(t)||afe(t))return!1;var e=sfe(t)?gfe:ffe;return e.test(ufe(t))}var vfe=yfe;function wfe(t,e){return t==null?void 0:t[e]}var _fe=wfe,bfe=vfe,xfe=_fe;function Sfe(t,e){var n=xfe(t,e);return bfe(n)?n:void 0}var Yf=Sfe,Efe=Yf,Afe=Efe(Object,"create"),F_=Afe,H4=F_;function Tfe(){this.__data__=H4?H4(null):{},this.size=0}var Ife=Tfe;function Pfe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Cfe=Pfe,Nfe=F_,kfe="__lodash_hash_undefined__",Rfe=Object.prototype,Ofe=Rfe.hasOwnProperty;function Mfe(t){var e=this.__data__;if(Nfe){var n=e[t];return n===kfe?void 0:n}return Ofe.call(e,t)?e[t]:void 0}var Lfe=Mfe,Dfe=F_,Ffe=Object.prototype,Ufe=Ffe.hasOwnProperty;function jfe(t){var e=this.__data__;return Dfe?e[t]!==void 0:Ufe.call(e,t)}var $fe=jfe,Bfe=F_,Vfe="__lodash_hash_undefined__";function qfe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Bfe&&e===void 0?Vfe:e,this}var zfe=qfe,Hfe=Ife,Gfe=Cfe,Wfe=Lfe,Kfe=$fe,Yfe=zfe;function mp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}mp.prototype.clear=Hfe;mp.prototype.delete=Gfe;mp.prototype.get=Wfe;mp.prototype.has=Kfe;mp.prototype.set=Yfe;var Jfe=mp;function Xfe(){this.__data__=[],this.size=0}var Qfe=Xfe;function Zfe(t,e){return t===e||t!==t&&e!==e}var yI=Zfe,ede=yI;function tde(t,e){for(var n=t.length;n--;)if(ede(t[n][0],e))return n;return-1}var U_=tde,nde=U_,rde=Array.prototype,ide=rde.splice;function ode(t){var e=this.__data__,n=nde(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():ide.call(e,n,1),--this.size,!0}var sde=ode,ade=U_;function lde(t){var e=this.__data__,n=ade(e,t);return n<0?void 0:e[n][1]}var ude=lde,cde=U_;function fde(t){return cde(this.__data__,t)>-1}var dde=fde,hde=U_;function pde(t,e){var n=this.__data__,r=hde(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var mde=pde,gde=Qfe,yde=sde,vde=ude,wde=dde,_de=mde;function gp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}gp.prototype.clear=gde;gp.prototype.delete=yde;gp.prototype.get=vde;gp.prototype.has=wde;gp.prototype.set=_de;var j_=gp,bde=Yf,xde=Za,Sde=bde(xde,"Map"),vI=Sde,G4=Jfe,Ede=j_,Ade=vI;function Tde(){this.size=0,this.__data__={hash:new G4,map:new(Ade||Ede),string:new G4}}var Ide=Tde;function Pde(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Cde=Pde,Nde=Cde;function kde(t,e){var n=t.__data__;return Nde(e)?n[typeof e=="string"?"string":"hash"]:n.map}var $_=kde,Rde=$_;function Ode(t){var e=Rde(this,t).delete(t);return this.size-=e?1:0,e}var Mde=Ode,Lde=$_;function Dde(t){return Lde(this,t).get(t)}var Fde=Dde,Ude=$_;function jde(t){return Ude(this,t).has(t)}var $de=jde,Bde=$_;function Vde(t,e){var n=Bde(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var qde=Vde,zde=Ide,Hde=Mde,Gde=Fde,Wde=$de,Kde=qde;function yp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}yp.prototype.clear=zde;yp.prototype.delete=Hde;yp.prototype.get=Gde;yp.prototype.has=Wde;yp.prototype.set=Kde;var wI=yp,s$=wI,Yde="Expected a function";function _I(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Yde);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(_I.Cache||s$),n}_I.Cache=s$;var a$=_I;const Jde=Un(a$);var Xde=a$,Qde=500;function Zde(t){var e=Xde(t,function(r){return n.size===Qde&&n.clear(),r}),n=e.cache;return e}var ehe=Zde,the=ehe,nhe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rhe=/\\(\\)?/g,ihe=the(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(nhe,function(n,r,i,o){e.push(i?o.replace(rhe,"$1"):r||n)}),e}),ohe=ihe;function she(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var bI=she,W4=Fy,ahe=bI,lhe=To,uhe=hp,K4=W4?W4.prototype:void 0,Y4=K4?K4.toString:void 0;function l$(t){if(typeof t=="string")return t;if(lhe(t))return ahe(t,l$)+"";if(uhe(t))return Y4?Y4.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var che=l$,fhe=che;function dhe(t){return t==null?"":fhe(t)}var u$=dhe,hhe=To,phe=mI,mhe=ohe,ghe=u$;function yhe(t,e){return hhe(t)?t:phe(t,e)?[t]:mhe(ghe(t))}var c$=yhe,vhe=hp;function whe(t){if(typeof t=="string"||vhe(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var B_=whe,_he=c$,bhe=B_;function xhe(t,e){e=_he(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[bhe(e[n++])];return n&&n==r?t:void 0}var xI=xhe,She=xI;function Ehe(t,e,n){var r=t==null?void 0:She(t,e);return r===void 0?n:r}var f$=Ehe;const Ts=Un(f$);function Ahe(t){return t==null}var The=Ahe;const gn=Un(The);var Ihe=tu,Phe=To,Che=nu,Nhe="[object String]";function khe(t){return typeof t=="string"||!Phe(t)&&Che(t)&&Ihe(t)==Nhe}var Rhe=khe;const kf=Un(Rhe);var d$={exports:{}},Cn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SI=Symbol.for("react.element"),EI=Symbol.for("react.portal"),V_=Symbol.for("react.fragment"),q_=Symbol.for("react.strict_mode"),z_=Symbol.for("react.profiler"),H_=Symbol.for("react.provider"),G_=Symbol.for("react.context"),Ohe=Symbol.for("react.server_context"),W_=Symbol.for("react.forward_ref"),K_=Symbol.for("react.suspense"),Y_=Symbol.for("react.suspense_list"),J_=Symbol.for("react.memo"),X_=Symbol.for("react.lazy"),Mhe=Symbol.for("react.offscreen"),h$;h$=Symbol.for("react.module.reference");function Rs(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case SI:switch(t=t.type,t){case V_:case z_:case q_:case K_:case Y_:return t;default:switch(t=t&&t.$$typeof,t){case Ohe:case G_:case W_:case X_:case J_:case H_:return t;default:return e}}case EI:return e}}}Cn.ContextConsumer=G_;Cn.ContextProvider=H_;Cn.Element=SI;Cn.ForwardRef=W_;Cn.Fragment=V_;Cn.Lazy=X_;Cn.Memo=J_;Cn.Portal=EI;Cn.Profiler=z_;Cn.StrictMode=q_;Cn.Suspense=K_;Cn.SuspenseList=Y_;Cn.isAsyncMode=function(){return!1};Cn.isConcurrentMode=function(){return!1};Cn.isContextConsumer=function(t){return Rs(t)===G_};Cn.isContextProvider=function(t){return Rs(t)===H_};Cn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===SI};Cn.isForwardRef=function(t){return Rs(t)===W_};Cn.isFragment=function(t){return Rs(t)===V_};Cn.isLazy=function(t){return Rs(t)===X_};Cn.isMemo=function(t){return Rs(t)===J_};Cn.isPortal=function(t){return Rs(t)===EI};Cn.isProfiler=function(t){return Rs(t)===z_};Cn.isStrictMode=function(t){return Rs(t)===q_};Cn.isSuspense=function(t){return Rs(t)===K_};Cn.isSuspenseList=function(t){return Rs(t)===Y_};Cn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===V_||t===z_||t===q_||t===K_||t===Y_||t===Mhe||typeof t=="object"&&t!==null&&(t.$$typeof===X_||t.$$typeof===J_||t.$$typeof===H_||t.$$typeof===G_||t.$$typeof===W_||t.$$typeof===h$||t.getModuleId!==void 0)};Cn.typeOf=Rs;d$.exports=Cn;var Lhe=d$.exports,Dhe=tu,Fhe=nu,Uhe="[object Number]";function jhe(t){return typeof t=="number"||Fhe(t)&&Dhe(t)==Uhe}var p$=jhe;const $he=Un(p$);var Bhe=p$;function Vhe(t){return Bhe(t)&&t!=+t}var qhe=Vhe;const Uy=Un(qhe);var Js=function(e){return e===0?0:e>0?1:-1},sf=function(e){return kf(e)&&e.indexOf("%")===e.length-1},He=function(e){return $he(e)&&!Uy(e)},zhe=function(e){return gn(e)},Zr=function(e){return He(e)||kf(e)},Hhe=0,Q_=function(e){var n=++Hhe;return"".concat(e||"").concat(n)},Rf=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!He(e)&&!kf(e))return r;var o;if(sf(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return Uy(o)&&(o=r),i&&o>n&&(o=n),o},Bu=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Ghe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},gd=function(e,n){return He(e)&&He(n)?function(r){return e+r*(n-e)}:function(){return n}};function TE(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Ts(r,e))===n})}var Whe=function(e,n){return He(e)&&He(n)?e-n:kf(e)&&kf(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function uh(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function IE(t){"@babel/helpers - typeof";return IE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IE(t)}var Khe=["viewBox","children"],Yhe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],J4=["points","pathLength"],jb={svg:Khe,polygon:J4,polyline:J4},AI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],D1=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(ce.isValidElement(e)&&(r=e.props),!pp(r))return null;var i={};return Object.keys(r).forEach(function(o){AI.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},Jhe=function(e,n,r){return function(i){return e(n,r,i),null}},F1=function(e,n,r){if(!pp(e)||IE(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];AI.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=Jhe(s,n,r))}),i},Xhe=["children"],Qhe=["children"];function X4(t,e){if(t==null)return{};var n=Zhe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Q4={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ll=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Z4=null,$b=null,TI=function t(e){if(e===Z4&&Array.isArray($b))return $b;var n=[];return ce.Children.forEach(e,function(r){gn(r)||(Lhe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),$b=n,Z4=e,n};function ta(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Ll(i)}):r=[Ll(e)],TI(t).forEach(function(i){var o=Ts(i,"type.displayName")||Ts(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Ho(t,e){var n=ta(t,e);return n&&n[0]}var e3=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!He(r)||r<=0||!He(i)||i<=0)},epe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],tpe=function(e){return e&&e.type&&kf(e.type)&&epe.indexOf(e.type)>=0},npe=function(e,n,r,i){var o,s=(o=jb==null?void 0:jb[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Gt(e)&&(i&&s.includes(n)||Yhe.includes(n))||r&&AI.includes(n)},pn=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(ce.isValidElement(e)&&(i=e.props),!pp(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;npe((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},PE=function t(e,n){if(e===n)return!0;var r=ce.Children.count(e);if(r!==ce.Children.count(n))return!1;if(r===0)return!0;if(r===1)return t3(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!t3(o,s))return!1}return!0},t3=function(e,n){if(gn(e)&&gn(n))return!0;if(!gn(e)&&!gn(n)){var r=e.props||{},i=r.children,o=X4(r,Xhe),s=n.props||{},a=s.children,l=X4(s,Qhe);return i&&a?uh(o,l)&&PE(i,a):!i&&!a?uh(o,l):!1}return!1},n3=function(e,n){var r=[],i={};return TI(e).forEach(function(o,s){if(tpe(o))r.push(o);else if(o){var a=Ll(o.type),l=n[a]||{},u=l.handler,c=l.once;if(u&&(!c||!i[a])){var f=u(o,a,s);r.push(f),i[a]=!0}}}),r},rpe=function(e){var n=e&&e.type;return n&&Q4[n]?Q4[n]:null},ipe=function(e,n){return TI(n).indexOf(e)},ope=["children","width","height","viewBox","className","style","title","desc"];function CE(){return CE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CE.apply(this,arguments)}function spe(t,e){if(t==null)return{};var n=ape(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ape(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function NE(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,u=spe(t,ope),c=i||{width:n,height:r,x:0,y:0},f=mn("recharts-surface",o);return xe.createElement("svg",CE({},pn(u,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),xe.createElement("title",null,a),xe.createElement("desc",null,l),e)}var lpe=["children","className"];function kE(){return kE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kE.apply(this,arguments)}function upe(t,e){if(t==null)return{};var n=cpe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ci=xe.forwardRef(function(t,e){var n=t.children,r=t.className,i=upe(t,lpe),o=mn("recharts-layer",r);return xe.createElement("g",kE({className:o},pn(i,!0),{ref:e}),n)}),Dl=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function fpe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var dpe=fpe,hpe=dpe;function ppe(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:hpe(t,e,n)}var mpe=ppe,gpe="\\ud800-\\udfff",ype="\\u0300-\\u036f",vpe="\\ufe20-\\ufe2f",wpe="\\u20d0-\\u20ff",_pe=ype+vpe+wpe,bpe="\\ufe0e\\ufe0f",xpe="\\u200d",Spe=RegExp("["+xpe+gpe+_pe+bpe+"]");function Epe(t){return Spe.test(t)}var m$=Epe;function Ape(t){return t.split("")}var Tpe=Ape,g$="\\ud800-\\udfff",Ipe="\\u0300-\\u036f",Ppe="\\ufe20-\\ufe2f",Cpe="\\u20d0-\\u20ff",Npe=Ipe+Ppe+Cpe,kpe="\\ufe0e\\ufe0f",Rpe="["+g$+"]",RE="["+Npe+"]",OE="\\ud83c[\\udffb-\\udfff]",Ope="(?:"+RE+"|"+OE+")",y$="[^"+g$+"]",v$="(?:\\ud83c[\\udde6-\\uddff]){2}",w$="[\\ud800-\\udbff][\\udc00-\\udfff]",Mpe="\\u200d",_$=Ope+"?",b$="["+kpe+"]?",Lpe="(?:"+Mpe+"(?:"+[y$,v$,w$].join("|")+")"+b$+_$+")*",Dpe=b$+_$+Lpe,Fpe="(?:"+[y$+RE+"?",RE,v$,w$,Rpe].join("|")+")",Upe=RegExp(OE+"(?="+OE+")|"+Fpe+Dpe,"g");function jpe(t){return t.match(Upe)||[]}var $pe=jpe,Bpe=Tpe,Vpe=m$,qpe=$pe;function zpe(t){return Vpe(t)?qpe(t):Bpe(t)}var Hpe=zpe,Gpe=mpe,Wpe=m$,Kpe=Hpe,Ype=u$;function Jpe(t){return function(e){e=Ype(e);var n=Wpe(e)?Kpe(e):void 0,r=n?n[0]:e.charAt(0),i=n?Gpe(n,1).join(""):e.slice(1);return r[t]()+i}}var Xpe=Jpe,Qpe=Xpe,Zpe=Qpe("toUpperCase"),eme=Zpe;const Z_=Un(eme);function qn(t){return function(){return t}}const x$=Math.cos,U1=Math.sin,ua=Math.sqrt,j1=Math.PI,e2=2*j1,ME=Math.PI,LE=2*ME,Kc=1e-6,tme=LE-Kc;function S$(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function nme(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return S$;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class rme{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?S$:nme(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,u=i-n,c=s-e,f=a-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>Kc)if(!(Math.abs(f*l-u*c)>Kc)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let h=r-s,v=i-a,_=l*l+u*u,w=h*h+v*v,b=Math.sqrt(_),E=Math.sqrt(d),A=o*Math.tan((ME-Math.acos((_+d-w)/(2*b*E)))/2),C=A/E,R=A/b;Math.abs(C-1)>Kc&&this._append`L${e+C*c},${n+C*f}`,this._append`A${o},${o},0,0,${+(f*h>c*v)},${this._x1=e+R*l},${this._y1=n+R*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,c=n+l,f=1^s,d=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Kc||Math.abs(this._y1-c)>Kc)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%LE+LE),d>tme?this._append`A${r},${r},0,1,${f},${e-a},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:d>Kc&&this._append`A${r},${r},0,${+(d>=ME)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function II(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new rme(e)}function PI(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function E$(t){this._context=t}E$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function t2(t){return new E$(t)}function A$(t){return t[0]}function T$(t){return t[1]}function I$(t,e){var n=qn(!0),r=null,i=t2,o=null,s=II(a);t=typeof t=="function"?t:t===void 0?A$:qn(t),e=typeof e=="function"?e:e===void 0?T$:qn(e);function a(l){var u,c=(l=PI(l)).length,f,d=!1,h;for(r==null&&(o=i(h=s())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(f,u,l),+e(f,u,l));if(h)return o=null,h+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:qn(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:qn(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:qn(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function Vv(t,e,n){var r=null,i=qn(!0),o=null,s=t2,a=null,l=II(u);t=typeof t=="function"?t:t===void 0?A$:qn(+t),e=typeof e=="function"?e:qn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?T$:qn(+n);function u(f){var d,h,v,_=(f=PI(f)).length,w,b=!1,E,A=new Array(_),C=new Array(_);for(o==null&&(a=s(E=l())),d=0;d<=_;++d){if(!(d<_&&i(w=f[d],d,f))===b)if(b=!b)h=d,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),v=d-1;v>=h;--v)a.point(A[v],C[v]);a.lineEnd(),a.areaEnd()}b&&(A[d]=+t(w,d,f),C[d]=+e(w,d,f),a.point(r?+r(w,d,f):A[d],n?+n(w,d,f):C[d]))}if(E)return a=null,E+""||null}function c(){return I$().defined(i).curve(s).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:qn(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:qn(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:qn(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:qn(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:qn(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:qn(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:qn(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),u):s},u.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),u):o},u}class P${constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function ime(t){return new P$(t,!0)}function ome(t){return new P$(t,!1)}const CI={draw(t,e){const n=ua(e/j1);t.moveTo(n,0),t.arc(0,0,n,0,e2)}},sme={draw(t,e){const n=ua(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},C$=ua(1/3),ame=C$*2,lme={draw(t,e){const n=ua(e/ame),r=n*C$;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},ume={draw(t,e){const n=ua(e),r=-n/2;t.rect(r,r,n,n)}},cme=.8908130915292852,N$=U1(j1/10)/U1(7*j1/10),fme=U1(e2/10)*N$,dme=-x$(e2/10)*N$,hme={draw(t,e){const n=ua(e*cme),r=fme*n,i=dme*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=e2*o/5,a=x$(s),l=U1(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},Bb=ua(3),pme={draw(t,e){const n=-ua(e/(Bb*3));t.moveTo(0,n*2),t.lineTo(-Bb*n,-n),t.lineTo(Bb*n,-n),t.closePath()}},ms=-.5,gs=ua(3)/2,DE=1/ua(12),mme=(DE/2+1)*3,gme={draw(t,e){const n=ua(e/mme),r=n/2,i=n*DE,o=r,s=n*DE+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(ms*r-gs*i,gs*r+ms*i),t.lineTo(ms*o-gs*s,gs*o+ms*s),t.lineTo(ms*a-gs*l,gs*a+ms*l),t.lineTo(ms*r+gs*i,ms*i-gs*r),t.lineTo(ms*o+gs*s,ms*s-gs*o),t.lineTo(ms*a+gs*l,ms*l-gs*a),t.closePath()}};function yme(t,e){let n=null,r=II(i);t=typeof t=="function"?t:qn(t||CI),e=typeof e=="function"?e:qn(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:qn(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:qn(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function $1(){}function B1(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function k$(t){this._context=t}k$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:B1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:B1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function vme(t){return new k$(t)}function R$(t){this._context=t}R$.prototype={areaStart:$1,areaEnd:$1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:B1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function wme(t){return new R$(t)}function O$(t){this._context=t}O$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:B1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _me(t){return new O$(t)}function M$(t){this._context=t}M$.prototype={areaStart:$1,areaEnd:$1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function bme(t){return new M$(t)}function r3(t){return t<0?-1:1}function i3(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(r3(o)+r3(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function o3(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Vb(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function V1(t){this._context=t}V1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Vb(this,this._t0,o3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Vb(this,o3(this,n=i3(this,t,e)),n);break;default:Vb(this,this._t0,n=i3(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function L$(t){this._context=new D$(t)}(L$.prototype=Object.create(V1.prototype)).point=function(t,e){V1.prototype.point.call(this,e,t)};function D$(t){this._context=t}D$.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function xme(t){return new V1(t)}function Sme(t){return new L$(t)}function F$(t){this._context=t}F$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=s3(t),i=s3(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function s3(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Eme(t){return new F$(t)}function n2(t,e){this._context=t,this._t=e}n2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Ame(t){return new n2(t,.5)}function Tme(t){return new n2(t,0)}function Ime(t){return new n2(t,1)}function Lh(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function FE(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Pme(t,e){return t[e]}function Cme(t){const e=[];return e.key=t,e}function Nme(){var t=qn([]),e=FE,n=Lh,r=Pme;function i(o){var s=Array.from(t.apply(this,arguments),Cme),a,l=s.length,u=-1,c;for(const f of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(f,s[a].key,u,o)]).data=f;for(a=0,c=PI(e(s));a<l;++a)s[c[a]].index=a;return n(s,c),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:qn(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:qn(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?FE:typeof o=="function"?o:qn(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Lh,i):n},i}function kme(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Lh(t,e)}}function Rme(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}Lh(t,e)}}function Ome(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,u=0;a<s;++a){for(var c=t[e[a]],f=c[r][1]||0,d=c[r-1][1]||0,h=(f-d)/2,v=0;v<a;++v){var _=t[e[v]],w=_[r][1]||0,b=_[r-1][1]||0;h+=w-b}l+=f,u+=h*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Lh(t,e)}}function Og(t){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Og(t)}var Mme=["type","size","sizeType"];function UE(){return UE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UE.apply(this,arguments)}function a3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function l3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a3(Object(n),!0).forEach(function(r){Lme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lme(t,e,n){return e=Dme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dme(t){var e=Fme(t,"string");return Og(e)=="symbol"?e:e+""}function Fme(t,e){if(Og(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Og(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ume(t,e){if(t==null)return{};var n=jme(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var U$={symbolCircle:CI,symbolCross:sme,symbolDiamond:lme,symbolSquare:ume,symbolStar:hme,symbolTriangle:pme,symbolWye:gme},$me=Math.PI/180,Bme=function(e){var n="symbol".concat(Z_(e));return U$[n]||CI},Vme=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*$me;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},qme=function(e,n){U$["symbol".concat(Z_(e))]=n},NI=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=Ume(e,Mme),u=l3(l3({},l),{},{type:r,size:o,sizeType:a}),c=function(){var w=Bme(r),b=yme().type(w).size(Vme(o,a,r));return b()},f=u.className,d=u.cx,h=u.cy,v=pn(u,!0);return d===+d&&h===+h&&o===+o?xe.createElement("path",UE({},v,{className:mn("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(h,")"),d:c()})):null};NI.registerSymbol=qme;function Dh(t){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(t)}function jE(){return jE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jE.apply(this,arguments)}function u3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zme(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u3(Object(n),!0).forEach(function(r){Mg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$$(r.key),r)}}function Wme(t,e,n){return e&&Gme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kme(t,e,n){return e=q1(e),Yme(t,j$()?Reflect.construct(e,n||[],q1(t).constructor):e.apply(t,n))}function Yme(t,e){if(e&&(Dh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jme(t)}function Jme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j$=function(){return!!t})()}function q1(t){return q1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},q1(t)}function Xme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$E(t,e)}function $E(t,e){return $E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$E(t,e)}function Mg(t,e,n){return e=$$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $$(t){var e=Qme(t,"string");return Dh(e)=="symbol"?e:e+""}function Qme(t,e){if(Dh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ys=32,kI=function(t){function e(){return Hme(this,e),Kme(this,e,arguments)}return Xme(e,t),Wme(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=ys/2,s=ys/6,a=ys/3,l=r.inactive?i:r.color;if(r.type==="plainline")return xe.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:ys,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return xe.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(ys,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return xe.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ys/8,"h").concat(ys,"v").concat(ys*3/4,"h").concat(-ys,"z"),className:"recharts-legend-icon"});if(xe.isValidElement(r.legendIcon)){var u=zme({},r);return delete u.legendIcon,xe.cloneElement(r.legendIcon,u)}return xe.createElement(NI,{fill:l,cx:o,cy:o,size:ys,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:ys,height:ys},f={display:a==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(h,v){var _=h.formatter||l,w=mn(Mg(Mg({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",h.inactive));if(h.type==="none")return null;var b=Gt(h.value)?null:h.value;Dl(!Gt(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var E=h.inactive?u:h.color;return xe.createElement("li",jE({className:w,style:f,key:"legend-item-".concat(v)},F1(r.props,h,v)),xe.createElement(NE,{width:s,height:s,viewBox:c,style:d},r.renderIcon(h)),xe.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},_?_(b,h,v):b))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return xe.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(ce.PureComponent);Mg(kI,"displayName","Legend");Mg(kI,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Zme=j_;function ege(){this.__data__=new Zme,this.size=0}var tge=ege;function nge(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var rge=nge;function ige(t){return this.__data__.get(t)}var oge=ige;function sge(t){return this.__data__.has(t)}var age=sge,lge=j_,uge=vI,cge=wI,fge=200;function dge(t,e){var n=this.__data__;if(n instanceof lge){var r=n.__data__;if(!uge||r.length<fge-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new cge(r)}return n.set(t,e),this.size=n.size,this}var hge=dge,pge=j_,mge=tge,gge=rge,yge=oge,vge=age,wge=hge;function vp(t){var e=this.__data__=new pge(t);this.size=e.size}vp.prototype.clear=mge;vp.prototype.delete=gge;vp.prototype.get=yge;vp.prototype.has=vge;vp.prototype.set=wge;var B$=vp,_ge="__lodash_hash_undefined__";function bge(t){return this.__data__.set(t,_ge),this}var xge=bge;function Sge(t){return this.__data__.has(t)}var Ege=Sge,Age=wI,Tge=xge,Ige=Ege;function z1(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Age;++e<n;)this.add(t[e])}z1.prototype.add=z1.prototype.push=Tge;z1.prototype.has=Ige;var V$=z1;function Pge(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var q$=Pge;function Cge(t,e){return t.has(e)}var z$=Cge,Nge=V$,kge=q$,Rge=z$,Oge=1,Mge=2;function Lge(t,e,n,r,i,o){var s=n&Oge,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,d=!0,h=n&Mge?new Nge:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var v=t[f],_=e[f];if(r)var w=s?r(_,v,f,e,t,o):r(v,_,f,t,e,o);if(w!==void 0){if(w)continue;d=!1;break}if(h){if(!kge(e,function(b,E){if(!Rge(h,E)&&(v===b||i(v,b,n,r,o)))return h.push(E)})){d=!1;break}}else if(!(v===_||i(v,_,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var H$=Lge,Dge=Za,Fge=Dge.Uint8Array,Uge=Fge;function jge(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var $ge=jge;function Bge(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var RI=Bge,c3=Fy,f3=Uge,Vge=yI,qge=H$,zge=$ge,Hge=RI,Gge=1,Wge=2,Kge="[object Boolean]",Yge="[object Date]",Jge="[object Error]",Xge="[object Map]",Qge="[object Number]",Zge="[object RegExp]",eye="[object Set]",tye="[object String]",nye="[object Symbol]",rye="[object ArrayBuffer]",iye="[object DataView]",d3=c3?c3.prototype:void 0,qb=d3?d3.valueOf:void 0;function oye(t,e,n,r,i,o,s){switch(n){case iye:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case rye:return!(t.byteLength!=e.byteLength||!o(new f3(t),new f3(e)));case Kge:case Yge:case Qge:return Vge(+t,+e);case Jge:return t.name==e.name&&t.message==e.message;case Zge:case tye:return t==e+"";case Xge:var a=zge;case eye:var l=r&Gge;if(a||(a=Hge),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=Wge,s.set(t,e);var c=qge(a(t),a(e),r,i,o,s);return s.delete(t),c;case nye:if(qb)return qb.call(t)==qb.call(e)}return!1}var sye=oye;function aye(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var G$=aye,lye=G$,uye=To;function cye(t,e,n){var r=e(t);return uye(t)?r:lye(r,n(t))}var fye=cye;function dye(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var hye=dye;function pye(){return[]}var mye=pye,gye=hye,yye=mye,vye=Object.prototype,wye=vye.propertyIsEnumerable,h3=Object.getOwnPropertySymbols,_ye=h3?function(t){return t==null?[]:(t=Object(t),gye(h3(t),function(e){return wye.call(t,e)}))}:yye,bye=_ye;function xye(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Sye=xye,Eye=tu,Aye=nu,Tye="[object Arguments]";function Iye(t){return Aye(t)&&Eye(t)==Tye}var Pye=Iye,p3=Pye,Cye=nu,W$=Object.prototype,Nye=W$.hasOwnProperty,kye=W$.propertyIsEnumerable,Rye=p3(function(){return arguments}())?p3:function(t){return Cye(t)&&Nye.call(t,"callee")&&!kye.call(t,"callee")},OI=Rye,H1={exports:{}};function Oye(){return!1}var Mye=Oye;H1.exports;(function(t,e){var n=Za,r=Mye,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(H1,H1.exports);var K$=H1.exports,Lye=9007199254740991,Dye=/^(?:0|[1-9]\d*)$/;function Fye(t,e){var n=typeof t;return e=e??Lye,!!e&&(n=="number"||n!="symbol"&&Dye.test(t))&&t>-1&&t%1==0&&t<e}var MI=Fye,Uye=9007199254740991;function jye(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Uye}var LI=jye,$ye=tu,Bye=LI,Vye=nu,qye="[object Arguments]",zye="[object Array]",Hye="[object Boolean]",Gye="[object Date]",Wye="[object Error]",Kye="[object Function]",Yye="[object Map]",Jye="[object Number]",Xye="[object Object]",Qye="[object RegExp]",Zye="[object Set]",eve="[object String]",tve="[object WeakMap]",nve="[object ArrayBuffer]",rve="[object DataView]",ive="[object Float32Array]",ove="[object Float64Array]",sve="[object Int8Array]",ave="[object Int16Array]",lve="[object Int32Array]",uve="[object Uint8Array]",cve="[object Uint8ClampedArray]",fve="[object Uint16Array]",dve="[object Uint32Array]",Kn={};Kn[ive]=Kn[ove]=Kn[sve]=Kn[ave]=Kn[lve]=Kn[uve]=Kn[cve]=Kn[fve]=Kn[dve]=!0;Kn[qye]=Kn[zye]=Kn[nve]=Kn[Hye]=Kn[rve]=Kn[Gye]=Kn[Wye]=Kn[Kye]=Kn[Yye]=Kn[Jye]=Kn[Xye]=Kn[Qye]=Kn[Zye]=Kn[eve]=Kn[tve]=!1;function hve(t){return Vye(t)&&Bye(t.length)&&!!Kn[$ye(t)]}var pve=hve;function mve(t){return function(e){return t(e)}}var Y$=mve,G1={exports:{}};G1.exports;(function(t,e){var n=r$,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(G1,G1.exports);var gve=G1.exports,yve=pve,vve=Y$,m3=gve,g3=m3&&m3.isTypedArray,wve=g3?vve(g3):yve,J$=wve,_ve=Sye,bve=OI,xve=To,Sve=K$,Eve=MI,Ave=J$,Tve=Object.prototype,Ive=Tve.hasOwnProperty;function Pve(t,e){var n=xve(t),r=!n&&bve(t),i=!n&&!r&&Sve(t),o=!n&&!r&&!i&&Ave(t),s=n||r||i||o,a=s?_ve(t.length,String):[],l=a.length;for(var u in t)(e||Ive.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Eve(u,l)))&&a.push(u);return a}var Cve=Pve,Nve=Object.prototype;function kve(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Nve;return t===n}var Rve=kve;function Ove(t,e){return function(n){return t(e(n))}}var X$=Ove,Mve=X$,Lve=Mve(Object.keys,Object),Dve=Lve,Fve=Rve,Uve=Dve,jve=Object.prototype,$ve=jve.hasOwnProperty;function Bve(t){if(!Fve(t))return Uve(t);var e=[];for(var n in Object(t))$ve.call(t,n)&&n!="constructor"&&e.push(n);return e}var Vve=Bve,qve=gI,zve=LI;function Hve(t){return t!=null&&zve(t.length)&&!qve(t)}var jy=Hve,Gve=Cve,Wve=Vve,Kve=jy;function Yve(t){return Kve(t)?Gve(t):Wve(t)}var r2=Yve,Jve=fye,Xve=bye,Qve=r2;function Zve(t){return Jve(t,Qve,Xve)}var e0e=Zve,y3=e0e,t0e=1,n0e=Object.prototype,r0e=n0e.hasOwnProperty;function i0e(t,e,n,r,i,o){var s=n&t0e,a=y3(t),l=a.length,u=y3(e),c=u.length;if(l!=c&&!s)return!1;for(var f=l;f--;){var d=a[f];if(!(s?d in e:r0e.call(e,d)))return!1}var h=o.get(t),v=o.get(e);if(h&&v)return h==e&&v==t;var _=!0;o.set(t,e),o.set(e,t);for(var w=s;++f<l;){d=a[f];var b=t[d],E=e[d];if(r)var A=s?r(E,b,d,e,t,o):r(b,E,d,t,e,o);if(!(A===void 0?b===E||i(b,E,n,r,o):A)){_=!1;break}w||(w=d=="constructor")}if(_&&!w){var C=t.constructor,R=e.constructor;C!=R&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof R=="function"&&R instanceof R)&&(_=!1)}return o.delete(t),o.delete(e),_}var o0e=i0e,s0e=Yf,a0e=Za,l0e=s0e(a0e,"DataView"),u0e=l0e,c0e=Yf,f0e=Za,d0e=c0e(f0e,"Promise"),h0e=d0e,p0e=Yf,m0e=Za,g0e=p0e(m0e,"Set"),Q$=g0e,y0e=Yf,v0e=Za,w0e=y0e(v0e,"WeakMap"),_0e=w0e,BE=u0e,VE=vI,qE=h0e,zE=Q$,HE=_0e,Z$=tu,wp=o$,v3="[object Map]",b0e="[object Object]",w3="[object Promise]",_3="[object Set]",b3="[object WeakMap]",x3="[object DataView]",x0e=wp(BE),S0e=wp(VE),E0e=wp(qE),A0e=wp(zE),T0e=wp(HE),Yc=Z$;(BE&&Yc(new BE(new ArrayBuffer(1)))!=x3||VE&&Yc(new VE)!=v3||qE&&Yc(qE.resolve())!=w3||zE&&Yc(new zE)!=_3||HE&&Yc(new HE)!=b3)&&(Yc=function(t){var e=Z$(t),n=e==b0e?t.constructor:void 0,r=n?wp(n):"";if(r)switch(r){case x0e:return x3;case S0e:return v3;case E0e:return w3;case A0e:return _3;case T0e:return b3}return e});var I0e=Yc,zb=B$,P0e=H$,C0e=sye,N0e=o0e,S3=I0e,E3=To,A3=K$,k0e=J$,R0e=1,T3="[object Arguments]",I3="[object Array]",qv="[object Object]",O0e=Object.prototype,P3=O0e.hasOwnProperty;function M0e(t,e,n,r,i,o){var s=E3(t),a=E3(e),l=s?I3:S3(t),u=a?I3:S3(e);l=l==T3?qv:l,u=u==T3?qv:u;var c=l==qv,f=u==qv,d=l==u;if(d&&A3(t)){if(!A3(e))return!1;s=!0,c=!1}if(d&&!c)return o||(o=new zb),s||k0e(t)?P0e(t,e,n,r,i,o):C0e(t,e,l,n,r,i,o);if(!(n&R0e)){var h=c&&P3.call(t,"__wrapped__"),v=f&&P3.call(e,"__wrapped__");if(h||v){var _=h?t.value():t,w=v?e.value():e;return o||(o=new zb),i(_,w,n,r,o)}}return d?(o||(o=new zb),N0e(t,e,n,r,i,o)):!1}var L0e=M0e,D0e=L0e,C3=nu;function eB(t,e,n,r,i){return t===e?!0:t==null||e==null||!C3(t)&&!C3(e)?t!==t&&e!==e:D0e(t,e,n,r,eB,i)}var DI=eB,F0e=B$,U0e=DI,j0e=1,$0e=2;function B0e(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],u=t[l],c=a[1];if(s&&a[2]){if(u===void 0&&!(l in t))return!1}else{var f=new F0e;if(r)var d=r(u,c,l,t,e,f);if(!(d===void 0?U0e(c,u,j0e|$0e,r,f):d))return!1}}return!0}var V0e=B0e,q0e=bc;function z0e(t){return t===t&&!q0e(t)}var tB=z0e,H0e=tB,G0e=r2;function W0e(t){for(var e=G0e(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,H0e(i)]}return e}var K0e=W0e;function Y0e(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var nB=Y0e,J0e=V0e,X0e=K0e,Q0e=nB;function Z0e(t){var e=X0e(t);return e.length==1&&e[0][2]?Q0e(e[0][0],e[0][1]):function(n){return n===t||J0e(n,t,e)}}var e1e=Z0e;function t1e(t,e){return t!=null&&e in Object(t)}var n1e=t1e,r1e=c$,i1e=OI,o1e=To,s1e=MI,a1e=LI,l1e=B_;function u1e(t,e,n){e=r1e(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=l1e(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&a1e(i)&&s1e(s,i)&&(o1e(t)||i1e(t)))}var c1e=u1e,f1e=n1e,d1e=c1e;function h1e(t,e){return t!=null&&d1e(t,e,f1e)}var p1e=h1e,m1e=DI,g1e=f$,y1e=p1e,v1e=mI,w1e=tB,_1e=nB,b1e=B_,x1e=1,S1e=2;function E1e(t,e){return v1e(t)&&w1e(e)?_1e(b1e(t),e):function(n){var r=g1e(n,t);return r===void 0&&r===e?y1e(n,t):m1e(e,r,x1e|S1e)}}var A1e=E1e;function T1e(t){return t}var _p=T1e;function I1e(t){return function(e){return e==null?void 0:e[t]}}var P1e=I1e,C1e=xI;function N1e(t){return function(e){return C1e(e,t)}}var k1e=N1e,R1e=P1e,O1e=k1e,M1e=mI,L1e=B_;function D1e(t){return M1e(t)?R1e(L1e(t)):O1e(t)}var F1e=D1e,U1e=e1e,j1e=A1e,$1e=_p,B1e=To,V1e=F1e;function q1e(t){return typeof t=="function"?t:t==null?$1e:typeof t=="object"?B1e(t)?j1e(t[0],t[1]):U1e(t):V1e(t)}var xc=q1e;function z1e(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var rB=z1e;function H1e(t){return t!==t}var G1e=H1e;function W1e(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var K1e=W1e,Y1e=rB,J1e=G1e,X1e=K1e;function Q1e(t,e,n){return e===e?X1e(t,e,n):Y1e(t,J1e,n)}var Z1e=Q1e,ewe=Z1e;function twe(t,e){var n=t==null?0:t.length;return!!n&&ewe(t,e,0)>-1}var nwe=twe;function rwe(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var iwe=rwe;function owe(){}var swe=owe,Hb=Q$,awe=swe,lwe=RI,uwe=1/0,cwe=Hb&&1/lwe(new Hb([,-0]))[1]==uwe?function(t){return new Hb(t)}:awe,fwe=cwe,dwe=V$,hwe=nwe,pwe=iwe,mwe=z$,gwe=fwe,ywe=RI,vwe=200;function wwe(t,e,n){var r=-1,i=hwe,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=pwe;else if(o>=vwe){var u=e?null:gwe(t);if(u)return ywe(u);s=!1,i=mwe,l=new dwe}else l=e?[]:a;e:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,s&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;e&&l.push(f),a.push(c)}else i(l,f,n)||(l!==a&&l.push(f),a.push(c))}return a}var _we=wwe,bwe=xc,xwe=_we;function Swe(t,e){return t&&t.length?xwe(t,bwe(e)):[]}var Ewe=Swe;const N3=Un(Ewe);function iB(t,e,n){return e===!0?N3(t,n):Gt(e)?N3(t,e):t}function Fh(t){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(t)}var Awe=["ref"];function k3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k3(Object(n),!0).forEach(function(r){i2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Twe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sB(r.key),r)}}function Iwe(t,e,n){return e&&R3(t.prototype,e),n&&R3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pwe(t,e,n){return e=W1(e),Cwe(t,oB()?Reflect.construct(e,n||[],W1(t).constructor):e.apply(t,n))}function Cwe(t,e){if(e&&(Fh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nwe(t)}function Nwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oB=function(){return!!t})()}function W1(t){return W1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},W1(t)}function kwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GE(t,e)}function GE(t,e){return GE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GE(t,e)}function i2(t,e,n){return e=sB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sB(t){var e=Rwe(t,"string");return Fh(e)=="symbol"?e:e+""}function Rwe(t,e){if(Fh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Owe(t,e){if(t==null)return{};var n=Mwe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Lwe(t){return t.value}function Dwe(t,e){if(xe.isValidElement(t))return xe.cloneElement(t,e);if(typeof t=="function")return xe.createElement(t,e);e.ref;var n=Owe(e,Awe);return xe.createElement(kI,n)}var O3=1,ch=function(t){function e(){var n;Twe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Pwe(this,e,[].concat(i)),i2(n,"lastBoundingBox",{width:-1,height:-1}),n}return kwe(e,t),Iwe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>O3||Math.abs(i.height-this.lastBoundingBox.height)>O3)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?gl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var h=this.getBBoxSnapshot();f={left:((u||0)-h.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var v=this.getBBoxSnapshot();d={top:((c||0)-v.height)/2}}else d=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return gl(gl({},f),d)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=gl(gl({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return xe.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){r.wrapperNode=h}},Dwe(o,gl(gl({},this.props),{},{payload:iB(c,u,Lwe)})))}}],[{key:"getWithHeight",value:function(r,i){var o=gl(gl({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&He(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(ce.PureComponent);i2(ch,"displayName","Legend");i2(ch,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var M3=Fy,Fwe=OI,Uwe=To,L3=M3?M3.isConcatSpreadable:void 0;function jwe(t){return Uwe(t)||Fwe(t)||!!(L3&&t&&t[L3])}var $we=jwe,Bwe=G$,Vwe=$we;function aB(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=Vwe),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?aB(a,e-1,n,r,i):Bwe(i,a):r||(i[i.length]=a)}return i}var lB=aB;function qwe(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var zwe=qwe,Hwe=zwe,Gwe=Hwe(),Wwe=Gwe,Kwe=Wwe,Ywe=r2;function Jwe(t,e){return t&&Kwe(t,e,Ywe)}var uB=Jwe,Xwe=jy;function Qwe(t,e){return function(n,r){if(n==null)return n;if(!Xwe(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var Zwe=Qwe,e_e=uB,t_e=Zwe,n_e=t_e(e_e),FI=n_e,r_e=FI,i_e=jy;function o_e(t,e){var n=-1,r=i_e(t)?Array(t.length):[];return r_e(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var cB=o_e;function s_e(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var a_e=s_e,D3=hp;function l_e(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=D3(t),s=e!==void 0,a=e===null,l=e===e,u=D3(e);if(!a&&!u&&!o&&t>e||o&&s&&l&&!a&&!u||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}var u_e=l_e,c_e=u_e;function f_e(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=c_e(i[r],o[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var d_e=f_e,Gb=bI,h_e=xI,p_e=xc,m_e=cB,g_e=a_e,y_e=Y$,v_e=d_e,w_e=_p,__e=To;function b_e(t,e,n){e.length?e=Gb(e,function(o){return __e(o)?function(s){return h_e(s,o.length===1?o[0]:o)}:o}):e=[w_e];var r=-1;e=Gb(e,y_e(p_e));var i=m_e(t,function(o,s,a){var l=Gb(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return g_e(i,function(o,s){return v_e(o,s,n)})}var x_e=b_e;function S_e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var E_e=S_e,A_e=E_e,F3=Math.max;function T_e(t,e,n){return e=F3(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=F3(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),A_e(t,this,a)}}var I_e=T_e;function P_e(t){return function(){return t}}var C_e=P_e,N_e=Yf,k_e=function(){try{var t=N_e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),fB=k_e,R_e=C_e,U3=fB,O_e=_p,M_e=U3?function(t,e){return U3(t,"toString",{configurable:!0,enumerable:!1,value:R_e(e),writable:!0})}:O_e,L_e=M_e,D_e=800,F_e=16,U_e=Date.now;function j_e(t){var e=0,n=0;return function(){var r=U_e(),i=F_e-(r-n);if(n=r,i>0){if(++e>=D_e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var $_e=j_e,B_e=L_e,V_e=$_e,q_e=V_e(B_e),z_e=q_e,H_e=_p,G_e=I_e,W_e=z_e;function K_e(t,e){return W_e(G_e(t,e,H_e),t+"")}var Y_e=K_e,J_e=yI,X_e=jy,Q_e=MI,Z_e=bc;function e2e(t,e,n){if(!Z_e(n))return!1;var r=typeof e;return(r=="number"?X_e(n)&&Q_e(e,n.length):r=="string"&&e in n)?J_e(n[e],t):!1}var o2=e2e,t2e=lB,n2e=x_e,r2e=Y_e,j3=o2,i2e=r2e(function(t,e){if(t==null)return[];var n=e.length;return n>1&&j3(t,e[0],e[1])?e=[]:n>2&&j3(e[0],e[1],e[2])&&(e=[e[0]]),n2e(t,t2e(e,1),[])}),o2e=i2e;const UI=Un(o2e);function Lg(t){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lg(t)}function WE(){return WE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WE.apply(this,arguments)}function s2e(t,e){return c2e(t)||u2e(t,e)||l2e(t,e)||a2e()}function a2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l2e(t,e){if(t){if(typeof t=="string")return $3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $3(t,e)}}function $3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u2e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function c2e(t){if(Array.isArray(t))return t}function B3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B3(Object(n),!0).forEach(function(r){f2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f2e(t,e,n){return e=d2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d2e(t){var e=h2e(t,"string");return Lg(e)=="symbol"?e:e+""}function h2e(t,e){if(Lg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function p2e(t){return Array.isArray(t)&&Zr(t[0])&&Zr(t[1])?t.join(" ~ "):t}var m2e=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,d=e.itemSorter,h=e.wrapperClassName,v=e.labelClassName,_=e.label,w=e.labelFormatter,b=e.accessibilityLayer,E=b===void 0?!1:b,A=function(){if(c&&c.length){var D={padding:0,margin:0},U=(d?UI(c,d):c).map(function(z,ee){if(z.type==="none")return null;var le=Wb({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},a),ue=z.formatter||f||p2e,X=z.value,ae=z.name,ye=X,me=ae;if(ue&&ye!=null&&me!=null){var B=ue(X,ae,z,ee,c);if(Array.isArray(B)){var W=s2e(B,2);ye=W[0],me=W[1]}else ye=B}return xe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ee),style:le},Zr(me)?xe.createElement("span",{className:"recharts-tooltip-item-name"},me):null,Zr(me)?xe.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,xe.createElement("span",{className:"recharts-tooltip-item-value"},ye),xe.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return xe.createElement("ul",{className:"recharts-tooltip-item-list",style:D},U)}return null},C=Wb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),R=Wb({margin:0},u),F=!gn(_),k=F?_:"",N=mn("recharts-default-tooltip",h),T=mn("recharts-tooltip-label",v);F&&w&&c!==void 0&&c!==null&&(k=w(_,c));var j=E?{role:"status","aria-live":"assertive"}:{};return xe.createElement("div",WE({className:N,style:C},j),xe.createElement("p",{className:T,style:R},xe.isValidElement(k)?k:"".concat(k)),A())};function Dg(t){"@babel/helpers - typeof";return Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dg(t)}function zv(t,e,n){return e=g2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g2e(t){var e=y2e(t,"string");return Dg(e)=="symbol"?e:e+""}function y2e(t,e){if(Dg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cm="recharts-tooltip-wrapper",v2e={visibility:"hidden"};function w2e(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return mn(cm,zv(zv(zv(zv({},"".concat(cm,"-right"),He(n)&&e&&He(e.x)&&n>=e.x),"".concat(cm,"-left"),He(n)&&e&&He(e.x)&&n<e.x),"".concat(cm,"-bottom"),He(r)&&e&&He(e.y)&&r>=e.y),"".concat(cm,"-top"),He(r)&&e&&He(e.y)&&r<e.y))}function V3(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&He(o[r]))return o[r];var c=n[r]-a-i,f=n[r]+i;if(e[r])return s[r]?c:f;if(s[r]){var d=c,h=l[r];return d<h?Math.max(f,l[r]):Math.max(c,l[r])}var v=f+a,_=l[r]+u;return v>_?Math.max(c,l[r]):Math.max(f,l[r])}function _2e(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function b2e(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,u,c,f;return s.height>0&&s.width>0&&n?(c=V3({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=V3({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=_2e({translateX:c,translateY:f,useTranslate3d:a})):u=v2e,{cssProperties:u,cssClasses:w2e({translateX:c,translateY:f,coordinate:n})}}function Uh(t){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uh(t)}function q3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q3(Object(n),!0).forEach(function(r){YE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S2e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hB(r.key),r)}}function E2e(t,e,n){return e&&S2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function A2e(t,e,n){return e=K1(e),T2e(t,dB()?Reflect.construct(e,n||[],K1(t).constructor):e.apply(t,n))}function T2e(t,e){if(e&&(Uh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I2e(t)}function I2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dB=function(){return!!t})()}function K1(t){return K1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},K1(t)}function P2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KE(t,e)}function KE(t,e){return KE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KE(t,e)}function YE(t,e,n){return e=hB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hB(t){var e=C2e(t,"string");return Uh(e)=="symbol"?e:e+""}function C2e(t,e){if(Uh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var H3=1,N2e=function(t){function e(){var n;x2e(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=A2e(this,e,[].concat(i)),YE(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),YE(n,"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return P2e(e,t),E2e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>H3||Math.abs(r.height-this.state.lastBoundingBox.height)>H3)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,d=i.isAnimationActive,h=i.offset,v=i.position,_=i.reverseDirection,w=i.useTranslate3d,b=i.viewBox,E=i.wrapperStyle,A=b2e({allowEscapeViewBox:s,coordinate:c,offsetTopLeft:h,position:v,reverseDirection:_,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:b}),C=A.cssClasses,R=A.cssProperties,F=z3(z3({transition:d&&o?"transform ".concat(a,"ms ").concat(l):void 0},R),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},E);return xe.createElement("div",{tabIndex:-1,className:C,style:F,ref:function(N){r.wrapperNode=N}},u)}}])}(ce.PureComponent),k2e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},$y={isSsr:k2e()};function jh(t){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(t)}function G3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function W3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G3(Object(n),!0).forEach(function(r){jI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O2e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mB(r.key),r)}}function M2e(t,e,n){return e&&O2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function L2e(t,e,n){return e=Y1(e),D2e(t,pB()?Reflect.construct(e,n||[],Y1(t).constructor):e.apply(t,n))}function D2e(t,e){if(e&&(jh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F2e(t)}function F2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pB=function(){return!!t})()}function Y1(t){return Y1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Y1(t)}function U2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JE(t,e)}function JE(t,e){return JE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},JE(t,e)}function jI(t,e,n){return e=mB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mB(t){var e=j2e(t,"string");return jh(e)=="symbol"?e:e+""}function j2e(t,e){if(jh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function $2e(t){return t.dataKey}function B2e(t,e){return xe.isValidElement(t)?xe.cloneElement(t,e):typeof t=="function"?xe.createElement(t,e):xe.createElement(m2e,e)}var ka=function(t){function e(){return R2e(this,e),L2e(this,e,arguments)}return U2e(e,t),M2e(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,d=i.isAnimationActive,h=i.offset,v=i.payload,_=i.payloadUniqBy,w=i.position,b=i.reverseDirection,E=i.useTranslate3d,A=i.viewBox,C=i.wrapperStyle,R=v??[];f&&R.length&&(R=iB(v.filter(function(k){return k.value!=null&&(k.hide!==!0||r.props.includeHidden)}),_,$2e));var F=R.length>0;return xe.createElement(N2e,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:d,active:o,coordinate:c,hasPayload:F,offset:h,position:w,reverseDirection:b,useTranslate3d:E,viewBox:A,wrapperStyle:C},B2e(u,W3(W3({},this.props),{},{payload:R})))}}])}(ce.PureComponent);jI(ka,"displayName","Tooltip");jI(ka,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!$y.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var V2e=Za,q2e=function(){return V2e.Date.now()},z2e=q2e,H2e=/\s/;function G2e(t){for(var e=t.length;e--&&H2e.test(t.charAt(e)););return e}var W2e=G2e,K2e=W2e,Y2e=/^\s+/;function J2e(t){return t&&t.slice(0,K2e(t)+1).replace(Y2e,"")}var X2e=J2e,Q2e=X2e,K3=bc,Z2e=hp,Y3=NaN,ebe=/^[-+]0x[0-9a-f]+$/i,tbe=/^0b[01]+$/i,nbe=/^0o[0-7]+$/i,rbe=parseInt;function ibe(t){if(typeof t=="number")return t;if(Z2e(t))return Y3;if(K3(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=K3(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Q2e(t);var n=tbe.test(t);return n||nbe.test(t)?rbe(t.slice(2),n?2:8):ebe.test(t)?Y3:+t}var gB=ibe,obe=bc,Kb=z2e,J3=gB,sbe="Expected a function",abe=Math.max,lbe=Math.min;function ube(t,e,n){var r,i,o,s,a,l,u=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(sbe);e=J3(e)||0,obe(n)&&(c=!!n.leading,f="maxWait"in n,o=f?abe(J3(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function h(F){var k=r,N=i;return r=i=void 0,u=F,s=t.apply(N,k),s}function v(F){return u=F,a=setTimeout(b,e),c?h(F):s}function _(F){var k=F-l,N=F-u,T=e-k;return f?lbe(T,o-N):T}function w(F){var k=F-l,N=F-u;return l===void 0||k>=e||k<0||f&&N>=o}function b(){var F=Kb();if(w(F))return E(F);a=setTimeout(b,_(F))}function E(F){return a=void 0,d&&r?h(F):(r=i=void 0,s)}function A(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function C(){return a===void 0?s:E(Kb())}function R(){var F=Kb(),k=w(F);if(r=arguments,i=this,l=F,k){if(a===void 0)return v(l);if(f)return clearTimeout(a),a=setTimeout(b,e),h(l)}return a===void 0&&(a=setTimeout(b,e)),s}return R.cancel=A,R.flush=C,R}var cbe=ube,fbe=cbe,dbe=bc,hbe="Expected a function";function pbe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(hbe);return dbe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),fbe(t,e,{leading:r,maxWait:e,trailing:i})}var mbe=pbe;const yB=Un(mbe);function Fg(t){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fg(t)}function X3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X3(Object(n),!0).forEach(function(r){gbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gbe(t,e,n){return e=ybe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ybe(t){var e=vbe(t,"string");return Fg(e)=="symbol"?e:e+""}function vbe(t,e){if(Fg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wbe(t,e){return Sbe(t)||xbe(t,e)||bbe(t,e)||_be()}function _be(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bbe(t,e){if(t){if(typeof t=="string")return Q3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q3(t,e)}}function Q3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Sbe(t){if(Array.isArray(t))return t}var Ebe=ce.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,a=t.height,l=a===void 0?"100%":a,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,d=t.maxHeight,h=t.children,v=t.debounce,_=v===void 0?0:v,w=t.id,b=t.className,E=t.onResize,A=t.style,C=A===void 0?{}:A,R=ce.useRef(null),F=ce.useRef();F.current=E,ce.useImperativeHandle(e,function(){return Object.defineProperty(R.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),R.current},configurable:!0})});var k=ce.useState({containerWidth:i.width,containerHeight:i.height}),N=wbe(k,2),T=N[0],j=N[1],P=ce.useCallback(function(U,z){j(function(ee){var le=Math.round(U),ue=Math.round(z);return ee.containerWidth===le&&ee.containerHeight===ue?ee:{containerWidth:le,containerHeight:ue}})},[]);ce.useEffect(function(){var U=function(ae){var ye,me=ae[0].contentRect,B=me.width,W=me.height;P(B,W),(ye=F.current)===null||ye===void 0||ye.call(F,B,W)};_>0&&(U=yB(U,_,{trailing:!0,leading:!1}));var z=new ResizeObserver(U),ee=R.current.getBoundingClientRect(),le=ee.width,ue=ee.height;return P(le,ue),z.observe(R.current),function(){z.disconnect()}},[P,_]);var D=ce.useMemo(function(){var U=T.containerWidth,z=T.containerHeight;if(U<0||z<0)return null;Dl(sf(s)||sf(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Dl(!n||n>0,"The aspect(%s) must be greater than zero.",n);var ee=sf(s)?U:s,le=sf(l)?z:l;n&&n>0&&(ee?le=ee/n:le&&(ee=le*n),d&&le>d&&(le=d)),Dl(ee>0||le>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ee,le,s,l,c,f,n);var ue=!Array.isArray(h)&&Ll(h.type).endsWith("Chart");return xe.Children.map(h,function(X){return xe.isValidElement(X)?ce.cloneElement(X,Hv({width:ee,height:le},ue?{style:Hv({height:"100%",width:"100%",maxHeight:le,maxWidth:ee},X.props.style)}:{})):X})},[n,h,l,d,f,c,T,s]);return xe.createElement("div",{id:w?"".concat(w):void 0,className:mn("recharts-responsive-container",b),style:Hv(Hv({},C),{},{width:s,height:l,minWidth:c,minHeight:f,maxHeight:d}),ref:R},D)}),vB=function(e){return null};vB.displayName="Cell";function Ug(t){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ug(t)}function Z3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z3(Object(n),!0).forEach(function(r){Abe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Abe(t,e,n){return e=Tbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tbe(t){var e=Ibe(t,"string");return Ug(e)=="symbol"?e:e+""}function Ibe(t,e){if(Ug(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ug(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yd={widthCache:{},cacheCount:0},Pbe=2e3,Cbe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},eO="recharts_measurement_span";function Nbe(t){var e=XE({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Xm=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||$y.isSsr)return{width:0,height:0};var r=Nbe(n),i=JSON.stringify({text:e,copyStyle:r});if(yd.widthCache[i])return yd.widthCache[i];try{var o=document.getElementById(eO);o||(o=document.createElement("span"),o.setAttribute("id",eO),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=XE(XE({},Cbe),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return yd.widthCache[i]=l,++yd.cacheCount>Pbe&&(yd.cacheCount=0,yd.widthCache={}),l}catch{return{width:0,height:0}}},kbe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function jg(t){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(t)}function J1(t,e){return Lbe(t)||Mbe(t,e)||Obe(t,e)||Rbe()}function Rbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Obe(t,e){if(t){if(typeof t=="string")return tO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tO(t,e)}}function tO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Lbe(t){if(Array.isArray(t))return t}function Dbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ube(r.key),r)}}function Fbe(t,e,n){return e&&nO(t.prototype,e),n&&nO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ube(t){var e=jbe(t,"string");return jg(e)=="symbol"?e:e+""}function jbe(t,e){if(jg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$be=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Bbe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,wB={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Vbe=Object.keys(wB),Hd="NaN";function qbe(t,e){return t*wB[e]}var Gv=function(){function t(e,n){Dbe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!$be.test(n)&&(this.num=NaN,this.unit=""),Vbe.includes(n)&&(this.num=qbe(e,n),this.unit="px")}return Fbe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Bbe.exec(n))!==null&&r!==void 0?r:[],o=J1(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}])}();function _B(t){if(t.includes(Hd))return Hd;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=rO.exec(e))!==null&&n!==void 0?n:[],i=J1(r,4),o=i[1],s=i[2],a=i[3],l=Gv.parse(o??""),u=Gv.parse(a??""),c=s==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Hd;e=e.replace(rO,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,d=(f=iO.exec(e))!==null&&f!==void 0?f:[],h=J1(d,4),v=h[1],_=h[2],w=h[3],b=Gv.parse(v??""),E=Gv.parse(w??""),A=_==="+"?b.add(E):b.subtract(E);if(A.isNaN())return Hd;e=e.replace(iO,A.toString())}return e}var oO=/\(([^()]*)\)/;function zbe(t){for(var e=t;e.includes("(");){var n=oO.exec(e),r=J1(n,2),i=r[1];e=e.replace(oO,_B(i))}return e}function Hbe(t){var e=t.replace(/\s+/g,"");return e=zbe(e),e=_B(e),e}function Gbe(t){try{return Hbe(t)}catch{return Hd}}function Yb(t){var e=Gbe(t.slice(5,-1));return e===Hd?"":e}var Wbe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Kbe=["dx","dy","angle","className","breakAll"];function QE(){return QE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QE.apply(this,arguments)}function sO(t,e){if(t==null)return{};var n=Ybe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ybe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function aO(t,e){return Zbe(t)||Qbe(t,e)||Xbe(t,e)||Jbe()}function Jbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xbe(t,e){if(t){if(typeof t=="string")return lO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lO(t,e)}}function lO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Zbe(t){if(Array.isArray(t))return t}var bB=/[ \f\n\r\t\v\u2028\u2029]+/,xB=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];gn(n)||(r?o=n.toString().split(""):o=n.toString().split(bB));var s=o.map(function(l){return{word:l,width:Xm(l,i).width}}),a=r?0:Xm("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},exe=function(e,n,r,i,o){var s=e.maxLines,a=e.children,l=e.style,u=e.breakAll,c=He(s),f=a,d=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ee.reduce(function(le,ue){var X=ue.word,ae=ue.width,ye=le[le.length-1];if(ye&&(i==null||o||ye.width+ae+r<Number(i)))ye.words.push(X),ye.width+=ae+r;else{var me={words:[X],width:ae};le.push(me)}return le},[])},h=d(n),v=function(ee){return ee.reduce(function(le,ue){return le.width>ue.width?le:ue})};if(!c)return h;for(var _="",w=function(ee){var le=f.slice(0,ee),ue=xB({breakAll:u,style:l,children:le+_}).wordsWithComputedWidth,X=d(ue),ae=X.length>s||v(X).width>Number(i);return[ae,X]},b=0,E=f.length-1,A=0,C;b<=E&&A<=f.length-1;){var R=Math.floor((b+E)/2),F=R-1,k=w(F),N=aO(k,2),T=N[0],j=N[1],P=w(R),D=aO(P,1),U=D[0];if(!T&&!U&&(b=R+1),T&&U&&(E=R-1),!T&&U){C=j;break}A++}return C||h},uO=function(e){var n=gn(e)?[]:e.toString().split(bB);return[{words:n}]},txe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((n||r)&&!$y.isSsr){var l,u,c=xB({breakAll:s,children:i,style:o});if(c){var f=c.wordsWithComputedWidth,d=c.spaceWidth;l=f,u=d}else return uO(i);return exe({breakAll:s,children:i,maxLines:a,style:o},l,u,n,r)}return uO(i)},cO="#808080",X1=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,d=e.textAnchor,h=d===void 0?"start":d,v=e.verticalAnchor,_=v===void 0?"end":v,w=e.fill,b=w===void 0?cO:w,E=sO(e,Wbe),A=ce.useMemo(function(){return txe({breakAll:E.breakAll,children:E.children,maxLines:E.maxLines,scaleToFit:f,style:E.style,width:E.width})},[E.breakAll,E.children,E.maxLines,f,E.style,E.width]),C=E.dx,R=E.dy,F=E.angle,k=E.className,N=E.breakAll,T=sO(E,Kbe);if(!Zr(r)||!Zr(o))return null;var j=r+(He(C)?C:0),P=o+(He(R)?R:0),D;switch(_){case"start":D=Yb("calc(".concat(u,")"));break;case"middle":D=Yb("calc(".concat((A.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:D=Yb("calc(".concat(A.length-1," * -").concat(a,")"));break}var U=[];if(f){var z=A[0].width,ee=E.width;U.push("scale(".concat((He(ee)?ee/z:1)/z,")"))}return F&&U.push("rotate(".concat(F,", ").concat(j,", ").concat(P,")")),U.length&&(T.transform=U.join(" ")),xe.createElement("text",QE({},pn(T,!0),{x:j,y:P,className:mn("recharts-text",k),textAnchor:h,fill:b.includes("url")?cO:b}),A.map(function(le,ue){var X=le.words.join(N?"":" ");return xe.createElement("tspan",{x:j,dy:ue===0?D:a,key:"".concat(X,"-").concat(ue)},X)}))};function sc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function nxe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function $I(t){let e,n,r;t.length!==2?(e=sc,n=(a,l)=>sc(t(a),l),r=(a,l)=>t(a)-l):(e=t===sc||t===nxe?t:rxe,n=t,r=t);function i(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(a,l,u=0,c=a.length){const f=i(a,l,u,c-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function rxe(){return 0}function SB(t){return t===null?NaN:+t}function*ixe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const oxe=$I(sc),By=oxe.right;$I(SB).center;class fO extends Map{constructor(e,n=lxe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(dO(this,e))}has(e){return super.has(dO(this,e))}set(e,n){return super.set(sxe(this,e),n)}delete(e){return super.delete(axe(this,e))}}function dO({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function sxe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function axe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function lxe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function uxe(t=sc){if(t===sc)return EB;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function EB(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const cxe=Math.sqrt(50),fxe=Math.sqrt(10),dxe=Math.sqrt(2);function Q1(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=cxe?10:o>=fxe?5:o>=dxe?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?Q1(t,e,n*2):[a,l,u]}function ZE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?Q1(e,t,n):Q1(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function e5(t,e,n){return e=+e,t=+t,n=+n,Q1(t,e,n)[2]}function t5(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?e5(e,t,n):e5(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function hO(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function pO(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function AB(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?EB:uxe(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),h=Math.max(n,Math.floor(e-u*f/l+d)),v=Math.min(r,Math.floor(e+(l-u)*f/l+d));AB(t,e,h,v,i)}const o=t[e];let s=n,a=r;for(fm(t,n,e),i(t[r],o)>0&&fm(t,n,r);s<a;){for(fm(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?fm(t,n,a):(++a,fm(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function fm(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function hxe(t,e,n){if(t=Float64Array.from(ixe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return pO(t);if(e>=1)return hO(t);var r,i=(r-1)*e,o=Math.floor(i),s=hO(AB(t,o).subarray(0,o+1)),a=pO(t.subarray(o+1));return s+(a-s)*(i-o)}}function pxe(t,e,n=SB){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function mxe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Os(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ru(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const n5=Symbol("implicit");function BI(){var t=new fO,e=[],n=[],r=n5;function i(o){let s=t.get(o);if(s===void 0){if(r!==n5)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new fO;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return BI(e,n).unknown(r)},Os.apply(i,arguments),i}function $g(){var t=BI().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var d=e().length,h=i<r,v=h?i:r,_=h?r:i;o=(_-v)/Math.max(1,d-l+u*2),a&&(o=Math.floor(o)),v+=(_-v-o*(d-l))*c,s=o*(1-l),a&&(v=Math.round(v),s=Math.round(s));var w=mxe(d).map(function(b){return v+o*b});return n(h?w.reverse():w)}return t.domain=function(d){return arguments.length?(e(d),f()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,a=!0,f()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(d){return arguments.length?(a=!!d,f()):a},t.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),f()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},t.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},t.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},t.copy=function(){return $g(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},Os.apply(f(),arguments)}function TB(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return TB(e())},t}function Qm(){return TB($g.apply(null,arguments).paddingInner(1))}function VI(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function IB(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Vy(){}var Bg=.7,Z1=1/Bg,fh="\\s*([+-]?\\d+)\\s*",Vg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ha="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gxe=/^#([0-9a-f]{3,8})$/,yxe=new RegExp(`^rgb\\(${fh},${fh},${fh}\\)$`),vxe=new RegExp(`^rgb\\(${Ha},${Ha},${Ha}\\)$`),wxe=new RegExp(`^rgba\\(${fh},${fh},${fh},${Vg}\\)$`),_xe=new RegExp(`^rgba\\(${Ha},${Ha},${Ha},${Vg}\\)$`),bxe=new RegExp(`^hsl\\(${Vg},${Ha},${Ha}\\)$`),xxe=new RegExp(`^hsla\\(${Vg},${Ha},${Ha},${Vg}\\)$`),mO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};VI(Vy,qg,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:gO,formatHex:gO,formatHex8:Sxe,formatHsl:Exe,formatRgb:yO,toString:yO});function gO(){return this.rgb().formatHex()}function Sxe(){return this.rgb().formatHex8()}function Exe(){return PB(this).formatHsl()}function yO(){return this.rgb().formatRgb()}function qg(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=gxe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?vO(e):n===3?new xo(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Wv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Wv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=yxe.exec(t))?new xo(e[1],e[2],e[3],1):(e=vxe.exec(t))?new xo(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=wxe.exec(t))?Wv(e[1],e[2],e[3],e[4]):(e=_xe.exec(t))?Wv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=bxe.exec(t))?bO(e[1],e[2]/100,e[3]/100,1):(e=xxe.exec(t))?bO(e[1],e[2]/100,e[3]/100,e[4]):mO.hasOwnProperty(t)?vO(mO[t]):t==="transparent"?new xo(NaN,NaN,NaN,0):null}function vO(t){return new xo(t>>16&255,t>>8&255,t&255,1)}function Wv(t,e,n,r){return r<=0&&(t=e=n=NaN),new xo(t,e,n,r)}function Axe(t){return t instanceof Vy||(t=qg(t)),t?(t=t.rgb(),new xo(t.r,t.g,t.b,t.opacity)):new xo}function r5(t,e,n,r){return arguments.length===1?Axe(t):new xo(t,e,n,r??1)}function xo(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}VI(xo,r5,IB(Vy,{brighter(t){return t=t==null?Z1:Math.pow(Z1,t),new xo(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Bg:Math.pow(Bg,t),new xo(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new xo(mf(this.r),mf(this.g),mf(this.b),ew(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wO,formatHex:wO,formatHex8:Txe,formatRgb:_O,toString:_O}));function wO(){return`#${af(this.r)}${af(this.g)}${af(this.b)}`}function Txe(){return`#${af(this.r)}${af(this.g)}${af(this.b)}${af((isNaN(this.opacity)?1:this.opacity)*255)}`}function _O(){const t=ew(this.opacity);return`${t===1?"rgb(":"rgba("}${mf(this.r)}, ${mf(this.g)}, ${mf(this.b)}${t===1?")":`, ${t})`}`}function ew(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function mf(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function af(t){return t=mf(t),(t<16?"0":"")+t.toString(16)}function bO(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ks(t,e,n,r)}function PB(t){if(t instanceof Ks)return new Ks(t.h,t.s,t.l,t.opacity);if(t instanceof Vy||(t=qg(t)),!t)return new Ks;if(t instanceof Ks)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Ks(s,a,l,t.opacity)}function Ixe(t,e,n,r){return arguments.length===1?PB(t):new Ks(t,e,n,r??1)}function Ks(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}VI(Ks,Ixe,IB(Vy,{brighter(t){return t=t==null?Z1:Math.pow(Z1,t),new Ks(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Bg:Math.pow(Bg,t),new Ks(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new xo(Jb(t>=240?t-240:t+120,i,r),Jb(t,i,r),Jb(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ks(xO(this.h),Kv(this.s),Kv(this.l),ew(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ew(this.opacity);return`${t===1?"hsl(":"hsla("}${xO(this.h)}, ${Kv(this.s)*100}%, ${Kv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function xO(t){return t=(t||0)%360,t<0?t+360:t}function Kv(t){return Math.max(0,Math.min(1,t||0))}function Jb(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const qI=t=>()=>t;function Pxe(t,e){return function(n){return t+n*e}}function Cxe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Nxe(t){return(t=+t)==1?CB:function(e,n){return n-e?Cxe(e,n,t):qI(isNaN(e)?n:e)}}function CB(t,e){var n=e-t;return n?Pxe(t,n):qI(isNaN(t)?e:t)}const SO=function t(e){var n=Nxe(e);function r(i,o){var s=n((i=r5(i)).r,(o=r5(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=CB(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function kxe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Rxe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Oxe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=bp(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Mxe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function tw(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Lxe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=bp(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var i5=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xb=new RegExp(i5.source,"g");function Dxe(t){return function(){return t}}function Fxe(t){return function(e){return t(e)+""}}function Uxe(t,e){var n=i5.lastIndex=Xb.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=i5.exec(t))&&(i=Xb.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:tw(r,i)})),n=Xb.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?Fxe(l[0].x):Dxe(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}function bp(t,e){var n=typeof e,r;return e==null||n==="boolean"?qI(e):(n==="number"?tw:n==="string"?(r=qg(e))?(e=r,SO):Uxe:e instanceof qg?SO:e instanceof Date?Mxe:Rxe(e)?kxe:Array.isArray(e)?Oxe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Lxe:tw)(t,e)}function zI(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function jxe(t,e){e===void 0&&(e=t,t=bp);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function $xe(t){return function(){return t}}function nw(t){return+t}var EO=[0,1];function oo(t){return t}function o5(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:$xe(isNaN(e)?NaN:.5)}function Bxe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Vxe(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=o5(i,r),o=n(s,o)):(r=o5(r,i),o=n(o,s)),function(a){return o(r(a))}}function qxe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=o5(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=By(t,a,1,r)-1;return o[l](i[l](a))}}function qy(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function s2(){var t=EO,e=EO,n=bp,r,i,o,s=oo,a,l,u;function c(){var d=Math.min(t.length,e.length);return s!==oo&&(s=Bxe(t[0],t[d-1])),a=d>2?qxe:Vxe,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=a(t.map(r),e,n)))(r(s(d)))}return f.invert=function(d){return s(i((u||(u=a(e,t.map(r),tw)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,nw),c()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),c()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),n=zI,c()},f.clamp=function(d){return arguments.length?(s=d?!0:oo,c()):s!==oo},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,h){return r=d,i=h,c()}}function HI(){return s2()(oo,oo)}function zxe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function rw(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function $h(t){return t=rw(Math.abs(t)),t?t[1]:NaN}function Hxe(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function Gxe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Wxe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function zg(t){if(!(e=Wxe.exec(t)))throw new Error("invalid format: "+t);var e;return new GI({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}zg.prototype=GI.prototype;function GI(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}GI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Kxe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var NB;function Yxe(t,e){var n=rw(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(NB=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+rw(t,Math.max(0,e+o-1))[0]}function AO(t,e){var n=rw(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const TO={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:zxe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>AO(t*100,e),r:AO,s:Yxe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function IO(t){return t}var PO=Array.prototype.map,CO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Jxe(t){var e=t.grouping===void 0||t.thousands===void 0?IO:Hxe(PO.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?IO:Gxe(PO.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=zg(f);var d=f.fill,h=f.align,v=f.sign,_=f.symbol,w=f.zero,b=f.width,E=f.comma,A=f.precision,C=f.trim,R=f.type;R==="n"?(E=!0,R="g"):TO[R]||(A===void 0&&(A=12),C=!0,R="g"),(w||d==="0"&&h==="=")&&(w=!0,d="0",h="=");var F=_==="$"?n:_==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",k=_==="$"?r:/[%p]/.test(R)?s:"",N=TO[R],T=/[defgprs%]/.test(R);A=A===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function j(P){var D=F,U=k,z,ee,le;if(R==="c")U=N(P)+U,P="";else{P=+P;var ue=P<0||1/P<0;if(P=isNaN(P)?l:N(Math.abs(P),A),C&&(P=Kxe(P)),ue&&+P==0&&v!=="+"&&(ue=!1),D=(ue?v==="("?v:a:v==="-"||v==="("?"":v)+D,U=(R==="s"?CO[8+NB/3]:"")+U+(ue&&v==="("?")":""),T){for(z=-1,ee=P.length;++z<ee;)if(le=P.charCodeAt(z),48>le||le>57){U=(le===46?i+P.slice(z+1):P.slice(z))+U,P=P.slice(0,z);break}}}E&&!w&&(P=e(P,1/0));var X=D.length+P.length+U.length,ae=X<b?new Array(b-X+1).join(d):"";switch(E&&w&&(P=e(ae+P,ae.length?b-U.length:1/0),ae=""),h){case"<":P=D+P+U+ae;break;case"=":P=D+ae+P+U;break;case"^":P=ae.slice(0,X=ae.length>>1)+D+P+U+ae.slice(X);break;default:P=ae+D+P+U;break}return o(P)}return j.toString=function(){return f+""},j}function c(f,d){var h=u((f=zg(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor($h(d)/3)))*3,_=Math.pow(10,-v),w=CO[8+v/3];return function(b){return h(_*b)+w}}return{format:u,formatPrefix:c}}var Yv,WI,kB;Xxe({thousands:",",grouping:[3],currency:["$",""]});function Xxe(t){return Yv=Jxe(t),WI=Yv.format,kB=Yv.formatPrefix,Yv}function Qxe(t){return Math.max(0,-$h(Math.abs(t)))}function Zxe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor($h(e)/3)))*3-$h(Math.abs(t)))}function eSe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,$h(e)-$h(t))+1}function RB(t,e,n,r){var i=t5(t,e,n),o;switch(r=zg(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Zxe(i,s))&&(r.precision=o),kB(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=eSe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Qxe(i))&&(r.precision=o-(r.type==="%")*2);break}}return WI(r)}function Sc(t){var e=t.domain;return t.ticks=function(n){var r=e();return ZE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return RB(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=e5(s,a,n),u===l)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function iw(){var t=HI();return t.copy=function(){return qy(t,iw())},Os.apply(t,arguments),Sc(t)}function OB(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,nw),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return OB(t).unknown(e)},t=arguments.length?Array.from(t,nw):[0,1],Sc(n)}function MB(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function NO(t){return Math.log(t)}function kO(t){return Math.exp(t)}function tSe(t){return-Math.log(-t)}function nSe(t){return-Math.exp(-t)}function rSe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function iSe(t){return t===10?rSe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function oSe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function RO(t){return(e,n)=>-t(-e,n)}function KI(t){const e=t(NO,kO),n=e.domain;let r=10,i,o;function s(){return i=oSe(r),o=iSe(r),n()[0]<0?(i=RO(i),o=RO(o),t(tSe,nSe)):t(NO,kO),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let d=i(u),h=i(c),v,_;const w=a==null?10:+a;let b=[];if(!(r%1)&&h-d<w){if(d=Math.floor(d),h=Math.ceil(h),u>0){for(;d<=h;++d)for(v=1;v<r;++v)if(_=d<0?v/o(-d):v*o(d),!(_<u)){if(_>c)break;b.push(_)}}else for(;d<=h;++d)for(v=r-1;v>=1;--v)if(_=d>0?v/o(-d):v*o(d),!(_<u)){if(_>c)break;b.push(_)}b.length*2<w&&(b=ZE(u,c,w))}else b=ZE(d,h,Math.min(h-d,w)).map(o);return f?b.reverse():b},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=zg(l)).precision==null&&(l.trim=!0),l=WI(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(MB(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function LB(){const t=KI(s2()).domain([1,10]);return t.copy=()=>qy(t,LB()).base(t.base()),Os.apply(t,arguments),t}function OO(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function MO(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function YI(t){var e=1,n=t(OO(e),MO(e));return n.constant=function(r){return arguments.length?t(OO(e=+r),MO(e)):e},Sc(n)}function DB(){var t=YI(s2());return t.copy=function(){return qy(t,DB()).constant(t.constant())},Os.apply(t,arguments)}function LO(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function sSe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function aSe(t){return t<0?-t*t:t*t}function JI(t){var e=t(oo,oo),n=1;function r(){return n===1?t(oo,oo):n===.5?t(sSe,aSe):t(LO(n),LO(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Sc(e)}function XI(){var t=JI(s2());return t.copy=function(){return qy(t,XI()).exponent(t.exponent())},Os.apply(t,arguments),t}function lSe(){return XI.apply(null,arguments).exponent(.5)}function DO(t){return Math.sign(t)*t*t}function uSe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function FB(){var t=HI(),e=[0,1],n=!1,r;function i(o){var s=uSe(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(DO(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,nw)).map(DO)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return FB(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Os.apply(i,arguments),Sc(i)}function UB(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=pxe(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[By(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(sc),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return UB().domain(t).range(e).unknown(r)},Os.apply(o,arguments)}function jB(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[By(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return jB().domain([t,e]).range(i).unknown(o)},Os.apply(Sc(s),arguments)}function $B(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[By(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return $B().domain(t).range(e).unknown(n)},Os.apply(i,arguments)}const Qb=new Date,Zb=new Date;function ti(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),e(o,a),t(o);while(u<o&&o<s);return l},i.filter=o=>ti(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(Qb.setTime(+o),Zb.setTime(+s),t(Qb),t(Zb),Math.floor(n(Qb,Zb))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const ow=ti(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ow.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ti(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ow);ow.range;const Cl=1e3,xs=Cl*60,Nl=xs*60,Wl=Nl*24,QI=Wl*7,FO=Wl*30,ex=Wl*365,lf=ti(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Cl)},(t,e)=>(e-t)/Cl,t=>t.getUTCSeconds());lf.range;const ZI=ti(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Cl)},(t,e)=>{t.setTime(+t+e*xs)},(t,e)=>(e-t)/xs,t=>t.getMinutes());ZI.range;const eP=ti(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*xs)},(t,e)=>(e-t)/xs,t=>t.getUTCMinutes());eP.range;const tP=ti(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Cl-t.getMinutes()*xs)},(t,e)=>{t.setTime(+t+e*Nl)},(t,e)=>(e-t)/Nl,t=>t.getHours());tP.range;const nP=ti(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Nl)},(t,e)=>(e-t)/Nl,t=>t.getUTCHours());nP.range;const zy=ti(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*xs)/Wl,t=>t.getDate()-1);zy.range;const a2=ti(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Wl,t=>t.getUTCDate()-1);a2.range;const BB=ti(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Wl,t=>Math.floor(t/Wl));BB.range;function Jf(t){return ti(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*xs)/QI)}const l2=Jf(0),sw=Jf(1),cSe=Jf(2),fSe=Jf(3),Bh=Jf(4),dSe=Jf(5),hSe=Jf(6);l2.range;sw.range;cSe.range;fSe.range;Bh.range;dSe.range;hSe.range;function Xf(t){return ti(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/QI)}const u2=Xf(0),aw=Xf(1),pSe=Xf(2),mSe=Xf(3),Vh=Xf(4),gSe=Xf(5),ySe=Xf(6);u2.range;aw.range;pSe.range;mSe.range;Vh.range;gSe.range;ySe.range;const rP=ti(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());rP.range;const iP=ti(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());iP.range;const Kl=ti(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Kl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ti(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Kl.range;const Yl=ti(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Yl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ti(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Yl.range;function VB(t,e,n,r,i,o){const s=[[lf,1,Cl],[lf,5,5*Cl],[lf,15,15*Cl],[lf,30,30*Cl],[o,1,xs],[o,5,5*xs],[o,15,15*xs],[o,30,30*xs],[i,1,Nl],[i,3,3*Nl],[i,6,6*Nl],[i,12,12*Nl],[r,1,Wl],[r,2,2*Wl],[n,1,QI],[e,1,FO],[e,3,3*FO],[t,1,ex]];function a(u,c,f){const d=c<u;d&&([u,c]=[c,u]);const h=f&&typeof f.range=="function"?f:l(u,c,f),v=h?h.range(u,+c+1):[];return d?v.reverse():v}function l(u,c,f){const d=Math.abs(c-u)/f,h=$I(([,,w])=>w).right(s,d);if(h===s.length)return t.every(t5(u/ex,c/ex,f));if(h===0)return ow.every(Math.max(t5(u,c,f),1));const[v,_]=s[d/s[h-1][2]<s[h][2]/d?h-1:h];return v.every(_)}return[a,l]}const[vSe,wSe]=VB(Yl,iP,u2,BB,nP,eP),[_Se,bSe]=VB(Kl,rP,l2,zy,tP,ZI);function tx(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function nx(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function dm(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function xSe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,u=hm(i),c=pm(i),f=hm(o),d=pm(o),h=hm(s),v=pm(s),_=hm(a),w=pm(a),b=hm(l),E=pm(l),A={a:ue,A:X,b:ae,B:ye,c:null,d:qO,e:qO,f:HSe,g:tEe,G:rEe,H:VSe,I:qSe,j:zSe,L:qB,m:GSe,M:WSe,p:me,q:B,Q:GO,s:WO,S:KSe,u:YSe,U:JSe,V:XSe,w:QSe,W:ZSe,x:null,X:null,y:eEe,Y:nEe,Z:iEe,"%":HO},C={a:W,A:ne,b:fe,B:he,c:null,d:zO,e:zO,f:lEe,g:vEe,G:_Ee,H:oEe,I:sEe,j:aEe,L:HB,m:uEe,M:cEe,p:we,q:Te,Q:GO,s:WO,S:fEe,u:dEe,U:hEe,V:pEe,w:mEe,W:gEe,x:null,X:null,y:yEe,Y:wEe,Z:bEe,"%":HO},R={a:j,A:P,b:D,B:U,c:z,d:BO,e:BO,f:USe,g:$O,G:jO,H:VO,I:VO,j:MSe,L:FSe,m:OSe,M:LSe,p:T,q:RSe,Q:$Se,s:BSe,S:DSe,u:ISe,U:PSe,V:CSe,w:TSe,W:NSe,x:ee,X:le,y:$O,Y:jO,Z:kSe,"%":jSe};A.x=F(n,A),A.X=F(r,A),A.c=F(e,A),C.x=F(n,C),C.X=F(r,C),C.c=F(e,C);function F(re,pe){return function(Ce){var Z=[],Ee=-1,Ne=0,Y=re.length,ke,Ye,Xe;for(Ce instanceof Date||(Ce=new Date(+Ce));++Ee<Y;)re.charCodeAt(Ee)===37&&(Z.push(re.slice(Ne,Ee)),(Ye=UO[ke=re.charAt(++Ee)])!=null?ke=re.charAt(++Ee):Ye=ke==="e"?" ":"0",(Xe=pe[ke])&&(ke=Xe(Ce,Ye)),Z.push(ke),Ne=Ee+1);return Z.push(re.slice(Ne,Ee)),Z.join("")}}function k(re,pe){return function(Ce){var Z=dm(1900,void 0,1),Ee=N(Z,re,Ce+="",0),Ne,Y;if(Ee!=Ce.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(pe&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(Ne=nx(dm(Z.y,0,1)),Y=Ne.getUTCDay(),Ne=Y>4||Y===0?aw.ceil(Ne):aw(Ne),Ne=a2.offset(Ne,(Z.V-1)*7),Z.y=Ne.getUTCFullYear(),Z.m=Ne.getUTCMonth(),Z.d=Ne.getUTCDate()+(Z.w+6)%7):(Ne=tx(dm(Z.y,0,1)),Y=Ne.getDay(),Ne=Y>4||Y===0?sw.ceil(Ne):sw(Ne),Ne=zy.offset(Ne,(Z.V-1)*7),Z.y=Ne.getFullYear(),Z.m=Ne.getMonth(),Z.d=Ne.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),Y="Z"in Z?nx(dm(Z.y,0,1)).getUTCDay():tx(dm(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(Y+5)%7:Z.w+Z.U*7-(Y+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,nx(Z)):tx(Z)}}function N(re,pe,Ce,Z){for(var Ee=0,Ne=pe.length,Y=Ce.length,ke,Ye;Ee<Ne;){if(Z>=Y)return-1;if(ke=pe.charCodeAt(Ee++),ke===37){if(ke=pe.charAt(Ee++),Ye=R[ke in UO?pe.charAt(Ee++):ke],!Ye||(Z=Ye(re,Ce,Z))<0)return-1}else if(ke!=Ce.charCodeAt(Z++))return-1}return Z}function T(re,pe,Ce){var Z=u.exec(pe.slice(Ce));return Z?(re.p=c.get(Z[0].toLowerCase()),Ce+Z[0].length):-1}function j(re,pe,Ce){var Z=h.exec(pe.slice(Ce));return Z?(re.w=v.get(Z[0].toLowerCase()),Ce+Z[0].length):-1}function P(re,pe,Ce){var Z=f.exec(pe.slice(Ce));return Z?(re.w=d.get(Z[0].toLowerCase()),Ce+Z[0].length):-1}function D(re,pe,Ce){var Z=b.exec(pe.slice(Ce));return Z?(re.m=E.get(Z[0].toLowerCase()),Ce+Z[0].length):-1}function U(re,pe,Ce){var Z=_.exec(pe.slice(Ce));return Z?(re.m=w.get(Z[0].toLowerCase()),Ce+Z[0].length):-1}function z(re,pe,Ce){return N(re,e,pe,Ce)}function ee(re,pe,Ce){return N(re,n,pe,Ce)}function le(re,pe,Ce){return N(re,r,pe,Ce)}function ue(re){return s[re.getDay()]}function X(re){return o[re.getDay()]}function ae(re){return l[re.getMonth()]}function ye(re){return a[re.getMonth()]}function me(re){return i[+(re.getHours()>=12)]}function B(re){return 1+~~(re.getMonth()/3)}function W(re){return s[re.getUTCDay()]}function ne(re){return o[re.getUTCDay()]}function fe(re){return l[re.getUTCMonth()]}function he(re){return a[re.getUTCMonth()]}function we(re){return i[+(re.getUTCHours()>=12)]}function Te(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var pe=F(re+="",A);return pe.toString=function(){return re},pe},parse:function(re){var pe=k(re+="",!1);return pe.toString=function(){return re},pe},utcFormat:function(re){var pe=F(re+="",C);return pe.toString=function(){return re},pe},utcParse:function(re){var pe=k(re+="",!0);return pe.toString=function(){return re},pe}}}var UO={"-":"",_:" ",0:"0"},hi=/^\s*\d+/,SSe=/^%/,ESe=/[\\^$*+?|[\]().{}]/g;function dn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function ASe(t){return t.replace(ESe,"\\$&")}function hm(t){return new RegExp("^(?:"+t.map(ASe).join("|")+")","i")}function pm(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function TSe(t,e,n){var r=hi.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function ISe(t,e,n){var r=hi.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function PSe(t,e,n){var r=hi.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function CSe(t,e,n){var r=hi.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function NSe(t,e,n){var r=hi.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function jO(t,e,n){var r=hi.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function $O(t,e,n){var r=hi.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function kSe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function RSe(t,e,n){var r=hi.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function OSe(t,e,n){var r=hi.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function BO(t,e,n){var r=hi.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function MSe(t,e,n){var r=hi.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function VO(t,e,n){var r=hi.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function LSe(t,e,n){var r=hi.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function DSe(t,e,n){var r=hi.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function FSe(t,e,n){var r=hi.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function USe(t,e,n){var r=hi.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function jSe(t,e,n){var r=SSe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function $Se(t,e,n){var r=hi.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function BSe(t,e,n){var r=hi.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function qO(t,e){return dn(t.getDate(),e,2)}function VSe(t,e){return dn(t.getHours(),e,2)}function qSe(t,e){return dn(t.getHours()%12||12,e,2)}function zSe(t,e){return dn(1+zy.count(Kl(t),t),e,3)}function qB(t,e){return dn(t.getMilliseconds(),e,3)}function HSe(t,e){return qB(t,e)+"000"}function GSe(t,e){return dn(t.getMonth()+1,e,2)}function WSe(t,e){return dn(t.getMinutes(),e,2)}function KSe(t,e){return dn(t.getSeconds(),e,2)}function YSe(t){var e=t.getDay();return e===0?7:e}function JSe(t,e){return dn(l2.count(Kl(t)-1,t),e,2)}function zB(t){var e=t.getDay();return e>=4||e===0?Bh(t):Bh.ceil(t)}function XSe(t,e){return t=zB(t),dn(Bh.count(Kl(t),t)+(Kl(t).getDay()===4),e,2)}function QSe(t){return t.getDay()}function ZSe(t,e){return dn(sw.count(Kl(t)-1,t),e,2)}function eEe(t,e){return dn(t.getFullYear()%100,e,2)}function tEe(t,e){return t=zB(t),dn(t.getFullYear()%100,e,2)}function nEe(t,e){return dn(t.getFullYear()%1e4,e,4)}function rEe(t,e){var n=t.getDay();return t=n>=4||n===0?Bh(t):Bh.ceil(t),dn(t.getFullYear()%1e4,e,4)}function iEe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+dn(e/60|0,"0",2)+dn(e%60,"0",2)}function zO(t,e){return dn(t.getUTCDate(),e,2)}function oEe(t,e){return dn(t.getUTCHours(),e,2)}function sEe(t,e){return dn(t.getUTCHours()%12||12,e,2)}function aEe(t,e){return dn(1+a2.count(Yl(t),t),e,3)}function HB(t,e){return dn(t.getUTCMilliseconds(),e,3)}function lEe(t,e){return HB(t,e)+"000"}function uEe(t,e){return dn(t.getUTCMonth()+1,e,2)}function cEe(t,e){return dn(t.getUTCMinutes(),e,2)}function fEe(t,e){return dn(t.getUTCSeconds(),e,2)}function dEe(t){var e=t.getUTCDay();return e===0?7:e}function hEe(t,e){return dn(u2.count(Yl(t)-1,t),e,2)}function GB(t){var e=t.getUTCDay();return e>=4||e===0?Vh(t):Vh.ceil(t)}function pEe(t,e){return t=GB(t),dn(Vh.count(Yl(t),t)+(Yl(t).getUTCDay()===4),e,2)}function mEe(t){return t.getUTCDay()}function gEe(t,e){return dn(aw.count(Yl(t)-1,t),e,2)}function yEe(t,e){return dn(t.getUTCFullYear()%100,e,2)}function vEe(t,e){return t=GB(t),dn(t.getUTCFullYear()%100,e,2)}function wEe(t,e){return dn(t.getUTCFullYear()%1e4,e,4)}function _Ee(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Vh(t):Vh.ceil(t),dn(t.getUTCFullYear()%1e4,e,4)}function bEe(){return"+0000"}function HO(){return"%"}function GO(t){return+t}function WO(t){return Math.floor(+t/1e3)}var vd,WB,KB;xEe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function xEe(t){return vd=xSe(t),WB=vd.format,vd.parse,KB=vd.utcFormat,vd.utcParse,vd}function SEe(t){return new Date(t)}function EEe(t){return t instanceof Date?+t:+new Date(+t)}function oP(t,e,n,r,i,o,s,a,l,u){var c=HI(),f=c.invert,d=c.domain,h=u(".%L"),v=u(":%S"),_=u("%I:%M"),w=u("%I %p"),b=u("%a %d"),E=u("%b %d"),A=u("%B"),C=u("%Y");function R(F){return(l(F)<F?h:a(F)<F?v:s(F)<F?_:o(F)<F?w:r(F)<F?i(F)<F?b:E:n(F)<F?A:C)(F)}return c.invert=function(F){return new Date(f(F))},c.domain=function(F){return arguments.length?d(Array.from(F,EEe)):d().map(SEe)},c.ticks=function(F){var k=d();return t(k[0],k[k.length-1],F??10)},c.tickFormat=function(F,k){return k==null?R:u(k)},c.nice=function(F){var k=d();return(!F||typeof F.range!="function")&&(F=e(k[0],k[k.length-1],F??10)),F?d(MB(k,F)):c},c.copy=function(){return qy(c,oP(t,e,n,r,i,o,s,a,l,u))},c}function AEe(){return Os.apply(oP(_Se,bSe,Kl,rP,l2,zy,tP,ZI,lf,WB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function TEe(){return Os.apply(oP(vSe,wSe,Yl,iP,u2,a2,nP,eP,lf,KB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function c2(){var t=0,e=1,n,r,i,o,s=oo,a=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(s=f,u):s};function c(f){return function(d){var h,v;return arguments.length?([h,v]=d,s=f(h,v),u):[s(0),s(1)]}}return u.range=c(bp),u.rangeRound=c(zI),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Ec(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function YB(){var t=Sc(c2()(oo));return t.copy=function(){return Ec(t,YB())},ru.apply(t,arguments)}function JB(){var t=KI(c2()).domain([1,10]);return t.copy=function(){return Ec(t,JB()).base(t.base())},ru.apply(t,arguments)}function XB(){var t=YI(c2());return t.copy=function(){return Ec(t,XB()).constant(t.constant())},ru.apply(t,arguments)}function sP(){var t=JI(c2());return t.copy=function(){return Ec(t,sP()).exponent(t.exponent())},ru.apply(t,arguments)}function IEe(){return sP.apply(null,arguments).exponent(.5)}function QB(){var t=[],e=oo;function n(r){if(r!=null&&!isNaN(r=+r))return e((By(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(sc),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>hxe(t,o/r))},n.copy=function(){return QB(e).domain(t)},ru.apply(n,arguments)}function f2(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,u=oo,c,f=!1,d;function h(_){return isNaN(_=+_)?d:(_=.5+((_=+c(_))-o)*(r*_<r*o?a:l),u(f?Math.max(0,Math.min(1,_)):_))}h.domain=function(_){return arguments.length?([t,e,n]=_,i=c(t=+t),o=c(e=+e),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,h):[t,e,n]},h.clamp=function(_){return arguments.length?(f=!!_,h):f},h.interpolator=function(_){return arguments.length?(u=_,h):u};function v(_){return function(w){var b,E,A;return arguments.length?([b,E,A]=w,u=jxe(_,[b,E,A]),h):[u(0),u(.5),u(1)]}}return h.range=v(bp),h.rangeRound=v(zI),h.unknown=function(_){return arguments.length?(d=_,h):d},function(_){return c=_,i=_(t),o=_(e),s=_(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,h}}function ZB(){var t=Sc(f2()(oo));return t.copy=function(){return Ec(t,ZB())},ru.apply(t,arguments)}function e9(){var t=KI(f2()).domain([.1,1,10]);return t.copy=function(){return Ec(t,e9()).base(t.base())},ru.apply(t,arguments)}function t9(){var t=YI(f2());return t.copy=function(){return Ec(t,t9()).constant(t.constant())},ru.apply(t,arguments)}function aP(){var t=JI(f2());return t.copy=function(){return Ec(t,aP()).exponent(t.exponent())},ru.apply(t,arguments)}function PEe(){return aP.apply(null,arguments).exponent(.5)}const KO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$g,scaleDiverging:ZB,scaleDivergingLog:e9,scaleDivergingPow:aP,scaleDivergingSqrt:PEe,scaleDivergingSymlog:t9,scaleIdentity:OB,scaleImplicit:n5,scaleLinear:iw,scaleLog:LB,scaleOrdinal:BI,scalePoint:Qm,scalePow:XI,scaleQuantile:UB,scaleQuantize:jB,scaleRadial:FB,scaleSequential:YB,scaleSequentialLog:JB,scaleSequentialPow:sP,scaleSequentialQuantile:QB,scaleSequentialSqrt:IEe,scaleSequentialSymlog:XB,scaleSqrt:lSe,scaleSymlog:DB,scaleThreshold:$B,scaleTime:AEe,scaleUtc:TEe,tickFormat:RB},Symbol.toStringTag,{value:"Module"}));var CEe=hp;function NEe(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!CEe(s):n(s,a)))var a=s,l=o}return l}var n9=NEe;function kEe(t,e){return t>e}var REe=kEe,OEe=n9,MEe=REe,LEe=_p;function DEe(t){return t&&t.length?OEe(t,LEe,MEe):void 0}var FEe=DEe;const d2=Un(FEe);function UEe(t,e){return t<e}var jEe=UEe,$Ee=n9,BEe=jEe,VEe=_p;function qEe(t){return t&&t.length?$Ee(t,VEe,BEe):void 0}var zEe=qEe;const h2=Un(zEe);var HEe=bI,GEe=xc,WEe=cB,KEe=To;function YEe(t,e){var n=KEe(t)?HEe:WEe;return n(t,GEe(e))}var JEe=YEe,XEe=lB,QEe=JEe;function ZEe(t,e){return XEe(QEe(t,e),1)}var e5e=ZEe;const t5e=Un(e5e);var n5e=DI;function r5e(t,e){return n5e(t,e)}var i5e=r5e;const lP=Un(i5e);var xp=1e9,o5e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},cP,ir=!0,Ns="[DecimalError] ",gf=Ns+"Invalid argument: ",uP=Ns+"Exponent out of range: ",Sp=Math.floor,Jc=Math.pow,s5e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Go,ai=1e7,Yn=7,r9=9007199254740991,lw=Sp(r9/Yn),tt={};tt.absoluteValue=tt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};tt.comparedTo=tt.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};tt.decimalPlaces=tt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Yn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};tt.dividedBy=tt.div=function(t){return Fl(this,new this.constructor(t))};tt.dividedToIntegerBy=tt.idiv=function(t){var e=this,n=e.constructor;return Fn(Fl(e,new n(t),0,1),n.precision)};tt.equals=tt.eq=function(t){return!this.cmp(t)};tt.exponent=function(){return qr(this)};tt.greaterThan=tt.gt=function(t){return this.cmp(t)>0};tt.greaterThanOrEqualTo=tt.gte=function(t){return this.cmp(t)>=0};tt.isInteger=tt.isint=function(){return this.e>this.d.length-2};tt.isNegative=tt.isneg=function(){return this.s<0};tt.isPositive=tt.ispos=function(){return this.s>0};tt.isZero=function(){return this.s===0};tt.lessThan=tt.lt=function(t){return this.cmp(t)<0};tt.lessThanOrEqualTo=tt.lte=function(t){return this.cmp(t)<1};tt.logarithm=tt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Go))throw Error(Ns+"NaN");if(n.s<1)throw Error(Ns+(n.s?"NaN":"-Infinity"));return n.eq(Go)?new r(0):(ir=!1,e=Fl(Hg(n,o),Hg(t,o),o),ir=!0,Fn(e,i))};tt.minus=tt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?s9(e,t):i9(e,(t.s=-t.s,t))};tt.modulo=tt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ns+"NaN");return n.s?(ir=!1,e=Fl(n,t,0,1).times(t),ir=!0,n.minus(e)):Fn(new r(n),i)};tt.naturalExponential=tt.exp=function(){return o9(this)};tt.naturalLogarithm=tt.ln=function(){return Hg(this)};tt.negated=tt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};tt.plus=tt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?i9(e,t):s9(e,(t.s=-t.s,t))};tt.precision=tt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(gf+t);if(e=qr(i)+1,r=i.d.length-1,n=r*Yn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};tt.squareRoot=tt.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(Ns+"NaN")}for(t=qr(a),ir=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=La(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Sp((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(Fl(a,o,s+2)).times(.5),La(o.d).slice(0,s)===(e=La(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Fn(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return ir=!0,Fn(r,n)};tt.times=tt.mul=function(t){var e,n,r,i,o,s,a,l,u,c=this,f=c.constructor,d=c.d,h=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=d.length,u=h.length,l<u&&(o=d,d=h,h=o,s=l,l=u,u=s),o=[],s=l+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+h[r]*d[i-r-1]+e,o[i--]=a%ai|0,e=a/ai|0;o[i]=(o[i]+e)%ai|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,ir?Fn(t,f.precision):t};tt.toDecimalPlaces=tt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ya(t,0,xp),e===void 0?e=r.rounding:Ya(e,0,8),Fn(n,t+qr(n)+1,e))};tt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Of(r,!0):(Ya(t,0,xp),e===void 0?e=i.rounding:Ya(e,0,8),r=Fn(new i(r),t+1,e),n=Of(r,!0,t+1)),n};tt.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Of(i):(Ya(t,0,xp),e===void 0?e=o.rounding:Ya(e,0,8),r=Fn(new o(i),t+qr(i)+1,e),n=Of(r.abs(),!1,t+qr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};tt.toInteger=tt.toint=function(){var t=this,e=t.constructor;return Fn(new e(t),qr(t)+1,e.rounding)};tt.toNumber=function(){return+this};tt.toPower=tt.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Go);if(a=new l(a),!a.s){if(t.s<1)throw Error(Ns+"Infinity");return a}if(a.eq(Go))return a;if(r=l.precision,t.eq(Go))return Fn(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=c<0?-c:c)<=r9){for(i=new l(Go),e=Math.ceil(r/Yn+4),ir=!1;n%2&&(i=i.times(a),JO(i.d,e)),n=Sp(n/2),n!==0;)a=a.times(a),JO(a.d,e);return ir=!0,t.s<0?new l(Go).div(i):Fn(i,r)}}else if(o<0)throw Error(Ns+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,ir=!1,i=t.times(Hg(a,r+u)),ir=!0,i=o9(i),i.s=o,i};tt.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=qr(i),r=Of(i,n<=o.toExpNeg||n>=o.toExpPos)):(Ya(t,1,xp),e===void 0?e=o.rounding:Ya(e,0,8),i=Fn(new o(i),t,e),n=qr(i),r=Of(i,t<=n||n<=o.toExpNeg,t)),r};tt.toSignificantDigits=tt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ya(t,1,xp),e===void 0?e=r.rounding:Ya(e,0,8)),Fn(new r(n),t,e)};tt.toString=tt.valueOf=tt.val=tt.toJSON=tt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=qr(t),n=t.constructor;return Of(t,e<=n.toExpNeg||e>=n.toExpPos)};function i9(t,e){var n,r,i,o,s,a,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),ir?Fn(e,f):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=u.length):(r=u,i=s,a=l.length),s=Math.ceil(f/Yn),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=u.length,a-o<0&&(o=a,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/ai|0,l[o]%=ai;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,ir?Fn(e,f):e}function Ya(t,e,n){if(t!==~~t||t<e||t>n)throw Error(gf+t)}function La(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=Yn-r.length,n&&(o+=Mu(n)),o+=r;s=t[e],r=s+"",n=Yn-r.length,n&&(o+=Mu(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Fl=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%ai|0,s=o/ai|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*ai+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,u,c,f,d,h,v,_,w,b,E,A,C,R,F,k,N,T=r.constructor,j=r.s==i.s?1:-1,P=r.d,D=i.d;if(!r.s)return new T(r);if(!i.s)throw Error(Ns+"Division by zero");for(l=r.e-i.e,k=D.length,R=P.length,h=new T(j),v=h.d=[],u=0;D[u]==(P[u]||0);)++u;if(D[u]>(P[u]||0)&&--l,o==null?E=o=T.precision:s?E=o+(qr(r)-qr(i))+1:E=o,E<0)return new T(0);if(E=E/Yn+2|0,u=0,k==1)for(c=0,D=D[0],E++;(u<R||c)&&E--;u++)A=c*ai+(P[u]||0),v[u]=A/D|0,c=A%D|0;else{for(c=ai/(D[0]+1)|0,c>1&&(D=t(D,c),P=t(P,c),k=D.length,R=P.length),C=k,_=P.slice(0,k),w=_.length;w<k;)_[w++]=0;N=D.slice(),N.unshift(0),F=D[0],D[1]>=ai/2&&++F;do c=0,a=e(D,_,k,w),a<0?(b=_[0],k!=w&&(b=b*ai+(_[1]||0)),c=b/F|0,c>1?(c>=ai&&(c=ai-1),f=t(D,c),d=f.length,w=_.length,a=e(f,_,d,w),a==1&&(c--,n(f,k<d?N:D,d))):(c==0&&(a=c=1),f=D.slice()),d=f.length,d<w&&f.unshift(0),n(_,f,w),a==-1&&(w=_.length,a=e(D,_,k,w),a<1&&(c++,n(_,k<w?N:D,w))),w=_.length):a===0&&(c++,_=[0]),v[u++]=c,a&&_[0]?_[w++]=P[C]||0:(_=[P[C]],w=1);while((C++<R||_[0]!==void 0)&&E--)}return v[0]||v.shift(),h.e=l,Fn(h,s?o+qr(h)+1:o)}}();function o9(t,e){var n,r,i,o,s,a,l=0,u=0,c=t.constructor,f=c.precision;if(qr(t)>16)throw Error(uP+qr(t));if(!t.s)return new c(Go);for(ir=!1,a=f,s=new c(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(Jc(2,u))/Math.LN10*2+5|0,a+=r,n=i=o=new c(Go),c.precision=a;;){if(i=Fn(i.times(t),a),n=n.times(++l),s=o.plus(Fl(i,n,a)),La(s.d).slice(0,a)===La(o.d).slice(0,a)){for(;u--;)o=Fn(o.times(o),a);return c.precision=f,e==null?(ir=!0,Fn(o,f)):o}o=s}}function qr(t){for(var e=t.e*Yn,n=t.d[0];n>=10;n/=10)e++;return e}function rx(t,e,n){if(e>t.LN10.sd())throw ir=!0,n&&(t.precision=n),Error(Ns+"LN10 precision limit exceeded");return Fn(new t(t.LN10),e)}function Mu(t){for(var e="";t--;)e+="0";return e}function Hg(t,e){var n,r,i,o,s,a,l,u,c,f=1,d=10,h=t,v=h.d,_=h.constructor,w=_.precision;if(h.s<1)throw Error(Ns+(h.s?"NaN":"-Infinity"));if(h.eq(Go))return new _(0);if(e==null?(ir=!1,u=w):u=e,h.eq(10))return e==null&&(ir=!0),rx(_,u);if(u+=d,_.precision=u,n=La(v),r=n.charAt(0),o=qr(h),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)h=h.times(t),n=La(h.d),r=n.charAt(0),f++;o=qr(h),r>1?(h=new _("0."+n),o++):h=new _(r+"."+n.slice(1))}else return l=rx(_,u+2,w).times(o+""),h=Hg(new _(r+"."+n.slice(1)),u-d).plus(l),_.precision=w,e==null?(ir=!0,Fn(h,w)):h;for(a=s=h=Fl(h.minus(Go),h.plus(Go),u),c=Fn(h.times(h),u),i=3;;){if(s=Fn(s.times(c),u),l=a.plus(Fl(s,new _(i),u)),La(l.d).slice(0,u)===La(a.d).slice(0,u))return a=a.times(2),o!==0&&(a=a.plus(rx(_,u+2,w).times(o+""))),a=Fl(a,new _(f),u),_.precision=w,e==null?(ir=!0,Fn(a,w)):a;a=l,i+=2}}function YO(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Sp(n/Yn),t.d=[],r=(n+1)%Yn,n<0&&(r+=Yn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Yn;r<i;)t.d.push(+e.slice(r,r+=Yn));e=e.slice(r),r=Yn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ir&&(t.e>lw||t.e<-lw))throw Error(uP+n)}else t.s=0,t.e=0,t.d=[0];return t}function Fn(t,e,n){var r,i,o,s,a,l,u,c,f=t.d;for(s=1,o=f[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=Yn,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/Yn),o=f.length,c>=o)return t;for(u=o=f[c],s=1;o>=10;o/=10)s++;r%=Yn,i=r-Yn+s}if(n!==void 0&&(o=Jc(10,s-i-1),a=u/o%10|0,l=e<0||f[c+1]!==void 0||u%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/Jc(10,s-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=qr(t),f.length=1,e=e-o-1,f[0]=Jc(10,(Yn-e%Yn)%Yn),t.e=Sp(-e/Yn)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=Jc(10,Yn-r),f[c]=i>0?(u/Jc(10,s-i)%Jc(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==ai&&(f[0]=1,++t.e);break}else{if(f[c]+=o,f[c]!=ai)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(ir&&(t.e>lw||t.e<-lw))throw Error(uP+qr(t));return t}function s9(t,e){var n,r,i,o,s,a,l,u,c,f,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),ir?Fn(e,h):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,a=f.length):(n=f,r=u,a=l.length),i=Math.max(Math.ceil(h/Yn),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=f.length,c=i<a,c&&(a=i),i=0;i<a;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}s=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),a=l.length,i=f.length-a;i>0;--i)l[a++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=ai-1;--l[o],l[i]+=ai}l[i]-=f[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,ir?Fn(e,h):e):new d(0)}function Of(t,e,n){var r,i=qr(t),o=La(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+Mu(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Mu(-i-1)+o,n&&(r=n-s)>0&&(o+=Mu(r))):i>=s?(o+=Mu(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+Mu(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=Mu(r))),t.s<0?"-"+o:o}function JO(t,e){if(t.length>e)return t.length=e,!0}function a9(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(gf+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return YO(s,o.toString())}else if(typeof o!="string")throw Error(gf+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,s5e.test(o))YO(s,o);else throw Error(gf+o)}if(i.prototype=tt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=a9,i.config=i.set=a5e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function a5e(t){if(!t||typeof t!="object")throw Error(Ns+"Object expected");var e,n,r,i=["precision",1,xp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Sp(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(gf+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(gf+n+": "+r);return this}var cP=a9(o5e);Go=new cP(1);const kn=cP;function l5e(t){return d5e(t)||f5e(t)||c5e(t)||u5e()}function u5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c5e(t,e){if(t){if(typeof t=="string")return s5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s5(t,e)}}function f5e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function d5e(t){if(Array.isArray(t))return s5(t)}function s5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var h5e=function(e){return e},l9={},u9=function(e){return e===l9},XO=function(e){return function n(){return arguments.length===0||arguments.length===1&&u9(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},p5e=function t(e,n){return e===1?n:XO(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==l9}).length;return s>=e?n.apply(void 0,i):t(e-s,XO(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var c=i.map(function(f){return u9(f)?l.shift():f});return n.apply(void 0,l5e(c).concat(l))}))})},p2=function(e){return p5e(e.length,e)},a5=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},m5e=p2(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),g5e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return h5e;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},l5=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},c9=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,l){return a===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function y5e(t){var e;return t===0?e=1:e=Math.floor(new kn(t).abs().log(10).toNumber())+1,e}function v5e(t,e,n){for(var r=new kn(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var w5e=p2(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),_5e=p2(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),b5e=p2(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const m2={rangeStep:v5e,getDigitCount:y5e,interpolateNumber:w5e,uninterpolateNumber:_5e,uninterpolateTruncation:b5e};function u5(t){return E5e(t)||S5e(t)||f9(t)||x5e()}function x5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S5e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function E5e(t){if(Array.isArray(t))return c5(t)}function Gg(t,e){return I5e(t)||T5e(t,e)||f9(t,e)||A5e()}function A5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f9(t,e){if(t){if(typeof t=="string")return c5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c5(t,e)}}function c5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function T5e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function I5e(t){if(Array.isArray(t))return t}function d9(t){var e=Gg(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function h9(t,e,n){if(t.lte(0))return new kn(0);var r=m2.getDigitCount(t.toNumber()),i=new kn(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new kn(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?l:new kn(Math.ceil(l))}function P5e(t,e,n){var r=1,i=new kn(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new kn(10).pow(m2.getDigitCount(t)-1),i=new kn(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new kn(Math.floor(t)))}else t===0?i=new kn(Math.floor((e-1)/2)):n||(i=new kn(Math.floor(t)));var s=Math.floor((e-1)/2),a=g5e(m5e(function(l){return i.add(new kn(l-s).mul(r)).toNumber()}),a5);return a(0,e)}function p9(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new kn(0),tickMin:new kn(0),tickMax:new kn(0)};var o=h9(new kn(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new kn(0):(s=new kn(t).add(e).div(2),s=s.sub(new kn(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new kn(e).sub(s).div(o).toNumber()),u=a+l+1;return u>n?p9(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,a=e>0?a:a+(n-u)),{step:o,tickMin:s.sub(new kn(a).mul(o)),tickMax:s.add(new kn(l).mul(o))})}function C5e(t){var e=Gg(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=d9([n,r]),l=Gg(a,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(u5(a5(0,i-1).map(function(){return 1/0}))):[].concat(u5(a5(0,i-1).map(function(){return-1/0})),[c]);return n>r?l5(f):f}if(u===c)return P5e(u,i,o);var d=p9(u,c,s,o),h=d.step,v=d.tickMin,_=d.tickMax,w=m2.rangeStep(v,_.add(new kn(.1).mul(h)),h);return n>r?l5(w):w}function N5e(t,e){var n=Gg(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=d9([r,i]),a=Gg(s,2),l=a[0],u=a[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=h9(new kn(u).sub(l).div(c-1),o,0),d=[].concat(u5(m2.rangeStep(new kn(l),new kn(u).sub(new kn(.99).mul(f)),f)),[u]);return r>i?l5(d):d}var k5e=c9(C5e),R5e=c9(N5e),O5e="Invariant failed";function Mf(t,e){throw new Error(O5e)}var M5e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function qh(t){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qh(t)}function uw(){return uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uw.apply(this,arguments)}function L5e(t,e){return j5e(t)||U5e(t,e)||F5e(t,e)||D5e()}function D5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F5e(t,e){if(t){if(typeof t=="string")return QO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QO(t,e)}}function QO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function U5e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function j5e(t){if(Array.isArray(t))return t}function $5e(t,e){if(t==null)return{};var n=B5e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function B5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function V5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q5e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y9(r.key),r)}}function z5e(t,e,n){return e&&q5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function H5e(t,e,n){return e=cw(e),G5e(t,m9()?Reflect.construct(e,n||[],cw(t).constructor):e.apply(t,n))}function G5e(t,e){if(e&&(qh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W5e(t)}function W5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m9=function(){return!!t})()}function cw(t){return cw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cw(t)}function K5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f5(t,e)}function f5(t,e){return f5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},f5(t,e)}function g9(t,e,n){return e=y9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y9(t){var e=Y5e(t,"string");return qh(e)=="symbol"?e:e+""}function Y5e(t,e){if(qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var g2=function(t){function e(){return V5e(this,e),H5e(this,e,arguments)}return K5e(e,t),z5e(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,a=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,d=$5e(r,M5e),h=pn(d,!1);this.props.direction==="x"&&c.type!=="number"&&Mf();var v=l.map(function(_){var w=u(_,a),b=w.x,E=w.y,A=w.value,C=w.errorVal;if(!C)return null;var R=[],F,k;if(Array.isArray(C)){var N=L5e(C,2);F=N[0],k=N[1]}else F=k=C;if(o==="vertical"){var T=c.scale,j=E+i,P=j+s,D=j-s,U=T(A-F),z=T(A+k);R.push({x1:z,y1:P,x2:z,y2:D}),R.push({x1:U,y1:j,x2:z,y2:j}),R.push({x1:U,y1:P,x2:U,y2:D})}else if(o==="horizontal"){var ee=f.scale,le=b+i,ue=le-s,X=le+s,ae=ee(A-F),ye=ee(A+k);R.push({x1:ue,y1:ye,x2:X,y2:ye}),R.push({x1:le,y1:ae,x2:le,y2:ye}),R.push({x1:ue,y1:ae,x2:X,y2:ae})}return xe.createElement(ci,uw({className:"recharts-errorBar",key:"bar-".concat(R.map(function(me){return"".concat(me.x1,"-").concat(me.x2,"-").concat(me.y1,"-").concat(me.y2)}))},h),R.map(function(me){return xe.createElement("line",uw({},me,{key:"line-".concat(me.x1,"-").concat(me.x2,"-").concat(me.y1,"-").concat(me.y2)}))}))});return xe.createElement(ci,{className:"recharts-errorBars"},v)}}])}(xe.Component);g9(g2,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});g9(g2,"displayName","ErrorBar");function Wg(t){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wg(t)}function ZO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(n),!0).forEach(function(r){J5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J5e(t,e,n){return e=X5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X5e(t){var e=Q5e(t,"string");return Wg(e)=="symbol"?e:e+""}function Q5e(t,e){if(Wg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var v9=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=Ho(n,ch);if(!s)return null;var a=ch.defaultProps,l=a!==void 0?Vc(Vc({},a),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:o==="children"?u=(r||[]).reduce(function(c,f){var d=f.item,h=f.props,v=h.sectors||h.data||[];return c.concat(v.map(function(_){return{type:s.props.iconType||d.props.legendType,value:_.name,color:_.fill,payload:_}}))},[]):u=(r||[]).map(function(c){var f=c.item,d=f.type.defaultProps,h=d!==void 0?Vc(Vc({},d),f.props):{},v=h.dataKey,_=h.name,w=h.legendType,b=h.hide;return{inactive:b,dataKey:v,type:l.iconType||w||"square",color:fP(f),value:_||v,payload:h}}),Vc(Vc(Vc({},l),ch.getWithHeight(s,i)),{},{payload:u,item:s})};function Kg(t){"@babel/helpers - typeof";return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kg(t)}function eM(t){return nAe(t)||tAe(t)||eAe(t)||Z5e()}function Z5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eAe(t,e){if(t){if(typeof t=="string")return d5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d5(t,e)}}function tAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nAe(t){if(Array.isArray(t))return d5(t)}function d5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tM(Object(n),!0).forEach(function(r){dh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dh(t,e,n){return e=rAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rAe(t){var e=iAe(t,"string");return Kg(e)=="symbol"?e:e+""}function iAe(t,e){if(Kg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ja(t,e,n){return gn(t)||gn(e)?n:Zr(e)?Ts(t,e,n):Gt(e)?e(t):n}function Zm(t,e,n,r){var i=t5e(t,function(a){return Ja(a,e)});if(n==="number"){var o=i.filter(function(a){return He(a)||parseFloat(a)});return o.length?[h2(o),d2(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!gn(a)}):i;return s.map(function(a){return Zr(a)||a instanceof Date?a:""})}var oAe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<a;u++){var c=u>0?i[u-1].coordinate:i[a-1].coordinate,f=i[u].coordinate,d=u>=a-1?i[0].coordinate:i[u+1].coordinate,h=void 0;if(Js(f-c)!==Js(d-f)){var v=[];if(Js(d-f)===Js(l[1]-l[0])){h=d;var _=f+l[1]-l[0];v[0]=Math.min(_,(_+c)/2),v[1]=Math.max(_,(_+c)/2)}else{h=c;var w=d+l[1]-l[0];v[0]=Math.min(f,(w+f)/2),v[1]=Math.max(f,(w+f)/2)}var b=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(e>b[0]&&e<=b[1]||e>=v[0]&&e<=v[1]){s=i[u].index;break}}else{var E=Math.min(c,d),A=Math.max(c,d);if(e>(E+f)/2&&e<=(A+f)/2){s=i[u].index;break}}}else for(var C=0;C<a;C++)if(C===0&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C>0&&C<a-1&&e>(r[C].coordinate+r[C-1].coordinate)/2&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C===a-1&&e>(r[C].coordinate+r[C-1].coordinate)/2){s=r[C].index;break}return s},fP=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?br(br({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:a;break;default:l=a;break}return l},sAe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,u=a.length;l<u;l++)for(var c=o[a[l]].stackGroups,f=Object.keys(c),d=0,h=f.length;d<h;d++){var v=c[f[d]],_=v.items,w=v.cateAxisId,b=_.filter(function(k){return Ll(k.type).indexOf("Bar")>=0});if(b&&b.length){var E=b[0].type.defaultProps,A=E!==void 0?br(br({},E),b[0].props):b[0].props,C=A.barSize,R=A[w];s[R]||(s[R]=[]);var F=gn(C)?n:C;s[R].push({item:b[0],stackList:b.slice(1),barSize:gn(F)?void 0:Rf(F,r,0)})}}return s},aAe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var u=Rf(n,i,0,!0),c,f=[];if(s[0].barSize===+s[0].barSize){var d=!1,h=i/l,v=s.reduce(function(C,R){return C+R.barSize||0},0);v+=(l-1)*u,v>=i&&(v-=(l-1)*u,u=0),v>=i&&h>0&&(d=!0,h*=.9,v=l*h);var _=(i-v)/2>>0,w={offset:_-u,size:0};c=s.reduce(function(C,R){var F={item:R.item,position:{offset:w.offset+w.size+u,size:d?h:R.barSize}},k=[].concat(eM(C),[F]);return w=k[k.length-1].position,R.stackList&&R.stackList.length&&R.stackList.forEach(function(N){k.push({item:N,position:w})}),k},f)}else{var b=Rf(r,i,0,!0);i-2*b-(l-1)*u<=0&&(u=0);var E=(i-2*b-(l-1)*u)/l;E>1&&(E>>=0);var A=a===+a?Math.min(E,a):E;c=s.reduce(function(C,R,F){var k=[].concat(eM(C),[{item:R.item,position:{offset:b+(E+u)*F+(E-A)/2,size:A}}]);return R.stackList&&R.stackList.length&&R.stackList.forEach(function(N){k.push({item:N,position:k[k.length-1].position})}),k},f)}return c},lAe=function(e,n,r,i){var o=r.children,s=r.width,a=r.margin,l=s-(a.left||0)-(a.right||0),u=v9({children:o,legendWidth:l});if(u){var c=i||{},f=c.width,d=c.height,h=u.align,v=u.verticalAlign,_=u.layout;if((_==="vertical"||_==="horizontal"&&v==="middle")&&h!=="center"&&He(e[h]))return br(br({},e),{},dh({},h,e[h]+(f||0)));if((_==="horizontal"||_==="vertical"&&h==="center")&&v!=="middle"&&He(e[v]))return br(br({},e),{},dh({},v,e[v]+(d||0)))}return e},uAe=function(e,n,r){return gn(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},w9=function(e,n,r,i,o){var s=n.props.children,a=ta(s,g2).filter(function(u){return uAe(i,o,u.props.direction)});if(a&&a.length){var l=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=Ja(c,r);if(gn(f))return u;var d=Array.isArray(f)?[h2(f),d2(f)]:[f,f],h=l.reduce(function(v,_){var w=Ja(c,_,0),b=d[0]-Math.abs(Array.isArray(w)?w[0]:w),E=d[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(b,v[0]),Math.max(E,v[1])]},[1/0,-1/0]);return[Math.min(h[0],u[0]),Math.max(h[1],u[1])]},[1/0,-1/0])}return null},cAe=function(e,n,r,i,o){var s=n.map(function(a){return w9(e,a,r,o,i)}).filter(function(a){return!gn(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},_9=function(e,n,r,i,o){var s=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&w9(e,l,u,i)||Zm(e,u,r,o)});if(r==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)a[u[c]]||(a[u[c]]=!0,l.push(u[c]));return l},[])},b9=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},x9=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,s,a=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(s=!0),l.coordinate});return o||a.push(n),s||a.push(r),a},kl=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?Js(a[0]-a[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var d=o?o.indexOf(f):f;return{coordinate:i(d)+u,value:f,offset:u}});return c.filter(function(f){return!Uy(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,d){return{coordinate:i(f)+u,value:f,index:d,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,d){return{coordinate:i(f)+u,value:o?o[f]:f,index:d,offset:u}})},ix=new WeakMap,Jv=function(e,n){if(typeof n!="function")return e;ix.has(e)||ix.set(e,new WeakMap);var r=ix.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},fAe=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:$g(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:iw(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Qm(),realScaleType:"point"}:o==="category"?{scale:$g(),realScaleType:"band"}:{scale:iw(),realScaleType:"linear"};if(kf(i)){var l="scale".concat(Z_(i));return{scale:(KO[l]||Qm)(),realScaleType:KO[l]?l:"point"}}return Gt(i)?{scale:i}:{scale:Qm(),realScaleType:"point"}},nM=1e-4,dAe=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-nM,s=Math.max(i[0],i[1])+nM,a=e(n[0]),l=e(n[r-1]);(a<o||a>s||l<o||l>s)&&e.domain([n[0],n[r-1]])}},hAe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},pAe=function(e,n){if(!n||n.length!==2||!He(n[0])||!He(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!He(e[0])||e[0]<r)&&(o[0]=r),(!He(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},mAe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var l=Uy(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},gAe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=Uy(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=o,e[s][r][1]=o+a,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},yAe={sign:mAe,expand:kme,none:Lh,silhouette:Rme,wiggle:Ome,positive:gAe},vAe=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=yAe[r],s=Nme().keys(i).value(function(a,l){return+Ja(a,l,0)}).order(FE).offset(o);return s(e)},wAe=function(e,n,r,i,o,s){if(!e)return null;var a=s?n.reverse():n,l={},u=a.reduce(function(f,d){var h,v=(h=d.type)!==null&&h!==void 0&&h.defaultProps?br(br({},d.type.defaultProps),d.props):d.props,_=v.stackId,w=v.hide;if(w)return f;var b=v[r],E=f[b]||{hasStack:!1,stackGroups:{}};if(Zr(_)){var A=E.stackGroups[_]||{numericAxisId:r,cateAxisId:i,items:[]};A.items.push(d),E.hasStack=!0,E.stackGroups[_]=A}else E.stackGroups[Q_("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[d]};return br(br({},f),{},dh({},b,E))},l),c={};return Object.keys(u).reduce(function(f,d){var h=u[d];if(h.hasStack){var v={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(_,w){var b=h.stackGroups[w];return br(br({},_),{},dh({},w,{numericAxisId:r,cateAxisId:i,items:b.items,stackedData:vAe(e,b.items,o)}))},v)}return br(br({},f),{},dh({},d,h))},c)},_Ae=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=k5e(u,o,a);return e.domain([h2(c),d2(c)]),{niceTicks:c}}if(o&&i==="number"){var f=e.domain(),d=R5e(f,o,a);return{niceTicks:d}}return null},rM=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=Ja(s,n.dataKey,n.domain[a]);return gn(l)?null:n.scale(l)-o/2+i},bAe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},xAe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?br(br({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Zr(o)){var s=n[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},SAe=function(e){return e.reduce(function(n,r){return[h2(r.concat([n[0]]).filter(He)),d2(r.concat([n[1]]).filter(He))]},[1/0,-1/0])},S9=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(u,c){var f=SAe(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},iM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,oM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,h5=function(e,n,r){if(Gt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(He(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(iM.test(e[0])){var o=+iM.exec(e[0])[1];i[0]=n[0]-o}else Gt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(He(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(oM.test(e[1])){var s=+oM.exec(e[1])[1];i[1]=n[1]+s}else Gt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},fw=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=UI(n,function(f){return f.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var u=o[a],c=o[a-1];s=Math.min((u.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},sM=function(e,n,r){return!e||!e.length||lP(e,Ts(r,"type.defaultProps.domain"))?n:e},E9=function(e,n){var r=e.type.defaultProps?br(br({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return br(br({},pn(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:fP(e),value:Ja(n,i),type:l,payload:n,chartType:u,hide:c})};function Yg(t){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yg(t)}function aM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aM(Object(n),!0).forEach(function(r){EAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EAe(t,e,n){return e=AAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AAe(t){var e=TAe(t,"string");return Yg(e)=="symbol"?e:e+""}function TAe(t,e){if(Yg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dw=Math.PI/180,IAe=function(e){return e*180/Math.PI},Si=function(e,n,r,i){return{x:e+Math.cos(-dw*i)*r,y:n+Math.sin(-dw*i)*r}},PAe=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},CAe=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,a=PAe({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(r-o)/a,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:a,angle:IAe(u),angleInRadian:u}},NAe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},kAe=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},uM=function(e,n){var r=e.x,i=e.y,o=CAe({x:r,y:i},n),s=o.radius,a=o.angle,l=n.innerRadius,u=n.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var c=NAe(n),f=c.startAngle,d=c.endAngle,h=a,v;if(f<=d){for(;h>d;)h-=360;for(;h<f;)h+=360;v=h>=f&&h<=d}else{for(;h>f;)h-=360;for(;h<d;)h+=360;v=h>=d&&h<=f}return v?lM(lM({},n),{},{radius:s,angle:kAe(h,n)}):null};function Jg(t){"@babel/helpers - typeof";return Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jg(t)}var RAe=["offset"];function OAe(t){return FAe(t)||DAe(t)||LAe(t)||MAe()}function MAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LAe(t,e){if(t){if(typeof t=="string")return p5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p5(t,e)}}function DAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function FAe(t){if(Array.isArray(t))return p5(t)}function p5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function UAe(t,e){if(t==null)return{};var n=jAe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cM(Object(n),!0).forEach(function(r){$Ae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Ae(t,e,n){return e=BAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BAe(t){var e=VAe(t,"string");return Jg(e)=="symbol"?e:e+""}function VAe(t,e){if(Jg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xg(){return Xg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xg.apply(this,arguments)}var qAe=function(e){var n=e.value,r=e.formatter,i=gn(e.children)?n:e.children;return Gt(r)?r(i):i},zAe=function(e,n){var r=Js(n-e),i=Math.min(Math.abs(n-e),360);return r*i},HAe=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,u=l.cx,c=l.cy,f=l.innerRadius,d=l.outerRadius,h=l.startAngle,v=l.endAngle,_=l.clockWise,w=(f+d)/2,b=zAe(h,v),E=b>=0?1:-1,A,C;i==="insideStart"?(A=h+E*s,C=_):i==="insideEnd"?(A=v-E*s,C=!_):i==="end"&&(A=v+E*s,C=_),C=b<=0?C:!C;var R=Si(u,c,w,A),F=Si(u,c,w,A+(C?1:-1)*359),k="M".concat(R.x,",").concat(R.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(C?0:1,`,
    `).concat(F.x,",").concat(F.y),N=gn(e.id)?Q_("recharts-radial-line-"):e.id;return xe.createElement("text",Xg({},r,{dominantBaseline:"central",className:mn("recharts-radial-bar-label",a)}),xe.createElement("defs",null,xe.createElement("path",{id:N,d:k})),xe.createElement("textPath",{xlinkHref:"#".concat(N)},n))},GAe=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,a=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,f=o.endAngle,d=(c+f)/2;if(i==="outside"){var h=Si(s,a,u+r,d),v=h.x,_=h.y;return{x:v,y:_,textAnchor:v>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var w=(l+u)/2,b=Si(s,a,w,d),E=b.x,A=b.y;return{x:E,y:A,textAnchor:"middle",verticalAnchor:"middle"}},WAe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,a=s.x,l=s.y,u=s.width,c=s.height,f=c>=0?1:-1,d=f*i,h=f>0?"end":"start",v=f>0?"start":"end",_=u>=0?1:-1,w=_*i,b=_>0?"end":"start",E=_>0?"start":"end";if(o==="top"){var A={x:a+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:h};return Jr(Jr({},A),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var C={x:a+u/2,y:l+c+d,textAnchor:"middle",verticalAnchor:v};return Jr(Jr({},C),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var R={x:a-w,y:l+c/2,textAnchor:b,verticalAnchor:"middle"};return Jr(Jr({},R),r?{width:Math.max(R.x-r.x,0),height:c}:{})}if(o==="right"){var F={x:a+u+w,y:l+c/2,textAnchor:E,verticalAnchor:"middle"};return Jr(Jr({},F),r?{width:Math.max(r.x+r.width-F.x,0),height:c}:{})}var k=r?{width:u,height:c}:{};return o==="insideLeft"?Jr({x:a+w,y:l+c/2,textAnchor:E,verticalAnchor:"middle"},k):o==="insideRight"?Jr({x:a+u-w,y:l+c/2,textAnchor:b,verticalAnchor:"middle"},k):o==="insideTop"?Jr({x:a+u/2,y:l+d,textAnchor:"middle",verticalAnchor:v},k):o==="insideBottom"?Jr({x:a+u/2,y:l+c-d,textAnchor:"middle",verticalAnchor:h},k):o==="insideTopLeft"?Jr({x:a+w,y:l+d,textAnchor:E,verticalAnchor:v},k):o==="insideTopRight"?Jr({x:a+u-w,y:l+d,textAnchor:b,verticalAnchor:v},k):o==="insideBottomLeft"?Jr({x:a+w,y:l+c-d,textAnchor:E,verticalAnchor:h},k):o==="insideBottomRight"?Jr({x:a+u-w,y:l+c-d,textAnchor:b,verticalAnchor:h},k):pp(o)&&(He(o.x)||sf(o.x))&&(He(o.y)||sf(o.y))?Jr({x:a+Rf(o.x,u),y:l+Rf(o.y,c),textAnchor:"end",verticalAnchor:"end"},k):Jr({x:a+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},k)},KAe=function(e){return"cx"in e&&He(e.cx)};function zi(t){var e=t.offset,n=e===void 0?5:e,r=UAe(t,RAe),i=Jr({offset:n},r),o=i.viewBox,s=i.position,a=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,d=i.textBreakAll;if(!o||gn(a)&&gn(l)&&!ce.isValidElement(u)&&!Gt(u))return null;if(ce.isValidElement(u))return ce.cloneElement(u,i);var h;if(Gt(u)){if(h=ce.createElement(u,i),ce.isValidElement(h))return h}else h=qAe(i);var v=KAe(o),_=pn(i,!0);if(v&&(s==="insideStart"||s==="insideEnd"||s==="end"))return HAe(i,h,_);var w=v?GAe(i):WAe(i);return xe.createElement(X1,Xg({className:mn("recharts-label",f)},_,w,{breakAll:d}),h)}zi.displayName="Label";var A9=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,d=e.y,h=e.top,v=e.left,_=e.width,w=e.height,b=e.clockWise,E=e.labelViewBox;if(E)return E;if(He(_)&&He(w)){if(He(f)&&He(d))return{x:f,y:d,width:_,height:w};if(He(h)&&He(v))return{x:h,y:v,width:_,height:w}}return He(f)&&He(d)?{x:f,y:d,width:0,height:0}:He(n)&&He(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:c||l||a||0,clockWise:b}:e.viewBox?e.viewBox:{}},YAe=function(e,n){return e?e===!0?xe.createElement(zi,{key:"label-implicit",viewBox:n}):Zr(e)?xe.createElement(zi,{key:"label-implicit",viewBox:n,value:e}):ce.isValidElement(e)?e.type===zi?ce.cloneElement(e,{key:"label-implicit",viewBox:n}):xe.createElement(zi,{key:"label-implicit",content:e,viewBox:n}):Gt(e)?xe.createElement(zi,{key:"label-implicit",content:e,viewBox:n}):pp(e)?xe.createElement(zi,Xg({viewBox:n},e,{key:"label-implicit"})):null:null},JAe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=A9(e),s=ta(i,zi).map(function(l,u){return ce.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return s;var a=YAe(e.label,n||o);return[a].concat(OAe(s))};zi.parseViewBox=A9;zi.renderCallByParent=JAe;function XAe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var QAe=XAe;const ZAe=Un(QAe);function Qg(t){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qg(t)}var eTe=["valueAccessor"],tTe=["data","dataKey","clockWise","id","textBreakAll"];function nTe(t){return sTe(t)||oTe(t)||iTe(t)||rTe()}function rTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iTe(t,e){if(t){if(typeof t=="string")return m5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m5(t,e)}}function oTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sTe(t){if(Array.isArray(t))return m5(t)}function m5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hw(){return hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hw.apply(this,arguments)}function fM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fM(Object(n),!0).forEach(function(r){aTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aTe(t,e,n){return e=lTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lTe(t){var e=uTe(t,"string");return Qg(e)=="symbol"?e:e+""}function uTe(t,e){if(Qg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hM(t,e){if(t==null)return{};var n=cTe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var fTe=function(e){return Array.isArray(e.value)?ZAe(e.value):e.value};function yf(t){var e=t.valueAccessor,n=e===void 0?fTe:e,r=hM(t,eTe),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,l=r.textBreakAll,u=hM(r,tTe);return!i||!i.length?null:xe.createElement(ci,{className:"recharts-label-list"},i.map(function(c,f){var d=gn(o)?n(c,f):Ja(c&&c.payload,o),h=gn(a)?{}:{id:"".concat(a,"-").concat(f)};return xe.createElement(zi,hw({},pn(c,!0),u,h,{parentViewBox:c.parentViewBox,value:d,textBreakAll:l,viewBox:zi.parseViewBox(gn(s)?c:dM(dM({},c),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}yf.displayName="LabelList";function dTe(t,e){return t?t===!0?xe.createElement(yf,{key:"labelList-implicit",data:e}):xe.isValidElement(t)||Gt(t)?xe.createElement(yf,{key:"labelList-implicit",data:e,content:t}):pp(t)?xe.createElement(yf,hw({data:e},t,{key:"labelList-implicit"})):null:null}function hTe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=ta(r,yf).map(function(s,a){return ce.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var o=dTe(t.label,e);return[o].concat(nTe(i))}yf.renderCallByParent=hTe;function Zg(t){"@babel/helpers - typeof";return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zg(t)}function g5(){return g5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g5.apply(this,arguments)}function pM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pM(Object(n),!0).forEach(function(r){pTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pTe(t,e,n){return e=mTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mTe(t){var e=gTe(t,"string");return Zg(e)=="symbol"?e:e+""}function gTe(t,e){if(Zg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yTe=function(e,n){var r=Js(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Xv=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(a?1:-1)+i,f=Math.asin(l/c)/dw,d=u?o:o+s*f,h=Si(n,r,c,d),v=Si(n,r,i,d),_=u?o-s*f:o,w=Si(n,r,c*Math.cos(f*dw),_);return{center:h,circleTangency:v,lineTangency:w,theta:f}},T9=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=yTe(s,a),u=s+l,c=Si(n,r,o,s),f=Si(n,r,o,u),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var h=Si(n,r,i,s),v=Si(n,r,i,u);d+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},vTe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=Js(c-u),d=Xv({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:s,cornerIsExternal:l}),h=d.circleTangency,v=d.lineTangency,_=d.theta,w=Xv({cx:n,cy:r,radius:o,angle:c,sign:-f,cornerRadius:s,cornerIsExternal:l}),b=w.circleTangency,E=w.lineTangency,A=w.theta,C=l?Math.abs(u-c):Math.abs(u-c)-_-A;if(C<0)return a?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):T9({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var R="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
  `);if(i>0){var F=Xv({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),k=F.circleTangency,N=F.lineTangency,T=F.theta,j=Xv({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),P=j.circleTangency,D=j.lineTangency,U=j.theta,z=l?Math.abs(u-c):Math.abs(u-c)-T-U;if(z<0&&s===0)return"".concat(R,"L").concat(n,",").concat(r,"Z");R+="L".concat(D.x,",").concat(D.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(z>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,"Z")}else R+="L".concat(n,",").concat(r,"Z");return R},wTe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},I9=function(e){var n=mM(mM({},wTe),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,d=n.className;if(s<o||c===f)return null;var h=mn("recharts-sector",d),v=s-o,_=Rf(a,v,0,!0),w;return _>0&&Math.abs(c-f)<360?w=vTe({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(_,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):w=T9({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:c,endAngle:f}),xe.createElement("path",g5({},pn(n,!0),{className:h,d:w,role:"img"}))};function ey(t){"@babel/helpers - typeof";return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ey(t)}function y5(){return y5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y5.apply(this,arguments)}function gM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gM(Object(n),!0).forEach(function(r){_Te(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Te(t,e,n){return e=bTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bTe(t){var e=xTe(t,"string");return ey(e)=="symbol"?e:e+""}function xTe(t,e){if(ey(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ey(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vM={curveBasisClosed:wme,curveBasisOpen:_me,curveBasis:vme,curveBumpX:ime,curveBumpY:ome,curveLinearClosed:bme,curveLinear:t2,curveMonotoneX:xme,curveMonotoneY:Sme,curveNatural:Eme,curveStep:Ame,curveStepAfter:Ime,curveStepBefore:Tme},Qv=function(e){return e.x===+e.x&&e.y===+e.y},mm=function(e){return e.x},gm=function(e){return e.y},STe=function(e,n){if(Gt(e))return e;var r="curve".concat(Z_(e));return(r==="curveMonotone"||r==="curveBump")&&n?vM["".concat(r).concat(n==="vertical"?"Y":"X")]:vM[r]||t2},ETe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=STe(r,a),f=u?o.filter(function(_){return Qv(_)}):o,d;if(Array.isArray(s)){var h=u?s.filter(function(_){return Qv(_)}):s,v=f.map(function(_,w){return yM(yM({},_),{},{base:h[w]})});return a==="vertical"?d=Vv().y(gm).x1(mm).x0(function(_){return _.base.x}):d=Vv().x(mm).y1(gm).y0(function(_){return _.base.y}),d.defined(Qv).curve(c),d(v)}return a==="vertical"&&He(s)?d=Vv().y(gm).x1(mm).x0(s):He(s)?d=Vv().x(mm).y1(gm).y0(s):d=I$().x(mm).y(gm),d.defined(Qv).curve(c),d(f)},wM=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?ETe(e):i;return ce.createElement("path",y5({},pn(e,!1),D1(e),{className:mn("recharts-curve",n),d:s,ref:o}))},P9={exports:{}},ATe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",TTe=ATe,ITe=TTe;function C9(){}function N9(){}N9.resetWarningCache=C9;var PTe=function(){function t(r,i,o,s,a,l){if(l!==ITe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:N9,resetWarningCache:C9};return n.PropTypes=n,n};P9.exports=PTe();var CTe=P9.exports;const _n=Un(CTe),{getOwnPropertyNames:NTe,getOwnPropertySymbols:kTe}=Object,{hasOwnProperty:RTe}=Object.prototype;function ox(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Zv(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);const l=t(n,r,i);return o.delete(n),o.delete(r),l}}function OTe(t){return t!=null?t[Symbol.toStringTag]:void 0}function _M(t){return NTe(t).concat(kTe(t))}const MTe=Object.hasOwn||((t,e)=>RTe.call(t,e));function Qf(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const LTe="__v",DTe="__o",FTe="_owner",{getOwnPropertyDescriptor:bM,keys:xM}=Object;function UTe(t,e){return t.byteLength===e.byteLength&&pw(new Uint8Array(t),new Uint8Array(e))}function jTe(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function $Te(t,e){return t.byteLength===e.byteLength&&pw(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function BTe(t,e){return Qf(t.getTime(),e.getTime())}function VTe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function qTe(t,e){return t===e}function SM(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let s,a,l=0;for(;(s=o.next())&&!s.done;){const u=e.entries();let c=!1,f=0;for(;(a=u.next())&&!a.done;){if(i[f]){f++;continue}const d=s.value,h=a.value;if(n.equals(d[0],h[0],l,f,t,e,n)&&n.equals(d[1],h[1],d[0],h[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}const zTe=Qf;function HTe(t,e,n){const r=xM(t);let i=r.length;if(xM(e).length!==i)return!1;for(;i-- >0;)if(!k9(t,e,n,r[i]))return!1;return!0}function ym(t,e,n){const r=_M(t);let i=r.length;if(_M(e).length!==i)return!1;let o,s,a;for(;i-- >0;)if(o=r[i],!k9(t,e,n,o)||(s=bM(t,o),a=bM(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function GTe(t,e){return Qf(t.valueOf(),e.valueOf())}function WTe(t,e){return t.source===e.source&&t.flags===e.flags}function EM(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let s,a;for(;(s=o.next())&&!s.done;){const l=e.values();let u=!1,c=0;for(;(a=l.next())&&!a.done;){if(!i[c]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function pw(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function KTe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function k9(t,e,n,r){return(r===FTe||r===DTe||r===LTe)&&(t.$$typeof||e.$$typeof)?!0:MTe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const YTe="[object ArrayBuffer]",JTe="[object Arguments]",XTe="[object Boolean]",QTe="[object DataView]",ZTe="[object Date]",eIe="[object Error]",tIe="[object Map]",nIe="[object Number]",rIe="[object Object]",iIe="[object RegExp]",oIe="[object Set]",sIe="[object String]",aIe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},lIe="[object URL]",uIe=Object.prototype.toString;function cIe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:s,areNumbersEqual:a,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:f,areTypedArraysEqual:d,areUrlsEqual:h,unknownTagComparators:v}){return function(w,b,E){if(w===b)return!0;if(w==null||b==null)return!1;const A=typeof w;if(A!==typeof b)return!1;if(A!=="object")return A==="number"?a(w,b,E):A==="function"?o(w,b,E):!1;const C=w.constructor;if(C!==b.constructor)return!1;if(C===Object)return l(w,b,E);if(Array.isArray(w))return e(w,b,E);if(C===Date)return r(w,b,E);if(C===RegExp)return c(w,b,E);if(C===Map)return s(w,b,E);if(C===Set)return f(w,b,E);const R=uIe.call(w);if(R===ZTe)return r(w,b,E);if(R===iIe)return c(w,b,E);if(R===tIe)return s(w,b,E);if(R===oIe)return f(w,b,E);if(R===rIe)return typeof w.then!="function"&&typeof b.then!="function"&&l(w,b,E);if(R===lIe)return h(w,b,E);if(R===eIe)return i(w,b,E);if(R===JTe)return l(w,b,E);if(aIe[R])return d(w,b,E);if(R===YTe)return t(w,b,E);if(R===QTe)return n(w,b,E);if(R===XTe||R===nIe||R===sIe)return u(w,b,E);if(v){let F=v[R];if(!F){const k=OTe(w);k&&(F=v[k])}if(F)return F(w,b,E)}return!1}}function fIe({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:UTe,areArraysEqual:n?ym:jTe,areDataViewsEqual:$Te,areDatesEqual:BTe,areErrorsEqual:VTe,areFunctionsEqual:qTe,areMapsEqual:n?ox(SM,ym):SM,areNumbersEqual:zTe,areObjectsEqual:n?ym:HTe,arePrimitiveWrappersEqual:GTe,areRegExpsEqual:WTe,areSetsEqual:n?ox(EM,ym):EM,areTypedArraysEqual:n?ox(pw,ym):pw,areUrlsEqual:KTe,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=Zv(r.areArraysEqual),o=Zv(r.areMapsEqual),s=Zv(r.areObjectsEqual),a=Zv(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:a})}return r}function dIe(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function hIe({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(a,l){const{cache:u=t?new WeakMap:void 0,meta:c}=n();return e(a,l,{cache:u,equals:r,meta:c,strict:i})};if(t)return function(a,l){return e(a,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(a,l){return e(a,l,o)}}const pIe=Ac();Ac({strict:!0});Ac({circular:!0});Ac({circular:!0,strict:!0});Ac({createInternalComparator:()=>Qf});Ac({strict:!0,createInternalComparator:()=>Qf});Ac({circular:!0,createInternalComparator:()=>Qf});Ac({circular:!0,createInternalComparator:()=>Qf,strict:!0});function Ac(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=fIe(t),s=cIe(o),a=n?n(s):dIe(s);return hIe({circular:e,comparator:s,createState:r,equals:a,strict:i})}function mIe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function AM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):mIe(i)};requestAnimationFrame(r)}function v5(t){"@babel/helpers - typeof";return v5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v5(t)}function gIe(t){return _Ie(t)||wIe(t)||vIe(t)||yIe()}function yIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vIe(t,e){if(t){if(typeof t=="string")return TM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TM(t,e)}}function TM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _Ie(t){if(Array.isArray(t))return t}function bIe(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=gIe(s),l=a[0],u=a.slice(1);if(typeof l=="number"){AM(i.bind(null,u),l);return}i(l),AM(i.bind(null,u));return}v5(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function ty(t){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ty(t)}function IM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IM(Object(n),!0).forEach(function(r){R9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R9(t,e,n){return e=xIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xIe(t){var e=SIe(t,"string");return ty(e)==="symbol"?e:String(e)}function SIe(t,e){if(ty(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ty(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EIe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},AIe=function(e){return e},TIe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},eg=function(e,n){return Object.keys(n).reduce(function(r,i){return PM(PM({},r),{},R9({},i,e(i,n[i])))},{})},CM=function(e,n,r){return e.map(function(i){return"".concat(TIe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function IIe(t,e){return NIe(t)||CIe(t,e)||O9(t,e)||PIe()}function PIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function NIe(t){if(Array.isArray(t))return t}function kIe(t){return MIe(t)||OIe(t)||O9(t)||RIe()}function RIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O9(t,e){if(t){if(typeof t=="string")return w5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w5(t,e)}}function OIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MIe(t){if(Array.isArray(t))return w5(t)}function w5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var mw=1e-4,M9=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},L9=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},NM=function(e,n){return function(r){var i=M9(e,n);return L9(i,r)}},LIe=function(e,n){return function(r){var i=M9(e,n),o=[].concat(kIe(i.map(function(s,a){return s*a}).slice(1)),[0]);return L9(o,r)}},kM=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),c=IIe(u,4);i=c[0],o=c[1],s=c[2],a=c[3]}}}var f=NM(i,s),d=NM(o,a),h=LIe(i,s),v=function(b){return b>1?1:b<0?0:b},_=function(b){for(var E=b>1?1:b,A=E,C=0;C<8;++C){var R=f(A)-E,F=h(A);if(Math.abs(R-E)<mw||F<mw)return d(A);A=v(A-R/F)}return d(A)};return _.isStepper=!1,_},DIe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(c,f,d){var h=-(c-f)*r,v=d*o,_=d+(h-v)*a/1e3,w=d*a/1e3+c;return Math.abs(w-f)<mw&&Math.abs(_)<mw?[f,0]:[w,_]};return l.isStepper=!0,l.dt=a,l},FIe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return kM(i);case"spring":return DIe();default:if(i.split("(")[0]==="cubic-bezier")return kM(i)}return typeof i=="function"?i:null};function ny(t){"@babel/helpers - typeof";return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ny(t)}function RM(t){return $Ie(t)||jIe(t)||D9(t)||UIe()}function UIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $Ie(t){if(Array.isArray(t))return b5(t)}function OM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OM(Object(n),!0).forEach(function(r){_5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _5(t,e,n){return e=BIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BIe(t){var e=VIe(t,"string");return ny(e)==="symbol"?e:String(e)}function VIe(t,e){if(ny(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ny(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qIe(t,e){return GIe(t)||HIe(t,e)||D9(t,e)||zIe()}function zIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D9(t,e){if(t){if(typeof t=="string")return b5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b5(t,e)}}function b5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function HIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function GIe(t){if(Array.isArray(t))return t}var gw=function(e,n,r){return e+(n-e)*r},x5=function(e){var n=e.from,r=e.to;return n!==r},WIe=function t(e,n,r){var i=eg(function(o,s){if(x5(s)){var a=e(s.from,s.to,s.velocity),l=qIe(a,2),u=l[0],c=l[1];return wi(wi({},s),{},{from:u,velocity:c})}return s},n);return r<1?eg(function(o,s){return x5(s)?wi(wi({},s),{},{velocity:gw(s.velocity,i[o].velocity,r),from:gw(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const KIe=function(t,e,n,r,i){var o=EIe(t,e),s=o.reduce(function(w,b){return wi(wi({},w),{},_5({},b,[t[b],e[b]]))},{}),a=o.reduce(function(w,b){return wi(wi({},w),{},_5({},b,{from:t[b],velocity:0,to:e[b]}))},{}),l=-1,u,c,f=function(){return null},d=function(){return eg(function(b,E){return E.from},a)},h=function(){return!Object.values(a).filter(x5).length},v=function(b){u||(u=b);var E=b-u,A=E/n.dt;a=WIe(n,a,A),i(wi(wi(wi({},t),e),d())),u=b,h()||(l=requestAnimationFrame(f))},_=function(b){c||(c=b);var E=(b-c)/r,A=eg(function(R,F){return gw.apply(void 0,RM(F).concat([n(E)]))},s);if(i(wi(wi(wi({},t),e),A)),E<1)l=requestAnimationFrame(f);else{var C=eg(function(R,F){return gw.apply(void 0,RM(F).concat([n(1)]))},s);i(wi(wi(wi({},t),e),C))}};return f=n.isStepper?v:_,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function zh(t){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zh(t)}var YIe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function JIe(t,e){if(t==null)return{};var n=XIe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XIe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function sx(t){return tPe(t)||ePe(t)||ZIe(t)||QIe()}function QIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZIe(t,e){if(t){if(typeof t=="string")return S5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S5(t,e)}}function ePe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tPe(t){if(Array.isArray(t))return S5(t)}function S5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function MM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MM(Object(n),!0).forEach(function(r){Lm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lm(t,e,n){return e=F9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F9(r.key),r)}}function iPe(t,e,n){return e&&rPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function F9(t){var e=oPe(t,"string");return zh(e)==="symbol"?e:String(e)}function oPe(t,e){if(zh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E5(t,e)}function E5(t,e){return E5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},E5(t,e)}function aPe(t){var e=lPe();return function(){var r=yw(t),i;if(e){var o=yw(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return A5(this,i)}}function A5(t,e){if(e&&(zh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T5(t)}function T5(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lPe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yw(t){return yw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yw(t)}var hc=function(t){sPe(n,t);var e=aPe(n);function n(r,i){var o;nPe(this,n),o=e.call(this,r,i);var s=o.props,a=s.isActive,l=s.attributeName,u=s.from,c=s.to,f=s.steps,d=s.children,h=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(T5(o)),o.changeStyle=o.changeStyle.bind(T5(o)),!a||h<=0)return o.state={style:{}},typeof d=="function"&&(o.state={style:c}),A5(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof d=="function")return o.state={style:u},A5(o);o.state={style:l?Lm({},l,u):u}}else o.state={style:{}};return o}return iPe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,f=o.from,d=this.state.style;if(a){if(!s){var h={style:l?Lm({},l,c):c};this.state&&d&&(l&&d[l]!==c||!l&&d!==c)&&this.setState(h);return}if(!(pIe(i.to,c)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var _=v||u?f:i.to;if(this.state&&d){var w={style:l?Lm({},l,_):_};(l&&d[l]!==_||!l&&d!==_)&&this.setState(w)}this.runAnimation(Vs(Vs({},this.props),{},{from:_,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,d=i.onAnimationStart,h=KIe(s,a,FIe(u),l,this.changeStyle),v=function(){o.stopJSAnimation=h()};this.manager.start([d,c,v,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,u=s[0],c=u.style,f=u.duration,d=f===void 0?0:f,h=function(_,w,b){if(b===0)return _;var E=w.duration,A=w.easing,C=A===void 0?"ease":A,R=w.style,F=w.properties,k=w.onAnimationEnd,N=b>0?s[b-1]:w,T=F||Object.keys(R);if(typeof C=="function"||C==="spring")return[].concat(sx(_),[o.runJSAnimation.bind(o,{from:N.style,to:R,duration:E,easing:C}),E]);var j=CM(T,E,C),P=Vs(Vs(Vs({},N.style),R),{},{transition:j});return[].concat(sx(_),[P,E,k]).filter(AIe)};return this.manager.start([l].concat(sx(s.reduce(h,[c,Math.max(d,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=bIe());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,d=i.steps,h=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var _=a?Lm({},a,l):l,w=CM(Object.keys(_),s,u);v.start([c,o,Vs(Vs({},_),{},{transition:w}),s,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=JIe(i,YIe),u=ce.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!a||u===0||s<=0)return o;var f=function(h){var v=h.props,_=v.style,w=_===void 0?{}:_,b=v.className,E=ce.cloneElement(h,Vs(Vs({},l),{},{style:Vs(Vs({},w),c),className:b}));return E};return u===1?f(ce.Children.only(o)):xe.createElement("div",null,ce.Children.map(o,function(d){return f(d)}))}}]),n}(ce.PureComponent);hc.displayName="Animate";hc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};hc.propTypes={from:_n.oneOfType([_n.object,_n.string]),to:_n.oneOfType([_n.object,_n.string]),attributeName:_n.string,duration:_n.number,begin:_n.number,easing:_n.oneOfType([_n.string,_n.func]),steps:_n.arrayOf(_n.shape({duration:_n.number.isRequired,style:_n.object.isRequired,easing:_n.oneOfType([_n.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),_n.func]),properties:_n.arrayOf("string"),onAnimationEnd:_n.func})),children:_n.oneOfType([_n.node,_n.func]),isActive:_n.bool,canBegin:_n.bool,onAnimationEnd:_n.func,shouldReAnimate:_n.bool,onAnimationStart:_n.func,onAnimationReStart:_n.func};function ry(t){"@babel/helpers - typeof";return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ry(t)}function vw(){return vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vw.apply(this,arguments)}function uPe(t,e){return hPe(t)||dPe(t,e)||fPe(t,e)||cPe()}function cPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fPe(t,e){if(t){if(typeof t=="string")return LM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LM(t,e)}}function LM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dPe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function hPe(t){if(Array.isArray(t))return t}function DM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DM(Object(n),!0).forEach(function(r){pPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pPe(t,e,n){return e=mPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mPe(t){var e=gPe(t,"string");return ry(e)=="symbol"?e:e+""}function gPe(t,e){if(ry(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ry(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UM=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(s>0&&o instanceof Array){for(var f=[0,0,0,0],d=0,h=4;d<h;d++)f[d]=o[d]>s?s:o[d];c="M".concat(e,",").concat(n+a*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+a*f[1])),c+="L ".concat(e+r,",").concat(n+i-a*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-a*f[3])),c+="Z"}else if(s>0&&o===+o&&o>0){var v=Math.min(s,o);c="M ".concat(e,",").concat(n+a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+a*v,`
            L `).concat(e+r,",").concat(n+i-a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+i-a*v," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},yPe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var u=Math.min(o,o+a),c=Math.max(o,o+a),f=Math.min(s,s+l),d=Math.max(s,s+l);return r>=u&&r<=c&&i>=f&&i<=d}return!1},vPe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dP=function(e){var n=FM(FM({},vPe),e),r=ce.useRef(),i=ce.useState(-1),o=uPe(i,2),s=o[0],a=o[1];ce.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&a(C)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,d=n.radius,h=n.className,v=n.animationEasing,_=n.animationDuration,w=n.animationBegin,b=n.isAnimationActive,E=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var A=mn("recharts-rectangle",h);return E?xe.createElement(hc,{canBegin:s>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:_,animationEasing:v,isActive:E},function(C){var R=C.width,F=C.height,k=C.x,N=C.y;return xe.createElement(hc,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:_,isActive:b,easing:v},xe.createElement("path",vw({},pn(n,!0),{className:A,d:UM(k,N,R,F,d),ref:r})))}):xe.createElement("path",vw({},pn(n,!0),{className:A,d:UM(l,u,c,f,d)}))};function I5(){return I5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I5.apply(this,arguments)}var U9=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=mn("recharts-dot",o);return n===+n&&r===+r&&i===+i?ce.createElement("circle",I5({},pn(e,!1),D1(e),{className:s,cx:n,cy:r,r:i})):null};function iy(t){"@babel/helpers - typeof";return iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iy(t)}var wPe=["x","y","top","left","width","height","className"];function P5(){return P5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P5.apply(this,arguments)}function jM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _Pe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jM(Object(n),!0).forEach(function(r){bPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bPe(t,e,n){return e=xPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xPe(t){var e=SPe(t,"string");return iy(e)=="symbol"?e:e+""}function SPe(t,e){if(iy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EPe(t,e){if(t==null)return{};var n=APe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function APe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var TPe=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},IPe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,d=e.height,h=d===void 0?0:d,v=e.className,_=EPe(e,wPe),w=_Pe({x:r,y:o,top:a,left:u,width:f,height:h},_);return!He(r)||!He(o)||!He(f)||!He(h)||!He(a)||!He(u)?null:xe.createElement("path",P5({},pn(w,!0),{className:mn("recharts-cross",v),d:TPe(r,o,f,h,a,u)}))},PPe=X$,CPe=PPe(Object.getPrototypeOf,Object),NPe=CPe,kPe=tu,RPe=NPe,OPe=nu,MPe="[object Object]",LPe=Function.prototype,DPe=Object.prototype,j9=LPe.toString,FPe=DPe.hasOwnProperty,UPe=j9.call(Object);function jPe(t){if(!OPe(t)||kPe(t)!=MPe)return!1;var e=RPe(t);if(e===null)return!0;var n=FPe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&j9.call(n)==UPe}var $Pe=jPe;const BPe=Un($Pe);var VPe=tu,qPe=nu,zPe="[object Boolean]";function HPe(t){return t===!0||t===!1||qPe(t)&&VPe(t)==zPe}var GPe=HPe;const WPe=Un(GPe);function oy(t){"@babel/helpers - typeof";return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oy(t)}function ww(){return ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ww.apply(this,arguments)}function KPe(t,e){return QPe(t)||XPe(t,e)||JPe(t,e)||YPe()}function YPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JPe(t,e){if(t){if(typeof t=="string")return $M(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $M(t,e)}}function $M(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XPe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function QPe(t){if(Array.isArray(t))return t}function BM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BM(Object(n),!0).forEach(function(r){ZPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZPe(t,e,n){return e=eCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eCe(t){var e=tCe(t,"string");return oy(e)=="symbol"?e:e+""}function tCe(t,e){if(oy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qM=function(e,n,r,i,o){var s=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-s/2,",").concat(n+o),a+="L ".concat(e+r-s/2-i,",").concat(n+o),a+="L ".concat(e,",").concat(n," Z"),a},nCe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rCe=function(e){var n=VM(VM({},nCe),e),r=ce.useRef(),i=ce.useState(-1),o=KPe(i,2),s=o[0],a=o[1];ce.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var A=r.current.getTotalLength();A&&a(A)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,d=n.height,h=n.className,v=n.animationEasing,_=n.animationDuration,w=n.animationBegin,b=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||d!==+d||c===0&&f===0||d===0)return null;var E=mn("recharts-trapezoid",h);return b?xe.createElement(hc,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:d,x:l,y:u},duration:_,animationEasing:v,isActive:b},function(A){var C=A.upperWidth,R=A.lowerWidth,F=A.height,k=A.x,N=A.y;return xe.createElement(hc,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:_,easing:v},xe.createElement("path",ww({},pn(n,!0),{className:E,d:qM(k,N,C,R,F),ref:r})))}):xe.createElement("g",null,xe.createElement("path",ww({},pn(n,!0),{className:E,d:qM(l,u,c,f,d)})))},iCe=["option","shapeType","propTransformer","activeClassName","isActive"];function sy(t){"@babel/helpers - typeof";return sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sy(t)}function oCe(t,e){if(t==null)return{};var n=sCe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _w(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zM(Object(n),!0).forEach(function(r){aCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aCe(t,e,n){return e=lCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lCe(t){var e=uCe(t,"string");return sy(e)=="symbol"?e:e+""}function uCe(t,e){if(sy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cCe(t,e){return _w(_w({},e),t)}function fCe(t,e){return t==="symbols"}function HM(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return xe.createElement(dP,n);case"trapezoid":return xe.createElement(rCe,n);case"sector":return xe.createElement(I9,n);case"symbols":if(fCe(e))return xe.createElement(NI,n);break;default:return null}}function dCe(t){return ce.isValidElement(t)?t.props:t}function hCe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?cCe:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=oCe(t,iCe),u;if(ce.isValidElement(e))u=ce.cloneElement(e,_w(_w({},l),dCe(e)));else if(Gt(e))u=e(l);else if(BPe(e)&&!WPe(e)){var c=i(e,l);u=xe.createElement(HM,{shapeType:n,elementProps:c})}else{var f=l;u=xe.createElement(HM,{shapeType:n,elementProps:f})}return a?xe.createElement(ci,{className:s},u):u}function y2(t,e){return e!=null&&"trapezoids"in t.props}function v2(t,e){return e!=null&&"sectors"in t.props}function ay(t,e){return e!=null&&"points"in t.props}function pCe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function mCe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function gCe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function yCe(t,e){var n;return y2(t,e)?n=pCe:v2(t,e)?n=mCe:ay(t,e)&&(n=gCe),n}function vCe(t,e){var n;return y2(t,e)?n="trapezoids":v2(t,e)?n="sectors":ay(t,e)&&(n="points"),n}function wCe(t,e){if(y2(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(v2(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return ay(t,e)?e.payload:{}}function _Ce(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=vCe(n,e),o=wCe(n,e),s=r.filter(function(l,u){var c=lP(o,l),f=n.props[i].filter(function(v){var _=yCe(n,e);return _(v,e)}),d=n.props[i].indexOf(f[f.length-1]),h=u===d;return c&&h}),a=r.indexOf(s[s.length-1]);return a}var bCe=Math.ceil,xCe=Math.max;function SCe(t,e,n,r){for(var i=-1,o=xCe(bCe((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}var ECe=SCe,ACe=gB,GM=1/0,TCe=17976931348623157e292;function ICe(t){if(!t)return t===0?t:0;if(t=ACe(t),t===GM||t===-GM){var e=t<0?-1:1;return e*TCe}return t===t?t:0}var $9=ICe,PCe=ECe,CCe=o2,ax=$9;function NCe(t){return function(e,n,r){return r&&typeof r!="number"&&CCe(e,n,r)&&(n=r=void 0),e=ax(e),n===void 0?(n=e,e=0):n=ax(n),r=r===void 0?e<n?1:-1:ax(r),PCe(e,n,r,t)}}var kCe=NCe,RCe=kCe,OCe=RCe(),MCe=OCe;const bw=Un(MCe);function ly(t){"@babel/helpers - typeof";return ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ly(t)}function WM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WM(Object(n),!0).forEach(function(r){B9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B9(t,e,n){return e=LCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LCe(t){var e=DCe(t,"string");return ly(e)=="symbol"?e:e+""}function DCe(t,e){if(ly(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ly(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FCe=["Webkit","Moz","O","ms"],UCe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=FCe.reduce(function(o,s){return KM(KM({},o),{},B9({},s+r,n))},{});return i[e]=n,i};function Hh(t){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hh(t)}function xw(){return xw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xw.apply(this,arguments)}function YM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YM(Object(n),!0).forEach(function(r){qo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,q9(r.key),r)}}function $Ce(t,e,n){return e&&JM(t.prototype,e),n&&JM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function BCe(t,e,n){return e=Sw(e),VCe(t,V9()?Reflect.construct(e,n||[],Sw(t).constructor):e.apply(t,n))}function VCe(t,e){if(e&&(Hh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qCe(t)}function qCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V9=function(){return!!t})()}function Sw(t){return Sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sw(t)}function zCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C5(t,e)}function C5(t,e){return C5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},C5(t,e)}function qo(t,e,n){return e=q9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q9(t){var e=HCe(t,"string");return Hh(e)=="symbol"?e:e+""}function HCe(t,e){if(Hh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var GCe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Qm().domain(bw(0,l)).range([o,o+s-a]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},XM=function(e){return e.changedTouches&&!!e.changedTouches.length},Gh=function(t){function e(n){var r;return jCe(this,e),r=BCe(this,e,[n]),qo(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),qo(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),qo(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),qo(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),qo(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),qo(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),qo(r,"handleSlideDragStart",function(i){var o=XM(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return zCe(e,t),$Ce(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,l=a.gap,u=a.data,c=u.length-1,f=Math.min(i,o),d=Math.max(i,o),h=e.getIndexInRange(s,f),v=e.getIndexInRange(s,d);return{startIndex:h-h%l,endIndex:v===c?c:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=Ja(o[r],a,r);return Gt(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,d=l.startIndex,h=l.endIndex,v=l.onChange,_=r.pageX-o;_>0?_=Math.min(_,u+c-f-a,u+c-f-s):_<0&&(_=Math.max(_,u-s,u-a));var w=this.getIndex({startX:s+_,endX:a+_});(w.startIndex!==d||w.endIndex!==h)&&v&&v(w),this.setState({startX:s+_,endX:a+_,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=XM(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,u=this.state[s],c=this.props,f=c.x,d=c.width,h=c.travellerWidth,v=c.onChange,_=c.gap,w=c.data,b={startX:this.state.startX,endX:this.state.endX},E=r.pageX-o;E>0?E=Math.min(E,f+d-h-u):E<0&&(E=Math.max(E,f-u)),b[s]=u+E;var A=this.getIndex(b),C=A.startIndex,R=A.endIndex,F=function(){var N=w.length-1;return s==="startX"&&(a>l?C%_===0:R%_===0)||a<l&&R===N||s==="endX"&&(a>l?R%_===0:C%_===0)||a>l&&R===N};this.setState(qo(qo({},s,u+E),"brushMoveStartX",r.pageX),function(){v&&F()&&v(A)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,u=s.endX,c=this.state[i],f=a.indexOf(c);if(f!==-1){var d=f+r;if(!(d===-1||d>=a.length)){var h=a[d];i==="startX"&&h>=u||i==="endX"&&h<=l||this.setState(qo({},i,h),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.fill,u=r.stroke;return xe.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.data,u=r.children,c=r.padding,f=ce.Children.only(u);return f?xe.cloneElement(f,{x:i,y:o,width:s,height:a,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,d=l.traveller,h=l.ariaLabel,v=l.data,_=l.startIndex,w=l.endIndex,b=Math.max(r,this.props.x),E=lx(lx({},pn(this.props,!1)),{},{x:b,y:u,width:c,height:f}),A=h||"Min value: ".concat((o=v[_])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=v[w])===null||s===void 0?void 0:s.name);return xe.createElement(ci,{tabIndex:0,role:"slider","aria-label":A,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(R){["ArrowLeft","ArrowRight"].includes(R.key)&&(R.preventDefault(),R.stopPropagation(),a.handleTravellerMoveKeyboard(R.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,E))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return xe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:s,width:f,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,d=c.endX,h=5,v={pointerEvents:"none",fill:u};return xe.createElement(ci,{className:"recharts-brush-texts"},xe.createElement(X1,xw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,d)-h,y:s+a/2},v),this.getTextOfTick(i)),xe.createElement(X1,xw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,d)+l+h,y:s+a/2},v),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,d=this.state,h=d.startX,v=d.endX,_=d.isTextActive,w=d.isSlideMoving,b=d.isTravellerMoving,E=d.isTravellerFocused;if(!i||!i.length||!He(a)||!He(l)||!He(u)||!He(c)||u<=0||c<=0)return null;var A=mn("recharts-brush",o),C=xe.Children.count(s)===1,R=UCe("userSelect","none");return xe.createElement(ci,{className:A,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:R},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(h,v),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(v,"endX"),(_||w||b||E||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,l=r.stroke,u=Math.floor(o+a/2)-1;return xe.createElement(xe.Fragment,null,xe.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),xe.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),xe.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return xe.isValidElement(r)?o=xe.cloneElement(r,i):Gt(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return lx({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s},o&&o.length?GCe({data:o,width:s,x:a,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var d=i.scale.domain().map(function(h){return i.scale(h)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);r[l]>i?a=l:s=l}return i>=r[a]?a:s}}])}(ce.PureComponent);qo(Gh,"displayName","Brush");qo(Gh,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var WCe=FI;function KCe(t,e){var n;return WCe(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var YCe=KCe,JCe=q$,XCe=xc,QCe=YCe,ZCe=To,eNe=o2;function tNe(t,e,n){var r=ZCe(t)?JCe:QCe;return n&&eNe(t,e,n)&&(e=void 0),r(t,XCe(e))}var nNe=tNe;const rNe=Un(nNe);var Ga=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},QM=fB;function iNe(t,e,n){e=="__proto__"&&QM?QM(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var oNe=iNe,sNe=oNe,aNe=uB,lNe=xc;function uNe(t,e){var n={};return e=lNe(e),aNe(t,function(r,i,o){sNe(n,i,e(r,i,o))}),n}var cNe=uNe;const fNe=Un(cNe);function dNe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var hNe=dNe,pNe=FI;function mNe(t,e){var n=!0;return pNe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var gNe=mNe,yNe=hNe,vNe=gNe,wNe=xc,_Ne=To,bNe=o2;function xNe(t,e,n){var r=_Ne(t)?yNe:vNe;return n&&bNe(t,e,n)&&(e=void 0),r(t,wNe(e))}var SNe=xNe;const z9=Un(SNe);var ENe=["x","y"];function uy(t){"@babel/helpers - typeof";return uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uy(t)}function N5(){return N5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N5.apply(this,arguments)}function ZM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZM(Object(n),!0).forEach(function(r){ANe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ANe(t,e,n){return e=TNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TNe(t){var e=INe(t,"string");return uy(e)=="symbol"?e:e+""}function INe(t,e){if(uy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PNe(t,e){if(t==null)return{};var n=CNe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function CNe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function NNe(t,e){var n=t.x,r=t.y,i=PNe(t,ENe),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),d=parseInt(f,10);return vm(vm(vm(vm(vm({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:d,name:e.name,radius:e.radius})}function eL(t){return xe.createElement(hCe,N5({shapeType:"rectangle",propTransformer:NNe,activeClassName:"recharts-active-bar"},t))}var kNe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=He(r)||zhe(r);return o?e(r,i):(o||Mf(),n)}},RNe=["value","background"],H9;function Wh(t){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wh(t)}function ONe(t,e){if(t==null)return{};var n=MNe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MNe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ew(){return Ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ew.apply(this,arguments)}function tL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ur(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tL(Object(n),!0).forEach(function(r){Wu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,W9(r.key),r)}}function DNe(t,e,n){return e&&nL(t.prototype,e),n&&nL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function FNe(t,e,n){return e=Aw(e),UNe(t,G9()?Reflect.construct(e,n||[],Aw(t).constructor):e.apply(t,n))}function UNe(t,e){if(e&&(Wh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jNe(t)}function jNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G9=function(){return!!t})()}function Aw(t){return Aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Aw(t)}function $Ne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k5(t,e)}function k5(t,e){return k5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},k5(t,e)}function Wu(t,e,n){return e=W9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W9(t){var e=BNe(t,"string");return Wh(e)=="symbol"?e:e+""}function BNe(t,e){if(Wh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zf=function(t){function e(){var n;LNe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=FNe(this,e,[].concat(i)),Wu(n,"state",{isAnimationFinished:!1}),Wu(n,"id",Q_("recharts-bar-")),Wu(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Wu(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return $Ne(e,t),DNe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,a=o.dataKey,l=o.activeIndex,u=o.activeBar,c=pn(this.props,!1);return r&&r.map(function(f,d){var h=d===l,v=h?u:s,_=Ur(Ur(Ur({},c),f),{},{isActive:h,option:v,index:d,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return xe.createElement(ci,Ew({className:"recharts-bar-rectangle"},F1(i.props,f,d),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(d)}),xe.createElement(eL,_))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,d=this.state.prevData;return xe.createElement(hc,{begin:l,duration:u,isActive:a,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var v=h.t,_=o.map(function(w,b){var E=d&&d[b];if(E){var A=gd(E.x,w.x),C=gd(E.y,w.y),R=gd(E.width,w.width),F=gd(E.height,w.height);return Ur(Ur({},w),{},{x:A(v),y:C(v),width:R(v),height:F(v)})}if(s==="horizontal"){var k=gd(0,w.height),N=k(v);return Ur(Ur({},w),{},{y:w.y+w.height-N,height:N})}var T=gd(0,w.width),j=T(v);return Ur(Ur({},w),{},{width:j})});return xe.createElement(ci,null,r.renderRectanglesStatically(_))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!lP(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,l=pn(this.props.background,!1);return o.map(function(u,c){u.value;var f=u.background,d=ONe(u,RNe);if(!f)return null;var h=Ur(Ur(Ur(Ur(Ur({},d),{},{fill:"#eee"},f),l),F1(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:c,className:"recharts-bar-background-rectangle"});return xe.createElement(eL,Ew({key:"background-bar-".concat(c),option:r.props.background,isActive:c===a},h))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=ta(c,g2);if(!f)return null;var d=u==="vertical"?s[0].height/2:s[0].width/2,h=function(w,b){var E=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:E,errorVal:Ja(w,b)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return xe.createElement(ci,v,f.map(function(_){return xe.cloneElement(_,{key:"error-bar-".concat(i,"-").concat(_.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,offset:d,dataPointFormatter:h})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,a=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,d=r.height,h=r.isAnimationActive,v=r.background,_=r.id;if(i||!o||!o.length)return null;var w=this.state.isAnimationFinished,b=mn("recharts-bar",s),E=a&&a.allowDataOverflow,A=l&&l.allowDataOverflow,C=E||A,R=gn(_)?this.id:_;return xe.createElement(ci,{className:b},E||A?xe.createElement("defs",null,xe.createElement("clipPath",{id:"clipPath-".concat(R)},xe.createElement("rect",{x:E?u:u-f/2,y:A?c:c-d/2,width:E?f:f*2,height:A?d:d*2}))):null,xe.createElement(ci,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(R,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,R),(!h||w)&&yf.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(ce.PureComponent);H9=Zf;Wu(Zf,"displayName","Bar");Wu(Zf,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!$y.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Wu(Zf,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,d=t.offset,h=hAe(r,n);if(!h)return null;var v=e.layout,_=n.type.defaultProps,w=_!==void 0?Ur(Ur({},_),n.props):n.props,b=w.dataKey,E=w.children,A=w.minPointSize,C=v==="horizontal"?s:o,R=u?C.scale.domain():null,F=bAe({numericAxis:C}),k=ta(E,vB),N=f.map(function(T,j){var P,D,U,z,ee,le;u?P=pAe(u[c+j],R):(P=Ja(T,b),Array.isArray(P)||(P=[F,P]));var ue=kNe(A,H9.defaultProps.minPointSize)(P[1],j);if(v==="horizontal"){var X,ae=[s.scale(P[0]),s.scale(P[1])],ye=ae[0],me=ae[1];D=rM({axis:o,ticks:a,bandSize:i,offset:h.offset,entry:T,index:j}),U=(X=me??ye)!==null&&X!==void 0?X:void 0,z=h.size;var B=ye-me;if(ee=Number.isNaN(B)?0:B,le={x:D,y:s.y,width:z,height:s.height},Math.abs(ue)>0&&Math.abs(ee)<Math.abs(ue)){var W=Js(ee||ue)*(Math.abs(ue)-Math.abs(ee));U-=W,ee+=W}}else{var ne=[o.scale(P[0]),o.scale(P[1])],fe=ne[0],he=ne[1];if(D=fe,U=rM({axis:s,ticks:l,bandSize:i,offset:h.offset,entry:T,index:j}),z=he-fe,ee=h.size,le={x:o.x,y:U,width:o.width,height:ee},Math.abs(ue)>0&&Math.abs(z)<Math.abs(ue)){var we=Js(z||ue)*(Math.abs(ue)-Math.abs(z));z+=we}}return Ur(Ur(Ur({},T),{},{x:D,y:U,width:z,height:ee,value:u?P:P[1],payload:T,background:le},k&&k[j]&&k[j].props),{},{tooltipPayload:[E9(n,T)],tooltipPosition:{x:D+z/2,y:U+ee/2}})});return Ur({data:N,layout:v},d)});function cy(t){"@babel/helpers - typeof";return cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cy(t)}function VNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K9(r.key),r)}}function qNe(t,e,n){return e&&rL(t.prototype,e),n&&rL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function iL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iL(Object(n),!0).forEach(function(r){w2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w2(t,e,n){return e=K9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K9(t){var e=zNe(t,"string");return cy(e)=="symbol"?e:e+""}function zNe(t,e){if(cy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HNe=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},d=!!Ho(u,Zf);return c.reduce(function(h,v){var _=n[v],w=_.orientation,b=_.domain,E=_.padding,A=E===void 0?{}:E,C=_.mirror,R=_.reversed,F="".concat(w).concat(C?"Mirror":""),k,N,T,j,P;if(_.type==="number"&&(_.padding==="gap"||_.padding==="no-gap")){var D=b[1]-b[0],U=1/0,z=_.categoricalDomain.sort(Whe);if(z.forEach(function(ne,fe){fe>0&&(U=Math.min((ne||0)-(z[fe-1]||0),U))}),Number.isFinite(U)){var ee=U/D,le=_.layout==="vertical"?r.height:r.width;if(_.padding==="gap"&&(k=ee*le/2),_.padding==="no-gap"){var ue=Rf(e.barCategoryGap,ee*le),X=ee*le/2;k=X-ue-(X-ue)/le*ue}}}i==="xAxis"?N=[r.left+(A.left||0)+(k||0),r.left+r.width-(A.right||0)-(k||0)]:i==="yAxis"?N=l==="horizontal"?[r.top+r.height-(A.bottom||0),r.top+(A.top||0)]:[r.top+(A.top||0)+(k||0),r.top+r.height-(A.bottom||0)-(k||0)]:N=_.range,R&&(N=[N[1],N[0]]);var ae=fAe(_,o,d),ye=ae.scale,me=ae.realScaleType;ye.domain(b).range(N),dAe(ye);var B=_Ae(ye,Gs(Gs({},_),{},{realScaleType:me}));i==="xAxis"?(P=w==="top"&&!C||w==="bottom"&&C,T=r.left,j=f[F]-P*_.height):i==="yAxis"&&(P=w==="left"&&!C||w==="right"&&C,T=f[F]-P*_.width,j=r.top);var W=Gs(Gs(Gs({},_),B),{},{realScaleType:me,x:T,y:j,scale:ye,width:i==="xAxis"?r.width:_.width,height:i==="yAxis"?r.height:_.height});return W.bandSize=fw(W,B),!_.hide&&i==="xAxis"?f[F]+=(P?-1:1)*W.height:_.hide||(f[F]+=(P?-1:1)*W.width),Gs(Gs({},h),{},w2({},v,W))},{})},Y9=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},GNe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return Y9({x:n,y:r},{x:i,y:o})},J9=function(){function t(e){VNe(this,t),this.scale=e}return qNe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();w2(J9,"EPS",1e-4);var hP=function(e){var n=Object.keys(e).reduce(function(r,i){return Gs(Gs({},r),{},w2({},i,J9.create(e[i])))},{});return Gs(Gs({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return fNe(i,function(l,u){return n[u].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return z9(i,function(o,s){return n[s].isInRange(o)})}})};function WNe(t){return(t%180+180)%180}var KNe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=WNe(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},YNe=xc,JNe=jy,XNe=r2;function QNe(t){return function(e,n,r){var i=Object(e);if(!JNe(e)){var o=YNe(n);e=XNe(e),n=function(a){return o(i[a],a,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:void 0}}var ZNe=QNe,eke=$9;function tke(t){var e=eke(t),n=e%1;return e===e?n?e-n:e:0}var nke=tke,rke=rB,ike=xc,oke=nke,ske=Math.max;function ake(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:oke(n);return i<0&&(i=ske(r+i,0)),rke(t,ike(e),i)}var lke=ake,uke=ZNe,cke=lke,fke=uke(cke),dke=fke;const hke=Un(dke);var pke=Jde(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),pP=ce.createContext(void 0),mP=ce.createContext(void 0),X9=ce.createContext(void 0),Q9=ce.createContext({}),Z9=ce.createContext(void 0),eV=ce.createContext(0),tV=ce.createContext(0),oL=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,a=e.children,l=e.width,u=e.height,c=pke(o);return xe.createElement(pP.Provider,{value:r},xe.createElement(mP.Provider,{value:i},xe.createElement(Q9.Provider,{value:o},xe.createElement(X9.Provider,{value:c},xe.createElement(Z9.Provider,{value:s},xe.createElement(eV.Provider,{value:u},xe.createElement(tV.Provider,{value:l},a)))))))},mke=function(){return ce.useContext(Z9)},nV=function(e){var n=ce.useContext(pP);n==null&&Mf();var r=n[e];return r==null&&Mf(),r},gke=function(){var e=ce.useContext(pP);return Bu(e)},yke=function(){var e=ce.useContext(mP),n=hke(e,function(r){return z9(r.domain,Number.isFinite)});return n||Bu(e)},rV=function(e){var n=ce.useContext(mP);n==null&&Mf();var r=n[e];return r==null&&Mf(),r},vke=function(){var e=ce.useContext(X9);return e},wke=function(){return ce.useContext(Q9)},gP=function(){return ce.useContext(tV)},yP=function(){return ce.useContext(eV)};function Kh(t){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kh(t)}function _ke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oV(r.key),r)}}function xke(t,e,n){return e&&bke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ske(t,e,n){return e=Tw(e),Eke(t,iV()?Reflect.construct(e,n||[],Tw(t).constructor):e.apply(t,n))}function Eke(t,e){if(e&&(Kh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ake(t)}function Ake(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iV=function(){return!!t})()}function Tw(t){return Tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tw(t)}function Tke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R5(t,e)}function R5(t,e){return R5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},R5(t,e)}function sL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sL(Object(n),!0).forEach(function(r){vP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vP(t,e,n){return e=oV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oV(t){var e=Ike(t,"string");return Kh(e)=="symbol"?e:e+""}function Ike(t,e){if(Kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Pke(t,e){return Rke(t)||kke(t,e)||Nke(t,e)||Cke()}function Cke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nke(t,e){if(t){if(typeof t=="string")return lL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lL(t,e)}}function lL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kke(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Rke(t){if(Array.isArray(t))return t}function O5(){return O5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O5.apply(this,arguments)}var Oke=function(e,n){var r;return xe.isValidElement(e)?r=xe.cloneElement(e,n):Gt(e)?r=e(n):r=xe.createElement("line",O5({},n,{className:"recharts-reference-line-line"})),r},Mke=function(e,n,r,i,o,s,a,l,u){var c=o.x,f=o.y,d=o.width,h=o.height;if(r){var v=u.y,_=e.y.apply(v,{position:s});if(Ga(u,"discard")&&!e.y.isInRange(_))return null;var w=[{x:c+d,y:_},{x:c,y:_}];return l==="left"?w.reverse():w}if(n){var b=u.x,E=e.x.apply(b,{position:s});if(Ga(u,"discard")&&!e.x.isInRange(E))return null;var A=[{x:E,y:f+h},{x:E,y:f}];return a==="top"?A.reverse():A}if(i){var C=u.segment,R=C.map(function(F){return e.apply(F,{position:s})});return Ga(u,"discard")&&rNe(R,function(F){return!e.isInRange(F)})?null:R}return null};function Lke(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,l=t.alwaysShow,u=mke(),c=nV(i),f=rV(o),d=vke();if(!u||!d)return null;Dl(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=hP({x:c.scale,y:f.scale}),v=Zr(e),_=Zr(n),w=r&&r.length===2,b=Mke(h,v,_,w,d,t.position,c.orientation,f.orientation,t);if(!b)return null;var E=Pke(b,2),A=E[0],C=A.x,R=A.y,F=E[1],k=F.x,N=F.y,T=Ga(t,"hidden")?"url(#".concat(u,")"):void 0,j=aL(aL({clipPath:T},pn(t,!0)),{},{x1:C,y1:R,x2:k,y2:N});return xe.createElement(ci,{className:mn("recharts-reference-line",a)},Oke(s,j),zi.renderCallByParent(t,GNe({x1:C,y1:R,x2:k,y2:N})))}var wP=function(t){function e(){return _ke(this,e),Ske(this,e,arguments)}return Tke(e,t),xke(e,[{key:"render",value:function(){return xe.createElement(Lke,this.props)}}])}(xe.Component);vP(wP,"displayName","ReferenceLine");vP(wP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function M5(){return M5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M5.apply(this,arguments)}function Yh(t){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yh(t)}function uL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uL(Object(n),!0).forEach(function(r){_2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aV(r.key),r)}}function Uke(t,e,n){return e&&Fke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jke(t,e,n){return e=Iw(e),$ke(t,sV()?Reflect.construct(e,n||[],Iw(t).constructor):e.apply(t,n))}function $ke(t,e){if(e&&(Yh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bke(t)}function Bke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sV=function(){return!!t})()}function Iw(t){return Iw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Iw(t)}function Vke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L5(t,e)}function L5(t,e){return L5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},L5(t,e)}function _2(t,e,n){return e=aV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aV(t){var e=qke(t,"string");return Yh(e)=="symbol"?e:e+""}function qke(t,e){if(Yh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zke=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=hP({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return Ga(e,"discard")&&!s.isInRange(a)?null:a},b2=function(t){function e(){return Dke(this,e),jke(this,e,arguments)}return Vke(e,t),Uke(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,a=r.alwaysShow,l=r.clipPathId,u=Zr(i),c=Zr(o);if(Dl(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=zke(this.props);if(!f)return null;var d=f.x,h=f.y,v=this.props,_=v.shape,w=v.className,b=Ga(this.props,"hidden")?"url(#".concat(l,")"):void 0,E=cL(cL({clipPath:b},pn(this.props,!0)),{},{cx:d,cy:h});return xe.createElement(ci,{className:mn("recharts-reference-dot",w)},e.renderDot(_,E),zi.renderCallByParent(this.props,{x:d-s,y:h-s,width:2*s,height:2*s}))}}])}(xe.Component);_2(b2,"displayName","ReferenceDot");_2(b2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});_2(b2,"renderDot",function(t,e){var n;return xe.isValidElement(t)?n=xe.cloneElement(t,e):Gt(t)?n=t(e):n=xe.createElement(U9,M5({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function D5(){return D5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D5.apply(this,arguments)}function Jh(t){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jh(t)}function fL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fL(Object(n),!0).forEach(function(r){x2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uV(r.key),r)}}function Wke(t,e,n){return e&&Gke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kke(t,e,n){return e=Pw(e),Yke(t,lV()?Reflect.construct(e,n||[],Pw(t).constructor):e.apply(t,n))}function Yke(t,e){if(e&&(Jh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jke(t)}function Jke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lV=function(){return!!t})()}function Pw(t){return Pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pw(t)}function Xke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F5(t,e)}function F5(t,e){return F5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},F5(t,e)}function x2(t,e,n){return e=uV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uV(t){var e=Qke(t,"string");return Jh(e)=="symbol"?e:e+""}function Qke(t,e){if(Jh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zke=function(e,n,r,i,o){var s=o.x1,a=o.x2,l=o.y1,u=o.y2,c=o.xAxis,f=o.yAxis;if(!c||!f)return null;var d=hP({x:c.scale,y:f.scale}),h={x:e?d.x.apply(s,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(l,{position:"start"}):d.y.rangeMin},v={x:n?d.x.apply(a,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(u,{position:"end"}):d.y.rangeMax};return Ga(o,"discard")&&(!d.isInRange(h)||!d.isInRange(v))?null:Y9(h,v)},S2=function(t){function e(){return Hke(this,e),Kke(this,e,arguments)}return Xke(e,t),Wke(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,a=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Dl(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Zr(i),d=Zr(o),h=Zr(s),v=Zr(a),_=this.props.shape;if(!f&&!d&&!h&&!v&&!_)return null;var w=Zke(f,d,h,v,this.props);if(!w&&!_)return null;var b=Ga(this.props,"hidden")?"url(#".concat(c,")"):void 0;return xe.createElement(ci,{className:mn("recharts-reference-area",l)},e.renderRect(_,dL(dL({clipPath:b},pn(this.props,!0)),w)),zi.renderCallByParent(this.props,w))}}])}(xe.Component);x2(S2,"displayName","ReferenceArea");x2(S2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});x2(S2,"renderRect",function(t,e){var n;return xe.isValidElement(t)?n=xe.cloneElement(t,e):Gt(t)?n=t(e):n=xe.createElement(dP,D5({},e,{className:"recharts-reference-area-rect"})),n});function cV(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function eRe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return KNe(r,n)}function tRe(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function Cw(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function nRe(t,e){return cV(t,e+1)}function rRe(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,a=e.end,l=0,u=1,c=s,f=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:cV(r,u)};var _=l,w,b=function(){return w===void 0&&(w=n(v,_)),w},E=v.coordinate,A=l===0||Cw(t,E,b,c,a);A||(l=0,c=s,u+=1),A&&(c=E+t*(b()/2+i),l+=u)},d;u<=o.length;)if(d=f(),d)return d.v;return[]}function fy(t){"@babel/helpers - typeof";return fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fy(t)}function hL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $i(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hL(Object(n),!0).forEach(function(r){iRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iRe(t,e,n){return e=oRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oRe(t){var e=sRe(t,"string");return fy(e)=="symbol"?e:e+""}function sRe(t,e){if(fy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aRe(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=e.start,l=e.end,u=function(d){var h=o[d],v,_=function(){return v===void 0&&(v=n(h,d)),v};if(d===s-1){var w=t*(h.coordinate+t*_()/2-l);o[d]=h=$i($i({},h),{},{tickCoord:w>0?h.coordinate-w*t:h.coordinate})}else o[d]=h=$i($i({},h),{},{tickCoord:h.coordinate});var b=Cw(t,h.tickCoord,_,a,l);b&&(l=h.tickCoord-t*(_()/2+i),o[d]=$i($i({},h),{},{isShow:!0}))},c=s-1;c>=0;c--)u(c);return o}function lRe(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,l=e.start,u=e.end;if(o){var c=r[a-1],f=n(c,a-1),d=t*(c.coordinate+t*f/2-u);s[a-1]=c=$i($i({},c),{},{tickCoord:d>0?c.coordinate-d*t:c.coordinate});var h=Cw(t,c.tickCoord,function(){return f},l,u);h&&(u=c.tickCoord-t*(f/2+i),s[a-1]=$i($i({},c),{},{isShow:!0}))}for(var v=o?a-1:a,_=function(E){var A=s[E],C,R=function(){return C===void 0&&(C=n(A,E)),C};if(E===0){var F=t*(A.coordinate-t*R()/2-l);s[E]=A=$i($i({},A),{},{tickCoord:F<0?A.coordinate-F*t:A.coordinate})}else s[E]=A=$i($i({},A),{},{tickCoord:A.coordinate});var k=Cw(t,A.tickCoord,R,l,u);k&&(l=A.tickCoord+t*(R()/2+i),s[E]=$i($i({},A),{},{isShow:!0}))},w=0;w<v;w++)_(w);return s}function _P(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(He(l)||$y.isSsr)return nRe(i,typeof l=="number"&&He(l)?l:0);var d=[],h=a==="top"||a==="bottom"?"width":"height",v=c&&h==="width"?Xm(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},_=function(A,C){var R=Gt(u)?u(A.value,C):A.value;return h==="width"?eRe(Xm(R,{fontSize:e,letterSpacing:n}),v,f):Xm(R,{fontSize:e,letterSpacing:n})[h]},w=i.length>=2?Js(i[1].coordinate-i[0].coordinate):1,b=tRe(o,w,h);return l==="equidistantPreserveStart"?rRe(w,b,_,i,s):(l==="preserveStart"||l==="preserveStartEnd"?d=lRe(w,b,_,i,s,l==="preserveStartEnd"):d=aRe(w,b,_,i,s),d.filter(function(E){return E.isShow}))}var uRe=["viewBox"],cRe=["viewBox"],fRe=["ticks"];function Xh(t){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xh(t)}function Gd(){return Gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gd.apply(this,arguments)}function pL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pL(Object(n),!0).forEach(function(r){bP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ux(t,e){if(t==null)return{};var n=dRe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dRe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dV(r.key),r)}}function pRe(t,e,n){return e&&mL(t.prototype,e),n&&mL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mRe(t,e,n){return e=Nw(e),gRe(t,fV()?Reflect.construct(e,n||[],Nw(t).constructor):e.apply(t,n))}function gRe(t,e){if(e&&(Xh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yRe(t)}function yRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fV=function(){return!!t})()}function Nw(t){return Nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nw(t)}function vRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U5(t,e)}function U5(t,e){return U5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},U5(t,e)}function bP(t,e,n){return e=dV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dV(t){var e=wRe(t,"string");return Xh(e)=="symbol"?e:e+""}function wRe(t,e){if(Xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ep=function(t){function e(n){var r;return hRe(this,e),r=mRe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return vRe(e,t),pRe(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=ux(r,uRe),a=this.props,l=a.viewBox,u=ux(a,cRe);return!uh(o,l)||!uh(s,u)||!uh(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,d=i.tickMargin,h,v,_,w,b,E,A=f?-1:1,C=r.tickSize||c,R=He(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":h=v=r.coordinate,w=s+ +!f*l,_=w-A*C,E=_-A*d,b=R;break;case"left":_=w=r.coordinate,v=o+ +!f*a,h=v-A*C,b=h-A*d,E=R;break;case"right":_=w=r.coordinate,v=o+ +f*a,h=v+A*C,b=h+A*d,E=R;break;default:h=v=r.coordinate,w=s+ +f*l,_=w+A*C,E=_+A*d,b=R;break}return{line:{x1:h,y1:_,x2:v,y2:w},tick:{x:b,y:E}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=Yr(Yr(Yr({},pn(this.props,!1)),pn(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!u||l==="bottom"&&u);f=Yr(Yr({},f),{},{x1:i,y1:o+d*a,x2:i+s,y2:o+d*a})}else{var h=+(l==="left"&&!u||l==="right"&&u);f=Yr(Yr({},f),{},{x1:i+h*s,y1:o,x2:i+h*s,y2:o+a})}return xe.createElement("line",Gd({},f,{className:mn("recharts-cartesian-axis-line",Ts(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,a=this.props,l=a.tickLine,u=a.stroke,c=a.tick,f=a.tickFormatter,d=a.unit,h=_P(Yr(Yr({},this.props),{},{ticks:r}),i,o),v=this.getTickTextAnchor(),_=this.getTickVerticalAnchor(),w=pn(this.props,!1),b=pn(c,!1),E=Yr(Yr({},w),{},{fill:"none"},pn(l,!1)),A=h.map(function(C,R){var F=s.getTickLineCoord(C),k=F.line,N=F.tick,T=Yr(Yr(Yr(Yr({textAnchor:v,verticalAnchor:_},w),{},{stroke:"none",fill:u},b),N),{},{index:R,payload:C,visibleTicksCount:h.length,tickFormatter:f});return xe.createElement(ci,Gd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},F1(s.props,C,R)),l&&xe.createElement("line",Gd({},E,k,{className:mn("recharts-cartesian-axis-tick-line",Ts(l,"className"))})),c&&e.renderTickItem(c,T,"".concat(Gt(f)?f(C.value,R):C.value).concat(d||"")))});return xe.createElement("g",{className:"recharts-cartesian-axis-ticks"},A)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,d=f.ticks,h=ux(f,fRe),v=d;return Gt(l)&&(v=d&&d.length>0?l(this.props):l(h)),s<=0||a<=0||!v||!v.length?null:xe.createElement(ci,{className:mn("recharts-cartesian-axis",u),ref:function(w){r.layerReference=w}},o&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),zi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,a=mn(i.className,"recharts-cartesian-axis-tick-value");return xe.isValidElement(r)?s=xe.cloneElement(r,Yr(Yr({},i),{},{className:a})):Gt(r)?s=r(Yr(Yr({},i),{},{className:a})):s=xe.createElement(X1,Gd({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}(ce.Component);bP(Ep,"displayName","CartesianAxis");bP(Ep,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _Re=["x1","y1","x2","y2","key"],bRe=["offset"];function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function gL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gL(Object(n),!0).forEach(function(r){xRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xRe(t,e,n){return e=SRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SRe(t){var e=ERe(t,"string");return Lf(e)=="symbol"?e:e+""}function ERe(t,e){if(Lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uf(){return uf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uf.apply(this,arguments)}function yL(t,e){if(t==null)return{};var n=ARe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ARe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var TRe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,s=e.width,a=e.height,l=e.ry;return xe.createElement("rect",{x:i,y:o,ry:l,width:s,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function hV(t,e){var n;if(xe.isValidElement(t))n=xe.cloneElement(t,e);else if(Gt(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,s=e.y2,a=e.key,l=yL(e,_Re),u=pn(l,!1);u.offset;var c=yL(u,bRe);n=xe.createElement("line",uf({},c,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:a}))}return n}function IRe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=Hi(Hi({},t),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(l),index:l});return hV(i,u)});return xe.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function PRe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=Hi(Hi({},t),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(l),index:l});return hV(i,u)});return xe.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function CRe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,s=t.height,a=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=a.map(function(d){return Math.round(d+i-i)}).sort(function(d,h){return d-h});i!==c[0]&&c.unshift(0);var f=c.map(function(d,h){var v=!c[h+1],_=v?i+s-d:c[h+1]-d;if(_<=0)return null;var w=h%e.length;return xe.createElement("rect",{key:"react-".concat(h),y:d,x:r,height:_,width:o,stroke:"none",fill:e[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return xe.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function NRe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,s=t.y,a=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(d){return Math.round(d+o-o)}).sort(function(d,h){return d-h});o!==c[0]&&c.unshift(0);var f=c.map(function(d,h){var v=!c[h+1],_=v?o+a-d:c[h+1]-d;if(_<=0)return null;var w=h%r.length;return xe.createElement("rect",{key:"react-".concat(h),x:d,y:s,width:_,height:l,stroke:"none",fill:r[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return xe.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var kRe=function(e,n){var r=e.xAxis,i=e.width,o=e.height,s=e.offset;return x9(_P(Hi(Hi(Hi({},Ep.defaultProps),r),{},{ticks:kl(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,n)},RRe=function(e,n){var r=e.yAxis,i=e.width,o=e.height,s=e.offset;return x9(_P(Hi(Hi(Hi({},Ep.defaultProps),r),{},{ticks:kl(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,n)},wd={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function pV(t){var e,n,r,i,o,s,a=gP(),l=yP(),u=wke(),c=Hi(Hi({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:wd.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:wd.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:wd.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:wd.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:wd.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:wd.verticalFill,x:He(t.x)?t.x:u.left,y:He(t.y)?t.y:u.top,width:He(t.width)?t.width:u.width,height:He(t.height)?t.height:u.height}),f=c.x,d=c.y,h=c.width,v=c.height,_=c.syncWithTicks,w=c.horizontalValues,b=c.verticalValues,E=gke(),A=yke();if(!He(h)||h<=0||!He(v)||v<=0||!He(f)||f!==+f||!He(d)||d!==+d)return null;var C=c.verticalCoordinatesGenerator||kRe,R=c.horizontalCoordinatesGenerator||RRe,F=c.horizontalPoints,k=c.verticalPoints;if((!F||!F.length)&&Gt(R)){var N=w&&w.length,T=R({yAxis:A?Hi(Hi({},A),{},{ticks:N?w:A.ticks}):void 0,width:a,height:l,offset:u},N?!0:_);Dl(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Lf(T),"]")),Array.isArray(T)&&(F=T)}if((!k||!k.length)&&Gt(C)){var j=b&&b.length,P=C({xAxis:E?Hi(Hi({},E),{},{ticks:j?b:E.ticks}):void 0,width:a,height:l,offset:u},j?!0:_);Dl(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Lf(P),"]")),Array.isArray(P)&&(k=P)}return xe.createElement("g",{className:"recharts-cartesian-grid"},xe.createElement(TRe,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),xe.createElement(IRe,uf({},c,{offset:u,horizontalPoints:F,xAxis:E,yAxis:A})),xe.createElement(PRe,uf({},c,{offset:u,verticalPoints:k,xAxis:E,yAxis:A})),xe.createElement(CRe,uf({},c,{horizontalPoints:F})),xe.createElement(NRe,uf({},c,{verticalPoints:k})))}pV.displayName="CartesianGrid";function Qh(t){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qh(t)}function ORe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MRe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yV(r.key),r)}}function LRe(t,e,n){return e&&MRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DRe(t,e,n){return e=kw(e),FRe(t,mV()?Reflect.construct(e,n||[],kw(t).constructor):e.apply(t,n))}function FRe(t,e){if(e&&(Qh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return URe(t)}function URe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mV=function(){return!!t})()}function kw(t){return kw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kw(t)}function jRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j5(t,e)}function j5(t,e){return j5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},j5(t,e)}function gV(t,e,n){return e=yV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yV(t){var e=$Re(t,"string");return Qh(e)=="symbol"?e:e+""}function $Re(t,e){if(Qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function $5(){return $5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$5.apply(this,arguments)}function BRe(t){var e=t.xAxisId,n=gP(),r=yP(),i=nV(e);return i==null?null:ce.createElement(Ep,$5({},i,{className:mn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return kl(s,!0)}}))}var E2=function(t){function e(){return ORe(this,e),DRe(this,e,arguments)}return jRe(e,t),LRe(e,[{key:"render",value:function(){return ce.createElement(BRe,this.props)}}])}(ce.Component);gV(E2,"displayName","XAxis");gV(E2,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Zh(t){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zh(t)}function VRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qRe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_V(r.key),r)}}function zRe(t,e,n){return e&&qRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function HRe(t,e,n){return e=Rw(e),GRe(t,vV()?Reflect.construct(e,n||[],Rw(t).constructor):e.apply(t,n))}function GRe(t,e){if(e&&(Zh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WRe(t)}function WRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vV=function(){return!!t})()}function Rw(t){return Rw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rw(t)}function KRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B5(t,e)}function B5(t,e){return B5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},B5(t,e)}function wV(t,e,n){return e=_V(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _V(t){var e=YRe(t,"string");return Zh(e)=="symbol"?e:e+""}function YRe(t,e){if(Zh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function V5(){return V5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V5.apply(this,arguments)}var JRe=function(e){var n=e.yAxisId,r=gP(),i=yP(),o=rV(n);return o==null?null:ce.createElement(Ep,V5({},o,{className:mn("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return kl(a,!0)}}))},A2=function(t){function e(){return VRe(this,e),HRe(this,e,arguments)}return KRe(e,t),zRe(e,[{key:"render",value:function(){return ce.createElement(JRe,this.props)}}])}(ce.Component);wV(A2,"displayName","YAxis");wV(A2,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function vL(t){return e4e(t)||ZRe(t)||QRe(t)||XRe()}function XRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QRe(t,e){if(t){if(typeof t=="string")return q5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q5(t,e)}}function ZRe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function e4e(t){if(Array.isArray(t))return q5(t)}function q5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var z5=function(e,n,r,i,o){var s=ta(e,wP),a=ta(e,b2),l=[].concat(vL(s),vL(a)),u=ta(e,S2),c="".concat(i,"Id"),f=i[0],d=n;if(l.length&&(d=l.reduce(function(_,w){if(w.props[c]===r&&Ga(w.props,"extendDomain")&&He(w.props[f])){var b=w.props[f];return[Math.min(_[0],b),Math.max(_[1],b)]}return _},d)),u.length){var h="".concat(f,"1"),v="".concat(f,"2");d=u.reduce(function(_,w){if(w.props[c]===r&&Ga(w.props,"extendDomain")&&He(w.props[h])&&He(w.props[v])){var b=w.props[h],E=w.props[v];return[Math.min(_[0],b,E),Math.max(_[1],b,E)]}return _},d)}return o&&o.length&&(d=o.reduce(function(_,w){return He(w)?[Math.min(_[0],w),Math.max(_[1],w)]:_},d)),d},bV={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var h=new i(c,f||l,d),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],h]:l._events[v].push(h):(l._events[v]=h,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,h=f.length,v=new Array(h);d<h;d++)v[d]=f[d].fn;return v},a.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,c,f,d,h,v){var _=n?n+u:u;if(!this._events[_])return!1;var w=this._events[_],b=arguments.length,E,A;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),b){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,c),!0;case 3:return w.fn.call(w.context,c,f),!0;case 4:return w.fn.call(w.context,c,f,d),!0;case 5:return w.fn.call(w.context,c,f,d,h),!0;case 6:return w.fn.call(w.context,c,f,d,h,v),!0}for(A=1,E=new Array(b-1);A<b;A++)E[A-1]=arguments[A];w.fn.apply(w.context,E)}else{var C=w.length,R;for(A=0;A<C;A++)switch(w[A].once&&this.removeListener(u,w[A].fn,void 0,!0),b){case 1:w[A].fn.call(w[A].context);break;case 2:w[A].fn.call(w[A].context,c);break;case 3:w[A].fn.call(w[A].context,c,f);break;case 4:w[A].fn.call(w[A].context,c,f,d);break;default:if(!E)for(R=1,E=new Array(b-1);R<b;R++)E[R-1]=arguments[R];w[A].fn.apply(w[A].context,E)}}return!0},a.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},a.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},a.prototype.removeListener=function(u,c,f,d){var h=n?n+u:u;if(!this._events[h])return this;if(!c)return s(this,h),this;var v=this._events[h];if(v.fn)v.fn===c&&(!d||v.once)&&(!f||v.context===f)&&s(this,h);else{for(var _=0,w=[],b=v.length;_<b;_++)(v[_].fn!==c||d&&!v[_].once||f&&v[_].context!==f)&&w.push(v[_]);w.length?this._events[h]=w.length===1?w[0]:w:s(this,h)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(bV);var t4e=bV.exports;const n4e=Un(t4e);var cx=new n4e,fx="recharts.syncMouseEvents";function dy(t){"@babel/helpers - typeof";return dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dy(t)}function r4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i4e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xV(r.key),r)}}function o4e(t,e,n){return e&&i4e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dx(t,e,n){return e=xV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xV(t){var e=s4e(t,"string");return dy(e)=="symbol"?e:e+""}function s4e(t,e){if(dy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var a4e=function(){function t(){r4e(this,t),dx(this,"activeIndex",0),dx(this,"coordinateList",[]),dx(this,"layout","horizontal")}return o4e(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,d=n.mouseHandlerCallback,h=d===void 0?null:d;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,d=s+this.offset.top+a/2+c;this.mouseHandlerCallback({pageX:f,pageY:d})}}}])}();function l4e(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&He(r)&&He(i))return!0}return!1}function u4e(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function SV(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=Si(e,n,r,i),a=Si(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function c4e(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,d=Si(a,l,u,f),h=Si(a,l,c,f);r=d.x,i=d.y,o=h.x,s=h.y}else return SV(e);return[{x:r,y:i},{x:o,y:s}]}function hy(t){"@babel/helpers - typeof";return hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hy(t)}function wL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function e0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wL(Object(n),!0).forEach(function(r){f4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f4e(t,e,n){return e=d4e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d4e(t){var e=h4e(t,"string");return hy(e)=="symbol"?e:e+""}function h4e(t,e){if(hy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function p4e(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,d=t.chartName,h=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!h||!o||!s||d!=="ScatterChart"&&i!=="axis")return null;var v,_=wM;if(d==="ScatterChart")v=s,_=IPe;else if(d==="BarChart")v=u4e(f,s,l,c),_=dP;else if(f==="radial"){var w=SV(s),b=w.cx,E=w.cy,A=w.radius,C=w.startAngle,R=w.endAngle;v={cx:b,cy:E,startAngle:C,endAngle:R,innerRadius:A,outerRadius:A},_=I9}else v={points:c4e(f,s,l)},_=wM;var F=e0(e0(e0(e0({stroke:"#ccc",pointerEvents:"none"},l),v),pn(h,!1)),{},{payload:a,payloadIndex:u,className:mn("recharts-tooltip-cursor",h.className)});return ce.isValidElement(h)?ce.cloneElement(h,F):ce.createElement(_,F)}var m4e=["item"],g4e=["children","className","width","height","style","compact","title","desc"];function ep(t){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ep(t)}function Wd(){return Wd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wd.apply(this,arguments)}function _L(t,e){return w4e(t)||v4e(t,e)||AV(t,e)||y4e()}function y4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v4e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function w4e(t){if(Array.isArray(t))return t}function bL(t,e){if(t==null)return{};var n=_4e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _4e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function b4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x4e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TV(r.key),r)}}function S4e(t,e,n){return e&&x4e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function E4e(t,e,n){return e=Ow(e),A4e(t,EV()?Reflect.construct(e,n||[],Ow(t).constructor):e.apply(t,n))}function A4e(t,e){if(e&&(ep(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T4e(t)}function T4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EV=function(){return!!t})()}function Ow(t){return Ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ow(t)}function I4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H5(t,e)}function H5(t,e){return H5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},H5(t,e)}function tp(t){return N4e(t)||C4e(t)||AV(t)||P4e()}function P4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AV(t,e){if(t){if(typeof t=="string")return G5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G5(t,e)}}function C4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function N4e(t){if(Array.isArray(t))return G5(t)}function G5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xL(Object(n),!0).forEach(function(r){Et(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Et(t,e,n){return e=TV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TV(t){var e=k4e(t,"string");return ep(e)=="symbol"?e:e+""}function k4e(t,e){if(ep(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var R4e={xAxis:["bottom","top"],yAxis:["left","right"]},O4e={width:"100%",height:"100%"},IV={x:0,y:0};function t0(t){return t}var M4e=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},L4e=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return Oe(Oe(Oe({},i),Si(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,u=i.angle;return Oe(Oe(Oe({},i),Si(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return IV},T2=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,l){var u=l.props.data;return u&&u.length?[].concat(tp(a),tp(u)):a},[]);return s.length>0?s:e&&e.length&&He(i)&&He(o)?e.slice(i,o+1):[]};function PV(t){return t==="number"?[0,"auto"]:void 0}var W5=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,a=T2(n,e);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(s.dataKey&&!s.allowDuplicatedCategory){var h=f===void 0?a:f;d=TE(h,s.dataKey,i)}else d=f&&f[r]||a[r];return d?[].concat(tp(l),[E9(u,d)]):l},[])},SL=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=M4e(o,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=oAe(s,a,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,d=W5(e,n,c,f),h=L4e(r,a,c,o);return{activeTooltipIndex:c,activeLabel:f,activePayload:d,activeCoordinate:h}}return null},D4e=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,d=e.stackOffset,h=b9(c,o);return r.reduce(function(v,_){var w,b=_.type.defaultProps!==void 0?Oe(Oe({},_.type.defaultProps),_.props):_.props,E=b.type,A=b.dataKey,C=b.allowDataOverflow,R=b.allowDuplicatedCategory,F=b.scale,k=b.ticks,N=b.includeHidden,T=b[s];if(v[T])return v;var j=T2(e.data,{graphicalItems:i.filter(function(B){var W,ne=s in B.props?B.props[s]:(W=B.type.defaultProps)===null||W===void 0?void 0:W[s];return ne===T}),dataStartIndex:l,dataEndIndex:u}),P=j.length,D,U,z;l4e(b.domain,C,E)&&(D=h5(b.domain,null,C),h&&(E==="number"||F!=="auto")&&(z=Zm(j,A,"category")));var ee=PV(E);if(!D||D.length===0){var le,ue=(le=b.domain)!==null&&le!==void 0?le:ee;if(A){if(D=Zm(j,A,E),E==="category"&&h){var X=Ghe(D);R&&X?(U=D,D=bw(0,P)):R||(D=sM(ue,D,_).reduce(function(B,W){return B.indexOf(W)>=0?B:[].concat(tp(B),[W])},[]))}else if(E==="category")R?D=D.filter(function(B){return B!==""&&!gn(B)}):D=sM(ue,D,_).reduce(function(B,W){return B.indexOf(W)>=0||W===""||gn(W)?B:[].concat(tp(B),[W])},[]);else if(E==="number"){var ae=cAe(j,i.filter(function(B){var W,ne,fe=s in B.props?B.props[s]:(W=B.type.defaultProps)===null||W===void 0?void 0:W[s],he="hide"in B.props?B.props.hide:(ne=B.type.defaultProps)===null||ne===void 0?void 0:ne.hide;return fe===T&&(N||!he)}),A,o,c);ae&&(D=ae)}h&&(E==="number"||F!=="auto")&&(z=Zm(j,A,"category"))}else h?D=bw(0,P):a&&a[T]&&a[T].hasStack&&E==="number"?D=d==="expand"?[0,1]:S9(a[T].stackGroups,l,u):D=_9(j,i.filter(function(B){var W=s in B.props?B.props[s]:B.type.defaultProps[s],ne="hide"in B.props?B.props.hide:B.type.defaultProps.hide;return W===T&&(N||!ne)}),E,c,!0);if(E==="number")D=z5(f,D,T,o,k),ue&&(D=h5(ue,D,C));else if(E==="category"&&ue){var ye=ue,me=D.every(function(B){return ye.indexOf(B)>=0});me&&(D=ye)}}return Oe(Oe({},v),{},Et({},T,Oe(Oe({},b),{},{axisType:o,domain:D,categoricalDomain:z,duplicateDomain:U,originalDomain:(w=b.domain)!==null&&w!==void 0?w:ee,isCategorical:h,layout:c})))},{})},F4e=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,d=T2(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),h=d.length,v=b9(c,o),_=-1;return r.reduce(function(w,b){var E=b.type.defaultProps!==void 0?Oe(Oe({},b.type.defaultProps),b.props):b.props,A=E[s],C=PV("number");if(!w[A]){_++;var R;return v?R=bw(0,h):a&&a[A]&&a[A].hasStack?(R=S9(a[A].stackGroups,l,u),R=z5(f,R,A,o)):(R=h5(C,_9(d,r.filter(function(F){var k,N,T=s in F.props?F.props[s]:(k=F.type.defaultProps)===null||k===void 0?void 0:k[s],j="hide"in F.props?F.props.hide:(N=F.type.defaultProps)===null||N===void 0?void 0:N.hide;return T===A&&!j}),"number",c),i.defaultProps.allowDataOverflow),R=z5(f,R,A,o)),Oe(Oe({},w),{},Et({},A,Oe(Oe({axisType:o},i.defaultProps),{},{hide:!0,orientation:Ts(R4e,"".concat(o,".").concat(_%2),null),domain:R,originalDomain:C,isCategorical:v,layout:c})))}return w},{})},U4e=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),d=ta(c,o),h={};return d&&d.length?h=D4e(e,{axes:d,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(h=F4e(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u})),h},j4e=function(e){var n=Bu(e),r=kl(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:UI(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:fw(n,r)}},EL=function(e){var n=e.children,r=e.defaultShowTooltip,i=Ho(n,Gh),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},$4e=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ll(n&&n.type);return r&&r.indexOf("Bar")>=0})},AL=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},B4e=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,u=r.width,c=r.height,f=r.children,d=r.margin||{},h=Ho(f,Gh),v=Ho(f,ch),_=Object.keys(l).reduce(function(R,F){var k=l[F],N=k.orientation;return!k.mirror&&!k.hide?Oe(Oe({},R),{},Et({},N,R[N]+k.width)):R},{left:d.left||0,right:d.right||0}),w=Object.keys(s).reduce(function(R,F){var k=s[F],N=k.orientation;return!k.mirror&&!k.hide?Oe(Oe({},R),{},Et({},N,Ts(R,"".concat(N))+k.height)):R},{top:d.top||0,bottom:d.bottom||0}),b=Oe(Oe({},w),_),E=b.bottom;h&&(b.bottom+=h.props.height||Gh.defaultProps.height),v&&n&&(b=lAe(b,i,r,n));var A=u-b.left-b.right,C=c-b.top-b.bottom;return Oe(Oe({brushBottom:E},b),{},{width:Math.max(A,0),height:Math.max(C,0)})},V4e=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},q4e=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,d=function(b,E){var A=E.graphicalItems,C=E.stackGroups,R=E.offset,F=E.updateId,k=E.dataStartIndex,N=E.dataEndIndex,T=b.barSize,j=b.layout,P=b.barGap,D=b.barCategoryGap,U=b.maxBarSize,z=AL(j),ee=z.numericAxisName,le=z.cateAxisName,ue=$4e(A),X=[];return A.forEach(function(ae,ye){var me=T2(b.data,{graphicalItems:[ae],dataStartIndex:k,dataEndIndex:N}),B=ae.type.defaultProps!==void 0?Oe(Oe({},ae.type.defaultProps),ae.props):ae.props,W=B.dataKey,ne=B.maxBarSize,fe=B["".concat(ee,"Id")],he=B["".concat(le,"Id")],we={},Te=l.reduce(function(We,it){var ot=E["".concat(it.axisType,"Map")],Wt=B["".concat(it.axisType,"Id")];ot&&ot[Wt]||it.axisType==="zAxis"||Mf();var Ft=ot[Wt];return Oe(Oe({},We),{},Et(Et({},it.axisType,Ft),"".concat(it.axisType,"Ticks"),kl(Ft)))},we),re=Te[le],pe=Te["".concat(le,"Ticks")],Ce=C&&C[fe]&&C[fe].hasStack&&xAe(ae,C[fe].stackGroups),Z=Ll(ae.type).indexOf("Bar")>=0,Ee=fw(re,pe),Ne=[],Y=ue&&sAe({barSize:T,stackGroups:C,totalSize:V4e(Te,le)});if(Z){var ke,Ye,Xe=gn(ne)?U:ne,Fe=(ke=(Ye=fw(re,pe,!0))!==null&&Ye!==void 0?Ye:Xe)!==null&&ke!==void 0?ke:0;Ne=aAe({barGap:P,barCategoryGap:D,bandSize:Fe!==Ee?Fe:Ee,sizeList:Y[he],maxBarSize:Xe}),Fe!==Ee&&(Ne=Ne.map(function(We){return Oe(Oe({},We),{},{position:Oe(Oe({},We.position),{},{offset:We.position.offset-Fe/2})})}))}var Je=ae&&ae.type&&ae.type.getComposedData;Je&&X.push({props:Oe(Oe({},Je(Oe(Oe({},Te),{},{displayedData:me,props:b,dataKey:W,item:ae,bandSize:Ee,barPosition:Ne,offset:R,stackedData:Ce,layout:j,dataStartIndex:k,dataEndIndex:N}))),{},Et(Et(Et({key:ae.key||"item-".concat(ye)},ee,Te[ee]),le,Te[le]),"animationId",F)),childIndex:ipe(ae,b.children),item:ae})}),X},h=function(b,E){var A=b.props,C=b.dataStartIndex,R=b.dataEndIndex,F=b.updateId;if(!e3({props:A}))return null;var k=A.children,N=A.layout,T=A.stackOffset,j=A.data,P=A.reverseStackOrder,D=AL(N),U=D.numericAxisName,z=D.cateAxisName,ee=ta(k,r),le=wAe(j,ee,"".concat(U,"Id"),"".concat(z,"Id"),T,P),ue=l.reduce(function(B,W){var ne="".concat(W.axisType,"Map");return Oe(Oe({},B),{},Et({},ne,U4e(A,Oe(Oe({},W),{},{graphicalItems:ee,stackGroups:W.axisType===U&&le,dataStartIndex:C,dataEndIndex:R}))))},{}),X=B4e(Oe(Oe({},ue),{},{props:A,graphicalItems:ee}),E==null?void 0:E.legendBBox);Object.keys(ue).forEach(function(B){ue[B]=c(A,ue[B],X,B.replace("Map",""),n)});var ae=ue["".concat(z,"Map")],ye=j4e(ae),me=d(A,Oe(Oe({},ue),{},{dataStartIndex:C,dataEndIndex:R,updateId:F,graphicalItems:ee,stackGroups:le,offset:X}));return Oe(Oe({formattedGraphicalItems:me,graphicalItems:ee,offset:X,stackGroups:le},ye),ue)},v=function(w){function b(E){var A,C,R;return b4e(this,b),R=E4e(this,b,[E]),Et(R,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Et(R,"accessibilityManager",new a4e),Et(R,"handleLegendBBoxUpdate",function(F){if(F){var k=R.state,N=k.dataStartIndex,T=k.dataEndIndex,j=k.updateId;R.setState(Oe({legendBBox:F},h({props:R.props,dataStartIndex:N,dataEndIndex:T,updateId:j},Oe(Oe({},R.state),{},{legendBBox:F}))))}}),Et(R,"handleReceiveSyncEvent",function(F,k,N){if(R.props.syncId===F){if(N===R.eventEmitterSymbol&&typeof R.props.syncMethod!="function")return;R.applySyncEvent(k)}}),Et(R,"handleBrushChange",function(F){var k=F.startIndex,N=F.endIndex;if(k!==R.state.dataStartIndex||N!==R.state.dataEndIndex){var T=R.state.updateId;R.setState(function(){return Oe({dataStartIndex:k,dataEndIndex:N},h({props:R.props,dataStartIndex:k,dataEndIndex:N,updateId:T},R.state))}),R.triggerSyncEvent({dataStartIndex:k,dataEndIndex:N})}}),Et(R,"handleMouseEnter",function(F){var k=R.getMouseInfo(F);if(k){var N=Oe(Oe({},k),{},{isTooltipActive:!0});R.setState(N),R.triggerSyncEvent(N);var T=R.props.onMouseEnter;Gt(T)&&T(N,F)}}),Et(R,"triggeredAfterMouseMove",function(F){var k=R.getMouseInfo(F),N=k?Oe(Oe({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};R.setState(N),R.triggerSyncEvent(N);var T=R.props.onMouseMove;Gt(T)&&T(N,F)}),Et(R,"handleItemMouseEnter",function(F){R.setState(function(){return{isTooltipActive:!0,activeItem:F,activePayload:F.tooltipPayload,activeCoordinate:F.tooltipPosition||{x:F.cx,y:F.cy}}})}),Et(R,"handleItemMouseLeave",function(){R.setState(function(){return{isTooltipActive:!1}})}),Et(R,"handleMouseMove",function(F){F.persist(),R.throttleTriggeredAfterMouseMove(F)}),Et(R,"handleMouseLeave",function(F){R.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};R.setState(k),R.triggerSyncEvent(k);var N=R.props.onMouseLeave;Gt(N)&&N(k,F)}),Et(R,"handleOuterEvent",function(F){var k=rpe(F),N=Ts(R.props,"".concat(k));if(k&&Gt(N)){var T,j;/.*touch.*/i.test(k)?j=R.getMouseInfo(F.changedTouches[0]):j=R.getMouseInfo(F),N((T=j)!==null&&T!==void 0?T:{},F)}}),Et(R,"handleClick",function(F){var k=R.getMouseInfo(F);if(k){var N=Oe(Oe({},k),{},{isTooltipActive:!0});R.setState(N),R.triggerSyncEvent(N);var T=R.props.onClick;Gt(T)&&T(N,F)}}),Et(R,"handleMouseDown",function(F){var k=R.props.onMouseDown;if(Gt(k)){var N=R.getMouseInfo(F);k(N,F)}}),Et(R,"handleMouseUp",function(F){var k=R.props.onMouseUp;if(Gt(k)){var N=R.getMouseInfo(F);k(N,F)}}),Et(R,"handleTouchMove",function(F){F.changedTouches!=null&&F.changedTouches.length>0&&R.throttleTriggeredAfterMouseMove(F.changedTouches[0])}),Et(R,"handleTouchStart",function(F){F.changedTouches!=null&&F.changedTouches.length>0&&R.handleMouseDown(F.changedTouches[0])}),Et(R,"handleTouchEnd",function(F){F.changedTouches!=null&&F.changedTouches.length>0&&R.handleMouseUp(F.changedTouches[0])}),Et(R,"handleDoubleClick",function(F){var k=R.props.onDoubleClick;if(Gt(k)){var N=R.getMouseInfo(F);k(N,F)}}),Et(R,"handleContextMenu",function(F){var k=R.props.onContextMenu;if(Gt(k)){var N=R.getMouseInfo(F);k(N,F)}}),Et(R,"triggerSyncEvent",function(F){R.props.syncId!==void 0&&cx.emit(fx,R.props.syncId,F,R.eventEmitterSymbol)}),Et(R,"applySyncEvent",function(F){var k=R.props,N=k.layout,T=k.syncMethod,j=R.state.updateId,P=F.dataStartIndex,D=F.dataEndIndex;if(F.dataStartIndex!==void 0||F.dataEndIndex!==void 0)R.setState(Oe({dataStartIndex:P,dataEndIndex:D},h({props:R.props,dataStartIndex:P,dataEndIndex:D,updateId:j},R.state)));else if(F.activeTooltipIndex!==void 0){var U=F.chartX,z=F.chartY,ee=F.activeTooltipIndex,le=R.state,ue=le.offset,X=le.tooltipTicks;if(!ue)return;if(typeof T=="function")ee=T(X,F);else if(T==="value"){ee=-1;for(var ae=0;ae<X.length;ae++)if(X[ae].value===F.activeLabel){ee=ae;break}}var ye=Oe(Oe({},ue),{},{x:ue.left,y:ue.top}),me=Math.min(U,ye.x+ye.width),B=Math.min(z,ye.y+ye.height),W=X[ee]&&X[ee].value,ne=W5(R.state,R.props.data,ee),fe=X[ee]?{x:N==="horizontal"?X[ee].coordinate:me,y:N==="horizontal"?B:X[ee].coordinate}:IV;R.setState(Oe(Oe({},F),{},{activeLabel:W,activeCoordinate:fe,activePayload:ne,activeTooltipIndex:ee}))}else R.setState(F)}),Et(R,"renderCursor",function(F){var k,N=R.state,T=N.isTooltipActive,j=N.activeCoordinate,P=N.activePayload,D=N.offset,U=N.activeTooltipIndex,z=N.tooltipAxisBandSize,ee=R.getTooltipEventType(),le=(k=F.props.active)!==null&&k!==void 0?k:T,ue=R.props.layout,X=F.key||"_recharts-cursor";return xe.createElement(p4e,{key:X,activeCoordinate:j,activePayload:P,activeTooltipIndex:U,chartName:n,element:F,isActive:le,layout:ue,offset:D,tooltipAxisBandSize:z,tooltipEventType:ee})}),Et(R,"renderPolarAxis",function(F,k,N){var T=Ts(F,"type.axisType"),j=Ts(R.state,"".concat(T,"Map")),P=F.type.defaultProps,D=P!==void 0?Oe(Oe({},P),F.props):F.props,U=j&&j[D["".concat(T,"Id")]];return ce.cloneElement(F,Oe(Oe({},U),{},{className:mn(T,U.className),key:F.key||"".concat(k,"-").concat(N),ticks:kl(U,!0)}))}),Et(R,"renderPolarGrid",function(F){var k=F.props,N=k.radialLines,T=k.polarAngles,j=k.polarRadius,P=R.state,D=P.radiusAxisMap,U=P.angleAxisMap,z=Bu(D),ee=Bu(U),le=ee.cx,ue=ee.cy,X=ee.innerRadius,ae=ee.outerRadius;return ce.cloneElement(F,{polarAngles:Array.isArray(T)?T:kl(ee,!0).map(function(ye){return ye.coordinate}),polarRadius:Array.isArray(j)?j:kl(z,!0).map(function(ye){return ye.coordinate}),cx:le,cy:ue,innerRadius:X,outerRadius:ae,key:F.key||"polar-grid",radialLines:N})}),Et(R,"renderLegend",function(){var F=R.state.formattedGraphicalItems,k=R.props,N=k.children,T=k.width,j=k.height,P=R.props.margin||{},D=T-(P.left||0)-(P.right||0),U=v9({children:N,formattedGraphicalItems:F,legendWidth:D,legendContent:u});if(!U)return null;var z=U.item,ee=bL(U,m4e);return ce.cloneElement(z,Oe(Oe({},ee),{},{chartWidth:T,chartHeight:j,margin:P,onBBoxUpdate:R.handleLegendBBoxUpdate}))}),Et(R,"renderTooltip",function(){var F,k=R.props,N=k.children,T=k.accessibilityLayer,j=Ho(N,ka);if(!j)return null;var P=R.state,D=P.isTooltipActive,U=P.activeCoordinate,z=P.activePayload,ee=P.activeLabel,le=P.offset,ue=(F=j.props.active)!==null&&F!==void 0?F:D;return ce.cloneElement(j,{viewBox:Oe(Oe({},le),{},{x:le.left,y:le.top}),active:ue,label:ee,payload:ue?z:[],coordinate:U,accessibilityLayer:T})}),Et(R,"renderBrush",function(F){var k=R.props,N=k.margin,T=k.data,j=R.state,P=j.offset,D=j.dataStartIndex,U=j.dataEndIndex,z=j.updateId;return ce.cloneElement(F,{key:F.key||"_recharts-brush",onChange:Jv(R.handleBrushChange,F.props.onChange),data:T,x:He(F.props.x)?F.props.x:P.left,y:He(F.props.y)?F.props.y:P.top+P.height+P.brushBottom-(N.bottom||0),width:He(F.props.width)?F.props.width:P.width,startIndex:D,endIndex:U,updateId:"brush-".concat(z)})}),Et(R,"renderReferenceElement",function(F,k,N){if(!F)return null;var T=R,j=T.clipPathId,P=R.state,D=P.xAxisMap,U=P.yAxisMap,z=P.offset,ee=F.type.defaultProps||{},le=F.props,ue=le.xAxisId,X=ue===void 0?ee.xAxisId:ue,ae=le.yAxisId,ye=ae===void 0?ee.yAxisId:ae;return ce.cloneElement(F,{key:F.key||"".concat(k,"-").concat(N),xAxis:D[X],yAxis:U[ye],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:j})}),Et(R,"renderActivePoints",function(F){var k=F.item,N=F.activePoint,T=F.basePoint,j=F.childIndex,P=F.isRange,D=[],U=k.props.key,z=k.item.type.defaultProps!==void 0?Oe(Oe({},k.item.type.defaultProps),k.item.props):k.item.props,ee=z.activeDot,le=z.dataKey,ue=Oe(Oe({index:j,dataKey:le,cx:N.x,cy:N.y,r:4,fill:fP(k.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value},pn(ee,!1)),D1(ee));return D.push(b.renderActiveDot(ee,ue,"".concat(U,"-activePoint-").concat(j))),T?D.push(b.renderActiveDot(ee,Oe(Oe({},ue),{},{cx:T.x,cy:T.y}),"".concat(U,"-basePoint-").concat(j))):P&&D.push(null),D}),Et(R,"renderGraphicChild",function(F,k,N){var T=R.filterFormatItem(F,k,N);if(!T)return null;var j=R.getTooltipEventType(),P=R.state,D=P.isTooltipActive,U=P.tooltipAxis,z=P.activeTooltipIndex,ee=P.activeLabel,le=R.props.children,ue=Ho(le,ka),X=T.props,ae=X.points,ye=X.isRange,me=X.baseLine,B=T.item.type.defaultProps!==void 0?Oe(Oe({},T.item.type.defaultProps),T.item.props):T.item.props,W=B.activeDot,ne=B.hide,fe=B.activeBar,he=B.activeShape,we=!!(!ne&&D&&ue&&(W||fe||he)),Te={};j!=="axis"&&ue&&ue.props.trigger==="click"?Te={onClick:Jv(R.handleItemMouseEnter,F.props.onClick)}:j!=="axis"&&(Te={onMouseLeave:Jv(R.handleItemMouseLeave,F.props.onMouseLeave),onMouseEnter:Jv(R.handleItemMouseEnter,F.props.onMouseEnter)});var re=ce.cloneElement(F,Oe(Oe({},T.props),Te));function pe(it){return typeof U.dataKey=="function"?U.dataKey(it.payload):null}if(we)if(z>=0){var Ce,Z;if(U.dataKey&&!U.allowDuplicatedCategory){var Ee=typeof U.dataKey=="function"?pe:"payload.".concat(U.dataKey.toString());Ce=TE(ae,Ee,ee),Z=ye&&me&&TE(me,Ee,ee)}else Ce=ae==null?void 0:ae[z],Z=ye&&me&&me[z];if(he||fe){var Ne=F.props.activeIndex!==void 0?F.props.activeIndex:z;return[ce.cloneElement(F,Oe(Oe(Oe({},T.props),Te),{},{activeIndex:Ne})),null,null]}if(!gn(Ce))return[re].concat(tp(R.renderActivePoints({item:T,activePoint:Ce,basePoint:Z,childIndex:z,isRange:ye})))}else{var Y,ke=(Y=R.getItemByXY(R.state.activeCoordinate))!==null&&Y!==void 0?Y:{graphicalItem:re},Ye=ke.graphicalItem,Xe=Ye.item,Fe=Xe===void 0?F:Xe,Je=Ye.childIndex,We=Oe(Oe(Oe({},T.props),Te),{},{activeIndex:Je});return[ce.cloneElement(Fe,We),null,null]}return ye?[re,null,null]:[re,null]}),Et(R,"renderCustomized",function(F,k,N){return ce.cloneElement(F,Oe(Oe({key:"recharts-customized-".concat(N)},R.props),R.state))}),Et(R,"renderMap",{CartesianGrid:{handler:t0,once:!0},ReferenceArea:{handler:R.renderReferenceElement},ReferenceLine:{handler:t0},ReferenceDot:{handler:R.renderReferenceElement},XAxis:{handler:t0},YAxis:{handler:t0},Brush:{handler:R.renderBrush,once:!0},Bar:{handler:R.renderGraphicChild},Line:{handler:R.renderGraphicChild},Area:{handler:R.renderGraphicChild},Radar:{handler:R.renderGraphicChild},RadialBar:{handler:R.renderGraphicChild},Scatter:{handler:R.renderGraphicChild},Pie:{handler:R.renderGraphicChild},Funnel:{handler:R.renderGraphicChild},Tooltip:{handler:R.renderCursor,once:!0},PolarGrid:{handler:R.renderPolarGrid,once:!0},PolarAngleAxis:{handler:R.renderPolarAxis},PolarRadiusAxis:{handler:R.renderPolarAxis},Customized:{handler:R.renderCustomized}}),R.clipPathId="".concat((A=E.id)!==null&&A!==void 0?A:Q_("recharts"),"-clip"),R.throttleTriggeredAfterMouseMove=yB(R.triggeredAfterMouseMove,(C=E.throttleDelay)!==null&&C!==void 0?C:1e3/60),R.state={},R}return I4e(b,w),S4e(b,[{key:"componentDidMount",value:function(){var A,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var A=this.props,C=A.children,R=A.data,F=A.height,k=A.layout,N=Ho(C,ka);if(N){var T=N.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var j=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,P=W5(this.state,R,T,j),D=this.state.tooltipTicks[T].coordinate,U=(this.state.offset.top+F)/2,z=k==="horizontal",ee=z?{x:D,y:U}:{y:D,x:U},le=this.state.formattedGraphicalItems.find(function(X){var ae=X.item;return ae.type.name==="Scatter"});le&&(ee=Oe(Oe({},ee),le.props.points[T].tooltipPosition),P=le.props.points[T].tooltipPayload);var ue={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:j,activePayload:P,activeCoordinate:ee};this.setState(ue),this.renderCursor(N),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(A,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==A.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==A.margin){var R,F;this.accessibilityManager.setDetails({offset:{left:(R=this.props.margin.left)!==null&&R!==void 0?R:0,top:(F=this.props.margin.top)!==null&&F!==void 0?F:0}})}return null}},{key:"componentDidUpdate",value:function(A){PE([Ho(A.children,ka)],[Ho(this.props.children,ka)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var A=Ho(this.props.children,ka);if(A&&typeof A.props.shared=="boolean"){var C=A.props.shared?"axis":"item";return a.indexOf(C)>=0?C:o}return o}},{key:"getMouseInfo",value:function(A){if(!this.container)return null;var C=this.container,R=C.getBoundingClientRect(),F=kbe(R),k={chartX:Math.round(A.pageX-F.left),chartY:Math.round(A.pageY-F.top)},N=R.width/C.offsetWidth||1,T=this.inRange(k.chartX,k.chartY,N);if(!T)return null;var j=this.state,P=j.xAxisMap,D=j.yAxisMap,U=this.getTooltipEventType(),z=SL(this.state,this.props.data,this.props.layout,T);if(U!=="axis"&&P&&D){var ee=Bu(P).scale,le=Bu(D).scale,ue=ee&&ee.invert?ee.invert(k.chartX):null,X=le&&le.invert?le.invert(k.chartY):null;return Oe(Oe({},k),{},{xValue:ue,yValue:X},z)}return z?Oe(Oe({},k),z):null}},{key:"inRange",value:function(A,C){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,F=this.props.layout,k=A/R,N=C/R;if(F==="horizontal"||F==="vertical"){var T=this.state.offset,j=k>=T.left&&k<=T.left+T.width&&N>=T.top&&N<=T.top+T.height;return j?{x:k,y:N}:null}var P=this.state,D=P.angleAxisMap,U=P.radiusAxisMap;if(D&&U){var z=Bu(D);return uM({x:k,y:N},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var A=this.props.children,C=this.getTooltipEventType(),R=Ho(A,ka),F={};R&&C==="axis"&&(R.props.trigger==="click"?F={onClick:this.handleClick}:F={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=D1(this.props,this.handleOuterEvent);return Oe(Oe({},k),F)}},{key:"addListener",value:function(){cx.on(fx,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){cx.removeListener(fx,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(A,C,R){for(var F=this.state.formattedGraphicalItems,k=0,N=F.length;k<N;k++){var T=F[k];if(T.item===A||T.props.key===A.key||C===Ll(T.item.type)&&R===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var A=this.clipPathId,C=this.state.offset,R=C.left,F=C.top,k=C.height,N=C.width;return xe.createElement("defs",null,xe.createElement("clipPath",{id:A},xe.createElement("rect",{x:R,y:F,height:k,width:N})))}},{key:"getXScales",value:function(){var A=this.state.xAxisMap;return A?Object.entries(A).reduce(function(C,R){var F=_L(R,2),k=F[0],N=F[1];return Oe(Oe({},C),{},Et({},k,N.scale))},{}):null}},{key:"getYScales",value:function(){var A=this.state.yAxisMap;return A?Object.entries(A).reduce(function(C,R){var F=_L(R,2),k=F[0],N=F[1];return Oe(Oe({},C),{},Et({},k,N.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(A){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[A])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(A){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[A])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(A){var C=this.state,R=C.formattedGraphicalItems,F=C.activeItem;if(R&&R.length)for(var k=0,N=R.length;k<N;k++){var T=R[k],j=T.props,P=T.item,D=P.type.defaultProps!==void 0?Oe(Oe({},P.type.defaultProps),P.props):P.props,U=Ll(P.type);if(U==="Bar"){var z=(j.data||[]).find(function(X){return yPe(A,X)});if(z)return{graphicalItem:T,payload:z}}else if(U==="RadialBar"){var ee=(j.data||[]).find(function(X){return uM(A,X)});if(ee)return{graphicalItem:T,payload:ee}}else if(y2(T,F)||v2(T,F)||ay(T,F)){var le=_Ce({graphicalItem:T,activeTooltipItem:F,itemData:D.data}),ue=D.activeIndex===void 0?le:D.activeIndex;return{graphicalItem:Oe(Oe({},T),{},{childIndex:ue}),payload:ay(T,F)?D.data[le]:T.props.data[le]}}}return null}},{key:"render",value:function(){var A=this;if(!e3(this))return null;var C=this.props,R=C.children,F=C.className,k=C.width,N=C.height,T=C.style,j=C.compact,P=C.title,D=C.desc,U=bL(C,g4e),z=pn(U,!1);if(j)return xe.createElement(oL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},xe.createElement(NE,Wd({},z,{width:k,height:N,title:P,desc:D}),this.renderClipPath(),n3(R,this.renderMap)));if(this.props.accessibilityLayer){var ee,le;z.tabIndex=(ee=this.props.tabIndex)!==null&&ee!==void 0?ee:0,z.role=(le=this.props.role)!==null&&le!==void 0?le:"application",z.onKeyDown=function(X){A.accessibilityManager.keyboardEvent(X)},z.onFocus=function(){A.accessibilityManager.focus()}}var ue=this.parseEventsOfWrapper();return xe.createElement(oL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},xe.createElement("div",Wd({className:mn("recharts-wrapper",F),style:Oe({position:"relative",cursor:"default",width:k,height:N},T)},ue,{ref:function(ae){A.container=ae}}),xe.createElement(NE,Wd({},z,{width:k,height:N,title:P,desc:D,style:O4e}),this.renderClipPath(),n3(R,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(ce.Component);Et(v,"displayName",n),Et(v,"defaultProps",Oe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Et(v,"getDerivedStateFromProps",function(w,b){var E=w.dataKey,A=w.data,C=w.children,R=w.width,F=w.height,k=w.layout,N=w.stackOffset,T=w.margin,j=b.dataStartIndex,P=b.dataEndIndex;if(b.updateId===void 0){var D=EL(w);return Oe(Oe(Oe({},D),{},{updateId:0},h(Oe(Oe({props:w},D),{},{updateId:0}),b)),{},{prevDataKey:E,prevData:A,prevWidth:R,prevHeight:F,prevLayout:k,prevStackOffset:N,prevMargin:T,prevChildren:C})}if(E!==b.prevDataKey||A!==b.prevData||R!==b.prevWidth||F!==b.prevHeight||k!==b.prevLayout||N!==b.prevStackOffset||!uh(T,b.prevMargin)){var U=EL(w),z={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},ee=Oe(Oe({},SL(b,A,k)),{},{updateId:b.updateId+1}),le=Oe(Oe(Oe({},U),z),ee);return Oe(Oe(Oe({},le),h(Oe({props:w},le),b)),{},{prevDataKey:E,prevData:A,prevWidth:R,prevHeight:F,prevLayout:k,prevStackOffset:N,prevMargin:T,prevChildren:C})}if(!PE(C,b.prevChildren)){var ue,X,ae,ye,me=Ho(C,Gh),B=me&&(ue=(X=me.props)===null||X===void 0?void 0:X.startIndex)!==null&&ue!==void 0?ue:j,W=me&&(ae=(ye=me.props)===null||ye===void 0?void 0:ye.endIndex)!==null&&ae!==void 0?ae:P,ne=B!==j||W!==P,fe=!gn(A),he=fe&&!ne?b.updateId:b.updateId+1;return Oe(Oe({updateId:he},h(Oe(Oe({props:w},b),{},{updateId:he,dataStartIndex:B,dataEndIndex:W}),b)),{},{prevChildren:C,dataStartIndex:B,dataEndIndex:W})}return null}),Et(v,"renderActiveDot",function(w,b,E){var A;return ce.isValidElement(w)?A=ce.cloneElement(w,b):Gt(w)?A=w(b):A=xe.createElement(U9,b),xe.createElement(ci,{className:"recharts-active-dot",key:E},A)});var _=ce.forwardRef(function(b,E){return xe.createElement(v,Wd({},b,{ref:E}))});return _.displayName=v.displayName,_},z4e=q4e({chartName:"BarChart",GraphicalChild:Zf,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:E2},{axisType:"yAxis",AxisComp:A2}],formatAxisMap:HNe});const H4e="modulepreload",G4e=function(t,e){return new URL(t,e).href},TL={},hx=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=G4e(u,r),u in TL)return;TL[u]=!0;const c=u.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(!!r)for(let v=s.length-1;v>=0;v--){const _=s[v];if(_.href===u&&(!c||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${f}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":H4e,c||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),c)return new Promise((v,_)=>{h.addEventListener("load",v),h.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};function Tn(t){"@babel/helpers - typeof";return Tn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tn(t)}var sa=Uint8Array,Jo=Uint16Array,xP=Int32Array,SP=new sa([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),EP=new sa([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),IL=new sa([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),CV=function(t,e){for(var n=new Jo(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new xP(n[30]),r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return{b:n,r:i}},NV=CV(SP,2),W4e=NV.b,K5=NV.r;W4e[28]=258,K5[258]=28;var K4e=CV(EP,0),PL=K4e.r,Y5=new Jo(32768);for(var Xn=0;Xn<32768;++Xn){var Cu=(Xn&43690)>>1|(Xn&21845)<<1;Cu=(Cu&52428)>>2|(Cu&13107)<<2,Cu=(Cu&61680)>>4|(Cu&3855)<<4,Y5[Xn]=((Cu&65280)>>8|(Cu&255)<<8)>>1}var tg=function(t,e,n){for(var r=t.length,i=0,o=new Jo(e);i<r;++i)t[i]&&++o[t[i]-1];var s=new Jo(e);for(i=1;i<e;++i)s[i]=s[i-1]+o[i-1]<<1;var a;if(n){a=new Jo(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],c=e-t[i],f=s[t[i]-1]++<<c,d=f|(1<<c)-1;f<=d;++f)a[Y5[f]>>l]=u}else for(a=new Jo(r),i=0;i<r;++i)t[i]&&(a[i]=Y5[s[t[i]-1]++]>>15-t[i]);return a},Df=new sa(288);for(var Xn=0;Xn<144;++Xn)Df[Xn]=8;for(var Xn=144;Xn<256;++Xn)Df[Xn]=9;for(var Xn=256;Xn<280;++Xn)Df[Xn]=7;for(var Xn=280;Xn<288;++Xn)Df[Xn]=8;var Mw=new sa(32);for(var Xn=0;Xn<32;++Xn)Mw[Xn]=5;var Y4e=tg(Df,9,0),J4e=tg(Mw,5,0),kV=function(t){return(t+7)/8|0},X4e=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new sa(t.subarray(e,n))},yl=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},wm=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},px=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,o=n.slice();if(!i)return{t:OV,l:0};if(i==1){var s=new sa(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(R,F){return R.f-F.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],u=0,c=1,f=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};c!=i-1;)a=n[n[u].f<n[f].f?u++:f++],l=n[u!=c&&n[u].f<n[f].f?u++:f++],n[c++]={s:-1,f:a.f+l.f,l:a,r:l};for(var d=o[0].s,r=1;r<i;++r)o[r].s>d&&(d=o[r].s);var h=new Jo(d+1),v=J5(n[c-1],h,0);if(v>e){var r=0,_=0,w=v-e,b=1<<w;for(o.sort(function(F,k){return h[k.s]-h[F.s]||F.f-k.f});r<i;++r){var E=o[r].s;if(h[E]>e)_+=b-(1<<v-h[E]),h[E]=e;else break}for(_>>=w;_>0;){var A=o[r].s;h[A]<e?_-=1<<e-h[A]++-1:++r}for(;r>=0&&_;--r){var C=o[r].s;h[C]==e&&(--h[C],++_)}v=e}return{t:new sa(h),l:v}},J5=function(t,e,n){return t.s==-1?Math.max(J5(t.l,e,n+1),J5(t.r,e,n+1)):e[t.s]=n},CL=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Jo(++e),r=0,i=t[0],o=1,s=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=t[a]}return{c:n.subarray(0,r),n:e}},_m=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},RV=function(t,e,n){var r=n.length,i=kV(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var o=0;o<r;++o)t[i+o+4]=n[o];return(i+4+r)*8},NL=function(t,e,n,r,i,o,s,a,l,u,c){yl(e,c++,n),++i[256];for(var f=px(i,15),d=f.t,h=f.l,v=px(o,15),_=v.t,w=v.l,b=CL(d),E=b.c,A=b.n,C=CL(_),R=C.c,F=C.n,k=new Jo(19),N=0;N<E.length;++N)++k[E[N]&31];for(var N=0;N<R.length;++N)++k[R[N]&31];for(var T=px(k,7),j=T.t,P=T.l,D=19;D>4&&!j[IL[D-1]];--D);var U=u+5<<3,z=_m(i,Df)+_m(o,Mw)+s,ee=_m(i,d)+_m(o,_)+s+14+3*D+_m(k,j)+2*k[16]+3*k[17]+7*k[18];if(l>=0&&U<=z&&U<=ee)return RV(e,c,t.subarray(l,l+u));var le,ue,X,ae;if(yl(e,c,1+(ee<z)),c+=2,ee<z){le=tg(d,h,0),ue=d,X=tg(_,w,0),ae=_;var ye=tg(j,P,0);yl(e,c,A-257),yl(e,c+5,F-1),yl(e,c+10,D-4),c+=14;for(var N=0;N<D;++N)yl(e,c+3*N,j[IL[N]]);c+=3*D;for(var me=[E,R],B=0;B<2;++B)for(var W=me[B],N=0;N<W.length;++N){var ne=W[N]&31;yl(e,c,ye[ne]),c+=j[ne],ne>15&&(yl(e,c,W[N]>>5&127),c+=W[N]>>12)}}else le=Y4e,ue=Df,X=J4e,ae=Mw;for(var N=0;N<a;++N){var fe=r[N];if(fe>255){var ne=fe>>18&31;wm(e,c,le[ne+257]),c+=ue[ne+257],ne>7&&(yl(e,c,fe>>23&31),c+=SP[ne]);var he=fe&31;wm(e,c,X[he]),c+=ae[he],he>3&&(wm(e,c,fe>>5&8191),c+=EP[he])}else wm(e,c,le[fe]),c+=ue[fe]}return wm(e,c,le[256]),c+ue[256]},Q4e=new xP([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),OV=new sa(0),Z4e=function(t,e,n,r,i,o){var s=o.z||t.length,a=new sa(r+s+5*(1+Math.ceil(s/7e3))+i),l=a.subarray(r,a.length-i),u=o.l,c=(o.r||0)&7;if(e){c&&(l[0]=o.r>>3);for(var f=Q4e[e-1],d=f>>13,h=f&8191,v=(1<<n)-1,_=o.p||new Jo(32768),w=o.h||new Jo(v+1),b=Math.ceil(n/3),E=2*b,A=function(Ne){return(t[Ne]^t[Ne+1]<<b^t[Ne+2]<<E)&v},C=new xP(25e3),R=new Jo(288),F=new Jo(32),k=0,N=0,T=o.i||0,j=0,P=o.w||0,D=0;T+2<s;++T){var U=A(T),z=T&32767,ee=w[U];if(_[z]=ee,w[U]=z,P<=T){var le=s-T;if((k>7e3||j>24576)&&(le>423||!u)){c=NL(t,l,0,C,R,F,N,j,D,T-D,c),j=k=N=0,D=T;for(var ue=0;ue<286;++ue)R[ue]=0;for(var ue=0;ue<30;++ue)F[ue]=0}var X=2,ae=0,ye=h,me=z-ee&32767;if(le>2&&U==A(T-me))for(var B=Math.min(d,le)-1,W=Math.min(32767,T),ne=Math.min(258,le);me<=W&&--ye&&z!=ee;){if(t[T+X]==t[T+X-me]){for(var fe=0;fe<ne&&t[T+fe]==t[T+fe-me];++fe);if(fe>X){if(X=fe,ae=me,fe>B)break;for(var he=Math.min(me,fe-2),we=0,ue=0;ue<he;++ue){var Te=T-me+ue&32767,re=_[Te],pe=Te-re&32767;pe>we&&(we=pe,ee=Te)}}}z=ee,ee=_[z],me+=z-ee&32767}if(ae){C[j++]=268435456|K5[X]<<18|PL[ae];var Ce=K5[X]&31,Z=PL[ae]&31;N+=SP[Ce]+EP[Z],++R[257+Ce],++F[Z],P=T+X,++k}else C[j++]=t[T],++R[t[T]]}}for(T=Math.max(T,P);T<s;++T)C[j++]=t[T],++R[t[T]];c=NL(t,l,u,C,R,F,N,j,D,T-D,c),u||(o.r=c&7|l[c/8|0]<<3,c-=7,o.h=w,o.p=_,o.i=T,o.w=P)}else{for(var T=o.w||0;T<s+u;T+=65535){var Ee=T+65535;Ee>=s&&(l[c/8|0]=u,Ee=s),c=RV(l,c+1,t.subarray(T,Ee))}o.i=s}return X4e(a,0,r+kV(c)+i)},MV=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,o=n.length|0,s=0;s!=o;){for(var a=Math.min(s+2655,o);s<a;++s)i+=r+=n[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},e3e=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),s=new sa(o.length+t.length);s.set(o),s.set(t,o.length),t=s,i.w=o.length}return Z4e(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},LV=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},t3e=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=MV();i.p(e.dictionary),LV(t,2,i.d())}};function X5(t,e){e||(e={});var n=MV();n.p(t);var r=e3e(t,e,e.dictionary?6:2,4);return t3e(r,e),LV(r,r.length-4,n.d()),r}var n3e=typeof TextDecoder<"u"&&new TextDecoder,r3e=0;try{n3e.decode(OV,{stream:!0}),r3e=1}catch{}function i3e(t){if(Array.isArray(t))return t}function o3e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function kL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function s3e(t,e){if(t){if(typeof t=="string")return kL(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kL(t,e):void 0}}function a3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RL(t,e){return i3e(t)||o3e(t,e)||s3e(t,e)||a3e()}function OL(t,e="utf8"){return new TextDecoder(e).decode(t)}const l3e=new TextEncoder;function u3e(t){return l3e.encode(t)}const c3e=1024*8,f3e=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),mx={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class AP{constructor(e=c3e,n={}){En(this,"buffer");En(this,"byteLength");En(this,"byteOffset");En(this,"length");En(this,"offset");En(this,"lastWrittenByte");En(this,"littleEndian");En(this,"_data");En(this,"_mark");En(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,o=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof AP)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=mx[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,o=this.buffer.slice(i,i+r);if(this.littleEndian===f3e&&n!=="uint8"&&n!=="int8"){const a=new Uint8Array(this.buffer.slice(i,i+r));a.reverse();const l=new mx[n](a.buffer);return this.offset+=r,l.reverse(),l}const s=new mx[n](o);return this.offset+=r,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return OL(this.readBytes(e))}decodeText(e=1,n="utf8"){return OL(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(u3e(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Ap(t){let e=t.length;for(;--e>=0;)t[e]=0}const d3e=3,h3e=258,DV=29,p3e=256,m3e=p3e+1+DV,FV=30,g3e=512,y3e=new Array((m3e+2)*2);Ap(y3e);const v3e=new Array(FV*2);Ap(v3e);const w3e=new Array(g3e);Ap(w3e);const _3e=new Array(h3e-d3e+1);Ap(_3e);const b3e=new Array(DV);Ap(b3e);const x3e=new Array(FV);Ap(x3e);const S3e=(t,e,n,r)=>{let i=t&65535|0,o=t>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+e[r++]|0,o=o+i|0;while(--s);i%=65521,o%=65521}return i|o<<16|0};var Q5=S3e;const E3e=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},A3e=new Uint32Array(E3e()),T3e=(t,e,n,r)=>{const i=A3e,o=r+n;t^=-1;for(let s=r;s<o;s++)t=t>>>8^i[(t^e[s])&255];return t^-1};var Ta=T3e,Z5={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},UV={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const I3e=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var P3e=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)I3e(n,r)&&(t[r]=n[r])}}return t},C3e=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,o=t.length;r<o;r++){let s=t[r];n.set(s,i),i+=s.length}return n},jV={assign:P3e,flattenChunks:C3e};let $V=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{$V=!1}const py=new Uint8Array(256);for(let t=0;t<256;t++)py[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;py[254]=py[254]=1;var N3e=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,o,s=t.length,a=0;for(i=0;i<s;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),o=0,i=0;o<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|n&63):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|n&63):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|n&63);return e};const k3e=(t,e)=>{if(e<65534&&t.subarray&&$V)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var R3e=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const o=new Array(n*2);for(i=0,r=0;r<n;){let s=t[r++];if(s<128){o[i++]=s;continue}let a=py[s];if(a>4){o[i++]=65533,r+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&r<n;)s=s<<6|t[r++]&63,a--;if(a>1){o[i++]=65533;continue}s<65536?o[i++]=s:(s-=65536,o[i++]=55296|s>>10&1023,o[i++]=56320|s&1023)}return k3e(o,i)},O3e=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+py[t[n]]>e?n:e},eA={string2buf:N3e,buf2string:R3e,utf8border:O3e};function M3e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var L3e=M3e;const n0=16209,D3e=16191;var F3e=function(e,n){let r,i,o,s,a,l,u,c,f,d,h,v,_,w,b,E,A,C,R,F,k,N,T,j;const P=e.state;r=e.next_in,T=e.input,i=r+(e.avail_in-5),o=e.next_out,j=e.output,s=o-(n-e.avail_out),a=o+(e.avail_out-257),l=P.dmax,u=P.wsize,c=P.whave,f=P.wnext,d=P.window,h=P.hold,v=P.bits,_=P.lencode,w=P.distcode,b=(1<<P.lenbits)-1,E=(1<<P.distbits)-1;e:do{v<15&&(h+=T[r++]<<v,v+=8,h+=T[r++]<<v,v+=8),A=_[h&b];t:for(;;){if(C=A>>>24,h>>>=C,v-=C,C=A>>>16&255,C===0)j[o++]=A&65535;else if(C&16){R=A&65535,C&=15,C&&(v<C&&(h+=T[r++]<<v,v+=8),R+=h&(1<<C)-1,h>>>=C,v-=C),v<15&&(h+=T[r++]<<v,v+=8,h+=T[r++]<<v,v+=8),A=w[h&E];n:for(;;){if(C=A>>>24,h>>>=C,v-=C,C=A>>>16&255,C&16){if(F=A&65535,C&=15,v<C&&(h+=T[r++]<<v,v+=8,v<C&&(h+=T[r++]<<v,v+=8)),F+=h&(1<<C)-1,F>l){e.msg="invalid distance too far back",P.mode=n0;break e}if(h>>>=C,v-=C,C=o-s,F>C){if(C=F-C,C>c&&P.sane){e.msg="invalid distance too far back",P.mode=n0;break e}if(k=0,N=d,f===0){if(k+=u-C,C<R){R-=C;do j[o++]=d[k++];while(--C);k=o-F,N=j}}else if(f<C){if(k+=u+f-C,C-=f,C<R){R-=C;do j[o++]=d[k++];while(--C);if(k=0,f<R){C=f,R-=C;do j[o++]=d[k++];while(--C);k=o-F,N=j}}}else if(k+=f-C,C<R){R-=C;do j[o++]=d[k++];while(--C);k=o-F,N=j}for(;R>2;)j[o++]=N[k++],j[o++]=N[k++],j[o++]=N[k++],R-=3;R&&(j[o++]=N[k++],R>1&&(j[o++]=N[k++]))}else{k=o-F;do j[o++]=j[k++],j[o++]=j[k++],j[o++]=j[k++],R-=3;while(R>2);R&&(j[o++]=j[k++],R>1&&(j[o++]=j[k++]))}}else if(C&64){e.msg="invalid distance code",P.mode=n0;break e}else{A=w[(A&65535)+(h&(1<<C)-1)];continue n}break}}else if(C&64)if(C&32){P.mode=D3e;break e}else{e.msg="invalid literal/length code",P.mode=n0;break e}else{A=_[(A&65535)+(h&(1<<C)-1)];continue t}break}}while(r<i&&o<a);R=v>>3,r-=R,v-=R<<3,h&=(1<<v)-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=o<a?257+(a-o):257-(o-a),P.hold=h,P.bits=v};const _d=15,ML=852,LL=592,DL=0,gx=1,FL=2,U3e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),j3e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),$3e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),B3e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),V3e=(t,e,n,r,i,o,s,a)=>{const l=a.bits;let u=0,c=0,f=0,d=0,h=0,v=0,_=0,w=0,b=0,E=0,A,C,R,F,k,N=null,T;const j=new Uint16Array(_d+1),P=new Uint16Array(_d+1);let D=null,U,z,ee;for(u=0;u<=_d;u++)j[u]=0;for(c=0;c<r;c++)j[e[n+c]]++;for(h=l,d=_d;d>=1&&j[d]===0;d--);if(h>d&&(h=d),d===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,a.bits=1,0;for(f=1;f<d&&j[f]===0;f++);for(h<f&&(h=f),w=1,u=1;u<=_d;u++)if(w<<=1,w-=j[u],w<0)return-1;if(w>0&&(t===DL||d!==1))return-1;for(P[1]=0,u=1;u<_d;u++)P[u+1]=P[u]+j[u];for(c=0;c<r;c++)e[n+c]!==0&&(s[P[e[n+c]]++]=c);if(t===DL?(N=D=s,T=20):t===gx?(N=U3e,D=j3e,T=257):(N=$3e,D=B3e,T=0),E=0,c=0,u=f,k=o,v=h,_=0,R=-1,b=1<<h,F=b-1,t===gx&&b>ML||t===FL&&b>LL)return 1;for(;;){U=u-_,s[c]+1<T?(z=0,ee=s[c]):s[c]>=T?(z=D[s[c]-T],ee=N[s[c]-T]):(z=96,ee=0),A=1<<u-_,C=1<<v,f=C;do C-=A,i[k+(E>>_)+C]=U<<24|z<<16|ee|0;while(C!==0);for(A=1<<u-1;E&A;)A>>=1;if(A!==0?(E&=A-1,E+=A):E=0,c++,--j[u]===0){if(u===d)break;u=e[n+s[c]]}if(u>h&&(E&F)!==R){for(_===0&&(_=h),k+=f,v=u-_,w=1<<v;v+_<d&&(w-=j[v+_],!(w<=0));)v++,w<<=1;if(b+=1<<v,t===gx&&b>ML||t===FL&&b>LL)return 1;R=E&F,i[R]=h<<24|v<<16|k-o|0}}return E!==0&&(i[k+E]=u-_<<24|64<<16|0),a.bits=h,0};var ng=V3e;const q3e=0,BV=1,VV=2,{Z_FINISH:UL,Z_BLOCK:z3e,Z_TREES:r0,Z_OK:Ff,Z_STREAM_END:H3e,Z_NEED_DICT:G3e,Z_STREAM_ERROR:ks,Z_DATA_ERROR:qV,Z_MEM_ERROR:zV,Z_BUF_ERROR:W3e,Z_DEFLATED:jL}=UV,I2=16180,$L=16181,BL=16182,VL=16183,qL=16184,zL=16185,HL=16186,GL=16187,WL=16188,KL=16189,Lw=16190,vl=16191,yx=16192,YL=16193,vx=16194,JL=16195,XL=16196,QL=16197,ZL=16198,i0=16199,o0=16200,eD=16201,tD=16202,nD=16203,rD=16204,iD=16205,wx=16206,oD=16207,sD=16208,nr=16209,HV=16210,GV=16211,K3e=852,Y3e=592,J3e=15,X3e=J3e,aD=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Q3e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ed=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<I2||e.mode>GV?1:0},WV=t=>{if(ed(t))return ks;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=I2,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(K3e),e.distcode=e.distdyn=new Int32Array(Y3e),e.sane=1,e.back=-1,Ff},KV=t=>{if(ed(t))return ks;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,WV(t)},YV=(t,e)=>{let n;if(ed(t))return ks;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ks:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,KV(t))},JV=(t,e)=>{if(!t)return ks;const n=new Q3e;t.state=n,n.strm=t,n.window=null,n.mode=I2;const r=YV(t,e);return r!==Ff&&(t.state=null),r},Z3e=t=>JV(t,X3e);let lD=!0,_x,bx;const eOe=t=>{if(lD){_x=new Int32Array(512),bx=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(ng(BV,t.lens,0,288,_x,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;ng(VV,t.lens,0,32,bx,0,t.work,{bits:5}),lD=!1}t.lencode=_x,t.lenbits=9,t.distcode=bx,t.distbits=5},XV=(t,e,n,r)=>{let i;const o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(e.subarray(n-r,n-r+i),o.wnext),r-=i,r?(o.window.set(e.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},tOe=(t,e)=>{let n,r,i,o,s,a,l,u,c,f,d,h,v,_,w=0,b,E,A,C,R,F,k,N;const T=new Uint8Array(4);let j,P;const D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ed(t)||!t.output||!t.input&&t.avail_in!==0)return ks;n=t.state,n.mode===vl&&(n.mode=yx),s=t.next_out,i=t.output,l=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,u=n.hold,c=n.bits,f=a,d=l,N=Ff;e:for(;;)switch(n.mode){case I2:if(n.wrap===0){n.mode=yx;break}for(;c<16;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,T[0]=u&255,T[1]=u>>>8&255,n.check=Ta(n.check,T,2,0),u=0,c=0,n.mode=$L;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=nr;break}if((u&15)!==jL){t.msg="unknown compression method",n.mode=nr;break}if(u>>>=4,c-=4,k=(u&15)+8,n.wbits===0&&(n.wbits=k),k>15||k>n.wbits){t.msg="invalid window size",n.mode=nr;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?KL:vl,u=0,c=0;break;case $L:for(;c<16;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}if(n.flags=u,(n.flags&255)!==jL){t.msg="unknown compression method",n.mode=nr;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=nr;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,n.check=Ta(n.check,T,2,0)),u=0,c=0,n.mode=BL;case BL:for(;c<32;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,T[2]=u>>>16&255,T[3]=u>>>24&255,n.check=Ta(n.check,T,4,0)),u=0,c=0,n.mode=VL;case VL:for(;c<16;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,n.check=Ta(n.check,T,2,0)),u=0,c=0,n.mode=qL;case qL:if(n.flags&1024){for(;c<16;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,n.check=Ta(n.check,T,2,0)),u=0,c=0}else n.head&&(n.head.extra=null);n.mode=zL;case zL:if(n.flags&1024&&(h=n.length,h>a&&(h=a),h&&(n.head&&(k=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+h),k)),n.flags&512&&n.wrap&4&&(n.check=Ta(n.check,r,h,o)),a-=h,o+=h,n.length-=h),n.length))break e;n.length=0,n.mode=HL;case HL:if(n.flags&2048){if(a===0)break e;h=0;do k=r[o+h++],n.head&&k&&n.length<65536&&(n.head.name+=String.fromCharCode(k));while(k&&h<a);if(n.flags&512&&n.wrap&4&&(n.check=Ta(n.check,r,h,o)),a-=h,o+=h,k)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=GL;case GL:if(n.flags&4096){if(a===0)break e;h=0;do k=r[o+h++],n.head&&k&&n.length<65536&&(n.head.comment+=String.fromCharCode(k));while(k&&h<a);if(n.flags&512&&n.wrap&4&&(n.check=Ta(n.check,r,h,o)),a-=h,o+=h,k)break e}else n.head&&(n.head.comment=null);n.mode=WL;case WL:if(n.flags&512){for(;c<16;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=nr;break}u=0,c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=vl;break;case KL:for(;c<32;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}t.adler=n.check=aD(u),u=0,c=0,n.mode=Lw;case Lw:if(n.havedict===0)return t.next_out=s,t.avail_out=l,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=c,G3e;t.adler=n.check=1,n.mode=vl;case vl:if(e===z3e||e===r0)break e;case yx:if(n.last){u>>>=c&7,c-=c&7,n.mode=wx;break}for(;c<3;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}switch(n.last=u&1,u>>>=1,c-=1,u&3){case 0:n.mode=YL;break;case 1:if(eOe(n),n.mode=i0,e===r0){u>>>=2,c-=2;break e}break;case 2:n.mode=XL;break;case 3:t.msg="invalid block type",n.mode=nr}u>>>=2,c-=2;break;case YL:for(u>>>=c&7,c-=c&7;c<32;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=nr;break}if(n.length=u&65535,u=0,c=0,n.mode=vx,e===r0)break e;case vx:n.mode=JL;case JL:if(h=n.length,h){if(h>a&&(h=a),h>l&&(h=l),h===0)break e;i.set(r.subarray(o,o+h),s),a-=h,o+=h,l-=h,s+=h,n.length-=h;break}n.mode=vl;break;case XL:for(;c<14;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}if(n.nlen=(u&31)+257,u>>>=5,c-=5,n.ndist=(u&31)+1,u>>>=5,c-=5,n.ncode=(u&15)+4,u>>>=4,c-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=nr;break}n.have=0,n.mode=QL;case QL:for(;n.have<n.ncode;){for(;c<3;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}n.lens[D[n.have++]]=u&7,u>>>=3,c-=3}for(;n.have<19;)n.lens[D[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,j={bits:n.lenbits},N=ng(q3e,n.lens,0,19,n.lencode,0,n.work,j),n.lenbits=j.bits,N){t.msg="invalid code lengths set",n.mode=nr;break}n.have=0,n.mode=ZL;case ZL:for(;n.have<n.nlen+n.ndist;){for(;w=n.lencode[u&(1<<n.lenbits)-1],b=w>>>24,E=w>>>16&255,A=w&65535,!(b<=c);){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}if(A<16)u>>>=b,c-=b,n.lens[n.have++]=A;else{if(A===16){for(P=b+2;c<P;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}if(u>>>=b,c-=b,n.have===0){t.msg="invalid bit length repeat",n.mode=nr;break}k=n.lens[n.have-1],h=3+(u&3),u>>>=2,c-=2}else if(A===17){for(P=b+3;c<P;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}u>>>=b,c-=b,k=0,h=3+(u&7),u>>>=3,c-=3}else{for(P=b+7;c<P;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}u>>>=b,c-=b,k=0,h=11+(u&127),u>>>=7,c-=7}if(n.have+h>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=nr;break}for(;h--;)n.lens[n.have++]=k}}if(n.mode===nr)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=nr;break}if(n.lenbits=9,j={bits:n.lenbits},N=ng(BV,n.lens,0,n.nlen,n.lencode,0,n.work,j),n.lenbits=j.bits,N){t.msg="invalid literal/lengths set",n.mode=nr;break}if(n.distbits=6,n.distcode=n.distdyn,j={bits:n.distbits},N=ng(VV,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,j),n.distbits=j.bits,N){t.msg="invalid distances set",n.mode=nr;break}if(n.mode=i0,e===r0)break e;case i0:n.mode=o0;case o0:if(a>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=c,F3e(t,d),s=t.next_out,i=t.output,l=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,u=n.hold,c=n.bits,n.mode===vl&&(n.back=-1);break}for(n.back=0;w=n.lencode[u&(1<<n.lenbits)-1],b=w>>>24,E=w>>>16&255,A=w&65535,!(b<=c);){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}if(E&&!(E&240)){for(C=b,R=E,F=A;w=n.lencode[F+((u&(1<<C+R)-1)>>C)],b=w>>>24,E=w>>>16&255,A=w&65535,!(C+b<=c);){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}u>>>=C,c-=C,n.back+=C}if(u>>>=b,c-=b,n.back+=b,n.length=A,E===0){n.mode=iD;break}if(E&32){n.back=-1,n.mode=vl;break}if(E&64){t.msg="invalid literal/length code",n.mode=nr;break}n.extra=E&15,n.mode=eD;case eD:if(n.extra){for(P=n.extra;c<P;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=tD;case tD:for(;w=n.distcode[u&(1<<n.distbits)-1],b=w>>>24,E=w>>>16&255,A=w&65535,!(b<=c);){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}if(!(E&240)){for(C=b,R=E,F=A;w=n.distcode[F+((u&(1<<C+R)-1)>>C)],b=w>>>24,E=w>>>16&255,A=w&65535,!(C+b<=c);){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}u>>>=C,c-=C,n.back+=C}if(u>>>=b,c-=b,n.back+=b,E&64){t.msg="invalid distance code",n.mode=nr;break}n.offset=A,n.extra=E&15,n.mode=nD;case nD:if(n.extra){for(P=n.extra;c<P;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=nr;break}n.mode=rD;case rD:if(l===0)break e;if(h=d-l,n.offset>h){if(h=n.offset-h,h>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=nr;break}h>n.wnext?(h-=n.wnext,v=n.wsize-h):v=n.wnext-h,h>n.length&&(h=n.length),_=n.window}else _=i,v=s-n.offset,h=n.length;h>l&&(h=l),l-=h,n.length-=h;do i[s++]=_[v++];while(--h);n.length===0&&(n.mode=o0);break;case iD:if(l===0)break e;i[s++]=n.length,l--,n.mode=o0;break;case wx:if(n.wrap){for(;c<32;){if(a===0)break e;a--,u|=r[o++]<<c,c+=8}if(d-=l,t.total_out+=d,n.total+=d,n.wrap&4&&d&&(t.adler=n.check=n.flags?Ta(n.check,i,d,s-d):Q5(n.check,i,d,s-d)),d=l,n.wrap&4&&(n.flags?u:aD(u))!==n.check){t.msg="incorrect data check",n.mode=nr;break}u=0,c=0}n.mode=oD;case oD:if(n.wrap&&n.flags){for(;c<32;){if(a===0)break e;a--,u+=r[o++]<<c,c+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=nr;break}u=0,c=0}n.mode=sD;case sD:N=H3e;break e;case nr:N=qV;break e;case HV:return zV;case GV:default:return ks}return t.next_out=s,t.avail_out=l,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=c,(n.wsize||d!==t.avail_out&&n.mode<nr&&(n.mode<wx||e!==UL))&&XV(t,t.output,t.next_out,d-t.avail_out),f-=t.avail_in,d-=t.avail_out,t.total_in+=f,t.total_out+=d,n.total+=d,n.wrap&4&&d&&(t.adler=n.check=n.flags?Ta(n.check,i,d,t.next_out-d):Q5(n.check,i,d,t.next_out-d)),t.data_type=n.bits+(n.last?64:0)+(n.mode===vl?128:0)+(n.mode===i0||n.mode===vx?256:0),(f===0&&d===0||e===UL)&&N===Ff&&(N=W3e),N},nOe=t=>{if(ed(t))return ks;let e=t.state;return e.window&&(e.window=null),t.state=null,Ff},rOe=(t,e)=>{if(ed(t))return ks;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,Ff):ks},iOe=(t,e)=>{const n=e.length;let r,i,o;return ed(t)||(r=t.state,r.wrap!==0&&r.mode!==Lw)?ks:r.mode===Lw&&(i=1,i=Q5(i,e,n,0),i!==r.check)?qV:(o=XV(t,e,n,n),o?(r.mode=HV,zV):(r.havedict=1,Ff))};var oOe=KV,sOe=YV,aOe=WV,lOe=Z3e,uOe=JV,cOe=tOe,fOe=nOe,dOe=rOe,hOe=iOe,pOe="pako inflate (from Nodeca project)",bl={inflateReset:oOe,inflateReset2:sOe,inflateResetKeep:aOe,inflateInit:lOe,inflateInit2:uOe,inflate:cOe,inflateEnd:fOe,inflateGetHeader:dOe,inflateSetDictionary:hOe,inflateInfo:pOe};function mOe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gOe=mOe;const QV=Object.prototype.toString,{Z_NO_FLUSH:yOe,Z_FINISH:vOe,Z_OK:my,Z_STREAM_END:xx,Z_NEED_DICT:Sx,Z_STREAM_ERROR:wOe,Z_DATA_ERROR:uD,Z_MEM_ERROR:_Oe}=UV;function Hy(t){this.options=jV.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new L3e,this.strm.avail_out=0;let n=bl.inflateInit2(this.strm,e.windowBits);if(n!==my)throw new Error(Z5[n]);if(this.header=new gOe,bl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=eA.string2buf(e.dictionary):QV.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=bl.inflateSetDictionary(this.strm,e.dictionary),n!==my)))throw new Error(Z5[n])}Hy.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?vOe:yOe,QV.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=bl.inflate(n,s),o===Sx&&i&&(o=bl.inflateSetDictionary(n,i),o===my?o=bl.inflate(n,s):o===uD&&(o=Sx));n.avail_in>0&&o===xx&&n.state.wrap>0&&t[n.next_in]!==0;)bl.inflateReset(n),o=bl.inflate(n,s);switch(o){case wOe:case uD:case Sx:case _Oe:return this.onEnd(o),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||o===xx))if(this.options.to==="string"){let l=eA.utf8border(n.output,n.next_out),u=n.next_out-l,c=eA.buf2string(n.output,l);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(l,l+u),0),this.onData(c)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(o===my&&a===0)){if(o===xx)return o=bl.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Hy.prototype.onData=function(t){this.chunks.push(t)};Hy.prototype.onEnd=function(t){t===my&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=jV.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function bOe(t,e){const n=new Hy(e);if(n.push(t),n.err)throw n.msg||Z5[n.err];return n.result}var xOe=Hy,SOe=bOe,EOe={Inflate:xOe,inflate:SOe};const{Inflate:AOe,inflate:TOe}=EOe;var cD=AOe,IOe=TOe;const ZV=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;ZV[t]=e}const fD=4294967295;function POe(t,e,n){let r=t;for(let i=0;i<n;i++)r=ZV[(r^e[i])&255]^r>>>8;return r}function COe(t,e){return(POe(fD,t,e)^fD)>>>0}function dD(t,e,n){const r=t.readUint32(),i=COe(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function eq(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function tq(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function nq(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function rq(t,e,n,r,i){let o=0;if(n.length===0){for(;o<i;o++)e[o]=t[o];for(;o<r;o++)e[o]=t[o]+(e[o-i]>>1)&255}else{for(;o<i;o++)e[o]=t[o]+(n[o]>>1)&255;for(;o<r;o++)e[o]=t[o]+(e[o-i]+n[o]>>1)&255}}function iq(t,e,n,r,i){let o=0;if(n.length===0){for(;o<i;o++)e[o]=t[o];for(;o<r;o++)e[o]=t[o]+e[o-i]&255}else{for(;o<i;o++)e[o]=t[o]+n[o]&255;for(;o<r;o++)e[o]=t[o]+NOe(e[o-i],n[o],n[o-i])&255}}function NOe(t,e,n){const r=t+e-n,i=Math.abs(r-t),o=Math.abs(r-e),s=Math.abs(r-n);return i<=o&&i<=s?t:o<=s?e:n}function kOe(t,e,n,r,i,o){switch(t){case 0:eq(e,n,i);break;case 1:tq(e,n,i,o);break;case 2:nq(e,n,r,i);break;case 3:rq(e,n,r,i,o);break;case 4:iq(e,n,r,i,o);break;default:throw new Error(`Unsupported filter: ${t}`)}}const ROe=new Uint16Array([255]),OOe=new Uint8Array(ROe.buffer),MOe=OOe[0]===255;function LOe(t){const{data:e,width:n,height:r,channels:i,depth:o}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(o/8)*i,l=new Uint8Array(r*n*a);let u=0;for(let c=0;c<7;c++){const f=s[c],d=Math.ceil((n-f.x)/f.xStep),h=Math.ceil((r-f.y)/f.yStep);if(d<=0||h<=0)continue;const v=d*a,_=new Uint8Array(v);for(let w=0;w<h;w++){const b=e[u++],E=e.subarray(u,u+v);u+=v;const A=new Uint8Array(v);kOe(b,E,A,_,v,a),_.set(A);for(let C=0;C<d;C++){const R=f.x+C*f.xStep,F=f.y+w*f.yStep;if(!(R>=n||F>=r))for(let k=0;k<a;k++)l[(F*n+R)*a+k]=A[C*a+k]}}}if(o===16){const c=new Uint16Array(l.buffer);if(MOe)for(let f=0;f<c.length;f++)c[f]=DOe(c[f]);return c}else return l}function DOe(t){return(t&255)<<8|t>>8&255}const FOe=new Uint16Array([255]),UOe=new Uint8Array(FOe.buffer),jOe=UOe[0]===255,$Oe=new Uint8Array(0);function hD(t){const{data:e,width:n,height:r,channels:i,depth:o}=t,s=Math.ceil(o/8)*i,a=Math.ceil(o/8*i*n),l=new Uint8Array(r*a);let u=$Oe,c=0,f,d;for(let h=0;h<r;h++){switch(f=e.subarray(c+1,c+1+a),d=l.subarray(h*a,(h+1)*a),e[c]){case 0:eq(f,d,a);break;case 1:tq(f,d,a,s);break;case 2:nq(f,d,u,a);break;case 3:rq(f,d,u,a,s);break;case 4:iq(f,d,u,a,s);break;default:throw new Error(`Unsupported filter: ${e[c]}`)}u=d,c+=a+1}if(o===16){const h=new Uint16Array(l.buffer);if(jOe)for(let v=0;v<h.length;v++)h[v]=BOe(h[v]);return h}else return l}function BOe(t){return(t&255)<<8|t>>8&255}const L0=Uint8Array.of(137,80,78,71,13,10,26,10);function pD(t){if(!VOe(t.readBytes(L0.length)))throw new Error("wrong PNG signature")}function VOe(t){if(t.length<L0.length)return!1;for(let e=0;e<L0.length;e++)if(t[e]!==L0[e])return!1;return!0}const qOe="tEXt",zOe=0,oq=new TextDecoder("latin1");function HOe(t){if(WOe(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const GOe=/^[\u0000-\u00FF]*$/;function WOe(t){if(!GOe.test(t))throw new Error("invalid latin1 text")}function KOe(t,e,n){const r=sq(e);t[r]=YOe(e,n-r.length-1)}function sq(t){for(t.mark();t.readByte()!==zOe;);const e=t.offset;t.reset();const n=oq.decode(t.readBytes(e-t.offset-1));return t.skip(1),HOe(n),n}function YOe(t,e){return oq.decode(t.readBytes(e))}const Vo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Ex={UNKNOWN:-1,DEFLATE:0},mD={UNKNOWN:-1,ADAPTIVE:0},Ax={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},s0={NONE:0,BACKGROUND:1,PREVIOUS:2},Tx={SOURCE:0,OVER:1};class JOe extends AP{constructor(n,r={}){super(n);En(this,"_checkCrc");En(this,"_inflator");En(this,"_png");En(this,"_apng");En(this,"_end");En(this,"_hasPalette");En(this,"_palette");En(this,"_hasTransparency");En(this,"_transparency");En(this,"_compressionMethod");En(this,"_filterMethod");En(this,"_interlaceMethod");En(this,"_colorType");En(this,"_isAnimated");En(this,"_numberOfFrames");En(this,"_numberOfPlays");En(this,"_frames");En(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new cD,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Ex.UNKNOWN,this._filterMethod=mD.UNKNOWN,this._interlaceMethod=Ax.UNKNOWN,this._colorType=Vo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(pD(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(pD(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case qOe:KOe(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?dD(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?dD(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=XOe(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case Vo.GREYSCALE:i=1;break;case Vo.TRUECOLOUR:i=3;break;case Vo.INDEXED_COLOUR:i=1;break;case Vo.GREYSCALE_ALPHA:i=2;break;case Vo.TRUECOLOUR_ALPHA:i=4;break;case Vo.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==Ex.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let o=0;o<r;o++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case Vo.GREYSCALE:case Vo.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case Vo.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Vo.UNKNOWN:case Vo.GREYSCALE_ALPHA:case Vo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=sq(this),i=this.readUint8();if(i!==Ex.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const o=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:IOe(o)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=hD({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const o=this._apng.frames.at(n-1);this.disposeFrame(i,o,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case s0.NONE:break;case s0.BACKGROUND:for(let o=0;o<this._png.height;o++)for(let s=0;s<this._png.width;s++){const a=(o*n.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[a+l]=0}break;case s0.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,o=(s,a)=>{const l=((s+r.yOffset)*this._png.width+r.xOffset+a)*this._png.channels,u=(s*r.width+a)*this._png.channels;return{index:l,frameIndex:u}};switch(r.blendOp){case Tx.SOURCE:for(let s=0;s<r.height;s++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:u}=o(s,a);for(let c=0;c<this._png.channels;c++)n.data[l+c]=r.data[u+c]}break;case Tx.OVER:for(let s=0;s<r.height;s++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:u}=o(s,a);for(let c=0;c<this._png.channels;c++){const f=r.data[u+this._png.channels-1]/i,d=c%(this._png.channels-1)===0?1:r.data[u+c],h=Math.floor(f*d+(1-f)*n.data[l+c]);n.data[l+c]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==mD.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Ax.NO_INTERLACE)this._png.data=hD({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Ax.ADAM7)this._png.data=LOe({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:s0.NONE,blendOp:Tx.SOURCE,data:n}),this._inflator=new cD,this._writingDataChunks=!1}}function XOe(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var gD;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(gD||(gD={}));function QOe(t,e){return new JOe(t,e).decode()}var Tt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Ix(){Tt.console&&typeof Tt.console.log=="function"&&Tt.console.log.apply(Tt.console,arguments)}var Dn={log:Ix,warn:function(t){Tt.console&&(typeof Tt.console.warn=="function"?Tt.console.warn.apply(Tt.console,arguments):Ix.call(null,arguments))},error:function(t){Tt.console&&(typeof Tt.console.error=="function"?Tt.console.error.apply(Tt.console,arguments):Ix(t))}};function Px(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Xc(r.response,e,n)},r.onerror=function(){Dn.error("could not download file")},r.send()}function yD(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function a0(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Xc=Tt.saveAs||((typeof window>"u"?"undefined":Tn(window))!=="object"||window!==Tt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Tt.URL||Tt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?yD(i.href)?Px(t,e,n):a0(i,i.target="_blank"):a0(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){a0(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(yD(t))Px(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){a0(r)})}else navigator.msSaveOrOpenBlob(function(i,o){return o===void 0?o={autoBom:!1}:Tn(o)!=="object"&&(Dn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return Px(t,e,n);var i=t.type==="application/octet-stream",o=/constructor/i.test(Tt.HTMLElement)||Tt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&o)&&(typeof FileReader>"u"?"undefined":Tn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var c=a.result;c=s?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=c:location=c,r=null},a.readAsDataURL(t)}else{var l=Tt.URL||Tt.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function aq(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,o=n[r].process,s=i.exec(t);s&&(e=o(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+a+l+u}}var D0=Tt.atob.bind(Tt),vD=Tt.btoa.bind(Tt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Cx(t,e){var n=t[0],r=t[1],i=t[2],o=t[3];n=Di(n,r,i,o,e[0],7,-680876936),o=Di(o,n,r,i,e[1],12,-389564586),i=Di(i,o,n,r,e[2],17,606105819),r=Di(r,i,o,n,e[3],22,-1044525330),n=Di(n,r,i,o,e[4],7,-176418897),o=Di(o,n,r,i,e[5],12,1200080426),i=Di(i,o,n,r,e[6],17,-1473231341),r=Di(r,i,o,n,e[7],22,-45705983),n=Di(n,r,i,o,e[8],7,1770035416),o=Di(o,n,r,i,e[9],12,-1958414417),i=Di(i,o,n,r,e[10],17,-42063),r=Di(r,i,o,n,e[11],22,-1990404162),n=Di(n,r,i,o,e[12],7,1804603682),o=Di(o,n,r,i,e[13],12,-40341101),i=Di(i,o,n,r,e[14],17,-1502002290),n=Fi(n,r=Di(r,i,o,n,e[15],22,1236535329),i,o,e[1],5,-165796510),o=Fi(o,n,r,i,e[6],9,-1069501632),i=Fi(i,o,n,r,e[11],14,643717713),r=Fi(r,i,o,n,e[0],20,-373897302),n=Fi(n,r,i,o,e[5],5,-701558691),o=Fi(o,n,r,i,e[10],9,38016083),i=Fi(i,o,n,r,e[15],14,-660478335),r=Fi(r,i,o,n,e[4],20,-405537848),n=Fi(n,r,i,o,e[9],5,568446438),o=Fi(o,n,r,i,e[14],9,-1019803690),i=Fi(i,o,n,r,e[3],14,-187363961),r=Fi(r,i,o,n,e[8],20,1163531501),n=Fi(n,r,i,o,e[13],5,-1444681467),o=Fi(o,n,r,i,e[2],9,-51403784),i=Fi(i,o,n,r,e[7],14,1735328473),n=Ui(n,r=Fi(r,i,o,n,e[12],20,-1926607734),i,o,e[5],4,-378558),o=Ui(o,n,r,i,e[8],11,-2022574463),i=Ui(i,o,n,r,e[11],16,1839030562),r=Ui(r,i,o,n,e[14],23,-35309556),n=Ui(n,r,i,o,e[1],4,-1530992060),o=Ui(o,n,r,i,e[4],11,1272893353),i=Ui(i,o,n,r,e[7],16,-155497632),r=Ui(r,i,o,n,e[10],23,-1094730640),n=Ui(n,r,i,o,e[13],4,681279174),o=Ui(o,n,r,i,e[0],11,-358537222),i=Ui(i,o,n,r,e[3],16,-722521979),r=Ui(r,i,o,n,e[6],23,76029189),n=Ui(n,r,i,o,e[9],4,-640364487),o=Ui(o,n,r,i,e[12],11,-421815835),i=Ui(i,o,n,r,e[15],16,530742520),n=ji(n,r=Ui(r,i,o,n,e[2],23,-995338651),i,o,e[0],6,-198630844),o=ji(o,n,r,i,e[7],10,1126891415),i=ji(i,o,n,r,e[14],15,-1416354905),r=ji(r,i,o,n,e[5],21,-57434055),n=ji(n,r,i,o,e[12],6,1700485571),o=ji(o,n,r,i,e[3],10,-1894986606),i=ji(i,o,n,r,e[10],15,-1051523),r=ji(r,i,o,n,e[1],21,-2054922799),n=ji(n,r,i,o,e[8],6,1873313359),o=ji(o,n,r,i,e[15],10,-30611744),i=ji(i,o,n,r,e[6],15,-1560198380),r=ji(r,i,o,n,e[13],21,1309151649),n=ji(n,r,i,o,e[4],6,-145523070),o=ji(o,n,r,i,e[11],10,-1120210379),i=ji(i,o,n,r,e[2],15,718787259),r=ji(r,i,o,n,e[9],21,-343485551),t[0]=Ku(n,t[0]),t[1]=Ku(r,t[1]),t[2]=Ku(i,t[2]),t[3]=Ku(o,t[3])}function P2(t,e,n,r,i,o){return e=Ku(Ku(e,t),Ku(r,o)),Ku(e<<i|e>>>32-i,n)}function Di(t,e,n,r,i,o,s){return P2(e&n|~e&r,t,e,i,o,s)}function Fi(t,e,n,r,i,o,s){return P2(e&r|n&~r,t,e,i,o,s)}function Ui(t,e,n,r,i,o,s){return P2(e^n^r,t,e,i,o,s)}function ji(t,e,n,r,i,o,s){return P2(n^(e|~r),t,e,i,o,s)}function lq(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Cx(r,ZOe(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Cx(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,Cx(r,i),r}function ZOe(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var wD="0123456789abcdef".split("");function eMe(t){for(var e="",n=0;n<4;n++)e+=wD[t>>8*n+4&15]+wD[t>>8*n&15];return e}function tMe(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function tA(t){return lq(t).map(tMe).join("")}var nMe=function(t){for(var e=0;e<t.length;e++)t[e]=eMe(t[e]);return t.join("")}(lq("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ku(t,e){if(nMe){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function nA(t,e){var n,r,i,o;if(t!==n){for(var s=(i=t,o=1+(256/t.length|0),new Array(o+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var u=0;for(l=0;l<256;l++){var c=a[l];u=(u+c+s.charCodeAt(l))%256,a[l]=a[u],a[u]=c}n=t,r=a}else a=r;var f=e.length,d=0,h=0,v="";for(l=0;l<f;l++)h=(h+(c=a[d=(d+1)%256]))%256,a[d]=a[h],a[h]=c,s=a[(a[d]+a[h])%256],v+=String.fromCharCode(e.charCodeAt(l)^s);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var _D={print:4,modify:8,copy:16,"annot-forms":32};function Pd(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(_D.perm!==void 0)throw new Error("Invalid permission: "+a);i+=_D[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^i)),this.encryptionKey=tA(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=nA(this.encryptionKey,this.padding)}function Cd(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function bD(t){if(Tn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var o=Math.random().toString(35);return e[n][o]=[r,!!i],o},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in e[n]){var s=e[n][o];try{s[0].apply(t,r)}catch(a){Tt.console&&Dn.error("jsPDF PubSub Error",a.message,a)}s[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Dw(t){if(!(this instanceof Dw))return new Dw(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function uq(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function ef(t,e,n,r,i){if(!(this instanceof ef))return new ef(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,uq.call(this,r,i)}function Kd(t,e,n,r,i){if(!(this instanceof Kd))return new Kd(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,uq.call(this,r,i)}function mt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],o=arguments[3],s=[],a=1,l=16,u="S",c=null;Tn(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,o=t.compress||t.compressPdf||o,(c=t.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),s=t.filters||(o===!0?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,d={},h={internal:{},__private__:{}};h.__private__.PubSub=bD;var v="1.3",_=h.__private__.getPdfVersion=function(){return v};h.__private__.setPdfVersion=function(I){v=I};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return w};var b=h.__private__.getPageFormat=function(I){return w[I]};i=i||"a4";var E="compat",A="advanced",C=E;function R(){this.saveGraphicsState(),Y(new wt(Ct,0,0,-Ct,0,us()*Ct).toString()+" cm"),this.setFontSize(this.getFontSize()/Ct),u="n",C=A}function F(){this.restoreGraphicsState(),u="S",C=E}var k=h.__private__.combineFontStyleAndFontWeight=function(I,q){if(I=="bold"&&q=="normal"||I=="bold"&&q==400||I=="normal"&&q=="italic"||I=="bold"&&q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return q&&(I=q==400||q==="normal"?I==="italic"?"italic":"normal":q!=700&&q!=="bold"||I!=="normal"?(q==700?"bold":q)+""+I:"bold"),I};h.advancedAPI=function(I){var q=C===E;return q&&R.call(this),typeof I!="function"||(I(this),q&&F.call(this)),this},h.compatAPI=function(I){var q=C===A;return q&&F.call(this),typeof I!="function"||(I(this),q&&R.call(this)),this},h.isAdvancedAPI=function(){return C===A};var N,T=function(I){if(C!==A)throw new Error(I+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},j=h.roundToPrecision=h.__private__.roundToPrecision=function(I,q){var ie=e||q;if(isNaN(I)||isNaN(ie))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return I.toFixed(ie).replace(/0+$/,"")};N=h.hpf=h.__private__.hpf=typeof l=="number"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return j(I,l)}:l==="smart"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return j(I,I>-1&&I<1?16:5)}:function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return j(I,16)};var P=h.f2=h.__private__.f2=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f2");return j(I,2)},D=h.__private__.f3=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f3");return j(I,3)},U=h.scale=h.__private__.scale=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.scale");return C===E?I*Ct:C===A?I:void 0},z=function(I){return U(function(q){return C===E?us()-q:C===A?q:void 0}(I))};h.__private__.setPrecision=h.setPrecision=function(I){typeof parseInt(I,10)=="number"&&(e=parseInt(I,10))};var ee,le="00000000000000000000000000000000",ue=h.__private__.getFileId=function(){return le},X=h.__private__.setFileId=function(I){return le=I!==void 0&&/^[a-fA-F0-9]{32}$/.test(I)?I.toUpperCase():le.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(On=new Pd(c.userPermissions,c.userPassword,c.ownerPassword,le)),le};h.setFileId=function(I){return X(I),this},h.getFileId=function(){return ue()};var ae=h.__private__.convertDateToPDFDate=function(I){var q=I.getTimezoneOffset(),ie=q<0?"+":"-",de=Math.floor(Math.abs(q/60)),_e=Math.abs(q%60),Me=[ie,ne(de),"'",ne(_e),"'"].join("");return["D:",I.getFullYear(),ne(I.getMonth()+1),ne(I.getDate()),ne(I.getHours()),ne(I.getMinutes()),ne(I.getSeconds()),Me].join("")},ye=h.__private__.convertPDFDateToDate=function(I){var q=parseInt(I.substr(2,4),10),ie=parseInt(I.substr(6,2),10)-1,de=parseInt(I.substr(8,2),10),_e=parseInt(I.substr(10,2),10),Me=parseInt(I.substr(12,2),10),Ue=parseInt(I.substr(14,2),10);return new Date(q,ie,de,_e,Me,Ue,0)},me=h.__private__.setCreationDate=function(I){var q;if(I===void 0&&(I=new Date),I instanceof Date)q=ae(I);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(I))throw new Error("Invalid argument passed to jsPDF.setCreationDate");q=I}return ee=q},B=h.__private__.getCreationDate=function(I){var q=ee;return I==="jsDate"&&(q=ye(ee)),q};h.setCreationDate=function(I){return me(I),this},h.getCreationDate=function(I){return B(I)};var W,ne=h.__private__.padd2=function(I){return("0"+parseInt(I)).slice(-2)},fe=h.__private__.padd2Hex=function(I){return("00"+(I=I.toString())).substr(I.length)},he=0,we=[],Te=[],re=0,pe=[],Ce=[],Z=!1,Ee=Te;h.__private__.setCustomOutputDestination=function(I){Z=!0,Ee=I};var Ne=function(I){Z||(Ee=I)};h.__private__.resetCustomOutputDestination=function(){Z=!1,Ee=Te};var Y=h.__private__.out=function(I){return I=I.toString(),re+=I.length+1,Ee.push(I),Ee},ke=h.__private__.write=function(I){return Y(arguments.length===1?I.toString():Array.prototype.join.call(arguments," "))},Ye=h.__private__.getArrayBuffer=function(I){for(var q=I.length,ie=new ArrayBuffer(q),de=new Uint8Array(ie);q--;)de[q]=I.charCodeAt(q);return ie},Xe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return Xe};var Fe=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(I){return Fe=C===A?I/Ct:I,this};var Je,We=h.__private__.getFontSize=h.getFontSize=function(){return C===E?Fe:Fe*Ct},it=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(I){return it=I,this},h.__private__.getR2L=h.getR2L=function(){return it};var ot,Wt=h.__private__.setZoomMode=function(I){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(I))Je=I;else if(isNaN(I)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(I)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+I+'" is not recognized.');Je=I}else Je=parseInt(I,10)};h.__private__.getZoomMode=function(){return Je};var Ft,dt=h.__private__.setPageMode=function(I){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(I)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+I+'" is not recognized.');ot=I};h.__private__.getPageMode=function(){return ot};var xt=h.__private__.setLayoutMode=function(I){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(I)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+I+'" is not recognized.');Ft=I};h.__private__.getLayoutMode=function(){return Ft},h.__private__.setDisplayMode=h.setDisplayMode=function(I,q,ie){return Wt(I),xt(q),dt(ie),this};var $t={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(I){if(Object.keys($t).indexOf(I)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return $t[I]},h.__private__.getDocumentProperties=function(){return $t},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(I){for(var q in $t)$t.hasOwnProperty(q)&&I[q]&&($t[q]=I[q]);return this},h.__private__.setDocumentProperty=function(I,q){if(Object.keys($t).indexOf(I)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return $t[I]=q};var st,Ct,ht,Rn,Yt,Ut={},Lt={},jn=[],gt={},yn={},_t={},It={},vn=null,jt=0,yt=[],qt=new bD(h),da=t.hotfixes||[],Ar={},ts={},Pi=[],wt=function I(q,ie,de,_e,Me,Ue){if(!(this instanceof I))return new I(q,ie,de,_e,Me,Ue);isNaN(q)&&(q=1),isNaN(ie)&&(ie=0),isNaN(de)&&(de=0),isNaN(_e)&&(_e=1),isNaN(Me)&&(Me=0),isNaN(Ue)&&(Ue=0),this._matrix=[q,ie,de,_e,Me,Ue]};Object.defineProperty(wt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(wt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(wt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(wt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(wt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(wt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(wt.prototype,"a",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(wt.prototype,"b",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(wt.prototype,"c",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(wt.prototype,"d",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(wt.prototype,"e",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(wt.prototype,"f",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(wt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(wt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(wt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(wt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),wt.prototype.join=function(I){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(N).join(I)},wt.prototype.multiply=function(I){var q=I.sx*this.sx+I.shy*this.shx,ie=I.sx*this.shy+I.shy*this.sy,de=I.shx*this.sx+I.sy*this.shx,_e=I.shx*this.shy+I.sy*this.sy,Me=I.tx*this.sx+I.ty*this.shx+this.tx,Ue=I.tx*this.shy+I.ty*this.sy+this.ty;return new wt(q,ie,de,_e,Me,Ue)},wt.prototype.decompose=function(){var I=this.sx,q=this.shy,ie=this.shx,de=this.sy,_e=this.tx,Me=this.ty,Ue=Math.sqrt(I*I+q*q),Qe=(I/=Ue)*ie+(q/=Ue)*de;ie-=I*Qe,de-=q*Qe;var at=Math.sqrt(ie*ie+de*de);return Qe/=at,I*(de/=at)<q*(ie/=at)&&(I=-I,q=-q,Qe=-Qe,Ue=-Ue),{scale:new wt(Ue,0,0,at,0,0),translate:new wt(1,0,0,1,_e,Me),rotate:new wt(I,q,-q,I,0,0),skew:new wt(1,0,Qe,1,0,0)}},wt.prototype.toString=function(I){return this.join(" ")},wt.prototype.inversed=function(){var I=this.sx,q=this.shy,ie=this.shx,de=this.sy,_e=this.tx,Me=this.ty,Ue=1/(I*de-q*ie),Qe=de*Ue,at=-q*Ue,St=-ie*Ue,Nt=I*Ue;return new wt(Qe,at,St,Nt,-Qe*_e-St*Me,-at*_e-Nt*Me)},wt.prototype.applyToPoint=function(I){var q=I.x*this.sx+I.y*this.shx+this.tx,ie=I.x*this.shy+I.y*this.sy+this.ty;return new as(q,ie)},wt.prototype.applyToRectangle=function(I){var q=this.applyToPoint(I),ie=this.applyToPoint(new as(I.x+I.w,I.y+I.h));return new cu(q.x,q.y,ie.x-q.x,ie.y-q.y)},wt.prototype.clone=function(){var I=this.sx,q=this.shy,ie=this.shx,de=this.sy,_e=this.tx,Me=this.ty;return new wt(I,q,ie,de,_e,Me)},h.Matrix=wt;var Hn=h.matrixMult=function(I,q){return q.multiply(I)},ns=new wt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=ns;var ni=function(I,q){if(!yn[I]){var ie=(q instanceof ef?"Sh":"P")+(Object.keys(gt).length+1).toString(10);q.id=ie,yn[I]=ie,gt[ie]=q,qt.publish("addPattern",q)}};h.ShadingPattern=ef,h.TilingPattern=Kd,h.addShadingPattern=function(I,q){return T("addShadingPattern()"),ni(I,q),this},h.beginTilingPattern=function(I){T("beginTilingPattern()"),_a(I.boundingBox[0],I.boundingBox[1],I.boundingBox[2]-I.boundingBox[0],I.boundingBox[3]-I.boundingBox[1],I.matrix)},h.endTilingPattern=function(I,q){T("endTilingPattern()"),q.stream=Ce[W].join(`
`),ni(I,q),qt.publish("endTilingPattern",q),Pi.pop().restore()};var ri,er=h.__private__.newObject=function(){var I=Dr();return tr(I,!0),I},Dr=h.__private__.newObjectDeferred=function(){return he++,we[he]=function(){return re},he},tr=function(I,q){return q=typeof q=="boolean"&&q,we[I]=re,q&&Y(I+" 0 obj"),I},tl=h.__private__.newAdditionalObject=function(){var I={objId:Dr(),content:""};return pe.push(I),I},ha=Dr(),Ci=Dr(),Po=h.__private__.decodeColorString=function(I){var q=I.split(" ");if(q.length!==2||q[1]!=="g"&&q[1]!=="G")q.length!==5||q[4]!=="k"&&q[4]!=="K"||(q=[(1-q[0])*(1-q[3]),(1-q[1])*(1-q[3]),(1-q[2])*(1-q[3]),"r"]);else{var ie=parseFloat(q[0]);q=[ie,ie,ie,"r"]}for(var de="#",_e=0;_e<3;_e++)de+=("0"+Math.floor(255*parseFloat(q[_e])).toString(16)).slice(-2);return de},Yi=h.__private__.encodeColorString=function(I){var q;typeof I=="string"&&(I={ch1:I});var ie=I.ch1,de=I.ch2,_e=I.ch3,Me=I.ch4,Ue=I.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ie=="string"&&ie.charAt(0)!=="#"){var Qe=new aq(ie);if(Qe.ok)ie=Qe.toHex();else if(!/^\d*\.?\d*$/.test(ie))throw new Error('Invalid color "'+ie+'" passed to jsPDF.encodeColorString.')}if(typeof ie=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ie)&&(ie="#"+ie[1]+ie[1]+ie[2]+ie[2]+ie[3]+ie[3]),typeof ie=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ie)){var at=parseInt(ie.substr(1),16);ie=at>>16&255,de=at>>8&255,_e=255&at}if(de===void 0||Me===void 0&&ie===de&&de===_e)q=typeof ie=="string"?ie+" "+Ue[0]:I.precision===2?P(ie/255)+" "+Ue[0]:D(ie/255)+" "+Ue[0];else if(Me===void 0||Tn(Me)==="object"){if(Me&&!isNaN(Me.a)&&Me.a===0)return["1.","1.","1.",Ue[1]].join(" ");q=typeof ie=="string"?[ie,de,_e,Ue[1]].join(" "):I.precision===2?[P(ie/255),P(de/255),P(_e/255),Ue[1]].join(" "):[D(ie/255),D(de/255),D(_e/255),Ue[1]].join(" ")}else q=typeof ie=="string"?[ie,de,_e,Me,Ue[2]].join(" "):I.precision===2?[P(ie),P(de),P(_e),P(Me),Ue[2]].join(" "):[D(ie),D(de),D(_e),D(Me),Ue[2]].join(" ");return q},Ni=h.__private__.getFilters=function(){return s},Tr=h.__private__.putStream=function(I){var q=(I=I||{}).data||"",ie=I.filters||Ni(),de=I.alreadyAppliedFilters||[],_e=I.addLength1||!1,Me=q.length,Ue=I.objectId,Qe=function(mr){return mr};if(c!==null&&Ue===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(Qe=On.encryptor(Ue,0));var at={};ie===!0&&(ie=["FlateEncode"]);var St=I.additionalKeyValues||[],Nt=(at=mt.API.processDataByFilters!==void 0?mt.API.processDataByFilters(q,ie):{data:q,reverseChain:[]}).reverseChain+(Array.isArray(de)?de.join(" "):de.toString());if(at.data.length!==0&&(St.push({key:"Length",value:at.data.length}),_e===!0&&St.push({key:"Length1",value:Me})),Nt.length!=0)if(Nt.split("/").length-1==1)St.push({key:"Filter",value:Nt});else{St.push({key:"Filter",value:"["+Nt+"]"});for(var Xt=0;Xt<St.length;Xt+=1)if(St[Xt].key==="DecodeParms"){for(var hn=[],ar=0;ar<at.reverseChain.split("/").length-1;ar+=1)hn.push("null");hn.push(St[Xt].value),St[Xt].value="["+hn.join(" ")+"]"}}Y("<<");for(var bn=0;bn<St.length;bn++)Y("/"+St[bn].key+" "+St[bn].value);Y(">>"),at.data.length!==0&&(Y("stream"),Y(Qe(at.data)),Y("endstream"))},pa=h.__private__.putPage=function(I){var q=I.number,ie=I.data,de=I.objId,_e=I.contentsObjId;tr(de,!0),Y("<</Type /Page"),Y("/Parent "+I.rootDictionaryObjId+" 0 R"),Y("/Resources "+I.resourceDictionaryObjId+" 0 R"),Y("/MediaBox ["+parseFloat(N(I.mediaBox.bottomLeftX))+" "+parseFloat(N(I.mediaBox.bottomLeftY))+" "+N(I.mediaBox.topRightX)+" "+N(I.mediaBox.topRightY)+"]"),I.cropBox!==null&&Y("/CropBox ["+N(I.cropBox.bottomLeftX)+" "+N(I.cropBox.bottomLeftY)+" "+N(I.cropBox.topRightX)+" "+N(I.cropBox.topRightY)+"]"),I.bleedBox!==null&&Y("/BleedBox ["+N(I.bleedBox.bottomLeftX)+" "+N(I.bleedBox.bottomLeftY)+" "+N(I.bleedBox.topRightX)+" "+N(I.bleedBox.topRightY)+"]"),I.trimBox!==null&&Y("/TrimBox ["+N(I.trimBox.bottomLeftX)+" "+N(I.trimBox.bottomLeftY)+" "+N(I.trimBox.topRightX)+" "+N(I.trimBox.topRightY)+"]"),I.artBox!==null&&Y("/ArtBox ["+N(I.artBox.bottomLeftX)+" "+N(I.artBox.bottomLeftY)+" "+N(I.artBox.topRightX)+" "+N(I.artBox.topRightY)+"]"),typeof I.userUnit=="number"&&I.userUnit!==1&&Y("/UserUnit "+I.userUnit),qt.publish("putPage",{objId:de,pageContext:yt[q],pageNumber:q,page:ie}),Y("/Contents "+_e+" 0 R"),Y(">>"),Y("endobj");var Me=ie.join(`
`);return C===A&&(Me+=`
Q`),tr(_e,!0),Tr({data:Me,filters:Ni(),objectId:_e}),Y("endobj"),de},Co=h.__private__.putPages=function(){var I,q,ie=[];for(I=1;I<=jt;I++)yt[I].objId=Dr(),yt[I].contentsObjId=Dr();for(I=1;I<=jt;I++)ie.push(pa({number:I,data:Ce[I],objId:yt[I].objId,contentsObjId:yt[I].contentsObjId,mediaBox:yt[I].mediaBox,cropBox:yt[I].cropBox,bleedBox:yt[I].bleedBox,trimBox:yt[I].trimBox,artBox:yt[I].artBox,userUnit:yt[I].userUnit,rootDictionaryObjId:ha,resourceDictionaryObjId:Ci}));tr(ha,!0),Y("<</Type /Pages");var de="/Kids [";for(q=0;q<jt;q++)de+=ie[q]+" 0 R ";Y(de+"]"),Y("/Count "+jt),Y(">>"),Y("endobj"),qt.publish("postPutPages")},Ms=function(I){qt.publish("putFont",{font:I,out:Y,newObject:er,putStream:Tr}),I.isAlreadyPutted!==!0&&(I.objectNumber=er(),Y("<<"),Y("/Type /Font"),Y("/BaseFont /"+Cd(I.postScriptName)),Y("/Subtype /Type1"),typeof I.encoding=="string"&&Y("/Encoding /"+I.encoding),Y("/FirstChar 32"),Y("/LastChar 255"),Y(">>"),Y("endobj"))},ma=function(I){I.objectNumber=er();var q=[];q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Form"}),q.push({key:"BBox",value:"["+[N(I.x),N(I.y),N(I.x+I.width),N(I.y+I.height)].join(" ")+"]"}),q.push({key:"Matrix",value:"["+I.matrix.toString()+"]"});var ie=I.pages[1].join(`
`);Tr({data:ie,additionalKeyValues:q,objectId:I.objectNumber}),Y("endobj")},nl=function(I,q){q||(q=21);var ie=er(),de=function(Ue,Qe){var at,St=[],Nt=1/(Qe-1);for(at=0;at<1;at+=Nt)St.push(at);if(St.push(1),Ue[0].offset!=0){var Xt={offset:0,color:Ue[0].color};Ue.unshift(Xt)}if(Ue[Ue.length-1].offset!=1){var hn={offset:1,color:Ue[Ue.length-1].color};Ue.push(hn)}for(var ar="",bn=0,mr=0;mr<St.length;mr++){for(at=St[mr];at>Ue[bn+1].offset;)bn++;var lr=Ue[bn].offset,gr=(at-lr)/(Ue[bn+1].offset-lr),ur=Ue[bn].color,po=Ue[bn+1].color;ar+=fe(Math.round((1-gr)*ur[0]+gr*po[0]).toString(16))+fe(Math.round((1-gr)*ur[1]+gr*po[1]).toString(16))+fe(Math.round((1-gr)*ur[2]+gr*po[2]).toString(16))}return ar.trim()}(I.colors,q),_e=[];_e.push({key:"FunctionType",value:"0"}),_e.push({key:"Domain",value:"[0.0 1.0]"}),_e.push({key:"Size",value:"["+q+"]"}),_e.push({key:"BitsPerSample",value:"8"}),_e.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_e.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Tr({data:de,additionalKeyValues:_e,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ie}),Y("endobj"),I.objectNumber=er(),Y("<< /ShadingType "+I.type),Y("/ColorSpace /DeviceRGB");var Me="/Coords ["+N(parseFloat(I.coords[0]))+" "+N(parseFloat(I.coords[1]))+" ";I.type===2?Me+=N(parseFloat(I.coords[2]))+" "+N(parseFloat(I.coords[3])):Me+=N(parseFloat(I.coords[2]))+" "+N(parseFloat(I.coords[3]))+" "+N(parseFloat(I.coords[4]))+" "+N(parseFloat(I.coords[5])),Y(Me+="]"),I.matrix&&Y("/Matrix ["+I.matrix.toString()+"]"),Y("/Function "+ie+" 0 R"),Y("/Extend [true true]"),Y(">>"),Y("endobj")},rl=function(I,q){var ie=Dr(),de=er();q.push({resourcesOid:ie,objectOid:de}),I.objectNumber=de;var _e=[];_e.push({key:"Type",value:"/Pattern"}),_e.push({key:"PatternType",value:"1"}),_e.push({key:"PaintType",value:"1"}),_e.push({key:"TilingType",value:"1"}),_e.push({key:"BBox",value:"["+I.boundingBox.map(N).join(" ")+"]"}),_e.push({key:"XStep",value:N(I.xStep)}),_e.push({key:"YStep",value:N(I.yStep)}),_e.push({key:"Resources",value:ie+" 0 R"}),I.matrix&&_e.push({key:"Matrix",value:"["+I.matrix.toString()+"]"}),Tr({data:I.stream,additionalKeyValues:_e,objectId:I.objectNumber}),Y("endobj")},Tp=function(I){for(var q in I.objectNumber=er(),Y("<<"),I)switch(q){case"opacity":Y("/ca "+P(I[q]));break;case"stroke-opacity":Y("/CA "+P(I[q]))}Y(">>"),Y("endobj")},ga=function(I){tr(I.resourcesOid,!0),Y("<<"),Y("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var q in Y("/Font <<"),Ut)Ut.hasOwnProperty(q)&&(f===!1||f===!0&&d.hasOwnProperty(q))&&Y("/"+q+" "+Ut[q].objectNumber+" 0 R");Y(">>")}(),function(){if(Object.keys(gt).length>0){for(var q in Y("/Shading <<"),gt)gt.hasOwnProperty(q)&&gt[q]instanceof ef&&gt[q].objectNumber>=0&&Y("/"+q+" "+gt[q].objectNumber+" 0 R");qt.publish("putShadingPatternDict"),Y(">>")}}(),function(q){if(Object.keys(gt).length>0){for(var ie in Y("/Pattern <<"),gt)gt.hasOwnProperty(ie)&&gt[ie]instanceof h.TilingPattern&&gt[ie].objectNumber>=0&&gt[ie].objectNumber<q&&Y("/"+ie+" "+gt[ie].objectNumber+" 0 R");qt.publish("putTilingPatternDict"),Y(">>")}}(I.objectOid),function(){if(Object.keys(_t).length>0){var q;for(q in Y("/ExtGState <<"),_t)_t.hasOwnProperty(q)&&_t[q].objectNumber>=0&&Y("/"+q+" "+_t[q].objectNumber+" 0 R");qt.publish("putGStateDict"),Y(">>")}}(),function(){for(var q in Y("/XObject <<"),Ar)Ar.hasOwnProperty(q)&&Ar[q].objectNumber>=0&&Y("/"+q+" "+Ar[q].objectNumber+" 0 R");qt.publish("putXobjectDict"),Y(">>")}(),Y(">>"),Y("endobj")},Tc=function(I){Lt[I.fontName]=Lt[I.fontName]||{},Lt[I.fontName][I.fontStyle]=I.id},iu=function(I,q,ie,de,_e){var Me={id:"F"+(Object.keys(Ut).length+1).toString(10),postScriptName:I,fontName:q,fontStyle:ie,encoding:de,isStandardFont:_e||!1,metadata:{}};return qt.publish("addFont",{font:Me,instance:this}),Ut[Me.id]=Me,Tc(Me),Me.id},ii=h.__private__.pdfEscape=h.pdfEscape=function(I,q){return function(ie,de){var _e,Me,Ue,Qe,at,St,Nt,Xt,hn;if(Ue=(de=de||{}).sourceEncoding||"Unicode",at=de.outputEncoding,(de.autoencode||at)&&Ut[st].metadata&&Ut[st].metadata[Ue]&&Ut[st].metadata[Ue].encoding&&(Qe=Ut[st].metadata[Ue].encoding,!at&&Ut[st].encoding&&(at=Ut[st].encoding),!at&&Qe.codePages&&(at=Qe.codePages[0]),typeof at=="string"&&(at=Qe[at]),at)){for(Nt=!1,St=[],_e=0,Me=ie.length;_e<Me;_e++)(Xt=at[ie.charCodeAt(_e)])?St.push(String.fromCharCode(Xt)):St.push(ie[_e]),St[_e].charCodeAt(0)>>8&&(Nt=!0);ie=St.join("")}for(_e=ie.length;Nt===void 0&&_e!==0;)ie.charCodeAt(_e-1)>>8&&(Nt=!0),_e--;if(!Nt)return ie;for(St=de.noBOM?[]:[254,255],_e=0,Me=ie.length;_e<Me;_e++){if((hn=(Xt=ie.charCodeAt(_e))>>8)>>8)throw new Error("Character at position "+_e+" of string '"+ie+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");St.push(hn),St.push(Xt-(hn<<8))}return String.fromCharCode.apply(void 0,St)}(I,q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},No=h.__private__.beginPage=function(I){Ce[++jt]=[],yt[jt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(I[0]),topRightY:Number(I[1])}},Pc(jt),Ne(Ce[W])},ou=function(I,q){var ie,de,_e;switch(n=q||n,typeof I=="string"&&(ie=b(I.toLowerCase()),Array.isArray(ie)&&(de=ie[0],_e=ie[1])),Array.isArray(I)&&(de=I[0]*Ct,_e=I[1]*Ct),isNaN(de)&&(de=i[0],_e=i[1]),(de>14400||_e>14400)&&(Dn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),de=Math.min(14400,de),_e=Math.min(14400,_e)),i=[de,_e],n.substr(0,1)){case"l":_e>de&&(i=[_e,de]);break;case"p":de>_e&&(i=[_e,de])}No(i),bt(au),Y(Ds),Nn!==0&&Y(Nn+" J"),Mc!==0&&Y(Mc+" j"),qt.publish("addPage",{pageNumber:jt})},Ic=function(I){I>0&&I<=jt&&(Ce.splice(I,1),yt.splice(I,1),jt--,W>jt&&(W=jt),this.setPage(W))},Pc=function(I){I>0&&I<=jt&&(W=I)},Cc=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Ce.length-1},Nc=function(I,q,ie){var de,_e=void 0;return ie=ie||{},I=I!==void 0?I:Ut[st].fontName,q=q!==void 0?q:Ut[st].fontStyle,de=I.toLowerCase(),Lt[de]!==void 0&&Lt[de][q]!==void 0?_e=Lt[de][q]:Lt[I]!==void 0&&Lt[I][q]!==void 0?_e=Lt[I][q]:ie.disableWarning===!1&&Dn.warn("Unable to look up font label for font '"+I+"', '"+q+"'. Refer to getFontList() for available fonts."),_e||ie.noFallback||(_e=Lt.times[q])==null&&(_e=Lt.times.normal),_e},fo=h.__private__.putInfo=function(){var I=er(),q=function(de){return de};for(var ie in c!==null&&(q=On.encryptor(I,0)),Y("<<"),Y("/Producer ("+ii(q("jsPDF "+mt.version))+")"),$t)$t.hasOwnProperty(ie)&&$t[ie]&&Y("/"+ie.substr(0,1).toUpperCase()+ie.substr(1)+" ("+ii(q($t[ie]))+")");Y("/CreationDate ("+ii(q(ee))+")"),Y(">>"),Y("endobj")},ya=h.__private__.putCatalog=function(I){var q=(I=I||{}).rootDictionaryObjId||ha;switch(er(),Y("<<"),Y("/Type /Catalog"),Y("/Pages "+q+" 0 R"),Je||(Je="fullwidth"),Je){case"fullwidth":Y("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Y("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Y("/OpenAction [3 0 R /Fit]");break;case"original":Y("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ie=""+Je;ie.substr(ie.length-1)==="%"&&(Je=parseInt(Je)/100),typeof Je=="number"&&Y("/OpenAction [3 0 R /XYZ null null "+P(Je)+"]")}switch(Ft||(Ft="continuous"),Ft){case"continuous":Y("/PageLayout /OneColumn");break;case"single":Y("/PageLayout /SinglePage");break;case"two":case"twoleft":Y("/PageLayout /TwoColumnLeft");break;case"tworight":Y("/PageLayout /TwoColumnRight")}ot&&Y("/PageMode /"+ot),qt.publish("putCatalog"),Y(">>"),Y("endobj")},rd=h.__private__.putTrailer=function(){Y("trailer"),Y("<<"),Y("/Size "+(he+1)),Y("/Root "+he+" 0 R"),Y("/Info "+(he-1)+" 0 R"),c!==null&&Y("/Encrypt "+On.oid+" 0 R"),Y("/ID [ <"+le+"> <"+le+"> ]"),Y(">>")},sr=h.__private__.putHeader=function(){Y("%PDF-"+v),Y("%")},id=h.__private__.putXRef=function(){var I="0000000000";Y("xref"),Y("0 "+(he+1)),Y("0000000000 65535 f ");for(var q=1;q<=he;q++)typeof we[q]=="function"?Y((I+we[q]()).slice(-10)+" 00000 n "):we[q]!==void 0?Y((I+we[q]).slice(-10)+" 00000 n "):Y("0000000000 00000 n ")},rs=h.__private__.buildDocument=function(){var I;he=0,re=0,Te=[],we=[],pe=[],ha=Dr(),Ci=Dr(),Ne(Te),qt.publish("buildDocument"),sr(),Co(),function(){qt.publish("putAdditionalObjects");for(var ie=0;ie<pe.length;ie++){var de=pe[ie];tr(de.objId,!0),Y(de.content),Y("endobj")}qt.publish("postPutAdditionalObjects")}(),I=[],function(){for(var ie in Ut)Ut.hasOwnProperty(ie)&&(f===!1||f===!0&&d.hasOwnProperty(ie))&&Ms(Ut[ie])}(),function(){var ie;for(ie in _t)_t.hasOwnProperty(ie)&&Tp(_t[ie])}(),function(){for(var ie in Ar)Ar.hasOwnProperty(ie)&&ma(Ar[ie])}(),function(ie){var de;for(de in gt)gt.hasOwnProperty(de)&&(gt[de]instanceof ef?nl(gt[de]):gt[de]instanceof Kd&&rl(gt[de],ie))}(I),qt.publish("putResources"),I.forEach(ga),ga({resourcesOid:Ci,objectOid:Number.MAX_SAFE_INTEGER}),qt.publish("postPutResources"),c!==null&&(On.oid=er(),Y("<<"),Y("/Filter /Standard"),Y("/V "+On.v),Y("/R "+On.r),Y("/U <"+On.toHexString(On.U)+">"),Y("/O <"+On.toHexString(On.O)+">"),Y("/P "+On.P),Y(">>"),Y("endobj")),fo(),ya();var q=re;return id(),rd(),Y("startxref"),Y(""+q),Y("%%EOF"),Ne(Ce[W]),Te.join(`
`)},il=h.__private__.getBlob=function(I){return new Blob([Ye(I)],{type:"application/pdf"})},kc=h.output=h.__private__.output=(ri=function(I,q){switch(typeof(q=q||{})=="string"?q={filename:q}:q.filename=q.filename||"generated.pdf",I){case void 0:return rs();case"save":h.save(q.filename);break;case"arraybuffer":return Ye(rs());case"blob":return il(rs());case"bloburi":case"bloburl":if(Tt.URL!==void 0&&typeof Tt.URL.createObjectURL=="function")return Tt.URL&&Tt.URL.createObjectURL(il(rs()))||void 0;Dn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ie="",de=rs();try{ie=vD(de)}catch{ie=vD(unescape(encodeURIComponent(de)))}return"data:application/pdf;filename="+q.filename+";base64,"+ie;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Tt)==="[object Window]"){var _e="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Me=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';q.pdfObjectUrl&&(_e=q.pdfObjectUrl,Me="");var Ue='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+_e+'"'+Me+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(q)+");<\/script></body></html>",Qe=Tt.open();return Qe!==null&&Qe.document.write(Ue),Qe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Tt)==="[object Window]"){var at='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+q.filename+'" width="500px" height="400px" /></body></html>',St=Tt.open();if(St!==null){St.document.write(at);var Nt=this;St.document.documentElement.querySelector("#pdfViewer").onload=function(){St.document.title=q.filename,St.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Nt.output("bloburl"))}}return St}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Tt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Xt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",q)+'"></iframe></body></html>',hn=Tt.open();if(hn!==null&&(hn.document.write(Xt),hn.document.title=q.filename),hn||typeof safari>"u")return hn;break;case"datauri":case"dataurl":return Tt.document.location.href=this.output("datauristring",q);default:return null}},ri.foo=function(){try{return ri.apply(this,arguments)}catch(ie){var I=ie.stack||"";~I.indexOf(" at ")&&(I=I.split(" at ")[1]);var q="Error in function "+I.split(`
`)[0].split("<")[0]+": "+ie.message;if(!Tt.console)throw new Error(q);Tt.console.error(q,ie),Tt.alert&&alert(q)}},ri.foo.bar=ri,ri.foo),ho=function(I){return Array.isArray(da)===!0&&da.indexOf(I)>-1};switch(r){case"pt":Ct=1;break;case"mm":Ct=72/25.4;break;case"cm":Ct=72/2.54;break;case"in":Ct=72;break;case"px":Ct=ho("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ct=12;break;case"ex":Ct=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ct=r}var On=null;me(),X();var zr=h.__private__.getPageInfo=h.getPageInfo=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:yt[I].objId,pageNumber:I,pageContext:yt[I]}},ol=h.__private__.getPageInfoByObjId=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var q in yt)if(yt[q].objId===I)break;return zr(q)},su=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:yt[W].objId,pageNumber:W,pageContext:yt[W]}};h.addPage=function(){return ou.apply(this,arguments),this},h.setPage=function(){return Pc.apply(this,arguments),Ne.call(this,Ce[W]),this},h.insertPage=function(I){return this.addPage(),this.movePage(W,I),this},h.movePage=function(I,q){var ie,de;if(I>q){ie=Ce[I],de=yt[I];for(var _e=I;_e>q;_e--)Ce[_e]=Ce[_e-1],yt[_e]=yt[_e-1];Ce[q]=ie,yt[q]=de,this.setPage(q)}else if(I<q){ie=Ce[I],de=yt[I];for(var Me=I;Me<q;Me++)Ce[Me]=Ce[Me+1],yt[Me]=yt[Me+1];Ce[q]=ie,yt[q]=de,this.setPage(q)}return this},h.deletePage=function(){return Ic.apply(this,arguments),this},h.__private__.text=h.text=function(I,q,ie,de,_e){var Me,Ue,Qe,at,St,Nt,Xt,hn,ar,bn=(de=de||{}).scope||this;if(typeof I=="number"&&typeof q=="number"&&(typeof ie=="string"||Array.isArray(ie))){var mr=ie;ie=q,q=I,I=mr}if(arguments[3]instanceof wt==0?(Qe=arguments[4],at=arguments[5],Tn(Xt=arguments[3])==="object"&&Xt!==null||(typeof Qe=="string"&&(at=Qe,Qe=null),typeof Xt=="string"&&(at=Xt,Xt=null),typeof Xt=="number"&&(Qe=Xt,Xt=null),de={flags:Xt,angle:Qe,align:at})):(T("The transform parameter of text() with a Matrix value"),ar=_e),isNaN(q)||isNaN(ie)||I==null)throw new Error("Invalid arguments passed to jsPDF.text");if(I.length===0)return bn;var lr,gr="",ur=typeof de.lineHeightFactor=="number"?de.lineHeightFactor:wa,po=bn.internal.scaleFactor;function cs(wn){return wn=wn.split("	").join(Array(de.TabLen||9).join(" ")),ii(wn,Xt)}function fs(wn){for(var Mn,Pr=wn.concat(),Hr=[],fl=Pr.length;fl--;)typeof(Mn=Pr.shift())=="string"?Hr.push(Mn):Array.isArray(wn)&&(Mn.length===1||Mn[1]===void 0&&Mn[2]===void 0)?Hr.push(Mn[0]):Hr.push([Mn[0],Mn[1],Mn[2]]);return Hr}function g(wn,Mn){var Pr;if(typeof wn=="string")Pr=Mn(wn)[0];else if(Array.isArray(wn)){for(var Hr,fl,$p=wn.concat(),dd=[],Ky=$p.length;Ky--;)typeof(Hr=$p.shift())=="string"?dd.push(Mn(Hr)[0]):Array.isArray(Hr)&&typeof Hr[0]=="string"&&(fl=Mn(Hr[0],Hr[1],Hr[2]),dd.push([fl[0],fl[1],fl[2]]));Pr=dd}return Pr}var M=!1,V=!0;if(typeof I=="string")M=!0;else if(Array.isArray(I)){var Q=I.concat();Ue=[];for(var be,Pe=Q.length;Pe--;)(typeof(be=Q.shift())!="string"||Array.isArray(be)&&typeof be[0]!="string")&&(V=!1);M=V}if(M===!1)throw new Error('Type of text must be string or Array. "'+I+'" is not recognized.');typeof I=="string"&&(I=I.match(/[\r?\n]/)?I.split(/\r\n|\r|\n/g):[I]);var ze=Fe/bn.internal.scaleFactor,Zt=ze*(ur-1);switch(de.baseline){case"bottom":ie-=Zt;break;case"top":ie+=ze-Zt;break;case"hanging":ie+=ze-2*Zt;break;case"middle":ie+=ze/2-Zt}if((Nt=de.maxWidth||0)>0&&(typeof I=="string"?I=bn.splitTextToSize(I,Nt):Object.prototype.toString.call(I)==="[object Array]"&&(I=I.reduce(function(wn,Mn){return wn.concat(bn.splitTextToSize(Mn,Nt))},[]))),Me={text:I,x:q,y:ie,options:de,mutex:{pdfEscape:ii,activeFontKey:st,fonts:Ut,activeFontSize:Fe}},qt.publish("preProcessText",Me),I=Me.text,Qe=(de=Me.options).angle,ar instanceof wt==0&&Qe&&typeof Qe=="number"){Qe*=Math.PI/180,de.rotationDirection===0&&(Qe=-Qe),C===A&&(Qe=-Qe);var cr=Math.cos(Qe),zt=Math.sin(Qe);ar=new wt(cr,zt,-zt,cr,0,0)}else Qe&&Qe instanceof wt&&(ar=Qe);C!==A||ar||(ar=ns),(St=de.charSpace||ss)!==void 0&&(gr+=N(U(St))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(hn=de.horizontalScale)!==void 0&&(gr+=N(100*hn)+` Tz
`),de.lang;var an=-1,$n=de.renderingMode!==void 0?de.renderingMode:de.stroke,Ro=bn.internal.getCurrentPageInfo().pageContext;switch($n){case 0:case!1:case"fill":an=0;break;case 1:case!0:case"stroke":an=1;break;case 2:case"fillThenStroke":an=2;break;case 3:case"invisible":an=3;break;case 4:case"fillAndAddForClipping":an=4;break;case 5:case"strokeAndAddPathForClipping":an=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":an=6;break;case 7:case"addToPathForClipping":an=7}var ki=Ro.usedRenderingMode!==void 0?Ro.usedRenderingMode:-1;an!==-1?gr+=an+` Tr
`:ki!==-1&&(gr+=`0 Tr
`),an!==-1&&(Ro.usedRenderingMode=an),at=de.align||"left";var mi,Fs=Fe*ur,Op=bn.internal.pageSize.getWidth(),Mp=Ut[st];St=de.charSpace||ss,Nt=de.maxWidth||0,Xt=Object.assign({autoencode:!0,noBOM:!0},de.flags);var du=[],Fc=function(wn){return bn.getStringUnitWidth(wn,{font:Mp,charSpace:St,fontSize:Fe,doKerning:!1})*Fe/po};if(Object.prototype.toString.call(I)==="[object Array]"){var Oo;Ue=fs(I),at!=="left"&&(mi=Ue.map(Fc));var Mo,hu=0;if(at==="right"){q-=mi[0],I=[],Pe=Ue.length;for(var cl=0;cl<Pe;cl++)cl===0?(Mo=oi(q),Oo=Ls(ie)):(Mo=U(hu-mi[cl]),Oo=-Fs),I.push([Ue[cl],Mo,Oo]),hu=mi[cl]}else if(at==="center"){q-=mi[0]/2,I=[],Pe=Ue.length;for(var pu=0;pu<Pe;pu++)pu===0?(Mo=oi(q),Oo=Ls(ie)):(Mo=U((hu-mi[pu])/2),Oo=-Fs),I.push([Ue[pu],Mo,Oo]),hu=mi[pu]}else if(at==="left"){I=[],Pe=Ue.length;for(var Lp=0;Lp<Pe;Lp++)I.push(Ue[Lp])}else if(at==="justify"&&Mp.encoding==="Identity-H"){I=[],Pe=Ue.length,Nt=Nt!==0?Nt:Op;for(var fd=0,Ir=0;Ir<Pe;Ir++)if(Oo=Ir===0?Ls(ie):-Fs,Mo=Ir===0?oi(q):fd,Ir<Pe-1){var Wy=U((Nt-mi[Ir])/(Ue[Ir].split(" ").length-1)),xa=Ue[Ir].split(" ");I.push([xa[0]+" ",Mo,Oo]),fd=0;for(var Sa=1;Sa<xa.length;Sa++){var Dp=(Fc(xa[Sa-1]+" "+xa[Sa])-Fc(xa[Sa]))*po+Wy;Sa==xa.length-1?I.push([xa[Sa],Dp,0]):I.push([xa[Sa]+" ",Dp,0]),fd-=Dp}}else I.push([Ue[Ir],Mo,Oo]);I.push(["",fd,0])}else{if(at!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(I=[],Pe=Ue.length,Nt=Nt!==0?Nt:Op,Ir=0;Ir<Pe;Ir++){Oo=Ir===0?Ls(ie):-Fs,Mo=Ir===0?oi(q):0;var Fp=Ue[Ir].split(" ").length-1,Up=Fp>0?(Nt-mi[Ir])/Fp:0;Ir<Pe-1?du.push(N(U(Up))):du.push(0),I.push([Ue[Ir],Mo,Oo])}}}(typeof de.R2L=="boolean"?de.R2L:it)===!0&&(I=g(I,function(wn,Mn,Pr){return[wn.split("").reverse().join(""),Mn,Pr]})),Me={text:I,x:q,y:ie,options:de,mutex:{pdfEscape:ii,activeFontKey:st,fonts:Ut,activeFontSize:Fe}},qt.publish("postProcessText",Me),I=Me.text,lr=Me.mutex.isHex||!1;var jp=Ut[st].encoding;jp!=="WinAnsiEncoding"&&jp!=="StandardEncoding"||(I=g(I,function(wn,Mn,Pr){return[cs(wn),Mn,Pr]})),Ue=fs(I),I=[];for(var mu,gu,yu,Uc=Array.isArray(Ue[0])?1:0,vu="",jc=function(wn,Mn,Pr){var Hr="";return Pr instanceof wt?(Pr=typeof de.angle=="number"?Hn(Pr,new wt(1,0,0,1,wn,Mn)):Hn(new wt(1,0,0,1,wn,Mn),Pr),C===A&&(Pr=Hn(new wt(1,0,0,-1,0,0),Pr)),Hr=Pr.join(" ")+` Tm
`):Hr=N(wn)+" "+N(Mn)+` Td
`,Hr},ds=0;ds<Ue.length;ds++){switch(vu="",Uc){case 1:yu=(lr?"<":"(")+Ue[ds][0]+(lr?">":")"),mu=parseFloat(Ue[ds][1]),gu=parseFloat(Ue[ds][2]);break;case 0:yu=(lr?"<":"(")+Ue[ds]+(lr?">":")"),mu=oi(q),gu=Ls(ie)}du!==void 0&&du[ds]!==void 0&&(vu=du[ds]+` Tw
`),ds===0?I.push(vu+jc(mu,gu,ar)+yu):Uc===0?I.push(vu+yu):Uc===1&&I.push(vu+jc(mu,gu,ar)+yu)}I=Uc===0?I.join(` Tj
T* `):I.join(` Tj
`),I+=` Tj
`;var Ea=`BT
/`;return Ea+=st+" "+Fe+` Tf
`,Ea+=N(Fe*ur)+` TL
`,Ea+=ko+`
`,Ea+=gr,Ea+=I,Y(Ea+="ET"),d[st]=!0,bn};var od=h.__private__.clip=h.clip=function(I){return Y(I==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return od("evenodd")},h.__private__.discardPath=h.discardPath=function(){return Y("n"),this};var Jt=h.__private__.isValidStyle=function(I){var q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(I)!==-1&&(q=!0),q};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(I){return Jt(I)&&(u=I),this};var sl=h.__private__.getStyle=h.getStyle=function(I){var q=u;switch(I){case"D":case"S":q="S";break;case"F":q="f";break;case"FD":case"DF":q="B";break;case"f":case"f*":case"B":case"B*":q=I}return q},va=h.close=function(){return Y("h"),this};h.stroke=function(){return Y("S"),this},h.fill=function(I){return is("f",I),this},h.fillEvenOdd=function(I){return is("f*",I),this},h.fillStroke=function(I){return is("B",I),this},h.fillStrokeEvenOdd=function(I){return is("B*",I),this};var is=function(I,q){Tn(q)==="object"?Ip(q,I):Y(I)},al=function(I){I===null||C===A&&I===void 0||(I=sl(I),Y(I))};function sd(I,q,ie,de,_e){var Me=new Kd(q||this.boundingBox,ie||this.xStep,de||this.yStep,this.gState,_e||this.matrix);Me.stream=this.stream;var Ue=I+"$$"+this.cloneIndex+++"$$";return ni(Ue,Me),Me}var Ip=function(I,q){var ie=yn[I.key],de=gt[ie];if(de instanceof ef)Y("q"),Y(Pp(q)),de.gState&&h.setGState(de.gState),Y(I.matrix.toString()+" cm"),Y("/"+ie+" sh"),Y("Q");else if(de instanceof Kd){var _e=new wt(1,0,0,-1,0,us());I.matrix&&(_e=_e.multiply(I.matrix||ns),ie=sd.call(de,I.key,I.boundingBox,I.xStep,I.yStep,_e).id),Y("q"),Y("/Pattern cs"),Y("/"+ie+" scn"),de.gState&&h.setGState(de.gState),Y(q),Y("Q")}},Pp=function(I){switch(I){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Rc=h.moveTo=function(I,q){return Y(N(U(I))+" "+N(z(q))+" m"),this},ad=h.lineTo=function(I,q){return Y(N(U(I))+" "+N(z(q))+" l"),this},pi=h.curveTo=function(I,q,ie,de,_e,Me){return Y([N(U(I)),N(z(q)),N(U(ie)),N(z(de)),N(U(_e)),N(z(Me)),"c"].join(" ")),this};h.__private__.line=h.line=function(I,q,ie,de,_e){if(isNaN(I)||isNaN(q)||isNaN(ie)||isNaN(de)||!Jt(_e))throw new Error("Invalid arguments passed to jsPDF.line");return C===E?this.lines([[ie-I,de-q]],I,q,[1,1],_e||"S"):this.lines([[ie-I,de-q]],I,q,[1,1]).stroke()},h.__private__.lines=h.lines=function(I,q,ie,de,_e,Me){var Ue,Qe,at,St,Nt,Xt,hn,ar,bn,mr,lr,gr;if(typeof I=="number"&&(gr=ie,ie=q,q=I,I=gr),de=de||[1,1],Me=Me||!1,isNaN(q)||isNaN(ie)||!Array.isArray(I)||!Array.isArray(de)||!Jt(_e)||typeof Me!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Rc(q,ie),Ue=de[0],Qe=de[1],St=I.length,mr=q,lr=ie,at=0;at<St;at++)(Nt=I[at]).length===2?(mr=Nt[0]*Ue+mr,lr=Nt[1]*Qe+lr,ad(mr,lr)):(Xt=Nt[0]*Ue+mr,hn=Nt[1]*Qe+lr,ar=Nt[2]*Ue+mr,bn=Nt[3]*Qe+lr,mr=Nt[4]*Ue+mr,lr=Nt[5]*Qe+lr,pi(Xt,hn,ar,bn,mr,lr));return Me&&va(),al(_e),this},h.path=function(I){for(var q=0;q<I.length;q++){var ie=I[q],de=ie.c;switch(ie.op){case"m":Rc(de[0],de[1]);break;case"l":ad(de[0],de[1]);break;case"c":pi.apply(this,de);break;case"h":va()}}return this},h.__private__.rect=h.rect=function(I,q,ie,de,_e){if(isNaN(I)||isNaN(q)||isNaN(ie)||isNaN(de)||!Jt(_e))throw new Error("Invalid arguments passed to jsPDF.rect");return C===E&&(de=-de),Y([N(U(I)),N(z(q)),N(U(ie)),N(U(de)),"re"].join(" ")),al(_e),this},h.__private__.triangle=h.triangle=function(I,q,ie,de,_e,Me,Ue){if(isNaN(I)||isNaN(q)||isNaN(ie)||isNaN(de)||isNaN(_e)||isNaN(Me)||!Jt(Ue))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ie-I,de-q],[_e-ie,Me-de],[I-_e,q-Me]],I,q,[1,1],Ue,!0),this},h.__private__.roundedRect=h.roundedRect=function(I,q,ie,de,_e,Me,Ue){if(isNaN(I)||isNaN(q)||isNaN(ie)||isNaN(de)||isNaN(_e)||isNaN(Me)||!Jt(Ue))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Qe=4/3*(Math.SQRT2-1);return _e=Math.min(_e,.5*ie),Me=Math.min(Me,.5*de),this.lines([[ie-2*_e,0],[_e*Qe,0,_e,Me-Me*Qe,_e,Me],[0,de-2*Me],[0,Me*Qe,-_e*Qe,Me,-_e,Me],[2*_e-ie,0],[-_e*Qe,0,-_e,-Me*Qe,-_e,-Me],[0,2*Me-de],[0,-Me*Qe,_e*Qe,-Me,_e,-Me]],I+_e,q,[1,1],Ue,!0),this},h.__private__.ellipse=h.ellipse=function(I,q,ie,de,_e){if(isNaN(I)||isNaN(q)||isNaN(ie)||isNaN(de)||!Jt(_e))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Me=4/3*(Math.SQRT2-1)*ie,Ue=4/3*(Math.SQRT2-1)*de;return Rc(I+ie,q),pi(I+ie,q-Ue,I+Me,q-de,I,q-de),pi(I-Me,q-de,I-ie,q-Ue,I-ie,q),pi(I-ie,q+Ue,I-Me,q+de,I,q+de),pi(I+Me,q+de,I+ie,q+Ue,I+ie,q),al(_e),this},h.__private__.circle=h.circle=function(I,q,ie,de){if(isNaN(I)||isNaN(q)||isNaN(ie)||!Jt(de))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(I,q,ie,ie,de)},h.setFont=function(I,q,ie){return ie&&(q=k(q,ie)),st=Nc(I,q,{disableWarning:!1}),this};var os=h.__private__.getFont=h.getFont=function(){return Ut[Nc.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var I,q,ie={};for(I in Lt)if(Lt.hasOwnProperty(I))for(q in ie[I]=[],Lt[I])Lt[I].hasOwnProperty(q)&&ie[I].push(q);return ie},h.addFont=function(I,q,ie,de,_e){var Me=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Me.indexOf(arguments[3])!==-1?_e=arguments[3]:arguments[3]&&Me.indexOf(arguments[3])==-1&&(ie=k(ie,de)),iu.call(this,I,q,ie,_e=_e||"Identity-H")};var wa,au=t.lineWidth||.200025,ld=h.__private__.getLineWidth=h.getLineWidth=function(){return au},bt=h.__private__.setLineWidth=h.setLineWidth=function(I){return au=I,Y(N(U(I))+" w"),this};h.__private__.setLineDash=mt.API.setLineDash=mt.API.setLineDashPattern=function(I,q){if(I=I||[],q=q||0,isNaN(q)||!Array.isArray(I))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return I=I.map(function(ie){return N(U(ie))}).join(" "),q=N(U(q)),Y("["+I+"] "+q+" d"),this};var Cp=h.__private__.getLineHeight=h.getLineHeight=function(){return Fe*wa};h.__private__.getLineHeight=h.getLineHeight=function(){return Fe*wa};var Np=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(I){return typeof(I=I||1.15)=="number"&&(wa=I),this},kp=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return wa};Np(t.lineHeight);var oi=h.__private__.getHorizontalCoordinate=function(I){return U(I)},Ls=h.__private__.getVerticalCoordinate=function(I){return C===A?I:yt[W].mediaBox.topRightY-yt[W].mediaBox.bottomLeftY-U(I)},Rp=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(I){return N(oi(I))},lu=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(I){return N(Ls(I))},Ds=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Po(Ds)},h.__private__.setStrokeColor=h.setDrawColor=function(I,q,ie,de){return Ds=Yi({ch1:I,ch2:q,ch3:ie,ch4:de,pdfColorType:"draw",precision:2}),Y(Ds),this};var uu=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Po(uu)},h.__private__.setFillColor=h.setFillColor=function(I,q,ie,de){return uu=Yi({ch1:I,ch2:q,ch3:ie,ch4:de,pdfColorType:"fill",precision:2}),Y(uu),this};var ko=t.textColor||"0 g",ll=h.__private__.getTextColor=h.getTextColor=function(){return Po(ko)};h.__private__.setTextColor=h.setTextColor=function(I,q,ie,de){return ko=Yi({ch1:I,ch2:q,ch3:ie,ch4:de,pdfColorType:"text",precision:3}),this};var ss=t.charSpace,Oc=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(ss||0)};h.__private__.setCharSpace=h.setCharSpace=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ss=I,this};var Nn=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(I){var q=h.CapJoinStyles[I];if(q===void 0)throw new Error("Line cap style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Nn=q,Y(q+" J"),this};var Mc=0;h.__private__.setLineJoin=h.setLineJoin=function(I){var q=h.CapJoinStyles[I];if(q===void 0)throw new Error("Line join style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Mc=q,Y(q+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(I){if(I=I||0,isNaN(I))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Y(N(U(I))+" M"),this},h.GState=Dw,h.setGState=function(I){(I=typeof I=="string"?_t[It[I]]:ud(null,I)).equals(vn)||(Y("/"+I.id+" gs"),vn=I)};var ud=function(I,q){if(!I||!It[I]){var ie=!1;for(var de in _t)if(_t.hasOwnProperty(de)&&_t[de].equals(q)){ie=!0;break}if(ie)q=_t[de];else{var _e="GS"+(Object.keys(_t).length+1).toString(10);_t[_e]=q,q.id=_e}return I&&(It[I]=q.id),qt.publish("addGState",q),q}};h.addGState=function(I,q){return ud(I,q),this},h.saveGraphicsState=function(){return Y("q"),jn.push({key:st,size:Fe,color:ko}),this},h.restoreGraphicsState=function(){Y("Q");var I=jn.pop();return st=I.key,Fe=I.size,ko=I.color,vn=null,this},h.setCurrentTransformationMatrix=function(I){return Y(I.toString()+" cm"),this},h.comment=function(I){return Y("#"+I),this};var as=function(I,q){var ie=I||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ie},set:function(Me){isNaN(Me)||(ie=parseFloat(Me))}});var de=q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return de},set:function(Me){isNaN(Me)||(de=parseFloat(Me))}});var _e="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return _e},set:function(Me){_e=Me.toString()}}),this},cu=function(I,q,ie,de){as.call(this,I,q),this.type="rect";var _e=ie||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return _e},set:function(Ue){isNaN(Ue)||(_e=parseFloat(Ue))}});var Me=de||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Me},set:function(Ue){isNaN(Ue)||(Me=parseFloat(Ue))}}),this},ul=function(){this.page=jt,this.currentPage=W,this.pages=Ce.slice(0),this.pagesContext=yt.slice(0),this.x=ht,this.y=Rn,this.matrix=Yt,this.width=Ji(W),this.height=cd(W),this.outputDestination=Ee,this.id="",this.objectNumber=-1};ul.prototype.restore=function(){jt=this.page,W=this.currentPage,yt=this.pagesContext,Ce=this.pages,ht=this.x,Rn=this.y,Yt=this.matrix,Lc(W,this.width),Xi(W,this.height),Ee=this.outputDestination};var _a=function(I,q,ie,de,_e){Pi.push(new ul),jt=W=0,Ce=[],ht=I,Rn=q,Yt=_e,No([ie,de])};for(var ba in h.beginFormObject=function(I,q,ie,de,_e){return _a(I,q,ie,de,_e),this},h.endFormObject=function(I){return function(q){if(ts[q])Pi.pop().restore();else{var ie=new ul,de="Xo"+(Object.keys(Ar).length+1).toString(10);ie.id=de,ts[q]=de,Ar[de]=ie,qt.publish("addFormObject",ie),Pi.pop().restore()}}(I),this},h.doFormObject=function(I,q){var ie=Ar[ts[I]];return Y("q"),Y(q.toString()+" cm"),Y("/"+ie.id+" Do"),Y("Q"),this},h.getFormObject=function(I){var q=Ar[ts[I]];return{x:q.x,y:q.y,width:q.width,height:q.height,matrix:q.matrix}},h.save=function(I,q){return I=I||"generated.pdf",(q=q||{}).returnPromise=q.returnPromise||!1,q.returnPromise===!1?(Xc(il(rs()),I),typeof Xc.unload=="function"&&Tt.setTimeout&&setTimeout(Xc.unload,911),this):new Promise(function(ie,de){try{var _e=Xc(il(rs()),I);typeof Xc.unload=="function"&&Tt.setTimeout&&setTimeout(Xc.unload,911),ie(_e)}catch(Me){de(Me.message)}})},mt.API)mt.API.hasOwnProperty(ba)&&(ba==="events"&&mt.API.events.length?function(I,q){var ie,de,_e;for(_e=q.length-1;_e!==-1;_e--)ie=q[_e][0],de=q[_e][1],I.subscribe.apply(I,[ie].concat(typeof de=="function"?[de]:de))}(qt,mt.API.events):h[ba]=mt.API[ba]);function Ji(I){return yt[I].mediaBox.topRightX-yt[I].mediaBox.bottomLeftX}function Lc(I,q){yt[I].mediaBox.topRightX=q+yt[I].mediaBox.bottomLeftX}function cd(I){return yt[I].mediaBox.topRightY-yt[I].mediaBox.bottomLeftY}function Xi(I,q){yt[I].mediaBox.topRightY=q+yt[I].mediaBox.bottomLeftY}var ls=h.getPageWidth=function(I){return Ji(I=I||W)/Ct},fu=h.setPageWidth=function(I,q){Lc(I,q*Ct)},us=h.getPageHeight=function(I){return cd(I=I||W)/Ct},Dc=h.setPageHeight=function(I,q){Xi(I,q*Ct)};return h.internal={pdfEscape:ii,getStyle:sl,getFont:os,getFontSize:We,getCharSpace:Oc,getTextColor:ll,getLineHeight:Cp,getLineHeightFactor:kp,getLineWidth:ld,write:ke,getHorizontalCoordinate:oi,getVerticalCoordinate:Ls,getCoordinateString:Rp,getVerticalCoordinateString:lu,collections:{},newObject:er,newAdditionalObject:tl,newObjectDeferred:Dr,newObjectDeferredBegin:tr,getFilters:Ni,putStream:Tr,events:qt,scaleFactor:Ct,pageSize:{getWidth:function(){return ls(W)},setWidth:function(I){fu(W,I)},getHeight:function(){return us(W)},setHeight:function(I){Dc(W,I)}},encryptionOptions:c,encryption:On,getEncryptor:function(I){return c!==null?On.encryptor(I,0):function(q){return q}},output:kc,getNumberOfPages:Cc,get pages(){return Ce},out:Y,f2:P,f3:D,getPageInfo:zr,getPageInfoByObjId:ol,getCurrentPageInfo:su,getPDFVersion:_,Point:as,Rectangle:cu,Matrix:wt,hasHotfix:ho},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return ls(W)},set:function(I){fu(W,I)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return us(W)},set:function(I){Dc(W,I)},enumerable:!0,configurable:!0}),(function(I){for(var q=0,ie=Xe.length;q<ie;q++){var de=iu.call(this,I[q][0],I[q][1],I[q][2],Xe[q][3],!0);f===!1&&(d[de]=!0);var _e=I[q][0].split("-");Tc({id:de,fontName:_e[0],fontStyle:_e[1]||""})}qt.publish("addFonts",{fonts:Ut,dictionary:Lt})}).call(h,Xe),st="F1",ou(i,n),qt.publish("initialized"),h}Pd.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Pd.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Pd.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Pd.prototype.processOwnerPassword=function(t,e){return nA(tA(e).substr(0,5),t)},Pd.prototype.encryptor=function(t,e){var n=tA(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return nA(n,r)}},Dw.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Tn(t)!==Tn(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},mt.API={events:[]},mt.version="3.0.4";var wr=mt.API,TP=1,td=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},bd=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Rt=function(t){return t.toFixed(2)},Nu=function(t){return t.toFixed(5)};wr.__acroform__={};var Io=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},xD=function(t){return t*TP},Ca=function(t){var e=new fq,n=rt.internal.getHeight(t)||0,r=rt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Rt(r)),Number(Rt(n))],e},rMe=wr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},iMe=wr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},oMe=wr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Or=wr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return oMe(t,e-1)},Mr=wr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return rMe(t,e-1)},Lr=wr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return iMe(t,e-1)},sMe=wr.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],o=t[1],s=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(o+a)||0,l.upperRight_X=n(i+s)||0,l.upperRight_Y=r(o)||0,[Number(Rt(l.lowerLeft_X)),Number(Rt(l.lowerLeft_Y)),Number(Rt(l.upperRight_X)),Number(Rt(l.upperRight_Y))]},aMe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=rA(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Rt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Ca(t);return o.scope=t.scope,o.stream=e.join(`
`),o}},rA=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(P){return P.split(`
`)}):i.map(function(P){return[P]});var o=n,s=rt.internal.getHeight(t)||0;s=s<0?-s:s;var a=rt.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(P,D,U){if(P+1<i.length){var z=D+" "+i[P+1][0];return l0(z,t,U).width<=a-4}return!1};o++;e:for(;o>0;){e="",o--;var u,c,f=l0("3",t,o).height,d=t.multiline?s-o:(s-f)/2,h=d+=2,v=0,_=0,w=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+l0(e,t,o=12).width+", FieldWidth:"+a+`
`;break}for(var b="",E=0,A=0;A<i.length;A++)if(i.hasOwnProperty(A)){var C=!1;if(i[A].length!==1&&w!==i[A].length-1){if((f+2)*(E+2)+2>s)continue e;b+=i[A][w],C=!0,_=A,A--}else{b=(b+=i[A][w]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var R=parseInt(A),F=l(R,b,o),k=A>=i.length-1;if(F&&!k){b+=" ",w=0;continue}if(F||k){if(k)_=R;else if(t.multiline&&(f+2)*(E+2)+2>s)continue e}else{if(!t.multiline||(f+2)*(E+2)+2>s)continue e;_=R}}for(var N="",T=v;T<=_;T++){var j=i[T];if(t.multiline){if(T===_){N+=j[w]+" ",w=(w+1)%j.length;continue}if(T===v){N+=j[j.length-1]+" ";continue}}N+=j[0]+" "}switch(N=N.substr(N.length-1)==" "?N.substr(0,N.length-1):N,c=l0(N,t,o).width,t.textAlign){case"right":u=a-c-2;break;case"center":u=(a-c)/2;break;default:u=2}e+=Rt(u)+" "+Rt(h)+` Td
`,e+="("+td(N)+`) Tj
`,e+=-Rt(u)+` 0 Td
`,h=-(o+2),c=0,v=C?_:_+1,E++,b=""}break}return r.text=e,r.fontSize=o,r},l0=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},lMe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},uMe=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},cMe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(ca.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(lMe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");TP=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new dq,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];o.objId=void 0,o.hasAnnotation&&uMe(o,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var o=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var a=r[s],l=[],u=a.Rect;if(a.Rect&&(a.Rect=sMe(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=rt.createDefaultAppearanceStream(a),Tn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=u,a.hasAppearanceStream&&!a.appearanceStreamContent){var c=aMe(a);l.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(a.appearanceStreamContent){var f="";for(var d in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(d)){var h=a.appearanceStreamContent[d];if(f+="/"+d+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var s in h)if(h.hasOwnProperty(s)){var v=h[s];typeof v=="function"&&(v=v.call(i,a)),f+="/"+s+" "+v+" ",i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v)}}else typeof(v=h)=="function"&&(v=v.call(i,a)),f+="/"+s+" "+v,i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}o&&function(_,w){for(var b in _)if(_.hasOwnProperty(b)){var E=b,A=_[b];w.internal.newObjectDeferredBegin(A.objId,!0),Tn(A)==="object"&&typeof A.putStream=="function"&&A.putStream(),delete _[E]}}(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},cq=wr.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(s){return s};if(Array.isArray(t)){for(var i="[",o=0;o<t.length;o++)switch(o!==0&&(i+=" "),Tn(t[o])){case"boolean":case"number":case"object":i+=t[o].toString();break;case"string":t[o].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+td(r(t[o].toString()))+")"):i+=t[o].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Nx=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+td(r(t))+")"},Da=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Da.prototype.toString=function(){return this.objId+" 0 R"},Da.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Da.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:cq(i,this.objId,this.scope)}):i instanceof Da?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var fq=function(){Da.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Io(fq,Da);var dq=function(){Da.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+td(n(t))+")"}},set:function(n){t=n}})};Io(dq,Da);var ca=function t(){Da.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');e=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Or(e,3)},set:function(b){b?this.F=Mr(e,3):this.F=Lr(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');n=b}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(b){r=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(b){r[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(b){r[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(b){r[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(b){r[3]=b}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Fw)return;o="FieldObject"+t.FieldNum++}var b=function(E){return E};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+td(b(o))+")"},set:function(b){o=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(b){o=b}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(b){s=b}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(b){a=b}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/TP:u},set:function(b){u=b}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(b){c=b}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Fw||this instanceof vf))return Nx(f,this.objId,this.scope)},set:function(b){b=b.toString(),f=b}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof ui==0?Nx(d,this.objId,this.scope):d},set:function(b){b=b.toString(),d=this instanceof ui==0?b.substr(0,1)==="("?bd(b.substr(1,b.length-2)):bd(b):b}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ui==1?bd(d.substr(1,d.length-1)):d},set:function(b){b=b.toString(),d=this instanceof ui==1?"/"+b:b}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof ui==0?Nx(h,this.objId,this.scope):h},set:function(b){b=b.toString(),h=this instanceof ui==0?b.substr(0,1)==="("?bd(b.substr(1,b.length-2)):bd(b):b}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ui==1?bd(h.substr(1,h.length-1)):h},set:function(b){b=b.toString(),h=this instanceof ui==1?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(b){b=!!b,_=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(b){v=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,1)},set:function(b){b?this.Ff=Mr(this.Ff,1):this.Ff=Lr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,2)},set:function(b){b?this.Ff=Mr(this.Ff,2):this.Ff=Lr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,3)},set:function(b){b?this.Ff=Mr(this.Ff,3):this.Ff=Lr(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');w=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(w){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:w=2;break;case"center":case 1:w=1;break;default:w=0}}})};Io(ca,Da);var hh=function(){ca.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return cq(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(o,s,a){a||(a=1);for(var l,u=[];l=s.exec(o);)u.push(l[a]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,18)},set:function(n){n?this.Ff=Mr(this.Ff,18):this.Ff=Lr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Mr(this.Ff,19):this.Ff=Lr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,20)},set:function(n){n?(this.Ff=Mr(this.Ff,20),e.sort()):this.Ff=Lr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,22)},set:function(n){n?this.Ff=Mr(this.Ff,22):this.Ff=Lr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,23)},set:function(n){n?this.Ff=Mr(this.Ff,23):this.Ff=Lr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,27)},set:function(n){n?this.Ff=Mr(this.Ff,27):this.Ff=Lr(this.Ff,27)}}),this.hasAppearanceStream=!1};Io(hh,ca);var ph=function(){hh.call(this),this.fontName="helvetica",this.combo=!1};Io(ph,hh);var mh=function(){ph.call(this),this.combo=!0};Io(mh,ph);var F0=function(){mh.call(this),this.edit=!0};Io(F0,mh);var ui=function(){ca.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,15)},set:function(n){n?this.Ff=Mr(this.Ff,15):this.Ff=Lr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,16)},set:function(n){n?this.Ff=Mr(this.Ff,16):this.Ff=Lr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,17)},set:function(n){n?this.Ff=Mr(this.Ff,17):this.Ff=Lr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,26)},set:function(n){n?this.Ff=Mr(this.Ff,26):this.Ff=Lr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+td(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Tn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Io(ui,ca);var U0=function(){ui.call(this),this.pushButton=!0};Io(U0,ui);var gh=function(){ui.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Io(gh,ui);var Fw=function(){var t,e;ca.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,s=[];for(o in s.push("<<"),r)s.push("/"+o+" ("+td(i(r[o]))+")");return s.push(">>"),s.join(`
`)},set:function(i){Tn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=rt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Io(Fw,ca),gh.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},gh.prototype.createOption=function(t){var e=new Fw;return e.Parent=this,e.optionName=t,this.Kids.push(e),fMe.call(this.scope,e),e};var j0=function(){ui.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=rt.CheckBox.createAppearanceStream()};Io(j0,ui);var vf=function(){ca.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,13)},set:function(e){e?this.Ff=Mr(this.Ff,13):this.Ff=Lr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,21)},set:function(e){e?this.Ff=Mr(this.Ff,21):this.Ff=Lr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,23)},set:function(e){e?this.Ff=Mr(this.Ff,23):this.Ff=Lr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,24)},set:function(e){e?this.Ff=Mr(this.Ff,24):this.Ff=Lr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,25)},set:function(e){e?this.Ff=Mr(this.Ff,25):this.Ff=Lr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,26)},set:function(e){e?this.Ff=Mr(this.Ff,26):this.Ff=Lr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Io(vf,ca);var $0=function(){vf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,14)},set:function(t){t?this.Ff=Mr(this.Ff,14):this.Ff=Lr(this.Ff,14)}}),this.password=!0};Io($0,vf);var rt={CheckBox:{createAppearanceStream:function(){return{N:{On:rt.CheckBox.YesNormal},D:{On:rt.CheckBox.YesPushDown,Off:rt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Ca(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),o=rA(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Rt(rt.internal.getWidth(t))+" "+Rt(rt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Rt(o.fontSize)+" Tf "+i),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Ca(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],o=rt.internal.getHeight(t),s=rt.internal.getWidth(t),a=rA(t,t.caption);return i.push("1 g"),i.push("0 0 "+Rt(s)+" "+Rt(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Rt(s-1)+" "+Rt(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Rt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Ca(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Rt(rt.internal.getWidth(t))+" "+Rt(rt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:rt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=rt.RadioButton.Circle.YesNormal,e.D[t]=rt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Ca(t);e.scope=t.scope;var n=[],r=rt.internal.getWidth(t)<=rt.internal.getHeight(t)?rt.internal.getWidth(t)/4:rt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=rt.internal.Bezier_C,o=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Nu(rt.internal.getWidth(t)/2)+" "+Nu(rt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Ca(t);e.scope=t.scope;var n=[],r=rt.internal.getWidth(t)<=rt.internal.getHeight(t)?rt.internal.getWidth(t)/4:rt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*rt.internal.Bezier_C).toFixed(5)),s=Number((r*rt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Nu(rt.internal.getWidth(t)/2)+" "+Nu(rt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Nu(rt.internal.getWidth(t)/2)+" "+Nu(rt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Ca(t);e.scope=t.scope;var n=[],r=rt.internal.getWidth(t)<=rt.internal.getHeight(t)?rt.internal.getWidth(t)/4:rt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*rt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Nu(rt.internal.getWidth(t)/2)+" "+Nu(rt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:rt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=rt.RadioButton.Cross.YesNormal,e.D[t]=rt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Ca(t);e.scope=t.scope;var n=[],r=rt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Rt(rt.internal.getWidth(t)-2)+" "+Rt(rt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Rt(r.x1.x)+" "+Rt(r.x1.y)+" m"),n.push(Rt(r.x2.x)+" "+Rt(r.x2.y)+" l"),n.push(Rt(r.x4.x)+" "+Rt(r.x4.y)+" m"),n.push(Rt(r.x3.x)+" "+Rt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Ca(t);e.scope=t.scope;var n=rt.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Rt(rt.internal.getWidth(t))+" "+Rt(rt.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Rt(rt.internal.getWidth(t)-2)+" "+Rt(rt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Rt(n.x1.x)+" "+Rt(n.x1.y)+" m"),r.push(Rt(n.x2.x)+" "+Rt(n.x2.y)+" l"),r.push(Rt(n.x4.x)+" "+Rt(n.x4.y)+" m"),r.push(Rt(n.x3.x)+" "+Rt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Ca(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Rt(rt.internal.getWidth(t))+" "+Rt(rt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};rt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=rt.internal.getWidth(t),n=rt.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},rt.internal.getWidth=function(t){var e=0;return Tn(t)==="object"&&(e=xD(t.Rect[2])),e},rt.internal.getHeight=function(t){var e=0;return Tn(t)==="object"&&(e=xD(t.Rect[3])),e};var fMe=wr.addField=function(t){if(cMe(this,t),!(t instanceof ca))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};wr.AcroFormChoiceField=hh,wr.AcroFormListBox=ph,wr.AcroFormComboBox=mh,wr.AcroFormEditBox=F0,wr.AcroFormButton=ui,wr.AcroFormPushButton=U0,wr.AcroFormRadioButton=gh,wr.AcroFormCheckBox=j0,wr.AcroFormTextField=vf,wr.AcroFormPasswordField=$0,wr.AcroFormAppearance=rt,wr.AcroForm={ChoiceField:hh,ListBox:ph,ComboBox:mh,EditBox:F0,Button:ui,PushButton:U0,RadioButton:gh,CheckBox:j0,TextField:vf,PasswordField:$0,Appearance:rt},mt.AcroForm={ChoiceField:hh,ListBox:ph,ComboBox:mh,EditBox:F0,Button:ui,PushButton:U0,RadioButton:gh,CheckBox:j0,TextField:vf,PasswordField:$0,Appearance:rt};mt.AcroForm;function hq(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(P,D){var U,z,ee,le,ue,X=n;if((D=D||n)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(F(P))for(ue in r)for(ee=r[ue],U=0;U<ee.length;U+=1){for(le=!0,z=0;z<ee[U].length;z+=1)if(ee[U][z]!==void 0&&ee[U][z]!==P[z]){le=!1;break}if(le===!0){X=ue;break}}else for(ue in r)for(ee=r[ue],U=0;U<ee.length;U+=1){for(le=!0,z=0;z<ee[U].length;z+=1)if(ee[U][z]!==void 0&&ee[U][z]!==P.charCodeAt(z)){le=!1;break}if(le===!0){X=ue;break}}return X===n&&D!==n&&(X=D),X},o=function P(D){for(var U=this.internal.write,z=this.internal.putStream,ee=(0,this.internal.getFilters)();ee.indexOf("FlateEncode")!==-1;)ee.splice(ee.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var le=[];if(le.push({key:"Type",value:"/XObject"}),le.push({key:"Subtype",value:"/Image"}),le.push({key:"Width",value:D.width}),le.push({key:"Height",value:D.height}),D.colorSpace===b.INDEXED?le.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):(le.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===b.DEVICE_CMYK&&le.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),le.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&le.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)&&D.transparency.length>0){for(var ue="",X=0,ae=D.transparency.length;X<ae;X++)ue+=D.transparency[X]+" "+D.transparency[X]+" ";le.push({key:"Mask",value:"["+ue+"]"})}D.sMask!==void 0&&le.push({key:"SMask",value:D.objectId+1+" 0 R"});var ye=D.filter!==void 0?["/"+D.filter]:void 0;if(z({data:D.data,additionalKeyValues:le,alreadyAppliedFilters:ye,objectId:D.objectId}),U("endobj"),"sMask"in D&&D.sMask!==void 0){var me,B=(me=D.sMaskBitsPerComponent)!==null&&me!==void 0?me:D.bitsPerComponent,W={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:B,data:D.sMask};"filter"in D&&(W.decodeParameters="/Predictor ".concat(D.predictor," /Colors 1 /BitsPerComponent ").concat(B," /Columns ").concat(D.width),W.filter=D.filter),P.call(this,W)}if(D.colorSpace===b.INDEXED){var ne=this.internal.newObject();z({data:N(new Uint8Array(D.palette)),objectId:ne}),U("endobj")}},s=function(){var P=this.internal.collections[e+"images"];for(var D in P)o.call(this,P[D])},a=function(){var P,D=this.internal.collections[e+"images"],U=this.internal.write;for(var z in D)U("/I"+(P=D[z]).index,P.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},u=function(){var P=this.internal.collections[e+"images"];return l.call(this),P},c=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(P){return typeof t["process"+P.toUpperCase()]=="function"},d=function(P){return Tn(P)==="object"&&P.nodeType===1},h=function(P,D){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var U=""+P.getAttribute("src");if(U.indexOf("data:image/")===0)return D0(unescape(U).split("base64,").pop());var z=t.loadFile(U,!0);if(z!==void 0)return z}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var ee;switch(D){case"PNG":ee="image/png";break;case"WEBP":ee="image/webp";break;default:ee="image/jpeg"}return D0(P.toDataURL(ee,1).split("base64,").pop())}},v=function(P){var D=this.internal.collections[e+"images"];if(D){for(var U in D)if(P===D[U].alias)return D[U]}},_=function(P,D,U){return P||D||(P=-96,D=-96),P<0&&(P=-1*U.width*72/P/this.internal.scaleFactor),D<0&&(D=-1*U.height*72/D/this.internal.scaleFactor),P===0&&(P=D*U.width/U.height),D===0&&(D=P*U.height/U.width),[P,D]},w=function(P,D,U,z,ee,le){var ue=_.call(this,U,z,ee),X=this.internal.getCoordinateString,ae=this.internal.getVerticalCoordinateString,ye=u.call(this);if(U=ue[0],z=ue[1],ye[ee.index]=ee,le){le*=Math.PI/180;var me=Math.cos(le),B=Math.sin(le),W=function(fe){return fe.toFixed(4)},ne=[W(me),W(B),W(-1*B),W(me),0,0,"cm"]}this.internal.write("q"),le?(this.internal.write([1,"0","0",1,X(P),ae(D+z),"cm"].join(" ")),this.internal.write(ne.join(" ")),this.internal.write([X(U),"0","0",X(z),"0","0","cm"].join(" "))):this.internal.write([X(U),"0","0",X(z),X(P),ae(D+z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ee.index+" Do"),this.internal.write("Q")},b=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},A=t.__addimage__.sHashCode=function(P){var D,U,z=0;if(typeof P=="string")for(U=P.length,D=0;D<U;D++)z=(z<<5)-z+P.charCodeAt(D),z|=0;else if(F(P))for(U=P.byteLength/2,D=0;D<U;D++)z=(z<<5)-z+P[D],z|=0;return z},C=t.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var D=!0;return P.length===0&&(D=!1),P.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(D=!1),D},R=t.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var D=P.indexOf(",");return D<0?null:P.substring(0,D).trim().endsWith("base64")?P.substring(D+1):null};t.__addimage__.isArrayBuffer=function(P){return P instanceof ArrayBuffer};var F=t.__addimage__.isArrayBufferView=function(P){return P instanceof Int8Array||P instanceof Uint8Array||P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array},k=t.__addimage__.binaryStringToUint8Array=function(P){for(var D=P.length,U=new Uint8Array(D),z=0;z<D;z++)U[z]=P.charCodeAt(z);return U},N=t.__addimage__.arrayBufferToBinaryString=function(P){for(var D="",U=F(P)?P:new Uint8Array(P),z=0;z<U.length;z+=8192)D+=String.fromCharCode.apply(null,U.subarray(z,z+8192));return D};t.addImage=function(){var P,D,U,z,ee,le,ue,X,ae;if(typeof arguments[1]=="number"?(D=n,U=arguments[1],z=arguments[2],ee=arguments[3],le=arguments[4],ue=arguments[5],X=arguments[6],ae=arguments[7]):(D=arguments[1],U=arguments[2],z=arguments[3],ee=arguments[4],le=arguments[5],ue=arguments[6],X=arguments[7],ae=arguments[8]),Tn(P=arguments[0])==="object"&&!d(P)&&"imageData"in P){var ye=P;P=ye.imageData,D=ye.format||D||n,U=ye.x||U||0,z=ye.y||z||0,ee=ye.w||ye.width||ee,le=ye.h||ye.height||le,ue=ye.alias||ue,X=ye.compression||X,ae=ye.rotation||ye.angle||ae}var me=this.internal.getFilters();if(X===void 0&&me.indexOf("FlateEncode")!==-1&&(X="SLOW"),isNaN(U)||isNaN(z))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var B=T.call(this,P,D,ue,X);return w.call(this,U,z,ee,le,B,ae),this};var T=function(P,D,U,z){var ee,le,ue;if(typeof P=="string"&&i(P)===n){P=unescape(P);var X=j(P,!1);(X!==""||(X=t.loadFile(P,!0))!==void 0)&&(P=X)}if(d(P)&&(P=h(P,D)),D=i(P,D),!f(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(((ue=U)==null||ue.length===0)&&(U=function(ae){return typeof ae=="string"||F(ae)?A(ae):F(ae.data)?A(ae.data):null}(P)),(ee=v.call(this,U))||(P instanceof Uint8Array||D==="RGBA"||(le=P,P=k(P)),ee=this["process"+D.toUpperCase()](P,c.call(this),U,function(ae){return ae&&typeof ae=="string"&&(ae=ae.toUpperCase()),ae in t.image_compression?ae:E.NONE}(z),le)),!ee)throw new Error("An unknown error occurred whilst processing the image.");return ee},j=t.__addimage__.convertBase64ToBinaryString=function(P,D){D=typeof D!="boolean"||D;var U,z="";if(typeof P=="string"){var ee;U=(ee=R(P))!==null&&ee!==void 0?ee:P;try{z=D0(U)}catch(le){if(D)throw C(U)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+le.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return z};t.getImageProperties=function(P){var D,U,z="";if(d(P)&&(P=h(P)),typeof P=="string"&&i(P)===n&&((z=j(P,!1))===""&&(z=t.loadFile(P)||""),P=z),U=i(P),!f(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(P instanceof Uint8Array||(P=k(P)),!(D=this["process"+U.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=U,D}})(mt.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};mt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,o,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,c=!1,f=0;f<u.length&&!c;f++)switch((r=u[f]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var d=0;d<u.length;d++){r=u[d];var h=this.internal.pdfEscape,v=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(_.objId),E=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+h(b(r.contents))+")",o+=" /Popup "+w.objId+" 0 R",o+=" /P "+l.objId+" 0 R",o+=" /T ("+h(b(E))+") >>",_.content=o;var A=_.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+A,r.open&&(o+=" /Open true"),o+=" >>",w.content=o,this.internal.write(_.objId,"0 R",w.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var C=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(v(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+C+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var R=this.annotations._nameMap[r.options.name];r.options.pageNumber=R.page,r.options.top=R.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(v(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var F=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+F+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,o,s){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+o)},options:s,type:"link"})},t.textWithLink=function(n,r,i,o){var s,a,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){a=o.maxWidth;var c=this.splitTextToSize(n,a).length;s=Math.ceil(u*c)}else a=l,s=u;return this.text(n,r,i,o),i+=.2*u,o.align==="center"&&(r-=l/2),o.align==="right"&&(r-=l),this.link(r,i-u,a,s,o),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(mt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(_){return e[_.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},a=t.__arabicParser__.isArabicEndLetter=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(_){return s(_)&&i.indexOf(_.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(_){var w=0,b=n,E="",A=0;for(w=0;w<_.length;w+=1)b[_.charCodeAt(w)]!==void 0?(A++,typeof(b=b[_.charCodeAt(w)])=="number"&&(E+=String.fromCharCode(b),b=n,A=0),w===_.length-1&&(b=n,E+=_.charAt(w-(A-1)),w-=A-1,A=0)):(b=n,E+=_.charAt(w-A),w-=A,A=0);return E};t.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&r[_.charCodeAt(0)]!==void 0};var d=t.__arabicParser__.getCorrectForm=function(_,w,b){return s(_)?o(_)===!1?-1:!u(_)||!s(w)&&!s(b)||!s(b)&&a(w)||a(_)&&!s(w)||a(_)&&l(w)||a(_)&&a(w)?0:c(_)&&s(w)&&!a(w)&&s(b)&&u(b)?3:a(_)||!s(b)?1:2:-1},h=function(_){var w=0,b=0,E=0,A="",C="",R="",F=(_=_||"").split("\\s+"),k=[];for(w=0;w<F.length;w+=1){for(k.push(""),b=0;b<F[w].length;b+=1)A=F[w][b],C=F[w][b-1],R=F[w][b+1],s(A)?(E=d(A,C,R),k[w]+=E!==-1?String.fromCharCode(e[A.charCodeAt(0)][E]):A):k[w]+=A;k[w]=f(k[w])}return k.join(" ")},v=t.__arabicParser__.processArabic=t.processArabic=function(){var _,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(w)){var E=0;for(b=[],E=0;E<w.length;E+=1)Array.isArray(w[E])?b.push([h(w[E][0]),w[E][1],w[E][2]]):b.push([h(w[E])]);_=b}else _=h(w);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};t.events.push(["preProcessText",v])}(mt.API),mt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(a){o=a}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(mt.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(_){l=_}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(_){u=_}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(_){c=_}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(_){f=_}});var d=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return d},set:function(_){d=_}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(_){h=_}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(_){v=_}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){r.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),d=u.scaleFactor||this.internal.scaleFactor,h=0,v=0,_=0,w=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var b=u.maxWidth;b>0?typeof l=="string"?l=this.splitTextToSize(l,b):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(A,C){return A.concat(w.splitTextToSize(C,b))},[])):l=Array.isArray(l)?l:[l];for(var E=0;E<l.length;E++)h<(_=this.getStringUnitWidth(l[E],{font:f})*c)&&(h=_);return h!==0&&(v=l.length),{w:h/=d,h:Math.max((v*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/d,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var l;l=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,d=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,h&&d&&(this.printHeaderRow(l.lineNumber,!0),l.y+=d[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,c,f,d){if(r.call(this),!c)throw new Error("No data for PDF table.");var h,v,_,w,b=[],E=[],A=[],C={},R={},F=[],k=[],N=(d=d||{}).autoSize||!1,T=d.printHeaders!==!1,j=d.css&&d.css["font-size"]!==void 0?16*d.css["font-size"]:d.fontSize||12,P=d.margins||Object.assign({width:this.getPageWidth()},e),D=typeof d.padding=="number"?d.padding:3,U=d.headerBackgroundColor||"#c8c8c8",z=d.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=j,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=U,this.internal.__cell__.headerTextColor=z,this.setFontSize(j),f==null)E=b=Object.keys(c[0]),A=b.map(function(){return"left"});else if(Array.isArray(f)&&Tn(f[0])==="object")for(b=f.map(function(ye){return ye.name}),E=f.map(function(ye){return ye.prompt||ye.name||""}),A=f.map(function(ye){return ye.align||"left"}),h=0;h<f.length;h+=1)R[f[h].name]=.7499990551181103*f[h].width;else Array.isArray(f)&&typeof f[0]=="string"&&(E=b=f,A=b.map(function(){return"left"}));if(N||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<b.length;h+=1){for(C[w=b[h]]=c.map(function(ye){return ye[w]}),this.setFont(void 0,"bold"),F.push(this.getTextDimensions(E[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=C[w],this.setFont(void 0,"normal"),_=0;_<v.length;_+=1)F.push(this.getTextDimensions(v[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);R[w]=Math.max.apply(null,F)+D+D,F=[]}if(T){var ee={};for(h=0;h<b.length;h+=1)ee[b[h]]={},ee[b[h]].text=E[h],ee[b[h]].align=A[h];var le=a.call(this,ee,R);k=b.map(function(ye){return new o(l,u,R[ye],le,ee[ye].text,void 0,ee[ye].align)}),this.setTableHeaderRow(k),this.printHeaderRow(1,!1)}var ue=f.reduce(function(ye,me){return ye[me.name]=me.align,ye},{});for(h=0;h<c.length;h+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:h,data:c[h]},this);var X=a.call(this,c[h],R);for(_=0;_<b.length;_+=1){var ae=c[h][b[_]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:h,col:_,data:ae},this),s.call(this,new o(l,u,R[b[_]],X,ae,h+2,ue[b[_]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var a=function(l,u){var c=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,d=this.internal.scaleFactor;return Object.keys(l).map(function(h){var v=l[h];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[h]-c-c)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/d+c+c},this).reduce(function(h,v){return Math.max(h,v)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var d=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){c=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,d.push(c)),c.lineNumber=l;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,c),this.setTextColor(v)}d.length>0&&this.setTableHeaderRow(d),this.setFont(void 0,"normal"),n=!1}}(mt.API);var pq={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},mq=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],iA=hq(mq),gq=[100,200,300,400,500,600,700,800,900],dMe=hq(gq);function kx(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(o){return pq[o=o||"normal"]?o:"normal"}(t.style),r=function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400}(t.weight),i=function(o){return typeof iA[o=o||"normal"]=="number"?o:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function SD(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var hMe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},ED={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function AD(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function TD(t){return t.trimLeft()}function pMe(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function mMe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var u0,ID,PD,xd,c0,CD,ND,kD,Rx=["times"];function RD(t,e,n,r,i){var o=4,s=MD;switch(i){case mt.API.image_compression.FAST:o=1,s=OD;break;case mt.API.image_compression.MEDIUM:o=6,s=LD;break;case mt.API.image_compression.SLOW:o=9,s=DD}t=function(l,u,c,f){for(var d,h=l.length/u,v=new Uint8Array(l.length+h),_=[gMe,OD,MD,LD,DD],w=0;w<h;w+=1){var b=w*u,E=l.subarray(b,b+u);if(f)v.set(f(E,c,d),b+w);else{for(var A=_.length,C=[],R=0;R<A;R+=1)C[R]=_[R](E,c,d);var F=vMe(C.concat());v.set(C[F],b+w)}d=E}return v}(t,e,Math.ceil(n*r/8),s);var a=X5(t,{level:o});return mt.API.__addimage__.arrayBufferToBinaryString(a)}function gMe(t){var e=Array.apply([],t);return e.unshift(0),e}function OD(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var o=t[i-e]||0;r[i+1]=t[i]-o+256&255}return r}function MD(t,e,n){var r=t.length,i=[];i[0]=2;for(var o=0;o<r;o+=1){var s=n&&n[o]||0;i[o+1]=t[o]-s+256&255}return i}function LD(t,e,n){var r=t.length,i=[];i[0]=3;for(var o=0;o<r;o+=1){var s=t[o-e]||0,a=n&&n[o]||0;i[o+1]=t[o]+256-(s+a>>>1)&255}return i}function DD(t,e,n){var r=t.length,i=[];i[0]=4;for(var o=0;o<r;o+=1){var s=yMe(t[o-e]||0,n&&n[o]||0,n&&n[o-e]||0);i[o+1]=t[o]-s+256&255}return i}function yMe(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),o=Math.abs(t+e-n-n);return r<=i&&r<=o?t:i<=o?e:n}function vMe(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function Ox(t,e,n){var r=e*n,i=Math.floor(r/8),o=16-(r-8*i+n),s=(1<<n)-1;return yq(t,i)>>o&s}function FD(t,e,n,r){var i=n*r,o=Math.floor(i/8),s=16-(i-8*o+r),a=(1<<r)-1,l=(e&a)<<s;(function(u,c,f){if(c+1<u.byteLength)u.setUint16(c,f,!1);else{var d=f>>8&255;u.setUint8(c,d)}})(t,o,yq(t,o)&~(a<<s)&65535|l)}function yq(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function wMe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],o=i>>7,s=1<<1+(7&i);t[e++],t[e++];var a=null,l=null;o&&(a=e,l=s,e+=3*s);var u=!0,c=[],f=0,d=null,h=0,v=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,v=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var _=t[e++];f=t[e++]|t[e++]<<8,d=t[e++],1&_||(d=null),h=_>>2&7,e++;break;case 254:for(;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var w=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,E=t[e++]|t[e++]<<8,A=t[e++]|t[e++]<<8,C=t[e++],R=C>>6&1,F=1<<1+(7&C),k=a,N=l,T=!1;C>>7&&(T=!0,k=e,N=F,e+=3*F);var j=e;for(e++;;){var P;if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}c.push({x:w,y:b,width:E,height:A,has_local_palette:T,palette_offset:k,palette_size:N,data_offset:j,data_length:e-j,transparent_index:d,interlaced:!!R,delay:f,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return v},this.frameInfo=function(D){if(D<0||D>=c.length)throw new Error("Frame index out of range.");return c[D]},this.decodeAndBlitFrameBGRA=function(D,U){var z=this.frameInfo(D),ee=z.width*z.height,le=new Uint8Array(ee);UD(t,z.data_offset,le,ee);var ue=z.palette_offset,X=z.transparent_index;X===null&&(X=256);var ae=z.width,ye=n-ae,me=ae,B=4*(z.y*n+z.x),W=4*((z.y+z.height)*n+z.x),ne=B,fe=4*ye;z.interlaced===!0&&(fe+=4*n*7);for(var he=8,we=0,Te=le.length;we<Te;++we){var re=le[we];if(me===0&&(me=ae,(ne+=fe)>=W&&(fe=4*ye+4*n*(he-1),ne=B+(ae+ye)*(he<<1),he>>=1)),re===X)ne+=4;else{var pe=t[ue+3*re],Ce=t[ue+3*re+1],Z=t[ue+3*re+2];U[ne++]=Z,U[ne++]=Ce,U[ne++]=pe,U[ne++]=255}--me}},this.decodeAndBlitFrameRGBA=function(D,U){var z=this.frameInfo(D),ee=z.width*z.height,le=new Uint8Array(ee);UD(t,z.data_offset,le,ee);var ue=z.palette_offset,X=z.transparent_index;X===null&&(X=256);var ae=z.width,ye=n-ae,me=ae,B=4*(z.y*n+z.x),W=4*((z.y+z.height)*n+z.x),ne=B,fe=4*ye;z.interlaced===!0&&(fe+=4*n*7);for(var he=8,we=0,Te=le.length;we<Te;++we){var re=le[we];if(me===0&&(me=ae,(ne+=fe)>=W&&(fe=4*ye+4*n*(he-1),ne=B+(ae+ye)*(he<<1),he>>=1)),re===X)ne+=4;else{var pe=t[ue+3*re],Ce=t[ue+3*re+1],Z=t[ue+3*re+2];U[ne++]=pe,U[ne++]=Ce,U[ne++]=Z,U[ne++]=255}--me}}}function UD(t,e,n,r){for(var i=t[e++],o=1<<i,s=o+1,a=s+1,l=i+1,u=(1<<l)-1,c=0,f=0,d=0,h=t[e++],v=new Int32Array(4096),_=null;;){for(;c<16&&h!==0;)f|=t[e++]<<c,c+=8,h===1?h=t[e++]:--h;if(c<l)break;var w=f&u;if(f>>=l,c-=l,w!==o){if(w===s)break;for(var b=w<a?w:_,E=0,A=b;A>o;)A=v[A]>>8,++E;var C=A;if(d+E+(b!==w?1:0)>r)return void Dn.log("Warning, gif stream longer than expected.");n[d++]=C;var R=d+=E;for(b!==w&&(n[d++]=C),A=b;E--;)A=v[A],n[--R]=255&A,A>>=8;_!==null&&a<4096&&(v[a++]=_<<8|C,a>=u+1&&l<12&&(++l,u=u<<1|1)),_=w}else a=s+1,u=(1<<(l=i+1))-1,_=null}return d!==r&&Dn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Mx(t){var e,n,r,i,o,s=Math.floor,a=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),f=new Array(65535),d=new Array(65535),h=new Array(64),v=new Array(64),_=[],w=0,b=7,E=new Array(64),A=new Array(64),C=new Array(64),R=new Array(256),F=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],N=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],j=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ee=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function le(B,W){for(var ne=0,fe=0,he=new Array,we=1;we<=16;we++){for(var Te=1;Te<=B[we];Te++)he[W[fe]]=[],he[W[fe]][0]=ne,he[W[fe]][1]=we,fe++,ne++;ne*=2}return he}function ue(B){for(var W=B[0],ne=B[1]-1;ne>=0;)W&1<<ne&&(w|=1<<b),ne--,--b<0&&(w==255?(X(255),X(0)):X(w),b=7,w=0)}function X(B){_.push(B)}function ae(B){X(B>>8&255),X(255&B)}function ye(B,W,ne,fe,he){for(var we,Te=he[0],re=he[240],pe=function(Fe,Je){var We,it,ot,Wt,Ft,dt,xt,$t,st,Ct,ht=0;for(st=0;st<8;++st){We=Fe[ht],it=Fe[ht+1],ot=Fe[ht+2],Wt=Fe[ht+3],Ft=Fe[ht+4],dt=Fe[ht+5],xt=Fe[ht+6];var Rn=We+($t=Fe[ht+7]),Yt=We-$t,Ut=it+xt,Lt=it-xt,jn=ot+dt,gt=ot-dt,yn=Wt+Ft,_t=Wt-Ft,It=Rn+yn,vn=Rn-yn,jt=Ut+jn,yt=Ut-jn;Fe[ht]=It+jt,Fe[ht+4]=It-jt;var qt=.707106781*(yt+vn);Fe[ht+2]=vn+qt,Fe[ht+6]=vn-qt;var da=.382683433*((It=_t+gt)-(yt=Lt+Yt)),Ar=.5411961*It+da,ts=1.306562965*yt+da,Pi=.707106781*(jt=gt+Lt),wt=Yt+Pi,Hn=Yt-Pi;Fe[ht+5]=Hn+Ar,Fe[ht+3]=Hn-Ar,Fe[ht+1]=wt+ts,Fe[ht+7]=wt-ts,ht+=8}for(ht=0,st=0;st<8;++st){We=Fe[ht],it=Fe[ht+8],ot=Fe[ht+16],Wt=Fe[ht+24],Ft=Fe[ht+32],dt=Fe[ht+40],xt=Fe[ht+48];var ns=We+($t=Fe[ht+56]),ni=We-$t,ri=it+xt,er=it-xt,Dr=ot+dt,tr=ot-dt,tl=Wt+Ft,ha=Wt-Ft,Ci=ns+tl,Po=ns-tl,Yi=ri+Dr,Ni=ri-Dr;Fe[ht]=Ci+Yi,Fe[ht+32]=Ci-Yi;var Tr=.707106781*(Ni+Po);Fe[ht+16]=Po+Tr,Fe[ht+48]=Po-Tr;var pa=.382683433*((Ci=ha+tr)-(Ni=er+ni)),Co=.5411961*Ci+pa,Ms=1.306562965*Ni+pa,ma=.707106781*(Yi=tr+er),nl=ni+ma,rl=ni-ma;Fe[ht+40]=rl+Co,Fe[ht+24]=rl-Co,Fe[ht+8]=nl+Ms,Fe[ht+56]=nl-Ms,ht++}for(st=0;st<64;++st)Ct=Fe[st]*Je[st],h[st]=Ct>0?Ct+.5|0:Ct-.5|0;return h}(B,W),Ce=0;Ce<64;++Ce)v[k[Ce]]=pe[Ce];var Z=v[0]-ne;ne=v[0],Z==0?ue(fe[0]):(ue(fe[d[we=32767+Z]]),ue(f[we]));for(var Ee=63;Ee>0&&v[Ee]==0;)Ee--;if(Ee==0)return ue(Te),ne;for(var Ne,Y=1;Y<=Ee;){for(var ke=Y;v[Y]==0&&Y<=Ee;)++Y;var Ye=Y-ke;if(Ye>=16){Ne=Ye>>4;for(var Xe=1;Xe<=Ne;++Xe)ue(re);Ye&=15}we=32767+v[Y],ue(he[(Ye<<4)+d[we]]),ue(f[we]),Y++}return Ee!=63&&ue(Te),ne}function me(B){B=Math.min(Math.max(B,1),100),o!=B&&(function(W){for(var ne=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],fe=0;fe<64;fe++){var he=s((ne[fe]*W+50)/100);he=Math.min(Math.max(he,1),255),a[k[fe]]=he}for(var we=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Te=0;Te<64;Te++){var re=s((we[Te]*W+50)/100);re=Math.min(Math.max(re,1),255),l[k[Te]]=re}for(var pe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ce=0,Z=0;Z<8;Z++)for(var Ee=0;Ee<8;Ee++)u[Ce]=1/(a[k[Ce]]*pe[Z]*pe[Ee]*8),c[Ce]=1/(l[k[Ce]]*pe[Z]*pe[Ee]*8),Ce++}(B<50?Math.floor(5e3/B):Math.floor(200-2*B)),o=B)}this.encode=function(B,W){W&&me(W),_=new Array,w=0,b=7,ae(65496),ae(65504),ae(16),X(74),X(70),X(73),X(70),X(0),X(1),X(1),X(0),ae(1),ae(1),X(0),X(0),function(){ae(65499),ae(132),X(0);for(var it=0;it<64;it++)X(a[it]);X(1);for(var ot=0;ot<64;ot++)X(l[ot])}(),function(it,ot){ae(65472),ae(17),X(8),ae(ot),ae(it),X(3),X(1),X(17),X(0),X(2),X(17),X(1),X(3),X(17),X(1)}(B.width,B.height),function(){ae(65476),ae(418),X(0);for(var it=0;it<16;it++)X(N[it+1]);for(var ot=0;ot<=11;ot++)X(T[ot]);X(16);for(var Wt=0;Wt<16;Wt++)X(j[Wt+1]);for(var Ft=0;Ft<=161;Ft++)X(P[Ft]);X(1);for(var dt=0;dt<16;dt++)X(D[dt+1]);for(var xt=0;xt<=11;xt++)X(U[xt]);X(17);for(var $t=0;$t<16;$t++)X(z[$t+1]);for(var st=0;st<=161;st++)X(ee[st])}(),ae(65498),ae(12),X(3),X(1),X(0),X(2),X(17),X(3),X(17),X(0),X(63),X(0);var ne=0,fe=0,he=0;w=0,b=7,this.encode.displayName="_encode_";for(var we,Te,re,pe,Ce,Z,Ee,Ne,Y,ke=B.data,Ye=B.width,Xe=B.height,Fe=4*Ye,Je=0;Je<Xe;){for(we=0;we<Fe;){for(Ce=Fe*Je+we,Ee=-1,Ne=0,Y=0;Y<64;Y++)Z=Ce+(Ne=Y>>3)*Fe+(Ee=4*(7&Y)),Je+Ne>=Xe&&(Z-=Fe*(Je+1+Ne-Xe)),we+Ee>=Fe&&(Z-=we+Ee-Fe+4),Te=ke[Z++],re=ke[Z++],pe=ke[Z++],E[Y]=(F[Te]+F[re+256|0]+F[pe+512|0]>>16)-128,A[Y]=(F[Te+768|0]+F[re+1024|0]+F[pe+1280|0]>>16)-128,C[Y]=(F[Te+1280|0]+F[re+1536|0]+F[pe+1792|0]>>16)-128;ne=ye(E,u,ne,e,r),fe=ye(A,c,fe,n,i),he=ye(C,c,he,n,i),we+=32}Je+=8}if(b>=0){var We=[];We[1]=b+1,We[0]=(1<<b+1)-1,ue(We)}return ae(65497),new Uint8Array(_)},t=t||50,function(){for(var B=String.fromCharCode,W=0;W<256;W++)R[W]=B(W)}(),e=le(N,T),n=le(D,U),r=le(j,P),i=le(z,ee),function(){for(var B=1,W=2,ne=1;ne<=15;ne++){for(var fe=B;fe<W;fe++)d[32767+fe]=ne,f[32767+fe]=[],f[32767+fe][1]=ne,f[32767+fe][0]=fe;for(var he=-(W-1);he<=-B;he++)d[32767+he]=ne,f[32767+he]=[],f[32767+he][1]=ne,f[32767+he][0]=W-1+he;B<<=1,W<<=1}}(),function(){for(var B=0;B<256;B++)F[B]=19595*B,F[B+256|0]=38470*B,F[B+512|0]=7471*B+32768,F[B+768|0]=-11059*B,F[B+1024|0]=-21709*B,F[B+1280|0]=32768*B+8421375,F[B+1536|0]=-27439*B,F[B+1792|0]=-5329*B}(),me(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function qs(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function jD(t){function e(T){if(!T)throw Error("assert :P")}function n(T,j,P){for(var D=0;4>D;D++)if(T[j+D]!=P.charCodeAt(D))return!0;return!1}function r(T,j,P,D,U){for(var z=0;z<U;z++)T[j+z]=P[D+z]}function i(T,j,P,D){for(var U=0;U<D;U++)T[j+U]=P}function o(T){return new Int32Array(T)}function s(T,j){for(var P=[],D=0;D<T;D++)P.push(new j);return P}function a(T,j){var P=[];return function D(U,z,ee){for(var le=ee[z],ue=0;ue<le&&(U.push(ee.length>z+1?[]:new j),!(ee.length<z+1));ue++)D(U[ue],z+1,ee)}(P,0,T),P}var l=function(){var T=this;function j(m,x){for(var O=1<<x-1>>>0;m&O;)O>>>=1;return O?(m&O-1)+O:m}function P(m,x,O,$,H){e(!($%O));do m[x+($-=O)]=H;while(0<$)}function D(m,x,O,$,H){if(e(2328>=H),512>=H)var G=o(512);else if((G=o(H))==null)return 0;return function(K,J,te,oe,ge,Ie){var se,ve,Se=J,Re=1<<te,Ae=o(16),Le=o(16);for(e(ge!=0),e(oe!=null),e(K!=null),e(0<te),ve=0;ve<ge;++ve){if(15<oe[ve])return 0;++Ae[oe[ve]]}if(Ae[0]==ge)return 0;for(Le[1]=0,se=1;15>se;++se){if(Ae[se]>1<<se)return 0;Le[se+1]=Le[se]+Ae[se]}for(ve=0;ve<ge;++ve)se=oe[ve],0<oe[ve]&&(Ie[Le[se]++]=ve);if(Le[15]==1)return(oe=new U).g=0,oe.value=Ie[0],P(K,Se,1,Re,oe),Re;var De,Ve=-1,$e=Re-1,pt=0,nt=1,Bt=1,ct=1<<te;for(ve=0,se=1,ge=2;se<=te;++se,ge<<=1){if(nt+=Bt<<=1,0>(Bt-=Ae[se]))return 0;for(;0<Ae[se];--Ae[se])(oe=new U).g=se,oe.value=Ie[ve++],P(K,Se+pt,ge,ct,oe),pt=j(pt,se)}for(se=te+1,ge=2;15>=se;++se,ge<<=1){if(nt+=Bt<<=1,0>(Bt-=Ae[se]))return 0;for(;0<Ae[se];--Ae[se]){if(oe=new U,(pt&$e)!=Ve){for(Se+=ct,De=1<<(Ve=se)-te;15>Ve&&!(0>=(De-=Ae[Ve]));)++Ve,De<<=1;Re+=ct=1<<(De=Ve-te),K[J+(Ve=pt&$e)].g=De+te,K[J+Ve].value=Se-J-Ve}oe.g=se-te,oe.value=Ie[ve++],P(K,Se+(pt>>te),ge,ct,oe),pt=j(pt,se)}}return nt!=2*Le[15]-1?0:Re}(m,x,O,$,H,G)}function U(){this.value=this.g=0}function z(){this.value=this.g=0}function ee(){this.G=s(5,U),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Fc,z)}function le(m,x,O,$){e(m!=null),e(x!=null),e(2147483648>$),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=x,m.pa=O,m.Jd=x,m.Yc=O+$,m.Zc=4<=$?O+$-4+1:O,Te(m)}function ue(m,x){for(var O=0;0<x--;)O|=pe(m,128)<<x;return O}function X(m,x){var O=ue(m,x);return re(m)?-O:O}function ae(m,x,O,$){var H,G=0;for(e(m!=null),e(x!=null),e(4294967288>$),m.Sb=$,m.Ra=0,m.u=0,m.h=0,4<$&&($=4),H=0;H<$;++H)G+=x[O+H]<<8*H;m.Ra=G,m.bb=$,m.oa=x,m.pa=O}function ye(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<hu-8>>>0,++m.bb,m.u-=8;fe(m)&&(m.h=1,m.u=0)}function me(m,x){if(e(0<=x),!m.h&&x<=Mo){var O=ne(m)&Oo[x];return m.u+=x,ye(m),O}return m.h=1,m.u=0}function B(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function W(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ne(m){return m.Ra>>>(m.u&hu-1)>>>0}function fe(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>hu}function he(m,x){m.u=x,m.h=fe(m)}function we(m){m.u>=cl&&(e(m.u>=cl),ye(m))}function Te(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function re(m){return ue(m,1)}function pe(m,x){var O=m.Ca;0>m.b&&Te(m);var $=m.b,H=O*x>>>8,G=(m.I>>>$>H)+0;for(G?(O-=H,m.I-=H+1<<$>>>0):O=H+1,$=O,H=0;256<=$;)H+=8,$>>=8;return $=7^H+pu[$],m.b-=$,m.Ca=(O<<$)-1,G}function Ce(m,x,O){m[x+0]=O>>24&255,m[x+1]=O>>16&255,m[x+2]=O>>8&255,m[x+3]=255&O}function Z(m,x){return m[x+0]|m[x+1]<<8}function Ee(m,x){return Z(m,x)|m[x+2]<<16}function Ne(m,x){return Z(m,x)|Z(m,x+2)<<16}function Y(m,x){var O=1<<x;return e(m!=null),e(0<x),m.X=o(O),m.X==null?0:(m.Mb=32-x,m.Xa=x,1)}function ke(m,x){e(m!=null),e(x!=null),e(m.Xa==x.Xa),r(x.X,0,m.X,0,1<<x.Xa)}function Ye(){this.X=[],this.Xa=this.Mb=0}function Xe(m,x,O,$){e(O!=null),e($!=null);var H=O[0],G=$[0];return H==0&&(H=(m*G+x/2)/x),G==0&&(G=(x*H+m/2)/m),0>=H||0>=G?0:(O[0]=H,$[0]=G,1)}function Fe(m,x){return m+(1<<x)-1>>>x}function Je(m,x){return((4278255360&m)+(4278255360&x)>>>0&4278255360)+((16711935&m)+(16711935&x)>>>0&16711935)>>>0}function We(m,x){T[x]=function(O,$,H,G,K,J,te){var oe;for(oe=0;oe<K;++oe){var ge=T[m](J[te+oe-1],H,G+oe);J[te+oe]=Je(O[$+oe],ge)}}}function it(){this.ud=this.hd=this.jd=0}function ot(m,x){return((4278124286&(m^x))>>>1)+(m&x)>>>0}function Wt(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function Ft(m,x){return Wt(m+(m-x+.5>>1))}function dt(m,x,O){return Math.abs(x-O)-Math.abs(m-O)}function xt(m,x,O,$,H,G,K){for($=G[K-1],O=0;O<H;++O)G[K+O]=$=Je(m[x+O],$)}function $t(m,x,O,$,H){var G;for(G=0;G<O;++G){var K=m[x+G],J=K>>8&255,te=16711935&(te=(te=16711935&K)+((J<<16)+J));$[H+G]=(4278255360&K)+te>>>0}}function st(m,x){x.jd=255&m,x.hd=m>>8&255,x.ud=m>>16&255}function Ct(m,x,O,$,H,G){var K;for(K=0;K<$;++K){var J=x[O+K],te=J>>>8,oe=J,ge=255&(ge=(ge=J>>>16)+((m.jd<<24>>24)*(te<<24>>24)>>>5));oe=255&(oe=(oe+=(m.hd<<24>>24)*(te<<24>>24)>>>5)+((m.ud<<24>>24)*(ge<<24>>24)>>>5)),H[G+K]=(4278255360&J)+(ge<<16)+oe}}function ht(m,x,O,$,H){T[x]=function(G,K,J,te,oe,ge,Ie,se,ve){for(te=Ie;te<se;++te)for(Ie=0;Ie<ve;++Ie)oe[ge++]=H(J[$(G[K++])])},T[m]=function(G,K,J,te,oe,ge,Ie){var se=8>>G.b,ve=G.Ea,Se=G.K[0],Re=G.w;if(8>se)for(G=(1<<G.b)-1,Re=(1<<se)-1;K<J;++K){var Ae,Le=0;for(Ae=0;Ae<ve;++Ae)Ae&G||(Le=$(te[oe++])),ge[Ie++]=H(Se[Le&Re]),Le>>=se}else T["VP8LMapColor"+O](te,oe,Se,Re,ge,Ie,K,J,ve)}}function Rn(m,x,O,$,H){for(O=x+O;x<O;){var G=m[x++];$[H++]=G>>16&255,$[H++]=G>>8&255,$[H++]=255&G}}function Yt(m,x,O,$,H){for(O=x+O;x<O;){var G=m[x++];$[H++]=G>>16&255,$[H++]=G>>8&255,$[H++]=255&G,$[H++]=G>>24&255}}function Ut(m,x,O,$,H){for(O=x+O;x<O;){var G=(K=m[x++])>>16&240|K>>12&15,K=240&K|K>>28&15;$[H++]=G,$[H++]=K}}function Lt(m,x,O,$,H){for(O=x+O;x<O;){var G=(K=m[x++])>>16&248|K>>13&7,K=K>>5&224|K>>3&31;$[H++]=G,$[H++]=K}}function jn(m,x,O,$,H){for(O=x+O;x<O;){var G=m[x++];$[H++]=255&G,$[H++]=G>>8&255,$[H++]=G>>16&255}}function gt(m,x,O,$,H,G){if(G==0)for(O=x+O;x<O;)Ce($,((G=m[x++])[0]>>24|G[1]>>8&65280|G[2]<<8&16711680|G[3]<<24)>>>0),H+=32;else r($,H,m,x,O)}function yn(m,x){T[x][0]=T[m+"0"],T[x][1]=T[m+"1"],T[x][2]=T[m+"2"],T[x][3]=T[m+"3"],T[x][4]=T[m+"4"],T[x][5]=T[m+"5"],T[x][6]=T[m+"6"],T[x][7]=T[m+"7"],T[x][8]=T[m+"8"],T[x][9]=T[m+"9"],T[x][10]=T[m+"10"],T[x][11]=T[m+"11"],T[x][12]=T[m+"12"],T[x][13]=T[m+"13"],T[x][14]=T[m+"0"],T[x][15]=T[m+"0"]}function _t(m){return m==R2||m==O2||m==ev||m==M2}function It(){this.eb=[],this.size=this.A=this.fb=0}function vn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function jt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new It,this.f.kb=new vn,this.sd=null}function yt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function qt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function da(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function Ar(m,x){var O=m.T,$=x.ba.f.RGBA,H=$.eb,G=$.fb+m.ka*$.A,K=ps[x.ba.S],J=m.y,te=m.O,oe=m.f,ge=m.N,Ie=m.ea,se=m.W,ve=x.cc,Se=x.dc,Re=x.Mc,Ae=x.Nc,Le=m.ka,De=m.ka+m.T,Ve=m.U,$e=Ve+1>>1;for(Le==0?K(J,te,null,null,oe,ge,Ie,se,oe,ge,Ie,se,H,G,null,null,Ve):(K(x.ec,x.fc,J,te,ve,Se,Re,Ae,oe,ge,Ie,se,H,G-$.A,H,G,Ve),++O);Le+2<De;Le+=2)ve=oe,Se=ge,Re=Ie,Ae=se,ge+=m.Rc,se+=m.Rc,G+=2*$.A,K(J,(te+=2*m.fa)-m.fa,J,te,ve,Se,Re,Ae,oe,ge,Ie,se,H,G-$.A,H,G,Ve);return te+=m.fa,m.j+De<m.o?(r(x.ec,x.fc,J,te,Ve),r(x.cc,x.dc,oe,ge,$e),r(x.Mc,x.Nc,Ie,se,$e),O--):1&De||K(J,te,null,null,oe,ge,Ie,se,oe,ge,Ie,se,H,G+$.A,null,null,Ve),O}function ts(m,x,O){var $=m.F,H=[m.J];if($!=null){var G=m.U,K=x.ba.S,J=K==Zy||K==ev;x=x.ba.f.RGBA;var te=[0],oe=m.ka;te[0]=m.T,m.Kb&&(oe==0?--te[0]:(--oe,H[0]-=m.width),m.j+m.ka+m.T==m.o&&(te[0]=m.o-m.j-oe));var ge=x.eb;oe=x.fb+oe*x.A,m=MP($,H[0],m.width,G,te,ge,oe+(J?0:3),x.A),e(O==te),m&&_t(K)&&Bp(ge,oe,J,G,te,x.A)}return 0}function Pi(m){var x=m.ma,O=x.ba.S,$=11>O,H=O==Xy||O==Qy||O==Zy||O==k2||O==12||_t(O);if(x.memory=null,x.Ib=null,x.Jb=null,x.Nd=null,!Op(x.Oa,m,H?11:12))return 0;if(H&&_t(O)&&fs(),m.da)alert("todo:use_scaling");else{if($){if(x.Ib=da,m.Kb){if(O=m.U+1>>1,x.memory=o(m.U+2*O),x.memory==null)return 0;x.ec=x.memory,x.fc=0,x.cc=x.ec,x.dc=x.fc+m.U,x.Mc=x.cc,x.Nc=x.dc+O,x.Ib=Ar,fs()}}else alert("todo:EmitYUV");H&&(x.Jb=ts,$&&po())}if($&&!JP){for(m=0;256>m;++m)uz[m]=89858*(m-128)+nv>>tv,dz[m]=-22014*(m-128)+nv,fz[m]=-45773*(m-128),cz[m]=113618*(m-128)+nv>>tv;for(m=qp;m<F2;++m)x=76283*(m-16)+nv>>tv,hz[m-qp]=fo(x,255),pz[m-qp]=fo(x+8>>4,15);JP=1}return 1}function wt(m){var x=m.ma,O=m.U,$=m.T;return e(!(1&m.ka)),0>=O||0>=$?0:(O=x.Ib(m,x),x.Jb!=null&&x.Jb(m,x,O),x.Dc+=O,1)}function Hn(m){m.ma.memory=null}function ns(m,x,O,$){return me(m,8)!=47?0:(x[0]=me(m,14)+1,O[0]=me(m,14)+1,$[0]=me(m,1),me(m,3)!=0?0:!m.h)}function ni(m,x){if(4>m)return m+1;var O=m-2>>1;return(2+(1&m)<<O)+me(x,O)+1}function ri(m,x){return 120<x?x-120:1<=(O=((O=Yq[x-1])>>4)*m+(8-(15&O)))?O:1;var O}function er(m,x,O){var $=ne(O),H=m[x+=255&$].g-8;return 0<H&&(he(O,O.u+8),$=ne(O),x+=m[x].value,x+=$&(1<<H)-1),he(O,O.u+m[x].g),m[x].value}function Dr(m,x,O){return O.g+=m.g,O.value+=m.value<<x>>>0,e(8>=O.g),m.g}function tr(m,x,O){var $=m.xc;return e((x=$==0?0:m.vc[m.md*(O>>$)+(x>>$)])<m.Wb),m.Ya[x]}function tl(m,x,O,$){var H=m.ab,G=m.c*x,K=m.C;x=K+x;var J=O,te=$;for($=m.Ta,O=m.Ua;0<H--;){var oe=m.gc[H],ge=K,Ie=x,se=J,ve=te,Se=(te=$,J=O,oe.Ea);switch(e(ge<Ie),e(Ie<=oe.nc),oe.hc){case 2:Ir(se,ve,(Ie-ge)*Se,te,J);break;case 0:var Re=ge,Ae=Ie,Le=te,De=J,Ve=(ct=oe).Ea;Re==0&&(Lp(se,ve,null,null,1,Le,De),xt(se,ve+1,0,0,Ve-1,Le,De+1),ve+=Ve,De+=Ve,++Re);for(var $e=1<<ct.b,pt=$e-1,nt=Fe(Ve,ct.b),Bt=ct.K,ct=ct.w+(Re>>ct.b)*nt;Re<Ae;){var en=Bt,Gr=ct,Vt=1;for(fd(se,ve,Le,De-Ve,1,Le,De);Vt<Ve;){var ft=(Vt&~pt)+$e;ft>Ve&&(ft=Ve),(0,Fp[en[Gr++]>>8&15])(se,ve+ +Vt,Le,De+Vt-Ve,ft-Vt,Le,De+Vt),Vt=ft}ve+=Ve,De+=Ve,++Re&pt||(ct+=nt)}Ie!=oe.nc&&r(te,J-Se,te,J+(Ie-ge-1)*Se,Se);break;case 1:for(Se=se,Ae=ve,Ve=(se=oe.Ea)-(De=se&~(Le=(ve=1<<oe.b)-1)),Re=Fe(se,oe.b),$e=oe.K,oe=oe.w+(ge>>oe.b)*Re;ge<Ie;){for(pt=$e,nt=oe,Bt=new it,ct=Ae+De,en=Ae+se;Ae<ct;)st(pt[nt++],Bt),Up(Bt,Se,Ae,ve,te,J),Ae+=ve,J+=ve;Ae<en&&(st(pt[nt++],Bt),Up(Bt,Se,Ae,Ve,te,J),Ae+=Ve,J+=Ve),++ge&Le||(oe+=Re)}break;case 3:if(se==te&&ve==J&&0<oe.b){for(Ae=te,se=Se=J+(Ie-ge)*Se-(De=(Ie-ge)*Fe(oe.Ea,oe.b)),ve=te,Le=J,Re=[],De=(Ve=De)-1;0<=De;--De)Re[De]=ve[Le+De];for(De=Ve-1;0<=De;--De)Ae[se+De]=Re[De];Wy(oe,ge,Ie,te,Se,te,J)}else Wy(oe,ge,Ie,se,ve,te,J)}J=$,te=O}te!=O&&r($,O,J,te,G)}function ha(m,x){var O=m.V,$=m.Ba+m.c*m.C,H=x-m.C;if(e(x<=m.l.o),e(16>=H),0<H){var G=m.l,K=m.Ta,J=m.Ua,te=G.width;if(tl(m,H,O,$),H=J=[J],e((O=m.C)<($=x)),e(G.v<G.va),$>G.o&&($=G.o),O<G.j){var oe=G.j-O;O=G.j,H[0]+=oe*te}if(O>=$?O=0:(H[0]+=4*G.v,G.ka=O-G.j,G.U=G.va-G.v,G.T=$-O,O=1),O){if(J=J[0],11>(O=m.ca).S){var ge=O.f.RGBA,Ie=($=O.S,H=G.U,G=G.T,oe=ge.eb,ge.A),se=G;for(ge=ge.fb+m.Ma*ge.A;0<se--;){var ve=K,Se=J,Re=H,Ae=oe,Le=ge;switch($){case Jy:jp(ve,Se,Re,Ae,Le);break;case Xy:mu(ve,Se,Re,Ae,Le);break;case R2:mu(ve,Se,Re,Ae,Le),Bp(Ae,Le,0,Re,1,0);break;case BP:Uc(ve,Se,Re,Ae,Le);break;case Qy:gt(ve,Se,Re,Ae,Le,1);break;case O2:gt(ve,Se,Re,Ae,Le,1),Bp(Ae,Le,0,Re,1,0);break;case Zy:gt(ve,Se,Re,Ae,Le,0);break;case ev:gt(ve,Se,Re,Ae,Le,0),Bp(Ae,Le,1,Re,1,0);break;case k2:gu(ve,Se,Re,Ae,Le);break;case M2:gu(ve,Se,Re,Ae,Le),OP(Ae,Le,Re,1,0);break;case VP:yu(ve,Se,Re,Ae,Le);break;default:e(0)}J+=te,ge+=Ie}m.Ma+=G}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=O.height)}}m.C=x,e(m.C<=m.i)}function Ci(m){var x;if(0<m.ua)return 0;for(x=0;x<m.Wb;++x){var O=m.Ya[x].G,$=m.Ya[x].H;if(0<O[1][$[1]+0].g||0<O[2][$[2]+0].g||0<O[3][$[3]+0].g)return 0}return 1}function Po(m,x,O,$,H,G){if(m.Z!=0){var K=m.qd,J=m.rd;for(e(_u[m.Z]!=null);x<O;++x)_u[m.Z](K,J,$,H,$,H,G),K=$,J=H,H+=G;m.qd=K,m.rd=J}}function Yi(m,x){var O=m.l.ma,$=O.Z==0||O.Z==1?m.l.j:m.C;if($=m.C<$?$:m.C,e(x<=m.l.o),x>$){var H=m.l.width,G=O.ca,K=O.tb+H*$,J=m.V,te=m.Ba+m.c*$,oe=m.gc;e(m.ab==1),e(oe[0].hc==3),Sa(oe[0],$,x,J,te,G,K),Po(O,$,x,G,K,H)}m.C=m.Ma=x}function Ni(m,x,O,$,H,G,K){var J=m.$/$,te=m.$%$,oe=m.m,ge=m.s,Ie=O+m.$,se=Ie;H=O+$*H;var ve=O+$*G,Se=280+ge.ua,Re=m.Pb?J:16777216,Ae=0<ge.ua?ge.Wa:null,Le=ge.wc,De=Ie<ve?tr(ge,te,J):null;e(m.C<G),e(ve<=H);var Ve=!1;e:for(;;){for(;Ve||Ie<ve;){var $e=0;if(J>=Re){var pt=Ie-O;e((Re=m).Pb),Re.wd=Re.m,Re.xd=pt,0<Re.s.ua&&ke(Re.s.Wa,Re.s.vb),Re=J+Xq}if(te&Le||(De=tr(ge,te,J)),e(De!=null),De.Qb&&(x[Ie]=De.qb,Ve=!0),!Ve)if(we(oe),De.jc){$e=oe,pt=x;var nt=Ie,Bt=De.pd[ne($e)&Fc-1];e(De.jc),256>Bt.g?(he($e,$e.u+Bt.g),pt[nt]=Bt.value,$e=0):(he($e,$e.u+Bt.g-256),e(256<=Bt.value),$e=Bt.value),$e==0&&(Ve=!0)}else $e=er(De.G[0],De.H[0],oe);if(oe.h)break;if(Ve||256>$e){if(!Ve)if(De.nd)x[Ie]=(De.qb|$e<<8)>>>0;else{if(we(oe),Ve=er(De.G[1],De.H[1],oe),we(oe),pt=er(De.G[2],De.H[2],oe),nt=er(De.G[3],De.H[3],oe),oe.h)break;x[Ie]=(nt<<24|Ve<<16|$e<<8|pt)>>>0}if(Ve=!1,++Ie,++te>=$&&(te=0,++J,K!=null&&J<=G&&!(J%16)&&K(m,J),Ae!=null))for(;se<Ie;)$e=x[se++],Ae.X[(506832829*$e&4294967295)>>>Ae.Mb]=$e}else if(280>$e){if($e=ni($e-256,oe),pt=er(De.G[4],De.H[4],oe),we(oe),pt=ri($,pt=ni(pt,oe)),oe.h)break;if(Ie-O<pt||H-Ie<$e)break e;for(nt=0;nt<$e;++nt)x[Ie+nt]=x[Ie+nt-pt];for(Ie+=$e,te+=$e;te>=$;)te-=$,++J,K!=null&&J<=G&&!(J%16)&&K(m,J);if(e(Ie<=H),te&Le&&(De=tr(ge,te,J)),Ae!=null)for(;se<Ie;)$e=x[se++],Ae.X[(506832829*$e&4294967295)>>>Ae.Mb]=$e}else{if(!($e<Se))break e;for(Ve=$e-280,e(Ae!=null);se<Ie;)$e=x[se++],Ae.X[(506832829*$e&4294967295)>>>Ae.Mb]=$e;$e=Ie,e(!(Ve>>>(pt=Ae).Xa)),x[$e]=pt.X[Ve],Ve=!0}Ve||e(oe.h==fe(oe))}if(m.Pb&&oe.h&&Ie<H)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&ke(m.s.vb,m.s.Wa);else{if(oe.h)break e;K!=null&&K(m,J>G?G:J),m.a=0,m.$=Ie-O}return 1}return m.a=3,0}function Tr(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var x=m.Wa;x!=null&&(x.X=null),m.vb=null,e(m!=null)}function pa(){var m=new St;return m==null?null:(m.a=0,m.xb=HP,yn("Predictor","VP8LPredictors"),yn("Predictor","VP8LPredictors_C"),yn("PredictorAdd","VP8LPredictorsAdd"),yn("PredictorAdd","VP8LPredictorsAdd_C"),Ir=$t,Up=Ct,jp=Rn,mu=Yt,gu=Ut,yu=Lt,Uc=jn,T.VP8LMapColor32b=xa,T.VP8LMapColor8b=Dp,m)}function Co(m,x,O,$,H){var G=1,K=[m],J=[x],te=$.m,oe=$.s,ge=null,Ie=0;e:for(;;){if(O)for(;G&&me(te,1);){var se=K,ve=J,Se=$,Re=1,Ae=Se.m,Le=Se.gc[Se.ab],De=me(Ae,2);if(Se.Oc&1<<De)G=0;else{switch(Se.Oc|=1<<De,Le.hc=De,Le.Ea=se[0],Le.nc=ve[0],Le.K=[null],++Se.ab,e(4>=Se.ab),De){case 0:case 1:Le.b=me(Ae,3)+2,Re=Co(Fe(Le.Ea,Le.b),Fe(Le.nc,Le.b),0,Se,Le.K),Le.K=Le.K[0];break;case 3:var Ve,$e=me(Ae,8)+1,pt=16<$e?0:4<$e?1:2<$e?2:3;if(se[0]=Fe(Le.Ea,pt),Le.b=pt,Ve=Re=Co($e,1,0,Se,Le.K)){var nt,Bt=$e,ct=Le,en=1<<(8>>ct.b),Gr=o(en);if(Gr==null)Ve=0;else{var Vt=ct.K[0],ft=ct.w;for(Gr[0]=ct.K[0][0],nt=1;nt<1*Bt;++nt)Gr[nt]=Je(Vt[ft+nt],Gr[nt-1]);for(;nt<4*en;++nt)Gr[nt]=0;ct.K[0]=null,ct.K[0]=Gr,Ve=1}}Re=Ve;break;case 2:break;default:e(0)}G=Re}}if(K=K[0],J=J[0],G&&me(te,1)&&!(G=1<=(Ie=me(te,4))&&11>=Ie)){$.a=3;break e}var Ge;if(Ge=G)t:{var Cr,Dt,nn,Gn=$,gi=K,Qi=J,yr=Ie,Ri=O,Zi=Gn.m,Wr=Gn.s,on=[null],xn=1,vr=0,Sn=Jq[yr];n:for(;;){if(Ri&&me(Zi,1)){var yi=me(Zi,3)+2,js=Fe(gi,yi),Nr=Fe(Qi,yi),mo=js*Nr;if(!Co(js,Nr,0,Gn,on))break n;for(on=on[0],Wr.xc=yi,Cr=0;Cr<mo;++Cr){var Ln=on[Cr]>>8&65535;on[Cr]=Ln,Ln>=xn&&(xn=Ln+1)}}if(Zi.h)break n;for(Dt=0;5>Dt;++Dt){var Kr=qP[Dt];!Dt&&0<yr&&(Kr+=1<<yr),vr<Kr&&(vr=Kr)}var Do=s(xn*Sn,U),eo=xn,Fo=s(eo,ee);if(Fo==null)var Uo=null;else e(65536>=eo),Uo=Fo;var go=o(vr);if(Uo==null||go==null||Do==null){Gn.a=1;break n}var jo=Do;for(Cr=nn=0;Cr<xn;++Cr){var Bn=Uo[Cr],$o=Bn.G,$s=Bn.H,$c=0,hl=1,vi=0;for(Dt=0;5>Dt;++Dt){Kr=qP[Dt],$o[Dt]=jo,$s[Dt]=nn,!Dt&&0<yr&&(Kr+=1<<yr);i:{var iv,U2=Kr,ov=Gn,zp=go,yz=jo,vz=nn,j2=0,bu=ov.m,wz=me(bu,1);if(i(zp,0,0,U2),wz){var _z=me(bu,1)+1,bz=me(bu,1),ZP=me(bu,bz==0?1:8);zp[ZP]=1,_z==2&&(zp[ZP=me(bu,8)]=1);var sv=1}else{var eC=o(19),tC=me(bu,4)+4;if(19<tC){ov.a=3;var av=0;break i}for(iv=0;iv<tC;++iv)eC[Kq[iv]]=me(bu,3);var $2=void 0,Hp=void 0,nC=ov,xz=eC,lv=U2,rC=zp,B2=0,xu=nC.m,iC=8,oC=s(128,U);r:for(;D(oC,0,7,xz,19);){if(me(xu,1)){var Sz=2+2*me(xu,3);if(($2=2+me(xu,Sz))>lv)break r}else $2=lv;for(Hp=0;Hp<lv&&$2--;){we(xu);var sC=oC[0+(127&ne(xu))];he(xu,xu.u+sC.g);var hd=sC.value;if(16>hd)rC[Hp++]=hd,hd!=0&&(iC=hd);else{var Ez=hd==16,aC=hd-16,Az=Gq[aC],lC=me(xu,Hq[aC])+Az;if(Hp+lC>lv)break r;for(var Tz=Ez?iC:0;0<lC--;)rC[Hp++]=Tz}}B2=1;break r}B2||(nC.a=3),sv=B2}(sv=sv&&!bu.h)&&(j2=D(yz,vz,8,zp,U2)),sv&&j2!=0?av=j2:(ov.a=3,av=0)}if(av==0)break n;if(hl&&Wq[Dt]==1&&(hl=jo[nn].g==0),$c+=jo[nn].g,nn+=av,3>=Dt){var Gp,V2=go[0];for(Gp=1;Gp<Kr;++Gp)go[Gp]>V2&&(V2=go[Gp]);vi+=V2}}if(Bn.nd=hl,Bn.Qb=0,hl&&(Bn.qb=($o[3][$s[3]+0].value<<24|$o[1][$s[1]+0].value<<16|$o[2][$s[2]+0].value)>>>0,$c==0&&256>$o[0][$s[0]+0].value&&(Bn.Qb=1,Bn.qb+=$o[0][$s[0]+0].value<<8)),Bn.jc=!Bn.Qb&&6>vi,Bn.jc){var uv,pl=Bn;for(uv=0;uv<Fc;++uv){var Su=uv,Eu=pl.pd[Su],cv=pl.G[0][pl.H[0]+Su];256<=cv.value?(Eu.g=cv.g+256,Eu.value=cv.value):(Eu.g=0,Eu.value=0,Su>>=Dr(cv,8,Eu),Su>>=Dr(pl.G[1][pl.H[1]+Su],16,Eu),Su>>=Dr(pl.G[2][pl.H[2]+Su],0,Eu),Dr(pl.G[3][pl.H[3]+Su],24,Eu))}}}Wr.vc=on,Wr.Wb=xn,Wr.Ya=Uo,Wr.yc=Do,Ge=1;break t}Ge=0}if(!(G=Ge)){$.a=3;break e}if(0<Ie){if(oe.ua=1<<Ie,!Y(oe.Wa,Ie)){$.a=1,G=0;break e}}else oe.ua=0;var q2=$,uC=K,Iz=J,z2=q2.s,H2=z2.xc;if(q2.c=uC,q2.i=Iz,z2.md=Fe(uC,H2),z2.wc=H2==0?-1:(1<<H2)-1,O){$.xb=iz;break e}if((ge=o(K*J))==null){$.a=1,G=0;break e}G=(G=Ni($,ge,0,K,J,J,null))&&!te.h;break e}return G?(H!=null?H[0]=ge:(e(ge==null),e(O)),$.$=0,O||Tr(oe)):Tr(oe),G}function Ms(m,x){var O=m.c*m.i,$=O+x+16*x;return e(m.c<=x),m.V=o($),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+O+x,1)}function ma(m,x){var O=m.C,$=x-O,H=m.V,G=m.Ba+m.c*O;for(e(x<=m.l.o);0<$;){var K=16<$?16:$,J=m.l.ma,te=m.l.width,oe=te*K,ge=J.ca,Ie=J.tb+te*O,se=m.Ta,ve=m.Ua;tl(m,K,H,G),LP(se,ve,ge,Ie,oe),Po(J,O,O+K,ge,Ie,te),$-=K,H+=K*m.c,O+=K}e(O==x),m.C=m.Ma=x}function nl(){this.ub=this.yd=this.td=this.Rb=0}function rl(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Tp(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function ga(){this.Yb=function(){var m=[];return function x(O,$,H){for(var G=H[$],K=0;K<G&&(O.push(H.length>$+1?[]:0),!(H.length<$+1));K++)x(O[K],$+1,H)}(m,0,[3,11]),m}()}function Tc(){this.jb=o(3),this.Wc=a([4,8],ga),this.Xc=a([4,17],ga)}function iu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function ii(){this.ld=this.La=this.dd=this.tc=0}function No(){this.Na=this.la=0}function ou(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ic(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Pc(){this.uc=this.M=this.Nb=0,this.wa=Array(new ii),this.Y=0,this.ya=Array(new Ic),this.aa=0,this.l=new ya}function Cc(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Nc(){this.cb=this.a=0,this.sc="",this.m=new B,this.Od=new nl,this.Kc=new rl,this.ed=new iu,this.Qa=new Tp,this.Ic=this.$c=this.Aa=0,this.D=new Pc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,B),this.ia=0,this.pb=s(4,ou),this.Pa=new Tc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Cc),this.Hd=0,this.rb=Array(new No),this.sb=0,this.wa=Array(new ii),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ic),this.L=this.aa=0,this.gd=a([4,2],ii),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function fo(m,x){return 0>m?0:m>x?x:m}function ya(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function rd(){var m=new Nc;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,Vp||(Vp=il)),m}function sr(m,x,O){return m.a==0&&(m.a=x,m.sc=O,m.cb=0),0}function id(m,x,O){return 3<=O&&m[x+0]==157&&m[x+1]==1&&m[x+2]==42}function rs(m,x){if(m==null)return 0;if(m.a=0,m.sc="OK",x==null)return sr(m,2,"null VP8Io passed to VP8GetHeaders()");var O=x.data,$=x.w,H=x.ha;if(4>H)return sr(m,7,"Truncated header.");var G=O[$+0]|O[$+1]<<8|O[$+2]<<16,K=m.Od;if(K.Rb=!(1&G),K.td=G>>1&7,K.yd=G>>4&1,K.ub=G>>5,3<K.td)return sr(m,3,"Incorrect keyframe parameters.");if(!K.yd)return sr(m,4,"Frame not displayable.");$+=3,H-=3;var J=m.Kc;if(K.Rb){if(7>H)return sr(m,7,"cannot parse picture header");if(!id(O,$,H))return sr(m,3,"Bad code word");J.c=16383&(O[$+4]<<8|O[$+3]),J.Td=O[$+4]>>6,J.i=16383&(O[$+6]<<8|O[$+5]),J.Ud=O[$+6]>>6,$+=7,H-=7,m.za=J.c+15>>4,m.Ub=J.i+15>>4,x.width=J.c,x.height=J.i,x.Da=0,x.j=0,x.v=0,x.va=x.width,x.o=x.height,x.da=0,x.ib=x.width,x.hb=x.height,x.U=x.width,x.T=x.height,i((G=m.Pa).jb,0,255,G.jb.length),e((G=m.Qa)!=null),G.Cb=0,G.Bb=0,G.Fb=1,i(G.Zb,0,0,G.Zb.length),i(G.Lb,0,0,G.Lb)}if(K.ub>H)return sr(m,7,"bad partition length");le(G=m.m,O,$,K.ub),$+=K.ub,H-=K.ub,K.Rb&&(J.Ld=re(G),J.Kd=re(G)),J=m.Qa;var te,oe=m.Pa;if(e(G!=null),e(J!=null),J.Cb=re(G),J.Cb){if(J.Bb=re(G),re(G)){for(J.Fb=re(G),te=0;4>te;++te)J.Zb[te]=re(G)?X(G,7):0;for(te=0;4>te;++te)J.Lb[te]=re(G)?X(G,6):0}if(J.Bb)for(te=0;3>te;++te)oe.jb[te]=re(G)?ue(G,8):255}else J.Bb=0;if(G.Ka)return sr(m,3,"cannot parse segment header");if((J=m.ed).zd=re(G),J.Tb=ue(G,6),J.wb=ue(G,3),J.Pc=re(G),J.Pc&&re(G)){for(oe=0;4>oe;++oe)re(G)&&(J.vd[oe]=X(G,6));for(oe=0;4>oe;++oe)re(G)&&(J.od[oe]=X(G,6))}if(m.L=J.Tb==0?0:J.zd?1:2,G.Ka)return sr(m,3,"cannot parse filter header");var ge=H;if(H=te=$,$=te+ge,J=ge,m.Xb=(1<<ue(m.m,2))-1,ge<3*(oe=m.Xb))O=7;else{for(te+=3*oe,J-=3*oe,ge=0;ge<oe;++ge){var Ie=O[H+0]|O[H+1]<<8|O[H+2]<<16;Ie>J&&(Ie=J),le(m.Jc[+ge],O,te,Ie),te+=Ie,J-=Ie,H+=3}le(m.Jc[+oe],O,te,J),O=te<$?0:5}if(O!=0)return sr(m,O,"cannot parse partitions");for(O=ue(te=m.m,7),H=re(te)?X(te,4):0,$=re(te)?X(te,4):0,J=re(te)?X(te,4):0,oe=re(te)?X(te,4):0,te=re(te)?X(te,4):0,ge=m.Qa,Ie=0;4>Ie;++Ie){if(ge.Cb){var se=ge.Zb[Ie];ge.Fb||(se+=O)}else{if(0<Ie){m.pb[Ie]=m.pb[0];continue}se=O}var ve=m.pb[Ie];ve.Sc[0]=L2[fo(se+H,127)],ve.Sc[1]=D2[fo(se+0,127)],ve.Eb[0]=2*L2[fo(se+$,127)],ve.Eb[1]=101581*D2[fo(se+J,127)]>>16,8>ve.Eb[1]&&(ve.Eb[1]=8),ve.Qc[0]=L2[fo(se+oe,117)],ve.Qc[1]=D2[fo(se+te,127)],ve.lc=se+te}if(!K.Rb)return sr(m,4,"Not a key frame.");for(re(G),K=m.Pa,O=0;4>O;++O){for(H=0;8>H;++H)for($=0;3>$;++$)for(J=0;11>J;++J)oe=pe(G,nz[O][H][$][J])?ue(G,8):ez[O][H][$][J],K.Wc[O][H].Yb[$][J]=oe;for(H=0;17>H;++H)K.Xc[O][H]=K.Wc[O][rz[H]]}return m.kc=re(G),m.kc&&(m.Bd=ue(G,8)),m.cb=1}function il(m,x,O,$,H,G,K){var J=x[H].Yb[O];for(O=0;16>H;++H){if(!pe(m,J[O+0]))return H;for(;!pe(m,J[O+1]);)if(J=x[++H].Yb[0],O=0,H==16)return 16;var te=x[H+1].Yb;if(pe(m,J[O+2])){var oe=m,ge=0;if(pe(oe,(se=J)[(Ie=O)+3]))if(pe(oe,se[Ie+6])){for(J=0,Ie=2*(ge=pe(oe,se[Ie+8]))+(se=pe(oe,se[Ie+9+ge])),ge=0,se=Qq[Ie];se[J];++J)ge+=ge+pe(oe,se[J]);ge+=3+(8<<Ie)}else pe(oe,se[Ie+7])?(ge=7+2*pe(oe,165),ge+=pe(oe,145)):ge=5+pe(oe,159);else ge=pe(oe,se[Ie+4])?3+pe(oe,se[Ie+5]):2;J=te[2]}else ge=1,J=te[1];te=K+Zq[H],0>(oe=m).b&&Te(oe);var Ie,se=oe.b,ve=(Ie=oe.Ca>>1)-(oe.I>>se)>>31;--oe.b,oe.Ca+=ve,oe.Ca|=1,oe.I-=(Ie+1&ve)<<se,G[te]=((ge^ve)-ve)*$[(0<H)+0]}return 16}function kc(m){var x=m.rb[m.sb-1];x.la=0,x.Na=0,i(m.zc,0,0,m.zc.length),m.ja=0}function ho(m,x,O,$,H){H=m[x+O+32*$]+(H>>3),m[x+O+32*$]=-256&H?0>H?0:255:H}function On(m,x,O,$,H,G){ho(m,x,0,O,$+H),ho(m,x,1,O,$+G),ho(m,x,2,O,$-G),ho(m,x,3,O,$-H)}function zr(m){return(20091*m>>16)+m}function ol(m,x,O,$){var H,G=0,K=o(16);for(H=0;4>H;++H){var J=m[x+0]+m[x+8],te=m[x+0]-m[x+8],oe=(35468*m[x+4]>>16)-zr(m[x+12]),ge=zr(m[x+4])+(35468*m[x+12]>>16);K[G+0]=J+ge,K[G+1]=te+oe,K[G+2]=te-oe,K[G+3]=J-ge,G+=4,x++}for(H=G=0;4>H;++H)J=(m=K[G+0]+4)+K[G+8],te=m-K[G+8],oe=(35468*K[G+4]>>16)-zr(K[G+12]),ho(O,$,0,0,J+(ge=zr(K[G+4])+(35468*K[G+12]>>16))),ho(O,$,1,0,te+oe),ho(O,$,2,0,te-oe),ho(O,$,3,0,J-ge),G++,$+=32}function su(m,x,O,$){var H=m[x+0]+4,G=35468*m[x+4]>>16,K=zr(m[x+4]),J=35468*m[x+1]>>16;On(O,$,0,H+K,m=zr(m[x+1]),J),On(O,$,1,H+G,m,J),On(O,$,2,H-G,m,J),On(O,$,3,H-K,m,J)}function od(m,x,O,$,H){ol(m,x,O,$),H&&ol(m,x+16,O,$+4)}function Jt(m,x,O,$){jc(m,x+0,O,$,1),jc(m,x+32,O,$+128,1)}function sl(m,x,O,$){var H;for(m=m[x+0]+4,H=0;4>H;++H)for(x=0;4>x;++x)ho(O,$,x,H,m)}function va(m,x,O,$){m[x+0]&&wn(m,x+0,O,$),m[x+16]&&wn(m,x+16,O,$+4),m[x+32]&&wn(m,x+32,O,$+128),m[x+48]&&wn(m,x+48,O,$+128+4)}function is(m,x,O,$){var H,G=o(16);for(H=0;4>H;++H){var K=m[x+0+H]+m[x+12+H],J=m[x+4+H]+m[x+8+H],te=m[x+4+H]-m[x+8+H],oe=m[x+0+H]-m[x+12+H];G[0+H]=K+J,G[8+H]=K-J,G[4+H]=oe+te,G[12+H]=oe-te}for(H=0;4>H;++H)K=(m=G[0+4*H]+3)+G[3+4*H],J=G[1+4*H]+G[2+4*H],te=G[1+4*H]-G[2+4*H],oe=m-G[3+4*H],O[$+0]=K+J>>3,O[$+16]=oe+te>>3,O[$+32]=K-J>>3,O[$+48]=oe-te>>3,$+=64}function al(m,x,O){var $,H=x-32,G=Lo,K=255-m[H-1];for($=0;$<O;++$){var J,te=G,oe=K+m[x-1];for(J=0;J<O;++J)m[x+J]=te[oe+m[H+J]];x+=32}}function sd(m,x){al(m,x,4)}function Ip(m,x){al(m,x,8)}function Pp(m,x){al(m,x,16)}function Rc(m,x){var O;for(O=0;16>O;++O)r(m,x+32*O,m,x-32,16)}function ad(m,x){var O;for(O=16;0<O;--O)i(m,x,m[x-1],16),x+=32}function pi(m,x,O){var $;for($=0;16>$;++$)i(x,O+32*$,m,16)}function os(m,x){var O,$=16;for(O=0;16>O;++O)$+=m[x-1+32*O]+m[x+O-32];pi($>>5,m,x)}function wa(m,x){var O,$=8;for(O=0;16>O;++O)$+=m[x-1+32*O];pi($>>4,m,x)}function au(m,x){var O,$=8;for(O=0;16>O;++O)$+=m[x+O-32];pi($>>4,m,x)}function ld(m,x){pi(128,m,x)}function bt(m,x,O){return m+2*x+O+2>>2}function Cp(m,x){var O,$=x-32;for($=new Uint8Array([bt(m[$-1],m[$+0],m[$+1]),bt(m[$+0],m[$+1],m[$+2]),bt(m[$+1],m[$+2],m[$+3]),bt(m[$+2],m[$+3],m[$+4])]),O=0;4>O;++O)r(m,x+32*O,$,0,$.length)}function Np(m,x){var O=m[x-1],$=m[x-1+32],H=m[x-1+64],G=m[x-1+96];Ce(m,x+0,16843009*bt(m[x-1-32],O,$)),Ce(m,x+32,16843009*bt(O,$,H)),Ce(m,x+64,16843009*bt($,H,G)),Ce(m,x+96,16843009*bt(H,G,G))}function kp(m,x){var O,$=4;for(O=0;4>O;++O)$+=m[x+O-32]+m[x-1+32*O];for($>>=3,O=0;4>O;++O)i(m,x+32*O,$,4)}function oi(m,x){var O=m[x-1+0],$=m[x-1+32],H=m[x-1+64],G=m[x-1-32],K=m[x+0-32],J=m[x+1-32],te=m[x+2-32],oe=m[x+3-32];m[x+0+96]=bt($,H,m[x-1+96]),m[x+1+96]=m[x+0+64]=bt(O,$,H),m[x+2+96]=m[x+1+64]=m[x+0+32]=bt(G,O,$),m[x+3+96]=m[x+2+64]=m[x+1+32]=m[x+0+0]=bt(K,G,O),m[x+3+64]=m[x+2+32]=m[x+1+0]=bt(J,K,G),m[x+3+32]=m[x+2+0]=bt(te,J,K),m[x+3+0]=bt(oe,te,J)}function Ls(m,x){var O=m[x+1-32],$=m[x+2-32],H=m[x+3-32],G=m[x+4-32],K=m[x+5-32],J=m[x+6-32],te=m[x+7-32];m[x+0+0]=bt(m[x+0-32],O,$),m[x+1+0]=m[x+0+32]=bt(O,$,H),m[x+2+0]=m[x+1+32]=m[x+0+64]=bt($,H,G),m[x+3+0]=m[x+2+32]=m[x+1+64]=m[x+0+96]=bt(H,G,K),m[x+3+32]=m[x+2+64]=m[x+1+96]=bt(G,K,J),m[x+3+64]=m[x+2+96]=bt(K,J,te),m[x+3+96]=bt(J,te,te)}function Rp(m,x){var O=m[x-1+0],$=m[x-1+32],H=m[x-1+64],G=m[x-1-32],K=m[x+0-32],J=m[x+1-32],te=m[x+2-32],oe=m[x+3-32];m[x+0+0]=m[x+1+64]=G+K+1>>1,m[x+1+0]=m[x+2+64]=K+J+1>>1,m[x+2+0]=m[x+3+64]=J+te+1>>1,m[x+3+0]=te+oe+1>>1,m[x+0+96]=bt(H,$,O),m[x+0+64]=bt($,O,G),m[x+0+32]=m[x+1+96]=bt(O,G,K),m[x+1+32]=m[x+2+96]=bt(G,K,J),m[x+2+32]=m[x+3+96]=bt(K,J,te),m[x+3+32]=bt(J,te,oe)}function lu(m,x){var O=m[x+0-32],$=m[x+1-32],H=m[x+2-32],G=m[x+3-32],K=m[x+4-32],J=m[x+5-32],te=m[x+6-32],oe=m[x+7-32];m[x+0+0]=O+$+1>>1,m[x+1+0]=m[x+0+64]=$+H+1>>1,m[x+2+0]=m[x+1+64]=H+G+1>>1,m[x+3+0]=m[x+2+64]=G+K+1>>1,m[x+0+32]=bt(O,$,H),m[x+1+32]=m[x+0+96]=bt($,H,G),m[x+2+32]=m[x+1+96]=bt(H,G,K),m[x+3+32]=m[x+2+96]=bt(G,K,J),m[x+3+64]=bt(K,J,te),m[x+3+96]=bt(J,te,oe)}function Ds(m,x){var O=m[x-1+0],$=m[x-1+32],H=m[x-1+64],G=m[x-1+96];m[x+0+0]=O+$+1>>1,m[x+2+0]=m[x+0+32]=$+H+1>>1,m[x+2+32]=m[x+0+64]=H+G+1>>1,m[x+1+0]=bt(O,$,H),m[x+3+0]=m[x+1+32]=bt($,H,G),m[x+3+32]=m[x+1+64]=bt(H,G,G),m[x+3+64]=m[x+2+64]=m[x+0+96]=m[x+1+96]=m[x+2+96]=m[x+3+96]=G}function uu(m,x){var O=m[x-1+0],$=m[x-1+32],H=m[x-1+64],G=m[x-1+96],K=m[x-1-32],J=m[x+0-32],te=m[x+1-32],oe=m[x+2-32];m[x+0+0]=m[x+2+32]=O+K+1>>1,m[x+0+32]=m[x+2+64]=$+O+1>>1,m[x+0+64]=m[x+2+96]=H+$+1>>1,m[x+0+96]=G+H+1>>1,m[x+3+0]=bt(J,te,oe),m[x+2+0]=bt(K,J,te),m[x+1+0]=m[x+3+32]=bt(O,K,J),m[x+1+32]=m[x+3+64]=bt($,O,K),m[x+1+64]=m[x+3+96]=bt(H,$,O),m[x+1+96]=bt(G,H,$)}function ko(m,x){var O;for(O=0;8>O;++O)r(m,x+32*O,m,x-32,8)}function ll(m,x){var O;for(O=0;8>O;++O)i(m,x,m[x-1],8),x+=32}function ss(m,x,O){var $;for($=0;8>$;++$)i(x,O+32*$,m,8)}function Oc(m,x){var O,$=8;for(O=0;8>O;++O)$+=m[x+O-32]+m[x-1+32*O];ss($>>4,m,x)}function Nn(m,x){var O,$=4;for(O=0;8>O;++O)$+=m[x+O-32];ss($>>3,m,x)}function Mc(m,x){var O,$=4;for(O=0;8>O;++O)$+=m[x-1+32*O];ss($>>3,m,x)}function ud(m,x){ss(128,m,x)}function as(m,x,O){var $=m[x-O],H=m[x+0],G=3*(H-$)+N2[1020+m[x-2*O]-m[x+O]],K=Yy[112+(G+4>>3)];m[x-O]=Lo[255+$+Yy[112+(G+3>>3)]],m[x+0]=Lo[255+H-K]}function cu(m,x,O,$){var H=m[x+0],G=m[x+O];return hs[255+m[x-2*O]-m[x-O]]>$||hs[255+G-H]>$}function ul(m,x,O,$){return 4*hs[255+m[x-O]-m[x+0]]+hs[255+m[x-2*O]-m[x+O]]<=$}function _a(m,x,O,$,H){var G=m[x-3*O],K=m[x-2*O],J=m[x-O],te=m[x+0],oe=m[x+O],ge=m[x+2*O],Ie=m[x+3*O];return 4*hs[255+J-te]+hs[255+K-oe]>$?0:hs[255+m[x-4*O]-G]<=H&&hs[255+G-K]<=H&&hs[255+K-J]<=H&&hs[255+Ie-ge]<=H&&hs[255+ge-oe]<=H&&hs[255+oe-te]<=H}function ba(m,x,O,$){var H=2*$+1;for($=0;16>$;++$)ul(m,x+$,O,H)&&as(m,x+$,O)}function Ji(m,x,O,$){var H=2*$+1;for($=0;16>$;++$)ul(m,x+$*O,1,H)&&as(m,x+$*O,1)}function Lc(m,x,O,$){var H;for(H=3;0<H;--H)ba(m,x+=4*O,O,$)}function cd(m,x,O,$){var H;for(H=3;0<H;--H)Ji(m,x+=4,O,$)}function Xi(m,x,O,$,H,G,K,J){for(G=2*G+1;0<H--;){if(_a(m,x,O,G,K))if(cu(m,x,O,J))as(m,x,O);else{var te=m,oe=x,ge=O,Ie=te[oe-2*ge],se=te[oe-ge],ve=te[oe+0],Se=te[oe+ge],Re=te[oe+2*ge],Ae=27*(De=N2[1020+3*(ve-se)+N2[1020+Ie-Se]])+63>>7,Le=18*De+63>>7,De=9*De+63>>7;te[oe-3*ge]=Lo[255+te[oe-3*ge]+De],te[oe-2*ge]=Lo[255+Ie+Le],te[oe-ge]=Lo[255+se+Ae],te[oe+0]=Lo[255+ve-Ae],te[oe+ge]=Lo[255+Se-Le],te[oe+2*ge]=Lo[255+Re-De]}x+=$}}function ls(m,x,O,$,H,G,K,J){for(G=2*G+1;0<H--;){if(_a(m,x,O,G,K))if(cu(m,x,O,J))as(m,x,O);else{var te=m,oe=x,ge=O,Ie=te[oe-ge],se=te[oe+0],ve=te[oe+ge],Se=Yy[112+(4+(Re=3*(se-Ie))>>3)],Re=Yy[112+(Re+3>>3)],Ae=Se+1>>1;te[oe-2*ge]=Lo[255+te[oe-2*ge]+Ae],te[oe-ge]=Lo[255+Ie+Re],te[oe+0]=Lo[255+se-Se],te[oe+ge]=Lo[255+ve-Ae]}x+=$}}function fu(m,x,O,$,H,G){Xi(m,x,O,1,16,$,H,G)}function us(m,x,O,$,H,G){Xi(m,x,1,O,16,$,H,G)}function Dc(m,x,O,$,H,G){var K;for(K=3;0<K;--K)ls(m,x+=4*O,O,1,16,$,H,G)}function I(m,x,O,$,H,G){var K;for(K=3;0<K;--K)ls(m,x+=4,1,O,16,$,H,G)}function q(m,x,O,$,H,G,K,J){Xi(m,x,H,1,8,G,K,J),Xi(O,$,H,1,8,G,K,J)}function ie(m,x,O,$,H,G,K,J){Xi(m,x,1,H,8,G,K,J),Xi(O,$,1,H,8,G,K,J)}function de(m,x,O,$,H,G,K,J){ls(m,x+4*H,H,1,8,G,K,J),ls(O,$+4*H,H,1,8,G,K,J)}function _e(m,x,O,$,H,G,K,J){ls(m,x+4,1,H,8,G,K,J),ls(O,$+4,1,H,8,G,K,J)}function Me(){this.ba=new jt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new qt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ue(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Qe(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function at(){this.ua=0,this.Wa=new Ye,this.vb=new Ye,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ee,this.yc=new U}function St(){this.xb=this.a=0,this.l=new ya,this.ca=new jt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new W,this.Pb=0,this.wd=new W,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new at,this.ab=0,this.gc=s(4,Qe),this.Oc=0}function Nt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ya,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Xt(m,x,O,$,H,G,K){for(m=m==null?0:m[x+0],x=0;x<K;++x)H[G+x]=m+O[$+x]&255,m=H[G+x]}function hn(m,x,O,$,H,G,K){var J;if(m==null)Xt(null,null,O,$,H,G,K);else for(J=0;J<K;++J)H[G+J]=m[x+J]+O[$+J]&255}function ar(m,x,O,$,H,G,K){if(m==null)Xt(null,null,O,$,H,G,K);else{var J,te=m[x+0],oe=te,ge=te;for(J=0;J<K;++J)oe=ge+(te=m[x+J])-oe,ge=O[$+J]+(-256&oe?0>oe?0:255:oe)&255,oe=te,H[G+J]=ge}}function bn(m,x,O,$){var H=x.width,G=x.o;if(e(m!=null&&x!=null),0>O||0>=$||O+$>G)return null;if(!m.Cc){if(m.ga==null){var K;if(m.ga=new Nt,(K=m.ga==null)||(K=x.width*x.o,e(m.Gb.length==0),m.Gb=o(K),m.Uc=0,m.Gb==null?K=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,K=1),K=!K),!K){K=m.ga;var J=m.Fa,te=m.P,oe=m.qc,ge=m.mb,Ie=m.nb,se=te+1,ve=oe-1,Se=K.l;if(e(J!=null&&ge!=null&&x!=null),_u[0]=null,_u[1]=Xt,_u[2]=hn,_u[3]=ar,K.ca=ge,K.tb=Ie,K.c=x.width,K.i=x.height,e(0<K.c&&0<K.i),1>=oe)x=0;else if(K.$a=3&J[te+0],K.Z=J[te+0]>>2&3,K.Lc=J[te+0]>>4&3,te=J[te+0]>>6&3,0>K.$a||1<K.$a||4<=K.Z||1<K.Lc||te)x=0;else if(Se.put=wt,Se.ac=Pi,Se.bc=Hn,Se.ma=K,Se.width=x.width,Se.height=x.height,Se.Da=x.Da,Se.v=x.v,Se.va=x.va,Se.j=x.j,Se.o=x.o,K.$a)e:{e(K.$a==1),x=pa();t:for(;;){if(x==null){x=0;break e}if(e(K!=null),K.mc=x,x.c=K.c,x.i=K.i,x.l=K.l,x.l.ma=K,x.l.width=K.c,x.l.height=K.i,x.a=0,ae(x.m,J,se,ve),!Co(K.c,K.i,1,x,null)||(x.ab==1&&x.gc[0].hc==3&&Ci(x.s)?(K.ic=1,J=x.c*x.i,x.Ta=null,x.Ua=0,x.V=o(J),x.Ba=0,x.V==null?(x.a=1,x=0):x=1):(K.ic=0,x=Ms(x,K.c)),!x))break t;x=1;break e}K.mc=null,x=0}else x=ve>=K.c*K.i;K=!x}if(K)return null;m.ga.Lc!=1?m.Ga=0:$=G-O}e(m.ga!=null),e(O+$<=G);e:{if(x=(J=m.ga).c,G=J.l.o,J.$a==0){if(se=m.rc,ve=m.Vc,Se=m.Fa,te=m.P+1+O*x,oe=m.mb,ge=m.nb+O*x,e(te<=m.P+m.qc),J.Z!=0)for(e(_u[J.Z]!=null),K=0;K<$;++K)_u[J.Z](se,ve,Se,te,oe,ge,x),se=oe,ve=ge,ge+=x,te+=x;else for(K=0;K<$;++K)r(oe,ge,Se,te,x),se=oe,ve=ge,ge+=x,te+=x;m.rc=se,m.Vc=ve}else{if(e(J.mc!=null),x=O+$,e((K=J.mc)!=null),e(x<=K.i),K.C>=x)x=1;else if(J.ic||po(),J.ic){J=K.V,se=K.Ba,ve=K.c;var Re=K.i,Ae=(Se=1,te=K.$/ve,oe=K.$%ve,ge=K.m,Ie=K.s,K.$),Le=ve*Re,De=ve*x,Ve=Ie.wc,$e=Ae<De?tr(Ie,oe,te):null;e(Ae<=Le),e(x<=Re),e(Ci(Ie));t:for(;;){for(;!ge.h&&Ae<De;){if(oe&Ve||($e=tr(Ie,oe,te)),e($e!=null),we(ge),256>(Re=er($e.G[0],$e.H[0],ge)))J[se+Ae]=Re,++Ae,++oe>=ve&&(oe=0,++te<=x&&!(te%16)&&Yi(K,te));else{if(!(280>Re)){Se=0;break t}Re=ni(Re-256,ge);var pt,nt=er($e.G[4],$e.H[4],ge);if(we(ge),!(Ae>=(nt=ri(ve,nt=ni(nt,ge)))&&Le-Ae>=Re)){Se=0;break t}for(pt=0;pt<Re;++pt)J[se+Ae+pt]=J[se+Ae+pt-nt];for(Ae+=Re,oe+=Re;oe>=ve;)oe-=ve,++te<=x&&!(te%16)&&Yi(K,te);Ae<De&&oe&Ve&&($e=tr(Ie,oe,te))}e(ge.h==fe(ge))}Yi(K,te>x?x:te);break t}!Se||ge.h&&Ae<Le?(Se=0,K.a=ge.h?5:3):K.$=Ae,x=Se}else x=Ni(K,K.V,K.Ba,K.c,K.i,x,ma);if(!x){$=0;break e}}O+$>=G&&(m.Cc=1),$=1}if(!$)return null;if(m.Cc&&(($=m.ga)!=null&&($.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+O*H}function mr(m,x,O,$,H,G){for(;0<H--;){var K,J=m,te=x+(O?1:0),oe=m,ge=x+(O?0:3);for(K=0;K<$;++K){var Ie=oe[ge+4*K];Ie!=255&&(Ie*=32897,J[te+4*K+0]=J[te+4*K+0]*Ie>>23,J[te+4*K+1]=J[te+4*K+1]*Ie>>23,J[te+4*K+2]=J[te+4*K+2]*Ie>>23)}x+=G}}function lr(m,x,O,$,H){for(;0<$--;){var G;for(G=0;G<O;++G){var K=m[x+2*G+0],J=15&(oe=m[x+2*G+1]),te=4369*J,oe=(240&oe|oe>>4)*te>>16;m[x+2*G+0]=(240&K|K>>4)*te>>16&240|(15&K|K<<4)*te>>16>>4&15,m[x+2*G+1]=240&oe|J}x+=H}}function gr(m,x,O,$,H,G,K,J){var te,oe,ge=255;for(oe=0;oe<H;++oe){for(te=0;te<$;++te){var Ie=m[x+te];G[K+4*te]=Ie,ge&=Ie}x+=O,K+=J}return ge!=255}function ur(m,x,O,$,H){var G;for(G=0;G<H;++G)O[$+G]=m[x+G]>>8}function po(){Bp=mr,OP=lr,MP=gr,LP=ur}function cs(m,x,O){T[m]=function($,H,G,K,J,te,oe,ge,Ie,se,ve,Se,Re,Ae,Le,De,Ve){var $e,pt=Ve-1>>1,nt=J[te+0]|oe[ge+0]<<16,Bt=Ie[se+0]|ve[Se+0]<<16;e($!=null);var ct=3*nt+Bt+131074>>2;for(x($[H+0],255&ct,ct>>16,Re,Ae),G!=null&&(ct=3*Bt+nt+131074>>2,x(G[K+0],255&ct,ct>>16,Le,De)),$e=1;$e<=pt;++$e){var en=J[te+$e]|oe[ge+$e]<<16,Gr=Ie[se+$e]|ve[Se+$e]<<16,Vt=nt+en+Bt+Gr+524296,ft=Vt+2*(en+Bt)>>3;ct=ft+nt>>1,nt=(Vt=Vt+2*(nt+Gr)>>3)+en>>1,x($[H+2*$e-1],255&ct,ct>>16,Re,Ae+(2*$e-1)*O),x($[H+2*$e-0],255&nt,nt>>16,Re,Ae+(2*$e-0)*O),G!=null&&(ct=Vt+Bt>>1,nt=ft+Gr>>1,x(G[K+2*$e-1],255&ct,ct>>16,Le,De+(2*$e-1)*O),x(G[K+2*$e+0],255&nt,nt>>16,Le,De+(2*$e+0)*O)),nt=en,Bt=Gr}1&Ve||(ct=3*nt+Bt+131074>>2,x($[H+Ve-1],255&ct,ct>>16,Re,Ae+(Ve-1)*O),G!=null&&(ct=3*Bt+nt+131074>>2,x(G[K+Ve-1],255&ct,ct>>16,Le,De+(Ve-1)*O)))}}function fs(){ps[Jy]=oz,ps[Xy]=GP,ps[BP]=sz,ps[Qy]=WP,ps[Zy]=KP,ps[k2]=YP,ps[VP]=az,ps[R2]=GP,ps[O2]=WP,ps[ev]=KP,ps[M2]=YP}function g(m){return m&-16384?0>m?0:255:m>>lz}function M(m,x){return g((19077*m>>8)+(26149*x>>8)-14234)}function V(m,x,O){return g((19077*m>>8)-(6419*x>>8)-(13320*O>>8)+8708)}function Q(m,x){return g((19077*m>>8)+(33050*x>>8)-17685)}function be(m,x,O,$,H){$[H+0]=M(m,O),$[H+1]=V(m,x,O),$[H+2]=Q(m,x)}function Pe(m,x,O,$,H){$[H+0]=Q(m,x),$[H+1]=V(m,x,O),$[H+2]=M(m,O)}function ze(m,x,O,$,H){var G=V(m,x,O);x=G<<3&224|Q(m,x)>>3,$[H+0]=248&M(m,O)|G>>5,$[H+1]=x}function Zt(m,x,O,$,H){var G=240&Q(m,x)|15;$[H+0]=240&M(m,O)|V(m,x,O)>>4,$[H+1]=G}function cr(m,x,O,$,H){$[H+0]=255,be(m,x,O,$,H+1)}function zt(m,x,O,$,H){Pe(m,x,O,$,H),$[H+3]=255}function an(m,x,O,$,H){be(m,x,O,$,H),$[H+3]=255}function $n(m,x,O){T[m]=function($,H,G,K,J,te,oe,ge,Ie){for(var se=ge+(-2&Ie)*O;ge!=se;)x($[H+0],G[K+0],J[te+0],oe,ge),x($[H+1],G[K+0],J[te+0],oe,ge+O),H+=2,++K,++te,ge+=2*O;1&Ie&&x($[H+0],G[K+0],J[te+0],oe,ge)}}function Ro(m,x,O){return O==0?m==0?x==0?6:5:x==0?4:0:O}function ki(m,x,O,$,H){switch(m>>>30){case 3:jc(x,O,$,H,0);break;case 2:ds(x,O,$,H);break;case 1:wn(x,O,$,H)}}function mi(m,x){var O,$,H=x.M,G=x.Nb,K=m.oc,J=m.pc+40,te=m.oc,oe=m.pc+584,ge=m.oc,Ie=m.pc+600;for(O=0;16>O;++O)K[J+32*O-1]=129;for(O=0;8>O;++O)te[oe+32*O-1]=129,ge[Ie+32*O-1]=129;for(0<H?K[J-1-32]=te[oe-1-32]=ge[Ie-1-32]=129:(i(K,J-32-1,127,21),i(te,oe-32-1,127,9),i(ge,Ie-32-1,127,9)),$=0;$<m.za;++$){var se=x.ya[x.aa+$];if(0<$){for(O=-1;16>O;++O)r(K,J+32*O-4,K,J+32*O+12,4);for(O=-1;8>O;++O)r(te,oe+32*O-4,te,oe+32*O+4,4),r(ge,Ie+32*O-4,ge,Ie+32*O+4,4)}var ve=m.Gd,Se=m.Hd+$,Re=se.ad,Ae=se.Hc;if(0<H&&(r(K,J-32,ve[Se].y,0,16),r(te,oe-32,ve[Se].f,0,8),r(ge,Ie-32,ve[Se].ea,0,8)),se.Za){var Le=K,De=J-32+16;for(0<H&&($>=m.za-1?i(Le,De,ve[Se].y[15],4):r(Le,De,ve[Se+1].y,0,4)),O=0;4>O;O++)Le[De+128+O]=Le[De+256+O]=Le[De+384+O]=Le[De+0+O];for(O=0;16>O;++O,Ae<<=2)Le=K,De=J+XP[O],Us[se.Ob[O]](Le,De),ki(Ae,Re,16*+O,Le,De)}else if(Le=Ro($,H,se.Ob[0]),wu[Le](K,J),Ae!=0)for(O=0;16>O;++O,Ae<<=2)ki(Ae,Re,16*+O,K,J+XP[O]);for(O=se.Gc,Le=Ro($,H,se.Dd),dl[Le](te,oe),dl[Le](ge,Ie),Ae=Re,Le=te,De=oe,255&(se=0|O)&&(170&se?Ea(Ae,256,Le,De):Mn(Ae,256,Le,De)),se=ge,Ae=Ie,255&(O>>=8)&&(170&O?Ea(Re,320,se,Ae):Mn(Re,320,se,Ae)),H<m.Ub-1&&(r(ve[Se].y,0,K,J+480,16),r(ve[Se].f,0,te,oe+224,8),r(ve[Se].ea,0,ge,Ie+224,8)),O=8*G*m.B,ve=m.sa,Se=m.ta+16*$+16*G*m.R,Re=m.qa,se=m.ra+8*$+O,Ae=m.Ha,Le=m.Ia+8*$+O,O=0;16>O;++O)r(ve,Se+O*m.R,K,J+32*O,16);for(O=0;8>O;++O)r(Re,se+O*m.B,te,oe+32*O,8),r(Ae,Le+O*m.B,ge,Ie+32*O,8)}}function Fs(m,x,O,$,H,G,K,J,te){var oe=[0],ge=[0],Ie=0,se=te!=null?te.kd:0,ve=te??new Ue;if(m==null||12>O)return 7;ve.data=m,ve.w=x,ve.ha=O,x=[x],O=[O],ve.gb=[ve.gb];e:{var Se=x,Re=O,Ae=ve.gb;if(e(m!=null),e(Re!=null),e(Ae!=null),Ae[0]=0,12<=Re[0]&&!n(m,Se[0],"RIFF")){if(n(m,Se[0]+8,"WEBP")){Ae=3;break e}var Le=Ne(m,Se[0]+4);if(12>Le||4294967286<Le){Ae=3;break e}if(se&&Le>Re[0]-8){Ae=7;break e}Ae[0]=Le,Se[0]+=12,Re[0]-=12}Ae=0}if(Ae!=0)return Ae;for(Le=0<ve.gb[0],O=O[0];;){e:{var De=m;Re=x,Ae=O;var Ve=oe,$e=ge,pt=Se=[0];if((ct=Ie=[Ie])[0]=0,8>Ae[0])Ae=7;else{if(!n(De,Re[0],"VP8X")){if(Ne(De,Re[0]+4)!=10){Ae=3;break e}if(18>Ae[0]){Ae=7;break e}var nt=Ne(De,Re[0]+8),Bt=1+Ee(De,Re[0]+12);if(2147483648<=Bt*(De=1+Ee(De,Re[0]+15))){Ae=3;break e}pt!=null&&(pt[0]=nt),Ve!=null&&(Ve[0]=Bt),$e!=null&&($e[0]=De),Re[0]+=18,Ae[0]-=18,ct[0]=1}Ae=0}}if(Ie=Ie[0],Se=Se[0],Ae!=0)return Ae;if(Re=!!(2&Se),!Le&&Ie)return 3;if(G!=null&&(G[0]=!!(16&Se)),K!=null&&(K[0]=Re),J!=null&&(J[0]=0),K=oe[0],Se=ge[0],Ie&&Re&&te==null){Ae=0;break}if(4>O){Ae=7;break}if(Le&&Ie||!Le&&!Ie&&!n(m,x[0],"ALPH")){O=[O],ve.na=[ve.na],ve.P=[ve.P],ve.Sa=[ve.Sa];e:{nt=m,Ae=x,Le=O;var ct=ve.gb;Ve=ve.na,$e=ve.P,pt=ve.Sa,Bt=22,e(nt!=null),e(Le!=null),De=Ae[0];var en=Le[0];for(e(Ve!=null),e(pt!=null),Ve[0]=null,$e[0]=null,pt[0]=0;;){if(Ae[0]=De,Le[0]=en,8>en){Ae=7;break e}var Gr=Ne(nt,De+4);if(4294967286<Gr){Ae=3;break e}var Vt=8+Gr+1&-2;if(Bt+=Vt,0<ct&&Bt>ct){Ae=3;break e}if(!n(nt,De,"VP8 ")||!n(nt,De,"VP8L")){Ae=0;break e}if(en[0]<Vt){Ae=7;break e}n(nt,De,"ALPH")||(Ve[0]=nt,$e[0]=De+8,pt[0]=Gr),De+=Vt,en-=Vt}}if(O=O[0],ve.na=ve.na[0],ve.P=ve.P[0],ve.Sa=ve.Sa[0],Ae!=0)break}O=[O],ve.Ja=[ve.Ja],ve.xa=[ve.xa];e:if(ct=m,Ae=x,Le=O,Ve=ve.gb[0],$e=ve.Ja,pt=ve.xa,nt=Ae[0],De=!n(ct,nt,"VP8 "),Bt=!n(ct,nt,"VP8L"),e(ct!=null),e(Le!=null),e($e!=null),e(pt!=null),8>Le[0])Ae=7;else{if(De||Bt){if(ct=Ne(ct,nt+4),12<=Ve&&ct>Ve-12){Ae=3;break e}if(se&&ct>Le[0]-8){Ae=7;break e}$e[0]=ct,Ae[0]+=8,Le[0]-=8,pt[0]=Bt}else pt[0]=5<=Le[0]&&ct[nt+0]==47&&!(ct[nt+4]>>5),$e[0]=Le[0];Ae=0}if(O=O[0],ve.Ja=ve.Ja[0],ve.xa=ve.xa[0],x=x[0],Ae!=0)break;if(4294967286<ve.Ja)return 3;if(J==null||Re||(J[0]=ve.xa?2:1),K=[K],Se=[Se],ve.xa){if(5>O){Ae=7;break}J=K,se=Se,Re=G,m==null||5>O?m=0:5<=O&&m[x+0]==47&&!(m[x+4]>>5)?(Le=[0],ct=[0],Ve=[0],ae($e=new W,m,x,O),ns($e,Le,ct,Ve)?(J!=null&&(J[0]=Le[0]),se!=null&&(se[0]=ct[0]),Re!=null&&(Re[0]=Ve[0]),m=1):m=0):m=0}else{if(10>O){Ae=7;break}J=Se,m==null||10>O||!id(m,x+3,O-3)?m=0:(se=m[x+0]|m[x+1]<<8|m[x+2]<<16,Re=16383&(m[x+7]<<8|m[x+6]),m=16383&(m[x+9]<<8|m[x+8]),1&se||3<(se>>1&7)||!(se>>4&1)||se>>5>=ve.Ja||!Re||!m?m=0:(K&&(K[0]=Re),J&&(J[0]=m),m=1))}if(!m||(K=K[0],Se=Se[0],Ie&&(oe[0]!=K||ge[0]!=Se)))return 3;te!=null&&(te[0]=ve,te.offset=x-te.w,e(4294967286>x-te.w),e(te.offset==te.ha-O));break}return Ae==0||Ae==7&&Ie&&te==null?(G!=null&&(G[0]|=ve.na!=null&&0<ve.na.length),$!=null&&($[0]=K),H!=null&&(H[0]=Se),0):Ae}function Op(m,x,O){var $=x.width,H=x.height,G=0,K=0,J=$,te=H;if(x.Da=m!=null&&0<m.Da,x.Da&&(J=m.cd,te=m.bd,G=m.v,K=m.j,11>O||(G&=-2,K&=-2),0>G||0>K||0>=J||0>=te||G+J>$||K+te>H))return 0;if(x.v=G,x.j=K,x.va=G+J,x.o=K+te,x.U=J,x.T=te,x.da=m!=null&&0<m.da,x.da){if(!Xe(J,te,O=[m.ib],G=[m.hb]))return 0;x.ib=O[0],x.hb=G[0]}return x.ob=m!=null&&m.ob,x.Kb=m==null||!m.Sd,x.da&&(x.ob=x.ib<3*$/4&&x.hb<3*H/4,x.Kb=0),1}function Mp(m){if(m==null)return 2;if(11>m.S){var x=m.f.RGBA;x.fb+=(m.height-1)*x.A,x.A=-x.A}else x=m.f.kb,m=m.height,x.O+=(m-1)*x.fa,x.fa=-x.fa,x.N+=(m-1>>1)*x.Ab,x.Ab=-x.Ab,x.W+=(m-1>>1)*x.Db,x.Db=-x.Db,x.F!=null&&(x.J+=(m-1)*x.lb,x.lb=-x.lb);return 0}function du(m,x,O,$){if($==null||0>=m||0>=x)return 2;if(O!=null){if(O.Da){var H=O.cd,G=O.bd,K=-2&O.v,J=-2&O.j;if(0>K||0>J||0>=H||0>=G||K+H>m||J+G>x)return 2;m=H,x=G}if(O.da){if(!Xe(m,x,H=[O.ib],G=[O.hb]))return 2;m=H[0],x=G[0]}}$.width=m,$.height=x;e:{var te=$.width,oe=$.height;if(m=$.S,0>=te||0>=oe||!(m>=Jy&&13>m))m=2;else{if(0>=$.Rd&&$.sd==null){K=G=H=x=0;var ge=(J=te*QP[m])*oe;if(11>m||(G=(oe+1)/2*(x=(te+1)/2),m==12&&(K=(H=te)*oe)),(oe=o(ge+2*G+K))==null){m=1;break e}$.sd=oe,11>m?((te=$.f.RGBA).eb=oe,te.fb=0,te.A=J,te.size=ge):((te=$.f.kb).y=oe,te.O=0,te.fa=J,te.Fd=ge,te.f=oe,te.N=0+ge,te.Ab=x,te.Cd=G,te.ea=oe,te.W=0+ge+G,te.Db=x,te.Ed=G,m==12&&(te.F=oe,te.J=0+ge+2*G),te.Tc=K,te.lb=H)}if(x=1,H=$.S,G=$.width,K=$.height,H>=Jy&&13>H)if(11>H)m=$.f.RGBA,x&=(J=Math.abs(m.A))*(K-1)+G<=m.size,x&=J>=G*QP[H],x&=m.eb!=null;else{m=$.f.kb,J=(G+1)/2,ge=(K+1)/2,te=Math.abs(m.fa),oe=Math.abs(m.Ab);var Ie=Math.abs(m.Db),se=Math.abs(m.lb),ve=se*(K-1)+G;x&=te*(K-1)+G<=m.Fd,x&=oe*(ge-1)+J<=m.Cd,x=(x&=Ie*(ge-1)+J<=m.Ed)&te>=G&oe>=J&Ie>=J,x&=m.y!=null,x&=m.f!=null,x&=m.ea!=null,H==12&&(x&=se>=G,x&=ve<=m.Tc,x&=m.F!=null)}else x=0;m=x?0:2}}return m!=0||O!=null&&O.fd&&(m=Mp($)),m}var Fc=64,Oo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Mo=24,hu=32,cl=8,pu=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];We("Predictor0","PredictorAdd0"),T.Predictor0=function(){return 4278190080},T.Predictor1=function(m){return m},T.Predictor2=function(m,x,O){return x[O+0]},T.Predictor3=function(m,x,O){return x[O+1]},T.Predictor4=function(m,x,O){return x[O-1]},T.Predictor5=function(m,x,O){return ot(ot(m,x[O+1]),x[O+0])},T.Predictor6=function(m,x,O){return ot(m,x[O-1])},T.Predictor7=function(m,x,O){return ot(m,x[O+0])},T.Predictor8=function(m,x,O){return ot(x[O-1],x[O+0])},T.Predictor9=function(m,x,O){return ot(x[O+0],x[O+1])},T.Predictor10=function(m,x,O){return ot(ot(m,x[O-1]),ot(x[O+0],x[O+1]))},T.Predictor11=function(m,x,O){var $=x[O+0];return 0>=dt($>>24&255,m>>24&255,(x=x[O-1])>>24&255)+dt($>>16&255,m>>16&255,x>>16&255)+dt($>>8&255,m>>8&255,x>>8&255)+dt(255&$,255&m,255&x)?$:m},T.Predictor12=function(m,x,O){var $=x[O+0];return(Wt((m>>24&255)+($>>24&255)-((x=x[O-1])>>24&255))<<24|Wt((m>>16&255)+($>>16&255)-(x>>16&255))<<16|Wt((m>>8&255)+($>>8&255)-(x>>8&255))<<8|Wt((255&m)+(255&$)-(255&x)))>>>0},T.Predictor13=function(m,x,O){var $=x[O-1];return(Ft((m=ot(m,x[O+0]))>>24&255,$>>24&255)<<24|Ft(m>>16&255,$>>16&255)<<16|Ft(m>>8&255,$>>8&255)<<8|Ft(255&m,255&$))>>>0};var Lp=T.PredictorAdd0;T.PredictorAdd1=xt,We("Predictor2","PredictorAdd2"),We("Predictor3","PredictorAdd3"),We("Predictor4","PredictorAdd4"),We("Predictor5","PredictorAdd5"),We("Predictor6","PredictorAdd6"),We("Predictor7","PredictorAdd7"),We("Predictor8","PredictorAdd8"),We("Predictor9","PredictorAdd9"),We("Predictor10","PredictorAdd10"),We("Predictor11","PredictorAdd11"),We("Predictor12","PredictorAdd12"),We("Predictor13","PredictorAdd13");var fd=T.PredictorAdd2;ht("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),ht("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var Ir,Wy=T.ColorIndexInverseTransform,xa=T.MapARGB,Sa=T.VP8LColorIndexInverseTransformAlpha,Dp=T.MapAlpha,Fp=T.VP8LPredictorsAdd=[];Fp.length=16,(T.VP8LPredictors=[]).length=16,(T.VP8LPredictorsAdd_C=[]).length=16,(T.VP8LPredictors_C=[]).length=16;var Up,jp,mu,gu,yu,Uc,vu,jc,ds,Ea,wn,Mn,Pr,Hr,fl,$p,dd,Ky,IP,PP,CP,NP,kP,RP,Bp,OP,MP,LP,DP=o(511),FP=o(2041),UP=o(225),jP=o(767),$P=0,N2=FP,Yy=UP,Lo=jP,hs=DP,Jy=0,Xy=1,BP=2,Qy=3,Zy=4,k2=5,VP=6,R2=7,O2=8,ev=9,M2=10,Hq=[2,3,7],Gq=[3,3,11],qP=[280,256,256,256,40],Wq=[0,1,1,1,0],Kq=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Yq=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Jq=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Xq=8,L2=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],D2=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Vp=null,Qq=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Zq=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],zP=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ez=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],tz=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],nz=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],rz=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],wu=[],Us=[],dl=[],iz=1,HP=2,_u=[],ps=[];cs("UpsampleRgbLinePair",be,3),cs("UpsampleBgrLinePair",Pe,3),cs("UpsampleRgbaLinePair",an,4),cs("UpsampleBgraLinePair",zt,4),cs("UpsampleArgbLinePair",cr,4),cs("UpsampleRgba4444LinePair",Zt,2),cs("UpsampleRgb565LinePair",ze,2);var oz=T.UpsampleRgbLinePair,sz=T.UpsampleBgrLinePair,GP=T.UpsampleRgbaLinePair,WP=T.UpsampleBgraLinePair,KP=T.UpsampleArgbLinePair,YP=T.UpsampleRgba4444LinePair,az=T.UpsampleRgb565LinePair,tv=16,nv=1<<tv-1,qp=-227,F2=482,lz=6,JP=0,uz=o(256),cz=o(256),fz=o(256),dz=o(256),hz=o(F2-qp),pz=o(F2-qp);$n("YuvToRgbRow",be,3),$n("YuvToBgrRow",Pe,3),$n("YuvToRgbaRow",an,4),$n("YuvToBgraRow",zt,4),$n("YuvToArgbRow",cr,4),$n("YuvToRgba4444Row",Zt,2),$n("YuvToRgb565Row",ze,2);var XP=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],rv=[0,2,8],mz=[8,7,6,4,4,2,2,2,1,1,1,1],gz=1;this.WebPDecodeRGBA=function(m,x,O,$,H){var G=Xy,K=new Me,J=new jt;K.ba=J,J.S=G,J.width=[J.width],J.height=[J.height];var te=J.width,oe=J.height,ge=new yt;if(ge==null||m==null)var Ie=2;else e(ge!=null),Ie=Fs(m,x,O,ge.width,ge.height,ge.Pd,ge.Qd,ge.format,null);if(Ie!=0?te=0:(te!=null&&(te[0]=ge.width[0]),oe!=null&&(oe[0]=ge.height[0]),te=1),te){J.width=J.width[0],J.height=J.height[0],$!=null&&($[0]=J.width),H!=null&&(H[0]=J.height);e:{if($=new ya,(H=new Ue).data=m,H.w=x,H.ha=O,H.kd=1,x=[0],e(H!=null),((m=Fs(H.data,H.w,H.ha,null,null,null,x,null,H))==0||m==7)&&x[0]&&(m=4),(x=m)==0){if(e(K!=null),$.data=H.data,$.w=H.w+H.offset,$.ha=H.ha-H.offset,$.put=wt,$.ac=Pi,$.bc=Hn,$.ma=K,H.xa){if((m=pa())==null){K=1;break e}if(function(se,ve){var Se=[0],Re=[0],Ae=[0];t:for(;;){if(se==null)return 0;if(ve==null)return se.a=2,0;if(se.l=ve,se.a=0,ae(se.m,ve.data,ve.w,ve.ha),!ns(se.m,Se,Re,Ae)){se.a=3;break t}if(se.xb=HP,ve.width=Se[0],ve.height=Re[0],!Co(Se[0],Re[0],1,se,null))break t;return 1}return e(se.a!=0),0}(m,$)){if($=(x=du($.width,$.height,K.Oa,K.ba))==0){t:{$=m;n:for(;;){if($==null){$=0;break t}if(e($.s.yc!=null),e($.s.Ya!=null),e(0<$.s.Wb),e((O=$.l)!=null),e((H=O.ma)!=null),$.xb!=0){if($.ca=H.ba,$.tb=H.tb,e($.ca!=null),!Op(H.Oa,O,Qy)){$.a=2;break n}if(!Ms($,O.width)||O.da)break n;if((O.da||_t($.ca.S))&&po(),11>$.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),$.ca.f.kb.F!=null&&po()),$.Pb&&0<$.s.ua&&$.s.vb.X==null&&!Y($.s.vb,$.s.Wa.Xa)){$.a=1;break n}$.xb=0}if(!Ni($,$.V,$.Ba,$.c,$.i,O.o,ha))break n;H.Dc=$.Ma,$=1;break t}e($.a!=0),$=0}$=!$}$&&(x=m.a)}else x=m.a}else{if((m=new rd)==null){K=1;break e}if(m.Fa=H.na,m.P=H.P,m.qc=H.Sa,rs(m,$)){if((x=du($.width,$.height,K.Oa,K.ba))==0){if(m.Aa=0,O=K.Oa,e((H=m)!=null),O!=null){if(0<(te=0>(te=O.Md)?0:100<te?255:255*te/100)){for(oe=ge=0;4>oe;++oe)12>(Ie=H.pb[oe]).lc&&(Ie.ia=te*mz[0>Ie.lc?0:Ie.lc]>>3),ge|=Ie.ia;ge&&(alert("todo:VP8InitRandom"),H.ia=1)}H.Ga=O.Id,100<H.Ga?H.Ga=100:0>H.Ga&&(H.Ga=0)}(function(se,ve){if(se==null)return 0;if(ve==null)return sr(se,2,"NULL VP8Io parameter in VP8Decode().");if(!se.cb&&!rs(se,ve))return 0;if(e(se.cb),ve.ac==null||ve.ac(ve)){ve.ob&&(se.L=0);var Se=rv[se.L];if(se.L==2?(se.yb=0,se.zb=0):(se.yb=ve.v-Se>>4,se.zb=ve.j-Se>>4,0>se.yb&&(se.yb=0),0>se.zb&&(se.zb=0)),se.Va=ve.o+15+Se>>4,se.Hb=ve.va+15+Se>>4,se.Hb>se.za&&(se.Hb=se.za),se.Va>se.Ub&&(se.Va=se.Ub),0<se.L){var Re=se.ed;for(Se=0;4>Se;++Se){var Ae;if(se.Qa.Cb){var Le=se.Qa.Lb[Se];se.Qa.Fb||(Le+=Re.Tb)}else Le=Re.Tb;for(Ae=0;1>=Ae;++Ae){var De=se.gd[Se][Ae],Ve=Le;if(Re.Pc&&(Ve+=Re.vd[0],Ae&&(Ve+=Re.od[0])),0<(Ve=0>Ve?0:63<Ve?63:Ve)){var $e=Ve;0<Re.wb&&($e=4<Re.wb?$e>>2:$e>>1)>9-Re.wb&&($e=9-Re.wb),1>$e&&($e=1),De.dd=$e,De.tc=2*Ve+$e,De.ld=40<=Ve?2:15<=Ve?1:0}else De.tc=0;De.La=Ae}}}Se=0}else sr(se,6,"Frame setup failed"),Se=se.a;if(Se=Se==0){if(Se){se.$c=0,0<se.Aa||(se.Ic=gz);t:{Se=se.Ic,Re=4*($e=se.za);var pt=32*$e,nt=$e+1,Bt=0<se.L?$e*(0<se.Aa?2:1):0,ct=(se.Aa==2?2:1)*$e;if((De=Re+832+(Ae=3*(16*Se+rv[se.L])/2*pt)+(Le=se.Fa!=null&&0<se.Fa.length?se.Kc.c*se.Kc.i:0))!=De)Se=0;else{if(De>se.Vb){if(se.Vb=0,se.Ec=o(De),se.Fc=0,se.Ec==null){Se=sr(se,1,"no memory during frame initialization.");break t}se.Vb=De}De=se.Ec,Ve=se.Fc,se.Ac=De,se.Bc=Ve,Ve+=Re,se.Gd=s(pt,Cc),se.Hd=0,se.rb=s(nt+1,No),se.sb=1,se.wa=Bt?s(Bt,ii):null,se.Y=0,se.D.Nb=0,se.D.wa=se.wa,se.D.Y=se.Y,0<se.Aa&&(se.D.Y+=$e),e(!0),se.oc=De,se.pc=Ve,Ve+=832,se.ya=s(ct,Ic),se.aa=0,se.D.ya=se.ya,se.D.aa=se.aa,se.Aa==2&&(se.D.aa+=$e),se.R=16*$e,se.B=8*$e,$e=(pt=rv[se.L])*se.R,pt=pt/2*se.B,se.sa=De,se.ta=Ve+$e,se.qa=se.sa,se.ra=se.ta+16*Se*se.R+pt,se.Ha=se.qa,se.Ia=se.ra+8*Se*se.B+pt,se.$c=0,Ve+=Ae,se.mb=Le?De:null,se.nb=Le?Ve:null,e(Ve+Le<=se.Fc+se.Vb),kc(se),i(se.Ac,se.Bc,0,Re),Se=1}}if(Se){if(ve.ka=0,ve.y=se.sa,ve.O=se.ta,ve.f=se.qa,ve.N=se.ra,ve.ea=se.Ha,ve.Vd=se.Ia,ve.fa=se.R,ve.Rc=se.B,ve.F=null,ve.J=0,!$P){for(Se=-255;255>=Se;++Se)DP[255+Se]=0>Se?-Se:Se;for(Se=-1020;1020>=Se;++Se)FP[1020+Se]=-128>Se?-128:127<Se?127:Se;for(Se=-112;112>=Se;++Se)UP[112+Se]=-16>Se?-16:15<Se?15:Se;for(Se=-255;510>=Se;++Se)jP[255+Se]=0>Se?0:255<Se?255:Se;$P=1}vu=is,jc=od,Ea=Jt,wn=sl,Mn=va,ds=su,Pr=fu,Hr=us,fl=q,$p=ie,dd=Dc,Ky=I,IP=de,PP=_e,CP=ba,NP=Ji,kP=Lc,RP=cd,Us[0]=kp,Us[1]=sd,Us[2]=Cp,Us[3]=Np,Us[4]=oi,Us[5]=Rp,Us[6]=Ls,Us[7]=lu,Us[8]=uu,Us[9]=Ds,wu[0]=os,wu[1]=Pp,wu[2]=Rc,wu[3]=ad,wu[4]=wa,wu[5]=au,wu[6]=ld,dl[0]=Oc,dl[1]=Ip,dl[2]=ko,dl[3]=ll,dl[4]=Mc,dl[5]=Nn,dl[6]=ud,Se=1}else Se=0}Se&&(Se=function(en,Gr){for(en.M=0;en.M<en.Va;++en.M){var Vt,ft=en.Jc[en.M&en.Xb],Ge=en.m,Cr=en;for(Vt=0;Vt<Cr.za;++Vt){var Dt=Ge,nn=Cr,Gn=nn.Ac,gi=nn.Bc+4*Vt,Qi=nn.zc,yr=nn.ya[nn.aa+Vt];if(nn.Qa.Bb?yr.$b=pe(Dt,nn.Pa.jb[0])?2+pe(Dt,nn.Pa.jb[2]):pe(Dt,nn.Pa.jb[1]):yr.$b=0,nn.kc&&(yr.Ad=pe(Dt,nn.Bd)),yr.Za=!pe(Dt,145)+0,yr.Za){var Ri=yr.Ob,Zi=0;for(nn=0;4>nn;++nn){var Wr,on=Qi[0+nn];for(Wr=0;4>Wr;++Wr){on=tz[Gn[gi+Wr]][on];for(var xn=zP[pe(Dt,on[0])];0<xn;)xn=zP[2*xn+pe(Dt,on[xn])];on=-xn,Gn[gi+Wr]=on}r(Ri,Zi,Gn,gi,4),Zi+=4,Qi[0+nn]=on}}else on=pe(Dt,156)?pe(Dt,128)?1:3:pe(Dt,163)?2:0,yr.Ob[0]=on,i(Gn,gi,on,4),i(Qi,0,on,4);yr.Dd=pe(Dt,142)?pe(Dt,114)?pe(Dt,183)?1:3:2:0}if(Cr.m.Ka)return sr(en,7,"Premature end-of-partition0 encountered.");for(;en.ja<en.za;++en.ja){if(Cr=ft,Dt=(Ge=en).rb[Ge.sb-1],Gn=Ge.rb[Ge.sb+Ge.ja],Vt=Ge.ya[Ge.aa+Ge.ja],gi=Ge.kc?Vt.Ad:0)Dt.la=Gn.la=0,Vt.Za||(Dt.Na=Gn.Na=0),Vt.Hc=0,Vt.Gc=0,Vt.ia=0;else{var vr,Sn;if(Dt=Gn,Gn=Cr,gi=Ge.Pa.Xc,Qi=Ge.ya[Ge.aa+Ge.ja],yr=Ge.pb[Qi.$b],nn=Qi.ad,Ri=0,Zi=Ge.rb[Ge.sb-1],on=Wr=0,i(nn,Ri,0,384),Qi.Za)var yi=0,js=gi[3];else{xn=o(16);var Nr=Dt.Na+Zi.Na;if(Nr=Vp(Gn,gi[1],Nr,yr.Eb,0,xn,0),Dt.Na=Zi.Na=(0<Nr)+0,1<Nr)vu(xn,0,nn,Ri);else{var mo=xn[0]+3>>3;for(xn=0;256>xn;xn+=16)nn[Ri+xn]=mo}yi=1,js=gi[0]}var Ln=15&Dt.la,Kr=15&Zi.la;for(xn=0;4>xn;++xn){var Do=1&Kr;for(mo=Sn=0;4>mo;++mo)Ln=Ln>>1|(Do=(Nr=Vp(Gn,js,Nr=Do+(1&Ln),yr.Sc,yi,nn,Ri))>yi)<<7,Sn=Sn<<2|(3<Nr?3:1<Nr?2:nn[Ri+0]!=0),Ri+=16;Ln>>=4,Kr=Kr>>1|Do<<7,Wr=(Wr<<8|Sn)>>>0}for(js=Ln,yi=Kr>>4,vr=0;4>vr;vr+=2){for(Sn=0,Ln=Dt.la>>4+vr,Kr=Zi.la>>4+vr,xn=0;2>xn;++xn){for(Do=1&Kr,mo=0;2>mo;++mo)Nr=Do+(1&Ln),Ln=Ln>>1|(Do=0<(Nr=Vp(Gn,gi[2],Nr,yr.Qc,0,nn,Ri)))<<3,Sn=Sn<<2|(3<Nr?3:1<Nr?2:nn[Ri+0]!=0),Ri+=16;Ln>>=2,Kr=Kr>>1|Do<<5}on|=Sn<<4*vr,js|=Ln<<4<<vr,yi|=(240&Kr)<<vr}Dt.la=js,Zi.la=yi,Qi.Hc=Wr,Qi.Gc=on,Qi.ia=43690&on?0:yr.ia,gi=!(Wr|on)}if(0<Ge.L&&(Ge.wa[Ge.Y+Ge.ja]=Ge.gd[Vt.$b][Vt.Za],Ge.wa[Ge.Y+Ge.ja].La|=!gi),Cr.Ka)return sr(en,7,"Premature end-of-file encountered.")}if(kc(en),Ge=Gr,Cr=1,Vt=(ft=en).D,Dt=0<ft.L&&ft.M>=ft.zb&&ft.M<=ft.Va,ft.Aa==0)t:{if(Vt.M=ft.M,Vt.uc=Dt,mi(ft,Vt),Cr=1,Vt=(Sn=ft.D).Nb,Dt=(on=rv[ft.L])*ft.R,Gn=on/2*ft.B,xn=16*Vt*ft.R,mo=8*Vt*ft.B,gi=ft.sa,Qi=ft.ta-Dt+xn,yr=ft.qa,nn=ft.ra-Gn+mo,Ri=ft.Ha,Zi=ft.Ia-Gn+mo,Kr=(Ln=Sn.M)==0,Wr=Ln>=ft.Va-1,ft.Aa==2&&mi(ft,Sn),Sn.uc)for(Do=(Nr=ft).D.M,e(Nr.D.uc),Sn=Nr.yb;Sn<Nr.Hb;++Sn){yi=Sn,js=Do;var eo=(Fo=(vi=Nr).D).Nb;vr=vi.R;var Fo=Fo.wa[Fo.Y+yi],Uo=vi.sa,go=vi.ta+16*eo*vr+16*yi,jo=Fo.dd,Bn=Fo.tc;if(Bn!=0)if(e(3<=Bn),vi.L==1)0<yi&&NP(Uo,go,vr,Bn+4),Fo.La&&RP(Uo,go,vr,Bn),0<js&&CP(Uo,go,vr,Bn+4),Fo.La&&kP(Uo,go,vr,Bn);else{var $o=vi.B,$s=vi.qa,$c=vi.ra+8*eo*$o+8*yi,hl=vi.Ha,vi=vi.Ia+8*eo*$o+8*yi;eo=Fo.ld,0<yi&&(Hr(Uo,go,vr,Bn+4,jo,eo),$p($s,$c,hl,vi,$o,Bn+4,jo,eo)),Fo.La&&(Ky(Uo,go,vr,Bn,jo,eo),PP($s,$c,hl,vi,$o,Bn,jo,eo)),0<js&&(Pr(Uo,go,vr,Bn+4,jo,eo),fl($s,$c,hl,vi,$o,Bn+4,jo,eo)),Fo.La&&(dd(Uo,go,vr,Bn,jo,eo),IP($s,$c,hl,vi,$o,Bn,jo,eo))}}if(ft.ia&&alert("todo:DitherRow"),Ge.put!=null){if(Sn=16*Ln,Ln=16*(Ln+1),Kr?(Ge.y=ft.sa,Ge.O=ft.ta+xn,Ge.f=ft.qa,Ge.N=ft.ra+mo,Ge.ea=ft.Ha,Ge.W=ft.Ia+mo):(Sn-=on,Ge.y=gi,Ge.O=Qi,Ge.f=yr,Ge.N=nn,Ge.ea=Ri,Ge.W=Zi),Wr||(Ln-=on),Ln>Ge.o&&(Ln=Ge.o),Ge.F=null,Ge.J=null,ft.Fa!=null&&0<ft.Fa.length&&Sn<Ln&&(Ge.J=bn(ft,Ge,Sn,Ln-Sn),Ge.F=ft.mb,Ge.F==null&&Ge.F.length==0)){Cr=sr(ft,3,"Could not decode alpha data.");break t}Sn<Ge.j&&(on=Ge.j-Sn,Sn=Ge.j,e(!(1&on)),Ge.O+=ft.R*on,Ge.N+=ft.B*(on>>1),Ge.W+=ft.B*(on>>1),Ge.F!=null&&(Ge.J+=Ge.width*on)),Sn<Ln&&(Ge.O+=Ge.v,Ge.N+=Ge.v>>1,Ge.W+=Ge.v>>1,Ge.F!=null&&(Ge.J+=Ge.v),Ge.ka=Sn-Ge.j,Ge.U=Ge.va-Ge.v,Ge.T=Ln-Sn,Cr=Ge.put(Ge))}Vt+1!=ft.Ic||Wr||(r(ft.sa,ft.ta-Dt,gi,Qi+16*ft.R,Dt),r(ft.qa,ft.ra-Gn,yr,nn+8*ft.B,Gn),r(ft.Ha,ft.Ia-Gn,Ri,Zi+8*ft.B,Gn))}if(!Cr)return sr(en,6,"Output aborted.")}return 1}(se,ve)),ve.bc!=null&&ve.bc(ve),Se&=1}return Se?(se.cb=0,Se):0})(m,$)||(x=m.a)}}else x=m.a}x==0&&K.Oa!=null&&K.Oa.fd&&(x=Mp(K.ba))}K=x}G=K!=0?null:11>G?J.f.RGBA.eb:J.f.kb.y}else G=null;return G};var QP=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(T,j){for(var P="",D=0;D<4;D++)P+=String.fromCharCode(T[j++]);return P}function c(T,j){return T[j+0]|T[j+1]<<8}function f(T,j){return(T[j+0]|T[j+1]<<8|T[j+2]<<16)>>>0}function d(T,j){return(T[j+0]|T[j+1]<<8|T[j+2]<<16|T[j+3]<<24)>>>0}new l;var h=[0],v=[0],_=[],w=new l,b=t,E=function(T,j){var P={},D=0,U=!1,z=0,ee=0;if(P.frames=[],!function(B,W){for(var ne=0;ne<4;ne++)if(B[W+ne]!="RIFF".charCodeAt(ne))return!0;return!1}(T,j)){for(d(T,j+=4),j+=8;j<T.length;){var le=u(T,j),ue=d(T,j+=4);j+=4;var X=ue+(1&ue);switch(le){case"VP8 ":case"VP8L":P.frames[D]===void 0&&(P.frames[D]={}),(me=P.frames[D]).src_off=U?ee:j-8,me.src_size=z+ue+8,D++,U&&(U=!1,z=0,ee=0);break;case"VP8X":(me=P.header={}).feature_flags=T[j];var ae=j+4;me.canvas_width=1+f(T,ae),ae+=3,me.canvas_height=1+f(T,ae),ae+=3;break;case"ALPH":U=!0,z=X+8,ee=j-8;break;case"ANIM":(me=P.header).bgcolor=d(T,j),ae=j+4,me.loop_count=c(T,ae),ae+=2;break;case"ANMF":var ye,me;(me=P.frames[D]={}).offset_x=2*f(T,j),j+=3,me.offset_y=2*f(T,j),j+=3,me.width=1+f(T,j),j+=3,me.height=1+f(T,j),j+=3,me.duration=f(T,j),j+=3,ye=T[j++],me.dispose=1&ye,me.blend=ye>>1&1}le!="ANMF"&&(j+=X)}return P}}(b,0);E.response=b,E.rgbaoutput=!0,E.dataurl=!1;var A=E.header?E.header:null,C=E.frames?E.frames:null;if(A){A.loop_counter=A.loop_count,h=[A.canvas_height],v=[A.canvas_width];for(var R=0;R<C.length&&C[R].blend!=0;R++);}var F=C[0],k=w.WebPDecodeRGBA(b,F.src_off,F.src_size,v,h);F.rgba=k,F.imgwidth=v[0],F.imgheight=h[0];for(var N=0;N<v[0]*h[0]*4;N++)_[N]=k[N];return this.width=v,this.height=h,this.data=_,this}(function(t){var e,n,r,i,o,s,a,l,u,c=function(B){return B=B||{},this.isStrokeTransparent=B.isStrokeTransparent||!1,this.strokeOpacity=B.strokeOpacity||1,this.strokeStyle=B.strokeStyle||"#000000",this.fillStyle=B.fillStyle||"#000000",this.isFillTransparent=B.isFillTransparent||!1,this.fillOpacity=B.fillOpacity||1,this.font=B.font||"10px sans-serif",this.textBaseline=B.textBaseline||"alphabetic",this.textAlign=B.textAlign||"left",this.lineWidth=B.lineWidth||1,this.lineJoin=B.lineJoin||"miter",this.lineCap=B.lineCap||"butt",this.path=B.path||[],this.transform=B.transform!==void 0?B.transform.clone():new l,this.globalCompositeOperation=B.globalCompositeOperation||"normal",this.globalAlpha=B.globalAlpha||1,this.clip_path=B.clip_path||[],this.currentPoint=B.currentPoint||new s,this.miterLimit=B.miterLimit||10,this.lastPoint=B.lastPoint||new s,this.lineDashOffset=B.lineDashOffset||0,this.lineDash=B.lineDash||[],this.margin=B.margin||[0,0,0,0],this.prevPageLastElemOffset=B.prevPageLastElemOffset||0,this.ignoreClearRect=typeof B.ignoreClearRect!="boolean"||B.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var f=function(B){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=B;Object.defineProperty(this,"pdf",{get:function(){return W}});var ne=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ne},set:function(Y){ne=!!Y}});var fe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return fe},set:function(Y){fe=!!Y}});var he=0;Object.defineProperty(this,"posX",{get:function(){return he},set:function(Y){isNaN(Y)||(he=Y)}});var we=0;Object.defineProperty(this,"posY",{get:function(){return we},set:function(Y){isNaN(Y)||(we=Y)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Y){var ke;typeof Y=="number"?ke=[Y,Y,Y,Y]:((ke=new Array(4))[0]=Y[0],ke[1]=Y.length>=2?Y[1]:ke[0],ke[2]=Y.length>=3?Y[2]:ke[0],ke[3]=Y.length>=4?Y[3]:ke[1]),u.margin=ke}});var Te=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Te},set:function(Y){Te=Y}});var re=0;Object.defineProperty(this,"lastBreak",{get:function(){return re},set:function(Y){re=Y}});var pe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return pe},set:function(Y){pe=Y}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Y){Y instanceof c&&(u=Y)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Y){u.path=Y}});var Ce=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ce},set:function(Y){Ce=Y}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Y){var ke;ke=d(Y),this.ctx.fillStyle=ke.style,this.ctx.isFillTransparent=ke.a===0,this.ctx.fillOpacity=ke.a,this.pdf.setFillColor(ke.r,ke.g,ke.b,{a:ke.a}),this.pdf.setTextColor(ke.r,ke.g,ke.b,{a:ke.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Y){var ke=d(Y);this.ctx.strokeStyle=ke.style,this.ctx.isStrokeTransparent=ke.a===0,this.ctx.strokeOpacity=ke.a,ke.a===0?this.pdf.setDrawColor(255,255,255):(ke.a,this.pdf.setDrawColor(ke.r,ke.g,ke.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Y){["butt","round","square"].indexOf(Y)!==-1&&(this.ctx.lineCap=Y,this.pdf.setLineCap(Y))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Y){isNaN(Y)||(this.ctx.lineWidth=Y,this.pdf.setLineWidth(Y))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Y){["bevel","round","miter"].indexOf(Y)!==-1&&(this.ctx.lineJoin=Y,this.pdf.setLineJoin(Y))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Y){isNaN(Y)||(this.ctx.miterLimit=Y,this.pdf.setMiterLimit(Y))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Y){this.ctx.textBaseline=Y}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Y){["right","end","center","left","start"].indexOf(Y)!==-1&&(this.ctx.textAlign=Y)}});var Z=null,Ee=null,Ne=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ne},set:function(Y){Z=null,Ee=null,Ne=Y}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Y){var ke;if(this.ctx.font=Y,(ke=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(Y))!==null){var Ye=ke[1];ke[2];var Xe=ke[3],Fe=ke[4];ke[5];var Je=ke[6],We=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Fe)[2];Fe=Math.floor(We==="px"?parseFloat(Fe)*this.pdf.internal.scaleFactor:We==="em"?parseFloat(Fe)*this.pdf.getFontSize():parseFloat(Fe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Fe);var it=function(ht){var Rn,Yt,Ut=[],Lt=ht.trim();if(Lt==="")return Rx;if(Lt in ED)return[ED[Lt]];for(;Lt!=="";){switch(Yt=null,Rn=(Lt=TD(Lt)).charAt(0)){case'"':case"'":Yt=pMe(Lt.substring(1),Rn);break;default:Yt=mMe(Lt)}if(Yt===null||(Ut.push(Yt[0]),(Lt=TD(Yt[1]))!==""&&Lt.charAt(0)!==","))return Rx;Lt=Lt.replace(/^,/,"")}return Ut}(Je);if(this.fontFaces){var ot=function(ht,Rn){var Yt=ht.getFontList(),Ut=JSON.stringify(Yt);if(Z===null||Ee!==Ut){var Lt=function(jn){var gt=[];return Object.keys(jn).forEach(function(yn){jn[yn].forEach(function(_t){var It=null;switch(_t){case"bold":It={family:yn,weight:"bold"};break;case"italic":It={family:yn,style:"italic"};break;case"bolditalic":It={family:yn,weight:"bold",style:"italic"};break;case"":case"normal":It={family:yn}}It!==null&&(It.ref={name:yn,style:_t},gt.push(It))})}),gt}(Yt);Z=function(jn){for(var gt={},yn=0;yn<jn.length;++yn){var _t=kx(jn[yn]),It=_t.family,vn=_t.stretch,jt=_t.style,yt=_t.weight;gt[It]=gt[It]||{},gt[It][vn]=gt[It][vn]||{},gt[It][vn][jt]=gt[It][vn][jt]||{},gt[It][vn][jt][yt]=_t}return gt}(Lt.concat(Rn)),Ee=Ut}return Z}(this.pdf,this.fontFaces),Wt=it.map(function(ht){return{family:ht,stretch:"normal",weight:Xe,style:Ye}}),Ft=function(ht,Rn,Yt){for(var Ut=(Yt=Yt||{}).defaultFontFamily||"times",Lt=Object.assign({},hMe,Yt.genericFontFamilies||{}),jn=null,gt=null,yn=0;yn<Rn.length;++yn)if(Lt[(jn=kx(Rn[yn])).family]&&(jn.family=Lt[jn.family]),ht.hasOwnProperty(jn.family)){gt=ht[jn.family];break}if(!(gt=gt||ht[Ut]))throw new Error("Could not find a font-family for the rule '"+AD(jn)+"' and default family '"+Ut+"'.");if(gt=function(_t,It){if(It[_t])return It[_t];var vn=iA[_t],jt=vn<=iA.normal?-1:1,yt=SD(It,mq,vn,jt);if(!yt)throw new Error("Could not find a matching font-stretch value for "+_t);return yt}(jn.stretch,gt),gt=function(_t,It){if(It[_t])return It[_t];for(var vn=pq[_t],jt=0;jt<vn.length;++jt)if(It[vn[jt]])return It[vn[jt]];throw new Error("Could not find a matching font-style for "+_t)}(jn.style,gt),!(gt=function(_t,It){if(It[_t])return It[_t];if(_t===400&&It[500])return It[500];if(_t===500&&It[400])return It[400];var vn=dMe[_t],jt=SD(It,gq,vn,_t<400?-1:1);if(!jt)throw new Error("Could not find a matching font-weight for value "+_t);return jt}(jn.weight,gt)))throw new Error("Failed to resolve a font for the rule '"+AD(jn)+"'.");return gt}(ot,Wt);this.pdf.setFont(Ft.ref.name,Ft.ref.style)}else{var dt="";(Xe==="bold"||parseInt(Xe,10)>=700||Ye==="bold")&&(dt="bold"),Ye==="italic"&&(dt+="italic"),dt.length===0&&(dt="normal");for(var xt="",$t={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},st=0;st<it.length;st++){if(this.pdf.internal.getFont(it[st],dt,{noFallback:!0,disableWarning:!0})!==void 0){xt=it[st];break}if(dt==="bolditalic"&&this.pdf.internal.getFont(it[st],"bold",{noFallback:!0,disableWarning:!0})!==void 0)xt=it[st],dt="bold";else if(this.pdf.internal.getFont(it[st],"normal",{noFallback:!0,disableWarning:!0})!==void 0){xt=it[st],dt="normal";break}}if(xt===""){for(var Ct=0;Ct<it.length;Ct++)if($t[it[Ct]]){xt=$t[it[Ct]];break}}xt=xt===""?"Times":xt,this.pdf.setFont(xt,dt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Y){this.ctx.globalCompositeOperation=Y}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Y){this.ctx.globalAlpha=Y}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Y){this.ctx.lineDashOffset=Y,me.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Y){this.ctx.lineDash=Y,me.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Y){this.ctx.ignoreClearRect=!!Y}})};f.prototype.setLineDash=function(B){this.lineDash=B},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){C.call(this,"fill",!1)},f.prototype.stroke=function(){C.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(B,W){if(isNaN(B)||isNaN(W))throw Dn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ne=this.ctx.transform.applyToPoint(new s(B,W));this.path.push({type:"mt",x:ne.x,y:ne.y}),this.ctx.lastPoint=new s(B,W)},f.prototype.closePath=function(){var B=new s(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&Tn(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){B=new s(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(B.x,B.y)},f.prototype.lineTo=function(B,W){if(isNaN(B)||isNaN(W))throw Dn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ne=this.ctx.transform.applyToPoint(new s(B,W));this.path.push({type:"lt",x:ne.x,y:ne.y}),this.ctx.lastPoint=new s(ne.x,ne.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),C.call(this,null,!0)},f.prototype.quadraticCurveTo=function(B,W,ne,fe){if(isNaN(ne)||isNaN(fe)||isNaN(B)||isNaN(W))throw Dn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var he=this.ctx.transform.applyToPoint(new s(ne,fe)),we=this.ctx.transform.applyToPoint(new s(B,W));this.path.push({type:"qct",x1:we.x,y1:we.y,x:he.x,y:he.y}),this.ctx.lastPoint=new s(he.x,he.y)},f.prototype.bezierCurveTo=function(B,W,ne,fe,he,we){if(isNaN(he)||isNaN(we)||isNaN(B)||isNaN(W)||isNaN(ne)||isNaN(fe))throw Dn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Te=this.ctx.transform.applyToPoint(new s(he,we)),re=this.ctx.transform.applyToPoint(new s(B,W)),pe=this.ctx.transform.applyToPoint(new s(ne,fe));this.path.push({type:"bct",x1:re.x,y1:re.y,x2:pe.x,y2:pe.y,x:Te.x,y:Te.y}),this.ctx.lastPoint=new s(Te.x,Te.y)},f.prototype.arc=function(B,W,ne,fe,he,we){if(isNaN(B)||isNaN(W)||isNaN(ne)||isNaN(fe)||isNaN(he))throw Dn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(we=!!we,!this.ctx.transform.isIdentity){var Te=this.ctx.transform.applyToPoint(new s(B,W));B=Te.x,W=Te.y;var re=this.ctx.transform.applyToPoint(new s(0,ne)),pe=this.ctx.transform.applyToPoint(new s(0,0));ne=Math.sqrt(Math.pow(re.x-pe.x,2)+Math.pow(re.y-pe.y,2))}Math.abs(he-fe)>=2*Math.PI&&(fe=0,he=2*Math.PI),this.path.push({type:"arc",x:B,y:W,radius:ne,startAngle:fe,endAngle:he,counterclockwise:we})},f.prototype.arcTo=function(B,W,ne,fe,he){throw new Error("arcTo not implemented.")},f.prototype.rect=function(B,W,ne,fe){if(isNaN(B)||isNaN(W)||isNaN(ne)||isNaN(fe))throw Dn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(B,W),this.lineTo(B+ne,W),this.lineTo(B+ne,W+fe),this.lineTo(B,W+fe),this.lineTo(B,W),this.lineTo(B+ne,W),this.lineTo(B,W)},f.prototype.fillRect=function(B,W,ne,fe){if(isNaN(B)||isNaN(W)||isNaN(ne)||isNaN(fe))throw Dn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var he={};this.lineCap!=="butt"&&(he.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(he.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(B,W,ne,fe),this.fill(),he.hasOwnProperty("lineCap")&&(this.lineCap=he.lineCap),he.hasOwnProperty("lineJoin")&&(this.lineJoin=he.lineJoin)}},f.prototype.strokeRect=function(B,W,ne,fe){if(isNaN(B)||isNaN(W)||isNaN(ne)||isNaN(fe))throw Dn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(B,W,ne,fe),this.stroke())},f.prototype.clearRect=function(B,W,ne,fe){if(isNaN(B)||isNaN(W)||isNaN(ne)||isNaN(fe))throw Dn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(B,W,ne,fe))},f.prototype.save=function(B){B=typeof B!="boolean"||B;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,ne=0;ne<this.pdf.internal.getNumberOfPages();ne++)this.pdf.setPage(ne+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),B){this.ctx.fontSize=this.pdf.internal.getFontSize();var fe=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=fe}},f.prototype.restore=function(B){B=typeof B!="boolean"||B;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,ne=0;ne<this.pdf.internal.getNumberOfPages();ne++)this.pdf.setPage(ne+1),this.pdf.internal.out("Q");this.pdf.setPage(W),B&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(B){var W,ne,fe,he;if(B.isCanvasGradient===!0&&(B=B.getColor()),!B)return{r:0,g:0,b:0,a:0,style:B};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(B))W=0,ne=0,fe=0,he=0;else{var we=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(B);if(we!==null)W=parseInt(we[1]),ne=parseInt(we[2]),fe=parseInt(we[3]),he=1;else if((we=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(B))!==null)W=parseInt(we[1]),ne=parseInt(we[2]),fe=parseInt(we[3]),he=parseFloat(we[4]);else{if(he=1,typeof B=="string"&&B.charAt(0)!=="#"){var Te=new aq(B);B=Te.ok?Te.toHex():"#000000"}B.length===4?(W=B.substring(1,2),W+=W,ne=B.substring(2,3),ne+=ne,fe=B.substring(3,4),fe+=fe):(W=B.substring(1,3),ne=B.substring(3,5),fe=B.substring(5,7)),W=parseInt(W,16),ne=parseInt(ne,16),fe=parseInt(fe,16)}}return{r:W,g:ne,b:fe,a:he,style:B}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(B,W,ne,fe){if(isNaN(W)||isNaN(ne)||typeof B!="string")throw Dn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(fe=isNaN(fe)?void 0:fe,!h.call(this)){var he=X(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;D.call(this,{text:B,x:W,y:ne,scale:we,angle:he,align:this.textAlign,maxWidth:fe})}},f.prototype.strokeText=function(B,W,ne,fe){if(isNaN(W)||isNaN(ne)||typeof B!="string")throw Dn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){fe=isNaN(fe)?void 0:fe;var he=X(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;D.call(this,{text:B,x:W,y:ne,scale:we,renderingMode:"stroke",angle:he,align:this.textAlign,maxWidth:fe})}},f.prototype.measureText=function(B){if(typeof B!="string")throw Dn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,ne=this.pdf.internal.scaleFactor,fe=W.internal.getFontSize(),he=W.getStringUnitWidth(B)*fe/W.internal.scaleFactor;return new function(we){var Te=(we=we||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Te}}),this}({width:he*=Math.round(96*ne/72*1e4)/1e4})},f.prototype.scale=function(B,W){if(isNaN(B)||isNaN(W))throw Dn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ne=new l(B,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(ne)},f.prototype.rotate=function(B){if(isNaN(B))throw Dn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new l(Math.cos(B),Math.sin(B),-Math.sin(B),Math.cos(B),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},f.prototype.translate=function(B,W){if(isNaN(B)||isNaN(W))throw Dn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ne=new l(1,0,0,1,B,W);this.ctx.transform=this.ctx.transform.multiply(ne)},f.prototype.transform=function(B,W,ne,fe,he,we){if(isNaN(B)||isNaN(W)||isNaN(ne)||isNaN(fe)||isNaN(he)||isNaN(we))throw Dn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Te=new l(B,W,ne,fe,he,we);this.ctx.transform=this.ctx.transform.multiply(Te)},f.prototype.setTransform=function(B,W,ne,fe,he,we){B=isNaN(B)?1:B,W=isNaN(W)?0:W,ne=isNaN(ne)?0:ne,fe=isNaN(fe)?1:fe,he=isNaN(he)?0:he,we=isNaN(we)?0:we,this.ctx.transform=new l(B,W,ne,fe,he,we)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(B,W,ne,fe,he,we,Te,re,pe){var Ce=this.pdf.getImageProperties(B),Z=1,Ee=1,Ne=1,Y=1;fe!==void 0&&re!==void 0&&(Ne=re/fe,Y=pe/he,Z=Ce.width/fe*re/fe,Ee=Ce.height/he*pe/he),we===void 0&&(we=W,Te=ne,W=0,ne=0),fe!==void 0&&re===void 0&&(re=fe,pe=he),fe===void 0&&re===void 0&&(re=Ce.width,pe=Ce.height);var ke=this.ctx.transform.decompose(),Ye=X(ke.rotate.shx),Xe=new l,Fe=(Xe=(Xe=(Xe=Xe.multiply(ke.translate)).multiply(ke.skew)).multiply(ke.scale)).applyToRectangle(new a(we-W*Ne,Te-ne*Y,fe*Z,he*Ee));if(this.autoPaging){for(var Je,We=w.call(this,Fe),it=[],ot=0;ot<We.length;ot+=1)it.indexOf(We[ot])===-1&&it.push(We[ot]);A(it);for(var Wt=it[0],Ft=it[it.length-1],dt=Wt;dt<Ft+1;dt++){this.pdf.setPage(dt);var xt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],$t=dt===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ht=dt===1?0:st+(dt-2)*Ct;if(this.ctx.clip_path.length!==0){var Rn=this.path;Je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Je,this.posX+this.margin[3],-ht+$t+this.ctx.prevPageLastElemOffset),R.call(this,"fill",!0),this.path=Rn}var Yt=JSON.parse(JSON.stringify(Fe));Yt=E([Yt],this.posX+this.margin[3],-ht+$t+this.ctx.prevPageLastElemOffset)[0];var Ut=(dt>Wt||dt<Ft)&&_.call(this);Ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xt,Ct,null).clip().discardPath()),this.pdf.addImage(B,"JPEG",Yt.x,Yt.y,Yt.w,Yt.h,null,null,Ye),Ut&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(B,"JPEG",Fe.x,Fe.y,Fe.w,Fe.h,null,null,Ye)};var w=function(B,W,ne){var fe=[];W=W||this.pdf.internal.pageSize.width,ne=ne||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var he=this.posY+this.ctx.prevPageLastElemOffset;switch(B.type){default:case"mt":case"lt":fe.push(Math.floor((B.y+he)/ne)+1);break;case"arc":fe.push(Math.floor((B.y+he-B.radius)/ne)+1),fe.push(Math.floor((B.y+he+B.radius)/ne)+1);break;case"qct":var we=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x,B.y);fe.push(Math.floor((we.y+he)/ne)+1),fe.push(Math.floor((we.y+we.h+he)/ne)+1);break;case"bct":var Te=ye(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x2,B.y2,B.x,B.y);fe.push(Math.floor((Te.y+he)/ne)+1),fe.push(Math.floor((Te.y+Te.h+he)/ne)+1);break;case"rect":fe.push(Math.floor((B.y+he)/ne)+1),fe.push(Math.floor((B.y+B.h+he)/ne)+1)}for(var re=0;re<fe.length;re+=1)for(;this.pdf.internal.getNumberOfPages()<fe[re];)b.call(this);return fe},b=function(){var B=this.fillStyle,W=this.strokeStyle,ne=this.font,fe=this.lineCap,he=this.lineWidth,we=this.lineJoin;this.pdf.addPage(),this.fillStyle=B,this.strokeStyle=W,this.font=ne,this.lineCap=fe,this.lineWidth=he,this.lineJoin=we},E=function(B,W,ne){for(var fe=0;fe<B.length;fe++)switch(B[fe].type){case"bct":B[fe].x2+=W,B[fe].y2+=ne;case"qct":B[fe].x1+=W,B[fe].y1+=ne;default:B[fe].x+=W,B[fe].y+=ne}return B},A=function(B){return B.sort(function(W,ne){return W-ne})},C=function(B,W){var ne=this.fillStyle,fe=this.strokeStyle,he=this.lineCap,we=this.lineWidth,Te=Math.abs(we*this.ctx.transform.scaleX),re=this.lineJoin;if(this.autoPaging){for(var pe,Ce,Z=JSON.parse(JSON.stringify(this.path)),Ee=JSON.parse(JSON.stringify(this.path)),Ne=[],Y=0;Y<Ee.length;Y++)if(Ee[Y].x!==void 0)for(var ke=w.call(this,Ee[Y]),Ye=0;Ye<ke.length;Ye+=1)Ne.indexOf(ke[Ye])===-1&&Ne.push(ke[Ye]);for(var Xe=0;Xe<Ne.length;Xe++)for(;this.pdf.internal.getNumberOfPages()<Ne[Xe];)b.call(this);A(Ne);for(var Fe=Ne[0],Je=Ne[Ne.length-1],We=Fe;We<Je+1;We++){this.pdf.setPage(We),this.fillStyle=ne,this.strokeStyle=fe,this.lineCap=he,this.lineWidth=Te,this.lineJoin=re;var it=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ot=We===1?this.posY+this.margin[0]:this.margin[0],Wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],dt=We===1?0:Wt+(We-2)*Ft;if(this.ctx.clip_path.length!==0){var xt=this.path;pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(pe,this.posX+this.margin[3],-dt+ot+this.ctx.prevPageLastElemOffset),R.call(this,B,!0),this.path=xt}if(Ce=JSON.parse(JSON.stringify(Z)),this.path=E(Ce,this.posX+this.margin[3],-dt+ot+this.ctx.prevPageLastElemOffset),W===!1||We===0){var $t=(We>Fe||We<Je)&&_.call(this);$t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],it,Ft,null).clip().discardPath()),R.call(this,B,W),$t&&this.pdf.restoreGraphicsState()}this.lineWidth=we}this.path=Z}else this.lineWidth=Te,R.call(this,B,W),this.lineWidth=we},R=function(B,W){if((B!=="stroke"||W||!v.call(this))&&(B==="stroke"||W||!h.call(this))){for(var ne,fe,he=[],we=this.path,Te=0;Te<we.length;Te++){var re=we[Te];switch(re.type){case"begin":he.push({begin:!0});break;case"close":he.push({close:!0});break;case"mt":he.push({start:re,deltas:[],abs:[]});break;case"lt":var pe=he.length;if(we[Te-1]&&!isNaN(we[Te-1].x)&&(ne=[re.x-we[Te-1].x,re.y-we[Te-1].y],pe>0)){for(;pe>=0;pe--)if(he[pe-1].close!==!0&&he[pe-1].begin!==!0){he[pe-1].deltas.push(ne),he[pe-1].abs.push(re);break}}break;case"bct":ne=[re.x1-we[Te-1].x,re.y1-we[Te-1].y,re.x2-we[Te-1].x,re.y2-we[Te-1].y,re.x-we[Te-1].x,re.y-we[Te-1].y],he[he.length-1].deltas.push(ne);break;case"qct":var Ce=we[Te-1].x+2/3*(re.x1-we[Te-1].x),Z=we[Te-1].y+2/3*(re.y1-we[Te-1].y),Ee=re.x+2/3*(re.x1-re.x),Ne=re.y+2/3*(re.y1-re.y),Y=re.x,ke=re.y;ne=[Ce-we[Te-1].x,Z-we[Te-1].y,Ee-we[Te-1].x,Ne-we[Te-1].y,Y-we[Te-1].x,ke-we[Te-1].y],he[he.length-1].deltas.push(ne);break;case"arc":he.push({deltas:[],abs:[],arc:!0}),Array.isArray(he[he.length-1].abs)&&he[he.length-1].abs.push(re)}}fe=W?null:B==="stroke"?"stroke":"fill";for(var Ye=!1,Xe=0;Xe<he.length;Xe++)if(he[Xe].arc)for(var Fe=he[Xe].abs,Je=0;Je<Fe.length;Je++){var We=Fe[Je];We.type==="arc"?N.call(this,We.x,We.y,We.radius,We.startAngle,We.endAngle,We.counterclockwise,void 0,W,!Ye):U.call(this,We.x,We.y),Ye=!0}else if(he[Xe].close===!0)this.pdf.internal.out("h"),Ye=!1;else if(he[Xe].begin!==!0){var it=he[Xe].start.x,ot=he[Xe].start.y;z.call(this,he[Xe].deltas,it,ot),Ye=!0}fe&&T.call(this,fe),W&&j.call(this)}},F=function(B){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ne=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return B-ne;case"top":return B+W-ne;case"hanging":return B+W-2*ne;case"middle":return B+W/2-ne;default:return B}},k=function(B){return B+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var B=function(){};return B.colorStops=[],B.addColorStop=function(W,ne){this.colorStops.push([W,ne])},B.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},B.isCanvasGradient=!0,B},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var N=function(B,W,ne,fe,he,we,Te,re,pe){for(var Ce=le.call(this,ne,fe,he,we),Z=0;Z<Ce.length;Z++){var Ee=Ce[Z];Z===0&&(pe?P.call(this,Ee.x1+B,Ee.y1+W):U.call(this,Ee.x1+B,Ee.y1+W)),ee.call(this,B,W,Ee.x2,Ee.y2,Ee.x3,Ee.y3,Ee.x4,Ee.y4)}re?j.call(this):T.call(this,Te)},T=function(B){switch(B){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},j=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(B,W){this.pdf.internal.out(n(B)+" "+r(W)+" m")},D=function(B){var W;switch(B.align){case"right":case"end":W="right";break;case"center":W="center";break;default:W="left"}var ne,fe,he,we=this.pdf.getTextDimensions(B.text),Te=F.call(this,B.y),re=k.call(this,Te)-we.h,pe=this.ctx.transform.applyToPoint(new s(B.x,Te));if(this.autoPaging){var Ce=this.ctx.transform.decompose(),Z=new l;Z=(Z=(Z=Z.multiply(Ce.translate)).multiply(Ce.skew)).multiply(Ce.scale);for(var Ee=this.ctx.transform.applyToRectangle(new a(B.x,Te,we.w,we.h)),Ne=Z.applyToRectangle(new a(B.x,re,we.w,we.h)),Y=w.call(this,Ne),ke=[],Ye=0;Ye<Y.length;Ye+=1)ke.indexOf(Y[Ye])===-1&&ke.push(Y[Ye]);A(ke);for(var Xe=ke[0],Fe=ke[ke.length-1],Je=Xe;Je<Fe+1;Je++){this.pdf.setPage(Je);var We=Je===1?this.posY+this.margin[0]:this.margin[0],it=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ot=this.pdf.internal.pageSize.height-this.margin[2],Wt=ot-this.margin[0],Ft=this.pdf.internal.pageSize.width-this.margin[1],dt=Ft-this.margin[3],xt=Je===1?0:it+(Je-2)*Wt;if(this.ctx.clip_path.length!==0){var $t=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(ne,this.posX+this.margin[3],-1*xt+We),R.call(this,"fill",!0),this.path=$t}var st=E([JSON.parse(JSON.stringify(Ne))],this.posX+this.margin[3],-xt+We+this.ctx.prevPageLastElemOffset)[0];B.scale>=.01&&(fe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(fe*B.scale),he=this.lineWidth,this.lineWidth=he*B.scale);var Ct=this.autoPaging!=="text";if(Ct||st.y+st.h<=ot){if(Ct||st.y>=We&&st.x<=Ft){var ht=Ct?B.text:this.pdf.splitTextToSize(B.text,B.maxWidth||Ft-st.x)[0],Rn=E([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-xt+We+this.ctx.prevPageLastElemOffset)[0],Yt=Ct&&(Je>Xe||Je<Fe)&&_.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dt,Wt,null).clip().discardPath()),this.pdf.text(ht,Rn.x,Rn.y,{angle:B.angle,align:W,renderingMode:B.renderingMode}),Yt&&this.pdf.restoreGraphicsState()}}else st.y<ot&&(this.ctx.prevPageLastElemOffset+=ot-st.y);B.scale>=.01&&(this.pdf.setFontSize(fe),this.lineWidth=he)}}else B.scale>=.01&&(fe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(fe*B.scale),he=this.lineWidth,this.lineWidth=he*B.scale),this.pdf.text(B.text,pe.x+this.posX,pe.y+this.posY,{angle:B.angle,align:W,renderingMode:B.renderingMode,maxWidth:B.maxWidth}),B.scale>=.01&&(this.pdf.setFontSize(fe),this.lineWidth=he)},U=function(B,W,ne,fe){ne=ne||0,fe=fe||0,this.pdf.internal.out(n(B+ne)+" "+r(W+fe)+" l")},z=function(B,W,ne){return this.pdf.lines(B,W,ne,null,null)},ee=function(B,W,ne,fe,he,we,Te,re){this.pdf.internal.out([e(i(ne+B)),e(o(fe+W)),e(i(he+B)),e(o(we+W)),e(i(Te+B)),e(o(re+W)),"c"].join(" "))},le=function(B,W,ne,fe){for(var he=2*Math.PI,we=Math.PI/2;W>ne;)W-=he;var Te=Math.abs(ne-W);Te<he&&fe&&(Te=he-Te);for(var re=[],pe=fe?-1:1,Ce=W;Te>1e-5;){var Z=Ce+pe*Math.min(Te,we);re.push(ue.call(this,B,Ce,Z)),Te-=Math.abs(Z-Ce),Ce=Z}return re},ue=function(B,W,ne){var fe=(ne-W)/2,he=B*Math.cos(fe),we=B*Math.sin(fe),Te=he,re=-we,pe=Te*Te+re*re,Ce=pe+Te*he+re*we,Z=4/3*(Math.sqrt(2*pe*Ce)-Ce)/(Te*we-re*he),Ee=Te-Z*re,Ne=re+Z*Te,Y=Ee,ke=-Ne,Ye=fe+W,Xe=Math.cos(Ye),Fe=Math.sin(Ye);return{x1:B*Math.cos(W),y1:B*Math.sin(W),x2:Ee*Xe-Ne*Fe,y2:Ee*Fe+Ne*Xe,x3:Y*Xe-ke*Fe,y3:Y*Fe+ke*Xe,x4:B*Math.cos(ne),y4:B*Math.sin(ne)}},X=function(B){return 180*B/Math.PI},ae=function(B,W,ne,fe,he,we){var Te=B+.5*(ne-B),re=W+.5*(fe-W),pe=he+.5*(ne-he),Ce=we+.5*(fe-we),Z=Math.min(B,he,Te,pe),Ee=Math.max(B,he,Te,pe),Ne=Math.min(W,we,re,Ce),Y=Math.max(W,we,re,Ce);return new a(Z,Ne,Ee-Z,Y-Ne)},ye=function(B,W,ne,fe,he,we,Te,re){var pe,Ce,Z,Ee,Ne,Y,ke,Ye,Xe,Fe,Je,We,it,ot,Wt=ne-B,Ft=fe-W,dt=he-ne,xt=we-fe,$t=Te-he,st=re-we;for(Ce=0;Ce<41;Ce++)Xe=(ke=(Z=B+(pe=Ce/40)*Wt)+pe*((Ne=ne+pe*dt)-Z))+pe*(Ne+pe*(he+pe*$t-Ne)-ke),Fe=(Ye=(Ee=W+pe*Ft)+pe*((Y=fe+pe*xt)-Ee))+pe*(Y+pe*(we+pe*st-Y)-Ye),Ce==0?(Je=Xe,We=Fe,it=Xe,ot=Fe):(Je=Math.min(Je,Xe),We=Math.min(We,Fe),it=Math.max(it,Xe),ot=Math.max(ot,Fe));return new a(Math.round(Je),Math.round(We),Math.round(it-Je),Math.round(ot-We))},me=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var B,W,ne=(B=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:B,lineDashOffset:W}));this.prevLineDash!==ne&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ne)}}})(mt.API),function(t){var e=function(s){var a,l,u,c,f,d,h,v,_,w;for(l=[],u=0,c=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;c>u;u+=4)(f=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(d=(f=((f=((f=((f=(f-(w=f%85))/85)-(_=f%85))/85)-(v=f%85))/85)-(h=f%85))/85)%85,l.push(d+33,h+33,v+33,_+33,w+33)):l.push(122);return function(b,E){for(var A=E;A>0;A--)b.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},n=function(s){var a,l,u,c,f,d=String,h="length",v=255,_="charCodeAt",w="slice",b="replace";for(s[w](-2),s=s[w](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),u=[],c=0,f=(s+=a="uuuuu"[w](s[h]%5||5))[h];f>c;c+=5)l=52200625*(s[_](c)-33)+614125*(s[_](c+1)-33)+7225*(s[_](c+2)-33)+85*(s[_](c+3)-33)+(s[_](c+4)-33),u.push(v&l>>24,v&l>>16,v&l>>8,v&l);return function(E,A){for(var C=A;C>0;C--)E.pop()}(u,a[h]),d.fromCharCode.apply(d,u)},r=function(s){return s.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var l="",u=0;u<s.length;u+=2)l+=String.fromCharCode("0x"+(s[u]+s[u+1]));return l},o=function(s){for(var a=new Uint8Array(s.length),l=s.length;l--;)a[l]=s.charCodeAt(l);return(a=X5(a)).reduce(function(u,c){return u+String.fromCharCode(c)},"")};t.processDataByFilters=function(s,a){var l=0,u=s||"",c=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=o(u),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:u,reverseChain:c.reverse().join(" ")}}}(mt.API),function(t){t.loadFile=function(e,n,r){return function(i,o,s){o=o!==!1,s=typeof s=="function"?s:function(){};var a=void 0;try{a=function(l,u,c){var f=new XMLHttpRequest,d=0,h=function(v){var _=v.length,w=[],b=String.fromCharCode;for(d=0;d<_;d+=1)w.push(b(255&v.charCodeAt(d)));return w.join("")};if(f.open("GET",l,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?c(h(this.responseText)):c(void 0)}),f.send(null),u&&f.status===200)return h(f.responseText)}(i,o,s)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(mt.API),function(t){function e(){return(Tt.html2canvas?Promise.resolve(Tt.html2canvas):hx(()=>import("./html2canvas.esm-CBrSDip1.js"),[],import.meta.url)).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(Tt.DOMPurify?Promise.resolve(Tt.DOMPurify):hx(()=>import("./purify.es-B9ZVCkUG.js"),[],import.meta.url)).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=Tn(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var u=document.createElement(a);for(var c in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[c]=l.style[c];return u},o=function a(l,u){for(var c=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||c.appendChild(a(f,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(c.width=l.width,c.height=l.height,c.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(c.value=l.value),c.addEventListener("load",function(){c.scrollTop=l.scrollTop,c.scrollLeft=l.scrollLeft},!0)),c},s=function a(l){var u=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),c=a.convert(Promise.resolve(),u);return(c=c.setProgress(1,a,1,[a])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,l){return a.__proto__=l||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(n).then(function(u){return this.set({src:i("div",{innerHTML:a,dompurify:u})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=this.opt.jsPDF,c=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=c,c)for(var h=0;h<c.length;++h){var v=c[h],_=v.src.find(function(w){return w.format==="truetype"});_&&u.addFont(_.url,v.ref.name,v.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,u.context2d.save(!0),l(this.prop.container,d)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},s.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(r(a)!=="object")return this;var l=Object.keys(a||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=a[u]};switch(u){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[u]=a[u]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(a,l){return this.then(function(){var u=a in s.template.prop?this.prop[a]:this.opt[a];return l?l(u):u})},s.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function l(u,c){return Math.floor(u*c/72*96)}return this.then(function(){(a=a||mt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,l,u,c){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,l,u,c){return this.setProgress(a?this.progress.val+a:null,l||null,u?this.progress.n+u:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(a,l){var u=this;return this.thenCore(a,l,function(c,f){return u.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(d){return u.updateProgress(null,c),d}).then(c,f).then(function(d){return u.updateProgress(1),d})})},s.prototype.thenCore=function(a,l,u){u=u||Promise.prototype.then;var c=this;a&&(a=a.bind(c)),l&&(l=l.bind(c));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?c:s.convert(Object.assign({},c),Promise.prototype),d=u.call(f,a,l);return s.convert(d,c.__proto__)},s.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},s.prototype.thenList=function(a){var l=this;return a.forEach(function(u){l=l.thenCore(u)}),l},s.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return s.convert(l,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,mt.getPageSize=function(a,l,u){if(Tn(a)==="object"){var c=a;a=c.orientation,l=c.unit||l,u=c.format||u}l=l||"mm",u=u||"a4",a=(""+(a||"P")).toLowerCase();var f,d=(""+u).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var v,_=0,w=0;if(h.hasOwnProperty(d))_=h[d][1]/f,w=h[d][0]/f;else try{_=u[1],w=u[0]}catch{throw new Error("Invalid format: "+u)}if(a==="p"||a==="portrait")a="p",w>_&&(v=w,w=_,_=v);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",_>w&&(v=w,w=_,_=v)}return{width:w,height:_,unit:l,k:f,orientation:a}},t.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(kx):null;var u=new s(l);return l.worker?u:u.from(a).doCallback()}}(mt.API),mt.API.addJS=function(t){return PD=t,this.internal.events.subscribe("postPutResources",function(){u0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(u0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),ID=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+PD+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){u0!==void 0&&ID!==void 0&&this.internal.out("/Names <</JavaScript "+u0+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),o=0;o<i.length;o++){var s=i[o],a=r.exec(s);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(o=0;o<u;o++){var f=n.internal.newObject();c.push(f);var d=n.internal.getPageInfo(o+1);n.internal.write("<< /D["+d.objId+" 0 R /XYZ null null null]>> endobj")}var h=n.internal.newObject();for(n.internal.write("<< /Names [ "),o=0;o<c.length;o++)n.internal.write("(page_"+(o+1)+")"+c[o]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+h+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,o){var s={title:i,options:o,children:[]};return r==null&&(r=this.root),r.children.push(s),s},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var s=r.children[o];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var a=this.count=this.count_r({count:0},s);if(a>0&&this.line("/Count "+a),s.options&&s.options.pageNumber){var l=n.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var o=0;o<i.children.length;o++)r.count++,this.count_r(r,i.children[o]);return r.count}}])}(mt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,o,s,a){var l,u=this.decode.DCT_DECODE,c=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=s||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(f){for(var d,h=256*f.charCodeAt(4)+f.charCodeAt(5),v=f.length,_={width:0,height:0,numcomponents:1},w=4;w<v;w+=2){if(w+=h,e.indexOf(f.charCodeAt(w+1))!==-1){d=256*f.charCodeAt(w+5)+f.charCodeAt(w+6),_={width:256*f.charCodeAt(w+7)+f.charCodeAt(w+8),height:d,numcomponents:f.charCodeAt(w+9)};break}h=256*f.charCodeAt(w+2)+f.charCodeAt(w+3)}return _}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}c={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:u,index:r,alias:i}}return c}}(mt.API),mt.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,o=QOe(t,{checkCrc:!0}),s=o.width,a=o.height,l=o.channels,u=o.palette,c=o.depth;i=u&&l===1?function(N){for(var T=N.width,j=N.height,P=N.data,D=N.palette,U=N.depth,z=!1,ee=[],le=[],ue=void 0,X=!1,ae=0,ye=0;ye<D.length;ye++){var me=RL(D[ye],4),B=me[0],W=me[1],ne=me[2],fe=me[3];ee.push(B,W,ne),fe!=null&&(fe===0?(ae++,le.length<1&&le.push(ye)):fe<255&&(X=!0))}if(X||ae>1){z=!0,le=void 0;var he=T*j;ue=new Uint8Array(he);for(var we=new DataView(P.buffer),Te=0;Te<he;Te++){var re=Ox(we,Te,U),pe=RL(D[re],4)[3];ue[Te]=pe}}else ae===0&&(le=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:z?8:void 0,colorBytes:P,alphaBytes:ue,needSMask:z,palette:ee,mask:le}}(o):l===2||l===4?function(N){for(var T=N.data,j=N.width,P=N.height,D=N.channels,U=N.depth,z=D===2?"DeviceGray":"DeviceRGB",ee=D-1,le=j*P,ue=ee,X=le*ue,ae=1*le,ye=Math.ceil(X*U/8),me=Math.ceil(ae*U/8),B=new Uint8Array(ye),W=new Uint8Array(me),ne=new DataView(T.buffer),fe=new DataView(B.buffer),he=new DataView(W.buffer),we=!1,Te=0;Te<le;Te++){for(var re=Te*D,pe=0;pe<ue;pe++)FD(fe,Ox(ne,re+pe,U),Te*ue+pe,U);var Ce=Ox(ne,re+ue,U);Ce<(1<<U)-1&&(we=!0),FD(he,Ce,1*Te,U)}return{colorSpace:z,colorsPerPixel:ee,sMaskBitsPerComponent:we?U:void 0,colorBytes:B,alphaBytes:W,needSMask:we}}(o):function(N){var T=N.data,j=N.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:j,colorsPerPixel:j==="DeviceGray"?1:3,colorBytes:T instanceof Uint16Array?function(P){for(var D=P.length,U=new Uint8Array(2*D),z=new DataView(U.buffer,U.byteOffset,U.byteLength),ee=0;ee<D;ee++)z.setUint16(2*ee,P[ee],!1);return U}(T):T,needSMask:!1}}(o);var f,d,h,v=i,_=v.colorSpace,w=v.colorsPerPixel,b=v.sMaskBitsPerComponent,E=v.colorBytes,A=v.alphaBytes,C=v.needSMask,R=v.palette,F=v.mask,k=null;return r!==mt.API.image_compression.NONE&&typeof X5=="function"?(k=function(N){var T;switch(N){case mt.API.image_compression.FAST:T=11;break;case mt.API.image_compression.MEDIUM:T=13;break;case mt.API.image_compression.SLOW:T=14;break;default:T=12}return T}(r),f=this.decode.FLATE_DECODE,d="/Predictor ".concat(k," /Colors ").concat(w," /BitsPerComponent ").concat(c," /Columns ").concat(s),t=RD(E,Math.ceil(s*w*c/8),w,c,r),C&&(h=RD(A,Math.ceil(s*b/8),1,b,r))):(f=void 0,d=void 0,t=E,C&&(h=A)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:n,data:t,index:e,filter:f,decodeParameters:d,transparency:F,palette:R,sMask:h,predictor:k,width:s,height:a,bitsPerComponent:c,sMaskBitsPerComponent:b,colorSpace:_}}},function(t){t.processGIF89A=function(e,n,r,i){var o=new wMe(e),s=o.width,a=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:s,height:a},c=new Mx(100).encode(u,100);return t.processJPEG.call(this,c,n,r,i)},t.processGIF87A=t.processGIF89A}(mt.API),qs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},qs.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Dn.log("bit decode error:"+n)}},qs.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[o>>7-a&1];this.data[s+4*a]=l.blue,this.data[s+4*a+1]=l.green,this.data[s+4*a+2]=l.red,this.data[s+4*a+3]=255}n!==0&&(this.pos+=4-n)}},qs.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,a=o>>4,l=15&o,u=this.palette[a];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},qs.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}t!==0&&(this.pos+=4-t)}},qs.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,a=(o>>5&e)/e*255|0,l=(o>>10&e)/e*255|0,u=o>>15?255:0,c=r*this.width*4+4*i;this.data[c]=l,this.data[c+1]=a,this.data[c+2]=s,this.data[c+3]=u}this.pos+=t}},qs.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,l=(s>>5&n)/n*255|0,u=(s>>11)/e*255|0,c=i*this.width*4+4*o;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=a,this.data[c+3]=255}this.pos+=t}},qs.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},qs.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=s}},qs.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var o=new qs(e,!1),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},u=new Mx(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(mt.API),jD.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var o=new jD(e),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},u=new Mx(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(mt.API),mt.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,o=new Uint8Array(i/4*3),s=new Uint8Array(i/4),a=0,l=0,u=0;u<i;u+=4){var c=r[u],f=r[u+1],d=r[u+2],h=r[u+3];o[a++]=c,o[a++]=f,o[a++]=d,s[l++]=h}var v=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:v,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},mt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},xd=mt.API,c0=xd.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=u.fof?u.fof:1,f=e.doKerning!==!1,d=0,h=t.length,v=0,_=a[0]||l,w=[];for(n=0;n<h;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?w.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/o)||0)/1e3):(d=f&&Tn(u[r])==="object"&&!isNaN(parseInt(u[r][v],10))?u[r][v]/c:0,w.push((a[r]||_)/l+d)),v=r;return w},CD=xd.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return xd.processArabic&&(t=xd.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:c0.apply(this,arguments).reduce(function(o,s){return o+s},0)},ND=function(t,e,n,r){for(var i=[],o=0,s=t.length,a=0;o!==s&&a+e[o]<n;)a+=e[o],o++;i.push(t.slice(0,o));var l=o;for(a=0;o!==s;)a+e[o]>r&&(i.push(t.slice(l,o)),a=0,l=o),a+=e[o],o++;return l!==o&&i.push(t.slice(l,o)),i},kD=function(t,e,n){n||(n={});var r,i,o,s,a,l,u,c=[],f=[c],d=n.textIndent||0,h=0,v=0,_=t.split(" "),w=c0.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?_[0].length+2:n.lineIndent||0){var b=Array(l).join(" "),E=[];_.map(function(C){(C=C.split(/\s*\n/)).length>1?E=E.concat(C.map(function(R,F){return(F&&R.length?`
`:"")+R})):E.push(C[0])}),_=E,l=CD.apply(this,[b,n])}for(o=0,s=_.length;o<s;o++){var A=0;if(r=_[o],l&&r[0]==`
`&&(r=r.substr(1),A=1),d+h+(v=(i=c0.apply(this,[r,n])).reduce(function(C,R){return C+R},0))>e||A){if(v>e){for(a=ND.apply(this,[r,i,e-(d+h),e]),c.push(a.shift()),c=[a.pop()];a.length;)f.push([a.shift()]);v=i.slice(r.length-(c[0]?c[0].length:0)).reduce(function(C,R){return C+R},0)}else c=[r];f.push(c),d=v+l,h=w}else c.push(r),d+=h+v,h=w}return u=l?function(C,R){return(R?b:"")+C.join(" ")}:function(C){return C.join(" ")},f.map(u)},xd.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),o=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var f=this.internal.getFont(c.fontName,c.fontStyle),d="Unicode";return f.metadata[d]?{widths:f.metadata[d].widths||{0:1},kerning:f.metadata[d].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=n.lineIndent;var a,l,u=[];for(a=0,l=r.length;a<l;a++)u=u.concat(kD.apply(this,[r[a],s,o]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},o=0;o<16;o++)r[n[o]]=e[o],i[e[o]]=n[o];var s=function(d){return"0x"+parseInt(d,10).toString(16)},a=t.__fontmetrics__.compress=function(d){var h,v,_,w,b=["{"];for(var E in d){if(h=d[E],isNaN(parseInt(E,10))?v="'"+E+"'":(E=parseInt(E,10),v=(v=s(E).slice(2)).slice(0,-1)+i[v.slice(-1)]),typeof h=="number")h<0?(_=s(h).slice(3),w="-"):(_=s(h).slice(2),w=""),_=w+_.slice(0,-1)+i[_.slice(-1)];else{if(Tn(h)!=="object")throw new Error("Don't know what to do with value type "+Tn(h)+".");_=a(h)}b.push(v+_)}return b.push("}"),b.join("")},l=t.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,v,_,w,b={},E=1,A=b,C=[],R="",F="",k=d.length-1,N=1;N<k;N+=1)(w=d[N])=="'"?h?(_=h.join(""),h=void 0):h=[]:h?h.push(w):w=="{"?(C.push([A,_]),A={},_=void 0):w=="}"?((v=C.pop())[0][v[1]]=A,_=void 0,A=v[0]):w=="-"?E=-1:_===void 0?r.hasOwnProperty(w)?(R+=r[w],_=parseInt(R,16)*E,E=1,R=""):R+=w:r.hasOwnProperty(w)?(F+=r[w],A[_]=parseInt(F,16)*E,E=1,_=void 0,F=""):F+=w;return b},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(d){var h=d.font,v=f.Unicode[h.postScriptName];v&&(h.metadata.Unicode={},h.metadata.Unicode.widths=v.widths,h.metadata.Unicode.kerning=v.kerning);var _=c.Unicode[h.postScriptName];_&&(h.metadata.Unicode.encoding=_,h.encoding=_.codePages[0])}])}(mt.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),o=0;o<r;o++)i[o]=n.charCodeAt(o);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,o=n.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(D0(a)),s.metadata=t.API.TTFFont.open(a),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])}(mt),mt.API.addSvgAsImage=function(t,e,n,r,i,o,s,a){if(isNaN(e)||isNaN(n))throw Dn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw Dn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var c={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(Tt.canvg?Promise.resolve(Tt.canvg):hx(()=>import("./index.es-CWGkiuH-.js"),[],import.meta.url)).catch(function(d){return Promise.reject(new Error("Could not load canvg: "+d))}).then(function(d){return d.default?d.default:d}).then(function(d){return d.fromString(u,t,c)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(d){return d.render(c)}).then(function(){f.addImage(l.toDataURL("image/jpeg",1),e,n,r,i,s,a)})},mt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},mt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(s),l=[],u=0,c=0,f=0;function d(v,_){var w,b=!1;for(w=0;w<v.length;w+=1)v[w]===_&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=a.length;for(f=0;f<h;f+=1)n[a[f]].value=n[a[f]].defaultValue,n[a[f]].explicitSet=!1}if(Tn(t)==="object"){for(i in t)if(o=t[i],d(a,i)&&o!==void 0){if(n[i].type==="boolean"&&typeof o=="boolean")n[i].value=o;else if(n[i].type==="name"&&d(n[i].valueSet,o))n[i].value=o;else if(n[i].type==="integer"&&Number.isInteger(o))n[i].value=o;else if(n[i].type==="array"){for(u=0;u<o.length;u+=1)if(r=!0,o[u].length===1&&typeof o[u][0]=="number")l.push(String(o[u]-1));else if(o[u].length>1){for(c=0;c<o[u].length;c+=1)typeof o[u][c]!="number"&&(r=!1);r===!0&&l.push([o[u][0]-1,o[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,_=[];for(v in n)n[v].explicitSet===!0&&(n[v].type==="name"?_.push("/"+v+" /"+n[v].value):_.push("/"+v+" "+n[v].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=o.length+s.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+o+s+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(mt.API),function(t){var e=t.API,n=e.pdfEscape16=function(o,s){for(var a,l=s.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],f=0,d=o.length;f<d;++f){if(a=s.metadata.characterToGlyph(o.charCodeAt(f)),s.metadata.glyIdsUsed.push(a),s.metadata.toUnicode[a]=o.charCodeAt(f),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(s.metadata.widthOfGlyph(a),10)])),a=="0")return c.join("");a=a.toString(16),c.push(u[4-a.length],a)}return c.join("")},r=function(o){var s,a,l,u,c,f,d;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,d=(a=Object.keys(o).sort(function(h,v){return h-v})).length;f<d;f++)s=a[f],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),o[s]!==void 0&&o[s]!==null&&typeof o[s].toString=="function"&&(u=("0000"+o[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+u+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,u=s.newObject,c=s.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var f=a.metadata.Unicode.widths,d=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),h="",v=0;v<d.length;v++)h+=String.fromCharCode(d[v]);var _=u();c({data:h,addLength1:!0,objectId:_}),l("endobj");var w=u();c({data:r(a.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var b=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Cd(a.fontName)),l("/FontFile2 "+_+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var E=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Cd(a.fontName)),l("/FontDescriptor "+b+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+w+" 0 R"),l("/BaseFont /"+Cd(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+E+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,u=s.newObject,c=s.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var f=a.metadata.rawData,d="",h=0;h<f.length;h++)d+=String.fromCharCode(f[h]);var v=u();c({data:d,addLength1:!0,objectId:v}),l("endobj");var _=u();c({data:r(a.metadata.toUnicode),addLength1:!0,objectId:_}),l("endobj");var w=u();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+v+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Cd(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=u();for(var b=0;b<a.metadata.hmtx.widths.length;b++)a.metadata.hmtx.widths[b]=parseInt(a.metadata.hmtx.widths[b]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+Cd(a.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]);var i=function(o){var s,a=o.text||"",l=o.x,u=o.y,c=o.options||{},f=o.mutex||{},d=f.pdfEscape,h=f.activeFontKey,v=f.fonts,_=h,w="",b=0,E="",A=v[_].encoding;if(v[_].encoding!=="Identity-H")return{text:a,x:l,y:u,options:c,mutex:f};for(E=a,_=h,Array.isArray(a)&&(E=a[0]),b=0;b<E.length;b+=1)v[_].metadata.hasOwnProperty("cmap")&&(s=v[_].metadata.cmap.unicode.codeMap[E[b].charCodeAt(0)]),s||E[b].charCodeAt(0)<256&&v[_].metadata.hasOwnProperty("Unicode")?w+=E[b]:w+="";var C="";return parseInt(_.slice(1))<14||A==="WinAnsiEncoding"?C=d(w,_).split("").map(function(R){return R.charCodeAt(0).toString(16)}).join(""):A==="Identity-H"&&(C=n(w,v[_])),f.isHex=!0,{text:C,x:l,y:u,options:c,mutex:f}};e.events.push(["postProcessText",function(o){var s=o.text||"",a=[],l={text:s,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?a.push([i(Object.assign({},l,{text:s[u][0]})).text,s[u][1],s[u][2]]):a.push(i(Object.assign({},l,{text:s[u]})).text);o.text=a}else o.text=i(Object.assign({},l,{text:s})).text}])}(mt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(mt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,o,s,a,l,u,c,f=e,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,A=0;this.__bidiEngine__={};var C=function(P){var D=P.charCodeAt(),U=D>>8,z=_[U];return z!==void 0?f[256*z+(255&D)]:U===252||U===253?"AL":b.test(U)?"L":U===8?"R":"N"},R=function(P){for(var D,U=0;U<P.length;U++){if((D=C(P.charAt(U)))==="L")return!1;if(D==="R")return!0}return!1},F=function(P,D,U,z){var ee,le,ue,X,ae=D[z];switch(ae){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"N":case"AN":break;case"EN":E&&(ae="AN");break;case"AL":E=!0,ae="R";break;case"WS":case"BN":ae="N";break;case"CS":z<1||z+1>=D.length||(ee=U[z-1])!=="EN"&&ee!=="AN"||(le=D[z+1])!=="EN"&&le!=="AN"?ae="N":E&&(le="AN"),ae=le===ee?le:"N";break;case"ES":ae=(ee=z>0?U[z-1]:"B")==="EN"&&z+1<D.length&&D[z+1]==="EN"?"EN":"N";break;case"ET":if(z>0&&U[z-1]==="EN"){ae="EN";break}if(E){ae="N";break}for(ue=z+1,X=D.length;ue<X&&D[ue]==="ET";)ue++;ae=ue<X&&D[ue]==="EN"?"EN":"N";break;case"NSM":if(s&&!a){for(X=D.length,ue=z+1;ue<X&&D[ue]==="NSM";)ue++;if(ue<X){var ye=P[z],me=ye>=1425&&ye<=2303||ye===64286;if(ee=D[ue],me&&(ee==="R"||ee==="AL")){ae="R";break}}}ae=z<1||(ee=D[z-1])==="B"?"N":U[z-1];break;case"B":E=!1,i=!0,ae=A;break;case"S":o=!0,ae="N"}return ae},k=function(P,D,U){var z=P.split("");return U&&N(z,U,{hiLevel:A}),z.reverse(),D&&D.reverse(),z.join("")},N=function(P,D,U){var z,ee,le,ue,X,ae=-1,ye=P.length,me=0,B=[],W=A?h:d,ne=[];for(E=!1,i=!1,o=!1,ee=0;ee<ye;ee++)ne[ee]=C(P[ee]);for(le=0;le<ye;le++){if(X=me,B[le]=F(P,ne,B,le),z=240&(me=W[X][v[B[le]]]),me&=15,D[le]=ue=W[me][5],z>0)if(z===16){for(ee=ae;ee<le;ee++)D[ee]=1;ae=-1}else ae=-1;if(W[me][6])ae===-1&&(ae=le);else if(ae>-1){for(ee=ae;ee<le;ee++)D[ee]=ue;ae=-1}ne[le]==="B"&&(D[le]=0),U.hiLevel|=ue}o&&function(fe,he,we){for(var Te=0;Te<we;Te++)if(fe[Te]==="S"){he[Te]=A;for(var re=Te-1;re>=0&&fe[re]==="WS";re--)he[re]=A}}(ne,D,ye)},T=function(P,D,U,z,ee){if(!(ee.hiLevel<P)){if(P===1&&A===1&&!i)return D.reverse(),void(U&&U.reverse());for(var le,ue,X,ae,ye=D.length,me=0;me<ye;){if(z[me]>=P){for(X=me+1;X<ye&&z[X]>=P;)X++;for(ae=me,ue=X-1;ae<ue;ae++,ue--)le=D[ae],D[ae]=D[ue],D[ue]=le,U&&(le=U[ae],U[ae]=U[ue],U[ue]=le);me=X}me++}}},j=function(P,D,U){var z=P.split(""),ee={hiLevel:A};return U||(U=[]),N(z,U,ee),function(le,ue,X){if(X.hiLevel!==0&&c)for(var ae,ye=0;ye<le.length;ye++)ue[ye]===1&&(ae=w.indexOf(le[ye]))>=0&&(le[ye]=w[ae+1])}(z,U,ee),T(2,z,D,U,ee),T(1,z,D,U,ee),z.join("")};return this.__bidiEngine__.doBidiReorder=function(P,D,U){if(function(ee,le){if(le)for(var ue=0;ue<ee.length;ue++)le[ue]=ue;a===void 0&&(a=R(ee)),u===void 0&&(u=R(ee))}(P,D),s||!l||u)if(s&&l&&a^u)A=a?1:0,P=k(P,D,U);else if(!s&&l&&u)A=a?1:0,P=j(P,D,U),P=k(P,D);else if(!s||a||l||u){if(s&&!l&&a^u)P=k(P,D),a?(A=0,P=j(P,D,U)):(A=1,P=j(P,D,U),P=k(P,D));else if(s&&a&&!l&&u)A=1,P=j(P,D,U),P=k(P,D);else if(!s&&!l&&a^u){var z=c;a?(A=1,P=j(P,D,U),A=0,c=!1,P=j(P,D,U),c=z):(A=0,P=j(P,D,U),P=k(P,D),A=1,c=!1,P=j(P,D,U),c=z,P=k(P,D))}}else A=0,P=j(P,D,U);else A=a?1:0,P=j(P,D,U);return P},this.__bidiEngine__.setOptions=function(P){P&&(s=P.isInputVisual,l=P.isOutputVisual,a=P.isInputRtl,u=P.isOutputRtl,c=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var s=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,n.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(s=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?s.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):s.push([n.doBidiReorder(i[a])]);r.text=s}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(mt),mt.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new pc(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new MMe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new _Me(this.contents),this.head=new xMe(this),this.name=new IMe(this),this.cmap=new vq(this),this.toUnicode={},this.hhea=new SMe(this),this.maxp=new PMe(this),this.hmtx=new CMe(this),this.post=new AMe(this),this.os2=new EMe(this),this.loca=new OMe(this),this.glyf=new NMe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,a,l,u;for(u=[],s=0,a=(l=this.bbox).length;s<a;s++)e=l[s],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,o,s,a;for(s=0,o=0,a=(e=""+e).length;0<=a?o<a:o>a;o=0<=a?++o:--o)i=e.charCodeAt(o),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return s*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var fa,pc=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,o,s,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^o)+65536*(255^s)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*o+65536*s+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,o;for(o=[],r=0,i=e.length;r<i;r++)n=e[r],o.push(this.writeByte(n));return o},t}(),_Me=function(){var t;function e(n){var r,i,o;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,o,s,a,l,u,c,f,d,h,v,_;for(_ in h=Object.keys(n).length,l=Math.log(2),f=16*Math.floor(Math.log(h)/l),s=Math.floor(f/l),c=16*h-f,(i=new pc).writeInt(this.scalarType),i.writeShort(h),i.writeShort(f),i.writeShort(s),i.writeShort(c),o=16*h,u=i.pos+o,a=null,v=[],n)for(d=n[_],i.writeString(_),i.writeInt(t(d)),i.writeInt(u),i.writeInt(d.length),v=v.concat(d),_==="head"&&(a=u),u+=d.length;u%4;)v.push(0),u++;return i.write(v),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,o,s;for(n=wq.call(n);n.length%4;)n.push(0);for(o=new pc(n),i=0,r=0,s=n.length;r<s;r=r+=4)i+=o.readUInt32();return 4294967295&i},e}(),bMe={}.hasOwnProperty,el=function(t,e){for(var n in e)bMe.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};fa=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var xMe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return el(t,fa),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new pc).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),$D=function(){function t(e,n){var r,i,o,s,a,l,u,c,f,d,h,v,_,w,b,E,A;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(h=e.readUInt16(),d=h/2,e.pos+=6,o=function(){var C,R;for(R=[],l=C=0;0<=d?C<d:C>d;l=0<=d?++C:--C)R.push(e.readUInt16());return R}(),e.pos+=2,_=function(){var C,R;for(R=[],l=C=0;0<=d?C<d:C>d;l=0<=d?++C:--C)R.push(e.readUInt16());return R}(),u=function(){var C,R;for(R=[],l=C=0;0<=d?C<d:C>d;l=0<=d?++C:--C)R.push(e.readUInt16());return R}(),c=function(){var C,R;for(R=[],l=C=0;0<=d?C<d:C>d;l=0<=d?++C:--C)R.push(e.readUInt16());return R}(),i=(this.length-e.pos+this.offset)/2,a=function(){var C,R;for(R=[],l=C=0;0<=i?C<i:C>i;l=0<=i?++C:--C)R.push(e.readUInt16());return R}(),l=b=0,A=o.length;b<A;l=++b)for(w=o[l],r=E=v=_[l];v<=w?E<=w:E>=w;r=v<=w?++E:--E)c[l]===0?s=r+u[l]:(s=a[c[l]/2+(r-v)-(d-l)]||0)!==0&&(s+=u[l]),this.codeMap[r]=65535&s}e.pos=f}return t.encode=function(e,n){var r,i,o,s,a,l,u,c,f,d,h,v,_,w,b,E,A,C,R,F,k,N,T,j,P,D,U,z,ee,le,ue,X,ae,ye,me,B,W,ne,fe,he,we,Te,re,pe,Ce,Z;switch(z=new pc,s=Object.keys(e).sort(function(Ee,Ne){return Ee-Ne}),n){case"macroman":for(_=0,w=function(){var Ee=[];for(v=0;v<256;++v)Ee.push(0);return Ee}(),E={0:0},o={},ee=0,ae=s.length;ee<ae;ee++)E[re=e[i=s[ee]]]==null&&(E[re]=++_),o[i]={old:e[i],new:E[e[i]]},w[i]=E[e[i]];return z.writeUInt16(1),z.writeUInt16(0),z.writeUInt32(12),z.writeUInt16(0),z.writeUInt16(262),z.writeUInt16(0),z.write(w),{charMap:o,subtable:z.data,maxGlyphID:_+1};case"unicode":for(D=[],f=[],A=0,E={},r={},b=u=null,le=0,ye=s.length;le<ye;le++)E[R=e[i=s[le]]]==null&&(E[R]=++A),r[i]={old:R,new:E[R]},a=E[R]-i,b!=null&&a===u||(b&&f.push(b),D.push(i),u=a),b=i;for(b&&f.push(b),f.push(65535),D.push(65535),j=2*(T=D.length),N=2*Math.pow(Math.log(T)/Math.LN2,2),d=Math.log(N/2)/Math.LN2,k=2*T-N,l=[],F=[],h=[],v=ue=0,me=D.length;ue<me;v=++ue){if(P=D[v],c=f[v],P===65535){l.push(0),F.push(0);break}if(P-(U=r[P].new)>=32768)for(l.push(0),F.push(2*(h.length+T-v)),i=X=P;P<=c?X<=c:X>=c;i=P<=c?++X:--X)h.push(r[i].new);else l.push(U-P),F.push(0)}for(z.writeUInt16(3),z.writeUInt16(1),z.writeUInt32(12),z.writeUInt16(4),z.writeUInt16(16+8*T+2*h.length),z.writeUInt16(0),z.writeUInt16(j),z.writeUInt16(N),z.writeUInt16(d),z.writeUInt16(k),we=0,B=f.length;we<B;we++)i=f[we],z.writeUInt16(i);for(z.writeUInt16(0),Te=0,W=D.length;Te<W;Te++)i=D[Te],z.writeUInt16(i);for(pe=0,ne=l.length;pe<ne;pe++)a=l[pe],z.writeUInt16(a);for(Ce=0,fe=F.length;Ce<fe;Ce++)C=F[Ce],z.writeUInt16(C);for(Z=0,he=h.length;Z<he;Z++)_=h[Z],z.writeUInt16(_);return{charMap:r,subtable:z.data,maxGlyphID:A+1}}},t}(),vq=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return el(t,fa),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new $D(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=$D.encode(e,n),(i=new pc).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t}(),SMe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return el(t,fa),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),EMe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return el(t,fa),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),AMe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return el(t,fa),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var s,a,l;for(l=[],o=s=0,a=this.file.maxp.numGlyphs;0<=a?s<a:s>a;o=0<=a?++s:--s)l.push(e.readUInt32());return l}).call(this)}},t}(),TMe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},IMe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return el(t,fa),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,o,s,a,l,u,c,f,d;for(e.pos=this.offset,e.readShort(),n=e.readShort(),a=e.readShort(),r=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(l={},o=c=0,f=r.length;c<f;o=++c)i=r[o],e.pos=i.offset,u=e.readString(i.length),s=new TMe(u,i),l[d=i.nameID]==null&&(l[d]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),PMe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return el(t,fa),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),CMe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return el(t,fa),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,o,s,a,l;for(e.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:n>a;n=0<=a?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,c;for(c=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)c.push(e.readInt16());return c}(),this.widths=(function(){var u,c,f,d;for(d=[],u=0,c=(f=this.metrics).length;u<c;u++)o=f[u],d.push(o.advance);return d}).call(this),r=this.widths[this.widths.length-1],l=[],n=s=0;0<=i?s<i:s>i;n=0<=i?++s:--s)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),wq=[].slice,NMe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return el(t,fa),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,o,s,a,l,u,c,f;return e in this.cache?this.cache[e]:(o=this.file.loca,n=this.file.contents,r=o.indexOf(e),(i=o.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,s=(a=new pc(n.read(i))).readShort(),u=a.readShort(),f=a.readShort(),l=a.readShort(),c=a.readShort(),this.cache[e]=s===-1?new RMe(a,u,f,l,c):new kMe(a,s,u,f,l,c),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,o,s,a,l;for(s=[],o=[],a=0,l=n.length;a<l;a++)i=e[n[a]],o.push(s.length),i&&(s=s.concat(i.encode(r)));return o.push(s.length),{table:s,offsets:o}},t}(),kMe=function(){function t(e,n,r,i,o,s){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=o,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),RMe=function(){function t(e,n,r,i,o){var s,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;a=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&a;)s.pos+=1&a?4:2,128&a?s.pos+=8:64&a?s.pos+=4:8&a&&(s.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new pc(wq.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),OMe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return el(t,fa),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,o;for(o=[],r=0,i=this.length;r<i;r+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],r=0,i=this.length;r<i;r+=4)o.push(e.readUInt32());return o}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,o=0,s=0;s<r.length;++s)if(r[s]=i,o<n.length&&n[o]==s){++o,r[s]=i;var a=this.offsets[s],l=this.offsets[s+1]-a;l>0&&(i+=l)}for(var u=new Array(4*r.length),c=0;c<r.length;++c)u[4*c+3]=255&r[c],u[4*c+2]=(65280&r[c])>>8,u[4*c+1]=(16711680&r[c])>>16,u[4*c]=(4278190080&r[c])>>24;return u},t}(),MMe=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,o;for(n in i=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,o,s,a,l;for(i={},s=0,a=e.length;s<a;s++)i[o=e[s]]=this.font.glyf.glyphFor(o);for(o in n=[],i)(r=i[o])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(o in l=this.glyphsFor(n))r=l[o],i[o]=r;return i},t.prototype.encode=function(e,n){var r,i,o,s,a,l,u,c,f,d,h,v,_,w,b;for(i in r=vq.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),h={0:0},b=r.charMap)h[(l=b[i]).old]=l.new;for(v in d=r.maxGlyphID,s)v in h||(h[v]=d++);return c=function(E){var A,C;for(A in C={},E)C[E[A]]=A;return C}(h),f=Object.keys(c).sort(function(E,A){return E-A}),_=function(){var E,A,C;for(C=[],E=0,A=f.length;E<A;E++)a=f[E],C.push(c[a]);return C}(),o=this.font.glyf.encode(s,_,h),u=this.font.loca.encode(o.offsets,_),w={cmap:this.font.cmap.raw(),glyf:o.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},t}();mt.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,o,s;if(Array.isArray(n))return"["+function(){var a,l,u;for(u=[],a=0,l=n.length;a<l;a++)r=n[a],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in o=["<<"],n)s=n[i],o.push("/"+i+" "+e.convert(s));return o.push(">>"),o.join(`
`)}return""+n},e}();function _q(t,e,n,r,i){r=r||{};var o=1.15,s=i.internal.scaleFactor,a=i.internal.getFontSize()/s,l=i.getLineHeightFactor?i.getLineHeightFactor():o,u=a*l,c=/\r\n|\r|\n/g,f="",d=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(f=typeof t=="string"?t.split(c):t,d=f.length||1),n+=a*(2-o),r.valign==="middle"?n-=d/2*u:r.valign==="bottom"&&(n-=d*u),r.halign==="center"||r.halign==="right"){var h=a;if(r.halign==="center"&&(h*=.5),f&&d>=1){for(var v=0;v<f.length;v++)i.text(f[v],e-i.getStringUnitWidth(f[v])*h,n),n+=u;return i}e-=i.getStringUnitWidth(t)*h}return r.halign==="justify"?i.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(t,e,n),i}var BD={},yh=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:BD=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var r,i,o;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var s=this.jsPDFDocument.internal.getFont(),a=s.fontStyle,l=s.fontName;if(e.font&&(l=e.font),e.fontStyle){a=e.fontStyle;var u=this.getFontList()[l];u&&u.indexOf(a)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),a=u[0])}if(this.jsPDFDocument.setFont(l,a),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var c=t.unifyColor(e.fillColor);c&&(r=this.jsPDFDocument).setFillColor.apply(r,c),c=t.unifyColor(e.textColor),c&&(i=this.jsPDFDocument).setTextColor.apply(i,c),c=t.unifyColor(e.lineColor),c&&(o=this.jsPDFDocument).setDrawColor.apply(o,c),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,r){return this.jsPDFDocument.splitTextToSize(e,n,r)},t.prototype.rect=function(e,n,r,i,o){return this.jsPDFDocument.rect(e,n,r,i,o)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return BD||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),oA=function(t,e){return oA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},oA(t,e)};function bq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");oA(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var xq=function(t){bq(e,t);function e(n){var r=t.call(this)||this;return r._element=n,r}return e}(Array);function LMe(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function DMe(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function Uw(t,e,n){n.applyStyles(e,!0);var r=Array.isArray(t)?t:[t],i=r.map(function(o){return n.getTextWidth(o)}).reduce(function(o,s){return Math.max(o,s)},0);return i}function Sq(t,e,n,r){var i=e.settings.tableLineWidth,o=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:o});var s=Eq(i,!1);s&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),r.y-n.y,s)}function Eq(t,e){var n=t>0,r=e||e===0;return n&&r?"DF":n?"S":r?"F":null}function C2(t,e){var n,r,i,o;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(r=t.top)!==null&&r!==void 0?r:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(o=t.bottom)!==null&&o!==void 0?o:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function Aq(t,e){var n=C2(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function FMe(t,e,n,r,i){var o={},s=1.3333333333333333,a=Lx(e,function(A){return i.getComputedStyle(A).backgroundColor});a!=null&&(o.fillColor=a);var l=Lx(e,function(A){return i.getComputedStyle(A).color});l!=null&&(o.textColor=l);var u=jMe(r,n);u&&(o.cellPadding=u);var c="borderTopColor",f=s*n,d=r.borderTopWidth;if(r.borderBottomWidth===d&&r.borderRightWidth===d&&r.borderLeftWidth===d){var h=(parseFloat(d)||0)/f;h&&(o.lineWidth=h)}else o.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/f,right:(parseFloat(r.borderRightWidth)||0)/f,bottom:(parseFloat(r.borderBottomWidth)||0)/f,left:(parseFloat(r.borderLeftWidth)||0)/f},o.lineWidth.top||(o.lineWidth.right?c="borderRightColor":o.lineWidth.bottom?c="borderBottomColor":o.lineWidth.left&&(c="borderLeftColor"));var v=Lx(e,function(A){return i.getComputedStyle(A)[c]});v!=null&&(o.lineColor=v);var _=["left","right","center","justify"];_.indexOf(r.textAlign)!==-1&&(o.halign=r.textAlign),_=["middle","bottom","top"],_.indexOf(r.verticalAlign)!==-1&&(o.valign=r.verticalAlign);var w=parseInt(r.fontSize||"");isNaN(w)||(o.fontSize=w/s);var b=UMe(r);b&&(o.fontStyle=b);var E=(r.fontFamily||"").toLowerCase();return t.indexOf(E)!==-1&&(o.font=E),o}function UMe(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function Lx(t,e){var n=Tq(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],o=parseInt(r[4]);return o===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function Tq(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:Tq(t.parentElement,e):n}function jMe(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],r=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,o=n.map(function(a){return parseInt(a||"0")/r}),s=C2(o,0);return i>s.top&&(s.top=i),i>s.bottom&&(s.bottom=i),s}function Iq(t,e,n,r,i){var o,s;r===void 0&&(r=!1),i===void 0&&(i=!1);var a;typeof e=="string"?a=n.document.querySelector(e):a=e;var l=Object.keys(t.getFontList()),u=t.scaleFactor(),c=[],f=[],d=[];if(!a)return console.error("Html table could not be found with input: ",e),{head:c,body:f,foot:d};for(var h=0;h<a.rows.length;h++){var v=a.rows[h],_=(s=(o=v==null?void 0:v.parentElement)===null||o===void 0?void 0:o.tagName)===null||s===void 0?void 0:s.toLowerCase(),w=$Me(l,u,n,v,r,i);w&&(_==="thead"?c.push(w):_==="tfoot"?d.push(w):f.push(w))}return{head:c,body:f,foot:d}}function $Me(t,e,n,r,i,o){for(var s=new xq(r),a=0;a<r.cells.length;a++){var l=r.cells[a],u=n.getComputedStyle(l);if(i||u.display!=="none"){var c=void 0;o&&(c=FMe(t,l,e,u,n)),s.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:c,_element:l,content:BMe(l)})}}var f=n.getComputedStyle(r);if(s.length>0&&(i||f.display!=="none"))return s}function BMe(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function VMe(t,e,n){for(var r=0,i=[t,e,n];r<i.length;r++){var o=i[r];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function Rl(t,e,n,r,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),s=1;s<arguments.length;s++){var a=arguments[s];if(a!=null)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(o[l]=a[l])}return o}function Pq(t,e){var n=new yh(t),r=n.getDocumentOptions(),i=n.getGlobalOptions();VMe(i,r,e);var o=Rl({},i,r,e),s;typeof window<"u"&&(s=window);var a=qMe(i,r,e),l=zMe(i,r,e),u=HMe(n,o),c=WMe(n,o,s);return{id:e.tableId,content:c,hooks:l,styles:a,settings:u}}function qMe(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var u=t[l],c=e[l],f=n[l];r.columnStyles=Rl({},u,c,f)}else{var d=[t,e,n],h=d.map(function(v){return v[l]||{}});r[l]=Rl({},h[0],h[1],h[2])}},o=0,s=Object.keys(r);o<s.length;o++){var a=s[o];i(a)}return r}function zMe(t,e,n){for(var r=[t,e,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,s=r;o<s.length;o++){var a=s[o];a.didParseCell&&i.didParseCell.push(a.didParseCell),a.willDrawCell&&i.willDrawCell.push(a.willDrawCell),a.didDrawCell&&i.didDrawCell.push(a.didDrawCell),a.willDrawPage&&i.willDrawPage.push(a.willDrawPage),a.didDrawPage&&i.didDrawPage.push(a.didDrawPage)}return i}function HMe(t,e){var n,r,i,o,s,a,l,u,c,f,d,h,v=C2(e.margin,40/t.scaleFactor()),_=(n=GMe(t,e.startY))!==null&&n!==void 0?n:v.top,w;e.showFoot===!0?w="everyPage":e.showFoot===!1?w="never":w=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var b;e.showHead===!0?b="everyPage":e.showHead===!1?b="never":b=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var E=(o=e.useCss)!==null&&o!==void 0?o:!1,A=e.theme||(E?"plain":"striped"),C=!!e.horizontalPageBreak,R=(s=e.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(a=e.includeHiddenHtml)!==null&&a!==void 0?a:!1,useCss:E,theme:A,startY:_,margin:v,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(c=e.tableWidth)!==null&&c!==void 0?c:"auto",showHead:b,showFoot:w,tableLineWidth:(f=e.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(d=e.tableLineColor)!==null&&d!==void 0?d:200,horizontalPageBreak:C,horizontalPageBreakRepeat:R,horizontalPageBreakBehaviour:(h=e.horizontalPageBreakBehaviour)!==null&&h!==void 0?h:"afterAllRows"}}function GMe(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),i=t.pageNumber(),o=!1;if(n&&n.startPageNumber){var s=n.startPageNumber+n.pageNumber-1;o=s===i}return typeof e=="number"?e:(e==null||e===!1)&&o&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function WMe(t,e,n){var r=e.head||[],i=e.body||[],o=e.foot||[];if(e.html){var s=e.includeHiddenHtml;if(n){var a=Iq(t,e.html,n,s,e.useCss)||{};r=a.head||r,i=a.body||r,o=a.foot||r}else console.error("Cannot parse html in non browser environment")}var l=e.columns||KMe(r,i,o);return{columns:l,head:r,body:i,foot:o}}function KMe(t,e,n){var r=t[0]||e[0]||n[0]||[],i=[];return Object.keys(r).filter(function(o){return o!=="_element"}).forEach(function(o){var s=1,a;Array.isArray(r)?a=r[parseInt(o)]:a=r[o],typeof a=="object"&&!Array.isArray(a)&&(s=(a==null?void 0:a.colSpan)||1);for(var l=0;l<s;l++){var u=void 0;Array.isArray(r)?u=i.length:u=o+(l>0?"_".concat(l):"");var c={dataKey:u};i.push(c)}}),i}var sA=function(){function t(e,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=e.getDocument()}return t}(),YMe=function(t){bq(e,t);function e(n,r,i,o,s,a){var l=t.call(this,n,r,a)||this;return l.cell=i,l.row=o,l.column=s,l.section=o.section,l}return e}(sA),JMe=function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,r,i,o,s){for(var a=0,l=n;a<l.length;a++){var u=l[a],c=new YMe(e,this,r,i,o,s),f=u(c)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],f)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var o=i[r];o(new sA(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var o=i[r];o(new sA(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,o){return i+o.wrappedWidth},0);return n}else{var r=this.settings.margin;return e-r.left-r.right}},t}(),Cq=function(){function t(e,n,r,i,o){o===void 0&&(o=!1),this.height=0,this.raw=e,e instanceof xq&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=o}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(r,i){var o;return Math.max(r,((o=n.cells[i.index])===null||o===void 0?void 0:o.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var r=this;return e.reduce(function(i,o){var s=r.cells[o.index];if(!s)return 0;var a=n.getLineHeight(s.styles.fontSize),l=s.padding("vertical"),u=l+a;return u>i?u:i},0)},t}(),Nq=function(){function t(e,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=e;var o=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,o=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var s=o!=null?""+o:"",a=/\r\n|\r|\n/g;this.text=s.split(a)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*n,o=r*i+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=C2(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t}(),XMe=function(){function t(e,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=r}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,r=0,i=e.allRows();r<i.length;r++){var o=i[r],s=o.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(n=Math.max(n,s.styles.cellWidth))}return n},t}();function QMe(t,e){ZMe(t,e);var n=[],r=0;e.columns.forEach(function(o){var s=o.getMaxCustomCellWidth(e);s?o.width=s:(o.width=o.wrappedWidth,n.push(o)),r+=o.width});var i=e.getWidth(t.pageSize().width)-r;i&&(i=aA(n,i,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),i&&(i=aA(n,i,function(o){return o.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.log("Of the table content, ".concat(i," units width could not fit page"))),tLe(e),nLe(e,t),eLe(e)}function ZMe(t,e){var n=t.scaleFactor(),r=e.settings.horizontalPageBreak,i=Aq(t,e);e.allRows().forEach(function(o){for(var s=0,a=e.columns;s<a.length;s++){var l=a[s],u=o.cells[l.index];if(u){var c=e.hooks.didParseCell;e.callCellHooks(t,c,u,o,l,null);var f=u.padding("horizontal");u.contentWidth=Uw(u.text,u.styles,t)+f;var d=Uw(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=d+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||r===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var h=10/n;u.minWidth=u.styles.minCellWidth||h,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(o){for(var s=0,a=e.columns;s<a.length;s++){var l=a[s],u=o.cells[l.index];if(u&&u.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,u.wrappedWidth),l.minWidth=Math.max(l.minWidth,u.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,u.minReadableWidth);else{var c=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},f=c.cellWidth||c.minCellWidth;f&&typeof f=="number"&&(l.minWidth=f,l.wrappedWidth=f)}u&&(u.colSpan>1&&!l.minWidth&&(l.minWidth=u.minWidth),u.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=u.minWidth))}})}function aA(t,e,n){for(var r=e,i=t.reduce(function(h,v){return h+v.wrappedWidth},0),o=0;o<t.length;o++){var s=t[o],a=s.wrappedWidth/i,l=r*a,u=s.width+l,c=n(s),f=u<c?c:u;e-=f-s.width,s.width=f}if(e=Math.round(e*1e10)/1e10,e){var d=t.filter(function(h){return e<0?h.width>n(h):!0});d.length&&(e=aA(d,e,n))}return e}function eLe(t){for(var e={},n=1,r=t.allRows(),i=0;i<r.length;i++)for(var o=r[i],s=0,a=t.columns;s<a.length;s++){var l=a[s],u=e[l.index];if(n>1)n--,delete o.cells[l.index];else if(u)u.cell.height+=o.height,n=u.cell.colSpan,delete o.cells[l.index],u.left--,u.left<=1&&delete e[l.index];else{var c=o.cells[l.index];if(!c)continue;if(c.height=o.height,c.rowSpan>1){var f=r.length-i,d=c.rowSpan>f?f:c.rowSpan;e[l.index]={cell:c,left:d,row:o}}}}}function tLe(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],i=null,o=0,s=0,a=0;a<t.columns.length;a++){var l=t.columns[a];if(s-=1,s>1&&t.columns[a+1])o+=l.width,delete r.cells[l.index];else if(i){var u=i;delete r.cells[l.index],i=null,u.width=l.width+o}else{var u=r.cells[l.index];if(!u)continue;if(s=u.colSpan,o=0,u.colSpan>1){i=u,o+=l.width;continue}u.width=l.width+o}}}function nLe(t,e){for(var n={count:0,height:0},r=0,i=t.allRows();r<i.length;r++){for(var o=i[r],s=0,a=t.columns;s<a.length;s++){var l=a[s],u=o.cells[l.index];if(u){e.applyStyles(u.styles,!0);var c=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,c+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=VD(u.text,c,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=VD(u.text,c,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var f=u.styles.overflow(u.text,c);typeof f=="string"?u.text=[f]:u.text=f}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var d=u.contentHeight/u.rowSpan;u.rowSpan>1&&n.count*n.height<d*u.rowSpan?n={height:d,count:u.rowSpan}:n&&n.count>0&&n.height>d&&(d=n.height),d>o.height&&(o.height=d)}}n.count--}}function VD(t,e,n,r,i){return t.map(function(o){return rLe(o,e,n,r,i)})}function rLe(t,e,n,r,i){var o=1e4*r.scaleFactor();if(e=Math.ceil(e*o)/o,e>=Uw(t,n,r))return t;for(;e<Uw(t+i,n,r)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function kq(t,e){var n=new yh(t),r=iLe(e,n.scaleFactor()),i=new JMe(e,r);return QMe(n,i),n.applyStyles(n.userStyles),i}function iLe(t,e){var n=t.content,r=sLe(n.columns);if(n.head.length===0){var i=qD(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=qD(r,"foot");i&&n.foot.push(i)}var o=t.settings.theme,s=t.styles;return{columns:r,head:Dx("head",n.head,r,s,o,e),body:Dx("body",n.body,r,s,o,e),foot:Dx("foot",n.foot,r,s,o,e)}}function Dx(t,e,n,r,i,o){var s={},a=e.map(function(l,u){for(var c=0,f={},d=0,h=0,v=0,_=n;v<_.length;v++){var w=_[v];if(s[w.index]==null||s[w.index].left===0)if(h===0){var b=void 0;Array.isArray(l)?b=l[w.index-d-c]:b=l[w.dataKey];var E={};typeof b=="object"&&!Array.isArray(b)&&(E=(b==null?void 0:b.styles)||{});var A=aLe(t,w,u,i,r,o,E),C=new Nq(b,A,t);f[w.dataKey]=C,f[w.index]=C,h=C.colSpan-1,s[w.index]={left:C.rowSpan-1,times:h}}else h--,d++;else s[w.index].left--,h=s[w.index].times,c++}return new Cq(l,u,t,f)});return a}function qD(t,e){var n={};return t.forEach(function(r){if(r.raw!=null){var i=oLe(e,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function oLe(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function sLe(t){return t.map(function(e,n){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:n:i=n,new XMe(i,e,n)})}function aLe(t,e,n,r,i,o,s){var a=DMe(r),l;t==="head"?l=i.headStyles:t==="body"?l=i.bodyStyles:t==="foot"&&(l=i.footStyles);var u=Rl({},a.table,a[t],i.styles,l),c=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},f=t==="body"?c:{},d=t==="body"&&n%2===0?Rl({},a.alternateRow,i.alternateRowStyles):{},h=LMe(o),v=Rl({},h,u,d,f);return Rl(v,s)}function lLe(t,e,n){var r;n===void 0&&(n={});var i=Aq(t,e),o=new Map,s=[],a=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(d){var h=e.columns.find(function(v){return v.dataKey===d||v.index===d});h&&!o.has(h.index)&&(o.set(h.index,!0),s.push(h.index),a.push(e.columns[h.index]),i-=h.wrappedWidth)});for(var u=!0,c=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;c<e.columns.length;){if(o.has(c)){c++;continue}var f=e.columns[c].wrappedWidth;if(u||i>=f)u=!1,s.push(c),a.push(e.columns[c]),i-=f;else break;c++}return{colIndexes:s,columns:a,lastIndex:c-1}}function uLe(t,e){for(var n=[],r=0;r<e.columns.length;r++){var i=lLe(t,e,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function Rq(t,e){var n=e.settings,r=n.startY,i=n.margin,o={x:i.left,y:r},s=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),a=r+i.bottom+s;if(n.pageBreak==="avoid"){var l=e.body,u=l.reduce(function(d,h){return d+h.height},0);a+=u}var c=new yh(t);(n.pageBreak==="always"||n.startY!=null&&a>c.pageSize().height)&&(Mq(c),o.y=i.top),e.callWillDrawPageHooks(c,o);var f=Rl({},o);e.startPageNumber=c.pageNumber(),n.horizontalPageBreak?cLe(c,e,f,o):(c.applyStyles(c.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(d){return Jl(c,e,d,o,e.columns)}),c.applyStyles(c.userStyles),e.body.forEach(function(d,h){var v=h===e.body.length-1;jw(c,e,d,v,f,o,e.columns)}),c.applyStyles(c.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(d){return Jl(c,e,d,o,e.columns)})),Sq(c,e,f,o),e.callEndPageHooks(c,o),e.finalY=o.y,t.lastAutoTable=e,c.applyStyles(c.userStyles)}function cLe(t,e,n,r){var i=uLe(t,e),o=e.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,c){t.applyStyles(t.userStyles),c>0?rg(t,e,n,r,u.columns,!0):zD(t,e,r,u.columns),fLe(t,e,n,r,u.columns),Fx(t,e,r,u.columns)});else for(var s=-1,a=i[0],l=function(){var u=s;if(a){t.applyStyles(t.userStyles);var c=a.columns;s>=0?rg(t,e,n,r,c,!0):zD(t,e,r,c),u=HD(t,e,s+1,r,c),Fx(t,e,r,c)}var f=u-s;i.slice(1).forEach(function(d){t.applyStyles(t.userStyles),rg(t,e,n,r,d.columns,!0),HD(t,e,s+1,r,d.columns,f),Fx(t,e,r,d.columns)}),s=u};s<e.body.length-1;)l()}function zD(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(o){return Jl(t,e,o,n,r)})}function fLe(t,e,n,r,i){t.applyStyles(t.userStyles),e.body.forEach(function(o,s){var a=s===e.body.length-1;jw(t,e,o,a,n,r,i)})}function HD(t,e,n,r,i,o){t.applyStyles(t.userStyles),o=o??e.body.length;var s=Math.min(n+o,e.body.length),a=-1;return e.body.slice(n,s).forEach(function(l,u){var c=n+u===e.body.length-1,f=Oq(t,e,c,r);l.canEntireRowFit(f,i)&&(Jl(t,e,l,r,i),a=n+u)}),a}function Fx(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(o){return Jl(t,e,o,n,r)})}function dLe(t,e,n){var r=n.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),o=Math.floor((e-i)/r);return Math.max(0,o)}function hLe(t,e,n,r){var i={};t.spansMultiplePages=!0,t.height=0;for(var o=0,s=0,a=n.columns;s<a.length;s++){var l=a[s],u=t.cells[l.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var c=new Nq(u.raw,u.styles,u.section);c=Rl(c,u),c.text=[];var f=dLe(u,e,r);u.text.length>f&&(c.text=u.text.splice(f,u.text.length));var d=r.scaleFactor(),h=r.getLineHeightFactor();u.contentHeight=u.getContentHeight(d,h),u.contentHeight>=e&&(u.contentHeight=e,c.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),c.contentHeight=c.getContentHeight(d,h),c.contentHeight>o&&(o=c.contentHeight),i[l.index]=c}}var v=new Cq(t.raw,-1,t.section,i,!0);v.height=o;for(var _=0,w=n.columns;_<w.length;_++){var l=w[_],c=v.cells[l.index];c&&(c.height=v.height);var u=t.cells[l.index];u&&(u.height=t.height)}return v}function pLe(t,e,n,r){var i=t.pageSize().height,o=r.settings.margin,s=o.top+o.bottom,a=i-s;e.section==="body"&&(a-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var l=e.getMinimumRowHeight(r.columns,t),u=l<n;if(l>a)return console.log("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var c=e.hasRowSpan(r.columns),f=e.getMaxCellHeight(r.columns)>a;return f?(c&&console.log("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(c||r.settings.rowPageBreak==="avoid")}function jw(t,e,n,r,i,o,s){var a=Oq(t,e,r,o);if(n.canEntireRowFit(a,s))Jl(t,e,n,o,s);else if(pLe(t,n,a,e)){var l=hLe(n,a,e,t);Jl(t,e,n,o,s),rg(t,e,i,o,s),jw(t,e,l,r,i,o,s)}else rg(t,e,i,o,s),jw(t,e,n,r,i,o,s)}function Jl(t,e,n,r,i){r.x=e.settings.margin.left;for(var o=0,s=i;o<s.length;o++){var a=s[o],l=n.cells[a.index];if(!l){r.x+=a.width;continue}t.applyStyles(l.styles),l.x=r.x,l.y=r.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,l,n,a,r);if(u===!1){r.x+=a.width;continue}mLe(t,l,r);var c=l.getTextPos();_q(l.text,c.x,c.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,n,a,r),r.x+=a.width}r.y+=n.height}function mLe(t,e,n){var r=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=Eq(r.lineWidth,r.fillColor);i&&t.rect(e.x,n.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),gLe(t,e,n,r.lineWidth))}function gLe(t,e,n,r){var i,o,s,a;r.top&&(i=n.x,o=n.y,s=n.x+e.width,a=n.y,r.right&&(s+=.5*r.right),r.left&&(i-=.5*r.left),l(r.top,i,o,s,a)),r.bottom&&(i=n.x,o=n.y+e.height,s=n.x+e.width,a=n.y+e.height,r.right&&(s+=.5*r.right),r.left&&(i-=.5*r.left),l(r.bottom,i,o,s,a)),r.left&&(i=n.x,o=n.y,s=n.x,a=n.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.left,i,o,s,a)),r.right&&(i=n.x+e.width,o=n.y,s=n.x+e.width,a=n.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.right,i,o,s,a));function l(u,c,f,d,h){t.getDocument().setLineWidth(u),t.getDocument().line(c,f,d,h,"S")}}function Oq(t,e,n,r){var i=e.settings.margin.bottom,o=e.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&n)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-i}function rg(t,e,n,r,i,o){i===void 0&&(i=[]),o===void 0&&(o=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!o&&e.foot.forEach(function(a){return Jl(t,e,a,r,i)}),e.callEndPageHooks(t,r);var s=e.settings.margin;Sq(t,e,n,r),Mq(t),e.pageNumber++,r.x=s.left,r.y=s.top,n.y=s.top,e.callWillDrawPageHooks(t,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(a){return Jl(t,e,a,r,i)}),t.applyStyles(t.userStyles))}function Mq(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function yLe(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=Pq(this,r),o=kq(this,i);return Rq(this,o),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,r,i){_q(e,n,r,i,this)},t.API.autoTableSetDefaults=function(e){return yh.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){yh.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new yh(this),o=Iq(i,e,window,n,!1),s=o.head,a=o.body,l=((r=s[0])===null||r===void 0?void 0:r.map(function(u){return u.content}))||[];return{columns:l,rows:a,data:a}}}var Ux;function vLe(t,e){var n=Pq(t,e),r=kq(t,n);Rq(t,r)}try{if(typeof window<"u"&&window){var GD=window,WD=GD.jsPDF||((Ux=GD.jspdf)===null||Ux===void 0?void 0:Ux.jsPDF);WD&&yLe(WD)}}catch(t){console.error("Could not apply autoTable plugin",t)}const Lq=6048e5,wLe=864e5,Dq=6e4,Fq=36e5,KD=Symbol.for("constructDateFrom");function aa(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&KD in t?t[KD](e):t instanceof Date?new t.constructor(e):new Date(e)}function Zn(t,e){return aa(e||t,t)}function _Le(t,e,n){const r=Zn(t,n==null?void 0:n.in);return isNaN(e)?aa(t,NaN):(r.setDate(r.getDate()+e),r)}function bLe(t,e,n){return aa(t,+Zn(t)+e)}let xLe={};function Gy(){return xLe}function Uf(t,e){var a,l,u,c;const n=Gy(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=Zn(t,e==null?void 0:e.in),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function $w(t,e){return Uf(t,{...e,weekStartsOn:1})}function Uq(t,e){const n=Zn(t,e==null?void 0:e.in),r=n.getFullYear(),i=aa(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const o=$w(i),s=aa(n,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const a=$w(s);return n.getTime()>=o.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function YD(t){const e=Zn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function SLe(t,...e){const n=aa.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function Bw(t,e){const n=Zn(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function ELe(t,e,n){const[r,i]=SLe(n==null?void 0:n.in,t,e),o=Bw(r),s=Bw(i),a=+o-YD(o),l=+s-YD(s);return Math.round((a-l)/wLe)}function ALe(t,e){const n=Uq(t,e),r=aa(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),$w(r)}function TLe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function lA(t){return!(!TLe(t)&&typeof t!="number"||isNaN(+Zn(t)))}function JD(t,e){const n=Zn(t,e==null?void 0:e.in);return n.setHours(23,59,59,999),n}function ILe(t,e){const n=Zn(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function PLe(t,e){const n=Zn(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function CLe(t,e){const n=Zn(t,e==null?void 0:e.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function jq(t,e){const n=Zn(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function XD(t,e){var a,l,u,c;const n=Gy(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=Zn(t,e==null?void 0:e.in),o=i.getDay(),s=(o<r?-7:0)+6-(o-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}const NLe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},kLe=(t,e,n)=>{let r;const i=NLe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function jx(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const RLe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},OLe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},MLe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},LLe={date:jx({formats:RLe,defaultWidth:"full"}),time:jx({formats:OLe,defaultWidth:"full"}),dateTime:jx({formats:MLe,defaultWidth:"full"})},DLe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},FLe=(t,e,n,r)=>DLe[t];function bm(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):s;i=t.formattingValues[a]||t.formattingValues[s]}else{const s=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[s]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const ULe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},jLe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$Le={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},BLe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},VLe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},qLe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},zLe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},HLe={ordinalNumber:zLe,era:bm({values:ULe,defaultWidth:"wide"}),quarter:bm({values:jLe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:bm({values:$Le,defaultWidth:"wide"}),day:bm({values:BLe,defaultWidth:"wide"}),dayPeriod:bm({values:VLe,defaultWidth:"wide",formattingValues:qLe,defaultFormattingWidth:"wide"})};function xm(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const s=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?WLe(a,f=>f.test(s)):GLe(a,f=>f.test(s));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(s.length);return{value:u,rest:c}}}function GLe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function WLe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function KLe(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;const a=e.slice(i.length);return{value:s,rest:a}}}const YLe=/^(\d+)(th|st|nd|rd)?/i,JLe=/\d+/i,XLe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},QLe={any:[/^b/i,/^(a|c)/i]},ZLe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},eDe={any:[/1/i,/2/i,/3/i,/4/i]},tDe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},nDe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},rDe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},iDe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},oDe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},sDe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},aDe={ordinalNumber:KLe({matchPattern:YLe,parsePattern:JLe,valueCallback:t=>parseInt(t,10)}),era:xm({matchPatterns:XLe,defaultMatchWidth:"wide",parsePatterns:QLe,defaultParseWidth:"any"}),quarter:xm({matchPatterns:ZLe,defaultMatchWidth:"wide",parsePatterns:eDe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:xm({matchPatterns:tDe,defaultMatchWidth:"wide",parsePatterns:nDe,defaultParseWidth:"any"}),day:xm({matchPatterns:rDe,defaultMatchWidth:"wide",parsePatterns:iDe,defaultParseWidth:"any"}),dayPeriod:xm({matchPatterns:oDe,defaultMatchWidth:"any",parsePatterns:sDe,defaultParseWidth:"any"})},lDe={code:"en-US",formatDistance:kLe,formatLong:LLe,formatRelative:FLe,localize:HLe,match:aDe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function uDe(t,e){const n=Zn(t,e==null?void 0:e.in);return ELe(n,jq(n))+1}function cDe(t,e){const n=Zn(t,e==null?void 0:e.in),r=+$w(n)-+ALe(n);return Math.round(r/Lq)+1}function $q(t,e){var c,f,d,h;const n=Zn(t,e==null?void 0:e.in),r=n.getFullYear(),i=Gy(),o=(e==null?void 0:e.firstWeekContainsDate)??((f=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((h=(d=i.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,s=aa((e==null?void 0:e.in)||t,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);const a=Uf(s,e),l=aa((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const u=Uf(l,e);return+n>=+a?r+1:+n>=+u?r:r-1}function fDe(t,e){var a,l,u,c;const n=Gy(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,i=$q(t,e),o=aa((e==null?void 0:e.in)||t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),Uf(o,e)}function dDe(t,e){const n=Zn(t,e==null?void 0:e.in),r=+Uf(n,e)-+fDe(n,e);return Math.round(r/Lq)+1}function An(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const ku={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return An(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):An(n+1,2)},d(t,e){return An(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return An(t.getHours()%12||12,e.length)},H(t,e){return An(t.getHours(),e.length)},m(t,e){return An(t.getMinutes(),e.length)},s(t,e){return An(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return An(i,e.length)}},Sd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},QD={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return ku.y(t,e)},Y:function(t,e,n,r){const i=$q(t,r),o=i>0?i:1-i;if(e==="YY"){const s=o%100;return An(s,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):An(o,e.length)},R:function(t,e){const n=Uq(t);return An(n,e.length)},u:function(t,e){const n=t.getFullYear();return An(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return An(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return An(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return ku.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return An(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=dDe(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):An(i,e.length)},I:function(t,e,n){const r=cDe(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):An(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):ku.d(t,e)},D:function(t,e,n){const r=uDe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):An(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return An(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return An(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return An(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Sd.noon:r===0?i=Sd.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Sd.evening:r>=12?i=Sd.afternoon:r>=4?i=Sd.morning:i=Sd.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ku.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):ku.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):An(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):An(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ku.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ku.s(t,e)},S:function(t,e){return ku.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return e6(r);case"XXXX":case"XX":return Qc(r);case"XXXXX":case"XXX":default:return Qc(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return e6(r);case"xxxx":case"xx":return Qc(r);case"xxxxx":case"xxx":default:return Qc(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ZD(r,":");case"OOOO":default:return"GMT"+Qc(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ZD(r,":");case"zzzz":default:return"GMT"+Qc(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return An(r,e.length)},T:function(t,e,n){return An(+t,e.length)}};function ZD(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+An(o,2)}function e6(t,e){return t%60===0?(t>0?"-":"+")+An(Math.abs(t)/60,2):Qc(t,e)}function Qc(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=An(Math.trunc(r/60),2),o=An(r%60,2);return n+i+e+o}const t6=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Bq=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},hDe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return t6(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",t6(r,e)).replace("{{time}}",Bq(i,e))},pDe={p:Bq,P:hDe},mDe=/^D+$/,gDe=/^Y+$/,yDe=["D","DD","YY","YYYY"];function vDe(t){return mDe.test(t)}function wDe(t){return gDe.test(t)}function _De(t,e,n){const r=bDe(t,e,n);if(console.warn(r),yDe.includes(t))throw new RangeError(r)}function bDe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const xDe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,SDe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,EDe=/^'([^]*?)'?$/,ADe=/''/g,TDe=/[a-zA-Z]/;function no(t,e,n){var c,f,d,h;const r=Gy(),i=r.locale??lDe,o=r.firstWeekContainsDate??((f=(c=r.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??1,s=r.weekStartsOn??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,a=Zn(t,n==null?void 0:n.in);if(!lA(a))throw new RangeError("Invalid time value");let l=e.match(SDe).map(v=>{const _=v[0];if(_==="p"||_==="P"){const w=pDe[_];return w(v,i.formatLong)}return v}).join("").match(xDe).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const _=v[0];if(_==="'")return{isToken:!1,value:IDe(v)};if(QD[_])return{isToken:!0,value:v};if(_.match(TDe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:v}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const u={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return l.map(v=>{if(!v.isToken)return v.value;const _=v.value;(wDe(_)||vDe(_))&&_De(_,e,String(t));const w=QD[_[0]];return w(a,_,i.localize,u)}).join("")}function IDe(t){const e=t.match(EDe);return e?e[1].replace(ADe,"'"):t}function PDe(t,e,n){const r=+Zn(t,n==null?void 0:n.in),[i,o]=[+Zn(e.start,n==null?void 0:n.in),+Zn(e.end,n==null?void 0:n.in)].sort((s,a)=>s-a);return r>=i&&r<=o}function CDe(t,e,n){return _Le(t,-7,n)}function vo(t,e){const n=()=>aa(e==null?void 0:e.in,NaN),i=ODe(t);let o;if(i.date){const u=MDe(i.date,2);o=LDe(u.restDateString,u.year)}if(!o||isNaN(+o))return n();const s=+o;let a=0,l;if(i.time&&(a=DDe(i.time),isNaN(a)))return n();if(i.timezone){if(l=FDe(i.timezone),isNaN(l))return n()}else{const u=new Date(s+a),c=Zn(0,e==null?void 0:e.in);return c.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),c.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),c}return Zn(s+a+l,e==null?void 0:e.in)}const f0={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},NDe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,kDe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,RDe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ODe(t){const e={},n=t.split(f0.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],f0.timeZoneDelimiter.test(e.date)&&(e.date=t.split(f0.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=f0.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function MDe(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:t.slice((r[1]||r[2]).length)}}function LDe(t,e){if(e===null)return new Date(NaN);const n=t.match(NDe);if(!n)return new Date(NaN);const r=!!n[4],i=Sm(n[1]),o=Sm(n[2])-1,s=Sm(n[3]),a=Sm(n[4]),l=Sm(n[5])-1;if(r)return VDe(e,a,l)?UDe(e,a,l):new Date(NaN);{const u=new Date(0);return!$De(e,o,s)||!BDe(e,i)?new Date(NaN):(u.setUTCFullYear(e,o,Math.max(i,s)),u)}}function Sm(t){return t?parseInt(t):1}function DDe(t){const e=t.match(kDe);if(!e)return NaN;const n=$x(e[1]),r=$x(e[2]),i=$x(e[3]);return qDe(n,r,i)?n*Fq+r*Dq+i*1e3:NaN}function $x(t){return t&&parseFloat(t.replace(",","."))||0}function FDe(t){if(t==="Z")return 0;const e=t.match(RDe);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return zDe(r,i)?n*(r*Fq+i*Dq):NaN}function UDe(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,o=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}const jDe=[31,null,31,30,31,30,31,31,30,31,30,31];function Vq(t){return t%400===0||t%4===0&&t%100!==0}function $De(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(jDe[e]||(Vq(t)?29:28))}function BDe(t,e){return e>=1&&e<=(Vq(t)?366:365)}function VDe(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function qDe(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function zDe(t,e){return e>=0&&e<=59}function HDe(t,e,n){const r=Zn(t,n==null?void 0:n.in);return r.setHours(e),r}function GDe(t,e,n){const r=Zn(t,n==null?void 0:n.in);return r.setMinutes(e),r}const WDe={knowJobSafety:"Job Safety",weatherCheck:"Weather",safePassInDate:"Safe Pass",hazardAwareness:"Hazards",floorConditions:"Floors",manualHandlingCert:"Manual Handling",liftingHelp:"Lifting Help",anchorPoints:"Anchor Points",ladderFooting:"Ladder Footing",safetyCones:"Cones",communication:"Communc.",laddersCheck:"Ladders",sharpEdges:"Sharp Edges",scraperCovers:"Scraper Covers",hotSurfaces:"Hot Surfaces",chemicalCourse:"Chem. Course",chemicalAwareness:"Chem. Awareness",tidyEquipment:"Tidy Equip.",laddersStored:"Ladders Stored",highVis:"PPE: High Vis",helmet:"PPE: Helmet",goggles:"PPE: Goggles",gloves:"PPE: Gloves",mask:"PPE: Mask",earMuffs:"PPE: Ear Muffs",faceGuard:"PPE: Face Guard",harness:"PPE: Harness",boots:"PPE: Boots"},KDe={knowJobSafety:!0,weatherCheck:!0,safePassInDate:!0,hazardAwareness:!0,floorConditions:!0,manualHandlingCert:!0,liftingHelp:!0,anchorPoints:!0,ladderFooting:!0,safetyCones:!0,communication:!0,laddersCheck:!0,sharpEdges:!0,scraperCovers:!0,hotSurfaces:!0,chemicalCourse:!0,chemicalAwareness:!0,tidyEquipment:!0,laddersStored:!0,highVis:!0,helmet:!0,goggles:!0,gloves:!0,mask:!0,earMuffs:!0,faceGuard:!0,harness:!0,boots:!0},YDe=()=>{const{user:t}=nd(),[e,n]=ce.useState([]),[r,i]=ce.useState([]),[o,s]=ce.useState([]),[a,l]=ce.useState("all"),[u,c]=ce.useState("monthly"),[f,d]=ce.useState(no(CDe(new Date),"yyyy-MM-dd")),[h,v]=ce.useState(no(new Date,"yyyy-MM-dd")),[_,w]=ce.useState(!0),[b,E]=ce.useState(!1),[A,C]=ce.useState(!1),[R,F]=ce.useState([]),[k,N]=ce.useState({userId:"",date:no(new Date,"yyyy-MM-dd"),locationName:"",hours:4}),[T,j]=ce.useState(null),[P,D]=ce.useState(""),[U,z]=ce.useState(0),[ee,le]=ce.useState(!1),[ue,X]=ce.useState(null),ae=(t==null?void 0:t.role)===ln.ADMIN;ce.useEffect(()=>{if(t){const Z=ae?"all":t.id;l(Z),N(Ee=>({...Ee,userId:ae?"":t.id})),ye(Z)}},[t]);const ye=async Z=>{if(t){w(!0);try{let Ee=[];if(ae){const Y=(await Ht.getAllUsers()).filter(ke=>ke.role===ln.EMPLOYEE);s(Y),Z==="all"?Ee=await Ht.getAllRecords():Ee=await Ht.getRecordsByUser(Z)}else Ee=await Ht.getRecordsByUser(t.id),s([t]);n(Ee)}catch(Ee){console.error("Error loading report data:",Ee)}finally{w(!1)}}};ce.useEffect(()=>{t&&ae&&ye(a)},[a]),ce.useEffect(()=>{let Z=[...e];const Ee=new Date;let Ne,Y;switch(u){case"daily":Ne=Bw(Ee),Y=JD(Ee);break;case"weekly":Ne=Uf(Ee,{weekStartsOn:1}),Y=XD(Ee,{weekStartsOn:1});break;case"monthly":Ne=PLe(Ee),Y=ILe(Ee);break;case"yearly":Ne=jq(Ee),Y=CLe(Ee);break;case"custom":Ne=Bw(vo(f)),Y=JD(vo(h));break;default:Ne=Uf(Ee,{weekStartsOn:1}),Y=XD(Ee,{weekStartsOn:1})}Z=Z.filter(ke=>{if(!ke.startTime)return!1;const Ye=typeof ke.startTime=="string"?vo(ke.startTime):new Date(ke.startTime);return lA(Ye)?PDe(Ye,{start:Ne,end:Y}):!1}),i(Z)},[u,f,h,e]);const me=Z=>{if(isNaN(Z)||Z<0)return"0h 0min";const Ee=Math.floor(Z/36e5),Ne=Math.floor(Z%36e5/6e4);return`${Ee}h ${Ne}min`},B=()=>r.reduce((Z,Ee)=>{if(!Ee.endTime)return Z;const Ne=new Date(Ee.startTime).getTime(),Y=new Date(Ee.endTime).getTime(),ke=Ee.totalPausedMs||0;return Z+(Y-Ne-ke)},0),W=()=>{const Z={};return r.forEach(Ee=>{if(!Ee.endTime)return;const Ne=typeof Ee.startTime=="string"?vo(Ee.startTime):new Date(Ee.startTime);if(!lA(Ne))return;const Y=no(Ne,"dd/MM"),ke=Ne.getTime(),Ye=new Date(Ee.endTime).getTime(),Xe=Ee.totalPausedMs||0,Fe=(Ye-ke-Xe)/36e5;Z[Y]=(Z[Y]||0)+Math.max(0,Fe)}),Object.keys(Z).map(Ee=>({name:Ee,hours:Number(Z[Ee].toFixed(2)),formatted:me(Z[Ee]*36e5)}))},ne=Z=>!Z||typeof Z.lat!="number"?"N/A":`${Z.lat.toFixed(4)}, ${Z.lng.toFixed(4)}`,fe=Z=>Z?Object.entries(Z).filter(([Ee,Ne])=>Ne===!0).map(([Ee,Ne])=>WDe[Ee]||Ee):[],he=async()=>{const Z=ae?k.userId:t==null?void 0:t.id;if(!k.locationName||!Z){alert("Please select employee and location.");return}le(!0);try{const Ee=vo(k.date),Ne=HDe(GDe(Ee,0),8),Y=bLe(Ne,k.hours*36e5),ke={userId:Z,locationName:k.locationName,date:k.date,startTime:Ne.toISOString(),endTime:Y.toISOString(),safetyChecklist:{...KDe},totalPausedMs:0,isPaused:!1};await Ht.addRecord(ke),await ye(a),E(!1),N(Ye=>({...Ye,locationName:"",hours:4}))}catch{alert("Failed to add manual shift.")}finally{le(!1)}},we=async Z=>{le(!0);try{const Ee=e.find(Ye=>Ye.id===Z);if(!Ee)return;const Ne=U*36e5,Y=new Date(Ee.startTime),ke=new Date(Y.getTime()+Ne+(Ee.totalPausedMs||0));await Ht.updateRecord(Z,{locationName:P,endTime:ke.toISOString()}),await ye(a),j(null)}catch{alert("Failed to update record.")}finally{le(!1)}},Te=async()=>{if(!ue)return;const Z=[...e],Ee=ue;X(null),n(Ne=>Ne.filter(Y=>Y.id!==Ee));try{le(!0),await Ht.deleteRecord(Ee)}catch(Ne){console.error("Error deleting record:",Ne),alert("Failed to delete the record from the database. Please check your connection."),n(Z)}finally{le(!1)}},re=Z=>{j(Z.id),D(Z.locationName);const Ee=new Date(Z.startTime).getTime(),Ne=Z.endTime?new Date(Z.endTime).getTime():Date.now(),Y=Z.totalPausedMs||0;z((Ne-Ee-Y)/36e5)},pe=()=>{const Z=new mt("l","mm","a4"),Ee=o.find(Y=>Y.id===a)||t,Ne=new Image;Ne.src="logo.png",Ne.onload=()=>{Z.addImage(Ne,"PNG",14,8,25,25),Ce(Z,Ee)},Ne.onerror=()=>{Ce(Z,Ee)}},Ce=(Z,Ee)=>{Z.setFontSize(22),Z.setTextColor(0,84,139),Z.text("DOWNEY CLEANING SERVICES",42,18),Z.setFontSize(8),Z.setTextColor(255,194,14),Z.text("PROFESSIONAL HYGIENE SOLUTIONS",42,23),Z.setFontSize(10),Z.setTextColor(100),Z.text(`Official Service Report: ${(Ee==null?void 0:Ee.name)||"All Personnel"}`,42,30),Z.text(`Total Period Hours: ${me(B())}`,42,35),Z.text(`Generated: ${no(new Date,"dd/MM/yyyy HH:mm")}`,280,15,{align:"right"});const Ne=r.sort((ke,Ye)=>new Date(Ye.startTime).getTime()-new Date(ke.startTime).getTime()).map(ke=>{const Ye=new Date(ke.startTime).getTime(),Xe=ke.endTime?new Date(ke.endTime).getTime():Date.now(),Fe=ke.totalPausedMs||0,Je=me(Xe-Ye-Fe),We=fe(ke.safetyChecklist).join(", ");return[no(vo(ke.date),"dd/MM/yyyy"),ke.locationName,`${no(vo(ke.startTime),"HH:mm")} - ${ke.endTime?no(vo(ke.endTime),"HH:mm"):"Active"}`,Je,We||"None",`GPS IN: ${ne(ke.startLocation)}
GPS OUT: ${ne(ke.endLocation)}`,ke.endTime?"COMPLETED":"IN PROGRESS"]});vLe(Z,{head:[["DATE","SITE LOCATION","SHIFT TIME","DURATION","SAFETY COMPLIANCE","GPS LOGS","STATUS"]],body:Ne,startY:42,styles:{fontSize:7,cellPadding:2,font:"helvetica",overflow:"linebreak"},columnStyles:{4:{cellWidth:50},5:{cellWidth:35}},headStyles:{fillColor:[0,84,139],textColor:[255,255,255],fontStyle:"bold"},alternateRowStyles:{fillColor:[240,247,255]}});const Y=Z.lastAutoTable.finalY||50;Z.setFontSize(12),Z.setTextColor(0,84,139),Z.text(`Grand Total Worked: ${me(B())}`,14,Y+15),Z.save(`Downey_Cleaning_Report_${no(new Date,"yyyyMMdd")}.pdf`)};return _&&e.length===0?S.jsxs("div",{className:"flex flex-col items-center justify-center p-20 gap-4",children:[S.jsx(xr,{className:"animate-spin text-brand-600",size:48}),S.jsx("p",{className:"text-gray-400 font-bold uppercase text-[10px] tracking-widest",children:"Syncing Reports..."})]}):S.jsxs("div",{className:"space-y-6",children:[S.jsxs("header",{className:"flex justify-between items-center",children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx("div",{className:"bg-white p-2 rounded-xl shadow-sm hidden md:block border border-gray-100",children:S.jsx("img",{src:"logo.png",alt:"Downey Logo",className:"w-12 h-auto",onError:Z=>Z.currentTarget.style.display="none"})}),S.jsxs("div",{children:[S.jsx("h2",{className:"text-2xl font-black text-brand-600 tracking-tight",children:"Activity Reports"}),S.jsx("p",{className:"text-xs text-gray-400 font-bold uppercase tracking-widest mt-1",children:"Official staff logs and compliance evidence"})]})]}),S.jsxs("div",{className:"flex gap-2",children:[ae&&S.jsxs(cn,{onClick:()=>E(!b),variant:"outline",className:"border-brand-600 text-brand-600 hover:bg-brand-50 rounded-xl font-bold",children:[b?S.jsx(Sl,{size:18,className:"mr-2"}):S.jsx(oR,{size:18,className:"mr-2"}),b?"Cancel":"Manual Shift"]}),S.jsxs(cn,{onClick:pe,className:"shadow-lg bg-brand-600 hover:bg-brand-900 font-bold rounded-xl",children:[S.jsx(Ine,{size:18,className:"mr-2"})," Export PDF"]})]})]}),b&&ae&&S.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-brand-100 animate-fade-in space-y-4",children:[S.jsxs("div",{className:"flex items-center gap-2 border-b border-gray-100 pb-3 mb-4",children:[S.jsx(oR,{className:"text-brand-600",size:20}),S.jsx("h3",{className:"font-black text-brand-900 text-sm uppercase tracking-widest",children:"Register Manual Operational Shift"})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[S.jsxs("div",{className:"flex flex-col",children:[S.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase mb-1 tracking-widest",children:"Personnel"}),S.jsxs("div",{className:"relative",children:[S.jsx(Mh,{className:"absolute left-3 top-3 text-gray-400",size:16}),S.jsxs("select",{className:"w-full border p-2.5 pl-10 rounded-xl bg-gray-50 text-sm font-bold focus:ring-2 focus:ring-brand-500 outline-none",value:k.userId,onChange:Z=>N({...k,userId:Z.target.value}),children:[S.jsx("option",{value:"",children:"Select Staff..."}),o.map(Z=>S.jsx("option",{value:Z.id,children:Z.name},Z.id))]})]})]}),S.jsxs("div",{className:"flex flex-col",children:[S.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase mb-1 tracking-widest",children:"Shift Date"}),S.jsxs("div",{className:"relative",children:[S.jsx(Ra,{className:"absolute left-3 top-3 text-gray-400",size:16}),S.jsx("input",{type:"date",className:"w-full border p-2.5 pl-10 rounded-xl bg-gray-50 text-sm font-bold outline-none",value:k.date,onChange:Z=>N({...k,date:Z.target.value})})]})]}),S.jsxs("div",{className:"flex flex-col",children:[S.jsxs("div",{className:"flex justify-between items-center mb-1",children:[S.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Location Name"}),S.jsx("button",{onClick:()=>C(!A),className:"text-[9px] font-black text-brand-600 uppercase flex items-center gap-1",children:A?"From List":"Type Name"})]}),S.jsxs("div",{className:"relative",children:[S.jsx(_s,{className:"absolute left-3 top-3 text-gray-400",size:16}),A||R.length===0?S.jsx("input",{type:"text",placeholder:"Site name...",className:"w-full border p-2.5 pl-10 rounded-xl bg-gray-50 text-sm font-bold outline-none",value:k.locationName,onChange:Z=>N({...k,locationName:Z.target.value})}):S.jsxs("select",{className:"w-full border p-2.5 pl-10 rounded-xl bg-gray-50 text-sm font-bold outline-none",value:k.locationName,onChange:Z=>N({...k,locationName:Z.target.value}),children:[S.jsx("option",{value:"",children:"Select location..."}),R.map(Z=>S.jsx("option",{value:Z,children:Z},Z))]})]})]}),S.jsxs("div",{className:"flex flex-col",children:[S.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase mb-1 tracking-widest",children:"Hours"}),S.jsxs("div",{className:"relative flex gap-2",children:[S.jsx("input",{type:"number",step:"0.5",className:"w-full border p-2.5 rounded-xl bg-gray-50 text-sm font-bold outline-none",value:k.hours,onChange:Z=>N({...k,hours:Number(Z.target.value)})}),S.jsx(cn,{onClick:he,disabled:ee,className:"rounded-xl px-4 h-[45px]",children:ee?S.jsx(xr,{className:"animate-spin"}):S.jsx(kg,{size:18})})]})]})]})]}),S.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-gray-100 flex flex-wrap gap-4 items-end",children:[ae&&S.jsxs("div",{className:"flex flex-col min-w-[180px]",children:[S.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase mb-1 tracking-widest",children:"Employee Filter"}),S.jsxs("select",{className:"border p-2.5 rounded-xl bg-gray-50 text-sm font-bold focus:ring-2 focus:ring-brand-500 transition-all outline-none",value:a,onChange:Z=>l(Z.target.value),children:[S.jsx("option",{value:"all",children:"All Personnel"}),o.map(Z=>S.jsx("option",{value:Z.id,children:Z.name},Z.id))]})]}),S.jsxs("div",{className:"flex flex-col min-w-[150px]",children:[S.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase mb-1 tracking-widest",children:"Timeframe"}),S.jsxs("select",{className:"border p-2.5 rounded-xl bg-gray-50 text-sm font-bold focus:ring-2 focus:ring-brand-500 transition-all outline-none",value:u,onChange:Z=>c(Z.target.value),children:[S.jsx("option",{value:"daily",children:"Today"}),S.jsx("option",{value:"weekly",children:"Weekly"}),S.jsx("option",{value:"monthly",children:"Monthly"}),S.jsx("option",{value:"yearly",children:"Yearly"}),S.jsx("option",{value:"custom",children:"Custom Range"})]})]}),u==="custom"&&S.jsxs("div",{className:"flex gap-2",children:[S.jsx("input",{type:"date",className:"border p-2.5 rounded-xl text-sm font-bold bg-gray-50",value:f,onChange:Z=>d(Z.target.value)}),S.jsx("input",{type:"date",className:"border p-2.5 rounded-xl text-sm font-bold bg-gray-50",value:h,onChange:Z=>v(Z.target.value)})]}),S.jsx("div",{className:"flex-1"}),S.jsxs("div",{className:"bg-brand-accent p-6 rounded-2xl shadow-xl flex flex-col items-center justify-center min-w-[200px] border-b-4 border-yellow-600",children:[S.jsx("span",{className:"text-[10px] font-black text-brand-900 uppercase tracking-widest mb-1",children:"Period Total"}),S.jsxs("span",{className:"text-3xl font-black text-brand-900 flex items-center gap-2",children:[S.jsx(oh,{size:24})," ",me(B())]})]})]}),S.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm",children:[S.jsx("div",{className:"flex items-center justify-between mb-6",children:S.jsxs("h3",{className:"font-black text-gray-900 uppercase text-xs tracking-widest flex items-center gap-2",children:[S.jsx(Ra,{size:16,className:"text-brand-600"})," Operational Hours Trend"]})}),S.jsx("div",{className:"h-64",children:S.jsx(Ebe,{width:"100%",height:"100%",children:S.jsxs(z4e,{data:W(),children:[S.jsx(pV,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),S.jsx(E2,{dataKey:"name",tick:{fontSize:10,fill:"#94a3b8"},axisLine:!1,tickLine:!1}),S.jsx(A2,{tick:{fontSize:10,fill:"#94a3b8"},axisLine:!1,tickLine:!1}),S.jsx(ka,{cursor:{fill:"transparent"},contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"},formatter:(Z,Ee,Ne)=>[Ne.payload.formatted,"Duration"]}),S.jsx(Zf,{dataKey:"hours",fill:"#0284c7",radius:[6,6,0,0],barSize:32})]})})})]}),S.jsx("div",{className:"bg-white rounded-2xl border border-gray-100 overflow-hidden shadow-sm",children:S.jsx("div",{className:"overflow-x-auto",children:S.jsxs("table",{className:"w-full text-left text-sm",children:[S.jsx("thead",{className:"bg-gray-50 text-gray-400 font-black uppercase text-[10px] tracking-[0.2em]",children:S.jsxs("tr",{children:[S.jsx("th",{className:"p-4",children:"Date / Staff"}),S.jsx("th",{className:"p-4",children:"Location"}),S.jsx("th",{className:"p-4",children:"Duration"}),S.jsx("th",{className:"p-4",children:"Safety"}),S.jsx("th",{className:"p-4",children:"GPS Log"}),S.jsx("th",{className:"p-4",children:"Evidence"}),S.jsx("th",{className:"p-4 text-center",children:"Status"}),ae&&S.jsx("th",{className:"p-4 text-center",children:"Admin"})]})}),S.jsx("tbody",{className:"divide-y divide-gray-100",children:r.length>0?r.map(Z=>{const Ee=T===Z.id,Ne=new Date(Z.startTime).getTime(),Y=Z.endTime?new Date(Z.endTime).getTime():Date.now(),ke=Z.totalPausedMs||0,Ye=Y-Ne-ke,Xe=Object.values(Z.safetyChecklist||{}).filter(Je=>Je===!0).length,Fe=o.find(Je=>Je.id===Z.userId);return S.jsxs("tr",{className:"hover:bg-brand-50/30 transition-colors group",children:[S.jsxs("td",{className:"p-4",children:[S.jsx("div",{className:"font-bold text-gray-900",children:no(vo(Z.date),"dd/MM/yyyy")}),S.jsx("div",{className:"text-[10px] text-gray-400 font-bold uppercase mt-0.5 tracking-wider",children:(Fe==null?void 0:Fe.name)||"Personnel"})]}),S.jsx("td",{className:"p-4",children:Ee?S.jsx("input",{className:"border p-2 rounded-lg text-sm font-bold w-full",value:P,onChange:Je=>D(Je.target.value)}):S.jsx("div",{className:"font-black text-brand-600 max-w-[200px] leading-tight",children:Z.locationName})}),S.jsx("td",{className:"p-4",children:Ee?S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("input",{type:"number",step:"0.5",className:"border p-2 rounded-lg text-sm font-bold w-16",value:U,onChange:Je=>z(Number(Je.target.value))}),S.jsx("span",{className:"text-[10px] font-black",children:"h"})]}):S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"font-black text-gray-900",children:me(Ye)}),S.jsxs("div",{className:"text-[9px] text-gray-400 font-mono mt-0.5",children:[no(vo(Z.startTime),"HH:mm"),"  ",Z.endTime?no(vo(Z.endTime),"HH:mm"):"..."]})]})}),S.jsx("td",{className:"p-4",children:Xe>0?S.jsxs("div",{className:"flex items-center gap-1 bg-green-50 text-green-700 px-1.5 py-1 rounded text-[9px] font-black border border-green-100 uppercase tracking-tighter w-fit",children:[S.jsx(Zc,{size:10})," ",Xe," ITEMS"]}):S.jsx("span",{className:"text-[10px] text-gray-300 font-bold italic",children:"No data"})}),S.jsxs("td",{className:"p-4 text-[9px] text-gray-400 font-mono",children:[S.jsx("div",{className:"mb-2",children:Z.startLocation?S.jsxs("a",{href:`https://www.google.com/maps?q=${Z.startLocation.lat},${Z.startLocation.lng}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 hover:text-brand-600 transition-colors",title:"View check-in on Google Maps",children:[S.jsx(_s,{size:10,className:"text-brand-500"}),"IN: ",Z.startLocation.lat.toFixed(4),", ",Z.startLocation.lng.toFixed(4),S.jsx(cE,{size:10})]}):S.jsxs("div",{className:"flex items-center gap-1 text-gray-300",children:[S.jsx(_s,{size:10})," IN: N/A"]})}),S.jsx("div",{children:Z.endLocation?S.jsxs("a",{href:`https://www.google.com/maps?q=${Z.endLocation.lat},${Z.endLocation.lng}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 hover:text-brand-600 transition-colors",title:"View check-out on Google Maps",children:[S.jsx(_s,{size:10,className:"text-red-500"}),"OUT: ",Z.endLocation.lat.toFixed(4),", ",Z.endLocation.lng.toFixed(4),S.jsx(cE,{size:10})]}):S.jsxs("div",{className:"flex items-center gap-1 text-gray-300",children:[S.jsx(_s,{size:10})," OUT: N/A"]})})]}),S.jsx("td",{className:"p-4",children:S.jsxs("div",{className:"flex gap-1.5",children:[Z.photoUrl?S.jsx("div",{className:"w-8 h-8 rounded-lg overflow-hidden border border-gray-100 shadow-sm cursor-pointer hover:scale-110 transition-transform",children:S.jsx("img",{src:Z.photoUrl,alt:"In",className:"w-full h-full object-cover"})}):S.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-50 border border-gray-100 border-dashed flex items-center justify-center text-gray-300",children:S.jsx(One,{size:14})}),Z.endPhotoUrl&&S.jsx("div",{className:"w-8 h-8 rounded-lg overflow-hidden border border-gray-100 shadow-sm cursor-pointer hover:scale-110 transition-transform",children:S.jsx("img",{src:Z.endPhotoUrl,alt:"Out",className:"w-full h-full object-cover"})})]})}),S.jsx("td",{className:"p-4 text-center",children:S.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-wider ${Z.endTime?"bg-green-100 text-green-700":"bg-brand-accent text-brand-900 animate-pulse"}`,children:Z.endTime?"VERIFIED":"LIVE"})}),ae&&S.jsx("td",{className:"p-4",children:S.jsx("div",{className:"flex justify-center gap-3",children:Ee?S.jsxs(S.Fragment,{children:[S.jsx("button",{onClick:()=>we(Z.id),className:"text-brand-600 hover:scale-125 transition-transform",title:"Save Changes",children:S.jsx(kg,{size:18})}),S.jsx("button",{onClick:()=>j(null),className:"text-gray-400 hover:scale-125 transition-transform",title:"Cancel",children:S.jsx(Sl,{size:18})})]}):S.jsxs(S.Fragment,{children:[S.jsx("button",{onClick:()=>re(Z),className:"text-brand-500 hover:scale-125 transition-transform",title:"Edit Shift",children:S.jsx(C_,{size:18})}),S.jsx("button",{onClick:Je=>{Je.stopPropagation(),X(Z.id)},className:"text-red-500 hover:scale-125 transition-transform",title:"Delete Shift",children:S.jsx(Rg,{size:18})})]})})})]},Z.id)}):S.jsx("tr",{children:S.jsx("td",{colSpan:ae?8:7,className:"p-20 text-center text-gray-400 italic font-bold uppercase text-[10px] tracking-widest",children:"No service logs found for the selected period."})})})]})})}),ue&&S.jsx("div",{className:"fixed inset-0 bg-brand-900/80 backdrop-blur-md z-[999] flex items-center justify-center p-4",children:S.jsxs("div",{className:"bg-white max-w-sm w-full rounded-3xl p-8 shadow-2xl animate-shake border border-red-100",children:[S.jsx("div",{className:"w-16 h-16 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-6",children:S.jsx(C1,{size:32,className:"text-red-600"})}),S.jsx("h3",{className:"text-xl font-black text-brand-900 text-center uppercase tracking-tight",children:"Confirm Deletion"}),S.jsx("p",{className:"text-gray-500 text-center text-sm mt-3 font-medium",children:"Are you sure you want to permanently delete this shift record? This action cannot be undone."}),S.jsxs("div",{className:"flex gap-4 mt-8",children:[S.jsx(cn,{variant:"outline",fullWidth:!0,onClick:()=>X(null),disabled:ee,className:"rounded-2xl h-12 font-black",children:"Cancel"}),S.jsx(cn,{variant:"danger",fullWidth:!0,onClick:Te,disabled:ee,className:"rounded-2xl h-12 font-black bg-red-600 shadow-lg",children:ee?S.jsx(xr,{className:"animate-spin"}):"Delete Shift"})]})]})})]})},JDe=()=>{const{user:t,logout:e}=nd(),[n,r]=ce.useState(!1),[i,o]=ce.useState(!1),[s,a]=ce.useState(!1),[l,u]=ce.useState(""),[c,f]=ce.useState({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||"",pps:(t==null?void 0:t.pps)||""}),[d,h]=ce.useState({newPass:"",confirmPass:""});if(!t)return null;const v=async()=>{a(!0),u("");try{c.email!==t.email&&await hne(c.email),await Ht.updateUser(t.id,{name:c.name,email:c.email,phone:c.phone,pps:c.pps}),alert("Profile updated successfully!"),r(!1),window.location.reload()}catch(w){u(w.message||"Error updating profile. Email changes may require a recent login.")}finally{a(!1)}},_=async()=>{if(d.newPass!==d.confirmPass){u("Passwords do not match");return}if(d.newPass.length<6){u("Password must be at least 6 characters");return}a(!0),u("");try{await pne(d.newPass),alert("Password updated successfully!"),o(!1),h({newPass:"",confirmPass:""})}catch(w){u(w.message||"Error updating password. You might need to log in again.")}finally{a(!1)}};return S.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:S.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100",children:[S.jsxs("div",{className:"bg-brand-900 h-32 relative",children:[S.jsx("div",{className:"absolute -bottom-16 left-8",children:S.jsx("div",{className:"w-32 h-32 bg-white rounded-full p-2 shadow-lg",children:S.jsx("div",{className:"w-full h-full bg-slate-100 rounded-full flex items-center justify-center text-slate-300",children:S.jsx(Mh,{size:64})})})}),S.jsx("div",{className:"absolute bottom-4 right-8 flex gap-2",children:!n&&!i&&S.jsxs(S.Fragment,{children:[S.jsxs(cn,{size:"sm",variant:"outline",className:"bg-white/10 text-white border-white/20 hover:bg-white/20",onClick:()=>r(!0),children:[S.jsx(C_,{size:16,className:"mr-2"})," Edit Profile"]}),S.jsxs(cn,{size:"sm",variant:"outline",className:"bg-white/10 text-white border-white/20 hover:bg-white/20",onClick:()=>o(!0),children:[S.jsx(fE,{size:16,className:"mr-2"})," Security"]})]})})]}),S.jsxs("div",{className:"pt-20 pb-8 px-8",children:[S.jsx("div",{className:"flex justify-between items-start",children:S.jsxs("div",{children:[S.jsx("h1",{className:"text-3xl font-black text-gray-900 tracking-tight",children:t.name}),S.jsx("p",{className:"text-brand-600 font-bold mt-1 uppercase text-xs tracking-widest",children:t.role===ln.ADMIN?"System Administrator":"Cleaning Professional"})]})}),l&&S.jsx("div",{className:"mt-4 p-3 bg-red-50 text-red-600 rounded-lg text-xs font-bold border border-red-100",children:l}),n?S.jsxs("div",{className:"mt-8 space-y-4 animate-fade-in",children:[S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[S.jsx(jr,{label:"Full Name",value:c.name,onChange:w=>f({...c,name:w.target.value})}),S.jsx(jr,{label:"Email Address",value:c.email,onChange:w=>f({...c,email:w.target.value})}),S.jsx(jr,{label:"Phone Number",value:c.phone,onChange:w=>f({...c,phone:w.target.value})}),S.jsx(jr,{label:"PPS Number",value:c.pps,onChange:w=>f({...c,pps:w.target.value})})]}),S.jsxs("div",{className:"flex gap-3 pt-4",children:[S.jsx(cn,{variant:"outline",fullWidth:!0,onClick:()=>r(!1),children:"Cancel"}),S.jsx(cn,{fullWidth:!0,onClick:v,disabled:s,children:s?S.jsx(xr,{className:"animate-spin"}):S.jsxs(S.Fragment,{children:[S.jsx(kg,{size:18,className:"mr-2"})," Save Changes"]})})]})]}):i?S.jsxs("div",{className:"mt-8 space-y-4 animate-fade-in",children:[S.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2 mb-2",children:[S.jsx(fE,{size:18,className:"text-brand-600"})," Change Password"]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[S.jsx(jr,{label:"New Password",type:"password",placeholder:"At least 6 chars",value:d.newPass,onChange:w=>h({...d,newPass:w.target.value})}),S.jsx(jr,{label:"Confirm New Password",type:"password",value:d.confirmPass,onChange:w=>h({...d,confirmPass:w.target.value})})]}),S.jsxs("div",{className:"flex gap-3 pt-4",children:[S.jsx(cn,{variant:"outline",fullWidth:!0,onClick:()=>o(!1),children:"Cancel"}),S.jsx(cn,{fullWidth:!0,onClick:_,disabled:s,children:s?S.jsx(xr,{className:"animate-spin"}):"Update Password"})]})]}):S.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-6 animate-fade-in",children:[S.jsxs("div",{className:"flex items-center space-x-4 p-5 bg-gray-50 rounded-xl border border-gray-100",children:[S.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm text-brand-600",children:S.jsx(rI,{size:20})}),S.jsxs("div",{children:[S.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-black tracking-widest",children:"Official Email"}),S.jsx("p",{className:"font-bold text-gray-800",children:t.email})]})]}),S.jsxs("div",{className:"flex items-center space-x-4 p-5 bg-gray-50 rounded-xl border border-gray-100",children:[S.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm text-brand-600",children:S.jsx(zne,{size:20})}),S.jsxs("div",{children:[S.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-black tracking-widest",children:"Contact Number"}),S.jsx("p",{className:"font-bold text-gray-800",children:t.phone||"Not set"})]})]}),S.jsxs("div",{className:"flex items-center space-x-4 p-5 bg-gray-50 rounded-xl border border-gray-100",children:[S.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm text-brand-600",children:S.jsx(Tne,{size:20})}),S.jsxs("div",{children:[S.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-black tracking-widest",children:"PPS Number"}),S.jsx("p",{className:"font-bold text-gray-800",children:t.pps||"Information pending"})]})]}),S.jsxs("div",{className:"flex items-center space-x-4 p-5 bg-gray-50 rounded-xl border border-gray-100",children:[S.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm text-brand-600",children:S.jsx(uj,{size:20})}),S.jsxs("div",{children:[S.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-black tracking-widest",children:"Account ID"}),S.jsx("p",{className:"font-mono text-xs font-bold text-gray-400 truncate w-40",children:t.id})]})]})]}),!n&&!i&&S.jsx("div",{className:"mt-8 border-t border-gray-100 pt-8 flex justify-center",children:S.jsx(cn,{variant:"danger",onClick:e,className:"w-full max-w-xs h-12 text-lg font-bold shadow-md",children:"Secure Logout"})})]})]})})},XDe=()=>{const[t,e]=ce.useState([]),[n,r]=ce.useState(""),[i,o]=ce.useState(!0),[s,a]=ce.useState(!1),[l,u]=ce.useState(null),[c,f]=ce.useState(null),[d,h]=ce.useState({name:"",email:"",password:"",phone:"",pps:"",role:ln.EMPLOYEE}),[v,_]=ce.useState(""),[w,b]=ce.useState(!1);ce.useEffect(()=>{E()},[]);const E=async()=>{o(!0);try{const T=await Ht.getAllUsers();e(T)}catch(T){console.error(T)}finally{o(!1)}},A=()=>{u(null),f(null),h({name:"",email:"",password:"",phone:"",pps:"",role:ln.EMPLOYEE}),_(""),a(!0)},C=T=>{u(T),f(null),h({name:T.name,email:T.email,password:"",phone:T.phone||"",pps:T.pps||"",role:T.role}),_(""),a(!0)},R=async T=>{T.preventDefault(),b(!0),_("");try{if(l)await Ht.updateUser(l.id,{name:d.name,email:d.email,phone:d.phone,pps:d.pps,role:d.role}),alert("User updated successfully in the database."),a(!1),E();else{const j=await dne(d.email,d.password);await Ht.syncUser(j,{name:d.name,phone:d.phone,pps:d.pps,role:d.role}),alert("User created successfully!"),a(!1),E()}}catch(j){_(j.message||"Error processing request")}finally{b(!1)}},F=async T=>{b(!0);try{await mne(T),f(T),setTimeout(()=>f(null),5e3)}catch(j){alert("Error sending reset email: "+j.message)}finally{b(!1)}},k=async T=>{if(window.confirm(`Are you sure you want to delete ${T.name}? This action cannot be undone.`))try{await Ht.deleteUser(T.id),alert("User removed from database."),E()}catch(j){console.error(j),alert("Failed to delete user.")}},N=t.filter(T=>T.name.toLowerCase().includes(n.toLowerCase())||T.email.toLowerCase().includes(n.toLowerCase())||T.id.toLowerCase().includes(n.toLowerCase()));return S.jsxs("div",{className:"space-y-6",children:[S.jsxs("header",{className:"flex justify-between items-center",children:[S.jsxs("div",{children:[S.jsxs("h2",{className:"text-2xl font-black text-gray-800 flex items-center gap-2",children:[S.jsx(sh,{className:"text-brand-600"}),"Personnel Management"]}),S.jsx("p",{className:"text-sm text-gray-500",children:"Full control over employee records"})]}),S.jsxs(cn,{onClick:A,children:[S.jsx(Qne,{size:18,className:"mr-2"})," New Employee"]})]}),s&&S.jsx("div",{className:"fixed inset-0 bg-brand-900/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:S.jsxs("div",{className:"bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden animate-fade-in",children:[S.jsxs("div",{className:"bg-brand-900 p-6 flex justify-between items-center",children:[S.jsx("h3",{className:"text-white font-bold text-lg",children:l?`Edit Professional: ${l.name}`:"Add New Professional"}),S.jsx("button",{onClick:()=>a(!1),className:"text-white/60 hover:text-white",children:S.jsx(Sl,{size:24})})]}),S.jsxs("form",{onSubmit:R,className:"p-6 space-y-4",children:[S.jsx(jr,{label:"Full Name",required:!0,value:d.name,onChange:T=>h({...d,name:T.target.value})}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsx(jr,{label:"Email",type:"email",required:!0,value:d.email,onChange:T=>h({...d,email:T.target.value})}),l?S.jsxs("div",{className:"flex flex-col",children:[S.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase mb-1",children:"Security / Password"}),c===d.email?S.jsxs("div",{className:"p-3 bg-green-50 rounded-xl border border-green-200 text-[10px] text-green-700 font-bold flex items-center gap-2",children:[S.jsx(nR,{size:16})," Link sent to ",d.email,"!"]}):S.jsxs("button",{type:"button",onClick:()=>F(d.email),disabled:w,className:"flex items-center justify-center gap-2 p-3 bg-brand-50 hover:bg-brand-100 text-brand-700 rounded-xl border border-brand-200 text-xs font-bold transition-all disabled:opacity-50",children:[w?S.jsx(xr,{size:16,className:"animate-spin"}):S.jsx(iR,{size:16}),"Send Password Reset Link"]})]}):S.jsx(jr,{label:"Initial Password",type:"password",required:!0,value:d.password,onChange:T=>h({...d,password:T.target.value}),placeholder:"Enter password"})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsx(jr,{label:"Phone",value:d.phone,onChange:T=>h({...d,phone:T.target.value})}),S.jsx(jr,{label:"PPS Number",value:d.pps,onChange:T=>h({...d,pps:T.target.value})})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"User Role"}),S.jsxs("select",{className:"w-full border p-2 rounded-md bg-white text-sm font-medium",value:d.role,onChange:T=>h({...d,role:T.target.value}),children:[S.jsx("option",{value:ln.EMPLOYEE,children:"Cleaning Professional"}),S.jsx("option",{value:ln.ADMIN,children:"Administrator"})]})]}),v&&S.jsx("p",{className:"text-red-500 text-xs font-bold bg-red-50 p-2 rounded",children:v}),S.jsxs("div",{className:"pt-4 flex gap-3",children:[S.jsx(cn,{variant:"outline",fullWidth:!0,onClick:()=>a(!1),children:"Cancel"}),S.jsx(cn,{type:"submit",fullWidth:!0,disabled:w,children:w?S.jsx(xr,{className:"animate-spin"}):l?"Save Changes":"Confirm Registration"})]})]})]})}),S.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm flex items-center gap-3",children:[S.jsx(iI,{className:"text-gray-400",size:20}),S.jsx("input",{type:"text",placeholder:"Search by name, email or Account ID...",className:"bg-transparent border-none focus:ring-0 text-sm w-full font-medium",value:n,onChange:T=>r(T.target.value)})]}),S.jsx("div",{className:"bg-white rounded-xl border border-gray-100 overflow-hidden shadow-sm",children:S.jsx("div",{className:"overflow-x-auto",children:S.jsxs("table",{className:"w-full text-left text-sm",children:[S.jsx("thead",{className:"bg-gray-50 text-gray-400 font-bold uppercase text-[10px] tracking-widest",children:S.jsxs("tr",{children:[S.jsx("th",{className:"p-4",children:"Employee"}),S.jsx("th",{className:"p-4",children:"Account ID"}),S.jsx("th",{className:"p-4",children:"Role"}),S.jsx("th",{className:"p-4 text-center",children:"Actions"})]})}),S.jsxs("tbody",{className:"divide-y divide-gray-100",children:[i?S.jsx("tr",{children:S.jsx("td",{colSpan:4,className:"p-10 text-center",children:S.jsx(xr,{className:"animate-spin mx-auto text-brand-600"})})}):N.map(T=>S.jsxs("tr",{className:"hover:bg-brand-50/20 transition-colors group",children:[S.jsx("td",{className:"p-4",children:S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"w-10 h-10 bg-brand-100 rounded-full flex items-center justify-center text-brand-600 font-bold shrink-0",children:T.name.charAt(0)}),S.jsxs("div",{className:"min-w-0",children:[S.jsx("div",{className:"font-bold text-gray-900 truncate",children:T.name}),S.jsxs("div",{className:"text-[10px] text-gray-400 flex items-center gap-1",children:[S.jsx(rI,{size:10})," ",T.email]})]})]})}),S.jsx("td",{className:"p-4 font-mono text-[10px] font-bold text-gray-400",children:T.id}),S.jsx("td",{className:"p-4",children:S.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-md text-[10px] font-bold uppercase ${T.role===ln.ADMIN?"bg-purple-50 text-purple-700 border border-purple-100":"bg-brand-50 text-brand-700 border border-brand-100"}`,children:[S.jsx(uj,{size:10})," ",T.role]})}),S.jsx("td",{className:"p-4",children:S.jsxs("div",{className:"flex justify-center gap-2",children:[S.jsx("button",{onClick:()=>F(T.email),className:`p-2 rounded-lg transition-all ${c===T.email?"text-green-600 bg-green-50":"text-orange-500 hover:bg-orange-50"}`,title:"Send Password Reset Link",disabled:w,children:c===T.email?S.jsx(nR,{size:16}):S.jsx(iR,{size:16})}),S.jsx("button",{onClick:()=>C(T),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit Record",children:S.jsx(Yne,{size:16})}),S.jsx("button",{onClick:()=>k(T),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete User",children:S.jsx(Rg,{size:16})})]})})]},T.id)),!i&&N.length===0&&S.jsx("tr",{children:S.jsx("td",{colSpan:4,className:"p-10 text-center text-gray-400 italic",children:"No users found."})})]})]})})})]})},QDe=()=>{const[t,e]=ce.useState([]),[n,r]=ce.useState(!0),[i,o]=ce.useState(!1),[s,a]=ce.useState({activeCount:0,totalToday:0}),l=ce.useRef(null),u=ce.useRef(null),c=ce.useRef([]),f=async()=>{try{const[v,_]=await Promise.all([Ht.getAllRecords(),Ht.getAllUsers()]),w=v.filter(E=>!E.endTime).map(E=>({...E,user:_.find(A=>A.id===E.userId)})),b=v.filter(E=>E.date===new Date().toISOString().split("T")[0]);e(w),a({activeCount:w.length,totalToday:b.length})}catch(v){console.error("Error loading dashboard data:",v)}finally{r(!1)}},d=v=>{if(!l.current||!i)return;c.current.forEach(b=>b.remove()),c.current=[];const _=L.latLngBounds([]);let w=!1;v.forEach(b=>{var A,C;const E=b.startLocation;if(E&&E.lat&&E.lng){w=!0;const R=[E.lat,E.lng],F=L.divIcon({className:"custom-div-icon",html:`
            <div class="flex flex-col items-center group">
              <div class="relative">
                <div class="bg-brand-600 p-2 rounded-full shadow-2xl border-2 border-white transform transition-all duration-300 scale-100 group-hover:scale-125 z-10 relative">
                  <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>
                </div>
                <div class="absolute -bottom-1 left-1/2 -translate-x-1/2 w-4 h-4 bg-brand-600 rotate-45 border-r-2 border-b-2 border-white shadow-lg"></div>
              </div>
              <div class="mt-3 bg-white px-3 py-1 rounded-full text-[10px] font-black border border-gray-100 shadow-2xl whitespace-nowrap text-brand-900 ring-2 ring-brand-100">
                ${((A=b.user)==null?void 0:A.name.split(" ")[0])||"Unit"}
              </div>
            </div>
          `,iconSize:[45,65],iconAnchor:[22.5,55]}),k=L.marker(R,{icon:F}).addTo(l.current).bindPopup(`
            <div class="font-sans p-1 min-w-[150px]">
              <p class="font-black text-brand-900 text-sm mb-1">${(C=b.user)==null?void 0:C.name}</p>
              <div class="flex items-center gap-1 text-[10px] text-gray-500 font-bold mb-2">
                 <svg width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>
                 ${b.locationName}
              </div>
              <div class="bg-brand-50 p-2 rounded-lg text-[9px] font-black text-brand-600 uppercase">
                Checked-in at ${no(vo(b.startTime),"HH:mm")}
              </div>
            </div>
          `);c.current.push(k),_.extend(R)}}),w&&l.current&&l.current.fitBounds(_,{padding:[80,80],maxZoom:16})};ce.useEffect(()=>{let v;const _=()=>{if(u.current&&!l.current&&typeof L<"u")try{l.current=L.map(u.current,{zoomControl:!1,scrollWheelZoom:!0,fadeAnimation:!0}).setView([-23.5505,-46.6333],12),L.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Downey Cleaning",maxZoom:19}).addTo(l.current),L.control.zoom({position:"topright"}).addTo(l.current),setTimeout(()=>{l.current&&(l.current.invalidateSize(),o(!0),clearInterval(v))},500)}catch(E){console.error("Error initializing map:",E)}};v=window.setInterval(()=>{typeof L<"u"&&_()},300),f();const w=setInterval(f,3e4),b=()=>{l.current&&l.current.invalidateSize()};return window.addEventListener("resize",b),()=>{clearInterval(v),clearInterval(w),window.removeEventListener("resize",b)}},[]),ce.useEffect(()=>{i&&l.current&&d(t)},[i,t]);const h=()=>{if(l.current&&c.current.length>0){const v=L.latLngBounds(c.current.map(_=>_.getLatLng()));l.current.fitBounds(v,{padding:[60,60]})}};return n&&t.length===0?S.jsxs("div",{className:"flex flex-col items-center justify-center p-20 space-y-4 text-center",children:[S.jsx(xr,{className:"animate-spin text-brand-600",size:48}),S.jsx("p",{className:"text-gray-500 font-black uppercase text-[10px] tracking-[0.2em]",children:"Connecting to Operations Center..."})]}):S.jsxs("div",{className:"space-y-6",children:[S.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[S.jsxs("div",{children:[S.jsx("h1",{className:"text-3xl font-black text-brand-900 tracking-tight",children:"Live Operations"}),S.jsx("p",{className:"text-xs text-brand-600 font-bold uppercase tracking-widest mt-1",children:"Global Team Status"})]}),S.jsxs("div",{className:"flex gap-4",children:[S.jsxs("div",{className:"bg-white px-6 py-3 rounded-2xl border border-gray-100 shadow-sm flex items-center gap-4",children:[S.jsx("div",{className:"bg-green-100 p-2 rounded-xl text-green-600",children:S.jsx(aE,{size:20})}),S.jsxs("div",{children:[S.jsx("p",{className:"text-2xl font-black text-gray-900 leading-none",children:s.activeCount}),S.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mt-1",children:"Online Now"})]})]}),S.jsxs("div",{className:"bg-white px-6 py-3 rounded-2xl border border-gray-100 shadow-sm flex items-center gap-4",children:[S.jsx("div",{className:"bg-brand-100 p-2 rounded-xl text-brand-600",children:S.jsx(Ra,{size:20})}),S.jsxs("div",{children:[S.jsx("p",{className:"text-2xl font-black text-gray-900 leading-none",children:s.totalToday}),S.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mt-1",children:"Jobs Today"})]})]}),S.jsx("button",{onClick:f,className:"bg-white p-3 rounded-2xl border border-gray-100 shadow-sm text-gray-400 hover:text-brand-600 hover:border-brand-100 transition-all active:scale-95",title:"Refresh Data",children:S.jsx(lj,{size:20,className:n?"animate-spin":""})})]})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[S.jsx("div",{className:"lg:col-span-2 space-y-4",children:S.jsxs("div",{className:"bg-white rounded-3xl p-1 shadow-2xl overflow-hidden relative h-[580px] border-[4px] border-white ring-1 ring-gray-100",children:[S.jsx("div",{ref:u,id:"dashboard-map",className:"z-0 w-full h-full bg-slate-100",style:{position:"relative",height:"100%",width:"100%"}}),!i&&S.jsxs("div",{className:"absolute inset-0 z-[2000] bg-white flex flex-col items-center justify-center text-center",children:[S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"w-16 h-16 border-4 border-brand-100 border-t-brand-600 rounded-full animate-spin"}),S.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:S.jsx(_s,{className:"text-brand-600",size:24})})]}),S.jsx("p",{className:"text-xs font-black text-gray-500 uppercase mt-4 tracking-widest",children:"Syncing GPS Satellites..."})]}),i&&S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"absolute top-4 left-4 z-[1000] flex flex-col gap-2",children:S.jsxs("button",{onClick:h,className:"bg-white p-3 rounded-2xl shadow-xl border border-gray-100 text-brand-600 hover:bg-brand-50 transition-colors flex items-center gap-2 font-black text-[10px] uppercase tracking-wider",children:[S.jsx(Dne,{size:18})," Center All"]})}),S.jsx("div",{className:"absolute top-4 right-16 z-[1000] pointer-events-none",children:S.jsxs("div",{className:"bg-white/90 backdrop-blur px-3 py-1.5 rounded-full text-[9px] font-black uppercase border border-gray-100 shadow-lg flex items-center gap-2",children:[S.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"}),"Real-time Monitoring"]})})]}),t.length===0&&i&&S.jsx("div",{className:"absolute inset-0 z-[1001] bg-gray-50/40 backdrop-blur-[2px] flex flex-col items-center justify-center pointer-events-none",children:S.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-2xl border border-gray-100 flex flex-col items-center text-center",children:[S.jsx(Vne,{size:48,className:"text-gray-300 mb-4"}),S.jsx("p",{className:"text-gray-900 font-black text-sm uppercase tracking-widest",children:"No units in field"}),S.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Awaiting employee check-ins."})]})})]})}),S.jsxs("div",{className:"space-y-4 flex flex-col h-[580px]",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("h3",{className:"font-black text-gray-900 uppercase text-xs tracking-widest",children:"Team Status"}),S.jsx("span",{className:"bg-brand-50 text-brand-600 px-2 py-1 rounded-md text-[9px] font-black uppercase",children:"Live"})]}),S.jsxs("div",{className:"flex-1 space-y-3 overflow-y-auto no-scrollbar pr-1 pb-10",children:[t.map(v=>{var _,w;return S.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-gray-100 group hover:shadow-md transition-all relative overflow-hidden cursor-pointer",onClick:()=>{var b;l.current&&v.startLocation&&(l.current.setView([v.startLocation.lat,v.startLocation.lng],18),(b=c.current.find(E=>{var A;return E.getLatLng().lat===((A=v.startLocation)==null?void 0:A.lat)}))==null||b.openPopup())},children:[S.jsx("div",{className:"absolute top-0 right-0 w-1 h-full bg-brand-500"}),S.jsxs("div",{className:"flex items-start gap-4",children:[S.jsx("div",{className:"w-12 h-12 bg-brand-50 rounded-2xl flex items-center justify-center text-brand-600 font-black text-lg border border-brand-100 group-hover:bg-brand-600 group-hover:text-white transition-colors",children:(_=v.user)==null?void 0:_.name.charAt(0)}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsxs("div",{className:"flex justify-between items-start",children:[S.jsx("h4",{className:"font-black text-gray-900 truncate leading-tight",children:(w=v.user)==null?void 0:w.name}),S.jsxs("span",{className:"text-[9px] font-black text-green-500 uppercase flex items-center gap-1 shrink-0",children:[S.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"})," Active"]})]}),S.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[S.jsx(_s,{size:12,className:"text-brand-500 shrink-0"}),S.jsx("span",{className:"text-xs font-bold text-gray-500 truncate",children:v.locationName})]}),!v.startLocation&&S.jsxs("div",{className:"flex items-center gap-1 mt-2 text-[9px] font-bold text-orange-500 uppercase bg-orange-50 px-2 py-1 rounded w-fit",children:[S.jsx(aj,{size:10})," GPS location unavailable"]}),S.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-gray-50",children:[S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx(oh,{size:12,className:"text-gray-400"}),S.jsxs("span",{className:"text-[9px] font-black text-gray-400 uppercase",children:["Started: ",no(vo(v.startTime),"HH:mm")]})]}),v.startLocation&&S.jsxs("a",{href:`https://www.google.com/maps?q=${v.startLocation.lat},${v.startLocation.lng}`,target:"_blank",rel:"noopener noreferrer",onClick:b=>b.stopPropagation(),className:"text-[9px] font-black text-brand-600 uppercase flex items-center gap-1 hover:underline bg-brand-50 px-2 py-1 rounded-lg",children:[S.jsx(cE,{size:10})," Google Maps"]})]})]})]})]},v.id)}),t.length===0&&S.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center bg-white rounded-3xl border-2 border-dashed border-gray-100 p-8 text-center",children:[S.jsx("div",{className:"bg-gray-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:S.jsx(sh,{size:24,className:"text-gray-300"})}),S.jsx("p",{className:"text-sm font-bold text-gray-400 italic",children:"No staff members currently active."})]})]})]})]})]})},ZDe=()=>{const{user:t}=nd(),[e,n]=ce.useState([]),[r,i]=ce.useState([]),[o,s]=ce.useState(!0),[a,l]=ce.useState(!1),[u,c]=ce.useState("received"),[f,d]=ce.useState(null),[h,v]=ce.useState(!1),[_,w]=ce.useState(""),[b,E]=ce.useState(!1),A=ce.useRef(null),[C,R]=ce.useState({recipientId:"all",recipientName:"All Staff (Broadcast)",title:"",message:""}),F=(t==null?void 0:t.role)===ln.ADMIN,k=async(z=!0)=>{if(t){z&&s(!0);try{if(u==="received"){const ee=await Ht.getNotificationsForUser(t.id);n(ee)}else{const ee=await Ht.getSentNotifications(t.id);n(ee)}}catch(ee){console.error("Error loading notifications data:",ee)}finally{z&&s(!1)}}};ce.useEffect(()=>{k(),F&&N();const z=()=>k(!1);return window.addEventListener("downey:notifications-updated",z),()=>{window.removeEventListener("downey:notifications-updated",z)}},[t,u]),ce.useEffect(()=>{const z=ee=>{A.current&&!A.current.contains(ee.target)&&E(!1)};return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[]);const N=async()=>{try{const ee=(await Ht.getAllUsers()).filter(le=>le.id&&le.id!==(t==null?void 0:t.id));i(ee)}catch(z){console.error("Error loading users for notification:",z)}},T=async z=>{if(z.preventDefault(),!!t){if(!C.title.trim()||!C.message.trim()){alert("Please enter both a subject and a message.");return}l(!0);try{const ee={senderId:t.id,senderName:t.name,recipientId:C.recipientId,title:C.title.trim(),message:C.message.trim(),createdAt:new Date().toISOString(),readBy:[]};await Ht.sendNotification(ee),R({recipientId:"all",recipientName:"All Staff (Broadcast)",title:"",message:""}),w(""),l(!1),alert("Notification dispatched successfully!"),u==="sent"?k():c("sent")}catch(ee){console.error("HandleSend: Error captured in component:",ee),l(!1),alert(ee.message||"Failed to send notification.")}}},j=async z=>{if(!t||u==="sent")return;const ee=e.find(ue=>ue.id===z),le=Array.isArray(ee==null?void 0:ee.readBy)?ee.readBy:[];if(ee&&!le.includes(t.id))try{n(ue=>ue.map(X=>X.id===z?{...X,readBy:[...le,t.id]}:X)),await Ht.markNotificationAsRead(z,t.id)}catch(ue){console.error("Error marking as read:",ue),k(!1)}},P=async()=>{if(f){v(!0);try{await Ht.deleteNotification(f),n(z=>z.filter(ee=>ee.id!==f)),d(null)}catch(z){console.error("Error deleting notification:",z),alert(`Failed to delete: ${z.message||"Permission Denied"}`)}finally{v(!1)}}},D=(z,ee)=>{R(le=>({...le,recipientId:z,recipientName:ee})),E(!1),w("")},U=r.filter(z=>{const ee=_.toLowerCase();return(z.name||"").toLowerCase().includes(ee)||(z.email||"").toLowerCase().includes(ee)});return S.jsxs("div",{className:"space-y-6 pb-12",children:[S.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[S.jsxs("div",{children:[S.jsxs("h2",{className:"text-2xl font-black text-brand-900 tracking-tight flex items-center gap-3",children:[S.jsx(lE,{className:"text-brand-600"})," Notifications Center"]}),S.jsx("p",{className:"text-xs text-brand-600 font-bold uppercase tracking-widest mt-1",children:"Official Communications"})]}),F&&S.jsxs("div",{className:"flex bg-white p-1 rounded-xl shadow-sm border border-gray-100",children:[S.jsx("button",{onClick:()=>c("received"),className:`px-4 py-2 rounded-lg text-[10px] font-black uppercase transition-all ${u==="received"?"bg-brand-600 text-white shadow-md":"text-gray-400 hover:text-brand-600"}`,children:"Inbox"}),S.jsx("button",{onClick:()=>c("sent"),className:`px-4 py-2 rounded-lg text-[10px] font-black uppercase transition-all ${u==="sent"?"bg-brand-600 text-white shadow-md":"text-gray-400 hover:text-brand-600"}`,children:"Sent Log"})]})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[F&&S.jsx("div",{className:"lg:col-span-1",children:S.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-xl border border-brand-100 sticky top-8 overflow-visible",children:[S.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-brand-600 opacity-20"}),S.jsxs("div",{className:"flex items-center justify-between mb-6 border-b pb-4",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx($ne,{size:20,className:"text-brand-600"}),S.jsx("h3",{className:"font-black text-brand-900 uppercase text-xs tracking-widest",children:"Send Message"})]}),S.jsx("button",{type:"button",onClick:N,className:"text-brand-600 hover:rotate-180 transition-transform duration-500",children:S.jsx(lj,{size:14})})]}),S.jsxs("form",{onSubmit:T,className:"space-y-4",children:[S.jsxs("div",{className:"space-y-1 relative",ref:A,children:[S.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block",children:"Recipient Selection"}),S.jsxs("div",{className:`
                      w-full border p-3 rounded-xl flex items-center justify-between cursor-pointer transition-all
                      ${C.recipientId==="all"?"bg-brand-50 border-brand-200":"bg-indigo-50 border-indigo-200"}
                    `,onClick:()=>E(!b),children:[S.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[C.recipientId==="all"?S.jsx(sh,{size:16,className:"text-brand-600"}):S.jsx(Mh,{size:16,className:"text-indigo-600"}),S.jsx("span",{className:`text-sm font-bold truncate ${C.recipientId==="all"?"text-brand-900":"text-indigo-900"}`,children:C.recipientName})]}),S.jsx(Cne,{size:14,className:"text-gray-400"})]}),b&&S.jsxs("div",{className:"absolute top-full left-0 w-full bg-white mt-2 rounded-2xl shadow-2xl border border-gray-100 z-[100] overflow-hidden animate-fade-in ring-4 ring-brand-500/5",children:[S.jsx("div",{className:"p-3 border-b bg-gray-50/50",children:S.jsxs("div",{className:"relative",children:[S.jsx(iI,{className:"absolute left-3 top-2.5 text-gray-400",size:16}),S.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search...",className:"w-full bg-white border border-gray-200 rounded-lg pl-9 pr-8 py-2 text-xs font-bold outline-none",value:_,onChange:z=>w(z.target.value)})]})}),S.jsxs("div",{className:"max-h-60 overflow-y-auto p-1 no-scrollbar",children:[S.jsx("button",{type:"button",className:"w-full text-left p-3 rounded-xl hover:bg-brand-50 flex items-center justify-between group transition-colors",onClick:()=>D("all","All Staff (Broadcast)"),children:S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(sh,{size:16,className:"text-brand-600"}),S.jsx("span",{className:"text-xs font-black uppercase text-brand-900",children:" All Staff"})]})}),U.map(z=>S.jsx("button",{type:"button",className:"w-full text-left p-3 rounded-xl hover:bg-gray-50 flex items-center justify-between transition-colors",onClick:()=>D(z.id,z.name),children:S.jsxs("div",{className:"flex flex-col min-w-0",children:[S.jsx("span",{className:"text-xs font-bold truncate text-gray-900",children:z.name}),S.jsx("span",{className:"text-[9px] text-gray-400 font-medium truncate",children:z.email})]})},z.id))]})]})]}),S.jsx(jr,{label:"Subject Line",value:C.title,onChange:z=>R({...C,title:z.target.value}),required:!0}),S.jsxs("div",{className:"space-y-1",children:[S.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block",children:"Message Content"}),S.jsx("textarea",{className:"w-full border-gray-200 border p-3 rounded-xl bg-gray-50 text-sm font-medium outline-none min-h-[140px] transition-all",value:C.message,onChange:z=>R({...C,message:z.target.value}),required:!0})]}),S.jsx(cn,{type:"submit",fullWidth:!0,disabled:a,className:"h-14 font-black shadow-lg rounded-2xl",children:a?S.jsx(xr,{className:"animate-spin"}):S.jsxs(S.Fragment,{children:[S.jsx(Wne,{size:18,className:"mr-2"})," Dispatch Alert"]})})]})]})}),S.jsxs("div",{className:`${F?"lg:col-span-2":"col-span-full"} space-y-4`,children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsx("h3",{className:"font-black text-gray-400 uppercase text-[10px] tracking-widest",children:u==="received"?"Inbox":"Sent Communications"}),S.jsxs("span",{className:"bg-brand-50 text-brand-600 px-3 py-1 rounded-full text-[9px] font-black uppercase",children:[e.length," Messages"]})]}),S.jsxs("div",{className:"space-y-4",children:[e.map(z=>{const le=(Array.isArray(z.readBy)?z.readBy:[]).includes((t==null?void 0:t.id)||""),ue=z.recipientId==="all",X=z.senderId===(t==null?void 0:t.id),ae=!le&&u==="received";return S.jsxs("div",{className:`
                    group relative bg-white p-6 rounded-3xl shadow-sm border transition-all
                    ${le||u==="sent"?"border-gray-100 opacity-90":"border-brand-300 ring-2 ring-brand-100/50 shadow-md animate-pulse-soft"}
                    hover:shadow-lg cursor-pointer
                  `,onClick:()=>j(z.id),children:[(F||X)&&S.jsx("button",{onClick:ye=>{ye.stopPropagation(),d(z.id)},className:"absolute top-6 right-6 text-gray-300 hover:text-red-500 transition-colors p-2 z-10",children:S.jsx(Rg,{size:16})}),ae&&S.jsxs("div",{className:"absolute top-6 right-16 flex items-center gap-2",children:[S.jsx("span",{className:"bg-brand-600 text-white text-[8px] font-black px-2 py-0.5 rounded-full uppercase",children:"Unread"}),S.jsxs("div",{className:"relative flex h-2 w-2",children:[S.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-brand-400 opacity-75"}),S.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-brand-600"})]})]}),S.jsxs("div",{className:"flex items-start gap-5",children:[S.jsxs("div",{className:"relative shrink-0",children:[S.jsx("div",{className:`
                        w-12 h-12 rounded-2xl flex items-center justify-center transition-colors
                        ${ae?"bg-brand-600 text-white":ue?"bg-brand-100 text-brand-600":"bg-indigo-100 text-indigo-600"}
                      `,children:ue?S.jsx(sh,{size:24}):S.jsx(Mh,{size:24})}),ae&&S.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-brand-500 border-2 border-white rounded-full"})]}),S.jsxs("div",{className:"flex-1 min-w-0 pr-10",children:[S.jsx("h4",{className:`font-black text-lg tracking-tight mb-1 ${ae?"text-brand-900":"text-gray-700"}`,children:z.title}),S.jsx("p",{className:`text-sm leading-relaxed mb-4 whitespace-pre-wrap ${ae?"text-brand-800 font-bold":"text-gray-500 font-medium"}`,children:z.message}),S.jsxs("div",{className:"flex flex-wrap items-center gap-4 border-t border-gray-50 pt-4",children:[S.jsxs("div",{className:"flex items-center gap-1.5 text-[9px] font-black text-gray-400 uppercase tracking-wider",children:[S.jsx(oh,{size:12})," ",no(vo(z.createdAt),"dd MMM, HH:mm")]}),S.jsxs("div",{className:"flex items-center gap-1.5 text-[9px] font-black text-gray-400 uppercase tracking-wider",children:[S.jsx(rI,{size:12}),u==="received"?`Sender: ${z.senderName}`:`Target: ${z.recipientId==="all"?"All Staff":"Specific Employee"}`]})]})]}),ae&&S.jsx("div",{className:"self-center text-brand-600 animate-bounce-horizontal",children:S.jsx(Ene,{size:20})})]})]},z.id)}),e.length===0&&!o&&S.jsxs("div",{className:"bg-white py-24 rounded-3xl border-2 border-dashed border-gray-100 flex flex-col items-center justify-center text-center px-6",children:[S.jsx("div",{className:"bg-gray-50 w-20 h-20 rounded-full flex items-center justify-center mb-4 shadow-inner",children:S.jsx(lE,{size:40,className:"text-gray-200"})}),S.jsx("h4",{className:"font-black text-gray-900 uppercase tracking-[0.2em] text-sm",children:"No notifications"}),S.jsx("p",{className:"text-gray-400 text-xs mt-2 italic max-w-xs",children:"You have no official alerts at this moment."})]})]})]})]}),f&&S.jsx("div",{className:"fixed inset-0 bg-brand-900/80 backdrop-blur-md z-[999] flex items-center justify-center p-4",children:S.jsxs("div",{className:"bg-white max-w-sm w-full rounded-3xl p-8 shadow-2xl animate-shake border border-red-100",children:[S.jsx("div",{className:"w-16 h-16 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-6",children:S.jsx(C1,{size:32,className:"text-red-600"})}),S.jsx("h3",{className:"text-xl font-black text-brand-900 text-center uppercase tracking-tight",children:"Confirm Deletion"}),S.jsx("p",{className:"text-gray-500 text-center text-sm mt-3 font-medium",children:"This action is permanent. Are you sure you want to delete this notification record?"}),S.jsxs("div",{className:"flex gap-4 mt-8",children:[S.jsx(cn,{variant:"outline",fullWidth:!0,onClick:()=>d(null),disabled:h,className:"rounded-2xl h-12 font-black",children:"Cancel"}),S.jsx(cn,{variant:"danger",fullWidth:!0,onClick:P,disabled:h,className:"rounded-2xl h-12 font-black bg-red-600 shadow-lg shadow-red-200",children:h?S.jsx(xr,{className:"animate-spin"}):"Delete Now"})]})]})})]})},qq=ce.createContext(null),nd=()=>ce.useContext(qq),qc=({children:t,allowedRoles:e})=>{const{isAuthenticated:n,user:r,isLoading:i}=nd(),o=Sy();return i?S.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:S.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-600"})}):n?e&&r&&!e.includes(r.role)?S.jsx(LS,{to:"/",replace:!0}):S.jsx(Zne,{children:t}):S.jsx(LS,{to:"/login",state:{from:o},replace:!0})},e6e=()=>{const[t,e]=ce.useState(null),[n,r]=ce.useState(!0);if(!Ka)return S.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-8 bg-gray-50 text-center",children:S.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-lg w-full border border-red-100",children:[S.jsx("div",{className:"mx-auto bg-red-100 w-16 h-16 rounded-full flex items-center justify-center mb-4",children:S.jsx(Kne,{className:"text-red-600 w-8 h-8"})}),S.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Pending Configuration"}),S.jsx("p",{className:"text-gray-600 mb-6",children:"The application could not find the Firebase API keys."})]})});ce.useEffect(()=>{const o=Jee(Ka,async s=>{if(r(!0),s)try{const a=await Ht.syncUser(s);e(a)}catch(a){console.error("Failed to sync user",a),e(null)}else e(null);r(!1)});return()=>o()},[]);const i=async()=>{await gne(),e(null)};return S.jsx(qq.Provider,{value:{user:t,logout:i,isAuthenticated:!!t,isLoading:n},children:S.jsx(XW,{children:S.jsxs(KW,{children:[S.jsx(Ia,{path:"/login",element:S.jsx(ere,{})}),S.jsx(Ia,{path:"/",element:S.jsx(qc,{children:(t==null?void 0:t.role)===ln.ADMIN?S.jsx(QDe,{}):S.jsx($4,{})})}),S.jsx(Ia,{path:"/agenda",element:S.jsx(qc,{children:S.jsx($4,{})})}),S.jsx(Ia,{path:"/check-in",element:S.jsx(qc,{allowedRoles:[ln.EMPLOYEE],children:S.jsx(hce,{})})}),S.jsx(Ia,{path:"/reports",element:S.jsx(qc,{children:S.jsx(YDe,{})})}),S.jsx(Ia,{path:"/notifications",element:S.jsx(qc,{children:S.jsx(ZDe,{})})}),S.jsx(Ia,{path:"/users",element:S.jsx(qc,{allowedRoles:[ln.ADMIN],children:S.jsx(XDe,{})})}),S.jsx(Ia,{path:"/profile",element:S.jsx(qc,{children:S.jsx(JDe,{})})}),S.jsx(Ia,{path:"*",element:S.jsx(LS,{to:"/",replace:!0})})]})})})},zq=document.getElementById("root");if(!zq)throw new Error("Could not find root element to mount to");const t6e=Bx.createRoot(zq);t6e.render(S.jsx(xe.StrictMode,{children:S.jsx(e6e,{})}));export{Tn as _,fv as c,Un as g};
